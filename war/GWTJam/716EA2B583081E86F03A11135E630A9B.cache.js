var $wnd = $wnd || window.parent;
var __gwtModuleFunction = $wnd.GWTJam;
var $sendStats = __gwtModuleFunction.__sendStats;
$sendStats('moduleStartup', 'moduleEvalStart');
var $gwt_version = "2.7.0";
var $strongName = '716EA2B583081E86F03A11135E630A9B';
var $gwt = {};
var $doc = $wnd.document;
var $moduleName, $moduleBase;
function __gwtStartLoadingFragment(frag) {
var fragFile = 'deferredjs/' + $strongName + '/' + frag + '.cache.js';
return __gwtModuleFunction.__startLoadingFragment(fragFile);
}
function __gwtInstallCode(code) {return __gwtModuleFunction.__installRunAsyncCode(code);}
function __gwt_isKnownPropertyValue(propName, propValue) {
return __gwtModuleFunction.__gwt_isKnownPropertyValue(propName, propValue);
}
function __gwt_getMetaProperty(name) {
return __gwtModuleFunction.__gwt_getMetaProperty(name);
}
var $stats = $wnd.__gwtStatsEvent ? function(a) {
return $wnd.__gwtStatsEvent && $wnd.__gwtStatsEvent(a);
} : null;
var $sessionId = $wnd.__gwtStatsSessionId ? $wnd.__gwtStatsSessionId : null;
var $intern_0 = 2147483647, $intern_1 = {3:1, 4:1}, $intern_2 = 1482, $intern_3 = {25:1}, $intern_4 = {25:1, 38:1}, $intern_5 = {3:1, 18:1, 25:1, 38:1, 68:1}, $intern_6 = {3:1, 40:1}, $intern_7 = {3:1, 37:1, 40:1}, $intern_8 = {278:1}, $intern_9 = {323:1}, $intern_10 = 1000, $intern_11 = {3:1, 4:1, 139:1}, $intern_12 = {20:1, 16:1, 19:1, 17:1, 13:1, 15:1, 7:1}, $intern_13 = {20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1}, $intern_14 = {20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1}, $intern_15 = {140:1, 6:1}, $intern_16 = {122:1, 6:1}, $intern_17 = {22:1, 6:1}, $intern_18 = {45:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1}, $intern_19 = {60:1, 45:1, 319:1, 320:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1}, $intern_20 = 0.017453292519943295, $intern_21 = {181:1, 97:1}, $intern_22 = {20:1, 16:1, 19:1, 17:1, 27:1, 67:1, 13:1, 15:1, 7:1}, $intern_23 = {85:1, 6:1}, $intern_24 = {132:1, 6:1}, $intern_25 = {96:1, 6:1}, $intern_26 = {129:1, 6:1}, $intern_27 = {130:1, 6:1}, $intern_28 = {131:1, 6:1}, $intern_29 = {219:1, 6:1}, $intern_30 = {220:1, 6:1}, $intern_31 = 65535, $intern_32 = 1048576, $intern_33 = 4194304, $intern_34 = 2048, $intern_35 = {20:1, 16:1, 19:1, 95:1, 17:1, 27:1, 13:1, 53:1, 29:1, 15:1, 7:1}, $intern_36 = 5000, $intern_37 = {85:1, 132:1, 96:1, 130:1, 131:1, 129:1, 20:1, 6:1, 16:1, 19:1, 95:1, 17:1, 27:1, 13:1, 53:1, 29:1, 15:1, 7:1}, $intern_38 = {1455:1, 6:1}, $intern_39 = {1458:1, 6:1}, $intern_40 = {321:1, 6:1}, $intern_41 = {60:1, 45:1, 20:1, 16:1, 19:1, 17:1, 13:1, 15:1, 7:1}, $intern_42 = 1489, $intern_43 = {20:1, 16:1, 19:1, 17:1, 158:1, 13:1, 15:1, 7:1}, $intern_44 = {322:1, 6:1}, $intern_45 = {361:1, 6:1}, $intern_46 = 1.4285714285714286, $intern_47 = {60:1, 45:1, 20:1, 16:1, 19:1, 17:1, 13:1, 5:1, 15:1, 7:1}, $intern_48 = {20:1, 16:1, 19:1, 17:1, 27:1, 67:1, 13:1, 15:1, 28:1, 7:1}, $intern_49 = 6.283185307179586, $intern_50 = -1.5707963267948966, $intern_51 = {13:1}, $intern_52 = {20:1, 16:1, 19:1, 76:1, 17:1, 27:1, 67:1, 13:1, 15:1, 7:1}, $intern_53 = {3:1}, $intern_54 = {58:1, 86:1}, $intern_55 = {179:1, 3:1, 4:1}, $intern_56 = {50:1}, $intern_57 = {86:1, 176:1, 3:1, 21:1, 9:1}, $intern_58 = {47:1}, $intern_59 = {3:1, 47:1}, $intern_60 = {25:1, 41:1}, $intern_61 = {31:1}, $intern_62 = {195:1, 50:1}, $intern_63 = {195:1, 50:1, 221:1}, $intern_64 = {365:1, 3:1}, $intern_65 = {25:1, 38:1, 68:1}, $intern_66 = {50:1, 221:1}, $intern_67 = {3:1, 25:1}, $intern_68 = {3:1, 25:1, 41:1}, $intern_69 = {3:1, 25:1, 38:1, 68:1}, $intern_70 = {422:1, 3:1}, $intern_71 = {419:1, 231:1, 3:1, 21:1, 9:1}, $intern_72 = -2147483648, $intern_73 = 3.141592653589793, $intern_74 = {3:1, 4:1, 1449:1}, $intern_75 = {148:1, 36:1, 3:1, 21:1, 9:1}, $intern_76 = {56:1, 36:1, 3:1, 21:1, 9:1}, $intern_77 = {168:1, 36:1, 3:1, 21:1, 9:1}, $intern_78 = {36:1, 93:1, 3:1, 21:1, 9:1}, $intern_79 = {36:1, 169:1, 3:1, 21:1, 9:1}, $intern_80 = {36:1, 170:1, 3:1, 21:1, 9:1}, $intern_81 = {36:1, 171:1, 3:1, 21:1, 9:1}, $intern_82 = {92:1, 3:1, 21:1, 9:1}, $intern_83 = {36:1, 226:1, 3:1, 21:1, 9:1}, $intern_84 = {36:1, 149:1, 3:1, 21:1, 9:1}, $intern_85 = 1478, $intern_86 = 1510, $intern_87 = 1024, $intern_88 = {256:1, 3:1, 37:1, 40:1}, $intern_89 = {84:1, 3:1, 37:1, 40:1}, $intern_90 = 4194303, $intern_91 = 1048575, $intern_92 = 524288, $intern_93 = 17592186044416, $intern_94 = -9223372036854775808, $intern_95 = {3:1, 4:1, 521:1}, $intern_96 = {362:1, 3:1}, $intern_97 = {6:1, 414:1}, $intern_98 = {517:1, 6:1}, $intern_99 = {6:1, 162:1}, $intern_100 = 4096, $intern_101 = 32768, $intern_102 = 65536, $intern_103 = 131072, $intern_104 = 262144, $intern_105 = 2097152, $intern_106 = 16777216, $intern_107 = 33554432, $intern_108 = 67108864, $intern_109 = {20:1, 16:1, 19:1, 261:1, 17:1, 27:1, 67:1, 13:1, 15:1, 7:1}, $intern_110 = {20:1, 16:1, 19:1, 518:1, 17:1, 158:1, 13:1, 359:1, 15:1, 7:1}, $intern_111 = {20:1, 16:1, 19:1, 17:1, 27:1, 158:1, 13:1, 359:1, 520:1, 15:1, 7:1}, $intern_112 = {60:1, 45:1, 20:1, 16:1, 19:1, 42:1, 17:1, 13:1, 5:1, 15:1, 7:1}, $intern_113 = {60:1, 45:1, 20:1, 16:1, 19:1, 17:1, 43:1, 13:1, 15:1, 7:1}, $intern_114 = {208:1, 6:1}, $intern_115 = {20:1, 16:1, 19:1, 76:1, 17:1, 27:1, 67:1, 13:1, 287:1, 15:1, 7:1}, $intern_116 = {252:1, 6:1}, $intern_117 = {172:1, 3:1, 21:1, 9:1}, $intern_118 = {64:1, 71:1}, $intern_119 = {164:1}, $intern_120 = {3:1, 32:1, 47:1}, $intern_121 = {1450:1, 3:1, 4:1}, $intern_122 = {3:1, 25:1, 30:1, 41:1}, $intern_123 = {85:1, 132:1, 96:1, 130:1, 131:1, 129:1, 20:1, 6:1, 16:1, 19:1, 95:1, 17:1, 27:1, 13:1, 53:1, 29:1, 15:1, 7:1, 192:1, 64:1, 71:1, 65:1}, $intern_124 = {20:1, 16:1, 19:1, 17:1, 27:1, 67:1, 13:1, 15:1, 28:1, 7:1, 64:1, 71:1}, $intern_125 = {13:1, 64:1, 71:1}, $intern_126 = {20:1, 16:1, 19:1, 17:1, 158:1, 13:1, 15:1, 7:1, 88:1}, $intern_127 = {51:1, 3:1, 4:1}, $intern_128 = {20:1, 16:1, 19:1, 95:1, 17:1, 27:1, 13:1, 53:1, 29:1, 15:1, 7:1, 64:1}, $intern_129 = {20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1, 64:1, 71:1}, $intern_130 = {6:1, 522:1}, $intern_131 = {3:1, 37:1, 59:1, 40:1}, $intern_132 = {3:1, 25:1, 38:1}, $intern_133 = 1495, $intern_134 = 268435455, $intern_135 = -16777216, $intern_136 = {133:1}, $intern_137 = {277:1}, $intern_138 = {133:1, 253:1}, $intern_139 = {253:1, 276:1}, $intern_140 = {48:1, 107:1}, $intern_141 = {107:1, 187:1};
var _, initFnList_0, prototypesByTypeId_0 = {}, permutationId = -1;
function typeMarkerFn(){
}

function portableObjCreate(obj){
  function F(){
  }

  ;
  F.prototype = obj || {};
  return new F;
}

function modernizeBrowser(){
  !Array.isArray && (Array.isArray = function(vArg){
    return Object.prototype.toString.call(vArg) === '[object Array]';
  }
  );
}

function maybeGetClassLiteralFromPlaceHolder_0(entry){
  return entry instanceof Array?entry[0]:null;
}

function emptyMethod(){
}

function defineClass(typeId, superTypeId, castableTypeMap){
  var prototypesByTypeId = prototypesByTypeId_0;
  var createSubclassPrototype = createSubclassPrototype_0;
  var maybeGetClassLiteralFromPlaceHolder = maybeGetClassLiteralFromPlaceHolder_0;
  var prototype_0 = prototypesByTypeId[typeId];
  var clazz = maybeGetClassLiteralFromPlaceHolder(prototype_0);
  if (prototype_0 && !clazz) {
    _ = prototype_0;
  }
   else {
    _ = prototypesByTypeId[typeId] = !superTypeId?{}:createSubclassPrototype(superTypeId);
    _.castableTypeMap$ = castableTypeMap;
    _.constructor = _;
    !superTypeId && (_.typeMarker$ = typeMarkerFn);
  }
  for (var i = 3; i < arguments.length; ++i) {
    arguments[i].prototype = _;
  }
  clazz && (_.___clazz$ = clazz);
}

function createSubclassPrototype_0(superTypeId){
  var prototypesByTypeId = prototypesByTypeId_0;
  return portableObjCreate(prototypesByTypeId[superTypeId]);
}

function setGwtProperty(propertyName, propertyValue){
  typeof window === 'object' && typeof window['$gwt'] === 'object' && (window['$gwt'][propertyName] = propertyValue);
}

function registerEntry(){
  return entry_0;
}

function gwtOnLoad_0(errFn, modName, modBase, softPermutationId){
  ensureModuleInit();
  var initFnList = initFnList_0;
  $moduleName = modName;
  $moduleBase = modBase;
  permutationId = softPermutationId;
  function initializeModules(){
    for (var i = 0; i < initFnList.length; i++) {
      initFnList[i]();
    }
  }

  if (errFn) {
    try {
      $entry(initializeModules)();
    }
     catch (e) {
      errFn(modName, e);
    }
  }
   else {
    $entry(initializeModules)();
  }
}

function ensureModuleInit(){
  initFnList_0 == null && (initFnList_0 = []);
}

function addInitFunctions(){
  ensureModuleInit();
  var initFnList = initFnList_0;
  for (var i = 0; i < arguments.length; i++) {
    initFnList.push(arguments[i]);
  }
}

function $toString(this$static){
  return $getName(getClass__Ljava_lang_Class___devirtual$(this$static)) + '@' + toUnsignedRadixString(hashCode__I__devirtual$(this$static), 16);
}

function Object_0(){
}

function equals_Ljava_lang_Object__Z__devirtual$(this$static, other){
  return isJavaString(this$static)?$equals_5(this$static, other):hasJavaObjectVirtualDispatch(this$static)?this$static.equals$(other):isJavaArray(this$static)?this$static === other:this$static === other;
}

function getClass__Ljava_lang_Class___devirtual$(this$static){
  return isJavaString(this$static)?Ljava_lang_String_2_classLit:hasJavaObjectVirtualDispatch(this$static)?this$static.___clazz$:isJavaArray(this$static)?this$static.___clazz$:Lcom_google_gwt_core_client_JavaScriptObject_2_classLit;
}

function hashCode__I__devirtual$(this$static){
  return isJavaString(this$static)?getHashCode_1(this$static):hasJavaObjectVirtualDispatch(this$static)?this$static.hashCode$():isJavaArray(this$static)?getHashCode(this$static):getHashCode(this$static);
}

function toString__Ljava_lang_String___devirtual$(this$static){
  return isJavaString(this$static)?this$static:hasJavaObjectVirtualDispatch(this$static)?this$static.toString$():isJavaArray(this$static)?$toString(this$static):this$static.toString?this$static.toString():'[JavaScriptObject]';
}

defineClass(1, null, {}, Object_0);
_.equals$ = function equals_0(other){
  return this === other;
}
;
_.getClass$ = function getClass_0(){
  return this.___clazz$;
}
;
_.hashCode$ = function hashCode_0(){
  return getHashCode(this);
}
;
_.toString$ = function toString_0(){
  return $toString(this);
}
;
_.toString = function(){
  return this.toString$();
}
;
stringCastMap = {3:1, 415:1, 21:1, 2:1};
modernizeBrowser();
function canCast(src_0, dstId){
  return isJavaString(src_0) && !!stringCastMap[dstId] || src_0.castableTypeMap$ && !!src_0.castableTypeMap$[dstId];
}

function charToString(x_0){
  return String.fromCharCode(x_0);
}

function dynamicCast(src_0, dstId){
  if (src_0 != null && !canCast(src_0, dstId)) {
    throw new ClassCastException;
  }
  return src_0;
}

function dynamicCastJso(src_0){
  if (src_0 != null && !(!isJavaString(src_0) && !hasTypeMarker(src_0))) {
    throw new ClassCastException;
  }
  return src_0;
}

function dynamicCastToString(src_0){
  if (src_0 != null && !isJavaString(src_0)) {
    throw new ClassCastException;
  }
  return src_0;
}

function hasJavaObjectVirtualDispatch(src_0){
  return !instanceofArray(src_0) && hasTypeMarker(src_0);
}

function instanceOf(src_0, dstId){
  return src_0 != null && canCast(src_0, dstId);
}

function instanceOfJso(src_0){
  return src_0 != null && !isJavaString(src_0) && !hasTypeMarker(src_0);
}

function instanceofArray(src_0){
  return Array.isArray(src_0);
}

function isJavaArray(src_0){
  return instanceofArray(src_0) && hasTypeMarker(src_0);
}

function isJavaString(src_0){
  return typeof src_0 === 'string';
}

function maskUndefined(src_0){
  return src_0 == null?null:src_0;
}

function narrow_byte(x_0){
  return x_0 << 24 >> 24;
}

function narrow_short(x_0){
  return x_0 << 16 >> 16;
}

function round_int(x_0){
  return ~~Math.max(Math.min(x_0, $intern_0), -2147483648);
}

function throwClassCastExceptionUnlessNull(o){
  if (o != null) {
    throw new ClassCastException;
  }
  return null;
}

var stringCastMap;
function $ensureNamesAreInitialized(this$static){
  if (this$static.typeName != null) {
    return;
  }
  initializeNames(this$static);
}

function $getName(this$static){
  $ensureNamesAreInitialized(this$static);
  return this$static.typeName;
}

function Class(){
  ++nextSequentialId;
  this.typeName = null;
  this.simpleName = null;
  this.packageName = null;
  this.compoundName = null;
  this.canonicalName = null;
  this.typeId = null;
  this.arrayLiterals = null;
}

function createClassObject(packageName, compoundClassName){
  var clazz;
  clazz = new Class;
  clazz.packageName = packageName;
  clazz.compoundName = compoundClassName;
  return clazz;
}

function createForClass(packageName, compoundClassName, typeId, superclass){
  var clazz;
  clazz = createClassObject(packageName, compoundClassName);
  maybeSetClassLiteral(typeId, clazz);
  clazz.superclass = superclass;
  return clazz;
}

function createForEnum(packageName, compoundClassName, typeId, superclass, enumConstantsFunc, enumValueOfFunc){
  var clazz;
  clazz = createClassObject(packageName, compoundClassName);
  maybeSetClassLiteral(typeId, clazz);
  clazz.modifiers = enumConstantsFunc?8:0;
  clazz.superclass = superclass;
  clazz.enumValueOfFunc = enumValueOfFunc;
  return clazz;
}

function createForInterface(packageName, compoundClassName){
  var clazz;
  clazz = createClassObject(packageName, compoundClassName);
  clazz.modifiers = 2;
  return clazz;
}

function createForPrimitive(className, primitiveTypeId){
  var clazz;
  clazz = createClassObject('', className);
  clazz.typeId = primitiveTypeId;
  clazz.modifiers = 1;
  return clazz;
}

function getClassLiteralForArray_0(leafClass, dimensions){
  var arrayLiterals = leafClass.arrayLiterals = leafClass.arrayLiterals || [];
  return arrayLiterals[dimensions] || (arrayLiterals[dimensions] = leafClass.createClassLiteralForArray(dimensions));
}

function getPrototypeForClass(clazz){
  if (clazz.isPrimitive()) {
    return null;
  }
  var typeId = clazz.typeId;
  var prototype_0 = prototypesByTypeId_0[typeId];
  return prototype_0;
}

function initializeNames(clazz){
  if (clazz.isArray_0()) {
    var componentType = clazz.componentType;
    componentType.isPrimitive()?(clazz.typeName = '[' + componentType.typeId):!componentType.isArray_0()?(clazz.typeName = '[L' + componentType.getName() + ';'):(clazz.typeName = '[' + componentType.getName());
    clazz.canonicalName = componentType.getCanonicalName() + '[]';
    clazz.simpleName = componentType.getSimpleName() + '[]';
    return;
  }
  var packageName = clazz.packageName;
  var compoundName = clazz.compoundName;
  compoundName = compoundName.split('/');
  clazz.typeName = join_0('.', [packageName, join_0('$', compoundName)]);
  clazz.canonicalName = join_0('.', [packageName, join_0('.', compoundName)]);
  clazz.simpleName = compoundName[compoundName.length - 1];
}

function join_0(separator, strings){
  var i = 0;
  while (!strings[i] || strings[i] == '') {
    i++;
  }
  var result = strings[i++];
  for (; i < strings.length; i++) {
    if (!strings[i] || strings[i] == '') {
      continue;
    }
    result += separator + strings[i];
  }
  return result;
}

function maybeSetClassLiteral(typeId, clazz){
  var proto;
  if (!typeId) {
    return;
  }
  clazz.typeId = typeId;
  var prototype_0 = getPrototypeForClass(clazz);
  if (!prototype_0) {
    prototypesByTypeId_0[typeId] = [clazz];
    return;
  }
  prototype_0.___clazz$ = clazz;
}

defineClass(423, 1, {}, Class);
_.createClassLiteralForArray = function createClassLiteralForArray(dimensions){
  var clazz;
  clazz = new Class;
  clazz.modifiers = 4;
  clazz.superclass = Ljava_lang_Object_2_classLit;
  dimensions > 1?(clazz.componentType = getClassLiteralForArray_0(this, dimensions - 1)):(clazz.componentType = this);
  return clazz;
}
;
_.getCanonicalName = function getCanonicalName(){
  $ensureNamesAreInitialized(this);
  return this.canonicalName;
}
;
_.getName = function getName(){
  return $getName(this);
}
;
_.getSimpleName = function getSimpleName_0(){
  $ensureNamesAreInitialized(this);
  return this.simpleName;
}
;
_.isArray_0 = function isArray(){
  return (this.modifiers & 4) != 0;
}
;
_.isPrimitive = function isPrimitive(){
  return (this.modifiers & 1) != 0;
}
;
_.toString$ = function toString_77(){
  return ((this.modifiers & 2) != 0?'interface ':(this.modifiers & 1) != 0?'':'class ') + ($ensureNamesAreInitialized(this) , this.typeName);
}
;
_.modifiers = 0;
var nextSequentialId = 1;
var Ljava_lang_Object_2_classLit = createForClass('java.lang', 'Object', 1, null), Lcom_google_gwt_core_client_JavaScriptObject_2_classLit = createForClass('com.google.gwt.core.client', 'JavaScriptObject$', 0, Ljava_lang_Object_2_classLit), Ljava_lang_Class_2_classLit = createForClass('java.lang', 'Class', 423, Ljava_lang_Object_2_classLit);
function $addDragHandler(this$static, handler){
  !this$static.dragHandlers && (this$static.dragHandlers = new DragHandlerCollection);
  $add_0(this$static.dragHandlers, handler);
}

function $clearSelection(this$static){
  var iterator, widget;
  for (iterator = new AbstractList$IteratorImpl(this$static.context.selectedWidgets); iterator.i < iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(iterator.i < iterator.this$01_0.size_1()) , dynamicCast(iterator.this$01_0.get_0(iterator.last = iterator.i++), 7));
    setStyleName(widget.getStyleElement(), 'dragdrop-selected', false);
    $remove_23(iterator);
  }
}

function $dragEnd(this$static){
  $removeStyleName(this$static.context.draggable, 'dragdrop-dragging');
  if (this$static.dragHandlers) {
    $fireDragEnd(this$static.dragHandlers, this$static.dragEndEvent);
    this$static.dragEndEvent = null;
  }
}

function $dragStart(this$static){
  $resetCache(this$static.dropControllerCollection, this$static.boundaryPanel, this$static.context);
  if (this$static.dragHandlers) {
    $fireDragStart(this$static.dragHandlers, this$static.dragStartEvent);
    this$static.dragStartEvent = null;
  }
  $addStyleName(this$static.context.draggable, 'dragdrop-dragging');
}

function $makeDraggable(this$static, draggable){
  $makeDraggable_0(this$static.mouseDragHandler, draggable, draggable);
  setStyleName(draggable.getStyleElement(), 'dragdrop-draggable', true);
  setStyleName(draggable.getStyleElement(), 'dragdrop-handle', true);
  this$static.dragHandles.put(draggable, draggable);
}

function $makeNotDraggable(this$static, draggable){
  var dragHandle;
  dragHandle = dynamicCast(this$static.dragHandles.remove_3(draggable), 7);
  $makeNotDraggable_0(this$static.mouseDragHandler, dragHandle);
  setStyleName(draggable.getStyleElement(), 'dragdrop-draggable', false);
  setStyleName(dragHandle.getStyleElement(), 'dragdrop-handle', false);
}

function $previewDragEnd(this$static){
  if (this$static.dragHandlers) {
    this$static.dragEndEvent = new DragEndEvent(this$static.context);
    $firePreviewDragEnd(this$static.dragHandlers);
  }
}

function $previewDragStart(this$static){
  var ex;
  if (this$static.dragHandlers) {
    this$static.dragStartEvent = new DragStartEvent(this$static.context);
    try {
      $firePreviewDragStart(this$static.dragHandlers);
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 273)) {
        ex = $e0;
        this$static.dragStartEvent = null;
        throw ex;
      }
       else 
        throw unwrap($e0);
    }
  }
}

function $setBehaviorMultipleSelection(this$static){
  var iterator, widget;
  this$static.multipleSelectionAllowed = false;
  for (iterator = new AbstractList$IteratorImpl(this$static.context.selectedWidgets); iterator.i < iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(iterator.i < iterator.this$01_0.size_1()) , dynamicCast(iterator.this$01_0.get_0(iterator.last = iterator.i++), 7));
    setStyleName(widget.getStyleElement(), 'dragdrop-selected', false);
    $remove_23(iterator);
  }
}

function $toggleSelection(this$static, draggable){
  if ($remove_0(this$static.context.selectedWidgets, draggable)) {
    setStyleName(draggable.getStyleElement(), 'dragdrop-selected', false);
  }
   else if (this$static.multipleSelectionAllowed) {
    this$static.context.selectedWidgets.add_0(draggable);
    setStyleName(draggable.getStyleElement(), 'dragdrop-selected', true);
  }
   else {
    this$static.context.selectedWidgets.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
    this$static.context.selectedWidgets.add_0(draggable);
  }
}

defineClass(1041, 1, {});
_.cancelDocumentSelections = true;
_.constrainedToBoundaryPanel = false;
_.dragStartSensitivityPixels = 0;
_.multipleSelectionAllowed = false;
_.scrollIntoView = true;
var Lcom_allen_1sauer_gwt_dnd_client_AbstractDragController_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'AbstractDragController', 1041, Ljava_lang_Object_2_classLit);
function $dragEndCleanup(this$static){
  this$static.dropController = null;
  this$static.draggable = null;
}

function $dragStartCleanup(this$static){
  this$static.finalDropController = null;
  this$static.vetoException = null;
}

function DragContext(dragController){
  this.selectedWidgets = new ArrayList;
  this.dragController = dragController;
  this.boundaryPanel = dragController.boundaryPanel;
}

defineClass(1115, 1, {}, DragContext);
_.desiredDraggableX = 0;
_.desiredDraggableY = 0;
_.mouseX = 0;
_.mouseY = 0;
var Lcom_allen_1sauer_gwt_dnd_client_DragContext_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'DragContext', 1115, Ljava_lang_Object_2_classLit);
function EventObject(source){
  this.source = source;
}

defineClass(315, 1, {});
var Ljava_util_EventObject_2_classLit = createForClass('java.util', 'EventObject', 315, Ljava_lang_Object_2_classLit);
function DragEvent_0(context){
  EventObject.call(this, context.draggable);
  this.context = context;
}

defineClass(508, 315, {});
var Lcom_allen_1sauer_gwt_dnd_client_DragEvent_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'DragEvent', 508, Ljava_util_EventObject_2_classLit);
function DragEndEvent(context){
  DragEvent_0.call(this, context);
}

defineClass(1408, 508, {}, DragEndEvent);
_.toString$ = function toString_1(){
  var dropTargetText;
  this.context.finalDropController?(dropTargetText = 'dropTarget=' + getShortTypeName(this.context.finalDropController.getDropTarget())):(dropTargetText = '[cancelled]');
  return 'DragEndEvent(' + dropTargetText + ', source=' + getShortTypeName(this.source) + ')';
}
;
var Lcom_allen_1sauer_gwt_dnd_client_DragEndEvent_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'DragEndEvent', 1408, Lcom_allen_1sauer_gwt_dnd_client_DragEvent_2_classLit);
function $addAll(this$static, c){
  var changed, e, e$iterator;
  checkNotNull_1(c);
  changed = false;
  for (e$iterator = c.iterator(); e$iterator.hasNext();) {
    e = e$iterator.next_0();
    changed = changed | this$static.add_0(e);
  }
  return changed;
}

function $advanceToFind(this$static, o, remove){
  var e, iter;
  for (iter = this$static.iterator(); iter.hasNext();) {
    e = iter.next_0();
    if (maskUndefined(o) === maskUndefined(e) || o != null && equals_Ljava_lang_Object__Z__devirtual$(o, e)) {
      remove && iter.remove_2();
      return true;
    }
  }
  return false;
}

function $containsAll(this$static, c){
  var e, e$iterator;
  checkNotNull_1(c);
  for (e$iterator = c.iterator(); e$iterator.hasNext();) {
    e = e$iterator.next_0();
    if (!this$static.contains_0(e)) {
      return false;
    }
  }
  return true;
}

function $removeAll(this$static, c){
  var changed, iter, o;
  checkNotNull_1(c);
  changed = false;
  for (iter = new AbstractList$IteratorImpl(this$static); iter.i < iter.this$01_0.size_1();) {
    o = (checkCriticalElement(iter.i < iter.this$01_0.size_1()) , iter.this$01_0.get_0(iter.last = iter.i++));
    if (c.contains_0(o)) {
      $remove_23(iter);
      changed = true;
    }
  }
  return changed;
}

function $retainAll(this$static, c){
  var changed, iter, o;
  checkNotNull_1(c);
  changed = false;
  for (iter = this$static.iterator(); iter.hasNext();) {
    o = iter.next_0();
    if (!c.contains_0(o)) {
      iter.remove_2();
      changed = true;
    }
  }
  return changed;
}

function $toArray(this$static, a){
  var i, it, size_0;
  size_0 = this$static.size_1();
  a.length < size_0 && (a = createFrom(a, size_0));
  it = this$static.iterator();
  for (i = 0; i < size_0; ++i) {
    setCheck(a, i, it.next_0());
  }
  a.length > size_0 && setCheck(a, size_0, null);
  return a;
}

function $toString_0(this$static){
  var comma, e, e$iterator, sb;
  sb = new StringBuilder_1('[');
  comma = false;
  for (e$iterator = this$static.iterator(); e$iterator.hasNext();) {
    e = e$iterator.next_0();
    comma?(sb.string += ', ' , sb):(comma = true);
    sb.string += e === this$static?'(this Collection)':'' + e;
  }
  sb.string += ']';
  return sb.string;
}

defineClass($intern_2, 1, $intern_3);
_.add_0 = function add_1(o){
  throw new UnsupportedOperationException_0('Add not supported on this collection');
}
;
_.addAll = function addAll(c){
  return $addAll(this, c);
}
;
_.clear_1 = function clear_0(){
  var iter;
  for (iter = this.iterator(); iter.hasNext();) {
    iter.next_0();
    iter.remove_2();
  }
}
;
_.contains_0 = function contains(o){
  return $advanceToFind(this, o, false);
}
;
_.containsAll = function containsAll(c){
  return $containsAll(this, c);
}
;
_.isEmpty_0 = function isEmpty(){
  return this.size_1() == 0;
}
;
_.remove = function remove_0(o){
  return $advanceToFind(this, o, true);
}
;
_.retainAll = function retainAll(c){
  return $retainAll(this, c);
}
;
_.toArray = function toArray(){
  return this.toArray_0(initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, this.size_1(), 3, 1));
}
;
_.toArray_0 = function toArray_0(a){
  return $toArray(this, a);
}
;
_.toString$ = function toString_2(){
  return $toString_0(this);
}
;
var Ljava_util_AbstractCollection_2_classLit = createForClass('java.util', 'AbstractCollection', $intern_2, Ljava_lang_Object_2_classLit);
function $equals(this$static, o){
  var elem, elem$iterator, elemOther, iterOther, other;
  if (o === this$static) {
    return true;
  }
  if (!instanceOf(o, 38)) {
    return false;
  }
  other = dynamicCast(o, 38);
  if (this$static.size_1() != other.size_1()) {
    return false;
  }
  iterOther = other.iterator();
  for (elem$iterator = this$static.iterator(); elem$iterator.hasNext();) {
    elem = elem$iterator.next_0();
    elemOther = iterOther.next_0();
    if (!(maskUndefined(elem) === maskUndefined(elemOther) || elem != null && equals_Ljava_lang_Object__Z__devirtual$(elem, elemOther))) {
      return false;
    }
  }
  return true;
}

function $indexOf(this$static, toFind){
  var i, n;
  for (i = 0 , n = this$static.array.length; i < n; ++i) {
    if (equals_52(toFind, (checkElementIndex(i, this$static.array.length) , this$static.array[i]))) {
      return i;
    }
  }
  return -1;
}

defineClass(1488, $intern_2, $intern_4);
_.add_1 = function add_2(index_0, element){
  throw new UnsupportedOperationException_0('Add not supported on this list');
}
;
_.add_0 = function add_3(obj){
  this.add_1(this.size_1(), obj);
  return true;
}
;
_.clear_1 = function clear_1(){
  this.removeRange(0, this.size_1());
}
;
_.equals$ = function equals_1(o){
  return $equals(this, o);
}
;
_.hashCode$ = function hashCode_1(){
  return hashCode_46(this);
}
;
_.iterator = function iterator_0(){
  return new AbstractList$IteratorImpl(this);
}
;
_.listIterator = function listIterator(){
  return this.listIterator_0(0);
}
;
_.listIterator_0 = function listIterator_0(from){
  return new AbstractList$ListIteratorImpl(this, from);
}
;
_.remove_0 = function remove_1(index_0){
  throw new UnsupportedOperationException_0('Remove not supported on this list');
}
;
_.removeRange = function removeRange(fromIndex, endIndex){
  var i, iter;
  iter = this.listIterator_0(fromIndex);
  for (i = fromIndex; i < endIndex; ++i) {
    iter.next_0();
    iter.remove_2();
  }
}
;
var Ljava_util_AbstractList_2_classLit = createForClass('java.util', 'AbstractList', 1488, Ljava_util_AbstractCollection_2_classLit);
function $$init(this$static){
  this$static.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
}

function $add(this$static, index_0, o){
  checkPositionIndex_0(index_0, this$static.array.length);
  splice_0(this$static.array, index_0, 0, o);
}

function $add_0(this$static, o){
  setCheck(this$static.array, this$static.array.length, o);
  return true;
}

function $addAll_0(this$static, c){
  var cArray, len;
  cArray = c.toArray();
  len = cArray.length;
  if (len == 0) {
    return false;
  }
  $insertAt(this$static, this$static.array.length, cArray);
  return true;
}

function $get(this$static, index_0){
  checkElementIndex(index_0, this$static.array.length);
  return this$static.array[index_0];
}

function $indexOf_0(this$static, o, index_0){
  for (; index_0 < this$static.array.length; ++index_0) {
    if (equals_52(o, this$static.array[index_0])) {
      return index_0;
    }
  }
  return -1;
}

function $insertAt(this$static, index_0, values){
  nativeArraySplice(values, 0, this$static.array, index_0, values.length, false);
}

function $remove(this$static, index_0){
  var previous;
  previous = (checkElementIndex(index_0, this$static.array.length) , this$static.array[index_0]);
  splice(this$static.array, index_0, 1);
  return previous;
}

function $remove_0(this$static, o){
  var i;
  i = $indexOf_0(this$static, o, 0);
  if (i == -1) {
    return false;
  }
  this$static.remove_0(i);
  return true;
}

function $removeRange(this$static, fromIndex, endIndex){
  var count;
  checkCriticalPositionIndexes(fromIndex, endIndex, this$static.array.length);
  count = endIndex - fromIndex;
  splice(this$static.array, fromIndex, count);
}

function $set(this$static, index_0, o){
  var previous;
  previous = (checkElementIndex(index_0, this$static.array.length) , this$static.array[index_0]);
  setCheck(this$static.array, index_0, o);
  return previous;
}

function $toArray_0(this$static){
  return cloneSubrange(this$static.array, this$static.array.length);
}

function $toArray_1(this$static, out){
  var i, size_0;
  size_0 = this$static.array.length;
  out.length < size_0 && (out = createFrom(out, size_0));
  for (i = 0; i < size_0; ++i) {
    setCheck(out, i, this$static.array[i]);
  }
  out.length > size_0 && setCheck(out, size_0, null);
  return out;
}

function ArrayList(){
  $$init(this);
}

function ArrayList_0(initialCapacity){
  $$init(this);
  checkCriticalArgument_0(initialCapacity >= 0, 'Initial capacity must not be negative');
}

function ArrayList_1(c){
  $$init(this);
  $insertAt(this, 0, c.toArray());
}

function splice(array, index_0, deleteCount){
  array.splice(index_0, deleteCount);
}

function splice_0(array, index_0, deleteCount, value_0){
  array.splice(index_0, deleteCount, value_0);
}

defineClass(18, 1488, $intern_5, ArrayList, ArrayList_0, ArrayList_1);
_.add_1 = function add_4(index_0, o){
  $add(this, index_0, o);
}
;
_.add_0 = function add_5(o){
  return $add_0(this, o);
}
;
_.addAll = function addAll_0(c){
  return $addAll_0(this, c);
}
;
_.clear_1 = function clear_2(){
  this.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
}
;
_.contains_0 = function contains_0(o){
  return $indexOf_0(this, o, 0) != -1;
}
;
_.get_0 = function get_0(index_0){
  return $get(this, index_0);
}
;
_.isEmpty_0 = function isEmpty_0(){
  return this.array.length == 0;
}
;
_.remove_0 = function remove_2(index_0){
  return $remove(this, index_0);
}
;
_.remove = function remove_3(o){
  return $remove_0(this, o);
}
;
_.removeRange = function removeRange_0(fromIndex, endIndex){
  $removeRange(this, fromIndex, endIndex);
}
;
_.size_1 = function size_1(){
  return this.array.length;
}
;
_.toArray = function toArray_1(){
  return $toArray_0(this);
}
;
_.toArray_0 = function toArray_2(out){
  return $toArray_1(this, out);
}
;
var Ljava_util_ArrayList_2_classLit = createForClass('java.util', 'ArrayList', 18, Ljava_util_AbstractList_2_classLit);
function $fireDragEnd(this$static, dragEndEvent){
  var handler, handler$iterator, Source, Left, Top, LeftLimit;
  for (handler$iterator = new AbstractList$IteratorImpl(this$static); handler$iterator.i < handler$iterator.this$01_0.size_1();) {
    handler = (checkCriticalElement(handler$iterator.i < handler$iterator.this$01_0.size_1()) , dynamicCast(handler$iterator.this$01_0.get_0(handler$iterator.last = handler$iterator.i++), 421));
    Source = dynamicCast(dragEndEvent.source, 7);
    $info_1(($clinit_InventoryPanel() , Log_87), ' \n drag end' + Source);
    Left = (($clinit_DOM() , Source.element).offsetLeft || 0) | 0;
    Top = (Source.element.offsetTop || 0) | 0;
    LeftLimit = $getOffsetWidth(handler.this$01.dragController.boundaryPanel);
    handler.this$01.LinerPos = ~~((~~(Top / 100) * LeftLimit + Left) / 100);
    handler.this$01.itemSpace[handler.this$01.old_LinerPos] = false;
    handler.this$01.itemSpace[handler.this$01.LinerPos] = true;
    $setCssAsDragging(currentlyDraggedItem, false);
    isItemCurrentlyBeingDragged = false;
    currentlyDraggedItem = null;
    $clinit_OptionalImplementations();
    mouseCursorImplementation.isPresent() && (dynamicCast(mouseCursorImplementation.get_1(), 207) , setMouseImage_0(($clinit_SpiffyImageUtilitys() , smallArrowDataURL)));
    $clinit_RequiredImplementations();
    interfaceVisualElements_0.isPresent() && $setHeldItemVisualiserVisible((dynamicCast(interfaceVisualElements_0.get_1(), 123) , false));
    ($clinit_JAMcore() , GameLogger).info_0('-drag end-');
    isDragging = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  }
}

function $fireDragStart(this$static, dragStartEvent){
  var handler, handler$iterator, Source, LeftLimit, itemDragged;
  for (handler$iterator = new AbstractList$IteratorImpl(this$static); handler$iterator.i < handler$iterator.this$01_0.size_1();) {
    handler = (checkCriticalElement(handler$iterator.i < handler$iterator.this$01_0.size_1()) , dynamicCast(handler$iterator.this$01_0.get_0(handler$iterator.last = handler$iterator.i++), 421));
    $info_1(($clinit_InventoryPanel() , Log_87), ' drag start');
    isDragging = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
    cancelClick = (null , TRUE_3);
    Source = dynamicCast(dragStartEvent.source, 7);
    LeftLimit = $getOffsetWidth(handler.this$01.dragController.boundaryPanel);
    handler.this$01.old_left = (($clinit_DOM() , Source.element).offsetLeft || 0) | 0;
    handler.this$01.old_top = (Source.element.offsetTop || 0) | 0;
    handler.this$01.old_LinerPos = ~~((~~(handler.this$01.old_top / 100) * LeftLimit + handler.this$01.old_left) / 100);
    itemDragged = dynamicCast(dynamicCast(Source, 299).parentObject, 115);
    isItemCurrentlyBeingDragged = true;
    currentlyDraggedItem = itemDragged;
    $setCssAsDragging(currentlyDraggedItem, true);
    $info_1(Log_87, 'item dragged is: ' + itemDragged.objectsCurrentState_2.ObjectsName);
    $clinit_OptionalImplementations();
    mouseCursorImplementation.isPresent()?$setMouseCursorToHolding((dynamicCast(mouseCursorImplementation.get_1(), 207) , itemDragged)):$info_1(Log_49, 'no mouse cursor implementation supplied');
    $clinit_RequiredImplementations();
    interfaceVisualElements_0.isPresent() && $setHeldItemVisualiserVisible((dynamicCast(interfaceVisualElements_0.get_1(), 123) , true));
    interfaceVisualElements_0.isPresent() && $setHeldItemVisualisation((dynamicCast(interfaceVisualElements_0.get_1(), 123) , itemDragged));
  }
}

function $firePreviewDragEnd(this$static){
  var handler$iterator;
  for (handler$iterator = new AbstractList$IteratorImpl(this$static); handler$iterator.i < handler$iterator.this$01_0.size_1();) {
    checkCriticalElement(handler$iterator.i < handler$iterator.this$01_0.size_1());
    dynamicCast(handler$iterator.this$01_0.get_0(handler$iterator.last = handler$iterator.i++), 421);
  }
}

function $firePreviewDragStart(this$static){
  var handler$iterator;
  for (handler$iterator = new AbstractList$IteratorImpl(this$static); handler$iterator.i < handler$iterator.this$01_0.size_1();) {
    checkCriticalElement(handler$iterator.i < handler$iterator.this$01_0.size_1());
    dynamicCast(handler$iterator.this$01_0.get_0(handler$iterator.last = handler$iterator.i++), 421);
  }
}

function DragHandlerCollection(){
  ArrayList.call(this);
}

defineClass(1116, 18, $intern_5, DragHandlerCollection);
var Lcom_allen_1sauer_gwt_dnd_client_DragHandlerCollection_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'DragHandlerCollection', 1116, Ljava_util_ArrayList_2_classLit);
function DragStartEvent(context){
  DragEvent_0.call(this, context);
}

defineClass(1407, 508, {}, DragStartEvent);
_.toString$ = function toString_3(){
  return 'DragStartEvent(source=' + getShortTypeName(this.source) + ')';
}
;
var Lcom_allen_1sauer_gwt_dnd_client_DragStartEvent_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'DragStartEvent', 1407, Lcom_allen_1sauer_gwt_dnd_client_DragEvent_2_classLit);
function $getIntersectDropController(this$static, x_0, y_0){
  var candidate, i, location_0, targetArea;
  location_0 = new CoordinateLocation(x_0, y_0);
  for (i = this$static.sortedCandidates.length - 1; i >= 0; i--) {
    candidate = this$static.sortedCandidates[i];
    targetArea = candidate.targetArea;
    if (targetArea.left_0 <= location_0.left_0 && location_0.left_0 <= targetArea.right && targetArea.top_0 <= location_0.top_0 && location_0.top_0 <= targetArea.bottom) {
      return candidate.dropController;
    }
  }
  return null;
}

function $resetCache(this$static, boundaryPanel, context){
  var boundaryArea, candidate, dropController, dropController$iterator, dropTarget, list;
  list = new ArrayList;
  if (context.draggable) {
    boundaryArea = new WidgetArea(boundaryPanel);
    for (dropController$iterator = new AbstractList$IteratorImpl(this$static.dropControllerList); dropController$iterator.i < dropController$iterator.this$01_0.size_1();) {
      dropController = (checkCriticalElement(dropController$iterator.i < dropController$iterator.this$01_0.size_1()) , dynamicCast(dropController$iterator.this$01_0.get_0(dropController$iterator.last = dropController$iterator.i++), 278));
      candidate = new DropControllerCollection$Candidate(dropController);
      dropTarget = candidate.dropController.getDropTarget();
      $clinit_DOM();
      if ($isOrHasChild($getElement(context.draggable), dropTarget.element)) {
        continue;
      }
      $intersects(candidate.targetArea, boundaryArea) && list.add_0(candidate);
    }
  }
  this$static.sortedCandidates = dynamicCast($toArray_1(list, initDim(Lcom_allen_1sauer_gwt_dnd_client_DropControllerCollection$Candidate_2_classLit, {1546:1, 3:1, 4:1}, 347, list.array.length, 0, 1)), 1546);
  sort_0(this$static.sortedCandidates);
}

function DropControllerCollection(dropControllerList){
  this.dropControllerList = dropControllerList;
}

defineClass(1152, 1, {}, DropControllerCollection);
_.sortedCandidates = null;
var Lcom_allen_1sauer_gwt_dnd_client_DropControllerCollection_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'DropControllerCollection', 1152, Ljava_lang_Object_2_classLit);
function $compareElement(this$static, myElement, otherElement){
  var myParentElement, otherParentElement;
  if (myElement == otherElement) {
    return 0;
  }
   else {
    $clinit_DOM();
    if (myElement.contains(otherElement)) {
      return -1;
    }
     else {
      if (otherElement.contains(myElement)) {
        return 1;
      }
       else {
        myParentElement = $getParentElement(myElement);
        otherParentElement = $getParentElement(otherElement);
        if (!!myParentElement && !!otherParentElement) {
          return $compareElement(this$static, myParentElement, otherParentElement);
        }
        return 0;
      }
    }
  }
}

function $compareTo(this$static, other){
  var myElement, otherElement;
  myElement = $getElement(this$static.dropController.getDropTarget());
  otherElement = $getElement(other.dropController.getDropTarget());
  return $compareElement(this$static, myElement, otherElement);
}

function DropControllerCollection$Candidate(dropController){
  var target;
  this.dropController = dropController;
  target = dropController.getDropTarget();
  if (!target.attached) {
    throw new IllegalStateException_0('Unattached drop target. You must call DragController#unregisterDropController for all drop targets not attached to the DOM.');
  }
  this.targetArea = new WidgetArea(target);
}

defineClass(347, 1, {347:1, 21:1}, DropControllerCollection$Candidate);
_.compareTo = function compareTo(other){
  return $compareTo(this, dynamicCast(other, 347));
}
;
_.equals$ = function equals_2(other){
  throw new RuntimeException_0('hash code not implemented');
}
;
_.hashCode$ = function hashCode_2(){
  throw new RuntimeException_0('hash code not implemented');
}
;
var Lcom_allen_1sauer_gwt_dnd_client_DropControllerCollection$Candidate_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'DropControllerCollection/Candidate', 347, Ljava_lang_Object_2_classLit);
function $actualMove(this$static, x_0, y_0){
  this$static.context.mouseX = x_0;
  this$static.context.mouseY = y_0;
  this$static.context.desiredDraggableX = x_0 - this$static.mouseDownOffsetX;
  this$static.context.desiredDraggableY = y_0 - this$static.mouseDownOffsetY;
  $dragMove(this$static.context.dragController);
}

function $doSelectionToggle(this$static, event_0){
  var widget;
  widget = dynamicCast(this$static.dragHandleMap.get_2(mouseDownWidget), 267).dragable;
  $eventGetCtrlKey(event_0.nativeEvent) || $eventGetMetaKey(event_0.nativeEvent) || $clearSelection(this$static.context.dragController);
  $toggleSelection(this$static.context.dragController, widget);
}

function $dragEndCleanup_0(this$static){
  releaseCapture($getElement(this$static.capturingWidget));
  $removeFromParent(this$static.capturingWidget);
  this$static.dragging = 1;
  $dragEndCleanup(this$static.context);
}

function $drop(this$static, x_0, y_0){
  var ex;
  $actualMove(this$static, x_0, y_0);
  try {
    $previewDragEnd_0(this$static.context.dragController);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 273)) {
      ex = $e0;
      this$static.context.vetoException = ex;
    }
     else 
      throw unwrap($e0);
  }
  $dragEnd_0(this$static.context.dragController);
}

function $makeDraggable_0(this$static, draggable, dragHandle){
  var ex, registeredDraggable;
  instanceOf(draggable, 53) && reportFatalAndThrowRuntimeException('PopupPanel (and its subclasses) cannot be made draggable; See http://code.google.com/p/gwt-dnd/issues/detail?id=43');
  try {
    registeredDraggable = new MouseDragHandler$RegisteredDraggable(this$static, draggable, dragHandle);
    this$static.dragHandleMap.put(dragHandle, registeredDraggable);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      ex = $e0;
      throw new RuntimeException_1('dragHandle must implement HasMouseDownHandlers to be draggable', ex);
    }
     else 
      throw unwrap($e0);
  }
}

function $makeNotDraggable_0(this$static, dragHandle){
  var mouseDownHandlerRegistration, registeredDraggable, touchStartHandlerRegistration;
  registeredDraggable = dynamicCast(this$static.dragHandleMap.remove_3(dragHandle), 267);
  if (!registeredDraggable) {
    throw new RuntimeException_0('dragHandle was not draggable');
  }
  mouseDownHandlerRegistration = registeredDraggable.mouseDownHandlerRegistration;
  !!mouseDownHandlerRegistration && $removeHandler(mouseDownHandlerRegistration.real);
  touchStartHandlerRegistration = registeredDraggable.touchStartHandlerRegistration;
  !!touchStartHandlerRegistration && $removeHandler(touchStartHandlerRegistration.real);
}

function $onTouchEndorCancel(this$static, event_0){
  if (event_0.nativeEvent.touches.length != 0) {
    return;
  }
  if (!mouseDownWidget) {
    return;
  }
  try {
    if (this$static.dragging == 1) {
      $doSelectionToggle(this$static, event_0);
      return;
    }
    try {
      $drop(this$static, this$static.context.mouseX, this$static.context.mouseY);
      this$static.dragging != 3 && $doSelectionToggle(this$static, event_0);
    }
     finally {
      $dragEndCleanup_0(this$static);
    }
  }
   finally {
    mouseDownWidget = null;
    $dragEndCleanup_0(this$static);
  }
}

function $startCapturing(this$static){
  $setPixelSize(this$static.capturingWidget, 0, 0);
  $add_8(($clinit_RootPanel() , get_14(null)), this$static.capturingWidget, 0, 0);
  setCapture($getElement(this$static.capturingWidget));
}

function $startDragging(this$static){
  var ex;
  $dragStartCleanup(this$static.context);
  try {
    $previewDragStart(this$static.context.dragController);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 273)) {
      ex = $e0;
      this$static.context.vetoException = ex;
      mouseDownWidget = null;
      $dragEndCleanup_0(this$static);
      return;
    }
     else 
      throw unwrap($e0);
  }
  $dragStart_0(this$static.context.dragController);
  $startCapturing(this$static);
  $setPixelSize(this$static.capturingWidget, ($clinit_RootPanel() , $getOffsetWidth(get_14(null))), $getOffsetHeight(get_14(null)));
  this$static.dragging = 2;
}

function MouseDragHandler(context){
  var style;
  this.dragHandleMap = new HashMap;
  this.context = context;
  this.capturingWidget = new FocusPanel;
  $addDomHandler(this.capturingWidget, this, ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_11));
  $addDomHandler(this.capturingWidget, this, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
  $addDomHandler(this.capturingWidget, this, ($clinit_TouchMoveEvent() , $clinit_TouchMoveEvent() , TYPE_18));
  $addDomHandler(this.capturingWidget, this, ($clinit_TouchEndEvent() , $clinit_TouchEndEvent() , TYPE_17));
  $addDomHandler(this.capturingWidget, this, ($clinit_TouchCancelEvent() , $clinit_TouchCancelEvent() , TYPE_16));
  style = $getElement(this.capturingWidget).style;
  $setPropertyImpl(style, 'filter', 'alpha(opacity=0)');
  $cssSetOpacity(style, 0);
  $setPropertyImpl(style, 'zIndex', '1000');
  $setPropertyImpl(style, 'margin', ($clinit_Style$Unit() , '0.0px'));
  $setPropertyImpl(style, 'borderStyle', ($clinit_Style$BorderStyle() , 'none'));
  $setPropertyImpl(style, 'backgroundColor', 'blue');
}

defineClass(1180, 1, {85:1, 132:1, 96:1, 525:1, 130:1, 131:1, 129:1, 6:1}, MouseDragHandler);
_.onMouseDown = function onMouseDown(event_0){
  var button, loc1, loc2, sender, x_0, y_0;
  if (this.dragging == 3 || this.dragging == 2) {
    return;
  }
  sender = dynamicCast(event_0.source, 7);
  x_0 = $getX(event_0);
  y_0 = $getY(event_0);
  button = $eventGetButton(event_0.nativeEvent);
  if (button != 1) {
    return;
  }
  if (mouseDownWidget) {
    return;
  }
  mouseDownWidget = sender;
  this.context.draggable = dynamicCast(this.dragHandleMap.get_2(mouseDownWidget), 267).dragable;
  if (!($eventGetCtrlKey(event_0.nativeEvent) || $eventGetMetaKey(event_0.nativeEvent)) && $indexOf_0(this.context.selectedWidgets, this.context.draggable, 0) == -1) {
    $clearSelection(this.context.dragController);
    $toggleSelection(this.context.dragController, this.context.draggable);
  }
  instanceOf(mouseDownWidget, 43) && $eventPreventDefault(event_0.nativeEvent);
  this.mouseDownOffsetX = x_0;
  this.mouseDownOffsetY = y_0;
  loc1 = new WidgetLocation(mouseDownWidget, null);
  if (mouseDownWidget != this.context.draggable) {
    loc2 = new WidgetLocation(this.context.draggable, null);
    this.mouseDownOffsetX += loc1.left_0 - loc2.left_0;
    this.mouseDownOffsetY += loc1.top_0 - loc2.top_0;
  }
  if (this.context.dragController.dragStartSensitivityPixels == 0 && !($eventGetCtrlKey(event_0.nativeEvent) || $eventGetMetaKey(event_0.nativeEvent))) {
    this.context.mouseX = x_0 + loc1.left_0;
    this.context.mouseY = y_0 + loc1.top_0;
    $startDragging(this);
    if (this.dragging == 1) {
      return;
    }
    $actualMove(this, this.context.mouseX, this.context.mouseY);
  }
   else {
    this.mouseDownPageOffsetX = this.mouseDownOffsetX + loc1.left_0;
    this.mouseDownPageOffsetY = this.mouseDownOffsetY + loc1.top_0;
    $startCapturing(this);
  }
}
;
_.onMouseMove = function onMouseMove(event_0){
  var elem, location_0, sender, x_0, y_0;
  sender = dynamicCast(event_0.source, 7);
  elem = ($clinit_DOM() , sender.element);
  x_0 = $getRelativeX_0(event_0, elem);
  y_0 = $getRelativeY_0(event_0, elem);
  if (this.dragging == 3 || this.dragging == 2) {
    this.dragging = 3;
  }
   else {
    if (mouseDownWidget) {
      if (max_1(abs_1(x_0 - this.mouseDownPageOffsetX), abs_1(y_0 - this.mouseDownPageOffsetY)) >= this.context.dragController.dragStartSensitivityPixels) {
        this.context.dragController.cancelDocumentSelections && $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new MouseDragHandler$1);
        $indexOf_0(this.context.selectedWidgets, this.context.draggable, 0) != -1 || $toggleSelection(this.context.dragController, this.context.draggable);
        location_0 = new WidgetLocation(mouseDownWidget, null);
        this.context.mouseX = this.mouseDownOffsetX + location_0.left_0;
        this.context.mouseY = this.mouseDownOffsetY + location_0.top_0;
        $startDragging(this);
      }
    }
    if (this.dragging == 1) {
      return;
    }
  }
  $actualMove(this, x_0, y_0);
}
;
_.onMouseUp = function onMouseUp(event_0){
  var button, elem, sender, x_0, y_0, elem_0, n, screenX_0, screenY_0, clientX, clientY, ctrlKey, altKey, shiftKey, metaKey, button_0;
  sender = dynamicCast(event_0.source, 7);
  elem = ($clinit_DOM() , sender.element);
  x_0 = $getRelativeX_0(event_0, elem);
  y_0 = $getRelativeY_0(event_0, elem);
  button = $eventGetButton(event_0.nativeEvent);
  if (button != 1) {
    return;
  }
  if (!mouseDownWidget) {
    return;
  }
  try {
    if (this.dragging == 1) {
      $doSelectionToggle(this, event_0);
      return;
    }
    try {
      elem_0 = $getElement(mouseDownWidget);
      n = event_0.nativeEvent;
      screenX_0 = $eventGetSubPixelScreenX(n) | 0;
      screenY_0 = $eventGetSubPixelScreenY(n) | 0;
      clientX = $eventGetSubPixelClientX(n) | 0;
      clientY = $eventGetSubPixelClientY(n) | 0;
      ctrlKey = $eventGetCtrlKey(n);
      altKey = $eventGetAltKey(n);
      shiftKey = $eventGetShiftKey(n);
      metaKey = $eventGetMetaKey(n);
      button_0 = $eventGetButton(n);
      $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new MouseDragHandler$3(elem_0, screenX_0, screenY_0, clientX, clientY, ctrlKey, altKey, shiftKey, metaKey, button_0));
      $drop(this, x_0, y_0);
      this.dragging != 3 && $doSelectionToggle(this, event_0);
    }
     finally {
      $dragEndCleanup_0(this);
    }
  }
   finally {
    mouseDownWidget = null;
    $dragEndCleanup_0(this);
  }
}
;
_.onTouchCancel = function onTouchCancel(event_0){
  $onTouchEndorCancel(this, event_0);
}
;
_.onTouchEnd = function onTouchEnd(event_0){
  var elem, n, changedTouches;
  elem = $getElement(mouseDownWidget);
  n = event_0.nativeEvent;
  $eventGetCtrlKey(n);
  $eventGetAltKey(n);
  $eventGetShiftKey(n);
  $eventGetMetaKey(n);
  changedTouches = n.changedTouches;
  $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new MouseDragHandler$2(elem, changedTouches));
  $onTouchEndorCancel(this, event_0);
}
;
_.onTouchMove = function onTouchMove(event_0){
  var elem, location_0, sender, x_0, y_0;
  if (event_0.nativeEvent.touches.length != 1) {
    return;
  }
  sender = dynamicCast(event_0.source, 7);
  elem = ($clinit_DOM() , sender.element);
  x_0 = $getRelativeX(event_0.nativeEvent.touches[0], elem);
  y_0 = $getRelativeY(event_0.nativeEvent.touches[0], elem);
  if (this.dragging == 3 || this.dragging == 2) {
    this.dragging = 3;
  }
   else {
    if (mouseDownWidget) {
      if (max_1(abs_1(x_0 - this.mouseDownOffsetX), abs_1(y_0 - this.mouseDownOffsetY)) >= this.context.dragController.dragStartSensitivityPixels) {
        $indexOf_0(this.context.selectedWidgets, this.context.draggable, 0) != -1 || $toggleSelection(this.context.dragController, this.context.draggable);
        location_0 = new WidgetLocation(mouseDownWidget, null);
        this.context.mouseX = this.mouseDownOffsetX + location_0.left_0;
        this.context.mouseY = this.mouseDownOffsetY + location_0.top_0;
        x_0 += location_0.left_0;
        y_0 += location_0.top_0;
        $startDragging(this);
      }
    }
    if (this.dragging == 1) {
      return;
    }
  }
  $eventPreventDefault(event_0.nativeEvent);
  $actualMove(this, x_0, y_0);
}
;
_.onTouchStart = function onTouchStart(event_0){
  var loc1, loc2, sender, x_0, y_0;
  if (event_0.nativeEvent.touches.length != 1) {
    return;
  }
  sender = dynamicCast(event_0.source, 7);
  x_0 = $getRelativeX(event_0.nativeEvent.touches[0], event_0.relativeElem);
  y_0 = $getRelativeY(event_0.nativeEvent.touches[0], event_0.relativeElem);
  mouseDownWidget = sender;
  this.context.draggable = dynamicCast(this.dragHandleMap.get_2(mouseDownWidget), 267).dragable;
  $clearSelection(this.context.dragController);
  $toggleSelection(this.context.dragController, this.context.draggable);
  this.mouseDownOffsetX = x_0;
  this.mouseDownOffsetY = y_0;
  loc1 = new WidgetLocation(mouseDownWidget, null);
  if (mouseDownWidget != this.context.draggable) {
    loc2 = new WidgetLocation(this.context.draggable, null);
    this.mouseDownOffsetX += loc1.left_0 - loc2.left_0;
    this.mouseDownOffsetY += loc1.top_0 - loc2.top_0;
  }
  if (this.context.dragController.dragStartSensitivityPixels == 0 && !($eventGetCtrlKey(event_0.nativeEvent) || $eventGetMetaKey(event_0.nativeEvent))) {
    this.context.mouseX = x_0 + loc1.left_0;
    this.context.mouseY = y_0 + loc1.top_0;
    $startDragging(this);
    if (this.dragging == 1) {
      return;
    }
    $actualMove(this, this.context.mouseX, this.context.mouseY);
  }
   else {
    $startCapturing(this);
  }
}
;
_.dragging = 1;
_.mouseDownOffsetX = 0;
_.mouseDownOffsetY = 0;
_.mouseDownPageOffsetX = 0;
_.mouseDownPageOffsetY = 0;
var mouseDownWidget;
var Lcom_allen_1sauer_gwt_dnd_client_MouseDragHandler_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'MouseDragHandler', 1180, Ljava_lang_Object_2_classLit);
function MouseDragHandler$1(){
}

defineClass(1181, 1, {}, MouseDragHandler$1);
_.execute = function execute(){
  var s;
  $clinit_DOMUtil();
  s = $wnd.getSelection();
  s.removeAllRanges?s.removeAllRanges():s.collapse();
}
;
var Lcom_allen_1sauer_gwt_dnd_client_MouseDragHandler$1_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'MouseDragHandler/1', 1181, Ljava_lang_Object_2_classLit);
function MouseDragHandler$2(val$elem, val$changedTouches){
  this.val$elem2 = val$elem;
  this.val$changedTouches7 = val$changedTouches;
}

defineClass(1182, 1, {}, MouseDragHandler$2);
_.execute = function execute_0(){
  $dispatchEvent(this.val$elem2, createTouchEndEvent(true, true, 0, this.val$changedTouches7));
}
;
var Lcom_allen_1sauer_gwt_dnd_client_MouseDragHandler$2_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'MouseDragHandler/2', 1182, Ljava_lang_Object_2_classLit);
function MouseDragHandler$3(val$elem, val$screenX, val$screenY, val$clientX, val$clientY, val$ctrlKey, val$altKey, val$shiftKey, val$metaKey, val$button){
  this.val$elem2 = val$elem;
  this.val$screenX3 = val$screenX;
  this.val$screenY4 = val$screenY;
  this.val$clientX5 = val$clientX;
  this.val$clientY6 = val$clientY;
  this.val$ctrlKey7 = val$ctrlKey;
  this.val$altKey8 = val$altKey;
  this.val$shiftKey9 = val$shiftKey;
  this.val$metaKey10 = val$metaKey;
  this.val$button11 = val$button;
}

defineClass(1183, 1, {}, MouseDragHandler$3);
_.execute = function execute_1(){
  $dispatchEvent(this.val$elem2, $createMouseEvent($doc, 'mouseup', true, true, 1, this.val$screenX3, this.val$screenY4, this.val$clientX5, this.val$clientY6, this.val$ctrlKey7, this.val$altKey8, this.val$shiftKey9, this.val$metaKey10, this.val$button11, null));
}
;
_.val$altKey8 = false;
_.val$button11 = 0;
_.val$clientX5 = 0;
_.val$clientY6 = 0;
_.val$ctrlKey7 = false;
_.val$metaKey10 = false;
_.val$screenX3 = 0;
_.val$screenY4 = 0;
_.val$shiftKey9 = false;
var Lcom_allen_1sauer_gwt_dnd_client_MouseDragHandler$3_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'MouseDragHandler/3', 1183, Ljava_lang_Object_2_classLit);
function MouseDragHandler$RegisteredDraggable(this$0, dragable, dragHandle){
  this.dragable = dragable;
  instanceOf(dragHandle, 320) && (this.touchStartHandlerRegistration = dynamicCast(dragHandle, 320).addTouchStartHandler(this$0));
  instanceOf(dragHandle, 319) && (this.mouseDownHandlerRegistration = dynamicCast(dragHandle, 319).addMouseDownHandler(this$0));
}

defineClass(267, 1, {267:1}, MouseDragHandler$RegisteredDraggable);
var Lcom_allen_1sauer_gwt_dnd_client_MouseDragHandler$RegisteredDraggable_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'MouseDragHandler/RegisteredDraggable', 267, Ljava_lang_Object_2_classLit);
function $calcBoundaryOffset(this$static){
  var widgetLocation;
  widgetLocation = new WidgetLocation(this$static.context.boundaryPanel, null);
  this$static.boundaryOffsetX = widgetLocation.left_0 + ($clinit_DOMUtil() , $getBorderLeft($getElement(this$static.context.boundaryPanel)));
  this$static.boundaryOffsetY = widgetLocation.top_0 + $getBorderTop($getElement(this$static.context.boundaryPanel));
}

function $dragEnd_0(this$static){
  if (this$static.context.vetoException) {
    this$static.context.dropController.onLeave(this$static.context);
    this$static.context.dropController = null;
    $restoreSelectedWidgetsLocation(this$static);
  }
   else {
    this$static.context.dropController.onDrop(this$static.context);
    this$static.context.dropController.onLeave(this$static.context);
    this$static.context.dropController = null;
  }
  $restoreSelectedWidgetsStyle(this$static);
  $removeFromParent(this$static.movablePanel);
  this$static.movablePanel = null;
  $dragEnd(this$static);
}

function $dragMove(this$static){
  var desiredLeft, desiredTop, newDropController, timeMillis;
  timeMillis = ($clinit_System() , fromDouble(now_1()));
  if (gte_0(sub_0(timeMillis, this$static.lastResetCacheTimeMillis), {l:100, m:0, h:0})) {
    this$static.lastResetCacheTimeMillis = timeMillis;
    $resetCache(this$static.dropControllerCollection, this$static.boundaryPanel, this$static.context);
    $calcBoundaryOffset(this$static);
  }
  desiredLeft = this$static.context.desiredDraggableX - this$static.boundaryOffsetX;
  desiredTop = this$static.context.desiredDraggableY - this$static.boundaryOffsetY;
  if (this$static.constrainedToBoundaryPanel) {
    desiredLeft = max_1(0, min_1(desiredLeft, this$static.dropTargetClientWidth - this$static.context.draggable.getOffsetWidth()));
    desiredTop = max_1(0, min_1(desiredTop, this$static.dropTargetClientHeight - this$static.context.draggable.getOffsetHeight()));
  }
  fastSetElementPosition($getElement(this$static.movablePanel), desiredLeft, desiredTop);
  newDropController = $getIntersectDropController_0(this$static, this$static.context.mouseX, this$static.context.mouseY);
  if (this$static.context.dropController != newDropController) {
    !!this$static.context.dropController && this$static.context.dropController.onLeave(this$static.context);
    this$static.context.dropController = newDropController;
    !!this$static.context.dropController && this$static.context.dropController.onEnter(this$static.context);
  }
  !!this$static.context.dropController && this$static.context.dropController.onMove(this$static.context);
}

function $dragStart_0(this$static){
  var container, currentDraggableLocation, draggableAbsoluteLeft, draggableAbsoluteTop, location_0, relativeX, relativeY, widget, widget$iterator, widget$iterator0, widgetLocation;
  $dragStart(this$static);
  this$static.lastResetCacheTimeMillis = ($clinit_System() , fromDouble(now_1()));
  currentDraggableLocation = new WidgetLocation(this$static.context.draggable, this$static.context.boundaryPanel);
  $saveSelectedWidgetsLocationAndStyle(this$static);
  container = new AbsolutePanel;
  ($clinit_DOM() , container.element).style['overflow'] = 'visible';
  $setPixelSize(container, this$static.context.draggable.getOffsetWidth(), this$static.context.draggable.getOffsetHeight());
  $add_8(this$static.context.boundaryPanel, container, currentDraggableLocation.left_0, currentDraggableLocation.top_0);
  draggableAbsoluteLeft = $getAbsoluteLeft_0(this$static.context.draggable.element);
  draggableAbsoluteTop = $getAbsoluteTop_0(this$static.context.draggable.element);
  widgetLocation = new HashMap;
  for (widget$iterator0 = new AbstractList$IteratorImpl(this$static.context.selectedWidgets); widget$iterator0.i < widget$iterator0.this$01_0.size_1();) {
    widget = (checkCriticalElement(widget$iterator0.i < widget$iterator0.this$01_0.size_1()) , dynamicCast(widget$iterator0.this$01_0.get_0(widget$iterator0.last = widget$iterator0.i++), 7));
    widgetLocation.put(widget, new CoordinateLocation($getAbsoluteLeft_0(widget.element), $getAbsoluteTop_0(widget.element)));
  }
  this$static.context.dropController = $getIntersectDropController_0(this$static, this$static.context.mouseX, this$static.context.mouseY);
  !!this$static.context.dropController && this$static.context.dropController.onEnter(this$static.context);
  for (widget$iterator = new AbstractList$IteratorImpl(this$static.context.selectedWidgets); widget$iterator.i < widget$iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(widget$iterator.i < widget$iterator.this$01_0.size_1()) , dynamicCast(widget$iterator.this$01_0.get_0(widget$iterator.last = widget$iterator.i++), 7));
    location_0 = dynamicCast(widgetLocation.get_2(widget), 526);
    relativeX = location_0.getLeft() - draggableAbsoluteLeft;
    relativeY = location_0.getTop() - draggableAbsoluteTop;
    $add_8(container, widget, relativeX, relativeY);
  }
  this$static.movablePanel = container;
  $addStyleName(this$static.movablePanel, 'dragdrop-movable-panel');
  $calcBoundaryOffset(this$static);
  this$static.dropTargetClientWidth = ($clinit_DOMUtil() , $getElement(this$static.boundaryPanel).clientWidth || 0);
  this$static.dropTargetClientHeight = $getElement(this$static.boundaryPanel).clientHeight || 0;
}

function $getIntersectDropController_0(this$static, x_0, y_0){
  var dropController;
  dropController = $getIntersectDropController(this$static.dropControllerCollection, x_0, y_0);
  return dropController?dropController:this$static.boundaryDropController;
}

function $previewDragEnd_0(this$static){
  var ex;
  try {
    try {
      this$static.context.dropController.onPreviewDrop(this$static.context);
      this$static.context.finalDropController = this$static.context.dropController;
    }
     finally {
      $previewDragEnd(this$static);
    }
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 273)) {
      ex = $e0;
      this$static.context.finalDropController = null;
      throw ex;
    }
     else 
      throw unwrap($e0);
  }
}

function $registerDropController(this$static, dropController){
  this$static.dropControllerList.add_0(dropController);
}

function $restoreSelectedWidgetsLocation(this$static){
  var info, widget, widget$iterator;
  for (widget$iterator = new AbstractList$IteratorImpl(this$static.context.selectedWidgets); widget$iterator.i < widget$iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(widget$iterator.i < widget$iterator.this$01_0.size_1()) , dynamicCast(widget$iterator.this$01_0.get_0(widget$iterator.last = widget$iterator.i++), 7));
    info = dynamicCast(this$static.savedWidgetInfoMap.get_2(widget), 345);
    if (instanceOf(info.initialDraggableParent, 76)) {
      $add_8(dynamicCast(info.initialDraggableParent, 76), widget, info.initialDraggableParentLocation.left_0, info.initialDraggableParentLocation.top_0);
    }
     else if (instanceOf(info.initialDraggableParent, 67)) {
      dynamicCast(info.initialDraggableParent, 67).insert(widget, info.initialDraggableIndex);
    }
     else if (instanceOf(info.initialDraggableParent, 29)) {
      dynamicCast(info.initialDraggableParent, 29).setWidget(widget);
    }
     else {
      throw new RuntimeException_0('Unable to handle initialDraggableParent ' + $getName(info.initialDraggableParent.___clazz$));
    }
  }
}

function $restoreSelectedWidgetsStyle(this$static){
  var info, widget, widget$iterator;
  for (widget$iterator = new AbstractList$IteratorImpl(this$static.context.selectedWidgets); widget$iterator.i < widget$iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(widget$iterator.i < widget$iterator.this$01_0.size_1()) , dynamicCast(widget$iterator.this$01_0.get_0(widget$iterator.last = widget$iterator.i++), 7));
    info = dynamicCast(this$static.savedWidgetInfoMap.get_2(widget), 345);
    ($clinit_DOM() , widget.element).style['margin'] = info.initialDraggableMargin;
  }
}

function $saveSelectedWidgetsLocationAndStyle(this$static){
  var info, widget, widget$iterator;
  this$static.savedWidgetInfoMap = new HashMap;
  for (widget$iterator = new AbstractList$IteratorImpl(this$static.context.selectedWidgets); widget$iterator.i < widget$iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(widget$iterator.i < widget$iterator.this$01_0.size_1()) , dynamicCast(widget$iterator.this$01_0.get_0(widget$iterator.last = widget$iterator.i++), 7));
    info = new PickupDragController$SavedWidgetInfo;
    info.initialDraggableParent = widget.parent_1;
    if (instanceOf(info.initialDraggableParent, 76)) {
      info.initialDraggableParentLocation = new WidgetLocation(widget, info.initialDraggableParent);
    }
     else if (instanceOf(info.initialDraggableParent, 67)) {
      info.initialDraggableIndex = dynamicCast(info.initialDraggableParent, 67).getWidgetIndex(widget);
    }
     else if (instanceOf(info.initialDraggableParent, 29))
    ;
    else {
      throw new RuntimeException_0("Unable to handle 'initialDraggableParent instanceof " + $getName(info.initialDraggableParent.___clazz$) + "'; Please create your own " + ($ensureNamesAreInitialized(Lcom_allen_1sauer_gwt_dnd_client_PickupDragController_2_classLit) , Lcom_allen_1sauer_gwt_dnd_client_PickupDragController_2_classLit.typeName) + ' and override saveSelectedWidgetsLocationAndStyle(), restoreSelectedWidgetsLocation() and restoreSelectedWidgetsStyle()');
    }
    info.initialDraggableMargin = getStyleAttribute(($clinit_DOM() , widget.element), 'margin');
    widget.element.style['margin'] = '0px';
    this$static.savedWidgetInfoMap.put(widget, info);
  }
}

function $unregisterDropController(this$static, dropController){
  $remove_0(this$static.dropControllerList, dropController);
}

function PickupDragController(boundaryPanel){
  this.dragHandles = new HashMap;
  this.boundaryPanel = boundaryPanel;
  this.context = new DragContext(this);
  this.mouseDragHandler = new MouseDragHandler(this.context);
  this.dropControllerList = new ArrayList;
  this.boundaryDropController = new BoundaryDropController(boundaryPanel);
  $registerDropController(this, this.boundaryDropController);
  this.dropControllerCollection = new DropControllerCollection(this.dropControllerList);
}

defineClass(1042, 1041, {}, PickupDragController);
_.boundaryOffsetX = 0;
_.boundaryOffsetY = 0;
_.dropTargetClientHeight = 0;
_.dropTargetClientWidth = 0;
_.lastResetCacheTimeMillis = {l:0, m:0, h:0};
var Lcom_allen_1sauer_gwt_dnd_client_PickupDragController_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'PickupDragController', 1042, Lcom_allen_1sauer_gwt_dnd_client_AbstractDragController_2_classLit);
function PickupDragController$SavedWidgetInfo(){
}

defineClass(345, 1, {345:1}, PickupDragController$SavedWidgetInfo);
_.initialDraggableIndex = 0;
var Lcom_allen_1sauer_gwt_dnd_client_PickupDragController$SavedWidgetInfo_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'PickupDragController/SavedWidgetInfo', 345, Ljava_lang_Object_2_classLit);
function $fillInStackTrace(this$static){
  this$static.stackTrace = null;
  captureStackTrace(this$static, this$static.detailMessage);
  return this$static;
}

function $initCause(this$static, cause){
  checkState_2(!this$static.cause);
  checkCriticalArgument_0(cause != this$static, 'Self-causation not permitted');
  this$static.cause = cause;
  return this$static;
}

function $printStackTrace(this$static, out){
  var element, element$array, element$index, element$max, t, stackTrace;
  for (t = this$static; t; t = t.cause) {
    t != this$static && out.print_0('Caused by: ');
    out.println(t);
    for (element$array = (t.stackTrace == null && (t.stackTrace = ($clinit_StackTraceCreator() , stackTrace = collector.getStackTrace(t) , dropInternalFrames(stackTrace))) , t.stackTrace) , element$index = 0 , element$max = element$array.length; element$index < element$max; ++element$index) {
      element = element$array[element$index];
      out.println_0('\tat ' + element);
    }
  }
}

function Throwable(message, cause){
  this.cause = cause;
  this.detailMessage = message;
  $fillInStackTrace(this);
}

defineClass(40, 1, $intern_6);
_.getMessage = function getMessage(){
  return this.detailMessage;
}
;
_.toString$ = function toString_4(){
  var className, msg;
  className = $getName(this.___clazz$);
  msg = this.getMessage();
  return msg != null?className + ': ' + msg:className;
}
;
var Ljava_lang_Throwable_2_classLit = createForClass('java.lang', 'Throwable', 40, Ljava_lang_Object_2_classLit);
function Exception(){
  $fillInStackTrace(this);
}

function Exception_0(message){
  this.detailMessage = message;
  $fillInStackTrace(this);
}

defineClass(37, 40, $intern_7);
var Ljava_lang_Exception_2_classLit = createForClass('java.lang', 'Exception', 37, Ljava_lang_Throwable_2_classLit);
function VetoDragException(){
  Exception.call(this);
}

defineClass(273, 37, {273:1, 3:1, 37:1, 40:1}, VetoDragException);
var Lcom_allen_1sauer_gwt_dnd_client_VetoDragException_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client', 'VetoDragException', 273, Ljava_lang_Exception_2_classLit);
function AbstractDropController(dropTarget){
  this.dropTarget_0 = dropTarget;
  setStyleName(dropTarget.getStyleElement(), 'dragdrop-dropTarget', true);
}

defineClass(465, 1, $intern_8);
_.getDropTarget = function getDropTarget(){
  return this.dropTarget_0;
}
;
_.onDrop = function onDrop(context){
}
;
_.onEnter = function onEnter(context){
  $addStyleName(this.dropTarget_0, 'dragdrop-dropTarget-engage');
}
;
_.onLeave = function onLeave(context){
  $removeStyleName(this.dropTarget_0, 'dragdrop-dropTarget-engage');
}
;
_.onMove = function onMove(context){
}
;
_.onPreviewDrop = function onPreviewDrop(context){
}
;
var Lcom_allen_1sauer_gwt_dnd_client_drop_AbstractDropController_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.drop', 'AbstractDropController', 465, Ljava_lang_Object_2_classLit);
defineClass(1043, 465, $intern_8);
var Lcom_allen_1sauer_gwt_dnd_client_drop_AbstractPositioningDropController_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.drop', 'AbstractPositioningDropController', 1043, Lcom_allen_1sauer_gwt_dnd_client_drop_AbstractDropController_2_classLit);
function $clinit_AbsolutePositionDropController(){
  $clinit_AbsolutePositionDropController = emptyMethod;
  DUMMY_LABEL_IE_QUIRKS_MODE_OFFSET_HEIGHT = new Label_1('x');
}

function $calcDropTargetOffset(this$static){
  var dropTargetLocation;
  dropTargetLocation = new WidgetLocation(this$static.dropTarget, null);
  this$static.dropTargetOffsetX = dropTargetLocation.left_0 + ($clinit_DOMUtil() , $getBorderLeft($getElement(this$static.dropTarget)));
  this$static.dropTargetOffsetY = dropTargetLocation.top_0 + $getBorderTop($getElement(this$static.dropTarget));
}

function $makePositioner(reference){
  var inner, offsetHeight, offsetWidth, outer;
  outer = new SimplePanel;
  setStyleName(outer.getStyleElement(), 'dragdrop-positioner', true);
  ($clinit_DOM() , outer.element).style['margin'] = '0px';
  $add_8(($clinit_RootPanel() , get_14(null)), outer, -500, -500);
  outer.setWidget(DUMMY_LABEL_IE_QUIRKS_MODE_OFFSET_HEIGHT);
  inner = new SimplePanel;
  inner.element.style['margin'] = '0px';
  inner.element.style['border'] = 'none';
  offsetWidth = reference.getOffsetWidth() - ($clinit_DOMUtil() , outer.getOffsetWidth() - (outer.element.clientWidth || 0));
  offsetHeight = reference.getOffsetHeight() - (outer.getOffsetHeight() - (outer.element.clientHeight || 0));
  inner.setPixelSize(offsetWidth, offsetHeight);
  outer.setWidget(inner);
  return outer;
}

function $onMove(this$static, context){
  var draggable, draggable$iterator;
  for (draggable$iterator = new AbstractList$IteratorImpl(this$static.draggableList); draggable$iterator.i < draggable$iterator.this$01_0.size_1();) {
    draggable = (checkCriticalElement(draggable$iterator.i < draggable$iterator.this$01_0.size_1()) , dynamicCast(draggable$iterator.this$01_0.get_0(draggable$iterator.last = draggable$iterator.i++), 237));
    draggable.desiredX = context.desiredDraggableX - this$static.dropTargetOffsetX + draggable.relativeX;
    draggable.desiredY = context.desiredDraggableY - this$static.dropTargetOffsetY + draggable.relativeY;
    draggable.desiredX = max_1(0, min_1(draggable.desiredX, this$static.dropTargetClientWidth - draggable.offsetWidth_0));
    draggable.desiredY = max_1(0, min_1(draggable.desiredY, this$static.dropTargetClientHeight - draggable.offsetHeight_0));
    $add_8(this$static.dropTarget, draggable.positioner, draggable.desiredX, draggable.desiredY);
  }
  context.dragController.scrollIntoView && $scrollIntoView($getElement(dynamicCast($get(this$static.draggableList, this$static.draggableList.array.length - 1), 237).positioner));
  $calcDropTargetOffset(this$static);
}

function AbsolutePositionDropController(dropTarget){
  AbstractDropController.call(this, dropTarget);
  this.draggableList = new ArrayList;
  this.dropTarget = dropTarget;
}

defineClass(466, 1043, $intern_8);
_.makePositioner = function makePositioner(reference){
  return $makePositioner(reference);
}
;
_.onDrop = function onDrop_0(context){
  var draggable, draggable$iterator;
  for (draggable$iterator = new AbstractList$IteratorImpl(this.draggableList); draggable$iterator.i < draggable$iterator.this$01_0.size_1();) {
    draggable = (checkCriticalElement(draggable$iterator.i < draggable$iterator.this$01_0.size_1()) , dynamicCast(draggable$iterator.this$01_0.get_0(draggable$iterator.last = draggable$iterator.i++), 237));
    $removeFromParent(draggable.positioner);
    $add_8(this.dropTarget, draggable.widget, draggable.desiredX, draggable.desiredY);
  }
}
;
_.onEnter = function onEnter_0(context){
  var draggable, draggableAbsoluteLeft, draggableAbsoluteTop, widget, widget$iterator;
  $addStyleName(this.dropTarget_0, 'dragdrop-dropTarget-engage');
  this.dropTargetClientWidth = ($clinit_DOMUtil() , $getElement(this.dropTarget).clientWidth || 0);
  this.dropTargetClientHeight = $getElement(this.dropTarget).clientHeight || 0;
  $calcDropTargetOffset(this);
  draggableAbsoluteLeft = $getAbsoluteLeft_0(($clinit_DOM() , context.draggable.element));
  draggableAbsoluteTop = $getAbsoluteTop_0(context.draggable.element);
  for (widget$iterator = new AbstractList$IteratorImpl(context.selectedWidgets); widget$iterator.i < widget$iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(widget$iterator.i < widget$iterator.this$01_0.size_1()) , dynamicCast(widget$iterator.this$01_0.get_0(widget$iterator.last = widget$iterator.i++), 7));
    draggable = new AbsolutePositionDropController$Draggable(widget);
    draggable.positioner = this.makePositioner(widget);
    draggable.relativeX = $getAbsoluteLeft_0(widget.element) - draggableAbsoluteLeft;
    draggable.relativeY = $getAbsoluteTop_0(widget.element) - draggableAbsoluteTop;
    this.draggableList.add_0(draggable);
  }
}
;
_.onLeave = function onLeave_0(context){
  var draggable, draggable$iterator;
  for (draggable$iterator = new AbstractList$IteratorImpl(this.draggableList); draggable$iterator.i < draggable$iterator.this$01_0.size_1();) {
    draggable = (checkCriticalElement(draggable$iterator.i < draggable$iterator.this$01_0.size_1()) , dynamicCast(draggable$iterator.this$01_0.get_0(draggable$iterator.last = draggable$iterator.i++), 237));
    $removeFromParent(draggable.positioner);
  }
  this.draggableList.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  $removeStyleName(this.dropTarget_0, 'dragdrop-dropTarget-engage');
}
;
_.onMove = function onMove_0(context){
  $onMove(this, context);
}
;
_.dropTargetClientHeight = 0;
_.dropTargetClientWidth = 0;
_.dropTargetOffsetX = 0;
_.dropTargetOffsetY = 0;
var DUMMY_LABEL_IE_QUIRKS_MODE_OFFSET_HEIGHT;
var Lcom_allen_1sauer_gwt_dnd_client_drop_AbsolutePositionDropController_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.drop', 'AbsolutePositionDropController', 466, Lcom_allen_1sauer_gwt_dnd_client_drop_AbstractPositioningDropController_2_classLit);
function AbsolutePositionDropController$Draggable(widget){
  this.widget = widget;
  this.offsetWidth_0 = widget.getOffsetWidth();
  this.offsetHeight_0 = widget.getOffsetHeight();
}

defineClass(237, 1, {237:1}, AbsolutePositionDropController$Draggable);
_.desiredX = 0;
_.desiredY = 0;
_.offsetHeight_0 = 0;
_.offsetWidth_0 = 0;
_.positioner = null;
_.relativeX = 0;
_.relativeY = 0;
var Lcom_allen_1sauer_gwt_dnd_client_drop_AbsolutePositionDropController$Draggable_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.drop', 'AbsolutePositionDropController/Draggable', 237, Ljava_lang_Object_2_classLit);
function BoundaryDropController(dropTarget){
  $clinit_AbsolutePositionDropController();
  AbsolutePositionDropController.call(this, dropTarget);
  setStyleName(($clinit_DOM() , dropTarget.element), 'dragdrop-boundary', true);
  this.allowDroppingOnBoundaryPanel = false;
}

defineClass(1151, 466, $intern_8, BoundaryDropController);
_.makePositioner = function makePositioner_0(reference){
  return this.allowDroppingOnBoundaryPanel?$makePositioner(reference):new SimplePanel;
}
;
_.onPreviewDrop = function onPreviewDrop_0(context){
  if (!this.allowDroppingOnBoundaryPanel) {
    throw new VetoDragException;
  }
}
;
_.allowDroppingOnBoundaryPanel = true;
var Lcom_allen_1sauer_gwt_dnd_client_drop_BoundaryDropController_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.drop', 'BoundaryDropController', 1151, Lcom_allen_1sauer_gwt_dnd_client_drop_AbsolutePositionDropController_2_classLit);
function GridConstrainedDropController(dropTarget, gridY){
  $clinit_AbsolutePositionDropController();
  AbsolutePositionDropController.call(this, dropTarget);
  this.gridX = 100;
  this.gridY = gridY;
}

defineClass(467, 466, $intern_8, GridConstrainedDropController);
_.onMove = function onMove_1(context){
  var draggable, draggable$iterator;
  $onMove(this, context);
  for (draggable$iterator = new AbstractList$IteratorImpl(this.draggableList); draggable$iterator.i < draggable$iterator.this$01_0.size_1();) {
    draggable = (checkCriticalElement(draggable$iterator.i < draggable$iterator.this$01_0.size_1()) , dynamicCast(draggable$iterator.this$01_0.get_0(draggable$iterator.last = draggable$iterator.i++), 237));
    draggable.desiredX = context.desiredDraggableX - this.dropTargetOffsetX + draggable.relativeX;
    draggable.desiredY = context.desiredDraggableY - this.dropTargetOffsetY + draggable.relativeY;
    draggable.desiredX = max_1(0, min_1(draggable.desiredX, this.dropTargetClientWidth - draggable.offsetWidth_0));
    draggable.desiredY = max_1(0, min_1(draggable.desiredY, this.dropTargetClientHeight - draggable.offsetHeight_0));
    draggable.desiredX = round_0(draggable.desiredX / this.gridX) * this.gridX;
    draggable.desiredY = round_0(draggable.desiredY / this.gridY) * this.gridY;
    $add_8(this.dropTarget, draggable.positioner, draggable.desiredX, draggable.desiredY);
  }
}
;
_.gridX = 0;
_.gridY = 0;
var Lcom_allen_1sauer_gwt_dnd_client_drop_GridConstrainedDropController_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.drop', 'GridConstrainedDropController', 467, Lcom_allen_1sauer_gwt_dnd_client_drop_AbsolutePositionDropController_2_classLit);
function SimpleDropController(dropTarget){
  AbstractDropController.call(this, dropTarget);
}

defineClass(1157, 465, $intern_8);
var Lcom_allen_1sauer_gwt_dnd_client_drop_SimpleDropController_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.drop', 'SimpleDropController', 1157, Lcom_allen_1sauer_gwt_dnd_client_drop_AbstractDropController_2_classLit);
function $intersects(this$static, targetArea){
  if (this$static.right < targetArea.left_0 || this$static.left_0 > targetArea.right || this$static.bottom < targetArea.top_0 || this$static.top_0 > targetArea.bottom) {
    return false;
  }
  return true;
}

function $setBottom(this$static, bottom){
  this$static.bottom = bottom;
}

function $setLeft(this$static, left){
  this$static.left_0 = left;
}

function $setRight(this$static, right){
  this$static.right = right;
}

function $setTop(this$static, top_0){
  this$static.top_0 = top_0;
}

defineClass(1536, 1, {});
_.toString$ = function toString_5(){
  return '[ (' + this.left_0 + ', ' + this.top_0 + ') - (' + this.right + ', ' + this.bottom + ') ]';
}
;
_.bottom = 0;
_.left_0 = 0;
_.right = 0;
_.top_0 = 0;
var Lcom_allen_1sauer_gwt_dnd_client_util_AbstractArea_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.util', 'AbstractArea', 1536, Ljava_lang_Object_2_classLit);
defineClass(1533, 1, {526:1});
_.toString$ = function toString_6(){
  return '(' + this.getLeft() + ', ' + this.getTop() + ')';
}
;
var Lcom_allen_1sauer_gwt_dnd_client_util_AbstractLocation_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.util', 'AbstractLocation', 1533, Ljava_lang_Object_2_classLit);
function CoordinateLocation(left, top_0){
  this.left_0 = left;
  this.top_0 = top_0;
}

defineClass(509, 1533, {526:1}, CoordinateLocation);
_.getLeft = function getLeft(){
  return this.left_0;
}
;
_.getTop = function getTop(){
  return this.top_0;
}
;
_.left_0 = 0;
_.top_0 = 0;
var Lcom_allen_1sauer_gwt_dnd_client_util_CoordinateLocation_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.util', 'CoordinateLocation', 509, Lcom_allen_1sauer_gwt_dnd_client_util_AbstractLocation_2_classLit);
function $clinit_DOMUtil(){
  $clinit_DOMUtil = emptyMethod;
  impl_0 = new DOMUtilImplSafari;
}

function createTouchEndEvent(bubbles, cancelable, detail, changedTouches){
  $clinit_DOMUtil();
  var evt = $doc.createEvent('TouchEvent');
  var view = null;
  evt.initUIEvent('touchend', bubbles, cancelable, view, detail);
  evt.changedTouches = changedTouches;
  return evt;
}

function fastSetElementPosition(elem, left, top_0){
  $clinit_DOMUtil();
  elem.style['left'] = left + ($clinit_Style$Unit() , 'px');
  elem.style['top'] = top_0 + 'px';
}

function reportFatalAndThrowRuntimeException(msg){
  $clinit_DOMUtil();
  msg = 'gwt-dnd warning: ' + msg;
  alert_0(msg);
  throw new RuntimeException_0(msg);
}

var impl_0;
function getShortTypeName(obj){
  var typeName;
  typeName = $getName(getClass__Ljava_lang_Class___devirtual$(obj));
  return $substring(typeName, $lastIndexOf(typeName, fromCodePoint(46)) + 1);
}

function WidgetArea(widget){
  var bottom, elem, left, p, right, top_0;
  $setLeft(this, $getAbsoluteLeft_0(($clinit_DOM() , widget.element)));
  $setTop(this, $getAbsoluteTop_0(widget.element));
  $setRight(this, this.left_0 + widget.getOffsetWidth());
  $setBottom(this, this.top_0 + widget.getOffsetHeight());
  elem = widget.element.offsetParent;
  while (!!elem && !!(p = elem.offsetParent)) {
    if (!$equals_5('visible', ($clinit_DOMUtil() , $getEffectiveStyle(impl_0, elem, 'overflow')))) {
      left = $getAbsoluteLeft_0(elem);
      this.left_0 < left && (this.left_0 = left);
      top_0 = $getAbsoluteTop_0(elem);
      this.top_0 < top_0 && (this.top_0 = top_0);
      bottom = top_0 + ($getSubPixelOffsetHeight(elem) | 0);
      this.bottom > bottom && $setBottom(this, max_1(this.top_0, bottom));
      right = left + ((elem.offsetWidth || 0) | 0);
      this.right > right && $setRight(this, max_1(this.left_0, right));
    }
    elem = p;
  }
}

defineClass(512, 1536, {}, WidgetArea);
var Lcom_allen_1sauer_gwt_dnd_client_util_WidgetArea_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.util', 'WidgetArea', 512, Lcom_allen_1sauer_gwt_dnd_client_util_AbstractArea_2_classLit);
function $internalSetReference(this$static, reference){
  if (!reference || reference == ($clinit_RootPanel() , get_14(null))) {
    this$static.referenceAdjustLeft = 0;
    this$static.referenceAdjustTop = 0;
  }
   else {
    this$static.referenceAdjustLeft = $getAbsoluteLeft_0(($clinit_DOM() , reference.element)) + ($clinit_DOMUtil() , $getBorderLeft(reference.element));
    this$static.referenceAdjustTop = $getAbsoluteTop_0(reference.element) + $getBorderTop(reference.element);
  }
}

function $internalSetWidget(this$static, widget){
  if (!widget || widget == ($clinit_RootPanel() , get_14(null))) {
    this$static.widgetLeft = 0;
    this$static.widgetTop = 0;
  }
   else {
    this$static.widgetLeft = $getAbsoluteLeft_0(($clinit_DOM() , widget.element)) - $getScrollLeft_0(widget.element);
    this$static.widgetTop = $getAbsoluteTop_0(widget.element) - ((widget.element.scrollTop || 0) | 0);
  }
}

function WidgetLocation(widget, reference){
  $internalSetWidget(this, widget);
  $internalSetReference(this, reference);
  this.left_0 = this.widgetLeft - this.referenceAdjustLeft;
  this.top_0 = this.widgetTop - this.referenceAdjustTop;
}

defineClass(191, 1533, {526:1}, WidgetLocation);
_.getLeft = function getLeft_0(){
  return this.left_0;
}
;
_.getTop = function getTop_0(){
  return this.top_0;
}
;
_.toString$ = function toString_7(){
  return '(' + this.left_0 + ', ' + this.top_0 + ')';
}
;
_.left_0 = 0;
_.referenceAdjustLeft = 0;
_.referenceAdjustTop = 0;
_.top_0 = 0;
_.widgetLeft = 0;
_.widgetTop = 0;
var Lcom_allen_1sauer_gwt_dnd_client_util_WidgetLocation_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.util', 'WidgetLocation', 191, Lcom_allen_1sauer_gwt_dnd_client_util_AbstractLocation_2_classLit);
function $getEffectiveStyle(this$static, elem, style){
  return this$static.getComputedStyle_0(elem, style) || (elem.currentStyle?elem.currentStyle[style]:null) || elem.style[style];
}

defineClass(1534, 1, {});
_.getComputedStyle_0 = function getComputedStyle_0(elem, style){
  if ($doc.defaultView && $doc.defaultView.getComputedStyle) {
    var styles = $doc.defaultView.getComputedStyle(elem, '');
    if (styles) {
      return styles[style];
    }
  }
  return null;
}
;
var Lcom_allen_1sauer_gwt_dnd_client_util_impl_DOMUtilImpl_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.util.impl', 'DOMUtilImpl', 1534, Ljava_lang_Object_2_classLit);
defineClass(1535, 1534, {});
var Lcom_allen_1sauer_gwt_dnd_client_util_impl_DOMUtilImplStandard_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.util.impl', 'DOMUtilImplStandard', 1535, Lcom_allen_1sauer_gwt_dnd_client_util_impl_DOMUtilImpl_2_classLit);
function $getBorderLeft(elem){
  var computedStyle = $doc.defaultView.getComputedStyle(elem, null);
  if (computedStyle != null) {
    var borderLeftWidth = computedStyle.getPropertyValue('border-left-width');
    return borderLeftWidth.indexOf('px') == -1?0:parseInt(borderLeftWidth.substr(0, borderLeftWidth.length - 2));
  }
   else {
    return 0;
  }
}

function $getBorderTop(elem){
  var computedStyle = $doc.defaultView.getComputedStyle(elem, null);
  if (computedStyle != null) {
    var borderTopWidth = computedStyle.getPropertyValue('border-top-width');
    return borderTopWidth.indexOf('px') == -1?0:parseInt(borderTopWidth.substr(0, borderTopWidth.length - 2));
  }
   else {
    return 0;
  }
}

function DOMUtilImplSafari(){
}

defineClass(1390, 1535, {}, DOMUtilImplSafari);
var Lcom_allen_1sauer_gwt_dnd_client_util_impl_DOMUtilImplSafari_2_classLit = createForClass('com.allen_sauer.gwt.dnd.client.util.impl', 'DOMUtilImplSafari', 1390, Lcom_allen_1sauer_gwt_dnd_client_util_impl_DOMUtilImplStandard_2_classLit);
function $clinit_AbstractSound(){
  $clinit_AbstractSound = emptyMethod;
  INITIAL_LOAD_STATE = ($clinit_Sound$LoadState() , LOAD_STATE_UNINITIALIZED);
}

function $addEventHandler(this$static, handler){
  $add_0(this$static.soundHandlerCollection, handler);
  this$static.loadState != INITIAL_LOAD_STATE && $onSoundLoadStateChange(handler, new SoundLoadStateChangeEvent(this$static));
}

function $setLoadState(this$static, loadState){
  if (loadState != this$static.loadState) {
    this$static.loadState = loadState;
    loadState != INITIAL_LOAD_STATE && $fireOnSoundLoadStateChange(this$static.soundHandlerCollection, this$static);
  }
}

function AbstractSound(mimeType, url_0){
  $clinit_AbstractSound();
  this.soundHandlerCollection = new SoundHandlerCollection;
  this.loadState = INITIAL_LOAD_STATE;
  this.mimeType = mimeType;
  this.url_0 = url_0;
  this.streaming = false;
  this.crossOrigin = false;
}

defineClass(355, 1, $intern_9);
_.toString$ = function toString_8(){
  return this.getSoundType() + '("' + this.mimeType + '", "' + this.url_0 + '", ' + (this.streaming?'streaming':'not streaming') + ', ' + (this.crossOrigin?'cross origin':'same origin') + ')';
}
;
_.crossOrigin = false;
_.streaming = false;
var INITIAL_LOAD_STATE;
var Lcom_allen_1sauer_gwt_voices_client_AbstractSound_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'AbstractSound', 355, Ljava_lang_Object_2_classLit);
function $clinit_FlashSound(){
  $clinit_FlashSound = emptyMethod;
  $clinit_AbstractSound();
  soundList = new ArrayList;
}

function $playbackCompleted(this$static){
  $fireOnPlaybackComplete(this$static.soundHandlerCollection, this$static);
}

function $registerSound(this$static){
  if (!this$static.soundRegistered) {
    $registerSound_0(this$static.voicesMovie, this$static);
    this$static.soundRegistered = true;
  }
}

function $soundLoaded(this$static){
  $setLoadState(this$static, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_AND_READY));
  this$static.volume_0 != 100 && $setVolume(this$static.voicesMovie, this$static.soundNumber, this$static.volume_0);
  this$static.looping && $setLooping(this$static.voicesMovie, this$static.soundNumber, this$static.looping);
}

function FlashSound(mimeType, url_0, voicesMovie){
  $clinit_FlashSound();
  AbstractSound.call(this, mimeType, url_0);
  this.voicesMovie = voicesMovie;
  this.soundNumber = soundList.array.length;
  soundList.add_0(this);
  $registerSound(this);
}

defineClass(269, 355, {269:1, 323:1}, FlashSound);
_.getSoundType = function getSoundType(){
  return $clinit_SoundType() , FLASH;
}
;
_.play_0 = function play(){
  $registerSound(this);
  if (this.loadState == ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_AND_READY)) {
    return $playSound(this.voicesMovie, this.soundNumber);
  }
  return false;
}
;
_.setLooping_0 = function setLooping(looping){
  this.looping = looping;
  this.loadState == ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_AND_READY) && $setLooping(this.voicesMovie, this.soundNumber, looping);
}
;
_.setVolume_0 = function setVolume(volume){
  this.volume_0 = volume;
  this.loadState == ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_AND_READY) && $setVolume(this.voicesMovie, this.soundNumber, volume);
}
;
_.stop_0 = function stop_0(){
  this.loadState == ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_AND_READY) && $stopSound(this.voicesMovie, this.soundNumber);
}
;
_.looping = false;
_.soundNumber = 0;
_.soundRegistered = false;
_.volume_0 = 100;
var soundList;
var Lcom_allen_1sauer_gwt_voices_client_FlashSound_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'FlashSound', 269, Lcom_allen_1sauer_gwt_voices_client_AbstractSound_2_classLit);
function FlashSound$1(val$index){
  this.val$index1 = val$index;
}

defineClass(1263, 1, {}, FlashSound$1);
_.execute = function execute_2(){
  $playbackCompleted(dynamicCast($get(($clinit_FlashSound() , soundList), this.val$index1), 269));
}
;
_.val$index1 = 0;
var Lcom_allen_1sauer_gwt_voices_client_FlashSound$1_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'FlashSound/1', 1263, Ljava_lang_Object_2_classLit);
function FlashSound$2(val$index){
  this.val$index1 = val$index;
}

defineClass(1264, 1, {}, FlashSound$2);
_.execute = function execute_3(){
  $soundLoaded(dynamicCast($get(($clinit_FlashSound() , soundList), this.val$index1), 269));
}
;
_.val$index1 = 0;
var Lcom_allen_1sauer_gwt_voices_client_FlashSound$2_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'FlashSound/2', 1264, Ljava_lang_Object_2_classLit);
function $createAudioElement(this$static){
  var elem;
  !!this$static.endedRegistration && $removeHandler(this$static.endedRegistration.real);
  !!this$static.audio && $removeFromParent(this$static.audio);
  this$static.audio = createIfSupported_0();
  elem = $getMediaElement(this$static.audio);
  this$static.endedRegistration = $addBitlessDomHandler(this$static.audio, this$static.endedHandler, ($clinit_EndedEvent() , $clinit_EndedEvent() , TYPE_3));
  $add_7(($clinit_RootPanel() , get_14(null)), this$static.audio);
  this$static.crossOrigin && $setAttribute(elem, 'crossOrigin', 'anonymous');
  $setSrc(elem, this$static.url_0);
}

function Html5Sound(mimeType, url_0){
  $clinit_AbstractSound();
  var mimeTypeSupport;
  AbstractSound.call(this, mimeType, url_0);
  this.endedHandler = new Html5Sound$1(this);
  $createAudioElement(this);
  mimeTypeSupport = getMimeTypeSupport(mimeType);
  switch (mimeTypeSupport.ordinal) {
    case 2:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_MAYBE_READY));
      break;
    case 0:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_NOT_SUPPORTED));
      break;
    case 3:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORT_NOT_KNOWN));
      throw new IllegalArgumentException_0('unexpected MIME type support ' + mimeTypeSupport);
    default:throw new IllegalArgumentException_0('unknown MIME type support ' + mimeTypeSupport);
  }
}

function getMimeTypeSupport(mimeType){
  $clinit_AbstractSound();
  var support;
  if (!isSupported()) {
    return $clinit_SoundController$MimeTypeSupport() , MIME_TYPE_NOT_SUPPORTED;
  }
  support = $canPlayType($getMediaElement(createIfSupported_0()), mimeType);
  if ($equals_5('probably', support)) {
    return $clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY;
  }
  if ($equals_5('maybe', support)) {
    return $clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY;
  }
  return $clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_UNKNOWN;
}

defineClass(1282, 355, $intern_9, Html5Sound);
_.getSoundType = function getSoundType_0(){
  return $clinit_SoundType() , HTML5;
}
;
_.play_0 = function play_0(){
  var elem;
  elem = $getMediaElement(this.audio);
  $pause(elem);
  try {
    elem.currentTime = 0;
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (!instanceOf($e0, 37))
      throw unwrap($e0);
  }
  elem.currentTime != 0 && $createAudioElement(this);
  elem.play();
  return true;
}
;
_.setLooping_0 = function setLooping_0(looping){
  $setBooleanAttr($getMediaElement(this.audio), looping);
}
;
_.setVolume_0 = function setVolume_0(volume){
  $setVolume_1($getMediaElement(this.audio), volume / 100);
}
;
_.stop_0 = function stop_1(){
  $pause($getMediaElement(this.audio));
}
;
var Lcom_allen_1sauer_gwt_voices_client_Html5Sound_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'Html5Sound', 1282, Lcom_allen_1sauer_gwt_voices_client_AbstractSound_2_classLit);
function Html5Sound$1(this$0){
  this.this$01 = this$0;
}

defineClass(1283, 1, {1548:1, 6:1}, Html5Sound$1);
var Lcom_allen_1sauer_gwt_voices_client_Html5Sound$1_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'Html5Sound/1', 1283, Ljava_lang_Object_2_classLit);
function NativeSound(mimeType, url_0, soundControllerElement){
  var m;
  $clinit_AbstractSound();
  var mimeTypeSupport;
  AbstractSound.call(this, mimeType, url_0);
  this.soundControllerElement = soundControllerElement;
  $preload(soundControllerElement, mimeType, url_0);
  this.element = $createElement(url_0);
  mimeTypeSupport = (m = navigator.mimeTypes[mimeType] , m != null && m.enabledPlugin != null?($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY):($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_NOT_SUPPORTED));
  switch (mimeTypeSupport.ordinal) {
    case 2:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_MAYBE_READY));
      break;
    case 0:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_NOT_SUPPORTED));
      break;
    case 3:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORT_NOT_KNOWN));
      break;
    case 1:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_NOT_READY));
      break;
    default:throw new IllegalArgumentException_0('unknown MIME type support ' + mimeTypeSupport);
  }
}

defineClass(1265, 355, $intern_9, NativeSound);
_.getSoundType = function getSoundType_1(){
  return $clinit_SoundType() , NATIVE;
}
;
_.play_0 = function play_1(){
  return $play(this.soundControllerElement, this.element);
}
;
_.setLooping_0 = function setLooping_1(looping){
  $setAttribute(this.element, 'loop', 'infinite');
}
;
_.setVolume_0 = function setVolume_1(volume){
  $setVolume_0(this.element, volume);
}
;
_.stop_0 = function stop_2(){
  $stop(this.element);
}
;
var Lcom_allen_1sauer_gwt_voices_client_NativeSound_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'NativeSound', 1265, Lcom_allen_1sauer_gwt_voices_client_AbstractSound_2_classLit);
function $compareTo_0(this$static, other){
  return this$static.ordinal - other.ordinal;
}

function $name(this$static){
  return this$static.name_0 != null?this$static.name_0:'' + this$static.ordinal;
}

function $toString_1(this$static){
  return this$static.name_0 != null?this$static.name_0:'' + this$static.ordinal;
}

function Enum(name_0, ordinal){
  this.name_0 = name_0;
  this.ordinal = ordinal;
}

function createValueOfMap(enumConstants){
  var result, value_0, value$index, value$max;
  result = {};
  for (value$index = 0 , value$max = enumConstants.length; value$index < value$max; ++value$index) {
    value_0 = enumConstants[value$index];
    result[':' + (value_0.name_0 != null?value_0.name_0:'' + value_0.ordinal)] = value_0;
  }
  return result;
}

function valueOf(map_0, name_0){
  var result;
  checkNotNull_1(name_0);
  result = map_0[':' + name_0];
  checkCriticalArgument_1(!!result, 'Enum constant undefined: %s', initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, [name_0]));
  return result;
}

function valueOf_0(enumType, name_0){
  var enumValueOfFunc;
  enumValueOfFunc = enumType.enumValueOfFunc;
  checkCriticalArgument(!!enumValueOfFunc);
  return enumValueOfFunc(name_0);
}

defineClass(9, 1, {3:1, 21:1, 9:1});
_.compareTo = function compareTo_0(other){
  return $compareTo_0(this, dynamicCast(other, 9));
}
;
_.equals$ = function equals_3(other){
  return this === other;
}
;
_.hashCode$ = function hashCode_3(){
  return getHashCode(this);
}
;
_.toString$ = function toString_9(){
  return $toString_1(this);
}
;
_.ordinal = 0;
var Ljava_lang_Enum_2_classLit = createForClass('java.lang', 'Enum', 9, Ljava_lang_Object_2_classLit);
function $clinit_Sound$LoadState(){
  $clinit_Sound$LoadState = emptyMethod;
  LOAD_STATE_NOT_SUPPORTED = new Sound$LoadState('LOAD_STATE_NOT_SUPPORTED', 0);
  LOAD_STATE_SUPPORT_NOT_KNOWN = new Sound$LoadState('LOAD_STATE_SUPPORT_NOT_KNOWN', 1);
  LOAD_STATE_SUPPORTED_AND_READY = new Sound$LoadState('LOAD_STATE_SUPPORTED_AND_READY', 2);
  LOAD_STATE_SUPPORTED_MAYBE_READY = new Sound$LoadState('LOAD_STATE_SUPPORTED_MAYBE_READY', 3);
  LOAD_STATE_SUPPORTED_NOT_READY = new Sound$LoadState('LOAD_STATE_SUPPORTED_NOT_READY', 4);
  LOAD_STATE_UNINITIALIZED = new Sound$LoadState('LOAD_STATE_UNINITIALIZED', 5);
}

function Sound$LoadState(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_1(name_0){
  $clinit_Sound$LoadState();
  return valueOf(($clinit_Sound$LoadState$Map() , $MAP), name_0);
}

function values_0(){
  $clinit_Sound$LoadState();
  return initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_Sound$LoadState_2_classLit, 1), $intern_1, 201, 0, [LOAD_STATE_NOT_SUPPORTED, LOAD_STATE_SUPPORT_NOT_KNOWN, LOAD_STATE_SUPPORTED_AND_READY, LOAD_STATE_SUPPORTED_MAYBE_READY, LOAD_STATE_SUPPORTED_NOT_READY, LOAD_STATE_UNINITIALIZED]);
}

defineClass(201, 9, {201:1, 3:1, 21:1, 9:1}, Sound$LoadState);
var LOAD_STATE_NOT_SUPPORTED, LOAD_STATE_SUPPORTED_AND_READY, LOAD_STATE_SUPPORTED_MAYBE_READY, LOAD_STATE_SUPPORTED_NOT_READY, LOAD_STATE_SUPPORT_NOT_KNOWN, LOAD_STATE_UNINITIALIZED;
var Lcom_allen_1sauer_gwt_voices_client_Sound$LoadState_2_classLit = createForEnum('com.allen_sauer.gwt.voices.client', 'Sound/LoadState', 201, Ljava_lang_Enum_2_classLit, values_0, valueOf_1);
function $clinit_Sound$LoadState$Map(){
  $clinit_Sound$LoadState$Map = emptyMethod;
  $MAP = createValueOfMap(($clinit_Sound$LoadState() , initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_Sound$LoadState_2_classLit, 1), $intern_1, 201, 0, [LOAD_STATE_NOT_SUPPORTED, LOAD_STATE_SUPPORT_NOT_KNOWN, LOAD_STATE_SUPPORTED_AND_READY, LOAD_STATE_SUPPORTED_MAYBE_READY, LOAD_STATE_SUPPORTED_NOT_READY, LOAD_STATE_UNINITIALIZED])));
}

var $MAP;
function $clinit_SoundController(){
  $clinit_SoundController = emptyMethod;
  $wnd.$GWT_VOICES_VERSION = '3.3.2';
}

function $createSound(this$static, mimeType, url_0){
  var sound;
  sound = $createSoundImpl(this$static, mimeType, url_0);
  sound.setVolume_0(this$static.defaultVolume);
  return sound;
}

function $createSoundImpl(this$static, mimeType, url_0){
  var c, c$array, c$index, c$max, sound;
  sound = null;
  for (c$array = this$static.preferredSoundTypes , c$index = 0 , c$max = c$array.length; c$index < c$max; ++c$index) {
    c = c$array[c$index];
    switch (c.ordinal) {
      case 1:
        sound = $createSoundImplHtml5(mimeType, url_0);
        break;
      case 0:
        sound = $createSoundImplFlash(this$static, mimeType, url_0);
        break;
      case 2:
        sound = $createSoundImplWebAudio(mimeType, url_0);
        break;
      case 3:
        sound = $createSoundImplWebAudio(mimeType, url_0);
    }
    if (sound) {
      return sound;
    }
  }
  sound = $createSoundImplWebAudio(mimeType, url_0);
  if (sound) {
    return sound;
  }
  sound = $createSoundImplFlash(this$static, mimeType, url_0);
  if (sound) {
    return sound;
  }
  sound = $createSoundImplHtml5(mimeType, url_0);
  if (sound) {
    return sound;
  }
  sound = new NativeSound(mimeType, url_0, this$static.soundContainer);
  return sound;
}

function $createSoundImplFlash(this$static, mimeType, url_0){
  var mimeTypeSupport, sound, vm;
  if ($equals_5(url_0.substr(0, 5), 'data:')) {
    return null;
  }
  if ($getMajorVersion() >= 9) {
    vm = $getVoicesMovie(this$static);
    mimeTypeSupport = $getMimeTypeSupport(vm, mimeType);
    if (mimeTypeSupport == ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY) || mimeTypeSupport == MIME_TYPE_SUPPORT_NOT_READY) {
      sound = new FlashSound(mimeType, url_0, vm);
      return sound;
    }
  }
  return null;
}

function $createSoundImplHtml5(mimeType, url_0){
  if (getMimeTypeSupport(mimeType) == ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY)) {
    return new Html5Sound(mimeType, url_0);
  }
  return null;
}

function $createSoundImplWebAudio(mimeType, url_0){
  if (getMimeTypeSupport_0(mimeType) == ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY)) {
    return new WebAudioSound(mimeType, url_0);
  }
  return null;
}

function $getVoicesMovie(this$static){
  if (!this$static.voicesWrapper) {
    this$static.voicesWrapper = new VoicesMovie('gwtVoices' + uniqueId++, this$static.gwtVoicesSwfBaseUrl);
    $clinit_DOM();
    $appendChild(this$static.soundContainer, resolve(this$static.voicesWrapper.element));
  }
  return this$static.voicesWrapper;
}

function $setPreferredSoundTypes(this$static, soundTypes){
  var s$index, s$max;
  for (s$index = 0 , s$max = soundTypes.length; s$index < s$max; ++s$index)
  ;
  this$static.preferredSoundTypes = soundTypes;
}

function SoundController(){
  var gwtVoices, style;
  $clinit_SoundController();
  this.soundContainer = ($clinit_DOM() , $doc.createElement('div'));
  this.gwtVoicesSwfBaseUrl = getHostPageBaseURL();
  gwtVoices = getParameter('gwt-voices');
  $equals_5(($clinit_SoundType() , FLASH).queryParameterValue, gwtVoices)?$setPreferredSoundTypes(this, initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [FLASH])):$equals_5(HTML5.queryParameterValue, gwtVoices)?$setPreferredSoundTypes(this, initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [HTML5])):$equals_5(WEB_AUDIO.queryParameterValue, gwtVoices)?$setPreferredSoundTypes(this, initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [WEB_AUDIO])):$equals_5(NATIVE.queryParameterValue, gwtVoices)?$setPreferredSoundTypes(this, initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [NATIVE])):$setPreferredSoundTypes(this, initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [WEB_AUDIO, FLASH, HTML5]));
  $appendChild(getBodyElement(), this.soundContainer);
  style = this.soundContainer.style;
  $setPropertyImpl(style, 'position', ($clinit_Style$Position() , 'absolute'));
  $setPropertyImpl(style, 'overflow', ($clinit_Style$Overflow() , 'hidden'));
  $setPropertyImpl(style, 'left', ($clinit_Style$Unit() , '-500.0px'));
  $setPropertyImpl(style, 'top', '-500.0px');
  $setPropertyImpl(style, 'width', '0.0px');
  $setPropertyImpl(style, 'height', '0.0px');
}

defineClass(441, 1, {}, SoundController);
_.defaultVolume = 100;
var Lcom_allen_1sauer_gwt_voices_client_SoundController_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'SoundController', 441, Ljava_lang_Object_2_classLit);
function $clinit_SoundController$MimeTypeSupport(){
  $clinit_SoundController$MimeTypeSupport = emptyMethod;
  MIME_TYPE_NOT_SUPPORTED = new SoundController$MimeTypeSupport('MIME_TYPE_NOT_SUPPORTED', 0);
  MIME_TYPE_SUPPORT_NOT_READY = new SoundController$MimeTypeSupport('MIME_TYPE_SUPPORT_NOT_READY', 1);
  MIME_TYPE_SUPPORT_READY = new SoundController$MimeTypeSupport('MIME_TYPE_SUPPORT_READY', 2);
  MIME_TYPE_SUPPORT_UNKNOWN = new SoundController$MimeTypeSupport('MIME_TYPE_SUPPORT_UNKNOWN', 3);
}

function SoundController$MimeTypeSupport(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_2(name_0){
  $clinit_SoundController$MimeTypeSupport();
  return valueOf(($clinit_SoundController$MimeTypeSupport$Map() , $MAP_0), name_0);
}

function values_1(){
  $clinit_SoundController$MimeTypeSupport();
  return initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundController$MimeTypeSupport_2_classLit, 1), $intern_1, 228, 0, [MIME_TYPE_NOT_SUPPORTED, MIME_TYPE_SUPPORT_NOT_READY, MIME_TYPE_SUPPORT_READY, MIME_TYPE_SUPPORT_UNKNOWN]);
}

defineClass(228, 9, {228:1, 3:1, 21:1, 9:1}, SoundController$MimeTypeSupport);
var MIME_TYPE_NOT_SUPPORTED, MIME_TYPE_SUPPORT_NOT_READY, MIME_TYPE_SUPPORT_READY, MIME_TYPE_SUPPORT_UNKNOWN;
var Lcom_allen_1sauer_gwt_voices_client_SoundController$MimeTypeSupport_2_classLit = createForEnum('com.allen_sauer.gwt.voices.client', 'SoundController/MimeTypeSupport', 228, Ljava_lang_Enum_2_classLit, values_1, valueOf_2);
function $clinit_SoundController$MimeTypeSupport$Map(){
  $clinit_SoundController$MimeTypeSupport$Map = emptyMethod;
  $MAP_0 = createValueOfMap(($clinit_SoundController$MimeTypeSupport() , initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundController$MimeTypeSupport_2_classLit, 1), $intern_1, 228, 0, [MIME_TYPE_NOT_SUPPORTED, MIME_TYPE_SUPPORT_NOT_READY, MIME_TYPE_SUPPORT_READY, MIME_TYPE_SUPPORT_UNKNOWN])));
}

var $MAP_0;
function $clinit_SoundType(){
  $clinit_SoundType = emptyMethod;
  FLASH = new SoundType('FLASH', 0, 'flash');
  HTML5 = new SoundType('HTML5', 1, 'html5');
  NATIVE = new SoundType('NATIVE', 2, 'native');
  WEB_AUDIO = new SoundType('WEB_AUDIO', 3, 'webaudio');
}

function SoundType(enum$name, enum$ordinal, queryParameterValue){
  Enum.call(this, enum$name, enum$ordinal);
  this.queryParameterValue = queryParameterValue;
}

function valueOf_3(name_0){
  $clinit_SoundType();
  return valueOf(($clinit_SoundType$Map() , $MAP_1), name_0);
}

function values_2(){
  $clinit_SoundType();
  return initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [FLASH, HTML5, NATIVE, WEB_AUDIO]);
}

defineClass(141, 9, {141:1, 3:1, 21:1, 9:1}, SoundType);
var FLASH, HTML5, NATIVE, WEB_AUDIO;
var Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit = createForEnum('com.allen_sauer.gwt.voices.client', 'SoundType', 141, Ljava_lang_Enum_2_classLit, values_2, valueOf_3);
function $clinit_SoundType$Map(){
  $clinit_SoundType$Map = emptyMethod;
  $MAP_1 = createValueOfMap(($clinit_SoundType() , initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [FLASH, HTML5, NATIVE, WEB_AUDIO])));
}

var $MAP_1;
function $clinit_WebAudioSound(){
  $clinit_WebAudioSound = emptyMethod;
  $clinit_AbstractSound();
  audioContext = createAudioContext();
}

function $createVoice(this$static, url_0){
  var context = audioContext;
  var request = new $wnd.XMLHttpRequest;
  request.open('GET', url_0, true);
  request.responseType = 'arraybuffer';
  var self_0 = this$static;
  request.onload = function(){
    function onSuccess(decodedBuffer){
      self_0.buffer_0 = decodedBuffer;
      self_0.soundLoaded_0();
    }

    function onFailure(){
      self_0.soundLoadFailed();
    }

    context.decodeAudioData(request.response, onSuccess, onFailure);
  }
  ;
  request.send();
}

function WebAudioSound(mimeType, url_0){
  $clinit_WebAudioSound();
  var mimeTypeSupport;
  AbstractSound.call(this, mimeType, url_0);
  try {
    $createVoice(this, url_0);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 40)) {
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_NOT_SUPPORTED));
    }
     else 
      throw unwrap($e0);
  }
  mimeTypeSupport = getMimeTypeSupport_0(mimeType);
  switch (mimeTypeSupport.ordinal) {
    case 1:
    case 2:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_NOT_READY));
      break;
    case 0:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_NOT_SUPPORTED));
      break;
    case 3:
      $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORT_NOT_KNOWN));
      break;
    default:throw new IllegalArgumentException_0('unknown MIME type support ' + mimeTypeSupport);
  }
}

function createAudioContext(){
  try {
    return new AudioContext;
  }
   catch (ignore) {
  }
  return null;
}

function getMimeTypeSupport_0(mimeType){
  $clinit_WebAudioSound();
  if (!audioContext) {
    return $clinit_SoundController$MimeTypeSupport() , MIME_TYPE_NOT_SUPPORTED;
  }
  return getMimeTypeSupport(mimeType);
}

defineClass(1287, 355, $intern_9, WebAudioSound);
_.getSoundType = function getSoundType_2(){
  return $clinit_SoundType() , WEB_AUDIO;
}
;
_.plackbackCompleted = function plackbackCompleted(){
  $fireOnPlaybackComplete(this.soundHandlerCollection, this);
}
;
_.play_0 = function play_2(){
  var buffer = this.buffer_0;
  if (buffer == null) {
    return false;
  }
  this.stop_0();
  var context = audioContext;
  var voice = context.createBufferSource();
  this.voice = voice;
  this.looping && (voice.loop = true);
  var node = voice;
  var volume = this.volume_0;
  if (volume != 100) {
    var gainNode = context.createGain();
    gainNode.gain.value = volume / 100;
    node.connect(gainNode);
    node = gainNode;
  }
  node.connect(context.destination);
  voice.buffer = buffer;
  voice.start(context.currentTime);
  if (!voice.loop) {
    var self_0 = this;
    setTimeout(function(){
      self_0.plackbackCompleted();
    }
    , voice.buffer.duration * $intern_10);
  }
  return true;
}
;
_.setLooping_0 = function setLooping_2(looping){
  this.looping = looping;
}
;
_.setVolume_0 = function setVolume_2(volume){
  this.volume_0 = volume;
}
;
_.soundLoadFailed = function soundLoadFailed(){
  $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_NOT_SUPPORTED));
}
;
_.soundLoaded_0 = function soundLoaded(){
  $setLoadState(this, ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_AND_READY));
}
;
_.stop_0 = function stop_3(){
  var context = audioContext;
  var voice = this.voice;
  if (voice == null) {
    return;
  }
  voice.stop(context.currentTime);
  this.voice = null;
}
;
_.looping = false;
_.volume_0 = 0;
var audioContext;
var Lcom_allen_1sauer_gwt_voices_client_WebAudioSound_2_classLit = createForClass('com.allen_sauer.gwt.voices.client', 'WebAudioSound', 1287, Lcom_allen_1sauer_gwt_voices_client_AbstractSound_2_classLit);
function PlaybackCompleteEvent(source){
  EventObject.call(this, source);
}

defineClass(1410, 315, {}, PlaybackCompleteEvent);
_.toString$ = function toString_10(){
  var sound;
  sound = dynamicCast(this.source, 323);
  return getSimpleName(Lcom_allen_1sauer_gwt_voices_client_handler_PlaybackCompleteEvent_2_classLit) + ': ' + sound;
}
;
var Lcom_allen_1sauer_gwt_voices_client_handler_PlaybackCompleteEvent_2_classLit = createForClass('com.allen_sauer.gwt.voices.client.handler', 'PlaybackCompleteEvent', 1410, Ljava_util_EventObject_2_classLit);
function $fireOnPlaybackComplete(this$static, sender){
  var handler, handler$iterator;
  new PlaybackCompleteEvent(sender);
  for (handler$iterator = new AbstractList$IteratorImpl(this$static); handler$iterator.i < handler$iterator.this$01_0.size_1();) {
    handler = (checkCriticalElement(handler$iterator.i < handler$iterator.this$01_0.size_1()) , dynamicCast(handler$iterator.this$01_0.get_0(handler$iterator.last = handler$iterator.i++), 1464));
    handler.this$01.currentType == ($clinit_JamAudioController$AudioType() , Music) && (handler.this$01.currentState == ($clinit_Track$AudioState() , Playing) || handler.this$01.currentState == FadeingIn || handler.this$01.currentState == FadeingOut)?handler.this$01.TracksSound.play_0():(handler.this$01.currentState = ($clinit_Track$AudioState() , Stopped));
  }
}

function $fireOnSoundLoadStateChange(this$static, sender){
  var event_0, handler, handler$iterator;
  event_0 = new SoundLoadStateChangeEvent(sender);
  for (handler$iterator = new AbstractList$IteratorImpl(this$static); handler$iterator.i < handler$iterator.this$01_0.size_1();) {
    handler = (checkCriticalElement(handler$iterator.i < handler$iterator.this$01_0.size_1()) , dynamicCast(handler$iterator.this$01_0.get_0(handler$iterator.last = handler$iterator.i++), 1464));
    $onSoundLoadStateChange(handler, event_0);
  }
}

function SoundHandlerCollection(){
  ArrayList.call(this);
}

defineClass(1355, 18, $intern_5, SoundHandlerCollection);
var Lcom_allen_1sauer_gwt_voices_client_handler_SoundHandlerCollection_2_classLit = createForClass('com.allen_sauer.gwt.voices.client.handler', 'SoundHandlerCollection', 1355, Ljava_util_ArrayList_2_classLit);
function SoundLoadStateChangeEvent(source){
  EventObject.call(this, source);
  this.loadState = source.loadState;
}

defineClass(503, 315, {}, SoundLoadStateChangeEvent);
_.toString$ = function toString_11(){
  var sound;
  sound = dynamicCast(this.source, 323);
  return getSimpleName(Lcom_allen_1sauer_gwt_voices_client_handler_SoundLoadStateChangeEvent_2_classLit) + ': ' + sound + '; ' + $name(this.loadState);
}
;
var Lcom_allen_1sauer_gwt_voices_client_handler_SoundLoadStateChangeEvent_2_classLit = createForClass('com.allen_sauer.gwt.voices.client.handler', 'SoundLoadStateChangeEvent', 503, Ljava_util_EventObject_2_classLit);
defineClass(1284, 1, {});
var Lcom_allen_1sauer_gwt_voices_client_ui_FlashMovie_2_classLit = createForClass('com.allen_sauer.gwt.voices.client.ui', 'FlashMovie', 1284, Ljava_lang_Object_2_classLit);
function $clinit_VoicesMovie(){
  $clinit_VoicesMovie = emptyMethod;
  FLASH_SUPPORTED_MIME_TYPES = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, ['audio/mpeg', 'audio/mpeg; codecs=MP3']);
}

function $callCreateSound(this$static, id_0, soundURL, checkPolicyFile){
  var elem = this$static.element;
  elem.createSound(id_0, soundURL, checkPolicyFile);
}

function $getMimeTypeSupport(this$static, mimeType){
  switch (this$static.flashSupport.ordinal) {
    case 2:
    case 1:
      return contains_1(FLASH_SUPPORTED_MIME_TYPES, mimeType)?($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY):($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_NOT_SUPPORTED);
    case 3:
    case 0:
      return this$static.flashSupport;
    default:throw new RuntimeException_0('Unhandled flash support value ' + this$static.flashSupport);
  }
}

function $installFlashCallbackHooks(this$static, id_1){
  $doc.VoicesMovie === undefined && ($doc.VoicesMovie = {});
  var self_0 = this$static;
  $doc.VoicesMovie[id_1] = {};
  $doc.VoicesMovie[id_1].ready = function(){
    self_0.movieReady();
  }
  ;
  $doc.VoicesMovie[id_1].soundLoaded = function(id_0){
    $clinit_FlashSound();
    $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new FlashSound$2(id_0));
    return true;
  }
  ;
  $doc.VoicesMovie[id_1].playbackCompleted = function(id_0){
    $clinit_FlashSound();
    $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new FlashSound$1(id_0));
  }
  ;
  $doc.VoicesMovie[id_1].log = function(text_0){
    self_0.debug('FLASH[' + id_1 + ']: ' + text_0);
  }
  ;
}

function $movieUnsupported(this$static){
  var flashSound, flashSound$iterator;
  for (flashSound$iterator = new AbstractList$IteratorImpl(this$static.unitializedSoundList); flashSound$iterator.i < flashSound$iterator.this$01_0.size_1();) {
    flashSound = (checkCriticalElement(flashSound$iterator.i < flashSound$iterator.this$01_0.size_1()) , dynamicCast(flashSound$iterator.this$01_0.get_0(flashSound$iterator.last = flashSound$iterator.i++), 269));
    $setLoadState(flashSound, ($clinit_Sound$LoadState() , LOAD_STATE_NOT_SUPPORTED));
  }
}

function $playSound(this$static, id_0){
  var elem;
  if (this$static.flashSupport == ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY)) {
    return elem = this$static.element , elem.playSound(id_0);
  }
  return false;
}

function $registerSound_0(this$static, flashSound){
  this$static.flashSupport == ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY)?$callCreateSound(this$static, flashSound.soundNumber, flashSound.url_0, flashSound.crossOrigin):this$static.unitializedSoundList.add_0(flashSound);
}

function $setLooping(this$static, id_0, looping){
  var elem;
  this$static.flashSupport == ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY) && (elem = this$static.element , elem.setLooping(id_0, looping?$intern_0:0) , undefined);
}

function $setVolume(this$static, id_0, volume){
  var elem;
  this$static.flashSupport == ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY) && (elem = this$static.element , elem.setVolume(id_0, volume / 100) , undefined);
}

function $stopSound(this$static, id_0){
  var elem;
  this$static.flashSupport == ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY) && (elem = this$static.element , elem.stopSound(id_0) , undefined);
}

function VoicesMovie(id_0, gwtVoicesSwfBaseUrl){
  var elem, param;
  $clinit_VoicesMovie();
  this.element = (elem = $doc.createElement('object') , elem.setAttribute('id', id_0) , elem.setAttribute('type', 'application/x-shockwave-flash') , elem.setAttribute('data', gwtVoicesSwfBaseUrl + 'gwt-voices.swf') , param = $doc.createElement('param') , param.setAttribute('name', 'FlashVars') , param.setAttribute('value', 'id=' + id_0) , elem.appendChild(param) , elem);
  this.flashSupport = ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_UNKNOWN);
  this.unitializedSoundList = new ArrayList;
  $installFlashCallbackHooks(this, id_0);
  if ($getMajorVersion() >= 9) {
    this.flashSupport = MIME_TYPE_SUPPORT_NOT_READY;
  }
   else {
    this.flashSupport = MIME_TYPE_NOT_SUPPORTED;
    $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new VoicesMovie$1(this));
  }
}

defineClass(1285, 1284, {}, VoicesMovie);
_.debug = function debug(text_0){
  ($clinit_System() , out_0).println_0(text_0);
}
;
_.movieReady = function movieReady(){
  var flashSound, iterator;
  this.flashSupport = ($clinit_SoundController$MimeTypeSupport() , MIME_TYPE_SUPPORT_READY);
  for (iterator = new AbstractList$IteratorImpl(this.unitializedSoundList); iterator.i < iterator.this$01_0.size_1();) {
    flashSound = (checkCriticalElement(iterator.i < iterator.this$01_0.size_1()) , dynamicCast(iterator.this$01_0.get_0(iterator.last = iterator.i++), 269));
    $callCreateSound(this, flashSound.soundNumber, flashSound.url_0, flashSound.crossOrigin);
    $remove_23(iterator);
  }
}
;
var FLASH_SUPPORTED_MIME_TYPES;
var Lcom_allen_1sauer_gwt_voices_client_ui_VoicesMovie_2_classLit = createForClass('com.allen_sauer.gwt.voices.client.ui', 'VoicesMovie', 1285, Lcom_allen_1sauer_gwt_voices_client_ui_FlashMovie_2_classLit);
function VoicesMovie$1(this$0){
  this.this$01 = this$0;
}

defineClass(1286, 1, {}, VoicesMovie$1);
_.execute = function execute_4(){
  $movieUnsupported(this.this$01);
}
;
var Lcom_allen_1sauer_gwt_voices_client_ui_VoicesMovie$1_2_classLit = createForClass('com.allen_sauer.gwt.voices.client.ui', 'VoicesMovie/1', 1286, Ljava_lang_Object_2_classLit);
function $getMajorVersion(){
  var versionString, rawVersionString, p;
  versionString = (rawVersionString = (p = navigator.plugins['Shockwave Flash'] , p == null?null:p.description) , rawVersionString == null?null:$replaceFirst($replaceAll(rawVersionString, '\\D*(\\d+)', '$1,'), ',$', ''));
  return versionString == null?0:__parseAndValidateInt($replaceFirst(versionString, ',.*', ''), 10);
}

function $preload(soundControllerElement, mimeType, url_0){
  var elem;
  if ($mimeTypeSupportsVolume(mimeType)) {
    elem = $createElement(url_0);
    $setVolume_0(elem, 0);
    $play(soundControllerElement, elem);
  }
}

function $stop(elem){
  var parent_0 = elem.parentNode;
  parent_0 != null && parent_0.removeChild(elem);
}

function $createElement(url_0){
  var elem = $doc.createElement('object');
  elem.setAttribute('data', url_0);
  elem.setAttribute('autostart', 'true');
  return elem;
}

function $setVolume_0(elem, volume){
  elem.setAttribute('volume', '' + volume);
}

function $mimeTypeSupportsVolume(mimeType){
  if ($equals_5('audio/x-midi', mimeType)) {
    return false;
  }
  return true;
}

function $play(soundControllerElement, elem){
  var parent_0 = elem.parentNode;
  parent_0 != null && parent_0.removeChild(elem);
  soundControllerElement.appendChild(elem);
  return true;
}

var uniqueId = $intern_10;
function contains_1(arr, text_0){
  var element, element$index, element$max;
  for (element$index = 0 , element$max = arr.length; element$index < element$max; ++element$index) {
    element = arr[element$index];
    if ($equals_5(element, text_0)) {
      return true;
    }
  }
  return false;
}

function getSimpleName(clazz){
  var name_0;
  name_0 = ($ensureNamesAreInitialized(clazz) , clazz.typeName);
  return $substring(name_0, $lastIndexOf(name_0, fromCodePoint(46)) + 1);
}

function $scheduleAfter(this$static, runAfter){
  var runAgain;
  runAgain = ($clinit_Boolean() , runAfter.execute_0()?TRUE_3:FALSE_2);
  runAgain.value_0 && $scheduleAfter(this$static, runAfter);
}

function DefaultWaitForRepeating(){
}

defineClass(971, 1, {}, DefaultWaitForRepeating);
var Lcom_darkflame_client_DefaultWaitForRepeating_2_classLit = createForClass('com.darkflame.client', 'DefaultWaitForRepeating', 971, Ljava_lang_Object_2_classLit);
function $addStyleDependentName(this$static, styleSuffix){
  $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element)) + '-' + styleSuffix, true);
}

function $addStyleName(this$static, style){
  setStyleName(this$static.getStyleElement(), style, true);
}

function $getAbsoluteLeft(this$static){
  return $getAbsoluteLeft_0(($clinit_DOM() , this$static.element));
}

function $getAbsoluteTop(this$static){
  return $getAbsoluteTop_0(($clinit_DOM() , this$static.element));
}

function $getElement(this$static){
  return $clinit_DOM() , this$static.element;
}

function $getOffsetHeight(this$static){
  return $getPropertyInt(($clinit_DOM() , this$static.element), 'offsetHeight');
}

function $getOffsetWidth(this$static){
  return $getPropertyInt(($clinit_DOM() , this$static.element), 'offsetWidth');
}

function $getStyleElement(this$static){
  return $clinit_DOM() , this$static.element;
}

function $isVisible(this$static){
  return ($clinit_DOM() , this$static.element).style.display != 'none';
}

function $removeStyleDependentName(this$static, styleSuffix){
  $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element)) + '-' + styleSuffix, false);
}

function $removeStyleName(this$static, style){
  setStyleName(this$static.getStyleElement(), style, false);
}

function $replaceNode(node, newNode){
  var p = node.parentNode;
  if (!p) {
    return;
  }
  p.insertBefore(newNode, node);
  p.removeChild(node);
}

function $setElement(this$static, elem){
  $setElement_0(this$static, ($clinit_DOM() , elem));
}

function $setElement_0(this$static, elem){
  this$static.element = elem;
}

function $setHeight(this$static, height){
  ($clinit_DOM() , this$static.element).style['height'] = height;
}

function $setPixelSize(this$static, width_0, height){
  width_0 >= 0 && this$static.setWidth(width_0 + 'px');
  height >= 0 && this$static.setHeight(height + 'px');
}

function $setSize(this$static, width_0, height){
  this$static.setWidth(width_0);
  this$static.setHeight(height);
}

function $setStyleDependentName(this$static, add_0){
  $setStyleName_0(this$static, getStylePrimaryName(this$static.getStyleElement()) + '-' + 'dragging', add_0);
}

function $setStyleName(this$static, style){
  $setClassName(this$static.getStyleElement(), style);
}

function $setStyleName_0(this$static, style, add_0){
  setStyleName(this$static.getStyleElement(), style, add_0);
}

function $setStylePrimaryName(this$static, style){
  setStylePrimaryName(this$static.getStyleElement(), style);
}

function $setTitle(this$static, title_0){
  title_0 == null || title_0.length == 0?$removeAttribute(($clinit_DOM() , this$static.element), 'title'):$setAttribute(($clinit_DOM() , this$static.element), 'title', title_0);
}

function $setVisible(this$static, visible){
  setVisible(($clinit_DOM() , this$static.element), visible);
}

function $setWidth(this$static, width_0){
  ($clinit_DOM() , this$static.element).style['width'] = width_0;
}

function $sinkBitlessEvent(this$static, eventTypeName){
  $clinit_DOM();
  $sinkBitlessEvent_0(this$static.element, eventTypeName);
}

function $toString_2(this$static){
  if (!this$static.element) {
    return '(null handle)';
  }
  return ($clinit_DOM() , this$static.element).outerHTML;
}

function getStylePrimaryName(elem){
  var fullClassName, spaceIdx;
  fullClassName = $getClassName(elem);
  spaceIdx = $indexOf_2(fullClassName, fromCodePoint(32));
  if (spaceIdx >= 0) {
    return fullClassName.substr(0, spaceIdx);
  }
  return fullClassName;
}

function setStyleName(elem, style, add_0){
  if (!elem) {
    throw new RuntimeException_0('Null widget handle. If you are creating a composite, ensure that initWidget() has been called.');
  }
  style = $trim(style);
  if (style.length == 0) {
    throw new IllegalArgumentException_0('Style names cannot be empty');
  }
  add_0?$addClassName(elem, style):$removeClassName(elem, style);
}

function setStylePrimaryName(elem, style){
  if (!elem) {
    throw new RuntimeException_0('Null widget handle. If you are creating a composite, ensure that initWidget() has been called.');
  }
  style = $trim(style);
  if (style.length == 0) {
    throw new IllegalArgumentException_0('Style names cannot be empty');
  }
  updatePrimaryAndDependentStyleNames(elem, style);
}

function setVisible(elem, visible){
  elem.style.display = visible?'':'none';
  visible?elem.removeAttribute('aria-hidden'):elem.setAttribute('aria-hidden', 'true');
}

function updatePrimaryAndDependentStyleNames(elem, newPrimaryStyle){
  var classes = (elem.className || '').split(/\s+/);
  if (!classes) {
    return;
  }
  var oldPrimaryStyle = classes[0];
  var oldPrimaryStyleLen = oldPrimaryStyle.length;
  classes[0] = newPrimaryStyle;
  for (var i = 1, n = classes.length; i < n; i++) {
    var name_0 = classes[i];
    name_0.length > oldPrimaryStyleLen && name_0.charAt(oldPrimaryStyleLen) == '-' && name_0.indexOf(oldPrimaryStyle) == 0 && (classes[i] = newPrimaryStyle + name_0.substring(oldPrimaryStyleLen));
  }
  elem.className = classes.join(' ');
}

defineClass(15, 1, {17:1, 15:1});
_.getAbsoluteLeft = function getAbsoluteLeft(){
  return $getAbsoluteLeft(this);
}
;
_.getAbsoluteTop = function getAbsoluteTop(){
  return $getAbsoluteTop(this);
}
;
_.getOffsetHeight = function getOffsetHeight(){
  return $getOffsetHeight(this);
}
;
_.getOffsetWidth = function getOffsetWidth(){
  return $getOffsetWidth(this);
}
;
_.getStyleElement = function getStyleElement(){
  return $getStyleElement(this);
}
;
_.resolvePotentialElement = function resolvePotentialElement(){
  throw new UnsupportedOperationException;
}
;
_.setHeight = function setHeight(height){
  $setHeight(this, height);
}
;
_.setPixelSize = function setPixelSize(width_0, height){
  $setPixelSize(this, width_0, height);
}
;
_.setSize = function setSize(width_0, height){
  $setSize(this, width_0, height);
}
;
_.setStyleName = function setStyleName_0(style){
  $setStyleName(this, style);
}
;
_.setVisible = function setVisible_0(visible){
  $setVisible(this, visible);
}
;
_.setWidth = function setWidth(width_0){
  $setWidth(this, width_0);
}
;
_.toString$ = function toString_12(){
  return $toString_2(this);
}
;
var Lcom_google_gwt_user_client_ui_UIObject_2_classLit = createForClass('com.google.gwt.user.client.ui', 'UIObject', 15, Ljava_lang_Object_2_classLit);
function $addBitlessDomHandler(this$static, handler, type_0){
  $sinkBitlessEvent(this$static, type_0.name_0);
  return $addHandler_0(!this$static.handlerManager?(this$static.handlerManager = new HandlerManager(this$static)):this$static.handlerManager, type_0, handler);
}

function $addDomHandler(this$static, handler, type_0){
  var typeInt;
  typeInt = getTypeInt(type_0.name_0);
  typeInt == -1?$sinkBitlessEvent(this$static, type_0.name_0):this$static.sinkEvents(typeInt);
  return $addHandler_0(!this$static.handlerManager?(this$static.handlerManager = new HandlerManager(this$static)):this$static.handlerManager, type_0, handler);
}

function $addHandler(this$static, handler, type_0){
  return $addHandler_0(!this$static.handlerManager?(this$static.handlerManager = new HandlerManager(this$static)):this$static.handlerManager, type_0, handler);
}

function $fireEvent(this$static, event_0){
  !!this$static.handlerManager && $fireEvent_0(this$static.handlerManager, event_0);
}

function $onAttach(this$static){
  var bitsToAdd;
  if (this$static.isAttached()) {
    throw new IllegalStateException_0("Should only call onAttach when the widget is detached from the browser's document");
  }
  this$static.attached = true;
  $clinit_DOM();
  setEventListener_0(this$static.element, this$static);
  bitsToAdd = this$static.eventsToSink;
  this$static.eventsToSink = -1;
  bitsToAdd > 0 && this$static.sinkEvents(bitsToAdd);
  this$static.doAttachChildren();
  this$static.onLoad();
  fire_0(this$static, true);
}

function $onBrowserEvent(this$static, event_0){
  var related;
  switch ($clinit_DOM() , $eventGetTypeInt(event_0.type)) {
    case 16:
    case 32:
      related = event_0.relatedTarget;
      if (!!related && $isOrHasChild(this$static.element, related)) {
        return;
      }

  }
  fireNativeEvent(event_0, this$static, this$static.element);
}

function $onDetach(this$static){
  if (!this$static.isAttached()) {
    throw new IllegalStateException_0("Should only call onDetach when the widget is attached to the browser's document");
  }
  try {
    this$static.onUnload();
    fire_0(this$static, false);
  }
   finally {
    try {
      this$static.doDetachChildren();
    }
     finally {
      $clinit_DOM();
      setEventListener_0(this$static.element, null);
      this$static.attached = false;
    }
  }
}

function $removeFromParent(this$static){
  if (!this$static.parent_1) {
    $clinit_RootPanel();
    $contains_0(widgetsToDetach, this$static) && detachNow(this$static);
  }
   else if (instanceOf(this$static.parent_1, 27)) {
    dynamicCast(this$static.parent_1, 27).remove_1(this$static);
  }
   else if (this$static.parent_1) {
    throw new IllegalStateException_0("This widget's parent does not implement HasWidgets");
  }
}

function $replaceElement(this$static, elem){
  this$static.attached && ($clinit_DOM() , setEventListener_0(this$static.element, null));
  !!this$static.element && $replaceNode(this$static.element, elem);
  this$static.element = elem;
  this$static.attached && ($clinit_DOM() , setEventListener_0(this$static.element, this$static));
}

function $setParent(this$static, parent_0){
  var oldParent;
  oldParent = this$static.parent_1;
  if (!parent_0) {
    try {
      !!oldParent && oldParent.isAttached() && this$static.onDetach();
    }
     finally {
      this$static.parent_1 = null;
    }
  }
   else {
    if (oldParent) {
      throw new IllegalStateException_0('Cannot set a new parent without first clearing the old parent');
    }
    this$static.parent_1 = parent_0;
    parent_0.isAttached() && this$static.onAttach();
  }
}

function $sinkEvents(this$static, eventBitsToAdd){
  this$static.eventsToSink == -1?($clinit_DOM() , $sinkEvents_0(this$static.element, eventBitsToAdd | (this$static.element.__eventBits || 0))):(this$static.eventsToSink |= eventBitsToAdd);
}

function asWidgetOrNull(w){
  return !w?null:w.asWidget();
}

defineClass(7, 15, $intern_12);
_.asWidget = function asWidget(){
  return this;
}
;
_.doAttachChildren = function doAttachChildren(){
}
;
_.doDetachChildren = function doDetachChildren(){
}
;
_.fireEvent = function fireEvent(event_0){
  $fireEvent(this, event_0);
}
;
_.isAttached = function isAttached(){
  return this.attached;
}
;
_.onAttach = function onAttach(){
  $onAttach(this);
}
;
_.onBrowserEvent = function onBrowserEvent(event_0){
  $onBrowserEvent(this, event_0);
}
;
_.onDetach = function onDetach(){
  $onDetach(this);
}
;
_.onLoad = function onLoad(){
}
;
_.onUnload = function onUnload(){
}
;
_.sinkEvents = function sinkEvents(eventBitsToAdd){
  $sinkEvents(this, eventBitsToAdd);
}
;
_.attached = false;
_.eventsToSink = 0;
var Lcom_google_gwt_user_client_ui_Widget_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Widget', 7, Lcom_google_gwt_user_client_ui_UIObject_2_classLit);
function $add_1(this$static, child){
  this$static.add_2(!child?null:child.asWidget());
}

function $clear(this$static){
  var it;
  it = this$static.iterator();
  while (it.hasNext()) {
    it.next_0();
    it.remove_2();
  }
}

defineClass(1485, 7, $intern_13);
_.add_2 = function add_6(child){
  throw new UnsupportedOperationException_0('This panel does not support no-arg add()');
}
;
_.clear_1 = function clear_3(){
  $clear(this);
}
;
_.doAttachChildren = function doAttachChildren_0(){
  tryCommand(this, ($clinit_AttachDetachException() , attachCommand));
}
;
_.doDetachChildren = function doDetachChildren_0(){
  tryCommand(this, ($clinit_AttachDetachException() , detachCommand));
}
;
var Lcom_google_gwt_user_client_ui_Panel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Panel', 1485, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $add_2(this$static, w){
  if (this$static.widget) {
    throw new IllegalStateException_0('SimplePanel can only contain one child widget');
  }
  this$static.setWidget(w);
}

function $remove_1(this$static, w){
  if (this$static.widget != w) {
    return false;
  }
  try {
    $setParent(w, null);
  }
   finally {
    $removeChild(this$static.getContainerElement(), ($clinit_DOM() , w.element));
    this$static.widget = null;
  }
  return true;
}

function $setWidget(this$static, w){
  if (w == this$static.widget) {
    return;
  }
  !!w && $removeFromParent(w);
  !!this$static.widget && $remove_1(this$static, this$static.widget);
  this$static.widget = w;
  if (w) {
    $clinit_DOM();
    $appendChild(this$static.getContainerElement(), resolve($getElement(this$static.widget)));
    $setParent(w, this$static);
  }
}

function SimplePanel(){
  SimplePanel_0.call(this, ($clinit_DOM() , $doc.createElement('div')));
}

function SimplePanel_0(elem){
  $setElement_0(this, ($clinit_DOM() , elem));
}

function SimplePanel_1(child){
  SimplePanel.call(this);
  this.setWidget(child);
}

defineClass(29, 1485, $intern_14, SimplePanel, SimplePanel_0, SimplePanel_1);
_.add_2 = function add_7(w){
  $add_2(this, w);
}
;
_.getContainerElement = function getContainerElement(){
  return $clinit_DOM() , this.element;
}
;
_.iterator = function iterator_1(){
  return new SimplePanel$1(this);
}
;
_.remove_1 = function remove_4(w){
  return $remove_1(this, w);
}
;
_.setWidget = function setWidget(w){
  $setWidget(this, w);
}
;
var Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'SimplePanel', 29, Lcom_google_gwt_user_client_ui_Panel_2_classLit);
function $clinit_HelpIcon(){
  $clinit_HelpIcon = emptyMethod;
  Log = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'HelpIcon'));
  CurrentHelpPopUpStore = new HashMap;
  CurrentHelpIconStore = new HashMap;
  rArrow = new GWTCanvas;
  lArrow = new GWTCanvas;
  uArrow = new GWTCanvas;
  dArrow = new GWTCanvas;
}

function $popup(this$static, HelpPopUp, sender){
  var CurrentHelpIcon, CurrentHelpPopUp;
  CurrentHelpPopUp = dynamicCast(CurrentHelpPopUpStore.get_2(this$static.HelpIconsGroupID), 358);
  CurrentHelpIcon = dynamicCast(CurrentHelpIconStore.get_2(this$static.HelpIconsGroupID), 218);
  currentHelpField = this$static.HelpField;
  VisibleHelpPopUp = HelpPopUp;
  if (currentHelpField)
  ;
  else {
    currentHelpField = sender.parent_1;
  }
  if (this$static.PopedUp.value_0) {
    this$static.PopedUp = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
    $setWidget(dynamicCast(sender.parent_1, 218), this$static.help_enabled);
    $remove_6(($clinit_RootPanel() , get_14(null)), HelpPopUp);
    removeArrows();
    CurrentHelpPopUpStore.remove_3(this$static.HelpIconsGroupID);
    currentHelpField = null;
  }
   else {
    this$static.PopedUp = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
    if (CurrentHelpPopUp) {
      $remove_6(($clinit_RootPanel() , get_14(null)), CurrentHelpPopUp);
      removeArrows();
      CurrentHelpIcon.PopedUp = (null , FALSE_2);
      $setWidget(CurrentHelpIcon, CurrentHelpIcon.help_enabled);
    }
    CurrentHelpPopUpStore.remove_3(this$static.HelpIconsGroupID);
    CurrentHelpPopUpStore.put(this$static.HelpIconsGroupID, HelpPopUp);
    CurrentHelpIconStore.remove_3(this$static.HelpIconsGroupID);
    CurrentHelpIconStore.put(this$static.HelpIconsGroupID, dynamicCast(sender.parent_1, 218));
    $setWidget(dynamicCast(sender.parent_1, 218), this$static.help_pressed);
    if (!rArrowDrawen) {
      $clear_6(rArrow);
      $setSize(rArrow, '18px', '10px');
      $setCoordSize(rArrow);
      $setBackgroundColor(rArrow, ($clinit_GWTCanvas() , TRANSPARENT));
      $setLineWidth_0(rArrow.impl, 1);
      $beginPath_0(rArrow.impl);
      $moveTo_0(rArrow, 0, 5);
      $lineTo_0(rArrow, 3, 2);
      $moveTo_0(rArrow, 0, 5);
      $lineTo_0(rArrow, 3, 8);
      $moveTo_0(rArrow, 0, 5);
      $lineTo_0(rArrow, 18, 5);
      $stroke_0(rArrow.impl);
      rArrowDrawen = true;
    }
    if (!lArrowDrawen) {
      $clear_6(lArrow);
      $setSize(lArrow, '18px', '10px');
      $setCoordSize(lArrow);
      $setBackgroundColor(lArrow, ($clinit_GWTCanvas() , TRANSPARENT));
      $setLineWidth_0(lArrow.impl, 1);
      $beginPath_0(lArrow.impl);
      $moveTo_0(lArrow, 18, 5);
      $lineTo_0(lArrow, 15, 2);
      $moveTo_0(lArrow, 18, 5);
      $lineTo_0(lArrow, 15, 8);
      $moveTo_0(lArrow, 18, 5);
      $lineTo_0(lArrow, 0, 5);
      $stroke_0(lArrow.impl);
      lArrowDrawen = true;
    }
    if (!uArrowDrawen) {
      $clear_6(uArrow);
      $setSize(uArrow, '18px', '10px');
      $setCoordSize(uArrow);
      $setBackgroundColor(uArrow, ($clinit_GWTCanvas() , TRANSPARENT));
      $setLineWidth_0(uArrow.impl, 1);
      $beginPath_0(uArrow.impl);
      $moveTo_0(uArrow, 9, 0);
      $lineTo_0(uArrow, 6, 3);
      $moveTo_0(uArrow, 9, 0);
      $lineTo_0(uArrow, 12, 3);
      $moveTo_0(uArrow, 9, 0);
      $lineTo_0(uArrow, 9, 10);
      $stroke_0(uArrow.impl);
      uArrowDrawen = true;
    }
    if (!dArrowDrawen) {
      $clear_6(dArrow);
      $setSize(dArrow, '18px', '10px');
      $setCoordSize(dArrow);
      $setBackgroundColor(dArrow, ($clinit_GWTCanvas() , TRANSPARENT));
      $setLineWidth_0(dArrow.impl, 1);
      $beginPath_0(dArrow.impl);
      $moveTo_0(dArrow, 9, 10);
      $lineTo_0(dArrow, 6, 7);
      $moveTo_0(dArrow, 9, 10);
      $lineTo_0(dArrow, 12, 7);
      $moveTo_0(dArrow, 9, 10);
      $lineTo_0(dArrow, 9, 0);
      $stroke_0(dArrow.impl);
      dArrowDrawen = true;
    }
    $updateHelpPopupsPosition(this$static);
  }
}

function $setupAssociatedPopup(this$static){
  this$static.helptitle = 'command help';
  this$static.helptext = ' Commands can be written in different cases. \n eg \n <hero> = keep case of result the default \n <Hero> = make first letter capital \n <HERO> = make all letters capital \n  <Hero_u> = make first letter capital and spaces become underscores \n <hero_nospace> = remove all spaces \n To pick a random number <random(X-Y)> where X-Y is the range.\n To use semantics format as <:semantic query:> \n To use branching code [if ##>## :: ____ ::else:: ____] \n [Pickrandom:: OptionA|OptionB]';
  $setPropertyImpl($getElement(rArrow).style, 'zIndex', '650');
  $setPropertyImpl($getElement(lArrow).style, 'zIndex', '650');
  $setWidget(this$static, this$static.help_enabled);
  ($clinit_DOM() , this$static.element).style['width'] = '14px';
  this$static.element.style['height'] = '14px';
  if (this$static.hasCloseIcon) {
    this$static.associatedHelpPopUp = new HelpPopUp_1(this$static.helptitle, this$static.helptext, this$static.closeIcon);
    $addHandler(this$static.closeIcon, new HelpIcon$3(this$static), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  }
   else {
    this$static.associatedHelpPopUp = new HelpPopUp_0(this$static.helptitle, this$static.helptext);
  }
  this$static.newpopup = new HelpIcon$4(this$static, this$static.associatedHelpPopUp);
  $addHandler(this$static.help_enabled, this$static.newpopup, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addHandler(this$static.help_pressed, this$static.newpopup, (null , TYPE_1));
}

function $updateHelpPopupsPosition(this$static){
  var DisplacementY, X, Y;
  if (currentHelpField) {
    Y = $getAbsoluteTop_0(($clinit_DOM() , currentHelpField.element));
    X = $getAbsoluteLeft_0(this$static.element) + $getPropertyInt(this$static.element, 'offsetWidth') + 10;
    $info_1(Log, 'test widget = ' + $getPropertyInt(this$static.element, 'offsetWidth'));
    $info_1(Log, 'X = ' + X);
    DisplacementY = ~~(currentHelpField.getOffsetHeight() / 2);
    removeArrows();
    $add_8(($clinit_RootPanel() , get_14(null)), VisibleHelpPopUp, X + 13, Y + DisplacementY - 65);
    $add_8(get_14(null), rArrow, X, Y - 5 + DisplacementY);
    if (X + 13 + $getOffsetWidth(VisibleHelpPopUp) > $getClientWidth($doc)) {
      $remove_6(get_14(null), rArrow);
      $add_8(get_14(null), VisibleHelpPopUp, $getAbsoluteLeft_0(currentHelpField.element) - $getOffsetWidth(VisibleHelpPopUp) - 31, Y + DisplacementY - 65);
      $add_8(get_14(null), lArrow, $getAbsoluteLeft_0(currentHelpField.element) - 32, Y - 5 + DisplacementY);
    }
    if (VerticalSet) {
      removeArrows();
      $add_8(get_14(null), VisibleHelpPopUp, X - ~~($getOffsetWidth(VisibleHelpPopUp) / 2), Y + currentHelpField.getOffsetHeight() + 22);
      $add_8(get_14(null), uArrow, X - 17, Y + currentHelpField.getOffsetHeight() + 11);
    }
  }
}

function HelpIcon(Close, CloseOver){
  var newCloseIcon;
  $clinit_HelpIcon();
  SimplePanel.call(this);
  this.PopedUp = new Boolean_0(false);
  this.HelpIconsGroupID = 'DefaultGroup';
  this.helptitle = '';
  this.helptext = '';
  this.associatedHelpPopUp = null;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  this.help_enabled = new Image_1(($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpiconInitializer() , helpicon));
  new Image_1(($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpicon_disabledInitializer() , helpicon_disabled));
  this.help_pressed = new Image_1(($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpicon_pressedInitializer() , helpicon_pressed));
  this.hasCloseIcon = true;
  this.HelpIconsGroupID = 'Help_Group';
  !this.closeIcon && (newCloseIcon = new Image_1(Close) , $addDomHandler(newCloseIcon, new HelpIcon$1(newCloseIcon, CloseOver), ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13)) , $addDomHandler(newCloseIcon, new HelpIcon$2(newCloseIcon, Close), ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12)) , this.closeIcon = newCloseIcon , undefined);
  $setupAssociatedPopup(this);
}

function removeArrows(){
  $clinit_HelpIcon();
  lArrow.attached && $remove_6(($clinit_RootPanel() , get_14(null)), lArrow);
  rArrow.attached && $remove_6(($clinit_RootPanel() , get_14(null)), rArrow);
  uArrow.attached && $remove_6(($clinit_RootPanel() , get_14(null)), uArrow);
  dArrow.attached && $remove_6(($clinit_RootPanel() , get_14(null)), dArrow);
}

defineClass(218, 29, {218:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1}, HelpIcon);
_.hasCloseIcon = false;
var CurrentHelpIconStore, CurrentHelpPopUpStore, Log, VerticalSet = false, VisibleHelpPopUp, currentHelpField, dArrow, dArrowDrawen = false, lArrow, lArrowDrawen = false, rArrow, rArrowDrawen = false, uArrow, uArrowDrawen = false;
var Lcom_darkflame_client_HelpIcon_2_classLit = createForClass('com.darkflame.client', 'HelpIcon', 218, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function HelpIcon$1(val$newCloseIcon, val$CloseOver){
  this.val$newCloseIcon2 = val$newCloseIcon;
  this.val$CloseOver3 = val$CloseOver;
}

defineClass(1441, 1, $intern_15, HelpIcon$1);
_.onMouseOver = function onMouseOver(event_0){
  $setResource(this.val$newCloseIcon2, this.val$CloseOver3);
}
;
var Lcom_darkflame_client_HelpIcon$1_2_classLit = createForClass('com.darkflame.client', 'HelpIcon/1', 1441, Ljava_lang_Object_2_classLit);
function HelpIcon$2(val$newCloseIcon, val$Close){
  this.val$newCloseIcon2 = val$newCloseIcon;
  this.val$Close3 = val$Close;
}

defineClass(1442, 1, $intern_16, HelpIcon$2);
_.onMouseOut = function onMouseOut(event_0){
  $setResource(this.val$newCloseIcon2, this.val$Close3);
}
;
var Lcom_darkflame_client_HelpIcon$2_2_classLit = createForClass('com.darkflame.client', 'HelpIcon/2', 1442, Ljava_lang_Object_2_classLit);
function HelpIcon$3(this$0){
  this.this$01 = this$0;
}

defineClass(1443, 1, $intern_17, HelpIcon$3);
_.onClick = function onClick(event_0){
  var nativeEvent;
  this.this$01.PopedUp = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  $remove_6(($clinit_RootPanel() , get_14(null)), this.this$01.associatedHelpPopUp);
  removeArrows();
  ($clinit_HelpIcon() , CurrentHelpPopUpStore).remove_3(this.this$01.HelpIconsGroupID);
  currentHelpField = null;
  nativeEvent = $createMouseEvent($doc, 'mouseout', true, true, 0, 10, 10, 10, 10, false, false, false, false, 1, $getElement(this.this$01.closeIcon));
  fireNativeEvent(nativeEvent, this.this$01.closeIcon, null);
  $setWidget(dynamicCast(CurrentHelpIconStore.get_2(this.this$01.HelpIconsGroupID), 218), dynamicCast(CurrentHelpIconStore.get_2(this.this$01.HelpIconsGroupID), 218).help_enabled);
}
;
var Lcom_darkflame_client_HelpIcon$3_2_classLit = createForClass('com.darkflame.client', 'HelpIcon/3', 1443, Ljava_lang_Object_2_classLit);
function HelpIcon$4(this$0, val$HelpPopUp){
  this.this$01 = this$0;
  this.val$HelpPopUp2 = val$HelpPopUp;
}

defineClass(1444, 1, $intern_17, HelpIcon$4);
_.onClick = function onClick_0(event_0){
  var sender;
  $clinit_SpiffyTextField();
  InvalidFieldList.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  !!validationArrows && $removeFromParent(validationArrows);
  sender = dynamicCast(event_0.source, 7);
  $clinit_HelpIcon();
  VerticalSet = false;
  $popup(this.this$01, this.val$HelpPopUp2, sender);
}
;
var Lcom_darkflame_client_HelpIcon$4_2_classLit = createForClass('com.darkflame.client', 'HelpIcon/4', 1444, Ljava_lang_Object_2_classLit);
function $$init_0(this$static){
  this$static.TestText = new Label;
}

function HelpPopUp_0(title_0, Text_0){
  SimplePanel.call(this);
  $$init_0(this);
  $setText_0(this.TestText, ' ' + Text_0);
  setStyleAttribute($getElement(this.TestText), 'whiteSpace', 'pre');
  this.NewPopUp = new SpiffyBasicpopup(title_0, this.TestText);
  $setStyleName_1(this.NewPopUp.cellFormatter, 1, 1, 'HelpPopUps');
  $setStyleName_1(this.NewPopUp.cellFormatter, 1, 2, 'HelpPopUps_right');
  $setPropertyImpl($getElement(this.NewPopUp).style, 'zIndex', '600');
  setStylePrimaryName(($clinit_DOM() , this.element), 'HelpPopUp_Overall');
  $add_2(this, this.NewPopUp);
  this.element.style['zIndex'] = '600';
}

function HelpPopUp_1(title_0, Text_0, closeIcon){
  SimplePanel.call(this);
  $$init_0(this);
  this.CloseWidget = closeIcon;
  $setText_0(this.TestText, ' ' + Text_0);
  setStyleAttribute($getElement(this.TestText), 'whiteSpace', 'pre');
  this.NewPopUp = new SpiffyBasicpopup_0(title_0, this.TestText, this.CloseWidget);
  $SetTitleMiddleStyle(this.NewPopUp);
  $setStyleName_1(this.NewPopUp.cellFormatter, 1, 1, 'HelpPopUps');
  $setStyleName_1(this.NewPopUp.cellFormatter, 1, 2, 'HelpPopUps_right');
  $setPropertyImpl($getElement(this.NewPopUp).style, 'zIndex', '600');
  setStylePrimaryName(($clinit_DOM() , this.element), 'HelpPopUp_Overall');
  $add_2(this, this.NewPopUp);
  this.element.style['zIndex'] = '600';
}

defineClass(358, 29, {358:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1}, HelpPopUp_0, HelpPopUp_1);
var Lcom_darkflame_client_HelpPopUp_2_classLit = createForClass('com.darkflame.client', 'HelpPopUp', 358, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $clinit_SpiffyArrow(){
  $clinit_SpiffyArrow = emptyMethod;
  Log_0 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyArrow'));
}

function $SetArrowTopRight(this$static){
  $clearRect(this$static.drawplane, 0, 0, this$static.ArrowSizeX, this$static.ArrowSizeY);
  $beginPath(this$static.drawplane);
  $setStrokeStyleWeb(this$static.drawplane, '#900');
  $moveTo(this$static.drawplane, 0, this$static.ArrowSizeY);
  $setLineWidth(this$static.drawplane, 3);
  $lineTo(this$static.drawplane, this$static.ArrowSizeX, 0);
  $lineTo(this$static.drawplane, this$static.ArrowSizeX - 12, 0);
  $moveTo(this$static.drawplane, this$static.ArrowSizeX, 0);
  $lineTo(this$static.drawplane, this$static.ArrowSizeX, 12);
  $stroke(this$static.drawplane);
}

function SpiffyArrow(){
  $clinit_SpiffyArrow();
  SimplePanel.call(this);
  this.canvas = createIfSupported();
  this.ArrowSizeX = 100;
  this.ArrowSizeY = 100;
  if (!this.canvas) {
    $info_1(Log_0, 'no canvas supported for clock');
    return;
  }
  this.ArrowSizeX = 30;
  this.ArrowSizeY = 30;
  $setSize(this, this.ArrowSizeX + 'px', this.ArrowSizeY + 'px');
  $setWidth(this.canvas, this.ArrowSizeX + 'px');
  $setCoordinateSpaceWidth(this.canvas, this.ArrowSizeX);
  $setHeight(this.canvas, this.ArrowSizeY + 'px');
  $setCoordinateSpaceHeight(this.canvas, this.ArrowSizeY);
  $setWidget(this, this.canvas);
  this.drawplane = $getContext2d(this.canvas);
  $beginPath(this.drawplane);
  $setStrokeStyleWeb(this.drawplane, '#900');
  $moveTo(this.drawplane, this.ArrowSizeX, this.ArrowSizeY);
  $setLineWidth(this.drawplane, 3);
  $lineTo(this.drawplane, 0, 0);
  $lineTo(this.drawplane, 12, 0);
  $moveTo(this.drawplane, 0, 0);
  $lineTo(this.drawplane, 0, 12);
  $stroke(this.drawplane);
}

defineClass(1384, 29, $intern_14, SpiffyArrow);
_.ArrowSizeX = 0;
_.ArrowSizeY = 0;
var Log_0;
var Lcom_darkflame_client_SpiffyArrow_2_classLit = createForClass('com.darkflame.client', 'SpiffyArrow', 1384, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $addCells(tbody, row, num){
  var i, rowElem, tdElement;
  rowElem = tbody.rows[row];
  for (i = 0; i < num; i++) {
    tdElement = $doc.createElement('td');
    rowElem.appendChild(tdElement);
  }
}

function $checkCellBounds(this$static, row, column){
  var cellSize;
  $checkRowBounds(this$static, row);
  if (column < 0) {
    throw new IndexOutOfBoundsException_0('Column ' + column + ' must be non-negative: ' + column);
  }
  cellSize = this$static.numColumns;
  if (cellSize <= column) {
    throw new IndexOutOfBoundsException_0('Column index: ' + column + ', Column size: ' + this$static.numColumns);
  }
}

function $checkRowBounds(this$static, row){
  var rowSize;
  rowSize = this$static.getRowCount();
  if (row >= rowSize || row < 0) {
    throw new IndexOutOfBoundsException_0('Row index: ' + row + ', Row size: ' + rowSize);
  }
}

function $cleanCell(this$static, row, column, clearInnerHTML){
  var td;
  td = $getRawElement(this$static.cellFormatter, row, column);
  $internalClearCell(this$static, ($clinit_DOM() , td), clearInnerHTML);
  return td;
}

function $clear_0(this$static){
  var col, row;
  for (row = 0; row < this$static.getRowCount(); ++row) {
    for (col = 0; col < this$static.getCellCount(row); ++col) {
      $cleanCell(this$static, row, col, false);
    }
  }
}

function $getDOMCellCount(tableBody, row){
  var rowElement;
  rowElement = tableBody.rows[row];
  return rowElement.cells.length;
}

function $getDOMRowCount(tbody){
  return ($clinit_DOM() , tbody).rows.length;
}

function $internalClearCell(this$static, td, clearInnerHTML){
  var maybeChild, widget;
  maybeChild = ($clinit_DOM() , $clinit_DOM() , $getFirstChildElement(td));
  widget = null;
  !!maybeChild && (widget = dynamicCast($get_10(this$static.widgetMap, maybeChild), 7));
  if (widget) {
    $remove_2(this$static, widget);
    return true;
  }
   else {
    clearInnerHTML && $setInnerHTML(td, '');
    return false;
  }
}

function $prepareColumn(column){
  if (column < 0) {
    throw new IndexOutOfBoundsException_0('Cannot access a column with a negative index: ' + column);
  }
}

function $remove_2(this$static, widget){
  var elem;
  if (widget.parent_1 != this$static) {
    return false;
  }
  try {
    $setParent(widget, null);
  }
   finally {
    elem = ($clinit_DOM() , widget.element);
    $removeChild((null , $getParentElement(elem)), elem);
    $removeByElement(this$static.widgetMap, elem);
  }
  return true;
}

function $removeRow(this$static, row){
  var column, columnCount;
  columnCount = this$static.getCellCount(row);
  for (column = 0; column < columnCount; ++column) {
    $cleanCell(this$static, row, column, false);
  }
  $removeChild(this$static.bodyElem, $getRow(this$static.bodyElem, row));
}

function $setCellFormatter(this$static, cellFormatter){
  this$static.cellFormatter = cellFormatter;
}

function $setColumnFormatter(this$static, formatter){
  !!this$static.columnFormatter && (formatter.columnGroup = this$static.columnFormatter.columnGroup);
  this$static.columnFormatter = formatter;
  $prepareColumnGroup(this$static.columnFormatter);
}

function $setRowFormatter(this$static, rowFormatter){
  this$static.rowFormatter = rowFormatter;
}

function $setWidget_0(this$static, row, column, widget){
  var td;
  this$static.prepareCell(row, column);
  td = $cleanCell(this$static, row, column, true);
  if (widget) {
    $removeFromParent(widget);
    $put_1(this$static.widgetMap, widget);
    $clinit_DOM();
    $appendChild(td, resolve(widget.element));
    $setParent(widget, this$static);
  }
}

function HTMLTable(){
  this.widgetMap = new ElementMapperImpl;
  this.tableElem = ($clinit_DOM() , $doc.createElement('table'));
  this.bodyElem = $doc.createElement('tbody');
  $appendChild(this.tableElem, resolve(this.bodyElem));
  $setElement(this, this.tableElem);
}

defineClass(434, 1485, $intern_18);
_.addClickHandler = function addClickHandler(handler){
  return $addDomHandler(this, handler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}
;
_.clear_1 = function clear_4(){
  $clear_0(this);
}
;
_.iterator = function iterator_2(){
  return new HTMLTable$1(this);
}
;
_.prepareColumn = function prepareColumn(column){
  $prepareColumn(column);
}
;
_.remove_1 = function remove_5(widget){
  return $remove_2(this, widget);
}
;
var Lcom_google_gwt_user_client_ui_HTMLTable_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HTMLTable', 434, Lcom_google_gwt_user_client_ui_Panel_2_classLit);
function $prepareRow(this$static, row){
  if (row < 0) {
    throw new IndexOutOfBoundsException_0('Cannot access a row with a negative index: ' + row);
  }
  if (row >= this$static.numRows) {
    throw new IndexOutOfBoundsException_0('Row index: ' + row + ', Row size: ' + this$static.numRows);
  }
}

function $removeRow_0(this$static, row){
  $removeRow(this$static, row);
  --this$static.numRows;
}

function $resizeColumns(this$static){
  var i, j, td, tr, tr_0, td_0, td_1;
  if (this$static.numColumns == 3) {
    return;
  }
  if (this$static.numColumns > 3) {
    for (i = 0; i < this$static.numRows; i++) {
      for (j = this$static.numColumns - 1; j >= 3; j--) {
        $checkCellBounds(this$static, i, j);
        td = $cleanCell(this$static, i, j, false);
        tr = $getRow(this$static.bodyElem, i);
        tr.removeChild(td);
      }
    }
  }
   else {
    for (i = 0; i < this$static.numRows; i++) {
      for (j = this$static.numColumns; j < 3; j++) {
        tr_0 = $getRow(this$static.bodyElem, i);
        td_0 = (td_1 = ($clinit_DOM() , $doc.createElement('td')) , $setInnerHTML(td_1, '&nbsp;') , $clinit_DOM() , td_1);
        $insertChild(tr_0, resolve(td_0), j);
      }
    }
  }
  this$static.numColumns = 3;
  $resizeColumnGroup(this$static.columnFormatter, 3, false);
}

function $resizeRows(this$static, rows_0){
  if (this$static.numRows == rows_0) {
    return;
  }
  if (rows_0 < 0) {
    throw new IndexOutOfBoundsException_0('Cannot set number of rows to ' + rows_0);
  }
  if (this$static.numRows < rows_0) {
    addRows(($clinit_DOM() , this$static.bodyElem), rows_0 - this$static.numRows, this$static.numColumns);
    this$static.numRows = rows_0;
  }
   else {
    while (this$static.numRows > rows_0) {
      $removeRow_0(this$static, this$static.numRows - 1);
    }
  }
}

function Grid(){
  HTMLTable.call(this);
  $setCellFormatter(this, new HTMLTable$CellFormatter(this));
  $setRowFormatter(this, new HTMLTable$RowFormatter(this));
  $setColumnFormatter(this, new HTMLTable$ColumnFormatter(this));
}

function Grid_0(rows_0){
  Grid.call(this);
  $resizeColumns(this);
  $resizeRows(this, rows_0);
}

function addRows(table, rows_0, columns){
  var td = $doc.createElement('td');
  td.innerHTML = '&nbsp;';
  var row = $doc.createElement('tr');
  for (var cellNum = 0; cellNum < columns; cellNum++) {
    var cell = td.cloneNode(true);
    row.appendChild(cell);
  }
  table.appendChild(row);
  for (var rowNum = 1; rowNum < rows_0; rowNum++) {
    table.appendChild(row.cloneNode(true));
  }
}

defineClass(126, 434, $intern_18, Grid_0);
_.getCellCount = function getCellCount(row){
  return this.numColumns;
}
;
_.getRowCount = function getRowCount(){
  return this.numRows;
}
;
_.prepareCell = function prepareCell(row, column){
  $prepareRow(this, row);
  if (column < 0) {
    throw new IndexOutOfBoundsException_0('Cannot access a column with a negative index: ' + column);
  }
  if (column >= this.numColumns) {
    throw new IndexOutOfBoundsException_0('Column index: ' + column + ', Column size: ' + this.numColumns);
  }
}
;
_.prepareColumn = function prepareColumn_0(column){
  $prepareColumn(column);
  if (column >= this.numColumns) {
    throw new IndexOutOfBoundsException_0('Column index: ' + column + ', Column size: ' + this.numColumns);
  }
}
;
_.numColumns = 0;
_.numRows = 0;
var Lcom_google_gwt_user_client_ui_Grid_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Grid', 126, Lcom_google_gwt_user_client_ui_HTMLTable_2_classLit);
function $$init_1(this$static){
  this$static.sizeX = '200px';
  this$static.sizeY = '100px';
  this$static.PopUpTitle = 'Title Goes Here';
  this$static.ReviewTitle = new Label_1(this$static.PopUpTitle);
  this$static.titleBar = new HorizontalPanel;
  this$static.showCloseBox = false;
}

function $SetTitleMiddleStyle(this$static){
  $setStyleName_1(this$static.cellFormatter, 0, 1, 'MainbarBack MainBarBorder');
  $setStyleName_1(this$static.cellFormatter, 0, 2, 'MainbarBack MainBarBorder');
}

function $constructTitle(this$static, X, title_0, Contents){
  this$static.sizeX = X;
  this$static.sizeY = '130';
  $setText_0(this$static.ReviewTitle, title_0);
  $setStyleName(this$static.ReviewTitle, 'bold');
  $setSize(this$static, this$static.sizeX, this$static.sizeY);
  $resizeColumns(this$static);
  $resizeRows(this$static, 3);
  $setPropertyInt(this$static.tableElem, 'cellPadding', 0);
  $setPropertyInt(this$static.tableElem, 'cellSpacing', 0);
  $setSize(this$static, this$static.sizeX, this$static.sizeY);
  $setWidth_4(this$static.cellFormatter, 0, 0, '8px');
  $setHeight_3(this$static.cellFormatter, 0, 0, '26px');
  $setHorizontalAlignment(this$static.titleBar, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_4(this$static.titleBar, this$static.ReviewTitle);
  this$static.showCloseBox && $setWidget_0(this$static, 0, 2, this$static.closeWidget);
  $setWidth(this$static.titleBar, '100%');
  $setWidget_0(this$static, 0, 1, this$static.titleBar);
  $setHorizontalAlignment_1(this$static.cellFormatter, 0, 1, ALIGN_CENTER);
  $setStyleName_1(this$static.cellFormatter, 0, 1, 'PopUpHeader');
  $setHeight_3(this$static.cellFormatter, 0, 1, '26px');
  $setStyleName_1(this$static.cellFormatter, 0, 2, 'PopUpHeader');
  $setHeight_3(this$static.cellFormatter, 0, 2, '26px');
  $setWidth_4(this$static.cellFormatter, 1, 0, '8px');
  $setWidget_0(this$static, 1, 1, Contents);
  $setStyleName_1(this$static.cellFormatter, 1, 1, 'Backstyle');
  $setStyleName_1(this$static.cellFormatter, 1, 2, 'Backstyle');
  $setWidth_4(this$static.cellFormatter, 2, 0, '8px');
  $setHeight_3(this$static.cellFormatter, 2, 0, '8px');
  $setHeight_3(this$static.cellFormatter, 2, 1, '8px');
  $setWidth_4(this$static.cellFormatter, 2, 2, '16px');
  $setHeight_3(this$static.cellFormatter, 2, 2, '8px');
}

function SpiffyBasicpopup(title_0, Contents){
  Grid.call(this);
  $$init_1(this);
  $constructTitle(this, '300', title_0, Contents);
}

function SpiffyBasicpopup_0(title_0, Contents, CloseButton){
  Grid.call(this);
  $$init_1(this);
  this.showCloseBox = true;
  this.closeWidget = CloseButton;
  $constructTitle(this, '200', title_0, Contents);
}

defineClass(516, 126, $intern_18, SpiffyBasicpopup, SpiffyBasicpopup_0);
_.showCloseBox = false;
var Lcom_darkflame_client_SpiffyBasicpopup_2_classLit = createForClass('com.darkflame.client', 'SpiffyBasicpopup', 516, Lcom_google_gwt_user_client_ui_Grid_2_classLit);
function $clinit_FocusPanel(){
  $clinit_FocusPanel = emptyMethod;
  impl_1 = ($clinit_FocusImpl() , $clinit_FocusImpl() , implPanel);
}

function FocusPanel(){
  $clinit_FocusPanel();
  SimplePanel_0.call(this, createFocusable0(($clinit_FocusImpl() , focusHandler_0)?focusHandler_0:(focusHandler_0 = $createFocusHandler())));
}

function FocusPanel_0(child){
  $clinit_FocusPanel();
  FocusPanel.call(this);
  $setWidget(this, child);
}

defineClass(142, 29, $intern_19, FocusPanel, FocusPanel_0);
_.addClickHandler = function addClickHandler_0(handler){
  return $addDomHandler(this, handler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}
;
_.addMouseDownHandler = function addMouseDownHandler(handler){
  return $addDomHandler(this, handler, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
}
;
_.addMouseOutHandler = function addMouseOutHandler(handler){
  return $addDomHandler(this, handler, ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
}
;
_.addMouseOverHandler = function addMouseOverHandler(handler){
  return $addDomHandler(this, handler, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
}
;
_.addTouchStartHandler = function addTouchStartHandler(handler){
  return $addDomHandler(this, handler, ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
}
;
var impl_1;
var Lcom_google_gwt_user_client_ui_FocusPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FocusPanel', 142, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $clinit_SpiffyClock(){
  $clinit_SpiffyClock = emptyMethod;
  $clinit_FocusPanel();
  Log_1 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyClock'));
}

function $SetModeRandom(this$static){
  var stopafter;
  if (compareTo_5(this$static.Mode, 'Random') == 0) {
    return;
  }
  this$static.PrevMode = this$static.Mode;
  this$static.Mode = 'Random';
  $scheduleRepeating(this$static.minite, 50);
  stopafter = new SpiffyClock$2(this$static);
  $schedule(stopafter, 3000);
}

function $setAngles(this$static, hour_angle, minute_angle, second_angle){
  var hour_angle_rads, hour_x, hour_y, min_x, min_y, minute_angle_rads, sec_x, sec_y, second_angle_rads;
  hour_angle_rads = hour_angle * $intern_20;
  minute_angle_rads = minute_angle * $intern_20;
  second_angle_rads = second_angle * $intern_20;
  hour_x = sin_0(hour_angle_rads) * ~~(this$static.radius / 2);
  hour_y = cos_0(hour_angle_rads) * ~~(this$static.radius / 2);
  min_x = sin_0(minute_angle_rads) * (this$static.radius - 3);
  min_y = cos_0(minute_angle_rads) * (this$static.radius - 3);
  sec_x = sin_0(second_angle_rads) * (this$static.radius - 1);
  sec_y = cos_0(second_angle_rads) * (this$static.radius - 1);
  $clearRect(this$static.drawplane, 0, 0, $getCanvasElement(this$static.canvas).width, $getCanvasElement(this$static.canvas).height);
  $beginPath(this$static.drawplane);
  $moveTo(this$static.drawplane, this$static.radius, this$static.radius);
  $setLineWidth(this$static.drawplane, 4);
  $lineTo(this$static.drawplane, this$static.radius + hour_x, this$static.radius - hour_y);
  $moveTo(this$static.drawplane, this$static.radius, this$static.radius);
  $setLineWidth(this$static.drawplane, 2);
  $lineTo(this$static.drawplane, this$static.radius + min_x, this$static.radius - min_y);
  $moveTo(this$static.drawplane, this$static.radius, this$static.radius);
  $setLineWidth(this$static.drawplane, 1);
  $lineTo(this$static.drawplane, this$static.radius + sec_x, this$static.radius - sec_y);
  $stroke(this$static.drawplane);
}

function $setModeFast(this$static){
  this$static.Mode = 'Fast';
  $scheduleRepeating(this$static.minite, 50);
}

function $setModeNormal(this$static){
  this$static.Mode = 'Normal';
  $scheduleRepeating(this$static.minite, $intern_10);
}

function $setRadius(this$static, newradius){
  this$static.radius = ~~(newradius / 2);
  ($clinit_DOM() , this$static.element).style['width'] = newradius + 'px';
  this$static.element.style['height'] = newradius + 'px';
}

function $update(this$static){
  var Hour, minute, rightNow, second;
  if (compareTo_5(this$static.Mode, 'Fast') == 0) {
    this$static.second_angle = this$static.second_angle + 30;
    if (this$static.second_angle > 360) {
      this$static.second_angle = 0;
      this$static.minute_angle = this$static.minute_angle + 15;
      if (this$static.minute_angle > 360) {
        this$static.minute_angle = 0;
        this$static.hour_angle = this$static.hour_angle + 5;
        this$static.hour_angle > 360 && (this$static.hour_angle = 0);
      }
    }
  }
   else if (compareTo_5(this$static.Mode, 'Random') == 0) {
    this$static.second_angle = round_int(random() * 360);
    this$static.minute_angle = round_int(random() * 360);
    this$static.hour_angle = round_int(random() * 360);
  }
   else {
    rightNow = new Date_0;
    Hour = rightNow.jsdate.getHours();
    Hour > 12 && (Hour = Hour - 12);
    this$static.hour_angle = Math.round(~~(Hour * 360 / 12));
    minute = rightNow.jsdate.getMinutes();
    this$static.minute_angle = Math.round(~~(minute * 360 / 60));
    second = rightNow.jsdate.getSeconds();
    this$static.second_angle = Math.round(~~(second * 360 / 60));
  }
  $setAngles(this$static, this$static.hour_angle, this$static.minute_angle, this$static.second_angle);
}

function SpiffyClock(){
  $clinit_SpiffyClock();
  FocusPanel.call(this);
  this.canvas = createIfSupported();
  this.radius = 0;
  this.Mode = 'Normal';
  this.hour_angle = 0;
  this.minute_angle = 0;
  this.second_angle = 0;
  if (!this.canvas) {
    $info_1(Log_1, 'no canvas supported for clock');
    return;
  }
  $setWidget(this, this.canvas);
  ($clinit_DOM() , this.element).style['width'] = '50px';
  this.element.style['height'] = '50px';
  $setWidth(this.canvas, '25px');
  $setCoordinateSpaceWidth(this.canvas, 50);
  $setHeight(this.canvas, '25px');
  $setCoordinateSpaceHeight(this.canvas, 50);
  this.drawplane = $getCanvasElement(this.canvas).getContext('2d');
  this.radius = 25;
  $beginPath(this.drawplane);
  $setStrokeStyleWeb(this.drawplane, 'Black');
  $stroke(this.drawplane);
  $update(this);
  this.minite = new SpiffyClock$1(this);
  $scheduleRepeating(this.minite, $intern_10);
}

defineClass(654, 142, $intern_19, SpiffyClock);
_.hour_angle = 0;
_.minute_angle = 0;
_.radius = 0;
_.second_angle = 0;
var Log_1;
var Lcom_darkflame_client_SpiffyClock_2_classLit = createForClass('com.darkflame.client', 'SpiffyClock', 654, Lcom_google_gwt_user_client_ui_FocusPanel_2_classLit);
function $cancel(this$static){
  if (!this$static.timerId) {
    return;
  }
  ++this$static.cancelCounter;
  this$static.isRepeating?clearInterval_0(this$static.timerId.value_0):clearTimeout_0(this$static.timerId.value_0);
  this$static.timerId = null;
}

function $schedule(this$static, delayMillis){
  if (delayMillis < 0) {
    throw new IllegalArgumentException_0('must be non-negative');
  }
  !!this$static.timerId && this$static.cancel_0();
  this$static.isRepeating = false;
  this$static.timerId = valueOf_45(setTimeout_0(createCallback(this$static, this$static.cancelCounter), delayMillis));
}

function $scheduleRepeating(this$static, periodMillis){
  if (periodMillis <= 0) {
    throw new IllegalArgumentException_0('must be positive');
  }
  !!this$static.timerId && this$static.cancel_0();
  this$static.isRepeating = true;
  this$static.timerId = valueOf_45(setInterval_0(createCallback(this$static, this$static.cancelCounter), periodMillis));
}

function Timer(){
}

function clearInterval_0(timerId){
  $wnd.clearInterval(timerId);
}

function clearTimeout_0(timerId){
  $wnd.clearTimeout(timerId);
}

function createCallback(timer, cancelCounter){
  return $entry(function(){
    timer.fire(cancelCounter);
  }
  );
}

function setInterval_0(func, time){
  return $wnd.setInterval(func, time);
}

function setTimeout_0(func, time){
  return $wnd.setTimeout(func, time);
}

defineClass(61, 1, {});
_.cancel_0 = function cancel_0(){
  $cancel(this);
}
;
_.fire = function fire(scheduleCancelCounter){
  if (scheduleCancelCounter != this.cancelCounter) {
    return;
  }
  this.isRepeating || (this.timerId = null);
  this.run();
}
;
_.cancelCounter = 0;
_.isRepeating = false;
_.timerId = null;
var Lcom_google_gwt_user_client_Timer_2_classLit = createForClass('com.google.gwt.user.client', 'Timer', 61, Ljava_lang_Object_2_classLit);
function SpiffyClock$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(655, 61, {}, SpiffyClock$1);
_.run = function run(){
  $update(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyClock$1_2_classLit = createForClass('com.darkflame.client', 'SpiffyClock/1', 655, Lcom_google_gwt_user_client_Timer_2_classLit);
function SpiffyClock$2(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(656, 61, {}, SpiffyClock$2);
_.run = function run_0(){
  this.this$01.Mode = this.this$01.PrevMode;
  compareTo_5(this.this$01.Mode, 'Fast') == 0?$scheduleRepeating(this.this$01.minite, 50):$scheduleRepeating(this.this$01.minite, $intern_10);
}
;
var Lcom_darkflame_client_SpiffyClock$2_2_classLit = createForClass('com.darkflame.client', 'SpiffyClock/2', 656, Lcom_google_gwt_user_client_Timer_2_classLit);
function $clinit_DeltaTimerController(){
  $clinit_DeltaTimerController = emptyMethod;
  Log_2 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyCore.DeltaTimerController'));
  objectsToUpdateOnTick = new HashSet;
  objectsToUpdateOnTickPendingRemoveList = new HashSet;
  objectsToUpdateOnFrame = new HashSet;
  namedRunnables = new HashBiMap;
  objectsToUpdateOnFramePendingRemoveList = new HashSet;
  objectsToUpdateOnFramePendingAdd = new HashSet;
}

function addObjectToUpdateOnFrame(object){
  $clinit_DeltaTimerController();
  $remove_21(objectsToUpdateOnFramePendingRemoveList, object);
  frameUpdatesRunning?$add_21(objectsToUpdateOnFramePendingAdd, object):$add_21(objectsToUpdateOnFrame, object);
  if (!frameUpdatesRunning) {
    $info_1(Log_2, 'starting frame updates');
    $startFrameUpdates();
  }
}

function addObjectToUpdateOnTick(object){
  $clinit_DeltaTimerController();
  $add_21(objectsToUpdateOnTick, object);
  TimerRunning || (!tickTimer && (tickTimer = new DeltaTimerController$1) , $scheduleRepeating(tickTimer, FRAMEPERIOD) , lastUpdateTime = ($clinit_System() , fromDouble(now_1())) , TimerRunning = true);
}

function removeObjectToUpdateOnFrame(object){
  $clinit_DeltaTimerController();
  $remove_21(objectsToUpdateOnFramePendingAdd, object);
  if (frameUpdatesRunning) {
    $add_21(objectsToUpdateOnFramePendingRemoveList, object);
  }
   else {
    $remove_21(objectsToUpdateOnFrame, object);
    objectsToUpdateOnFrame.map_0.size_1() == 0 && $stopFrameUpdates();
  }
  $remove_7(namedRunnables.inverse, object);
}

function removeObjectToUpdateOnTick(object){
  $clinit_DeltaTimerController();
  if (TimerRunning) {
    $add_21(objectsToUpdateOnTickPendingRemoveList, object);
  }
   else {
    $remove_21(objectsToUpdateOnTick, object);
    objectsToUpdateOnTick.map_0.size_1() == 0 && (!!tickTimer && $cancel(tickTimer) , TimerRunning = false);
  }
}

function updateAllFrameObjects(currentDelta){
  $clinit_DeltaTimerController();
  var object, objectUpdateIterator;
  objectUpdateIterator = $iterator_4(new AbstractMap$1(objectsToUpdateOnFrame.map_0));
  while (objectUpdateIterator.val$outerIter2.hasNext()) {
    object = dynamicCast($next_7(objectUpdateIterator), 97);
    if ($contains_0(objectsToUpdateOnFramePendingRemoveList, object)) {
      objectUpdateIterator.val$outerIter2.remove_2();
      $remove_21(objectsToUpdateOnFramePendingRemoveList, object);
      continue;
    }
    object.update_0(toDouble(currentDelta));
  }
  $addAll(objectsToUpdateOnFrame, objectsToUpdateOnFramePendingAdd);
  objectsToUpdateOnFramePendingAdd.map_0.clear_1();
  objectsToUpdateOnFrame.map_0.size_1() == 0 && $stopFrameUpdates();
}

function updateAllTickObjects(currentDelta){
  $clinit_DeltaTimerController();
  var object, object$iterator, object$iterator0;
  for (object$iterator0 = $iterator_4(new AbstractMap$1(objectsToUpdateOnTick.map_0)); object$iterator0.val$outerIter2.hasNext();) {
    object = dynamicCast($next_7(object$iterator0), 97);
    object.update_0(toDouble(currentDelta));
  }
  for (object$iterator = $iterator_4(new AbstractMap$1(objectsToUpdateOnTickPendingRemoveList.map_0)); object$iterator.val$outerIter2.hasNext();) {
    object = dynamicCast($next_7(object$iterator), 97);
    $remove_21(objectsToUpdateOnTick, object);
  }
  objectsToUpdateOnTickPendingRemoveList.map_0.clear_1();
  objectsToUpdateOnTick.map_0.size_1() == 0 && (!!tickTimer && $cancel(tickTimer) , TimerRunning = false);
}

var FRAMEPERIOD = 100, Log_2, TimerRunning = false, frameUpdatesRunning = false, lastUpdateTime = {l:0, m:0, h:0}, namedRunnables, objectsToUpdateOnFrame, objectsToUpdateOnFramePendingAdd, objectsToUpdateOnFramePendingRemoveList, objectsToUpdateOnTick, objectsToUpdateOnTickPendingRemoveList, tickTimer;
function DeltaTimerController$1(){
  Timer.call(this);
}

defineClass(376, 61, {}, DeltaTimerController$1);
_.run = function run_1(){
  var currentDelta, currentTime;
  currentTime = ($clinit_System() , fromDouble(now_1()));
  currentDelta = sub_0(currentTime, ($clinit_DeltaTimerController() , lastUpdateTime));
  lastUpdateTime = currentTime;
  updateAllTickObjects(currentDelta);
}
;
var Lcom_darkflame_client_SpiffyCore_DeltaTimerController$1_2_classLit = createForClass('com.darkflame.client.SpiffyCore', 'DeltaTimerController/1', 376, Lcom_google_gwt_user_client_Timer_2_classLit);
defineClass(181, 1, $intern_21);
_.RunnablesName = '';
var Lcom_darkflame_client_SpiffyCore_DeltaTimerController$DeltaRunnable_2_classLit = createForClass('com.darkflame.client.SpiffyCore', 'DeltaTimerController/DeltaRunnable', 181, Ljava_lang_Object_2_classLit);
function $clinit_FramedAnimationManager(){
  $clinit_FramedAnimationManager = emptyMethod;
  Log_3 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyCore.FramedAnimationManager'));
}

function $checkAnimationFrame(this$static){
  this$static.currentlyAnimating = true;
  $setFrame_0(this$static, this$static.currentframe);
  this$static.animation_direction == ($clinit_FramedAnimationManager$animationDirection() , open_1)?(this$static.currentframe = this$static.currentframe + 1):this$static.animation_direction == close_0 && (this$static.currentframe = this$static.currentframe - 1);
  if (this$static.currentframe < 0) {
    if (this$static.open_after_close) {
      this$static.currentframe = 0;
      this$static.animation_direction = open_1;
      this$static.loop_0 || (this$static.open_after_close = false);
    }
     else if (this$static.loop_0) {
      this$static.currentframe = this$static.lastFrameNum;
    }
     else {
      this$static.currentframe = 0;
      $info_1(Log_3, 'animation stoped due to frame less then zero_' + this$static.loop_0);
      removeObjectToUpdateOnFrame(this$static);
      this$static.currentlyAnimating = false;
      if (this$static.runThisAfterClose) {
        $info_1(Log_3, 'runThisAfterClose go!');
        this$static.runThisAfterClose.run();
      }
      return;
    }
  }
  if (this$static.currentframe == this$static.playuntill + 1 && this$static.animation_direction == open_1) {
    $info_1(Log_3, 'animation openstoped due to frame more then play untill ' + this$static.playuntill);
    this$static.currentframe = this$static.playuntill;
    this$static.playuntill = 100 + this$static.lastFrameNum;
    removeObjectToUpdateOnFrame(this$static);
    !!this$static.runThisAfterOpen && this$static.runThisAfterOpen.run();
    this$static.currentlyAnimating = false;
  }
  if (this$static.currentframe == this$static.playuntill - 1 && this$static.animation_direction == close_0) {
    $info_1(Log_3, 'animation closestoped due to frame more then play untill ' + this$static.playuntill);
    this$static.currentframe = this$static.playuntill;
    this$static.playuntill = 100 + this$static.lastFrameNum;
    removeObjectToUpdateOnFrame(this$static);
    !!this$static.runThisAfterOpen && this$static.runThisAfterOpen.run();
    this$static.currentlyAnimating = false;
  }
  if (this$static.currentframe > this$static.lastFrameNum) {
    this$static.currentframe = this$static.lastFrameNum;
    if (this$static.close_after_open) {
      this$static.animation_direction = close_0;
      this$static.loop_0 || (this$static.close_after_open = false);
    }
     else if (this$static.loop_0) {
      this$static.currentframe = 0;
    }
     else if (!this$static.loop_0) {
      removeObjectToUpdateOnFrame(this$static);
      $info_1(Log_3, 'animation stoped due to frame at end (' + this$static.lastFrameNum + ') and no loop set');
      this$static.currentlyAnimating = false;
      !!this$static.runThisAfterOpen && this$static.runThisAfterOpen.run();
    }
  }
}

function $gotoFrame(this$static, newframe){
  $info_1(Log_3, 'setting frame to ' + newframe + ' total=' + this$static.lastFrameNum);
  if (newframe <= this$static.lastFrameNum) {
    this$static.currentframe = newframe;
    $setFrame_0(this$static, this$static.currentframe);
  }
}

function $loadSerialisedAnimationState(this$static, state){
  var statearray;
  $pauseAnimation(this$static);
  $info_1(Log_3, '___________________Loading state:' + state);
  $info_1(Log_3, '___________________Icom is animating atm:' + this$static.currentlyAnimating);
  statearray = $split_0(state, '_', 0);
  this$static.currentframe = __parseAndValidateInt(statearray[0], 10);
  if (statearray.length == 1) {
    $gotoFrame(this$static, this$static.currentframe);
    return;
  }
  statearray[1] == '0'?(this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , close_0)):(this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , open_1));
  statearray[2] == '0'?(this$static.loop_0 = false):(this$static.loop_0 = true);
  statearray[3] == '0'?(this$static.close_after_open = false):(this$static.close_after_open = true);
  statearray[4] == '0'?(this$static.open_after_close = false):(this$static.open_after_close = true);
  this$static.playuntill = __parseAndValidateInt(statearray[5], 10);
  $info_1(Log_3, 'currentframe:' + this$static.currentframe + '\n playuntill = ' + this$static.playuntill + ' loop:' + ('' + this$static.loop_0) + ' total frames=' + this$static.lastFrameNum);
}

function $nextFrame(this$static){
  this$static.currentframe = this$static.currentframe + 1;
  if (this$static.currentframe > this$static.lastFrameNum) {
    this$static.currentframe = this$static.lastFrameNum;
    !!this$static.runThisAfterOpen && this$static.runThisAfterOpen.run();
  }
  $setFrame_0(this$static, this$static.currentframe);
}

function $nextFrameLoop(this$static){
  this$static.currentframe = this$static.currentframe + 1;
  this$static.currentframe > this$static.lastFrameNum && (this$static.currentframe = 0);
  $setFrame_0(this$static, this$static.currentframe);
}

function $pauseAnimation(this$static){
  $info_1(Log_3, 'animation stopped');
  this$static.currentlyAnimating = false;
  removeObjectToUpdateOnFrame(this$static);
}

function $playBackUntill(this$static, frame_0){
  $info_1(Log_3, 'playBackUntill active');
  this$static.loop_0 = false;
  this$static.playuntill = frame_0;
  this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , close_0);
  addObjectToUpdateOnFrame(this$static);
}

function $playForwardXframes(this$static){
  $info_1(Log_3, 'playForwardXframes active');
  if (!this$static.currentlyAnimating) {
    this$static.loop_0 = true;
    this$static.playuntill = this$static.currentframe + 4;
    this$static.playuntill > this$static.lastFrameNum && (this$static.playuntill = this$static.playuntill - (this$static.lastFrameNum + 1));
    this$static.close_after_open = false;
    this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , open_1);
    addObjectToUpdateOnFrame(this$static);
  }
}

function $playUntill(this$static, frame_0){
  $info_1(Log_3, 'playUntill active');
  this$static.loop_0 = false;
  this$static.playuntill = frame_0;
  this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , open_1);
  addObjectToUpdateOnFrame(this$static);
}

function $prevFrame(this$static){
  this$static.currentframe = this$static.currentframe - 1;
  if (this$static.currentframe < 0) {
    this$static.currentframe = 0;
    !!this$static.runThisAfterClose && this$static.runThisAfterClose.run();
  }
  $setFrame_0(this$static, this$static.currentframe);
}

function $prevFrameLoop(this$static){
  this$static.currentframe = this$static.currentframe - 1;
  this$static.currentframe < 0 && (this$static.currentframe = this$static.lastFrameNum);
  $setFrame_0(this$static, this$static.currentframe);
}

function $resumeAnimation(this$static){
  $info_1(Log_3, 'resuming animation after:' + this$static.timerDelay);
  $info_1(Log_3, 'currentframe:' + this$static.currentframe + '\n playuntill = ' + this$static.playuntill + ' loop:' + ('' + this$static.loop_0) + ' total frames=' + this$static.lastFrameNum);
  addObjectToUpdateOnFrame(this$static);
}

function $serialiseAnimationState(this$static){
  var close_after_openstring, loopstring, open_after_closestring, serialised;
  if (!this$static.currentlyAnimating) {
    return '' + this$static.currentframe;
  }
  this$static.loop_0?(loopstring = '1'):(loopstring = '0');
  this$static.close_after_open?(close_after_openstring = '1'):(close_after_openstring = '0');
  this$static.open_after_close?(open_after_closestring = '1'):(open_after_closestring = '0');
  serialised = this$static.currentframe + '_' + this$static.animation_direction.ordinal + '_' + loopstring + '_' + close_after_openstring + '_' + open_after_closestring + '_' + this$static.playuntill;
  return serialised;
}

function $setCommandToRunAfterClose(this$static, newcommand){
  this$static.runThisAfterClose = newcommand;
}

function $setCommandToRunAfterFrameChange(this$static, command){
  this$static.runThisOnFrameChange = command;
}

function $setCommandToRunAfterOpen(this$static, newcommand){
  this$static.runThisAfterOpen = newcommand;
}

function $setFrametotal(this$static, frametotal){
  this$static.lastFrameNum = frametotal;
  this$static.currentframe > this$static.lastFrameNum && (this$static.currentframe = frametotal);
}

function $setPlayBack(this$static){
  this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , close_0);
  this$static.loop_0 = false;
  addObjectToUpdateOnFrame(this$static);
  this$static.playuntill = 100 + this$static.lastFrameNum;
}

function $setPlayForward(this$static){
  this$static.loop_0 = false;
  this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , open_1);
  addObjectToUpdateOnFrame(this$static);
  this$static.playuntill = 100 + this$static.lastFrameNum;
}

function $setPlayForwardThenBack(this$static){
  $info_1(Log_3, 'Set setAnimateOpenThenClose');
  this$static.loop_0 = false;
  this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , open_1);
  this$static.close_after_open = true;
  addObjectToUpdateOnFrame(this$static);
  this$static.playuntill = 100 + this$static.lastFrameNum;
}

function $setPlayForwardThenBackLoop(this$static){
  $info_1(Log_3, 'loop bouncing active');
  this$static.loop_0 = true;
  this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , open_1);
  this$static.close_after_open = true;
  this$static.open_after_close = true;
  addObjectToUpdateOnFrame(this$static);
  this$static.playuntill = 100 + this$static.lastFrameNum;
}

function $setPlayLoop(this$static){
  this$static.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , open_1);
  this$static.loop_0 = true;
  $checkAnimationFrame(this$static);
  addObjectToUpdateOnFrame(this$static);
}

defineClass(652, 1, {97:1});
_.update_0 = function update_0(delta){
  this.timeSinceLastUpdate = this.timeSinceLastUpdate + delta;
  if (this.timeSinceLastUpdate > this.timerDelay) {
    this.timeSinceLastUpdate = this.timeSinceLastUpdate % this.timerDelay;
    $checkAnimationFrame(this);
  }
}
;
_.close_after_open = false;
_.currentframe = 0;
_.currentlyAnimating = false;
_.lastFrameNum = 1;
_.loop_0 = false;
_.open_after_close = false;
_.playuntill = 0;
_.runThisAfterClose = null;
_.runThisAfterOpen = null;
_.runThisOnFrameChange = null;
_.timeSinceLastUpdate = 0;
_.timerDelay = 100;
var Log_3;
var Lcom_darkflame_client_SpiffyCore_FramedAnimationManager_2_classLit = createForClass('com.darkflame.client.SpiffyCore', 'FramedAnimationManager', 652, Ljava_lang_Object_2_classLit);
function $clinit_FramedAnimationManager$animationDirection(){
  $clinit_FramedAnimationManager$animationDirection = emptyMethod;
  close_0 = new FramedAnimationManager$animationDirection('close', 0);
  open_1 = new FramedAnimationManager$animationDirection('open', 1);
}

function FramedAnimationManager$animationDirection(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_4(name_0){
  $clinit_FramedAnimationManager$animationDirection();
  return valueOf(($clinit_FramedAnimationManager$animationDirection$Map() , $MAP_2), name_0);
}

function values_3(){
  $clinit_FramedAnimationManager$animationDirection();
  return initValues(getClassLiteralForArray(Lcom_darkflame_client_SpiffyCore_FramedAnimationManager$animationDirection_2_classLit, 1), $intern_1, 283, 0, [close_0, open_1]);
}

defineClass(283, 9, {283:1, 3:1, 21:1, 9:1}, FramedAnimationManager$animationDirection);
var close_0, open_1;
var Lcom_darkflame_client_SpiffyCore_FramedAnimationManager$animationDirection_2_classLit = createForEnum('com.darkflame.client.SpiffyCore', 'FramedAnimationManager/animationDirection', 283, Ljava_lang_Enum_2_classLit, values_3, valueOf_4);
function $clinit_FramedAnimationManager$animationDirection$Map(){
  $clinit_FramedAnimationManager$animationDirection$Map = emptyMethod;
  $MAP_2 = createValueOfMap(($clinit_FramedAnimationManager$animationDirection() , initValues(getClassLiteralForArray(Lcom_darkflame_client_SpiffyCore_FramedAnimationManager$animationDirection_2_classLit, 1), $intern_1, 283, 0, [close_0, open_1])));
}

var $MAP_2;
function $clinit_SpiffyCalculator(){
  $clinit_SpiffyCalculator = emptyMethod;
  Log_4 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyCalculator'));
}

function AdvanceCalculation(input_0){
  var p;
  $clinit_SpiffyCalculator();
  var d, e, engine;
  try {
    engine = new DoubleEvaluator;
    d = (p = new Parser , engine.fNode = $parse_4(p, input_0) , instanceOf(engine.fNode, 72) && (engine.fNode = $optimizeFunction(engine, dynamicCast(engine.fNode, 72))) , $evaluateNode(engine, engine.fNode));
    return d;
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      e = $e0;
      $severe_0(Log_4, 'calclation contained non-numbers:' + input_0);
      $printStackTrace(e, ($clinit_System() , err));
      return -1;
    }
     else 
      throw unwrap($e0);
  }
}

function isCalculation(input_0){
  $clinit_SpiffyCalculator();
  var state;
  state = $matches_2(input_0, '.*[0-9]+[\\+\\-\\*\\/]+[0-9]+.*');
  return state;
}

function smallestNonZero(Numbers){
  $clinit_SpiffyCalculator();
  var num, num$index, num$max, smallest;
  smallest = $intern_0;
  for (num$index = 0 , num$max = Numbers.length; num$index < num$max; ++num$index) {
    num = Numbers[num$index];
    num != -1 && num < smallest && (smallest = num);
  }
  smallest == $intern_0 && (smallest = -1);
  return smallest;
}

var Log_4;
function $clinit_SpiffyCommandManagement(){
  $clinit_SpiffyCommandManagement = emptyMethod;
  Log_5 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyCore.SpiffyCommandManagement'));
}

function SpiffyCommandManagement(commandDatabase){
  $clinit_SpiffyCommandManagement();
  AllKnownCommands_0 = commandDatabase;
}

function setupKnownStartMarks(){
  $clinit_SpiffyCommandManagement();
  var command, command$array, command$index, command$max, endMark, endMarkCharacter, startMark, startMarkCharcter;
  knownScriptMarkCodes = new HashMap;
  for (command$array = AllKnownCommands_0 , command$index = 0 , command$max = command$array.length; command$index < command$max; ++command$index) {
    command = command$array[command$index];
    startMark = command.scriptMarkStart;
    startMarkCharcter = valueOf_44(startMark.charCodeAt(0));
    endMark = command.scriptMarkEnd;
    endMarkCharacter = valueOf_44($charAt_0(endMark, endMark.length - 1));
    knownScriptMarkCodes.put(startMarkCharcter, endMarkCharacter);
    $info_1(Log_5, 'added to command starts:' + startMarkCharcter + ' end mark:' + knownScriptMarkCodes.get_2(startMarkCharcter));
  }
}

defineClass(1440, 1, {}, SpiffyCommandManagement);
var AllKnownCommands_0, Log_5, knownScriptMarkCodes = null;
var Lcom_darkflame_client_SpiffyCore_SpiffyCommandManagement_2_classLit = createForClass('com.darkflame.client.SpiffyCore', 'SpiffyCommandManagement', 1440, Ljava_lang_Object_2_classLit);
function $clinit_SpiffyFunctions(){
  $clinit_SpiffyFunctions = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'SpiffyCore.SpiffyFunctions');
}

function HSL_2_RGB(H, S, L){
  $clinit_SpiffyFunctions();
  var B, G, R, RGB_data, var_1, var_2;
  H = H / 100;
  S = S / 100;
  L = L / 100;
  ($clinit_System() , out_0).println_0('sat is' + S);
  out_0.println_0('hue is' + H);
  RGB_data = new SpiffyFunctions$color_tripple;
  if (S == 0) {
    R = L * 255;
    G = L * 255;
    B = L * 255;
  }
   else {
    L < 0.5?(var_2 = L * (1 + S)):(var_2 = L + S - S * L);
    var_1 = 2 * L - var_2;
    out_0.println_0('red H= ' + (H + 0.33333));
    R = toDouble(fromDouble(round0(255 * Hue_2_RGB(var_1, var_2, H + 0.333333))));
    G = toDouble(fromDouble(round0(255 * Hue_2_RGB(var_1, var_2, H))));
    B = toDouble(fromDouble(round0(255 * Hue_2_RGB(var_1, var_2, H - 0.333333))));
  }
  RGB_data.v1 = round_0(round_0(R));
  RGB_data.v2 = round_0(round_0(G));
  RGB_data.vH = round_0(round_0(B));
  return RGB_data;
}

function Hue_2_RGB(v1, v2, vH){
  ($clinit_System() , out_0).println_0('vH= ' + vH);
  vH < 0 && (vH += 1);
  vH > 1 && (vH -= 1);
  if (6 * vH < 1) {
    out_0.println_0('blah-' + (v1 + (v2 - v1) * 6 * vH));
    return v1 + (v2 - v1) * 6 * vH;
  }
  if (2 * vH < 1) {
    return v2;
  }
  if (3 * vH < 2) {
    out_0.println_0('2 /3 = 0.6666666666666666');
    return v1 + (v2 - v1) * (0.6666666666666666 - vH) * 6;
  }
  return v1;
}

function parseCsvLine(csvLine, strictQuotes){
  $clinit_SpiffyFunctions();
  var c, i, inQuotes, isNextCharEscapable, isNextCharEscapedQuote, sb, tokensOnThisLine;
  tokensOnThisLine = new ArrayList;
  sb = new StringBuilder_0;
  inQuotes = false;
  for (i = 0; i < csvLine.length; i++) {
    c = csvLine.charCodeAt(i);
    if (c == 92) {
      isNextCharEscapable = inQuotes && csvLine.length > i + 1 && (csvLine.charCodeAt(i + 1) == 34 || csvLine.charCodeAt(i + 1) == 92);
      if (isNextCharEscapable) {
        $append_3(sb, csvLine.charCodeAt(i + 1));
        ++i;
      }
    }
     else if (c == 34) {
      isNextCharEscapedQuote = inQuotes && csvLine.length > i + 1 && csvLine.charCodeAt(i + 1) == 34;
      if (isNextCharEscapedQuote) {
        $append_3(sb, csvLine.charCodeAt(i + 1));
        ++i;
      }
       else {
        inQuotes = !inQuotes;
        strictQuotes || i > 2 && csvLine.charCodeAt(i - 1) != 44 && csvLine.length > i + 1 && csvLine.charCodeAt(i + 1) != 44 && (sb.string += '"' , sb);
      }
    }
     else if (c == 44 && !inQuotes) {
      tokensOnThisLine.add_0(sb.string);
      sb = new StringBuilder_0;
    }
     else {
      (!strictQuotes || inQuotes) && (sb.string += charToString(c) , sb);
    }
  }
  tokensOnThisLine.add_0(sb.string);
  return tokensOnThisLine;
}

function SpiffyFunctions$color_tripple(){
  this.v1 = 50;
  this.v2 = 50;
  this.vH = 50;
}

defineClass(1148, 1, {}, SpiffyFunctions$color_tripple);
_.v1 = 0;
_.v2 = 0;
_.vH = 0;
var Lcom_darkflame_client_SpiffyCore_SpiffyFunctions$color_1tripple_2_classLit = createForClass('com.darkflame.client.SpiffyCore', 'SpiffyFunctions/color_tripple', 1148, Ljava_lang_Object_2_classLit);
function $clinit_SpiffyTextUti(){
  $clinit_SpiffyTextUti = emptyMethod;
  Log_6 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyCore.SpiffyTextUti'));
}

function findClosingBracket(paragraph, startFrom, OpenBracketChar, CloseBacketChar){
  $clinit_SpiffyTextUti();
  var bracketsopen, nb;
  nb = startFrom + 1;
  bracketsopen = 1;
  while (nb < paragraph.length - 1) {
    ++nb;
    if (paragraph.charCodeAt(nb) == CloseBacketChar) {
      if (bracketsopen == 1) {
        break;
      }
      --bracketsopen;
    }
    paragraph.charCodeAt(nb) == OpenBracketChar && ++bracketsopen;
  }
  return nb;
}

function splitNotWithinBrackets(input_0, divider){
  $clinit_SpiffyTextUti();
  var NextBracketLocation, NextSplitLocation, SplitLocation, endBracketLocation, lastResult, newResult, pos, results;
  results = new ArrayList;
  SplitLocation = -1;
  do {
    pos = SplitLocation + 1;
    NextSplitLocation = input_0.indexOf(divider, pos);
    NextBracketLocation = $indexOf_3(input_0, fromCodePoint(34), pos);
    while (NextBracketLocation != -1 && NextBracketLocation < NextSplitLocation) {
      $info_1(Log_6, '(skipping to next bracket end starts at ' + NextBracketLocation + ')');
      endBracketLocation = findClosingBracket(input_0, NextBracketLocation + 1, 34, 34);
      $info_1(Log_6, '(ends at ' + endBracketLocation + ')');
      pos = endBracketLocation + 1;
      NextSplitLocation = input_0.indexOf(divider, pos);
      NextBracketLocation = $indexOf_3(input_0, fromCodePoint(34), pos);
    }
    if (NextSplitLocation == -1) {
      lastResult = __substr(input_0, SplitLocation + 1, input_0.length - (SplitLocation + 1));
      results.add_0(lastResult);
      break;
    }
    newResult = input_0.substr(SplitLocation + 1, NextSplitLocation - (SplitLocation + 1));
    results.add_0(newResult);
    SplitLocation = NextSplitLocation + (divider.length - 1);
  }
   while (SplitLocation > -1);
  return results;
}

var Log_6;
function $prepareRow_0(this$static, row){
  var i, rowCount, tr;
  if (row < 0) {
    throw new IndexOutOfBoundsException_0('Cannot create a row with a negative index: ' + row);
  }
  rowCount = $getDOMRowCount(this$static.bodyElem);
  for (i = rowCount; i <= row; i++) {
    i != $getDOMRowCount(this$static.bodyElem) && $checkRowBounds(this$static, i);
    tr = ($clinit_DOM() , $doc.createElement('tr'));
    insertChild(this$static.bodyElem, tr, i);
  }
}

function $removeAllRows(this$static){
  var i, numRows;
  numRows = $getDOMRowCount(this$static.bodyElem);
  for (i = 0; i < numRows; i++) {
    $removeRow(this$static, 0);
  }
}

defineClass(657, 434, $intern_18);
_.getCellCount = function getCellCount_0(row){
  return $checkRowBounds(this, row) , $getDOMCellCount(($clinit_DOM() , this.bodyElem), row);
}
;
_.getRowCount = function getRowCount_0(){
  return $getDOMRowCount(this.bodyElem);
}
;
_.prepareCell = function prepareCell_0(row, column){
  var cellCount, required;
  $prepareRow_0(this, row);
  if (column < 0) {
    throw new IndexOutOfBoundsException_0('Cannot create a column with a negative index: ' + column);
  }
  cellCount = ($checkRowBounds(this, row) , $getDOMCellCount(($clinit_DOM() , this.bodyElem), row));
  required = column + 1 - cellCount;
  required > 0 && $addCells(this.bodyElem, row, required);
}
;
var Lcom_google_gwt_user_client_ui_FlexTable_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FlexTable', 657, Lcom_google_gwt_user_client_ui_HTMLTable_2_classLit);
function $addrow(this$static, widget){
  var rows_0;
  rows_0 = ($clinit_DOM() , this$static.bodyElem).rows.length;
  this$static.centralstyle.length > 2 && $addStyleName(widget, this$static.centralstyle);
  $setHorizontalAlignment_1(this$static.cellFormatter, rows_0, 0, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setWidget_0(this$static, rows_0, 0, widget);
  $setColSpan(dynamicCast(this$static.cellFormatter, 373), rows_0);
}

function $addrow_0(this$static, namew, widgets){
  var rows_0;
  rows_0 = ($clinit_DOM() , this$static.bodyElem).rows.length;
  $insertAtRow(this$static, rows_0, namew, widgets);
}

function $addrow_1(this$static, name_0, data_0){
  $addrow_0(this$static, new Label_1(name_0), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [data_0]));
}

function $addrow_2(this$static, name_0, data_0){
  $addrow_0(this$static, new Label_1(name_0), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [new Label_1(data_0)]));
}

function $insertAtRow(this$static, rownum, namew, widgets){
  var dataContainer, widgetn, widgetn$index, widgetn$max;
  $setWidget_0(this$static, rownum, 0, namew);
  this$static.fcstyle.length > 2 && $addStyleName(namew, this$static.fcstyle);
  $setHorizontalAlignment_1(this$static.cellFormatter, rownum, 0, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));
  $setVerticalAlignment_1(this$static.cellFormatter, rownum, 0, ($clinit_HasVerticalAlignment() , ALIGN_TOP));
  dataContainer = new VerticalPanel;
  if (widgets.length > 1) {
    for (widgetn$index = 0 , widgetn$max = widgets.length; widgetn$index < widgetn$max; ++widgetn$index) {
      widgetn = widgets[widgetn$index];
      $add_5(dataContainer, widgetn);
    }
    $setWidget_0(this$static, rownum, 1, dataContainer);
  }
   else {
    $setWidget_0(this$static, rownum, 1, widgets[0]);
  }
  $setHorizontalAlignment_1(this$static.cellFormatter, rownum, 1, ALIGN_LEFT);
}

function SpiffyDataBox(){
  HTMLTable.call(this);
  $setCellFormatter(this, new FlexTable$FlexCellFormatter(this));
  $setRowFormatter(this, new HTMLTable$RowFormatter(this));
  $setColumnFormatter(this, new HTMLTable$ColumnFormatter(this));
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'SpiffyDataBox');
  this.fcstyle = '';
  this.centralstyle = '';
}

defineClass(257, 657, $intern_18, SpiffyDataBox);
_.add_2 = function add_8(widget){
  $addrow(this, widget);
}
;
var Lcom_darkflame_client_SpiffyDataBox_2_classLit = createForClass('com.darkflame.client', 'SpiffyDataBox', 257, Lcom_google_gwt_user_client_ui_FlexTable_2_classLit);
function $clinit_SpiffyDragPanel(){
  $clinit_SpiffyDragPanel = emptyMethod;
  $clinit_FocusPanel();
  Log_7 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyGWT.SpiffyDragPanel'));
}

function $$init_2(this$static){
  this$static.panelID = 'ID Not Set';
  this$static.CSSBasedTransitions = false;
  this$static.dragpanelsCSSsetup = false;
  this$static.currentlyDoingACSSTransition = false;
  this$static.oldduration = 100;
  this$static.TimeOfLastUpdate = {l:0, m:0, h:0};
  this$static.allObjectsOnPanel = new ArrayList;
  this$static.Container = new AbsolutePanel;
  this$static.ContainerSizeX = 0;
  this$static.ContainerSizeY = 0;
  this$static.currentlyDraggingWidget = null;
  this$static.databar = new SpiffyDragPanel$DragPanelDatabar;
  this$static.dragableContents = new AbsolutePanel;
  this$static.DragDisX = 0;
  this$static.DragDisY = 0;
  this$static.dragOnlyThis = null;
  this$static.dragstart = ($clinit_System() , fromDouble(now_1()));
  this$static.dragStartX = 0;
  this$static.dragStartY = 0;
  this$static.dynamicOverlayContents = new SpiffyOverlay;
  this$static.editMode = false;
  this$static.isCoasting = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  this$static.isMoving = (null , FALSE_2);
  this$static.loadingMessage = new VerticalPanel;
  this$static.loadingOverlay = new SimplePanel;
  this$static.locationdownx = 0;
  this$static.locationdowny = 0;
  this$static.Max_Height = -10000;
  this$static.Max_Width = -10000;
  this$static.MaxXMovement = 0;
  this$static.MaxYMovement = 0;
  this$static.MinXMovement = 0;
  this$static.MinYMovement = 0;
  this$static.MotionDisX = 0;
  this$static.MotionDisY = 0;
  this$static.OldWidgetBorder = '';
  this$static.currentPanPosX = 0;
  this$static.currentPanPosY = 0;
  this$static.endPanPosX = 0;
  this$static.endPanPosY = 0;
  this$static.PanDisplacementX = 0;
  this$static.PanDisplacementY = 0;
  this$static.randomShakeX = false;
  this$static.randomShakeY = false;
  this$static.randomShakeDistance = 30;
  this$static.currentFadeState = 0;
  this$static.timeIntoCurrentFadeState = 0;
  this$static.fadeDelay = 0;
  this$static.fadeInDuration = 500;
  this$static.fadeInStepPerMS = 1 / this$static.fadeInDuration;
  this$static.fadeOutDuration = 500;
  this$static.fadeOutStepPerMS = 1 / this$static.fadeOutDuration;
  this$static.currentOpacity = 1;
  this$static.staticOverlayContents = new SpiffyOverlay;
  this$static.thisDragPanel = this$static;
  this$static.top_0 = 0;
  this$static.left_0 = 0;
  this$static.XMOVEMENTDISABLED = false;
  this$static.YMOVEMENTDISABLED = false;
  this$static.PIXAL_DRAG_MINIMUM = 15;
  this$static.currentEditingDragRestriction = ($clinit_SpiffyDragPanel$DragRestriction() , None);
}

function $DisplayDebugBar(this$static, b){
  if (b) {
    $info_1(Log_7, '__________________>>>>>>>>>>>  adding debug ');
    $add_8(this$static.Container, this$static.databar, 0, 0);
  }
   else {
    $remove_6(this$static.Container, this$static.databar);
  }
}

function $EditMode(this$static, state, EditOnlyThis){
  $info_1(Log_7, ($clinit_Boolean() , 'setting edit mode:' + ('' + state)));
  if (state) {
    this$static.editMode = true;
    $getWidgetIndex(this$static.dragableContents, EditOnlyThis.parent_1) > -1 && (EditOnlyThis = EditOnlyThis.parent_1);
    this$static.dragOnlyThis = EditOnlyThis;
  }
   else {
    this$static.editMode = false;
    this$static.dragOnlyThis = null;
    if (this$static.currentlyDraggingWidget) {
      $getElement(this$static.currentlyDraggingWidget).style['borderColor'] = this$static.OldWidgetBorder;
      this$static.currentlyDraggingWidget = null;
    }
  }
}

function $addUnclickableWidget(this$static, widget, x_0, y_0, TransparentToClicks){
  $add_8(this$static.dragableContents, widget, x_0, y_0);
  TransparentToClicks && (($clinit_DOM() , widget.element).style['pointerEvents'] = 'none' , undefined);
  this$static.allObjectsOnPanel.add_0(widget);
}

function $addWidget(this$static, widget, x_0, y_0, disableFocus, TransparentToClicks){
  var containerWidget;
  containerWidget = new FocusPanel;
  containerWidget.add_2(widget);
  $add_8(this$static.dragableContents, containerWidget, x_0, y_0);
  TransparentToClicks && (($clinit_DOM() , containerWidget.element).style['pointerEvents'] = 'none' , undefined);
  $addDomHandler(containerWidget, new SpiffyDragPanel$SpiffyDragMouseDownHandler(this$static, true, widget, disableFocus), ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
  $addDomHandler(containerWidget, new SpiffyDragPanel$SpiffyDragMouseMoveHandler(this$static), ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_11));
  $addDomHandler(containerWidget, new SpiffyDragPanel$SpiffyDragMouseUpHandler(this$static, true, disableFocus), ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
  $addDomHandler(containerWidget, this$static, ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
  $addDomHandler(containerWidget, this$static, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
  $addDomHandler(containerWidget, this$static, ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_5));
  $addDomHandler(containerWidget, this$static, ($clinit_MouseWheelEvent() , $clinit_MouseWheelEvent() , TYPE_15));
  $addDomHandler(containerWidget, new SpiffyDragPanel$3(disableFocus), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(containerWidget, new SpiffyDragPanel$SpiffyDragTouchEndHandler(this$static), ($clinit_TouchEndEvent() , $clinit_TouchEndEvent() , TYPE_17));
  $addDomHandler(containerWidget, new SpiffyDragPanel$SpiffyDragTouchMoveHandler(this$static), ($clinit_TouchMoveEvent() , $clinit_TouchMoveEvent() , TYPE_18));
  $addDomHandler(containerWidget, new SpiffyDragPanel$SpiffyDragTouchDownHandler(this$static, true, widget), ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
  $addDomHandler(containerWidget, this$static, ($clinit_TouchCancelEvent() , $clinit_TouchCancelEvent() , TYPE_16));
  this$static.allObjectsOnPanel.add_0(containerWidget);
}

function $clearAllWidgets(this$static){
  var widgetOnPanel, widgetOnPanel$iterator;
  for (widgetOnPanel$iterator = new AbstractList$IteratorImpl(this$static.allObjectsOnPanel); widgetOnPanel$iterator.i < widgetOnPanel$iterator.this$01_0.size_1();) {
    widgetOnPanel = (checkCriticalElement(widgetOnPanel$iterator.i < widgetOnPanel$iterator.this$01_0.size_1()) , dynamicCast(widgetOnPanel$iterator.this$01_0.get_0(widgetOnPanel$iterator.last = widgetOnPanel$iterator.i++), 7));
    $removeFromParent(widgetOnPanel);
  }
  this$static.allObjectsOnPanel.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
}

function $displacebyInternalCoOrdinates(this$static, disX, disY){
  this$static.left_0 > -this$static.MinXMovement && !this$static.XMOVEMENTDISABLED && (this$static.left_0 = -this$static.MinXMovement);
  this$static.top_0 > -this$static.MinYMovement && !this$static.YMOVEMENTDISABLED && (this$static.top_0 = -this$static.MinYMovement);
  this$static.XMOVEMENTDISABLED && (disX = 0);
  this$static.YMOVEMENTDISABLED && (disY = 0);
  this$static.top_0 < -this$static.MaxYMovement && !this$static.YMOVEMENTDISABLED && (this$static.top_0 = -this$static.MaxYMovement);
  this$static.left_0 < -this$static.MaxXMovement && !this$static.XMOVEMENTDISABLED && (this$static.left_0 = -this$static.MaxXMovement);
  this$static.left_0 = this$static.left_0 + disX;
  this$static.top_0 = this$static.top_0 + disY;
  $setPositionInternalCoOrdinates(this$static, this$static.left_0, this$static.top_0);
}

function $ensureXisSafe(this$static, X){
  if (this$static.endPanPosX < -this$static.MaxXMovement) {
    $info_1(Log_7, '____________endPanPosX outside range 2');
    this$static.endPanPosX = -this$static.MaxXMovement;
  }
  if (this$static.endPanPosX < -this$static.MinXMovement) {
    $info_1(Log_7, '____________endPanPosX less then -minx:' + -this$static.MinXMovement);
    this$static.endPanPosX = -this$static.MinXMovement;
  }
  return X;
}

function $ensureYisSafe(this$static, Y){
  if (Y < -this$static.MaxYMovement) {
    $info_1(Log_7, '____________Y less then ' + -this$static.MaxYMovement + ' so setting to that');
    Y = -this$static.MaxYMovement;
  }
  if (Y > -this$static.MinYMovement) {
    $info_1(Log_7, '____________Y greater then ' + -this$static.MinYMovement + ' so setting to that');
    Y = -this$static.MinYMovement;
  }
  return Y;
}

function $isOnPanel(this$static, widget){
  var wi;
  wi = $getWidgetIndex(this$static.dragableContents, widget.parent_1);
  if (wi > -1) {
    return true;
  }
  wi = $getWidgetIndex(this$static.dragableContents, widget);
  if (wi > -1) {
    return true;
  }
  return false;
}

function $motionflow(this$static){
  var displacementX, displacementY, period;
  displacementX = this$static.left_0 - this$static.locationdownx;
  displacementY = this$static.top_0 - this$static.locationdowny;
  period = ($clinit_System() , sub_0(fromDouble(now_1()), this$static.dragstart));
  this$static.MotionDisX = displacementX / toDouble(period) * 50;
  this$static.MotionDisY = displacementY / toDouble(period) * 50;
  this$static.isCoasting.value_0?$info_1(Log_7, '\n already coasting, so no new motion flow needed!'):$scheduleRepeating(this$static.motionflow, 30);
}

function $onMouseOrTouchDown(this$static, x_0, y_0, dx, dy, fromItem, sourceWidget){
  justDragged = false;
  this$static.dragStartX = x_0 - this$static.left_0;
  this$static.dragStartY = y_0 - this$static.top_0;
  draging = true;
  if (fromItem) {
    $info_1(Log_7, 'MouseDown came from item');
    this$static.editMode && !!sourceWidget && $stuffToDoWhenTheMouseIsDownWhileEditingStuff(this$static, dx, dy, sourceWidget);
  }
  this$static.locationdownx = this$static.left_0;
  this$static.locationdowny = this$static.top_0;
  this$static.dragstart = ($clinit_System() , fromDouble(now_1()));
}

function $onMouseOrTouchMove(this$static, x_0, y_0){
  var dfx, dfy;
  $setCurrentMousePositionLabel(this$static.databar, x_0 - this$static.left_0, y_0 - this$static.top_0);
  if (this$static.editMode) {
    $stuffToDoWhenTheMouseMoveWhileEditingStuff(this$static, x_0, y_0);
    return;
  }
  if (draging) {
    dfx = abs_1(x_0 - this$static.left_0 - this$static.dragStartX);
    dfy = abs_1(y_0 - this$static.top_0 - this$static.dragStartY);
    if (dfx + dfy > this$static.PIXAL_DRAG_MINIMUM) {
      if (!justDragged) {
        justDragged = true;
        $info_1(Log_7, '___________started to drag:' + justDragged);
        $info_1(Log_7, 'dfx=' + dfx);
        $info_1(Log_7, 'dfy=' + dfy);
      }
    }
    this$static.XMOVEMENTDISABLED || (this$static.left_0 = x_0 - this$static.dragStartX);
    this$static.YMOVEMENTDISABLED || (this$static.top_0 = y_0 - this$static.dragStartY);
    if (this$static.left_0 > 0 && !this$static.XMOVEMENTDISABLED) {
      $info_1(Log_7, '___________left outside range' + this$static.left_0);
      this$static.left_0 = 0;
    }
    this$static.top_0 > 0 && !this$static.YMOVEMENTDISABLED && (this$static.top_0 = 0);
    if (this$static.left_0 < -this$static.MaxXMovement && !this$static.XMOVEMENTDISABLED) {
      $info_1(Log_7, '____________left outside range 2');
      this$static.left_0 = -this$static.MaxXMovement;
    }
    this$static.top_0 < -this$static.MaxYMovement && !this$static.YMOVEMENTDISABLED && (this$static.top_0 = -this$static.MaxYMovement);
    $setPositionInternalCoOrdinates(this$static, this$static.left_0, this$static.top_0);
  }
}

function $onMouseOrTouchUp(this$static){
  if (draging) {
    draging = false;
    $motionflow(this$static);
  }
  this$static.editMode && $stuffToDoWhenTheMouseUpWhileEditingStuff(this$static);
}

function $registerTransitionEndHandler(panelID, handler){
  console.log('registerTransitionEndHandler:' + panelID);
  $doc.getElementById(panelID).addEventListener('transitionend', myFunction, false);
  $doc.getElementById(panelID).addEventListener('webkitTransitionEnd', myFunction, false);
  $doc.getElementById(panelID).addEventListener('mozTransitionEnd', myFunction, false);
  $doc.getElementById(panelID).addEventListener('oTransitionEnd', myFunction, false);
  function myFunction(){
    console.log('Transition complete!  This is the callback, no library needed!');
    handler.OnTransitionEnd();
  }

}

function $removeWidget(this$static, widget){
  var success;
  $info_1(Log_7, 'removing from drag panel!!');
  if (!widget) {
    $severe_0(Log_7, 'attempted to remove non-existant widget');
    return $clinit_Boolean() , $clinit_Boolean() , FALSE_2;
  }
  if ($getWidgetIndex(this$static.dragableContents, widget.parent_1) > -1) {
    success = ($clinit_Boolean() , $remove_6(this$static.dragableContents, widget.parent_1)?TRUE_3:FALSE_2);
    $remove_0(this$static.allObjectsOnPanel, widget.parent_1);
    $info_1(Log_7, '_removing(p)_' + success + ' which was a ' + $getName(widget.parent_1.___clazz$) + ' (if thats not a focus panel, then theres probably a mistake, this log only should trigger when removing widgets automatically given focus panel parents');
    return success;
  }
  if ($getWidgetIndex(this$static.dragableContents, widget) > -1) {
    $info_1(Log_7, '_removing object from spiffyDragPanel which currently has ' + this$static.dragableContents.children.size_0);
    success = ($clinit_Boolean() , $remove_6(this$static.dragableContents, widget)?TRUE_3:FALSE_2);
    $remove_0(this$static.allObjectsOnPanel, widget);
    $info_1(Log_7, '_removing_' + success);
    return success;
  }
  return $clinit_Boolean() , $clinit_Boolean() , FALSE_2;
}

function $scrollViewToPos(this$static, X, Y, stepsOrPixels){
  var distance, duration, enddifx, enddify, speed;
  $cancel(this$static.motionflow);
  this$static.endPanPosX = X - ~~(this$static.ContainerSizeX / 2);
  this$static.endPanPosY = -(Y - ~~(this$static.ContainerSizeY / 2));
  $info_1(Log_7, ' destination requested: ' + this$static.endPanPosX + ',' + this$static.endPanPosY);
  $info_1(Log_7, ' x limits: ' + -this$static.MinXMovement + ' - ' + -this$static.MaxXMovement);
  $info_1(Log_7, ' y limits: ' + -this$static.MinYMovement + ' - ' + -this$static.MaxYMovement);
  this$static.endPanPosX = $ensureXisSafe(this$static, this$static.endPanPosX);
  this$static.endPanPosY = $ensureYisSafe(this$static, this$static.endPanPosY);
  if (this$static.CSSBasedTransitions) {
    if (this$static.currentlyDoingACSSTransition) {
      $startCSSAnimation(this$static, this$static.oldduration);
    }
     else {
      this$static.currentPanPosX = -$getAbsoluteLeft_0(($clinit_DOM() , this$static.dragableContents.element));
      this$static.currentPanPosY = $getAbsoluteTop_0(this$static.dragableContents.element);
      $info_1(Log_7, 'current positionX:' + this$static.currentPanPosX);
      $info_1(Log_7, 'current positionY:' + this$static.currentPanPosY);
      enddifx = this$static.endPanPosX - this$static.currentPanPosX;
      enddify = this$static.endPanPosY - this$static.currentPanPosY;
      distance = Math.sqrt(enddifx * enddifx + enddify * enddify);
      speed = stepsOrPixels / 30;
      duration = distance / speed;
      $info_1(Log_7, '__duration of new pan = distance / speed = ' + distance + '/' + speed + ' = ' + duration);
      $startCSSAnimation(this$static, duration);
    }
  }
   else {
    this$static.currentPanPosX = -$getAbsoluteLeft_0(($clinit_DOM() , this$static.dragableContents.element));
    this$static.currentPanPosY = $getAbsoluteTop_0(this$static.dragableContents.element);
    this$static.PanDisplacementX = stepsOrPixels * signum(this$static.endPanPosX - this$static.currentPanPosX);
    this$static.PanDisplacementY = stepsOrPixels * signum(this$static.endPanPosY - this$static.currentPanPosY);
    $info_1(Log_7, ' starting at ' + this$static.currentPanPosX + ',' + this$static.currentPanPosY);
    $info_1(Log_7, ' going to ' + this$static.endPanPosX + ',' + this$static.endPanPosY);
    $info_1(Log_7, ' displacing by ' + this$static.PanDisplacementX + ', ' + this$static.PanDisplacementY);
    if (this$static.panTimer.timerId) {
      $info_1(Log_7, ' timer already running ');
    }
     else {
      this$static.TimeOfLastUpdate = ($clinit_System() , fromDouble(now_1()));
      $scheduleRepeating(this$static.panTimer, 30);
    }
  }
}

function $setBackgroundColour(this$static, css){
  $info_1(Log_7, 'css = ' + css);
  $setPropertyImpl($getElement(this$static.Container).style, 'backgroundColor', css);
}

function $setDraggableBackground(this$static, url_0){
  $info_1(Log_7, 'url("' + url_0 + '")');
  $getElement(this$static.dragableContents).style['backgroundImage'] = 'url("' + url_0 + '")';
}

function $setDraggableBackgroundRepeat(this$static, repeatmode){
  $info_1(Log_7, 'repeatmode =' + repeatmode + '');
  $setPropertyImpl($getElement(this$static.dragableContents).style, 'backgroundRepeat', repeatmode);
}

function $setDynamicOverlayCSS(this$static, css){
  $info_1(Log_7, 'adding overlay:' + css);
  if (css != null) {
    if ($equalsIgnoreCase(css, 'OFF')) {
      $remove_6(this$static.dragableContents, this$static.dynamicOverlayContents);
    }
     else {
      if (!this$static.dragableContents.attached) {
        $info_1(Log_7, 'attaching dynamic overlay:');
        $add_8(this$static.dragableContents, this$static.dynamicOverlayContents, 0, 0);
      }
      $setCSS(this$static.dynamicOverlayContents, css);
    }
  }
}

function $setEditingDragRestriction(this$static, restriction){
  $info_1(Log_7, 'drag restriction set to:' + (restriction.name_0 != null?restriction.name_0:'' + restriction.ordinal));
  this$static.currentEditingDragRestriction = restriction;
}

function $setInternalSize(this$static, x_0, y_0){
  $setSize(this$static.dragableContents, x_0 + 'px', y_0 + 'px');
  $updateDragableSize(this$static);
}

function $setLoading(this$static, status_0, Message){
  this$static.messageLabel = new Label_1(Message);
  if (status_0) {
    $add_8(this$static.Container, this$static.loadingOverlay, 0, 0);
    if (this$static.loadingMessage.attached) {
      $warning_0(Log_7, 'This is the second time ever setLoading has been triggered on this SpiffyDragPanel. Did you mean to do that?');
      this$static.loadingOverlay.clear_1();
    }
    $setStylePrimaryName(this$static.loadingOverlay, 'loadingOverlay');
    $setPropertyImpl($getElement(this$static.loadingOverlay).style, 'backgroundColor', '#000');
    $setPropertyImpl($getElement(this$static.loadingOverlay).style, 'zIndex', '99999');
    $setPropertyImpl($getElement(this$static.loadingOverlay).style, 'color', '#FFF');
    this$static.loadingOverlay.setSize('100%', '100%');
    this$static.LoadingIcon = new SpiffyLoadingIcon;
    this$static.LoadingIcon.fillcolor = $getColorFromCSS();
    this$static.LoadingIcon.strokecolor = $getColorFromCSS();
    $addStyleNameToLoadingMessage(this$static.LoadingIcon);
    $setVisible(this$static.LoadingIcon.progressLab, true);
    $clear(this$static.loadingMessage);
    $setPropertyImpl($getElement(this$static.loadingMessage).style, 'color', '#FFF');
    $setVerticalAlignment_0(this$static.loadingMessage, ($clinit_HasVerticalAlignment() , ALIGN_TOP));
    $setHorizontalAlignment_0(this$static.loadingMessage, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
    $setSpacing(this$static.loadingMessage, 7);
    $add_5(this$static.loadingMessage, this$static.messageLabel);
    $add_5(this$static.loadingMessage, this$static.LoadingIcon);
    $setSize(this$static.loadingMessage, '100%', '100%');
    $setHorizontalAlignment_0(this$static.loadingMessage, ALIGN_CENTER);
    this$static.loadingOverlay.add_2(this$static.loadingMessage);
  }
   else {
    $cancel(this$static.LoadingIcon.clock);
    $clear(this$static.LoadingIcon);
    this$static.currentOpacity = 1;
    this$static.currentFadeState = 3;
    addObjectToUpdateOnFrame(this$static);
  }
}

function $setLoadingBackground(this$static, ImageURL){
  ImageURL.length > 2 && $setPropertyImpl($getElement(this$static.loadingOverlay).style, 'backgroundImage', ImageURL);
}

function $setLoadingIconDefaultMessage(this$static, string){
  $setDefaultLoadingMessage(this$static.LoadingIcon, string);
}

function $setLoadingMessage(this$static, string){
  $setText_0(this$static.messageLabel, string);
}

function $setLoadingMessages(this$static, messages){
  $setLoadingMessages_0(this$static.LoadingIcon, messages);
}

function $setLoadingTotal(this$static, T){
  $setTotalUnits(this$static.LoadingIcon, T);
}

function $setMouseOverEventsOnOverlays(this$static){
  $setMoveOverEventsEnabled(this$static.staticOverlayContents, false);
  $setMoveOverEventsEnabled(this$static.dynamicOverlayContents, false);
  $info_1(Log_7, 'set overlay mouse movement event sensing to:false');
}

function $setMovementLimits(this$static, StartX, StartY, endX, endY){
  this$static.Max_Height = endY;
  $info_1(Log_7, 'Max_Height= ' + this$static.Max_Height + '');
  this$static.Max_Width = endX;
  $info_1(Log_7, 'Max_Width= ' + this$static.Max_Width + '');
  this$static.ContainerSizeX = $getOffsetWidth(this$static.Container);
  this$static.ContainerSizeY = $getOffsetHeight(this$static.Container);
  $info_1(Log_7, '_containersizeX = ' + this$static.ContainerSizeX);
  $info_1(Log_7, '_containersizeY = ' + this$static.ContainerSizeY);
  this$static.MaxXMovement = this$static.Max_Width - this$static.ContainerSizeX;
  this$static.MaxYMovement = this$static.Max_Height - this$static.ContainerSizeY;
  this$static.MinXMovement = StartX;
  this$static.MinYMovement = StartY;
  $updateDragableSize(this$static);
}

function $setOnFinishedEditingWidget(this$static, OnFinishedEditingWidget){
  this$static.OnFinishedEditingWidget = OnFinishedEditingWidget;
}

function $setPositionInternalCoOrdinates(this$static, setX, setY){
  $setWidgetPosition(this$static.Container, this$static.dragableContents, setX, setY);
  $setCurrentPositionLabel(this$static.databar, -setX, -setY);
}

function $setStaticOverlayCSS(this$static, css){
  $info_1(Log_7, 'adding overlay:' + css);
  if (css != null) {
    if ($equalsIgnoreCase(css, 'OFF')) {
      $remove_6(this$static.Container, this$static.staticOverlayContents);
    }
     else {
      this$static.staticOverlayContents.attached || $add_8(this$static.Container, this$static.staticOverlayContents, 0, 0);
      $setCSS(this$static.staticOverlayContents, css);
    }
  }
}

function $setViewToCenter(this$static, overrideMOVEMENTDISABLED){
  this$static.CSSBasedTransitions && this$static.currentlyDoingACSSTransition && (this$static.currentPanPosX = this$static.endPanPosX , this$static.currentPanPosY = this$static.endPanPosY , $info_1(Log_7, '_____________setting currentpan position too:' + this$static.currentPanPosX + ',' + this$static.currentPanPosY) , $setPropertyImpl($getElement(this$static.dragableContents).style, 'transform', 'translate(0px, 0px)') , $setPropertyImpl($getElement(this$static.dragableContents).style, 'transitionDuration', '0ms') , this$static.currentlyDoingACSSTransition = false);
  $info_1(Log_7, '::::::::::::setting view to center x/y');
  if (!this$static.XMOVEMENTDISABLED || overrideMOVEMENTDISABLED.value_0) {
    this$static.left_0 = ~~(-(this$static.MinXMovement + this$static.MaxXMovement) / 2);
    $info_1(Log_7, '::::::::::::-(' + this$static.MinXMovement + ' + ' + this$static.MaxXMovement + ')/ 2');
  }
  (!this$static.YMOVEMENTDISABLED || overrideMOVEMENTDISABLED.value_0) && (this$static.top_0 = ~~(-(this$static.MaxYMovement + this$static.MinYMovement) / 2));
  $info_1(Log_7, '::::::::::::setting view to ' + this$static.left_0 + ', ' + this$static.top_0);
  $setPositionInternalCoOrdinates(this$static, this$static.left_0, this$static.top_0);
}

function $setViewToPos(this$static, X, Y, overrideMOVEMENTDISABLED){
  this$static.CSSBasedTransitions && this$static.currentlyDoingACSSTransition && (this$static.currentPanPosX = this$static.endPanPosX , this$static.currentPanPosY = this$static.endPanPosY , $info_1(Log_7, '_____________setting currentpan position too:' + this$static.currentPanPosX + ',' + this$static.currentPanPosY) , $setPropertyImpl($getElement(this$static.dragableContents).style, 'transform', 'translate(0px, 0px)') , $setPropertyImpl($getElement(this$static.dragableContents).style, 'transitionDuration', '0ms') , this$static.currentlyDoingACSSTransition = false);
  $info_1(Log_7, '::::::::::::setting view to pos x/y' + X + ',' + Y);
  if (!this$static.XMOVEMENTDISABLED || overrideMOVEMENTDISABLED.value_0) {
    this$static.left_0 = -X + ~~(this$static.ContainerSizeX / 2);
    this$static.left_0 = round_int($ensureXisSafe(this$static, this$static.left_0));
  }
  if (!this$static.YMOVEMENTDISABLED || overrideMOVEMENTDISABLED.value_0) {
    this$static.top_0 = -(Y - ~~(this$static.ContainerSizeY / 2));
    this$static.top_0 = round_int($ensureYisSafe(this$static, this$static.top_0));
  }
  $info_1(Log_7, '::::::::::::setting view to ' + this$static.left_0 + ', ' + this$static.top_0);
  $info_1(Log_7, '::::::::::::ContainerSizeY = ' + this$static.ContainerSizeY);
  $info_1(Log_7, '::::::::::::ContainerSizeX = ' + this$static.ContainerSizeX);
  $setPositionInternalCoOrdinates(this$static, this$static.left_0, this$static.top_0);
}

function $setWidgetsPosition(this$static, widget, x_0, y_0, restrictToScreen){
  var currentXlimit, currentYlimit, objectSizeX, objectSizeY;
  $getWidgetIndex(this$static.dragableContents, widget.parent_1) > -1 && (widget = widget.parent_1);
  if (restrictToScreen) {
    objectSizeX = widget.getOffsetWidth();
    objectSizeY = widget.getOffsetHeight();
    currentXlimit = abs_1(this$static.left_0) + this$static.ContainerSizeX;
    currentYlimit = abs_1(this$static.top_0) + this$static.ContainerSizeY;
    x_0 < abs_1(this$static.left_0) && (x_0 = abs_1(this$static.left_0) + EdgePaddingForRestrictToScreen);
    y_0 < abs_1(this$static.top_0) && (y_0 = abs_1(this$static.top_0) + EdgePaddingForRestrictToScreen);
    x_0 + objectSizeX > currentXlimit && (x_0 = currentXlimit - objectSizeX - EdgePaddingForRestrictToScreen);
    y_0 + objectSizeY > currentYlimit && (y_0 = currentYlimit - objectSizeY - EdgePaddingForRestrictToScreen);
  }
  $setWidgetPosition(this$static.dragableContents, widget, x_0, y_0);
}

function $shakeFor(this$static, durationms, distance){
  var endShake;
  this$static.randomShakeX = true;
  this$static.randomShakeY = true;
  this$static.randomShakeDistance = distance;
  endShake = new SpiffyDragPanel$4(this$static);
  $info_1(Log_7, ' durationms: ' + durationms);
  $schedule(endShake, durationms);
  if (this$static.panTimer.timerId) {
    $info_1(Log_7, ' timer already running ');
  }
   else {
    this$static.currentPanPosX = -$getAbsoluteLeft_0(($clinit_DOM() , this$static.dragableContents.element));
    this$static.currentPanPosY = $getAbsoluteTop_0(this$static.dragableContents.element);
    this$static.endPanPosX = this$static.currentPanPosX;
    this$static.endPanPosY = this$static.currentPanPosY;
    this$static.PanDisplacementX = 0;
    this$static.PanDisplacementY = 0;
    this$static.TimeOfLastUpdate = ($clinit_System() , fromDouble(now_1()));
    $scheduleRepeating(this$static.panTimer, 30);
  }
}

function $startCSSAnimation(this$static, duration){
  var enddifx, enddify, existingpan, newstyle;
  duration < 170 && (duration = 170);
  $info_1(Log_7, '_____________new pan requested  ');
  $info_1(Log_7, '_____________currentlyDoingACSSTransition =  ' + this$static.currentlyDoingACSSTransition);
  if (!this$static.createdStyleTag) {
    this$static.createdStyleTag = ($clinit_DOM() , $doc.createElement('style'));
    $appendChild(getBodyElement(), this$static.createdStyleTag);
    newstyle = '.shortpan_' + this$static.panelID + ' {\n';
    newstyle = newstyle + '\n ';
    newstyle = newstyle + 'transition-property: transform; \n';
    newstyle = newstyle + 'transition-timing-function: ease-out; \n';
    newstyle = newstyle + '}\n';
    $addStyleName(this$static.dragableContents, 'shortpan_' + this$static.panelID);
    $setInnerText(this$static.createdStyleTag, newstyle);
  }
  if (!this$static.dragpanelsCSSsetup) {
    $registerTransitionEndHandler(this$static.panelID, new SpiffyDragPanel$5(this$static));
    this$static.dragpanelsCSSsetup = true;
  }
  existingpan = false;
  if (this$static.currentlyDoingACSSTransition) {
    $info_1(Log_7, '_____________setting currentpan position tooo:' + this$static.currentPanPosX + ',' + this$static.currentPanPosY);
    duration = this$static.oldduration;
    existingpan = true;
  }
   else {
    $info_1(Log_7, '__started a new pan from:' + this$static.currentPanPosX + ',' + this$static.currentPanPosY);
    this$static.oldduration = duration;
  }
  this$static.currentlyDoingACSSTransition = true;
  enddifx = -(this$static.endPanPosX - this$static.currentPanPosX);
  enddify = this$static.endPanPosY - this$static.currentPanPosY;
  $info_1(Log_7, '_____________existingpan  = ' + existingpan);
  $getElement(this$static.dragableContents).style['transitionDuration'] = duration + 'ms';
  $getElement(this$static.dragableContents).style['transform'] = 'translate(' + enddifx + 'px, ' + enddify + 'px)';
}

function $stuffToDoWhenTheMouseIsDownWhileEditingStuff(this$static, X, Y, sourceWidget){
  $info_1(Log_7, 'mouse down..... while editing at :');
  this$static.dragOnlyThis?(this$static.dragOnlyThis == sourceWidget || this$static.dragOnlyThis == sourceWidget.parent_1) && (this$static.currentlyDraggingWidget = this$static.dragOnlyThis):(this$static.currentlyDraggingWidget = sourceWidget);
  if (this$static.currentlyDraggingWidget) {
    this$static.OldWidgetBorder = $getElement(this$static.currentlyDraggingWidget).style['borderColor'];
    $setPropertyImpl($getElement(this$static.currentlyDraggingWidget).style, 'borderColor', '#00F');
  }
  $info_1(Log_7, 'mouse down..... while editing at :' + X + ',' + Y);
  this$static.DragDisX = X;
  this$static.DragDisY = Y;
}

function $stuffToDoWhenTheMouseMoveWhileEditingStuff(this$static, eventx, eventy){
  var cx, cy, x_0, y_0;
  if (this$static.currentlyDraggingWidget) {
    x_0 = eventx - this$static.left_0;
    y_0 = eventy - this$static.top_0;
    cx = ($getElement(this$static.dragOnlyThis).offsetLeft || 0) | 0;
    cy = ($getElement(this$static.dragOnlyThis).offsetTop || 0) | 0;
    switch (this$static.currentEditingDragRestriction.ordinal) {
      case 2:
        $setWidgetsPosition(this$static, this$static.currentlyDraggingWidget, x_0 - this$static.DragDisX, cy, false);
        break;
      case 1:
        $setWidgetsPosition(this$static, this$static.currentlyDraggingWidget, cx, y_0 - this$static.DragDisY, false);
        break;
      case 0:
      default:$setWidgetsPosition(this$static, this$static.currentlyDraggingWidget, x_0 - this$static.DragDisX, y_0 - this$static.DragDisY, false);
    }
  }
}

function $stuffToDoWhenTheMouseUpWhileEditingStuff(this$static){
  if (this$static.currentlyDraggingWidget) {
    $getElement(this$static.currentlyDraggingWidget).style['borderColor'] = this$static.OldWidgetBorder;
    this$static.currentlyDraggingWidget = null;
  }
  $info_1(Log_7, 'mouse up..... while editing ');
  !!this$static.OnFinishedEditingWidget && $run_20(this$static.OnFinishedEditingWidget);
}

function $testForNudgeKeyPressed(this$static, event_0){
  var charcode, x_0, y_0;
  charcode = $eventGetCharCode(event_0.nativeEvent);
  $info_1(Log_7, 'key up:' + charcode);
  if (this$static.editMode && !!this$static.dragOnlyThis) {
    $info_1(Log_7, 'key down:' + $eventGetCharCode(event_0.nativeEvent) + ' while editing');
    x_0 = ($getElement(this$static.dragOnlyThis).offsetLeft || 0) | 0;
    y_0 = ($getElement(this$static.dragOnlyThis).offsetTop || 0) | 0;
    switch (charcode) {
      case 97:
        $setWidgetsPosition(this$static.thisDragPanel, this$static.dragOnlyThis, x_0 - 1, y_0, false);
        break;
      case 100:
        $setWidgetsPosition(this$static.thisDragPanel, this$static.dragOnlyThis, x_0 + 1, y_0, false);
        break;
      case 115:
        $setWidgetsPosition(this$static.thisDragPanel, this$static.dragOnlyThis, x_0, y_0 + 1, false);
        break;
      case 119:
        $setWidgetsPosition(this$static.thisDragPanel, this$static.dragOnlyThis, x_0, y_0 - 1, false);
    }
  }
}

function $testForNudgeKeyUp(this$static){
  this$static.editMode && !!this$static.dragOnlyThis && !!this$static.OnFinishedEditingWidget && $run_20(this$static.OnFinishedEditingWidget);
}

function $updateDragableSize(this$static){
  var x_0, y_0;
  $info_1(Log_7, 'updateDragableSize');
  this$static.ContainerSizeX = $getOffsetWidth(this$static.Container);
  this$static.ContainerSizeY = $getOffsetHeight(this$static.Container);
  this$static.MaxXMovement = this$static.Max_Width - this$static.ContainerSizeX;
  this$static.MaxYMovement = this$static.Max_Height - this$static.ContainerSizeY;
  x_0 = $getOffsetWidth(this$static.dragableContents);
  y_0 = $getOffsetHeight(this$static.dragableContents);
  $info_1(Log_7, '::::::::::::::::::::::::draggable contents x size =' + x_0 + ' container x size =' + this$static.ContainerSizeX);
  $info_1(Log_7, '::::::::::::::::::::::::draggable contents y size =' + y_0 + ' container y size =' + this$static.ContainerSizeY);
  $info_1(Log_7, '________________maxX movement = ' + this$static.MaxXMovement);
  $info_1(Log_7, '________________maxY movement = ' + this$static.MaxYMovement);
  if (this$static.ContainerSizeX > x_0) {
    this$static.left_0 = ~~(this$static.ContainerSizeX / 2) - ~~(x_0 / 2);
    $info_1(Log_7, 'centering x=' + this$static.left_0);
    this$static.XMOVEMENTDISABLED = true;
  }
  if (this$static.ContainerSizeY > y_0) {
    this$static.top_0 = ~~(this$static.ContainerSizeY / 2) - ~~(y_0 / 2);
    $info_1(Log_7, 'centering y ' + this$static.top_0);
    this$static.YMOVEMENTDISABLED = true;
  }
  $setPositionInternalCoOrdinates(this$static, this$static.left_0, this$static.top_0);
}

function $updateOverlayFade(this$static, delta){
  var changeAmount;
  this$static.timeIntoCurrentFadeState = this$static.timeIntoCurrentFadeState + delta;
  switch (this$static.currentFadeState) {
    case 0:
      this$static.currentFadeState == 0 && removeObjectToUpdateOnFrame(this$static);
      return;
    case 1:
      if (this$static.timeIntoCurrentFadeState > this$static.fadeDelay) {
        this$static.currentFadeState = 2;
        this$static.timeIntoCurrentFadeState = 0;
      }
       else {
        return;
      }

    case 2:
      changeAmount = this$static.fadeInStepPerMS * delta;
      this$static.currentOpacity = this$static.currentOpacity + changeAmount;
      if (this$static.currentOpacity >= 1) {
        this$static.currentOpacity = 1;
        this$static.currentFadeState = 3;
        this$static.timeIntoCurrentFadeState = 0;
      }

      $cssSetOpacity($getElement(this$static.loadingOverlay).style, this$static.currentOpacity);
      break;
    case 3:
      changeAmount = this$static.fadeOutStepPerMS * delta;
      this$static.currentOpacity = this$static.currentOpacity - changeAmount;
      if (this$static.currentOpacity <= 0.05) {
        this$static.currentOpacity = 0;
        this$static.timeIntoCurrentFadeState = 0;
        $cssSetOpacity($getElement(this$static.loadingOverlay).style, 0);
        $remove_6(this$static.Container, this$static.loadingOverlay);
        this$static.loadingOverlay.clear_1();
        $clear(this$static.loadingMessage);
        this$static.currentFadeState = 0;
        this$static.currentFadeState == 0 && removeObjectToUpdateOnFrame(this$static);
        return;
      }

      $cssSetOpacity($getElement(this$static.loadingOverlay).style, this$static.currentOpacity);
  }
}

function $wasJustDragged(){
  if (justDragged) {
    return true;
  }
  return false;
}

function SpiffyDragPanel(panelID){
  $clinit_SpiffyDragPanel();
  FocusPanel.call(this);
  $$init_2(this);
  $setWidget(this, this.Container);
  $add_8(this.Container, this.dragableContents, 0, 0);
  this.panelID = panelID;
  this.CSSBasedTransitions = true;
  $setMoveOverEventsEnabled(this.staticOverlayContents, true);
  $setMoveOverEventsEnabled(this.dynamicOverlayContents, true);
  $setId($getElement(this.staticOverlayContents), 'StaticOverlay');
  $setId($getElement(this.dynamicOverlayContents), 'DynamicOverlay');
  $setSize(this.Container, '100%', '100%');
  $setSize(this.dragableContents, '100%', '100%');
  $setId($getElement(this.dragableContents), panelID);
  $addDomHandler(this, new SpiffyDragPanel$SpiffyDragMouseMoveHandler(this), ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_11));
  $addDomHandler(this, new SpiffyDragPanel$SpiffyDragMouseUpHandler(this, false, true), ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
  $addDomHandler(this, new SpiffyDragPanel$SpiffyDragMouseDownHandler(this, false, null, true), ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
  $addDomHandler(this, this, ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
  $addDomHandler(this, this, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
  $addDomHandler(this, this, ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_5));
  $addDomHandler(this, this, ($clinit_MouseWheelEvent() , $clinit_MouseWheelEvent() , TYPE_15));
  $addDomHandler(this, new SpiffyDragPanel$SpiffyDragTouchEndHandler(this), ($clinit_TouchEndEvent() , $clinit_TouchEndEvent() , TYPE_17));
  $addDomHandler(this, new SpiffyDragPanel$SpiffyDragTouchMoveHandler(this), ($clinit_TouchMoveEvent() , $clinit_TouchMoveEvent() , TYPE_18));
  $addDomHandler(this, new SpiffyDragPanel$SpiffyDragTouchDownHandler(this, false, null), ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
  $addDomHandler(this.dragableContents, new SpiffyDragPanel$1(this), ($clinit_ContextMenuEvent() , $clinit_ContextMenuEvent() , TYPE_2));
  this.panTimer = new SpiffyDragPanel$2(this);
  this.motionflow = new SpiffyDragPanel$MotionFlowTimer(this);
}

defineClass(1165, 142, {97:1, 219:1, 60:1, 45:1, 319:1, 320:1, 122:1, 140:1, 1540:1, 525:1, 20:1, 6:1, 16:1, 19:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1}, SpiffyDragPanel);
_.add_2 = function add_9(widgetToAddAtTopLeft){
  $addWidget(this, widgetToAddAtTopLeft, 0, 0, true, false);
}
;
_.clear_1 = function clear_5(){
  $clearAllWidgets(this);
}
;
_.onFocus = function onFocus(event_0){
  $eventPreventDefault(event_0.nativeEvent);
}
;
_.onLoad = function onLoad_0(){
  this.ContainerSizeX = $getOffsetWidth(this.Container);
  this.ContainerSizeY = $getOffsetHeight(this.Container);
  $info_1(Log_7, '_containersizeX = ' + this.ContainerSizeX);
  $info_1(Log_7, '_containersizeY = ' + this.ContainerSizeY);
  this.MaxXMovement = this.Max_Width - this.ContainerSizeX;
  this.MaxYMovement = this.Max_Height - this.ContainerSizeY;
}
;
_.onMouseOut = function onMouseOut_0(event_0){
  $eventPreventDefault(event_0.nativeEvent);
  if (draging) {
    draging = false;
    $motionflow(this);
  }
}
;
_.onMouseOver = function onMouseOver_0(event_0){
  draging = false;
  $eventPreventDefault(event_0.nativeEvent);
}
;
_.onTouchCancel = function onTouchCancel_0(event_0){
  $eventPreventDefault(event_0.nativeEvent);
  $info_1(Log_7, 'touch drag canceled');
  $onMouseOrTouchUp(this);
}
;
_.update_0 = function update_1(delta){
  $updateOverlayFade(this, delta);
}
;
_.CSSBasedTransitions = false;
_.ContainerSizeX = 0;
_.ContainerSizeY = 0;
_.DragDisX = 0;
_.DragDisY = 0;
_.MaxXMovement = 0;
_.MaxYMovement = 0;
_.Max_Height = 0;
_.Max_Width = 0;
_.MinXMovement = 0;
_.MinYMovement = 0;
_.MotionDisX = 0;
_.MotionDisY = 0;
_.PIXAL_DRAG_MINIMUM = 0;
_.PanDisplacementX = 0;
_.PanDisplacementY = 0;
_.TimeOfLastUpdate = {l:0, m:0, h:0};
_.XMOVEMENTDISABLED = false;
_.YMOVEMENTDISABLED = false;
_.currentFadeState = 0;
_.currentOpacity = 0;
_.currentPanPosX = 0;
_.currentPanPosY = 0;
_.currentlyDoingACSSTransition = false;
_.dragStartX = 0;
_.dragStartY = 0;
_.dragpanelsCSSsetup = false;
_.dragstart = {l:0, m:0, h:0};
_.editMode = false;
_.endPanPosX = 0;
_.endPanPosY = 0;
_.fadeDelay = 0;
_.fadeInDuration = 0;
_.fadeInStepPerMS = 0;
_.fadeOutDuration = 0;
_.fadeOutStepPerMS = 0;
_.left_0 = 0;
_.locationdownx = 0;
_.locationdowny = 0;
_.oldduration = 0;
_.randomShakeDistance = 0;
_.randomShakeX = false;
_.randomShakeY = false;
_.timeIntoCurrentFadeState = 0;
_.top_0 = 0;
var EdgePaddingForRestrictToScreen = 20, Log_7, draging = false, justDragged = false;
var Lcom_darkflame_client_SpiffyDragPanel_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel', 1165, Lcom_google_gwt_user_client_ui_FocusPanel_2_classLit);
function $onContextMenu(this$static, event_0){
  if (!this$static.this$01.databar.attached) {
    $eventPreventDefault(event_0.nativeEvent);
    $eventStopPropagation(event_0.nativeEvent);
  }
}

function SpiffyDragPanel$1(this$0){
  this.this$01 = this$0;
}

defineClass(1168, 1, {1547:1, 6:1}, SpiffyDragPanel$1);
var Lcom_darkflame_client_SpiffyDragPanel$1_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/1', 1168, Ljava_lang_Object_2_classLit);
function SpiffyDragPanel$2(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1169, 61, {}, SpiffyDragPanel$2);
_.run = function run_2(){
  var atX, atY, delta, mul, ranX, ranY, stopdistancex, stopdistancey;
  delta = ($clinit_System() , sub_0(fromDouble(now_1()), this.this$01.TimeOfLastUpdate));
  this.this$01.TimeOfLastUpdate = fromDouble(now_1());
  $info_1(($clinit_SpiffyDragPanel() , Log_7), 'delta=' + toString_50(delta));
  mul = toDouble(delta) / 30;
  $info_1(Log_7, 'mul==' + mul);
  this.this$01.currentPanPosX = this.this$01.currentPanPosX + this.this$01.PanDisplacementX * mul;
  this.this$01.currentPanPosY = this.this$01.currentPanPosY + this.this$01.PanDisplacementY * mul;
  atX = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  atY = (null , FALSE_2);
  stopdistancex = round_int(abs_0(this.this$01.PanDisplacementX * mul) + 2);
  stopdistancey = round_int(abs_0(this.this$01.PanDisplacementY * mul) + 2);
  $info_1(Log_7, 'stopdistancex==' + stopdistancex);
  if (abs_0(this.this$01.currentPanPosX - this.this$01.endPanPosX) < stopdistancex) {
    this.this$01.currentPanPosX = this.this$01.endPanPosX;
    atX = (null , TRUE_3);
  }
  if (abs_0(this.this$01.currentPanPosY - this.this$01.endPanPosY) < stopdistancey) {
    this.this$01.currentPanPosY = this.this$01.endPanPosY;
    atY = (null , TRUE_3);
  }
  this.this$01.left_0 = round_int(-this.this$01.currentPanPosX);
  this.this$01.top_0 = round_int(this.this$01.currentPanPosY);
  ranX = 0;
  ranY = 0;
  if (this.this$01.randomShakeX) {
    ranX = round_int(random() * this.this$01.randomShakeDistance * 2) - this.this$01.randomShakeDistance;
    $info_1(Log_7, 'ranX=' + ranX);
    atX = (null , FALSE_2);
  }
  if (this.this$01.randomShakeY) {
    ranY = round_int(random() * this.this$01.randomShakeDistance * 2) - this.this$01.randomShakeDistance;
    $info_1(Log_7, 'ranY=' + ranY);
    atY = (null , FALSE_2);
  }
  $setPositionInternalCoOrdinates(this.this$01, this.this$01.left_0 + ranX, this.this$01.top_0 + ranY);
  atX.value_0 && atY.value_0 && $cancel(this);
}
;
var Lcom_darkflame_client_SpiffyDragPanel$2_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/2', 1169, Lcom_google_gwt_user_client_Timer_2_classLit);
function SpiffyDragPanel$3(val$disableFocus){
  this.val$disableFocus2 = val$disableFocus;
}

defineClass(1170, 1, $intern_17, SpiffyDragPanel$3);
_.onClick = function onClick_1(event_0){
  $info_1(($clinit_SpiffyDragPanel() , Log_7), 'onclick from container');
  $eventStopPropagation(event_0.nativeEvent);
  this.val$disableFocus2 && $eventPreventDefault(event_0.nativeEvent);
}
;
_.val$disableFocus2 = false;
var Lcom_darkflame_client_SpiffyDragPanel$3_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/3', 1170, Ljava_lang_Object_2_classLit);
function SpiffyDragPanel$4(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1171, 61, {}, SpiffyDragPanel$4);
_.run = function run_3(){
  this.this$01.randomShakeX = false;
  this.this$01.randomShakeY = false;
  $info_1(($clinit_SpiffyDragPanel() , Log_7), ' stopping shake::: setting back to  ' + this.this$01.left_0 + ',' + this.this$01.top_0);
  $setPositionInternalCoOrdinates(this.this$01, this.this$01.left_0, this.this$01.top_0);
}
;
var Lcom_darkflame_client_SpiffyDragPanel$4_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/4', 1171, Lcom_google_gwt_user_client_Timer_2_classLit);
function SpiffyDragPanel$5(this$0){
  this.this$01 = this$0;
}

defineClass(1172, 1, {}, SpiffyDragPanel$5);
_.OnTransitionEnd = function OnTransitionEnd(){
  $info_1(($clinit_SpiffyDragPanel() , Log_7), 'CSS Animation Ended On:' + this.this$01.panelID);
  $info_1(Log_7, '__________________________TRANSITION END REACHED');
  $info_1(Log_7, '__________________________');
  $info_1(Log_7, '_________________________');
  $info_1(Log_7, '________________________');
  $info_1(Log_7, '____________________');
  $info_1(Log_7, '__________');
  $info_1(Log_7, '_______');
  this.this$01.left_0 = round_int(-this.this$01.endPanPosX);
  this.this$01.top_0 = round_int(this.this$01.endPanPosY);
  $info_1(Log_7, '_____________setting position too:' + this.this$01.left_0 + ',' + this.this$01.top_0);
  $setPositionInternalCoOrdinates(this.this$01, this.this$01.left_0, this.this$01.top_0);
  this.this$01.currentPanPosX = this.this$01.endPanPosX;
  this.this$01.currentPanPosY = this.this$01.endPanPosY;
  $info_1(Log_7, '_____________setting currentpan position too:' + this.this$01.currentPanPosX + ',' + this.this$01.currentPanPosY);
  $getElement(this.this$01.dragableContents).style['transform'] = 'translate(0px, 0px)';
  $getElement(this.this$01.dragableContents).style['transitionDuration'] = '0ms';
  this.this$01.currentlyDoingACSSTransition = false;
}
;
var Lcom_darkflame_client_SpiffyDragPanel$5_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/5', 1172, Ljava_lang_Object_2_classLit);
function $add_3(this$static, child, container){
  $removeFromParent(child);
  $add_17(this$static.children, child);
  $clinit_DOM();
  $appendChild(container, resolve(child.element));
  $setParent(child, this$static);
}

function $adjustIndex(this$static, child, beforeIndex){
  var idx;
  $checkIndexBoundsForInsertion(this$static, beforeIndex);
  if (child.parent_1 == this$static) {
    idx = $indexOf_1(this$static.children, child);
    idx < beforeIndex && --beforeIndex;
  }
  return beforeIndex;
}

function $checkIndexBoundsForAccess(this$static, index_0){
  if (index_0 < 0 || index_0 >= this$static.children.size_0) {
    throw new IndexOutOfBoundsException;
  }
}

function $checkIndexBoundsForInsertion(this$static, index_0){
  if (index_0 < 0 || index_0 > this$static.children.size_0) {
    throw new IndexOutOfBoundsException;
  }
}

function $doLogicalClear(this$static){
  !this$static.orphanCommand && (this$static.orphanCommand = new ComplexPanel$1);
  try {
    tryCommand(this$static, this$static.orphanCommand);
  }
   finally {
    this$static.children = new WidgetCollection(this$static);
  }
}

function $getWidget(this$static, index_0){
  return $get_12(this$static.children, index_0);
}

function $getWidgetIndex(this$static, child){
  return $indexOf_1(this$static.children, child);
}

function $insert(this$static, child, container, beforeIndex, domInsert){
  beforeIndex = $adjustIndex(this$static, child, beforeIndex);
  $removeFromParent(child);
  $insert_5(this$static.children, child, beforeIndex);
  domInsert?insertChild(container, ($clinit_DOM() , child.element), beforeIndex):($clinit_DOM() , $appendChild(container, resolve(child.element)));
  $setParent(child, this$static);
}

function $remove_3(this$static, index_0){
  return this$static.remove_1($get_12(this$static.children, index_0));
}

function $remove_4(this$static, w){
  var elem;
  if (w.parent_1 != this$static) {
    return false;
  }
  try {
    $setParent(w, null);
  }
   finally {
    elem = ($clinit_DOM() , w.element);
    $removeChild((null , $getParentElement(elem)), elem);
    $remove_20(this$static.children, w);
  }
  return true;
}

function ComplexPanel(){
  this.children = new WidgetCollection(this);
}

defineClass(224, 1485, $intern_13);
_.getWidgetIndex = function getWidgetIndex(child){
  return $getWidgetIndex(this, child);
}
;
_.iterator = function iterator_3(){
  return new WidgetCollection$WidgetIterator(this.children);
}
;
_.remove_1 = function remove_6(w){
  return $remove_4(this, w);
}
;
var Lcom_google_gwt_user_client_ui_ComplexPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ComplexPanel', 224, Lcom_google_gwt_user_client_ui_Panel_2_classLit);
function $getWidgetTd(this$static, w){
  if (w.parent_1 != this$static) {
    return null;
  }
  return $clinit_DOM() , $clinit_DOM() , $getParentElement(w.element);
}

function $setCellHeight(this$static, w, height){
  var td;
  td = $getWidgetTd(this$static, w);
  !!td && $setPropertyString(td, 'height', height);
}

function $setCellHorizontalAlignment(td, align_0){
  $setPropertyString(($clinit_DOM() , td), 'align', align_0.textAlignString);
}

function $setCellHorizontalAlignment_0(this$static, w, align_0){
  var td;
  td = $getWidgetTd(this$static, w);
  !!td && $setPropertyString(($clinit_DOM() , td), 'align', align_0.textAlignString);
}

function $setCellVerticalAlignment(td, align_0){
  $setCellVerticalAlignment_0(($clinit_DOM() , td), align_0);
}

function $setCellVerticalAlignment_0(td, align_0){
  $setPropertyImpl(td.style, 'verticalAlign', align_0.verticalAlignString);
}

function $setCellVerticalAlignment_1(this$static, w, align_0){
  $setCellVerticalAlignment_2(this$static, w.visualRepresentation, align_0);
}

function $setCellVerticalAlignment_2(this$static, w, align_0){
  var td;
  td = $getWidgetTd(this$static, w);
  !!td && $setCellVerticalAlignment_0(($clinit_DOM() , td), align_0);
}

function $setCellWidth(this$static, w, width_0){
  var td;
  td = $getWidgetTd(this$static, w);
  !!td && $setPropertyString(td, 'width', width_0);
}

function $setSpacing(this$static, spacing){
  $setPropertyInt(this$static.table, 'cellSpacing', spacing);
}

function CellPanel(){
  ComplexPanel.call(this);
  this.table = ($clinit_DOM() , $doc.createElement('table'));
  this.body_0 = $doc.createElement('tbody');
  $appendChild(this.table, resolve(this.body_0));
  $setElement(this, this.table);
}

defineClass(425, 224, $intern_13);
var Lcom_google_gwt_user_client_ui_CellPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'CellPanel', 425, Lcom_google_gwt_user_client_ui_ComplexPanel_2_classLit);
function $add_4(this$static, w){
  var td;
  td = $createAlignedTd(this$static);
  $clinit_DOM();
  $appendChild(this$static.tableRow, resolve(td));
  $add_3(this$static, w, td);
}

function $createAlignedTd(this$static){
  var td;
  td = ($clinit_DOM() , $doc.createElement('td'));
  $setCellHorizontalAlignment(td, this$static.horzAlign);
  $setCellVerticalAlignment(td, this$static.vertAlign);
  return td;
}

function $insert_0(this$static, w, beforeIndex){
  var td;
  $checkIndexBoundsForInsertion(this$static, beforeIndex);
  td = $createAlignedTd(this$static);
  insertChild(this$static.tableRow, td, beforeIndex);
  $insert(this$static, w, ($clinit_DOM() , td), beforeIndex, false);
}

function $remove_5(this$static, w){
  var removed, td;
  td = ($clinit_DOM() , $clinit_DOM() , $getParentElement(w.element));
  removed = $remove_4(this$static, w);
  removed && $removeChild(this$static.tableRow, td);
  return removed;
}

function $setHorizontalAlignment(this$static, align_0){
  this$static.horzAlign = align_0;
}

function $setVerticalAlignment(this$static, align_0){
  this$static.vertAlign = align_0;
}

function HorizontalPanel(){
  CellPanel.call(this);
  this.horzAlign = ($clinit_HasHorizontalAlignment() , ALIGN_DEFAULT);
  this.vertAlign = ($clinit_HasVerticalAlignment() , ALIGN_TOP);
  this.tableRow = ($clinit_DOM() , $doc.createElement('tr'));
  $appendChild(this.body_0, resolve(this.tableRow));
  $setPropertyString(this.table, 'cellSpacing', '0');
  $setPropertyString(this.table, 'cellPadding', '0');
}

defineClass(34, 425, $intern_22, HorizontalPanel);
_.add_2 = function add_10(w){
  $add_4(this, w);
}
;
_.insert = function insert(w, beforeIndex){
  $insert_0(this, w, beforeIndex);
}
;
_.remove_1 = function remove_7(w){
  return $remove_5(this, w);
}
;
var Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HorizontalPanel', 34, Lcom_google_gwt_user_client_ui_CellPanel_2_classLit);
function $setCurrentMousePositionLabel(this$static, X, Y){
  $setText_0(this$static.lab_currentMouseX, 'mx = ' + X + '');
  $setText_0(this$static.lab_currentMouseY, 'my = ' + Y + '');
}

function $setCurrentPositionLabel(this$static, X, Y){
  $setText_0(this$static.lab_currentXpos, 'x = ' + X + '');
  $setText_0(this$static.lab_currentYpos, 'y = ' + Y + '');
}

function SpiffyDragPanel$DragPanelDatabar(){
  var mouseLoc, canvasLoc;
  HorizontalPanel.call(this);
  this.lab_currentMouseX = new Label_1('-');
  this.lab_currentMouseY = new Label_1('-');
  this.lab_currentXpos = new Label_1('-');
  this.lab_currentYpos = new Label_1('-');
  ($clinit_DOM() , this.element).style['width'] = '20%';
  this.element.style['color'] = 'WHITE';
  this.element.style['textShadow'] = 'rgb(0, 0, 0) 0px 0px 3px';
  this.element.style['zIndex'] = '900000';
  mouseLoc = new VerticalPanel;
  $add_5(mouseLoc, this.lab_currentMouseX);
  $add_5(mouseLoc, this.lab_currentMouseY);
  $setStylePrimaryName(this.lab_currentMouseX, 'FeedbackLabel');
  $setStylePrimaryName(this.lab_currentMouseY, 'FeedbackLabel');
  mouseLoc.element.style['width'] = '80px';
  $add_4(this, mouseLoc);
  $setCellWidth(this, mouseLoc, '90px');
  canvasLoc = new VerticalPanel;
  $add_5(canvasLoc, this.lab_currentXpos);
  $add_5(canvasLoc, this.lab_currentYpos);
  canvasLoc.element.style['width'] = '60px';
  $setStylePrimaryName(this.lab_currentXpos, 'FeedbackLabel');
  $setStylePrimaryName(this.lab_currentYpos, 'FeedbackLabel');
  $add_4(this, canvasLoc);
  $setCellWidth(this, canvasLoc, '90px');
}

defineClass(1166, 34, $intern_22, SpiffyDragPanel$DragPanelDatabar);
var Lcom_darkflame_client_SpiffyDragPanel$DragPanelDatabar_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/DragPanelDatabar', 1166, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function $clinit_SpiffyDragPanel$DragRestriction(){
  $clinit_SpiffyDragPanel$DragRestriction = emptyMethod;
  None = new SpiffyDragPanel$DragRestriction('None', 0);
  Vert = new SpiffyDragPanel$DragRestriction('Vert', 1);
  Hor = new SpiffyDragPanel$DragRestriction('Hor', 2);
}

function SpiffyDragPanel$DragRestriction(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_5(name_0){
  $clinit_SpiffyDragPanel$DragRestriction();
  return valueOf(($clinit_SpiffyDragPanel$DragRestriction$Map() , $MAP_3), name_0);
}

function values_4(){
  $clinit_SpiffyDragPanel$DragRestriction();
  return initValues(getClassLiteralForArray(Lcom_darkflame_client_SpiffyDragPanel$DragRestriction_2_classLit, 1), $intern_1, 266, 0, [None, Vert, Hor]);
}

defineClass(266, 9, {266:1, 3:1, 21:1, 9:1}, SpiffyDragPanel$DragRestriction);
var Hor, None, Vert;
var Lcom_darkflame_client_SpiffyDragPanel$DragRestriction_2_classLit = createForEnum('com.darkflame.client', 'SpiffyDragPanel/DragRestriction', 266, Ljava_lang_Enum_2_classLit, values_4, valueOf_5);
function $clinit_SpiffyDragPanel$DragRestriction$Map(){
  $clinit_SpiffyDragPanel$DragRestriction$Map = emptyMethod;
  $MAP_3 = createValueOfMap(($clinit_SpiffyDragPanel$DragRestriction() , initValues(getClassLiteralForArray(Lcom_darkflame_client_SpiffyDragPanel$DragRestriction_2_classLit, 1), $intern_1, 266, 0, [None, Vert, Hor])));
}

var $MAP_3;
function SpiffyDragPanel$MotionFlowTimer(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1167, 61, {}, SpiffyDragPanel$MotionFlowTimer);
_.run = function run_4(){
  this.this$01.isCoasting = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  $displacebyInternalCoOrdinates(this.this$01, toInt(fromDouble(round0(this.this$01.MotionDisX))), toInt(fromDouble(round0(this.this$01.MotionDisY))));
  this.this$01.MotionDisX = this.this$01.MotionDisX / 1.2;
  this.this$01.MotionDisY = this.this$01.MotionDisY / 1.2;
  this.this$01.isMoving = (null , FALSE_2);
  this.this$01.MotionDisX < 1 && this.this$01.MotionDisX > -1?(this.this$01.MotionDisX = 0):(this.this$01.isMoving = (null , TRUE_3));
  this.this$01.MotionDisY < 1 && this.this$01.MotionDisY > -1?(this.this$01.MotionDisY = 0):(this.this$01.isMoving = (null , TRUE_3));
  if (!this.this$01.isMoving.value_0) {
    $cancel(this);
    $info_1(($clinit_SpiffyDragPanel() , Log_7), '\n stoped');
    this.this$01.isCoasting = (null , FALSE_2);
  }
}
;
var Lcom_darkflame_client_SpiffyDragPanel$MotionFlowTimer_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/MotionFlowTimer', 1167, Lcom_google_gwt_user_client_Timer_2_classLit);
function SpiffyDragPanel$SpiffyDragMouseDownHandler(this$0, fromItem, widget, disableFocus){
  this.this$01 = this$0;
  this.fromItem = fromItem;
  this.sourceWidget = widget;
  this.disableFocus = disableFocus;
}

defineClass(474, 1, $intern_23, SpiffyDragPanel$SpiffyDragMouseDownHandler);
_.onMouseDown = function onMouseDown_0(event_0){
  var dx, dy, x_0, y_0;
  this.disableFocus && $eventPreventDefault(event_0.nativeEvent);
  setCapture($getElement(dynamicCast(event_0.source, 7)));
  $eventStopPropagation(event_0.nativeEvent);
  $clinit_DOM();
  (null , currentEvent).cancelBubble = true;
  x_0 = $getRelativeX_0(event_0, $getElement(this.this$01.Container));
  y_0 = $getRelativeY_0(event_0, $getElement(this.this$01.Container));
  dx = 0;
  dy = 0;
  if (this.this$01.editMode && !!this.sourceWidget) {
    dx = $getRelativeX_0(event_0, $getElement(this.sourceWidget));
    dy = $getRelativeY_0(event_0, $getElement(this.sourceWidget));
  }
  $onMouseOrTouchDown(this.this$01, x_0, y_0, dx, dy, this.fromItem, this.sourceWidget);
}
;
_.disableFocus = false;
_.fromItem = false;
_.sourceWidget = null;
var Lcom_darkflame_client_SpiffyDragPanel$SpiffyDragMouseDownHandler_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/SpiffyDragMouseDownHandler', 474, Ljava_lang_Object_2_classLit);
function SpiffyDragPanel$SpiffyDragMouseMoveHandler(this$0){
  this.this$01 = this$0;
}

defineClass(475, 1, $intern_24, SpiffyDragPanel$SpiffyDragMouseMoveHandler);
_.onMouseMove = function onMouseMove_0(event_0){
  var x_0, y_0;
  $eventPreventDefault(event_0.nativeEvent);
  $eventStopPropagation(event_0.nativeEvent);
  $clinit_DOM();
  (null , currentEvent).cancelBubble = true;
  x_0 = $getRelativeX_0(event_0, $getElement(this.this$01.Container));
  y_0 = $getRelativeY_0(event_0, $getElement(this.this$01.Container));
  $onMouseOrTouchMove(this.this$01, x_0, y_0);
}
;
var Lcom_darkflame_client_SpiffyDragPanel$SpiffyDragMouseMoveHandler_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/SpiffyDragMouseMoveHandler', 475, Ljava_lang_Object_2_classLit);
function SpiffyDragPanel$SpiffyDragMouseUpHandler(this$0, fromItem, disableFocus){
  this.this$01 = this$0;
  this.sourceWasItem = fromItem;
  this.disableFocus = disableFocus;
}

defineClass(476, 1, $intern_25, SpiffyDragPanel$SpiffyDragMouseUpHandler);
_.onMouseUp = function onMouseUp_0(event_0){
  this.disableFocus && $eventPreventDefault(event_0.nativeEvent);
  $eventStopPropagation(event_0.nativeEvent);
  $clinit_DOM();
  (null , currentEvent).cancelBubble = true;
  releaseCapture($getElement(dynamicCast(event_0.source, 7)));
  this.sourceWasItem && $info_1(($clinit_SpiffyDragPanel() , Log_7), 'MouseUp came from item');
  $onMouseOrTouchUp(this.this$01);
}
;
_.disableFocus = false;
_.sourceWasItem = false;
var Lcom_darkflame_client_SpiffyDragPanel$SpiffyDragMouseUpHandler_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/SpiffyDragMouseUpHandler', 476, Ljava_lang_Object_2_classLit);
function SpiffyDragPanel$SpiffyDragTouchDownHandler(this$0, fromItem, widget){
  this.this$01 = this$0;
  this.fromItem = fromItem;
  this.sourceWidget = widget;
}

defineClass(477, 1, $intern_26, SpiffyDragPanel$SpiffyDragTouchDownHandler);
_.onTouchStart = function onTouchStart_0(event_0){
  var dx, dy, x_0, y_0;
  $eventStopPropagation(event_0.nativeEvent);
  $eventPreventDefault(event_0.nativeEvent);
  $clinit_DOM();
  (null , currentEvent).cancelBubble = true;
  setCapture($getElement(dynamicCast(event_0.source, 7)));
  $info_1(($clinit_SpiffyDragPanel() , Log_7), '______onTouchStart');
  x_0 = $getRelativeX(event_0.nativeEvent.touches[0], event_0.relativeElem);
  y_0 = $getRelativeY(event_0.nativeEvent.touches[0], event_0.relativeElem);
  dx = 0;
  dy = 0;
  if (this.this$01.editMode && !!this.sourceWidget) {
    dx = $getRelativeX(event_0.nativeEvent.touches[0], $getElement(this.sourceWidget));
    dy = $getRelativeY(event_0.nativeEvent.touches[0], $getElement(this.sourceWidget));
  }
  $info_1(Log_7, '______triggering onMouseOrTouchDown');
  $onMouseOrTouchDown(this.this$01, x_0, y_0, dx, dy, this.fromItem, this.sourceWidget);
}
;
_.fromItem = false;
_.sourceWidget = null;
var Lcom_darkflame_client_SpiffyDragPanel$SpiffyDragTouchDownHandler_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/SpiffyDragTouchDownHandler', 477, Ljava_lang_Object_2_classLit);
function SpiffyDragPanel$SpiffyDragTouchEndHandler(this$0){
  this.this$01 = this$0;
}

defineClass(478, 1, $intern_27, SpiffyDragPanel$SpiffyDragTouchEndHandler);
_.onTouchEnd = function onTouchEnd_0(event_0){
  $eventPreventDefault(event_0.nativeEvent);
  $eventStopPropagation(event_0.nativeEvent);
  $clinit_DOM();
  (null , currentEvent).cancelBubble = true;
  releaseCapture($getElement(dynamicCast(event_0.source, 7)));
  $onMouseOrTouchUp(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyDragPanel$SpiffyDragTouchEndHandler_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/SpiffyDragTouchEndHandler', 478, Ljava_lang_Object_2_classLit);
function SpiffyDragPanel$SpiffyDragTouchMoveHandler(this$0){
  this.this$01 = this$0;
}

defineClass(479, 1, $intern_28, SpiffyDragPanel$SpiffyDragTouchMoveHandler);
_.onTouchMove = function onTouchMove_0(event_0){
  var x_0, y_0;
  $eventStopPropagation(event_0.nativeEvent);
  $eventPreventDefault(event_0.nativeEvent);
  $clinit_DOM();
  (null , currentEvent).cancelBubble = true;
  x_0 = $getRelativeX(event_0.nativeEvent.touches[0], event_0.relativeElem);
  y_0 = $getRelativeY(event_0.nativeEvent.touches[0], event_0.relativeElem);
  $info_1(($clinit_SpiffyDragPanel() , Log_7), '_____Touch Move Event Detected');
  $onMouseOrTouchMove(this.this$01, x_0, y_0);
}
;
var Lcom_darkflame_client_SpiffyDragPanel$SpiffyDragTouchMoveHandler_2_classLit = createForClass('com.darkflame.client', 'SpiffyDragPanel/SpiffyDragTouchMoveHandler', 479, Ljava_lang_Object_2_classLit);
function $setEnable(this$static, enabled){
  if (enabled) {
    $setEnabled(this$static.num, true);
  }
   else {
    $setVisible(this$static.LessThen, false);
    $setVisible(this$static.MoreThen, false);
    $setEnabled(this$static.num, false);
  }
}

function $setValue(this$static, val){
  val.value_0 > this$static.endval && (val = new Double(this$static.startval + (val.value_0 - this$static.endval)));
  val.value_0 < this$static.startval && (val = new Double(this$static.endval - (this$static.startval - val.value_0)));
  $setValue_2(this$static.num, val);
  this$static.currentvalue = val.value_0;
  this$static.currentvalue < 0 && $setPropertyImpl($getElement(this$static.num).style, 'color', '#990000');
  this$static.currentvalue >= 0 && $setPropertyImpl($getElement(this$static.num).style, 'color', '#000000');
}

function $setup(this$static){
  $setVisible(this$static.LessThen, false);
  $setVisible(this$static.MoreThen, false);
  $setVerticalAlignment(this$static, ($clinit_HasVerticalAlignment() , ALIGN_MIDDLE));
  $setHorizontalAlignment(this$static, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  this$static.startval = 0;
  this$static.endval = 20000;
  this$static.step = 10;
  $setValue(this$static, new Double(100));
  $add_4(this$static, this$static.LessThen);
  $add_4(this$static, this$static.num);
  $add_4(this$static, this$static.MoreThen);
  $setWidth(this$static.num, '90%');
  this$static.counter = new SpiffyEditRangeBox$1(this$static);
  $addDomHandler(this$static.num, new SpiffyEditRangeBox$2(this$static), ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
  $addDomHandler(this$static.dragoverlay, new SpiffyEditRangeBox$3(this$static), ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_11));
  $addDomHandler(this$static.dragoverlay, new SpiffyEditRangeBox$4(this$static), ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
  $addDomHandler(this$static.num, new SpiffyEditRangeBox$5(this$static), (null , TYPE_14));
  $addDomHandler(this$static.num, new SpiffyEditRangeBox$6(this$static), ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_5));
  $addDomHandler(this$static.num, new SpiffyEditRangeBox$7(this$static), ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));
  $addDomHandler(this$static.LessThen, new SpiffyEditRangeBox$8(this$static), (null , TYPE_14));
  $addDomHandler(this$static.LessThen, new SpiffyEditRangeBox$9(this$static), ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
  $addDomHandler(this$static.MoreThen, new SpiffyEditRangeBox$10(this$static), (null , TYPE_12));
  $addDomHandler(this$static.MoreThen, new SpiffyEditRangeBox$11(this$static), (null , TYPE_14));
  $addDomHandler(this$static.LessThen, new SpiffyEditRangeBox$12(this$static), (null , TYPE_10));
  $addDomHandler(this$static.MoreThen, new SpiffyEditRangeBox$13(this$static), (null , TYPE_10));
}

function $stopcount(this$static){
  this$static.cstep = 200;
  this$static.countdown = false;
  this$static.countup = false;
  $cancel(this$static.counter);
  $setFocus(this$static.num, true);
  !!this$static.runthisonupdate && $run_22(this$static.runthisonupdate);
}

function SpiffyEditRangeBox(runthisonupdate){
  HorizontalPanel.call(this);
  this.LessThen = new Button('<');
  this.MoreThen = new Button('>');
  this.num = new DoubleBox;
  this.mousestartx = 0;
  this.dragging = false;
  this.startval = 0;
  this.endval = 0;
  this.step = 1;
  this.cstep = 200;
  this.countdown = false;
  this.countup = false;
  this.dragoverlay = new FocusPanel;
  this.speedup = 0;
  this.runthisonupdate = runthisonupdate;
  $setup(this);
}

defineClass(1391, 34, $intern_22, SpiffyEditRangeBox);
_.countdown = false;
_.countup = false;
_.cstep = 0;
_.currentvalue = 0;
_.dragging = false;
_.endval = 0;
_.mousestartx = 0;
_.speedup = 0;
_.startval = 0;
_.step = 0;
var Lcom_darkflame_client_SpiffyEditRangeBox_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox', 1391, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function $run(this$static){
  ++this$static.this$01.speedup;
  if (this$static.this$01.speedup > 15) {
    this$static.this$01.speedup = 0;
    this$static.this$01.cstep = this$static.this$01.cstep / 2 + 1;
  }
  $scheduleRepeating(this$static.this$01.counter, round_int(this$static.this$01.cstep));
  this$static.this$01.currentvalue = dynamicCast($getValue_1(this$static.this$01.num), 62).value_0;
  this$static.this$01.countdown && (this$static.this$01.currentvalue = this$static.this$01.currentvalue - this$static.this$01.step);
  this$static.this$01.countup && (this$static.this$01.currentvalue = this$static.this$01.currentvalue + this$static.this$01.step);
  $setValue(this$static.this$01, new Double(this$static.this$01.currentvalue));
  $setFocus(this$static.this$01.num, false);
}

function SpiffyEditRangeBox$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1392, 61, {}, SpiffyEditRangeBox$1);
_.run = function run_5(){
  $run(this);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$1_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/1', 1392, Lcom_google_gwt_user_client_Timer_2_classLit);
function SpiffyEditRangeBox$10(this$0){
  this.this$01 = this$0;
}

defineClass(1401, 1, $intern_16, SpiffyEditRangeBox$10);
_.onMouseOut = function onMouseOut_1(event_0){
  $stopcount(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$10_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/10', 1401, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$11(this$0){
  this.this$01 = this$0;
}

defineClass(1402, 1, $intern_25, SpiffyEditRangeBox$11);
_.onMouseUp = function onMouseUp_1(event_0){
  $stopcount(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$11_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/11', 1402, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$12(this$0){
  this.this$01 = this$0;
}

defineClass(1403, 1, $intern_23, SpiffyEditRangeBox$12);
_.onMouseDown = function onMouseDown_1(event_0){
  this.this$01.countdown = true;
  $run(this.this$01.counter);
  $scheduleRepeating(this.this$01.counter, 200);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$12_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/12', 1403, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$13(this$0){
  this.this$01 = this$0;
}

defineClass(1404, 1, $intern_23, SpiffyEditRangeBox$13);
_.onMouseDown = function onMouseDown_2(event_0){
  this.this$01.countup = true;
  $run(this.this$01.counter);
  $scheduleRepeating(this.this$01.counter, 200);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$13_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/13', 1404, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$2(this$0){
  this.this$01 = this$0;
}

defineClass(1393, 1, $intern_23, SpiffyEditRangeBox$2);
_.onMouseDown = function onMouseDown_3(event_0){
  this.this$01.mousestartx = $eventGetSubPixelClientX(event_0.nativeEvent) | 0;
  this.this$01.dragging = true;
  $add_8(($clinit_RootPanel() , get_14(null)), this.this$01.dragoverlay, 0, 0);
  $setSize(this.this$01.dragoverlay, '100%', '100%');
  $setFocus(this.this$01.num, false);
  $getElement(this.this$01.dragoverlay).style['position'] = ($clinit_Style$Position() , 'absolute');
  $getElement(this.this$01.dragoverlay).style['zIndex'] = '999999999';
  this.this$01.cstep = 100000;
  $scheduleRepeating(this.this$01.counter, 200);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$2_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/2', 1393, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$3(this$0){
  this.this$01 = this$0;
}

defineClass(1394, 1, $intern_24, SpiffyEditRangeBox$3);
_.onMouseMove = function onMouseMove_1(event_0){
  var def;
  $setFocus(this.this$01.num, false);
  $setSelectionRange(this.this$01.num, 0, 0);
  def = -(this.this$01.mousestartx - ($eventGetSubPixelClientX(event_0.nativeEvent) | 0));
  this.this$01.cstep = 400 - (def < 0?-def:def);
  this.this$01.cstep < 20 && (this.this$01.cstep = 20);
  if (this.this$01.dragging) {
    if (def > 0) {
      this.this$01.countup = true;
      this.this$01.countdown = false;
      this.this$01.speedup = 0;
    }
    if (def < 0) {
      this.this$01.countup = false;
      this.this$01.countdown = true;
      this.this$01.speedup = 0;
    }
  }
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$3_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/3', 1394, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$4(this$0){
  this.this$01 = this$0;
}

defineClass(1395, 1, $intern_25, SpiffyEditRangeBox$4);
_.onMouseUp = function onMouseUp_2(event_0){
  $removeFromParent(this.this$01.dragoverlay);
  this.this$01.dragging = false;
  $stopcount(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$4_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/4', 1395, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$5(this$0){
  this.this$01 = this$0;
}

defineClass(1396, 1, $intern_25, SpiffyEditRangeBox$5);
_.onMouseUp = function onMouseUp_3(event_0){
  this.this$01.dragging = false;
  $stopcount(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$5_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/5', 1396, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$6(this$0){
  this.this$01 = this$0;
}

defineClass(1397, 1, $intern_29, SpiffyEditRangeBox$6);
_.onFocus = function onFocus_0(event_0){
  $setVisible(this.this$01.LessThen, true);
  $setVisible(this.this$01.MoreThen, true);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$6_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/6', 1397, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$7(this$0){
  this.this$01 = this$0;
}

defineClass(1398, 1, $intern_30, SpiffyEditRangeBox$7);
_.onBlur = function onBlur(event_0){
  if (!this.this$01.countdown && !this.this$01.countup) {
    $getElement(this.this$01.LessThen).style['display'] = ($clinit_Style$Display() , 'none');
    $getElement(this.this$01.MoreThen).style['display'] = 'none';
  }
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$7_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/7', 1398, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$8(this$0){
  this.this$01 = this$0;
}

defineClass(1399, 1, $intern_25, SpiffyEditRangeBox$8);
_.onMouseUp = function onMouseUp_4(event_0){
  $stopcount(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$8_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/8', 1399, Ljava_lang_Object_2_classLit);
function SpiffyEditRangeBox$9(this$0){
  this.this$01 = this$0;
}

defineClass(1400, 1, $intern_16, SpiffyEditRangeBox$9);
_.onMouseOut = function onMouseOut_2(event_0){
  $stopcount(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyEditRangeBox$9_2_classLit = createForClass('com.darkflame.client', 'SpiffyEditRangeBox/9', 1400, Ljava_lang_Object_2_classLit);
function $clinit_SpiffyFunctionsGWT(){
  $clinit_SpiffyFunctionsGWT = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'SpiffyFunctionsGWT');
}

function $center(this$static){
  var elem, initiallyAnimated, initiallyShowing, left, top_0;
  initiallyShowing = this$static.showing;
  initiallyAnimated = this$static.isAnimationEnabled;
  if (!initiallyShowing) {
    ($clinit_DOM() , this$static.element).style['visibility'] = 'hidden';
    !!this$static.glass && $setPropertyImpl(this$static.glass.style, 'visibility', 'hidden');
    this$static.isAnimationEnabled = false;
    this$static.show();
  }
  elem = ($clinit_DOM() , this$static.element);
  $setPropertyImpl(elem.style, 'left', ($clinit_Style$Unit() , '0.0px'));
  $setPropertyImpl(elem.style, 'top', '0.0px');
  left = $getClientWidth($doc) - $getPropertyInt(this$static.element, 'offsetWidth') >> 1;
  top_0 = $getClientHeight($doc) - $getPropertyInt(this$static.element, 'offsetHeight') >> 1;
  $setPopupPosition(this$static, max_1($getScrollLeft($doc) + left, 0), max_1($getScrollTop($doc) + top_0, 0));
  if (!initiallyShowing) {
    this$static.isAnimationEnabled = initiallyAnimated;
    if (initiallyAnimated) {
      $setClip(this$static.element, 'rect(0px, 0px, 0px, 0px)');
      this$static.element.style['visibility'] = 'visible';
      !!this$static.glass && $setPropertyImpl(this$static.glass.style, 'visibility', 'visible');
      $run_7(this$static.resizeAnimation, 200, null);
    }
     else {
      this$static.element.style['visibility'] = 'visible';
      !!this$static.glass && $setPropertyImpl(this$static.glass.style, 'visibility', 'visible');
    }
  }
}

function $eventTargetsPopup(this$static, event_0){
  var target;
  target = $eventGetTarget(event_0);
  if (is_1(target)) {
    return $isOrHasChild(($clinit_DOM() , this$static.element), target);
  }
  return false;
}

function $getOffsetHeight_0(this$static){
  return $getPropertyInt(($clinit_DOM() , this$static.element), 'offsetHeight');
}

function $getOffsetWidth_0(this$static){
  return $getPropertyInt(($clinit_DOM() , this$static.element), 'offsetWidth');
}

function $hide(this$static){
  if (!this$static.showing) {
    return;
  }
  $setState_0(this$static.resizeAnimation, false, false);
  fire_2(this$static);
}

function $maybeUpdateSize(this$static){
  var w;
  w = this$static.widget;
  if (w) {
    this$static.desiredHeight != null && w.setHeight(this$static.desiredHeight);
    this$static.desiredWidth != null && w.setWidth(this$static.desiredWidth);
  }
}

function $position(this$static, relativeObject, offsetWidth, offsetHeight){
  var distanceFromWindowLeft, distanceFromWindowTop, distanceToWindowBottom, distanceToWindowRight, left, offsetWidthDiff, textBoxOffsetWidth, top_0, windowBottom, windowLeft, windowRight, windowTop;
  textBoxOffsetWidth = $getPropertyInt(($clinit_DOM() , relativeObject.element), 'offsetWidth');
  offsetWidthDiff = offsetWidth - textBoxOffsetWidth;
  $clinit_LocaleInfo();
  left = $getAbsoluteLeft_0(relativeObject.element);
  if (offsetWidthDiff > 0) {
    windowRight = $getClientWidth($doc) + $getScrollLeft($doc);
    windowLeft = $getScrollLeft($doc);
    distanceToWindowRight = windowRight - left;
    distanceFromWindowLeft = left - windowLeft;
    distanceToWindowRight < offsetWidth && distanceFromWindowLeft >= offsetWidthDiff && (left -= offsetWidthDiff);
  }
  top_0 = $getAbsoluteTop_0(relativeObject.element);
  windowTop = $getScrollTop($doc);
  windowBottom = $getScrollTop($doc) + $getClientHeight($doc);
  distanceFromWindowTop = top_0 - windowTop;
  distanceToWindowBottom = windowBottom - (top_0 + $getPropertyInt(relativeObject.element, 'offsetHeight'));
  distanceToWindowBottom < offsetHeight && distanceFromWindowTop >= offsetHeight?(top_0 -= offsetHeight):(top_0 += $getPropertyInt(relativeObject.element, 'offsetHeight'));
  $setPopupPosition(this$static, left, top_0);
}

function $previewNativeEvent(this$static, event_0){
  var eventTargetsPopupOrPartner, nativeEvent, target, type_0;
  if (event_0.isCanceled || !this$static.previewAllNativeEvents && event_0.isConsumed) {
    this$static.modal && (event_0.isCanceled = true);
    return;
  }
  event_0.isFirstHandler && !this$static.onEventPreview(event_0.nativeEvent) && (event_0.isCanceled = true);
  if (event_0.isCanceled) {
    return;
  }
  nativeEvent = event_0.nativeEvent;
  eventTargetsPopupOrPartner = $eventTargetsPopup(this$static, nativeEvent);
  eventTargetsPopupOrPartner && (event_0.isConsumed = true);
  this$static.modal && (event_0.isCanceled = true);
  type_0 = ($clinit_DOM() , $eventGetTypeInt(nativeEvent.type));
  switch (type_0) {
    case 512:
    case 256:
    case 128:
      {
        $eventGetKeyCode(nativeEvent) & $intern_31;
        ($eventGetShiftKey(nativeEvent)?1:0) | ($eventGetMetaKey(nativeEvent)?8:0) | ($eventGetCtrlKey(nativeEvent)?2:0) | ($eventGetAltKey(nativeEvent)?4:0);
        return;
      }

    case 4:
    case $intern_32:
      {
        if (sCaptureElem) {
          event_0.isConsumed = true;
          return;
        }
      }

      if (!eventTargetsPopupOrPartner && this$static.autoHide) {
        this$static.hide_0(true);
        return;
      }

      break;
    case 8:
    case 64:
    case 1:
    case 2:
    case $intern_33:
      {
        if (sCaptureElem) {
          event_0.isConsumed = true;
          return;
        }
        break;
      }

    case $intern_34:
      {
        target = $eventGetTarget(nativeEvent);
        if (this$static.modal && !eventTargetsPopupOrPartner && !!target) {
          target.blur && target != $doc.body && target.blur();
          event_0.isCanceled = true;
          return;
        }
        break;
      }

  }
}

function $setAnimationEnabled(this$static, enable){
  this$static.isAnimationEnabled = enable;
}

function $setAnimationType(this$static, type_0){
  this$static.animType = type_0?type_0:($clinit_PopupPanel$AnimationType() , CENTER_0);
}

function $setGlassEnabled(this$static){
  this$static.isGlassEnabled = true;
  if (!this$static.glass) {
    this$static.glass = $doc.createElement('div');
    $setClassName(this$static.glass, this$static.glassStyleName);
    this$static.glass.style['position'] = ($clinit_Style$Position() , 'absolute');
    this$static.glass.style['left'] = ($clinit_Style$Unit() , '0.0px');
    this$static.glass.style['top'] = '0.0px';
  }
}

function $setHeight_0(this$static, height){
  this$static.desiredHeight = height;
  $maybeUpdateSize(this$static);
  height.length == 0 && (this$static.desiredHeight = null);
}

function $setPopupPosition(this$static, left, top_0){
  var elem;
  this$static.leftPosition = left;
  this$static.topPosition = top_0;
  left -= 0;
  top_0 -= 0;
  elem = ($clinit_DOM() , this$static.element);
  elem.style['left'] = left + ($clinit_Style$Unit() , 'px');
  elem.style['top'] = top_0 + 'px';
}

function $setPopupPositionAndShow(this$static, callback){
  ($clinit_DOM() , this$static.element).style['visibility'] = 'hidden';
  !!this$static.glass && $setPropertyImpl(this$static.glass.style, 'visibility', 'hidden');
  this$static.show();
  callback.setPosition($getPropertyInt(this$static.element, 'offsetWidth'), $getPropertyInt(this$static.element, 'offsetHeight'));
  this$static.element.style['visibility'] = 'visible';
  !!this$static.glass && $setPropertyImpl(this$static.glass.style, 'visibility', 'visible');
}

function $setWidget_1(this$static, w){
  $setWidget(this$static, w);
  $maybeUpdateSize(this$static);
}

function $setWidth_0(this$static, width_0){
  this$static.desiredWidth = width_0;
  $maybeUpdateSize(this$static);
  width_0.length == 0 && (this$static.desiredWidth = null);
}

function $show(this$static){
  if (this$static.showing) {
    return;
  }
   else 
    this$static.attached && $removeFromParent(this$static);
  $setState_0(this$static.resizeAnimation, true, false);
}

function $showRelativeTo(this$static, target){
  $setPopupPositionAndShow(this$static, new PopupPanel$2(this$static, target));
}

function $updateHandlers(this$static){
  if (this$static.nativePreviewHandlerRegistration) {
    $removeHandler(this$static.nativePreviewHandlerRegistration.real);
    this$static.nativePreviewHandlerRegistration = null;
  }
  if (this$static.historyHandlerRegistration) {
    $removeHandler(this$static.historyHandlerRegistration.real);
    this$static.historyHandlerRegistration = null;
  }
  if (this$static.showing) {
    this$static.nativePreviewHandlerRegistration = addNativePreviewHandler(new PopupPanel$3(this$static));
    this$static.historyHandlerRegistration = addValueChangeHandler(new PopupPanel$4(this$static));
  }
}

function PopupPanel(){
  SimplePanel.call(this);
  this.glassResizer = new PopupPanel$1(this);
  this.animType = ($clinit_PopupPanel$AnimationType() , CENTER_0);
  this.glassStyleName = 'gwt-PopupPanelGlass';
  this.isAnimationEnabled = false;
  this.leftPosition = -1;
  this.resizeAnimation = new PopupPanel$ResizeAnimation(this);
  this.topPosition = -1;
  $appendChild(($clinit_DOM() , this.element), $doc.createElement('div'));
  $setPopupPosition(this, 0, 0);
  $setClassName($getParentElement($getFirstChildElement(this.element)), 'gwt-PopupPanel');
  $setClassName((null , $getFirstChildElement(this.element)), 'popupContent');
}

defineClass(53, 29, $intern_35, PopupPanel);
_.getContainerElement = function getContainerElement_0(){
  return $clinit_DOM() , $getFirstChildElement(this.element);
}
;
_.getOffsetHeight = function getOffsetHeight_0(){
  return $getOffsetHeight_0(this);
}
;
_.getOffsetWidth = function getOffsetWidth_0(){
  return $getOffsetWidth_0(this);
}
;
_.getStyleElement = function getStyleElement_0(){
  return $getParentElement(($clinit_DOM() , $getFirstChildElement(this.element)));
}
;
_.hide = function hide(){
  this.hide_0(false);
}
;
_.hide_0 = function hide_0(autoClosed){
  $hide(this);
}
;
_.isShowing = function isShowing(){
  return this.showing;
}
;
_.onEventPreview = function onEventPreview(event_0){
  return true;
}
;
_.onUnload = function onUnload_0(){
  this.showing && $setState_0(this.resizeAnimation, false, true);
}
;
_.setAutoHideEnabled = function setAutoHideEnabled(autoHide){
  this.autoHide = autoHide;
}
;
_.setHeight = function setHeight_0(height){
  $setHeight_0(this, height);
}
;
_.setModal = function setModal(modal){
  this.modal = modal;
}
;
_.setPopupPosition = function setPopupPosition(left, top_0){
  $setPopupPosition(this, left, top_0);
}
;
_.setVisible = function setVisible_1(visible){
  ($clinit_DOM() , this.element).style['visibility'] = visible?'visible':'hidden';
  !!this.glass && (this.glass.style['visibility'] = visible?'visible':'hidden' , undefined);
}
;
_.setWidget = function setWidget_0(w){
  $setWidget_1(this, w);
}
;
_.setWidth = function setWidth_0(width_0){
  $setWidth_0(this, width_0);
}
;
_.show = function show_0(){
  $show(this);
}
;
_.autoHide = false;
_.autoHideOnHistoryEvents = false;
_.isAnimationEnabled = false;
_.isGlassEnabled = false;
_.leftPosition = 0;
_.modal = false;
_.previewAllNativeEvents = false;
_.showing = false;
_.topPosition = 0;
var Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'PopupPanel', 53, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $clinit_SpiffyPopupWithShadow(){
  $clinit_SpiffyPopupWithShadow = emptyMethod;
  Log_8 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyPopUpWithShadow'));
}

function $addWidgetCenter(this$static, SetContents){
  this$static.Contents = SetContents;
  $setWidget_0(this$static.Container, 1, 1, this$static.Contents);
}

function $onMouseOrTouchMove_0(this$static, x_0, y_0){
  var absX, absY;
  if (this$static.dragging) {
    absX = x_0 + $getAbsoluteLeft_0(($clinit_DOM() , this$static.element));
    absY = y_0 + $getAbsoluteTop_0(this$static.element);
    absY - this$static.dragStartY < 0?$setPopupPosition(this$static, absX - this$static.dragStartX, 0):$setPopupPosition(this$static, absX - this$static.dragStartX, absY - this$static.dragStartY);
  }
}

function $onMouseOrTouchStart(this$static, x_0, y_0){
  this$static.dragging = true;
  setCapture($getElement(this$static.caption));
  this$static.dragStartX = x_0;
  this$static.dragStartY = y_0;
}

function $setPositionFixed(this$static, status_0){
  this$static.FIXEDPOSITIONMODE = status_0;
  status_0?(($clinit_DOM() , this$static.element).style['position'] = ($clinit_Style$Position() , 'fixed') , undefined):(($clinit_DOM() , this$static.element).style['position'] = ($clinit_Style$Position() , 'absolute') , undefined);
}

function $setupContainer(this$static){
  $setPropertyInt(this$static.Container.tableElem, 'cellPadding', 0);
  $setPropertyInt(this$static.Container.tableElem, 'cellSpacing', 0);
  $setStyleName_1(this$static.Container.cellFormatter, 0, 0, this$static.TOP_LEFT_BACKSTYLE);
  $setWidth_4(this$static.Container.cellFormatter, 0, 0, '8px');
  $setHeight_3(this$static.Container.cellFormatter, 0, 0, '21px');
  $setWidget_0(this$static.Container, 0, 1, this$static.TopBar);
  $setVerticalAlignment_1(this$static.Container.cellFormatter, 0, 1, ($clinit_HasVerticalAlignment() , ALIGN_MIDDLE));
  $setHorizontalAlignment_1(this$static.Container.cellFormatter, 0, 1, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setStyleName_1(this$static.Container.cellFormatter, 0, 1, this$static.TOP_MIDDLE_BACKSTYLE);
  $setHeight_3(this$static.Container.cellFormatter, 0, 1, '21px');
  $setStyleName_1(this$static.Container.cellFormatter, 0, 2, this$static.TOP_MIDDLE_BACKSTYLE);
  $setHeight_3(this$static.Container.cellFormatter, 0, 2, '21px');
  $setWidth_4(this$static.Container.cellFormatter, 1, 0, '8px');
  $setStyleName_1(this$static.Container.cellFormatter, 1, 0, this$static.MIDDLE_LEFT_BACKSTYLE);
  $setStyleName_1(this$static.Container.cellFormatter, 1, 1, 'Backstyle');
  if (this$static.Contents) {
    $setWidget_0(this$static.Container, 1, 1, this$static.Contents);
    getStylePrimaryName(this$static.Contents.getStyleElement()) != null && $setStyleName_1(this$static.Container.cellFormatter, 1, 1, getStylePrimaryName(this$static.Contents.getStyleElement()));
  }
  $setStyleName_1(this$static.Container.cellFormatter, 1, 2, this$static.MIDDLE_RIGHT_BACKSTYLE);
  $setWidth_4(this$static.Container.cellFormatter, 2, 0, '8px');
  $setHeight_3(this$static.Container.cellFormatter, 2, 0, '8px');
  $setStyleName_1(this$static.Container.cellFormatter, 2, 0, this$static.BOTTOM_LEFT_BACKSTYLE);
  $setHeight_3(this$static.Container.cellFormatter, 2, 1, '8px');
  $setStyleName_1(this$static.Container.cellFormatter, 2, 1, this$static.BOTTOM_MIDDLE_BACKSTYLE);
  $setWidth_4(this$static.Container.cellFormatter, 2, 2, '16px');
  $setHeight_3(this$static.Container.cellFormatter, 2, 2, '8px');
  $setStyleName_1(this$static.Container.cellFormatter, 2, 2, this$static.BOTTOM_RIGHT_BACKSTYLE);
  $setWidget_1(this$static, this$static.Container);
}

function SpiffyPopupWithShadow(){
  $clinit_SpiffyPopupWithShadow();
  PopupPanel.call(this);
  this.BOTTOM_RIGHT_BACKSTYLE = 'ShadowBottomRight pngfix';
  this.BOTTOM_MIDDLE_BACKSTYLE = 'ShadowLower pngfix';
  this.BOTTOM_LEFT_BACKSTYLE = 'ShadowCorner pngfix';
  this.MIDDLE_LEFT_BACKSTYLE = 'ShadowLeft pngfix';
  this.MIDDLE_RIGHT_BACKSTYLE = 'ShadowRight pngfix';
  this.TOP_MIDDLE_BACKSTYLE = 'DefaultTopBar';
  this.TOP_LEFT_BACKSTYLE = 'ShadowTopLeft pngfix';
  new VerticalPanel;
  this.Container = new Grid_0(3);
  this.fixed_zindex_value = $intern_36;
  this.caption = new Label_1('PopUp (Drag Me)');
  this.sizeX = '200px';
  this.sizeY = '100px';
  this.Contents = new Label_1('');
  new HTML_1('<div><\/div>');
  this.TopBar = new HorizontalPanel;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  this.closeX = new Image_1(($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$CloseInitializer() , Close_0));
  new Image_1(($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$Close_overInitializer() , Close_over));
  this.FIXEDPOSITIONMODE = false;
  this.Contents = null;
  this.sizeX = '250px';
  this.sizeY = '701px';
  $setSize(this, this.sizeX, this.sizeY);
  ($clinit_DOM() , this.element).style['zIndex'] = '1050';
  this.isAnimationEnabled = true;
  $setText_0(this.caption, 'Script Helper Popup');
  $add_4(this.TopBar, this.caption);
  $add_4(this.TopBar, this.closeX);
  $setSize(this.closeX, '21px', '19px');
  $setCellHorizontalAlignment_0(this.TopBar, this.closeX, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setStylePrimaryName(this.TopBar, this.TOP_MIDDLE_BACKSTYLE);
  $setWidth(this.TopBar, '100%');
  $setHeight(this.TopBar, '21px');
  $add_4(this.TopBar, this.caption);
  $setCellWidth(this.TopBar, this.caption, '95%');
  $add_4(this.TopBar, this.closeX);
  $setCellHorizontalAlignment_0(this.TopBar, this.caption, ALIGN_CENTER);
  $setCellHorizontalAlignment_0(this.TopBar, this.closeX, ALIGN_RIGHT);
  $addDomHandler(this.closeX, new SpiffyPopupWithShadow$1(this), ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
  $addDomHandler(this.closeX, new SpiffyPopupWithShadow$2(this), ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
  $addHandler(this.closeX, new SpiffyPopupWithShadow$3(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this.caption, this, ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_11));
  $addDomHandler(this.caption, this, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
  $addDomHandler(this.caption, this, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
  $addDomHandler(this.caption, this, ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
  $addDomHandler(this.caption, this, ($clinit_TouchMoveEvent() , $clinit_TouchMoveEvent() , TYPE_18));
  $addDomHandler(this.caption, this, ($clinit_TouchEndEvent() , $clinit_TouchEndEvent() , TYPE_17));
  $setupContainer(this);
}

defineClass(1423, 53, $intern_37);
_.onEventPreview = function onEventPreview_0(event_0){
  $clinit_DOM();
  $eventGetTypeInt(event_0.type) == 4 && ($isOrHasChild($getElement(this.caption), $eventGetTarget(event_0)) && $eventPreventDefault(event_0));
  $eventGetTypeInt(event_0.type) == $intern_32 && ($isOrHasChild($getElement(this.caption), $eventGetTarget(event_0)) && $eventPreventDefault(event_0));
  return true;
}
;
_.onLoad = function onLoad_1(){
  $setPositionFixed(this, this.FIXEDPOSITIONMODE);
}
;
_.onMouseDown = function onMouseDown_4(event_0){
  var x_0, y_0;
  x_0 = $getX(event_0);
  y_0 = $getY(event_0);
  $info_1(Log_8, 'onMouseDown');
  $onMouseOrTouchStart(this, x_0, y_0);
}
;
_.onMouseMove = function onMouseMove_2(event_0){
  var x_0, y_0;
  x_0 = $getX(event_0);
  y_0 = $getY(event_0);
  $onMouseOrTouchMove_0(this, x_0, y_0);
}
;
_.onMouseUp = function onMouseUp_5(event_0){
  this.dragging = false;
  releaseCapture($getElement(this.caption));
}
;
_.onTouchEnd = function onTouchEnd_1(event_0){
  $info_1(Log_8, 'onTouchEnd');
  this.dragging = false;
  releaseCapture($getElement(this.caption));
}
;
_.onTouchMove = function onTouchMove_1(event_0){
  var x_0, y_0;
  x_0 = $getRelativeX(event_0.nativeEvent.changedTouches[0], event_0.relativeElem);
  y_0 = $getRelativeY(event_0.nativeEvent.changedTouches[0], event_0.relativeElem);
  $onMouseOrTouchMove_0(this, x_0, y_0);
}
;
_.onTouchStart = function onTouchStart_1(event_0){
  var x_0, y_0;
  x_0 = $getRelativeX(event_0.nativeEvent.changedTouches[0], event_0.relativeElem);
  y_0 = $getRelativeY(event_0.nativeEvent.changedTouches[0], event_0.relativeElem);
  $info_1(Log_8, 'onTouchStart ' + x_0 + ',' + y_0);
  $onMouseOrTouchStart(this, x_0, y_0);
}
;
_.FIXEDPOSITIONMODE = false;
_.dragStartX = 0;
_.dragStartY = 0;
_.dragging = false;
_.fixed_zindex_value = 0;
var Log_8;
var Lcom_darkflame_client_SpiffyPopupWithShadow_2_classLit = createForClass('com.darkflame.client', 'SpiffyPopupWithShadow', 1423, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function $clinit_GenericScriptHelperPopup(){
  $clinit_GenericScriptHelperPopup = emptyMethod;
  $clinit_SpiffyPopupWithShadow();
  Log_9 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'GenericScriptHelperPopup'));
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  introLabelHelp = new HelpIcon(($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$HelpIconCloseInitializer() , HelpIconClose), ($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$HelpIconCloseOverInitializer() , HelpIconCloseOver));
}

function $addScriptInsertButton(this$static, name_0, scriptCommand){
  var SelectLength, afterCursorWM, beforeCursorWM, helperButton, seperator;
  seperator = scriptCommand.parameterSeperator;
  $info_1(Log_9, 'getting param seperator index of:' + seperator);
  SelectLength = $indexOf_2(scriptCommand.afterCursor, seperator);
  $info_1(Log_9, 'SelectLength:' + SelectLength);
  writtingParameters = true;
  beforeCursorWM = scriptCommand.scriptMarkStart + scriptCommand.beforeCursor;
  afterCursorWM = scriptCommand.afterCursor;
  afterCursorWM != ''?(afterCursorWM = afterCursorWM + scriptCommand.scriptMarkEnd):(beforeCursorWM = beforeCursorWM + scriptCommand.scriptMarkEnd);
  helperButton = new GenericScriptHelperPopup$ScriptInsertButton(name_0, scriptCommand);
  ($clinit_DOM() , helperButton.element).style['textAlign'] = ($clinit_Style$TextAlign() , 'left');
  beforeCursorWM + '' + afterCursorWM == null || (beforeCursorWM + '' + afterCursorWM).length == 0?$removeAttribute(helperButton.element, 'title'):$setAttribute(helperButton.element, 'title', beforeCursorWM + '' + afterCursorWM);
  $addDomHandler(helperButton, new GenericScriptHelperPopup$4(this$static, helperButton, beforeCursorWM, afterCursorWM, SelectLength), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  helperButton.element.style['width'] = '160px';
  $add_5(this$static.genericHelpers, helperButton);
}

function $autoInsertCurrentCommand(this$static, scriptCommand){
  var SelectLength, afterCursor, beforeCursor, endOfRemovalSection, seperator, startOfRemovalSection, currentText, preserveBefore, preserveAfter;
  endOfRemovalSection = $getCursorPos(this$static.currentEditBox);
  startOfRemovalSection = $getCursorPos(this$static.currentEditBox) - currentLettersInCommand.length - scriptCommand.scriptMarkStart.length;
  $info_1(Log_9, 'Removal section:' + startOfRemovalSection + ' to ' + endOfRemovalSection);
  currentText = $getText(this$static.currentEditBox);
  preserveBefore = currentText.substr(0, startOfRemovalSection);
  preserveAfter = $substring_0(currentText, endOfRemovalSection, currentText.length);
  $setText_4(this$static.currentEditBox, preserveBefore + preserveAfter);
  $setSelectionRange(this$static.currentEditBox, startOfRemovalSection, 0);
  beforeCursor = scriptCommand.scriptMarkStart + scriptCommand.beforeCursor;
  afterCursor = scriptCommand.afterCursor + scriptCommand.scriptMarkEnd;
  seperator = scriptCommand.parameterSeperator;
  $info_1(Log_9, 'getting param seperator index of:' + seperator);
  SelectLength = $indexOf_2(scriptCommand.afterCursor, seperator);
  $info_1(Log_9, 'SelectLength::' + SelectLength);
  writtingParameters = true;
  $setState(this$static, ($clinit_GenericScriptHelperPopup$WrittingState() , WrittingParameters));
  currentLettersInCommand = scriptCommand.beforeCursor;
  $insertGeneric(this$static, beforeCursor, afterCursor, SelectLength);
  $filter(this$static, '');
  $setText_4(this$static.filterBox, '');
}

function $filter(this$static, currentFilter){
  var currentButtonText, currentHelperBut, numberOfVisibleWidgetsFromTop, widgetInContainer, widgetInContainer$iterator;
  this$static.currentSuggestion = null;
  numberOfVisibleWidgetsFromTop = 0;
  this$static.optionalSpacesAfterStartMaker && (currentFilter = $trim(currentFilter));
  for (widgetInContainer$iterator = new WidgetCollection$WidgetIterator(this$static.genericHelpers.children); widgetInContainer$iterator.index_0 < widgetInContainer$iterator.this$01.size_0;) {
    widgetInContainer = $next_4(widgetInContainer$iterator);
    currentHelperBut = dynamicCast(widgetInContainer, 412);
    currentButtonText = ($clinit_DOM() , currentHelperBut.element).textContent.toLowerCase();
    if ($startsWith(currentButtonText, currentFilter.toLowerCase()) || currentFilter.length == 0) {
      setVisible(currentHelperBut.element, true);
      currentHelperBut.element.style['borderColor'] = '';
      currentHelperBut.element.style['borderStyle'] = '';
      if (numberOfVisibleWidgetsFromTop == currentSelectionIndex) {
        this$static.currentSuggestion = currentHelperBut.commandThisButtonInserts;
        if (WrittingCommand) {
          currentHelperBut.element.style['borderColor'] = '#FF0000';
          currentHelperBut.element.style['borderStyle'] = ($clinit_Style$BorderStyle() , 'solid');
        }
      }
      ++numberOfVisibleWidgetsFromTop;
    }
     else {
      setVisible(currentHelperBut.element, false);
    }
  }
}

function $gotoFirstParameter(this$static, currentCursorPos, currentText){
  var FirstParamEnd, ParamStart, ScriptCommandEnd, ScriptCommandStart;
  $info_1(Log_9, 'going to first parameter');
  ScriptCommandStart = $lastIndexOf_0(currentText, currentCommand_0.scriptMarkStart, currentCursorPos);
  if (ScriptCommandStart + currentCommand_0.scriptMarkStart.length == currentCursorPos) {
    return false;
  }
  ParamStart = ScriptCommandStart + currentCommand_0.beforeCursor.length + 1;
  FirstParamEnd = $indexOf_3(currentText, currentCommand_0.parameterSeperator, ParamStart);
  ScriptCommandEnd = $indexOf_3(currentText, currentCommand_0.scriptMarkEnd, ParamStart);
  (FirstParamEnd == -1 || FirstParamEnd > ScriptCommandEnd) && (FirstParamEnd = ScriptCommandEnd);
  $info_1(Log_9, 'ParamStart:' + ParamStart);
  $info_1(Log_9, 'FirstParamEnd:' + FirstParamEnd);
  $setSelectionRange(this$static.currentEditBox, ParamStart, 0);
  $setSelectionRange(this$static.currentEditBox, ParamStart, FirstParamEnd - ParamStart);
  return true;
}

function $gotoNextParameter(this$static, currentCursorPos, currentText){
  var commandEndPoint, nextCommandStartsAt, nextParameterPosition, seperatorAfterThat;
  nextParameterPosition = $indexOf_3(currentText, currentCommand_0.parameterSeperator, currentCursorPos);
  if (nextParameterPosition == -1) {
    $stopWrittingCommandParameters(this$static);
    return false;
  }
  nextCommandStartsAt = nextParameterPosition + currentCommand_0.parameterSeperator.length;
  $info_1(Log_9, 'next param starts at:' + nextCommandStartsAt);
  seperatorAfterThat = $indexOf_3(currentText, currentCommand_0.parameterSeperator, nextCommandStartsAt);
  $info_1(Log_9, 'seperatorAfterThat:' + seperatorAfterThat);
  commandEndPoint = $indexOf_3(currentText, currentCommand_0.scriptMarkEnd, nextCommandStartsAt);
  $info_1(Log_9, 'commandEndPoint:' + commandEndPoint);
  (seperatorAfterThat == -1 || seperatorAfterThat > commandEndPoint) && (seperatorAfterThat = commandEndPoint);
  $setSelectionRange(this$static.currentEditBox, nextCommandStartsAt, 0);
  $info_1(Log_9, 'new selection length = ' + (seperatorAfterThat - nextCommandStartsAt));
  $setSelectionRange(this$static.currentEditBox, nextCommandStartsAt, seperatorAfterThat - nextCommandStartsAt);
  return true;
}

function $gotoPrevParameter(this$static, currentCursorPos, currentText){
  var CurrentParamStartPosition, ScriptCommandStart, newCursorPosition, nextParamPosition, selLength;
  ScriptCommandStart = $lastIndexOf_0(currentText, currentCommand_0.scriptMarkStart, currentCursorPos);
  $info_1(Log_9, 'ScriptCommandStart:' + ScriptCommandStart);
  nextParamPosition = $lastIndexOf_0(currentText, currentCommand_0.parameterSeperator, currentCursorPos);
  $info_1(Log_9, 'nextParamPosition:' + nextParamPosition);
  CurrentParamStartPosition = $lastIndexOf_0(currentText, currentCommand_0.parameterSeperator, nextParamPosition - 1);
  $info_1(Log_9, 'CurrentParamStartPosition:' + CurrentParamStartPosition);
  if (CurrentParamStartPosition == -1 || CurrentParamStartPosition < ScriptCommandStart) {
    $info_1(Log_9, 'no previous parameter');
    return $gotoFirstParameter(this$static, currentCursorPos, currentText);
  }
  newCursorPosition = CurrentParamStartPosition + currentCommand_0.parameterSeperator.length;
  selLength = nextParamPosition - newCursorPosition;
  $info_1(Log_9, 'selLength' + selLength);
  $setSelectionRange(this$static.currentEditBox, newCursorPosition, 0);
  $setSelectionRange(this$static.currentEditBox, newCursorPosition, selLength);
  return true;
}

function $insertGeneric(this$static, BeforeCursor, AfterCursor, SelectLength){
  var currentContents, currentCursor, newContents;
  currentContents = $getText(this$static.currentEditBox);
  currentCursor = $getCursorPos(this$static.currentEditBox);
  newContents = currentContents.substr(0, currentCursor) + BeforeCursor + AfterCursor + ' ' + $substring_0(currentContents, currentCursor, currentContents.length);
  $setText_4(this$static.currentEditBox, newContents);
  $setFocus(this$static.currentEditBox, true);
  $setSelectionRange(this$static.currentEditBox, currentCursor + BeforeCursor.length + 1, 0);
  SelectLength > 0 && $setSelectionRange(this$static.currentEditBox, currentCursor + BeforeCursor.length, SelectLength);
}

function $manuallySendKeyPress(this$static, event_0){
  !!this$static.editBoxTypingHandler && $onKeyPress(this$static.editBoxTypingHandler, event_0);
}

function $populateHelpers(this$static){
  var commands, scriptCommand, scriptCommand$index, scriptCommand$max;
  commands = ($clinit_SpiffyCommandManagement() , AllKnownCommands_0);
  for (scriptCommand$index = 0 , scriptCommand$max = commands.length; scriptCommand$index < scriptCommand$max; ++scriptCommand$index) {
    scriptCommand = commands[scriptCommand$index];
    $addScriptInsertButton(this$static, scriptCommand.description_0.length > 2?scriptCommand.description_0:(scriptCommand.name_0 != null?scriptCommand.name_0:'' + scriptCommand.ordinal).toLowerCase(), scriptCommand);
  }
}

function $setCurrentEditBox(this$static, editThis){
  this$static.currentEditBox = editThis;
  $setState(this$static, ($clinit_GenericScriptHelperPopup$WrittingState() , Focused));
  !this$static.editBoxTypingHandler && (this$static.editBoxTypingHandler = new GenericScriptHelperPopup$5(this$static));
  !this$static.editBoxDeleteHandler && (this$static.editBoxDeleteHandler = new GenericScriptHelperPopup$6(this$static));
  !this$static.editBoxBlurHandler && (this$static.editBoxBlurHandler = new GenericScriptHelperPopup$7(this$static));
  !!this$static.editBoxTypingHandlerRegistration && $removeHandler(this$static.editBoxTypingHandlerRegistration.real);
  !!this$static.editBoxDeleteHandlerRegistration && $removeHandler(this$static.editBoxDeleteHandlerRegistration.real);
  !!this$static.editBoxBlurHandlerRegistration && $removeHandler(this$static.editBoxBlurHandlerRegistration.real);
  this$static.editBoxTypingHandlerRegistration = $addDomHandler(this$static.currentEditBox, this$static.editBoxTypingHandler, ($clinit_KeyPressEvent() , $clinit_KeyPressEvent() , TYPE_7));
  this$static.editBoxDeleteHandlerRegistration = $addDomHandler(this$static.currentEditBox, this$static.editBoxDeleteHandler, ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_6));
  this$static.editBoxBlurHandlerRegistration = $addDomHandler(this$static.currentEditBox, this$static.editBoxBlurHandler, ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));
}

function $setState(this$static, currentState){
  this$static.currentStatus = currentState;
  $setText_0(this$static.stateFeedback, $name(this$static.currentStatus));
}

function $stopWrittingCommandAndReset(this$static){
  $filter(this$static, '');
  currentLettersInCommand = '';
  WrittingCommand = false;
  writtingParameters = false;
  currentLettersInCommand = '';
  currentCommandEndMark = null;
  currentSelectionIndex = 0;
  currentCommand_0 = null;
  $setState(this$static, ($clinit_GenericScriptHelperPopup$WrittingState() , Focused));
}

function $stopWrittingCommandParameters(this$static){
  var currentCursorPos, newCursorPos;
  $info_1(Log_9, 'exiting param typing');
  currentCursorPos = $getCursorPos(this$static.currentEditBox);
  newCursorPos = $indexOf_3($getText(this$static.currentEditBox), currentCommand_0.scriptMarkEnd, currentCursorPos) + currentCommand_0.scriptMarkEnd.length;
  $setSelectionRange(this$static.currentEditBox, 0, 0);
  $setSelectionRange(this$static.currentEditBox, newCursorPos, 0);
  this$static.currentStatus = ($clinit_GenericScriptHelperPopup$WrittingState() , Focused);
  currentCommand_0 = null;
  $setState(this$static, Focused);
}

function GenericScriptHelperPopup(AllKnownCommands){
  SpiffyPopupWithShadow.call(this);
  this.currentEditBox = null;
  this.optionalSpacesAfterStartMaker = false;
  this.currentStatus = ($clinit_GenericScriptHelperPopup$WrittingState() , Unfocused);
  this.stateFeedback = new Label_1('not set yet');
  this.PerameterFeedbackBox = new Label_1('param not set yet');
  this.currentSuggestion = null;
  this.container = new VerticalPanel;
  this.overallContainer = new FocusPanel;
  this.helperScrollPanel = new ScrollPanel;
  this.genericHelpers = new VerticalPanel;
  this.introLabel = new SpiffyLabel(introLabelHelp);
  this.filterPanel = new HorizontalPanel;
  this.filterLabel = new Label_1('Filter:');
  this.filterBox = new TextBox;
  this.closeButton = new Button('close');
  this.FIXEDPOSITIONMODE = true;
  ($clinit_DOM() , this.element).style['position'] = ($clinit_Style$Position() , 'fixed');
  this.fixed_zindex_value = 450;
  setStyleAttribute(this.element, 'z-index', '' + this.fixed_zindex_value);
  setStyleAttribute(this.element, 'zIndex', '' + this.fixed_zindex_value);
  new SpiffyCommandManagement(AllKnownCommands);
  $populateHelpers(this);
  $setHeight(this.container, '100%');
  $setWidth(this.container, '100%');
  $add_5(this.container, this.introLabel);
  $add_4(this.filterPanel, this.filterLabel);
  $add_4(this.filterPanel, this.filterBox);
  $add_5(this.container, this.filterPanel);
  $add_2(this.helperScrollPanel, this.genericHelpers);
  $setHeight_4(this.helperScrollPanel, '580px');
  $add_5(this.container, this.helperScrollPanel);
  $add_5(this.container, this.closeButton);
  $setCellHeight(this.container, this.closeButton, '25px');
  $setCellVerticalAlignment_2(this.container, this.closeButton, ($clinit_HasVerticalAlignment() , ALIGN_BOTTOM));
  $setCellHorizontalAlignment_0(this.container, this.closeButton, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $addDomHandler(this.filterBox, new GenericScriptHelperPopup$1(this), ($clinit_KeyUpEvent() , $clinit_KeyUpEvent() , TYPE_8));
  $addDomHandler(this.closeButton, new GenericScriptHelperPopup$2(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this.overallContainer, new GenericScriptHelperPopup$3(this), ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_5));
  $add_5(this.container, this.stateFeedback);
  $add_5(this.container, this.PerameterFeedbackBox);
  this.overallContainer.add_2(this.container);
  $addWidgetCenter(this, this.overallContainer);
}

defineClass(1424, 1423, $intern_37);
_.optionalSpacesAfterStartMaker = false;
var Log_9, WasJustWrittingCommand = false, WrittingCommand = false, currentCommand_0 = null, currentCommandEndMark, currentLettersInCommand = '', currentSelectionIndex = 0, introLabelHelp, writtingParameters = false;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup', 1424, Lcom_darkflame_client_SpiffyPopupWithShadow_2_classLit);
function GenericScriptHelperPopup$1(this$0){
  this.this$01 = this$0;
}

defineClass(1426, 1, $intern_38, GenericScriptHelperPopup$1);
_.onKeyUp = function onKeyUp(event_0){
  var currentFilter;
  currentFilter = $getText(this.this$01.filterBox);
  $filter(this.this$01, currentFilter);
}
;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$1_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/1', 1426, Ljava_lang_Object_2_classLit);
function GenericScriptHelperPopup$2(this$0){
  this.this$01 = this$0;
}

defineClass(1427, 1, $intern_17, GenericScriptHelperPopup$2);
_.onClick = function onClick_2(event_0){
  $hide(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$2_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/2', 1427, Ljava_lang_Object_2_classLit);
function GenericScriptHelperPopup$3(this$0){
  this.this$01 = this$0;
}

defineClass(1428, 1, $intern_29, GenericScriptHelperPopup$3);
_.onFocus = function onFocus_1(event_0){
  if (!($clinit_GenericScriptHelperPopup() , WasJustWrittingCommand) && !WrittingCommand) {
    $filter(this.this$01, '');
    $setText_4(this.this$01.filterBox, '');
  }
  WasJustWrittingCommand = false;
  WrittingCommand = false;
  $setState(this.this$01, ($clinit_GenericScriptHelperPopup$WrittingState() , Focused));
}
;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$3_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/3', 1428, Ljava_lang_Object_2_classLit);
function GenericScriptHelperPopup$4(this$0, val$helperButton, val$beforeCursor, val$afterCursor, val$SelectLength){
  this.this$01 = this$0;
  this.val$helperButton2 = val$helperButton;
  this.val$beforeCursor3 = val$beforeCursor;
  this.val$afterCursor4 = val$afterCursor;
  this.val$SelectLength5 = val$SelectLength;
}

defineClass(1429, 1, $intern_17, GenericScriptHelperPopup$4);
_.onClick = function onClick_3(event_0){
  if (($clinit_GenericScriptHelperPopup() , WrittingCommand) || WasJustWrittingCommand) {
    $info_1(Log_9, 'button selected while writting command:' + currentLettersInCommand);
    $autoInsertCurrentCommand(this.this$01, this.val$helperButton2.commandThisButtonInserts);
  }
   else {
    $insertGeneric(this.this$01, this.val$beforeCursor3, this.val$afterCursor4, this.val$SelectLength5);
    !this.val$afterCursor4.length?$setState(this.this$01, ($clinit_GenericScriptHelperPopup$WrittingState() , Focused)):$setState(this.this$01, ($clinit_GenericScriptHelperPopup$WrittingState() , WrittingParameters));
  }
  $stopWrittingCommandAndReset(this.this$01);
}
;
_.val$SelectLength5 = 0;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$4_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/4', 1429, Ljava_lang_Object_2_classLit);
function $onKeyPress(this$static, event_0){
  var keyCode;
  keyCode = valueOf_44($eventGetCharCode(event_0.nativeEvent) & $intern_31);
  if (!($clinit_GenericScriptHelperPopup() , WrittingCommand)) {
    $clinit_SpiffyCommandManagement();
    !knownScriptMarkCodes && setupKnownStartMarks();
    if ($contains_2(new AbstractMap$1(knownScriptMarkCodes), keyCode)) {
      WrittingCommand = true;
      $setState(this$static.this$01, ($clinit_GenericScriptHelperPopup$WrittingState() , UnknownCommandStarted));
      WasJustWrittingCommand = false;
      currentLettersInCommand = '';
      currentCommandEndMark = dynamicCast(knownScriptMarkCodes.get_2(keyCode), 193);
      $info_1(Log_9, 'command start detected ' + WrittingCommand + ' ends set to:' + currentCommandEndMark);
    }
    return;
  }
  if (!!currentCommandEndMark && keyCode == currentCommandEndMark) {
    $info_1(Log_9, 'command end detected. was:' + currentLettersInCommand);
    $stopWrittingCommandAndReset(this$static.this$01);
    return;
  }
  currentLettersInCommand = currentLettersInCommand + ('' + keyCode);
  $filter(this$static.this$01, currentLettersInCommand);
  $setText_4(this$static.this$01.filterBox, currentLettersInCommand);
}

function GenericScriptHelperPopup$5(this$0){
  this.this$01 = this$0;
}

defineClass(1430, 1, $intern_39, GenericScriptHelperPopup$5);
_.onKeyPress = function onKeyPress(event_0){
  $onKeyPress(this, event_0);
}
;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$5_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/5', 1430, Ljava_lang_Object_2_classLit);
function GenericScriptHelperPopup$6(this$0){
  this.this$01 = this$0;
}

defineClass(1431, 1, $intern_40, GenericScriptHelperPopup$6);
_.onKeyDown = function onKeyDown(event_0){
  var CurrentCommandStartedAt, OutOf, ParameterNum, currentCursorPos, currentText, keyCode, scriptCommand, sectionsintotal, sectionsofar, success, whatsBehindTheCursor;
  if (this.this$01.currentStatus == ($clinit_GenericScriptHelperPopup$WrittingState() , WrittingParameters)) {
    keyCode = $eventGetKeyCode(event_0.nativeEvent);
    if (keyCode == 9 || keyCode == 39 || keyCode == 37) {
      $info_1(($clinit_GenericScriptHelperPopup() , Log_9), 'going to next param triggered');
      $info_1(Log_9, 'current command after cursor:' + currentCommand_0.afterCursor);
      currentCursorPos = $getCursorPos(this.this$01.currentEditBox);
      currentText = $getText(this.this$01.currentEditBox);
      CurrentCommandStartedAt = $lastIndexOf_0(currentText, currentCommand_0.scriptMarkStart, currentCursorPos);
      whatsBehindTheCursor = currentText.substr(CurrentCommandStartedAt, currentCursorPos - CurrentCommandStartedAt);
      $info_1(Log_9, 'written so far:' + whatsBehindTheCursor);
      sectionsofar = $splitToList(on_0(currentCommand_0.parameterSeperator), whatsBehindTheCursor);
      sectionsintotal = $splitToList(on_0(currentCommand_0.parameterSeperator), currentCommand_0.afterCursor);
      ParameterNum = sectionsofar.size_1();
      OutOf = sectionsintotal.size_1();
      $setText_0(this.this$01.PerameterFeedbackBox, 'Typed;' + currentLettersInCommand + ' Param:' + ParameterNum + ' of ' + OutOf);
      if (keyCode == 39 || keyCode == 9) {
        $info_1(Log_9, 'going to next param');
        $gotoNextParameter(this.this$01, currentCursorPos, currentText);
        $info_1(Log_9, 'canceling key hit');
        $cancelKey(this.this$01.currentEditBox);
        return;
      }
      if (keyCode == 37) {
        $info_1(Log_9, 'going to previous param');
        success = $gotoPrevParameter(this.this$01, currentCursorPos, currentText);
        success && $cancelKey(this.this$01.currentEditBox);
        return;
      }
    }
    if (keyCode == 27 || keyCode == 38 || keyCode == 40 || keyCode == 13) {
      $stopWrittingCommandParameters(this.this$01);
      keyCode == 13 && $cancelKey(this.this$01.currentEditBox);
    }
    return;
  }
  if (this.this$01.currentStatus == UnknownCommandStarted) {
    keyCode = $eventGetKeyCode(event_0.nativeEvent);
    if (keyCode == 0) {
      $warning_0(($clinit_GenericScriptHelperPopup() , Log_9), 'Are you using Firefox? Unfortunately there seems some oddness in handling key events in it. Please use Chrome or Vivaldi ');
      keyCode = $eventGetKeyCode(event_0.nativeEvent);
    }
    if (keyCode == 8) {
      $info_1(($clinit_GenericScriptHelperPopup() , Log_9), 'backspace pressed');
      if (!currentLettersInCommand.length) {
        WrittingCommand = false;
        $setState(this.this$01, Focused);
      }
       else {
        currentLettersInCommand = $substring_0(currentLettersInCommand, 0, currentLettersInCommand.length - 1);
      }
      $filter(this.this$01, currentLettersInCommand);
      $setText_4(this.this$01.filterBox, currentLettersInCommand);
    }
    if (keyCode == 9 || keyCode == 39) {
      $info_1(($clinit_GenericScriptHelperPopup() , Log_9), 'tab pressed while command was unknown');
      scriptCommand = this.this$01.currentSuggestion;
      currentCommand_0 = scriptCommand;
      $autoInsertCurrentCommand(this.this$01, scriptCommand);
      $cancelKey(this.this$01.currentEditBox);
    }
    if (keyCode == 13) {
      $info_1(($clinit_GenericScriptHelperPopup() , Log_9), 'enter pressed');
      WrittingCommand = false;
      scriptCommand = this.this$01.currentSuggestion;
      currentCommand_0 = scriptCommand;
      if ($equals_5(this.this$01.currentSuggestion.scriptMarkEnd, '\n'))
      ;
      else {
        $cancelKey(this.this$01.currentEditBox);
      }
      if (!scriptCommand) {
        return;
      }
      $autoInsertCurrentCommand(this.this$01, scriptCommand);
      return;
    }
    if (isArrowKey(keyCode)) {
      $info_1(($clinit_GenericScriptHelperPopup() , Log_9), 'arrow pressed');
      if (keyCode == 38 && currentSelectionIndex > 0) {
        $cancelKey(this.this$01.currentEditBox);
        currentSelectionIndex = currentSelectionIndex - 1;
        $filter(this.this$01, currentLettersInCommand);
        return;
      }
      if (keyCode == 40) {
        $cancelKey(this.this$01.currentEditBox);
        currentSelectionIndex = currentSelectionIndex + 1;
        $filter(this.this$01, currentLettersInCommand);
        return;
      }
      if (keyCode == 37 || keyCode == 39) {
        $info_1(Log_9, 'arrow hit when no more params');
        $stopWrittingCommandAndReset(this.this$01);
      }
    }
  }
}
;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$6_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/6', 1431, Ljava_lang_Object_2_classLit);
function GenericScriptHelperPopup$7(this$0){
  this.this$01 = this$0;
}

defineClass(1432, 1, $intern_30, GenericScriptHelperPopup$7);
_.onBlur = function onBlur_0(event_0){
  $clinit_GenericScriptHelperPopup();
  WrittingCommand = false;
  WasJustWrittingCommand = true;
  writtingParameters = false;
  $removeHandler(this.this$01.editBoxTypingHandlerRegistration.real);
  $removeHandler(this.this$01.editBoxDeleteHandlerRegistration.real);
  $removeHandler(this.this$01.editBoxBlurHandlerRegistration.real);
  $setState(this.this$01, ($clinit_GenericScriptHelperPopup$WrittingState() , Unfocused));
}
;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$7_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/7', 1432, Ljava_lang_Object_2_classLit);
function $clinit_FocusWidget(){
  $clinit_FocusWidget = emptyMethod;
  impl_2 = ($clinit_FocusImpl() , $clinit_FocusImpl() , implWidget);
}

function $onAttach_0(this$static){
  var tabIndex;
  $onAttach(this$static);
  tabIndex = this$static.getTabIndex();
  -1 == tabIndex && this$static.setTabIndex(0);
}

function $setEnabled(this$static, enabled){
  ($clinit_DOM() , this$static.element)['disabled'] = !enabled;
}

function $setFocus(this$static, focused){
  focused?impl_2.focus_0(($clinit_DOM() , this$static.element)):impl_2.blur_0(($clinit_DOM() , this$static.element));
}

function FocusWidget(elem){
  $setElement_0(this, ($clinit_DOM() , elem));
}

defineClass(334, 7, $intern_41);
_.addClickHandler = function addClickHandler_1(handler){
  return $addDomHandler(this, handler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}
;
_.addMouseDownHandler = function addMouseDownHandler_0(handler){
  return $addDomHandler(this, handler, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
}
;
_.addMouseOutHandler = function addMouseOutHandler_0(handler){
  return $addDomHandler(this, handler, ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
}
;
_.addMouseOverHandler = function addMouseOverHandler_0(handler){
  return $addDomHandler(this, handler, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
}
;
_.addTouchStartHandler = function addTouchStartHandler_0(handler){
  return $addDomHandler(this, handler, ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
}
;
_.getTabIndex = function getTabIndex(){
  return $getTabIndex(($clinit_DOM() , this.element));
}
;
_.onAttach = function onAttach_0(){
  $onAttach_0(this);
}
;
_.setTabIndex = function setTabIndex(index_0){
  $setTabIndex(($clinit_DOM() , this.element), index_0);
}
;
var impl_2;
var Lcom_google_gwt_user_client_ui_FocusWidget_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FocusWidget', 334, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $setText(this$static, text_0){
  $setInnerText(($clinit_DOM() , this$static.element), text_0);
}

function ButtonBase(elem){
  FocusWidget.call(this, elem);
}

defineClass(374, 334, $intern_41);
var Lcom_google_gwt_user_client_ui_ButtonBase_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ButtonBase', 374, Lcom_google_gwt_user_client_ui_FocusWidget_2_classLit);
function Button(html){
  var e;
  $clinit_FocusWidget();
  ButtonBase.call(this, (e = $doc.createElement('BUTTON') , e.setAttribute('type', 'button') , e));
  $setClassName(($clinit_DOM() , this.element), 'gwt-Button');
  $setInnerHTML(this.element, html);
}

defineClass(33, 374, $intern_41, Button);
var Lcom_google_gwt_user_client_ui_Button_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Button', 33, Lcom_google_gwt_user_client_ui_ButtonBase_2_classLit);
function GenericScriptHelperPopup$ScriptInsertButton(html, scriptCommand){
  $clinit_FocusWidget();
  Button.call(this, html);
  this.commandThisButtonInserts = scriptCommand;
}

defineClass(412, 33, {412:1, 60:1, 45:1, 20:1, 16:1, 19:1, 17:1, 13:1, 15:1, 7:1}, GenericScriptHelperPopup$ScriptInsertButton);
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$ScriptInsertButton_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/ScriptInsertButton', 412, Lcom_google_gwt_user_client_ui_Button_2_classLit);
function $clinit_GenericScriptHelperPopup$WrittingState(){
  $clinit_GenericScriptHelperPopup$WrittingState = emptyMethod;
  Focused = new GenericScriptHelperPopup$WrittingState('Focused', 0);
  Unfocused = new GenericScriptHelperPopup$WrittingState('Unfocused', 1);
  UnknownCommandStarted = new GenericScriptHelperPopup$WrittingState('UnknownCommandStarted', 2);
  WrittingParameters = new GenericScriptHelperPopup$WrittingState('WrittingParameters', 3);
}

function GenericScriptHelperPopup$WrittingState(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_6(name_0){
  $clinit_GenericScriptHelperPopup$WrittingState();
  return valueOf(($clinit_GenericScriptHelperPopup$WrittingState$Map() , $MAP_4), name_0);
}

function values_5(){
  $clinit_GenericScriptHelperPopup$WrittingState();
  return initValues(getClassLiteralForArray(Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$WrittingState_2_classLit, 1), $intern_1, 251, 0, [Focused, Unfocused, UnknownCommandStarted, WrittingParameters]);
}

defineClass(251, 9, {251:1, 3:1, 21:1, 9:1}, GenericScriptHelperPopup$WrittingState);
var Focused, Unfocused, UnknownCommandStarted, WrittingParameters;
var Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$WrittingState_2_classLit = createForEnum('com.darkflame.client.SpiffyGWT', 'GenericScriptHelperPopup/WrittingState', 251, Ljava_lang_Enum_2_classLit, values_5, valueOf_6);
function $clinit_GenericScriptHelperPopup$WrittingState$Map(){
  $clinit_GenericScriptHelperPopup$WrittingState$Map = emptyMethod;
  $MAP_4 = createValueOfMap(($clinit_GenericScriptHelperPopup$WrittingState() , initValues(getClassLiteralForArray(Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup$WrittingState_2_classLit, 1), $intern_1, 251, 0, [Focused, Unfocused, UnknownCommandStarted, WrittingParameters])));
}

var $MAP_4;
function $checkInit(this$static){
  if (!this$static.widget) {
    throw new IllegalStateException_0('initWidget() is not called yet');
  }
}

function $initWidget(this$static, widget){
  var elem;
  if (this$static.widget) {
    throw new IllegalStateException_0('Composite.initWidget() may only be called once.');
  }
  if (!widget) {
    throw new NullPointerException_0('widget cannot be null');
  }
  instanceOf(widget, 158) && dynamicCast(widget, 158);
  $removeFromParent(widget);
  elem = ($clinit_DOM() , widget.element);
  $setElement_0(this$static, elem);
  ($clinit_PotentialElement() , isPotential(elem)) && $setResolver(elem, this$static);
  this$static.widget = widget;
  $setParent(widget, this$static);
}

function $isAttached(this$static){
  if (this$static.widget) {
    return this$static.widget.isAttached();
  }
  return false;
}

defineClass($intern_42, 7, $intern_43);
_.isAttached = function isAttached_0(){
  return $isAttached(this);
}
;
_.onAttach = function onAttach_1(){
  $checkInit(this);
  if (this.eventsToSink != -1) {
    this.widget.sinkEvents(this.eventsToSink);
    this.eventsToSink = -1;
  }
  this.widget.onAttach();
  $clinit_DOM();
  setEventListener_0(this.element, this);
  fire_0(this, true);
}
;
_.onBrowserEvent = function onBrowserEvent_0(event_0){
  $onBrowserEvent(this, event_0);
  this.widget.onBrowserEvent(event_0);
}
;
_.onDetach = function onDetach_0(){
  try {
    fire_0(this, false);
  }
   finally {
    this.widget.onDetach();
  }
}
;
_.resolvePotentialElement = function resolvePotentialElement_0(){
  $setElement(this, this.widget.resolvePotentialElement());
  return $clinit_DOM() , this.element;
}
;
var Lcom_google_gwt_user_client_ui_Composite_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Composite', $intern_42, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $clinit_SpiffyAnimatedIcon(){
  $clinit_SpiffyAnimatedIcon = emptyMethod;
  Log_10 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyGWT.SpiffyAnimatedIcon'));
  new HashSet;
}

function $$init_3(this$static){
  this$static.animation = new SpiffyAnimatedIcon$1(this$static);
  this$static.imageContents = new Image_0;
  this$static.flipBookContainer = new FocusPanel;
  this$static.flipBook = new DeckPanel;
  this$static.flipbookImageList = new ArrayList;
  this$static.cacheOfAllLists = new HashMap;
  this$static.contents = this$static.imageContents;
  this$static.Frames = new ArrayList;
}

function $addClickHandler(this$static, Handler){
  !!this$static.currentClickHandler && $removeHandler(this$static.currentClickHandler.real);
  this$static.currentClickHandler = dynamicCast(this$static.contents, 45).addClickHandler(Handler);
  return this$static.currentClickHandler;
}

function $addErrorHandler(this$static, errorHandler){
  var applyHandlerToThis;
  if (this$static.currentLoadErrorHandler) {
    $info_1(Log_10, ' error  Handler removeing existing');
    $removeHandler(this$static.currentLoadErrorHandler.real);
  }
  if (this$static.mode == 2) {
    applyHandlerToThis = this$static.lastImageAddedToDeck;
    !applyHandlerToThis && $info_1(Log_10, 'WARNING: Error Handler set before image exists');
    !applyHandlerToThis.parent_1 && $info_1(Log_10, 'WARNING: Error Handler set when image has no parent');
    this$static.currentLoadErrorHandler = $addHandler(applyHandlerToThis, errorHandler, ($clinit_ErrorEvent() , $clinit_ErrorEvent() , TYPE_4));
    return this$static.currentLoadErrorHandler;
  }
  this$static.currentLoadErrorHandler = $addHandler(this$static.imageContents, errorHandler, ($clinit_ErrorEvent() , $clinit_ErrorEvent() , TYPE_4));
  return this$static.currentLoadErrorHandler;
}

function $addMouseDownHandler(this$static, Handler){
  !!this$static.currentMouseDownHandler && $removeHandler(this$static.currentMouseDownHandler.real);
  this$static.currentMouseDownHandler = dynamicCast(this$static.contents, 60).addMouseDownHandler(Handler);
  return this$static.currentMouseDownHandler;
}

function $addMouseOutHandler(this$static, Handler){
  !!this$static.currentMouseOutHandler && $removeHandler(this$static.currentMouseOutHandler.real);
  this$static.currentMouseOutHandler = dynamicCast(this$static.contents, 60).addMouseOutHandler(Handler);
  return this$static.currentMouseOutHandler;
}

function $addMouseOverHandler(this$static, Handler){
  !!this$static.currentMouseOverHandler && $removeHandler(this$static.currentMouseOverHandler.real);
  this$static.currentMouseOverHandler = dynamicCast(this$static.contents, 60).addMouseOverHandler(Handler);
  return this$static.currentMouseOverHandler;
}

function $bundledBasedSetup(this$static, SetFrames, name_0){
  var cp;
  this$static.imageContents = $createImage(SetFrames[0]);
  this$static.contents = this$static.imageContents;
  $initWidget(this$static, this$static.imageContents);
  $info_1(Log_10, 'initialised ' + name_0 + ' for bundle mode.');
  this$static.mode = 1;
  this$static.currentfilename = name_0;
  $setFrametotal(this$static.animation, SetFrames.length - 1);
  $info_1(Log_10, 'adding bundles frames:' + (this$static.animation.lastFrameNum + 1));
  for (cp = 0; cp < this$static.animation.lastFrameNum + 1; cp = cp + 1) {
    this$static.Frames.add_0(SetFrames[cp]);
  }
  $applyTo(dynamicCast($get(this$static.Frames, 0), 46), this$static.imageContents);
  this$static.timer = new SpiffyAnimatedIcon$2(this$static);
}

function $changeInternalImagesTooFillContainer(this$static){
  var imageinbook, imageinbook$iterator;
  $info_1(Log_10, 'setting images to fill container');
  if (this$static.mode == 3 || this$static.mode == 0 || this$static.mode == 1) {
    $setSize(this$static.imageContents, '100%', '100%');
  }
   else if (this$static.mode == 2) {
    for (imageinbook$iterator = new AbstractList$IteratorImpl(this$static.flipbookImageList); imageinbook$iterator.i < imageinbook$iterator.this$01_0.size_1();) {
      imageinbook = (checkCriticalElement(imageinbook$iterator.i < imageinbook$iterator.this$01_0.size_1()) , dynamicCast(imageinbook$iterator.this$01_0.get_0(imageinbook$iterator.last = imageinbook$iterator.i++), 43));
      ($clinit_DOM() , imageinbook.element).style['width'] = '100%';
      imageinbook.element.style['height'] = '100%';
    }
  }
}

function $changeInternalImagesTooNOTFillContainer(this$static){
  var imageinbook, imageinbook$iterator;
  $info_1(Log_10, 'setting images to not fill container');
  if (this$static.mode == 3 || this$static.mode == 0 || this$static.mode == 1) {
    $setSize(this$static.imageContents, '', '');
  }
   else if (this$static.mode == 2) {
    for (imageinbook$iterator = new AbstractList$IteratorImpl(this$static.flipbookImageList); imageinbook$iterator.i < imageinbook$iterator.this$01_0.size_1();) {
      imageinbook = (checkCriticalElement(imageinbook$iterator.i < imageinbook$iterator.this$01_0.size_1()) , dynamicCast(imageinbook$iterator.this$01_0.get_0(imageinbook$iterator.last = imageinbook$iterator.i++), 43));
      ($clinit_DOM() , imageinbook.element).style['width'] = '';
      imageinbook.element.style['height'] = '';
    }
  }
}

function $fillDeckPanel(this$static){
  var cp, frameset, index_0, newFlipBook, newframe, url_0, widget, widget$iterator;
  this$static.flipbookImageList.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  if (this$static.cacheOfAllLists.get_2(this$static.basefilename) != null) {
    $info_1(Log_10, 'creating from cache');
    frameset = dynamicCast(this$static.cacheOfAllLists.get_2(this$static.basefilename), 261);
    index_0 = $getWidgetIndex(this$static.flipBook, frameset);
    $showWidget(this$static.flipBook, index_0);
    $showWidget(frameset, 0);
    this$static.animation.currentframe = 0;
    this$static.currentFlipBook = frameset;
    for (widget$iterator = new WidgetCollection$WidgetIterator(frameset.children); widget$iterator.index_0 < widget$iterator.this$01.size_0;) {
      widget = $next_4(widget$iterator);
      widget.setWidth('');
      widget.setHeight('');
      $setAttribute(($clinit_DOM() , widget.element), 'draggable', 'false');
      this$static.flipbookImageList.add_0(dynamicCast(widget, 43));
    }
    return;
  }
  newFlipBook = new DeckPanel;
  this$static.flipBook.add_2(newFlipBook);
  $info_1(Log_10, 'showing new deckpanel' + this$static.flipBook.children.size_0);
  $showWidget(this$static.flipBook, $getWidgetIndex(this$static.flipBook, newFlipBook));
  for (cp = 0; cp <= this$static.animation.lastFrameNum; cp = cp + 1) {
    url_0 = this$static.basefilename + '' + cp + '.' + this$static.filenameext;
    newframe = new Image_4(url_0);
    this$static.flipbookImageList.add_0(newframe);
    newFlipBook.add_2(newframe);
    ($clinit_DOM() , newframe.element).style['width'] = '';
    newframe.element.style['height'] = '';
    $setAttribute(newframe.element, 'draggable', 'false');
    this$static.lastImageAddedToDeck = newframe;
  }
  $showWidget(newFlipBook, 0);
  this$static.animation.currentframe = 0;
  ($clinit_DOM() , newFlipBook.element).style['width'] = '';
  newFlipBook.element.style['height'] = '';
  this$static.cacheOfAllLists.put(this$static.basefilename, newFlipBook);
  this$static.currentFlipBook = newFlipBook;
}

function $getImageAtFrame(this$static){
  var temp;
  if (this$static.mode == 1) {
    if (this$static.Frames.array.length > 0) {
      return $createImage(dynamicCast($get(this$static.Frames, 0), 46));
    }
     else {
      $info_1(Log_10, 'tried getting image from frame:' + this$static.animation.currentframe + ' in a bundledimage but its out of range');
    }
  }
   else if (this$static.mode == 2) {
    if (this$static.currentFlipBook.children.size_0 > 0) {
      return dynamicCast($getWidget(this$static.currentFlipBook, 0), 43);
    }
     else {
      $info_1(Log_10, 'tried getting frame ::0 from flipbook but its out of range');
      $info_1(Log_10, ':range was' + this$static.flipBook.children.size_0);
    }
  }
   else {
    if (0 == this$static.animation.currentframe) {
      return this$static.imageContents;
    }
     else {
      temp = new Image_0;
      this$static.currentfilename = this$static.basefilename + '' + this$static.animation.currentframe + '.' + this$static.filenameext;
      $setUrl_1(temp, this$static.currentfilename);
      $setId(($clinit_DOM() , temp.element), '_TEMP_IMAGE_');
      $add_8(($clinit_RootPanel() , get_14(null)), temp, -1000, -1000);
      return temp;
    }
  }
  return null;
}

function $getUrl(this$static){
  var url_0;
  if (this$static.mode == 2) {
    url_0 = $getUrl_0(dynamicCast($getWidget(this$static.currentFlipBook, this$static.animation.currentframe), 43));
    return url_0;
  }
  return this$static.currentfilename;
}

function $gotoFrame_0(this$static, newframe){
  $gotoFrame(this$static.animation, newframe);
}

function $loadSerialisedAnimationState_0(this$static, state){
  $loadSerialisedAnimationState(this$static.animation, state);
}

function $playBackUntill_0(this$static, frame_0){
  $playBackUntill(this$static.animation, frame_0);
}

function $playUntill_0(this$static, frame_0){
  $playUntill(this$static.animation, frame_0);
}

function $prefetchImages(this$static){
  var cp;
  if (this$static.internalPreloader) {
    for (cp = 0; cp <= this$static.animation.lastFrameNum; cp = cp + 1) {
      prefetch(this$static.basefilename + '' + cp + '.' + this$static.filenameext);
    }
  }
}

function $setCommandToRunAfterClose_0(this$static, newcommand){
  $setCommandToRunAfterClose(this$static.animation, newcommand);
}

function $setCommandToRunAfterFrameChange_0(this$static, command){
  $setCommandToRunAfterFrameChange(this$static.animation, command);
}

function $setCommandToRunAfterOpen_0(this$static, newcommand){
  $setCommandToRunAfterOpen(this$static.animation, newcommand);
}

function $setFrame(this$static, frame_0){
  this$static.animation.currentframe = frame_0;
  if (this$static.mode == 1) {
    this$static.Frames.array.length > this$static.animation.currentframe?$applyTo(dynamicCast($get(this$static.Frames, this$static.animation.currentframe), 46), this$static.imageContents):$info_1(Log_10, 'tried setting bundledimage to frame:' + this$static.animation.currentframe + ' but its out of range');
  }
   else if (this$static.mode == 2) {
    if (this$static.currentFlipBook.children.size_0 > this$static.animation.currentframe) {
      $showWidget(this$static.currentFlipBook, this$static.animation.currentframe);
      !!this$static.animation.runThisOnFrameChange && $run_18(this$static.animation.runThisOnFrameChange);
    }
     else {
      $info_1(Log_10, 'tried setting flipbook to frame::' + this$static.animation.currentframe + ' but its out of range');
      $info_1(Log_10, ':range was' + this$static.flipBook.children.size_0);
    }
  }
   else {
    this$static.currentfilename = this$static.basefilename + '' + this$static.animation.currentframe + '.' + this$static.filenameext;
    $setUrl(this$static, this$static.currentfilename);
  }
}

function $setFrameGap(this$static, gap){
  this$static.animation.timerDelay = gap;
}

function $setFrames(this$static, SetFrames){
  var cp;
  this$static.Frames.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  $setFrametotal(this$static.animation, SetFrames.length - 1);
  for (cp = 0; cp < this$static.animation.lastFrameNum + 1; cp = cp + 1) {
    this$static.Frames.add_0(SetFrames[cp]);
  }
  $applyTo(dynamicCast($get(this$static.Frames, 0), 46), this$static.imageContents);
  $info_1(Log_10, 'just set up an image bundle');
}

function $setPixelSize_0(this$static, width_0, height){
  $changeInternalImagesTooFillContainer(this$static);
  width_0 >= 0 && (($clinit_DOM() , this$static.element).style['width'] = width_0 + 'px' , undefined);
  height >= 0 && (($clinit_DOM() , this$static.element).style['height'] = height + 'px' , undefined);
}

function $setSize_0(this$static, width_0, height){
  width_0 != '' || height != ''?$changeInternalImagesTooFillContainer(this$static):$changeInternalImagesTooNOTFillContainer(this$static);
  ($clinit_DOM() , this$static.element).style['width'] = width_0;
  this$static.element.style['height'] = height;
}

function $setURL(this$static, FileZeroLocation, NumOfFrames){
  var newbasefilename;
  newbasefilename = $substring_0(FileZeroLocation, 0, FileZeroLocation.lastIndexOf('.') - 1);
  $info_1(Log_10, '::::::::::::::::::::::::setting url to ' + newbasefilename + ' with frames ' + NumOfFrames);
  if (!$equalsIgnoreCase(newbasefilename, this$static.basefilename) || this$static.animation.lastFrameNum != NumOfFrames - 1) {
    $setupVariables(this$static, FileZeroLocation, NumOfFrames);
    if (NumOfFrames > 1) {
      if (!this$static.timer) {
        $info_1(Log_10, 'setting up timer');
        this$static.timer = new SpiffyAnimatedIcon$2(this$static);
      }
      this$static.mode == 3 && (this$static.mode = 0);
    }
    if (this$static.mode == 0 || this$static.mode == 3) {
      $info_1(Log_10, ':setting new url to ' + newbasefilename + ' then prefetching its frames');
      $setUrl_1(this$static.imageContents, FileZeroLocation);
      !!this$static.animation.runThisOnFrameChange && $run_18(this$static.animation.runThisOnFrameChange);
      $prefetchImages(this$static);
    }
     else if (this$static.mode == 2) {
      $fillDeckPanel(this$static);
      $info_1(Log_10, ':::::::::::::::::::::::panel filled running frame change actions:' + newbasefilename);
      !!this$static.animation.runThisOnFrameChange && $run_18(this$static.animation.runThisOnFrameChange);
    }
  }
}

function $setUrl(this$static, url_0){
  $setUrl_1(this$static.imageContents, url_0);
  !!this$static.animation.runThisOnFrameChange && $run_18(this$static.animation.runThisOnFrameChange);
}

function $setupVariables(this$static, FileZeroLocation, NumOfFrames){
  this$static.currentfilename = FileZeroLocation;
  $setFrametotal(this$static.animation, NumOfFrames - 1);
  this$static.basefilename = $substring_0(FileZeroLocation, 0, FileZeroLocation.lastIndexOf('.') - 1);
  this$static.originalfilename = $substring_0(FileZeroLocation, FileZeroLocation.lastIndexOf('/') + 1, FileZeroLocation.lastIndexOf('.'));
  this$static.filenameext = $substring(FileZeroLocation, FileZeroLocation.lastIndexOf('.') + 1);
  $info_1(Log_10, 'basefilename = ' + this$static.basefilename + ' originalfilename=' + this$static.originalfilename);
}

function SpiffyAnimatedIcon(){
  $clinit_SpiffyAnimatedIcon();
  $$init_3(this);
}

function SpiffyAnimatedIcon_0(SetFrames){
  $clinit_SpiffyAnimatedIcon();
  var cp;
  $$init_3(this);
  this.imageContents = $createImage(SetFrames[0]);
  this.contents = this.imageContents;
  $initWidget(this, this.imageContents);
  this.mode = 1;
  ($clinit_System() , out_0).print_0('\n adding icons:');
  this.currentfilename = '';
  $setFrametotal(this.animation, SetFrames.length - 1);
  for (cp = 0; cp < this.animation.lastFrameNum + 1; cp = cp + 1) {
    this.Frames.add_0(SetFrames[cp]);
  }
  $applyTo(dynamicCast($get(this.Frames, 0), 46), this.imageContents);
  this.timer = new SpiffyAnimatedIcon$2(this);
}

defineClass(331, $intern_42, $intern_43);
_.setPixelSize = function setPixelSize_0(width_0, height){
  $setPixelSize_0(this, width_0, height);
}
;
_.setPlayBack = function setPlayBack(){
  $setPlayBack(this.animation);
}
;
_.setPlayForward = function setPlayForward(){
  $setPlayForward(this.animation);
}
;
_.setPlayForwardThenBack = function setPlayForwardThenBack(){
  $setPlayForwardThenBack(this.animation);
}
;
_.setSize = function setSize_0(width_0, height){
  $setSize_0(this, width_0, height);
}
;
_.basefilename = '';
_.currentfilename = '';
_.filenameext = 'png';
_.internalPreloader = true;
_.mode = 0;
_.originalfilename = '';
var Log_10;
var Lcom_darkflame_client_SpiffyGWT_SpiffyAnimatedIcon_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'SpiffyAnimatedIcon', 331, Lcom_google_gwt_user_client_ui_Composite_2_classLit);
function $setFrame_0(this$static, currentframe){
  $setFrame(this$static.this$01, currentframe);
}

function SpiffyAnimatedIcon$1(this$0){
  $clinit_FramedAnimationManager();
  this.this$01 = this$0;
  this.animation_direction = ($clinit_FramedAnimationManager$animationDirection() , open_1);
  this.playuntill = 100 + this.lastFrameNum;
}

defineClass(653, 652, {97:1}, SpiffyAnimatedIcon$1);
var Lcom_darkflame_client_SpiffyGWT_SpiffyAnimatedIcon$1_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'SpiffyAnimatedIcon/1', 653, Lcom_darkflame_client_SpiffyCore_FramedAnimationManager_2_classLit);
function SpiffyAnimatedIcon$2(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(282, 61, {}, SpiffyAnimatedIcon$2);
_.run = function run_6(){
  $checkAnimationFrame(this.this$01.animation);
}
;
var Lcom_darkflame_client_SpiffyGWT_SpiffyAnimatedIcon$2_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'SpiffyAnimatedIcon/2', 282, Lcom_google_gwt_user_client_Timer_2_classLit);
function $clinit_SpiffyPreloader(){
  $clinit_SpiffyPreloader = emptyMethod;
  Log_11 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyPreloader'));
  new ArrayList;
  new ArrayList;
  LoadingList_0 = new ArrayList;
  CurrentlyLoadingList = new HashMap;
  LoadingWidgets = new ArrayList;
  PostCommands = new HashMap;
}

function addToLoading(URL_0){
  $clinit_SpiffyPreloader();
  if (URL_0.length < 5) {
    $severe_0(Log_11, 'URL TOTALLY TOO SHORT TO BE REAL MAN:' + URL_0);
    return false;
  }
  if ($indexOf_0(LoadingList_0, URL_0, 0) == -1) {
    LoadingList_0.add_0(URL_0);
    $info_1(Log_11, 'Added this URL to loading ' + URL_0);
    return true;
  }
  return false;
}

function addToLoading_0(URL_0, doThisWhenLoaded){
  $clinit_SpiffyPreloader();
  if (URL_0.length < 5) {
    $severe_0(Log_11, 'URL TOTALLY TOO SHORT TO BE REAL MAN:' + URL_0);
    return false;
  }
  if (CurrentlyLoadingList.size_1() > 0) {
    if ($contains_3(new AbstractMap$2(CurrentlyLoadingList), URL_0)) {
      $warning_0(Log_11, 'currently loading specified URL already (' + URL_0 + ')');
      return false;
    }
  }
  if ($indexOf_0(LoadingList_0, URL_0, 0) != -1) {
    $warning_0(Log_11, 'url was already on list of things to load (' + URL_0 + ')');
  }
   else {
    LoadingList_0.add_0(URL_0);
    PostCommands.put(URL_0, doThisWhenLoaded);
    return true;
  }
  return false;
}

function preloadList(){
  $clinit_SpiffyPreloader();
  var LoadThis, i, requestedURL;
  $info_1(Log_11, 'STARTING TO PRELOAD LIST ');
  $info_1(Log_11, 'DEBUG MODE =  false');
  if (CurrentlyLoadingList.size_1() > 0) {
    $info_1(Log_11, 'Still have ' + CurrentlyLoadingList.size_1() + ' things which are currently loading');
    $info_1(Log_11, 'They are:' + CurrentlyLoadingList.toString$());
    return;
  }
  $info_1(Log_11, '_-_-_-_-_-_ FIREFOX NEVER GETS HERE??!?!?!');
  OnLoadHandler = new SpiffyPreloader$1;
  OnErrorHandler = new SpiffyPreloader$2;
  if (LoadingList_0.array.length < 1) {
    $info_1(Log_11, 'no images to load');
    return;
  }
  $info_1(Log_11, '-loading images:');
  i = 0;
  while (i < 6) {
    ++i;
    LoadThis = new Image_0;
    $addHandler(LoadThis, OnLoadHandler, ($clinit_LoadEvent() , $clinit_LoadEvent() , TYPE_9));
    $addHandler(LoadThis, OnErrorHandler, ($clinit_ErrorEvent() , $clinit_ErrorEvent() , TYPE_4));
    $add_8(($clinit_RootPanel() , get_14(null)), LoadThis, -12000, -12000);
    $setId(($clinit_DOM() , LoadThis.element), '_PRELOADERPANEL_');
    setStylePrimaryName(LoadThis.element, 'hiddenImagePanel');
    LoadingWidgets.add_0(LoadThis);
    if (LoadingList_0.array.length == 0) {
      $info_1(Log_11, 'Nothing left in loading list to start loading');
      break;
    }
    requestedURL = dynamicCastToString($get(LoadingList_0, 0));
    $remove_0(LoadingList_0, requestedURL);
    $setUrl_0(LoadThis, ($clinit_UriUtils() , new SafeUriString(requestedURL)));
    $info_1(Log_11, 'ABOUT TO ADD TO CURRENTLYLOADINGLIST ');
    CurrentlyLoadingList.put(LoadThis, requestedURL);
    $info_1(Log_11, 'In the process of Loading:' + $toString_0(new AbstractMap$2(CurrentlyLoadingList)));
    $info_1(Log_11, 'This is added to CurrentlyLoadingList (take 3): ' + requestedURL);
    PostCommands.put(LoadThis.state.getUrl(LoadThis).uri_0, dynamicCast(PostCommands.get_2(requestedURL), 363));
    $info_1(Log_11, '-=-loading:' + requestedURL);
  }
}

function tidyOurMess(){
  $clinit_SpiffyPreloader();
  var imageToRemove, imageToRemove$iterator;
  for (imageToRemove$iterator = new AbstractList$IteratorImpl(LoadingWidgets); imageToRemove$iterator.i < imageToRemove$iterator.this$01_0.size_1();) {
    imageToRemove = (checkCriticalElement(imageToRemove$iterator.i < imageToRemove$iterator.this$01_0.size_1()) , dynamicCast(imageToRemove$iterator.this$01_0.get_0(imageToRemove$iterator.last = imageToRemove$iterator.i++), 43));
    $removeFromParent(imageToRemove);
  }
  LoadingWidgets.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
}

var CurrentlyLoadingList, LoadingList_0, LoadingWidgets, Log_11, OnErrorHandler, OnLoadHandler, PostCommands;
function SpiffyPreloader$1(){
}

defineClass(1127, 1, $intern_44, SpiffyPreloader$1);
_.onLoad_0 = function onLoad_2(event_0){
  var Commands, LoadThis, justLoaded, requestedURL, wasRemoved;
  $info_1(($clinit_SpiffyPreloader() , Log_11), 'onLoad done');
  LoadThis = dynamicCast(event_0.source, 43);
  justLoaded = LoadThis.state.getUrl(LoadThis).uri_0;
  $info_1(Log_11, 'Just Loaded:' + justLoaded);
  wasRemoved = dynamicCastToString(CurrentlyLoadingList.remove_3(LoadThis));
  $info_1(Log_11, 'Just removed: ' + wasRemoved + ', CurrentlyLoadingList now:' + CurrentlyLoadingList.size_1());
  Commands = dynamicCast(PostCommands.get_2(justLoaded), 363);
  !!Commands && ($info_1(($clinit_SceneData() , Log_52), ' file ' + justLoaded + ' loaded(or failed) so we subtract 1 from the loading') , $advanceLoading_0(Commands.this$01.scenesWidget));
  if (LoadingList_0.array.length == 0) {
    if (CurrentlyLoadingList.size_1() == 0) {
      $info_1(Log_11, '(tidying up after preloader)');
      tidyOurMess();
    }
    $info_1(Log_11, '(nothing left to start loading in preloader, things currently loading =' + $toString_0(new AbstractMap$2(CurrentlyLoadingList)) + ')');
    return;
  }
  requestedURL = dynamicCastToString($get(LoadingList_0, 0));
  $info_1(Log_11, '-=-Loading next:' + requestedURL);
  $setUrl_0(LoadThis, ($clinit_UriUtils() , new SafeUriString(requestedURL)));
  $remove_0(LoadingList_0, requestedURL);
  $info_1(Log_11, 'ABOUT TO ADD TO CURRENTLYLOADINGLIST ');
  CurrentlyLoadingList.put(LoadThis, requestedURL);
  PostCommands.put(LoadThis.state.getUrl(LoadThis).uri_0, dynamicCast(PostCommands.get_2(requestedURL), 363));
}
;
var Lcom_darkflame_client_SpiffyGWT_SpiffyPreloader$1_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'SpiffyPreloader/1', 1127, Ljava_lang_Object_2_classLit);
function SpiffyPreloader$2(){
}

defineClass(1128, 1, $intern_45, SpiffyPreloader$2);
_.onError_0 = function onError_1(event_0){
  var Commands, LoadThis, justFailedToLoad, requestedURL;
  LoadThis = dynamicCast(event_0.source, 43);
  justFailedToLoad = LoadThis.state.getUrl(LoadThis).uri_0;
  $info_1(($clinit_SpiffyPreloader() , Log_11), 'Just Failed to Load:' + justFailedToLoad);
  CurrentlyLoadingList.remove_3(LoadThis);
  Commands = dynamicCast(PostCommands.get_2(justFailedToLoad), 363);
  !!Commands && ($info_1(($clinit_SceneData() , Log_52), ' file ' + justFailedToLoad + ' loaded(or failed) so we subtract 1 from the loading') , $advanceLoading_0(Commands.this$01.scenesWidget));
  if (LoadingList_0.array.length == 0) {
    return;
  }
  requestedURL = dynamicCastToString($get(LoadingList_0, 0));
  $info_1(Log_11, '-=-Started Loading this after error:' + requestedURL);
  $setUrl_0(LoadThis, ($clinit_UriUtils() , new SafeUriString(requestedURL)));
  $remove_0(LoadingList_0, requestedURL);
  $info_1(Log_11, 'ABOUT TO ADD TO CURRENTLYLOADINGLIST ');
  CurrentlyLoadingList.put(LoadThis, requestedURL);
  $info_1(Log_11, 'In the process of Loading:' + $toString_0(new AbstractMap$2(CurrentlyLoadingList)));
  $info_1(Log_11, 'This was added to the LoadingList (take2): ' + requestedURL);
  PostCommands.put(LoadThis.state.getUrl(LoadThis).uri_0, dynamicCast(PostCommands.get_2(requestedURL), 363));
}
;
var Lcom_darkflame_client_SpiffyGWT_SpiffyPreloader$2_2_classLit = createForClass('com.darkflame.client.SpiffyGWT', 'SpiffyPreloader/2', 1128, Ljava_lang_Object_2_classLit);
function $clinit_SpiffyGWTLzma(){
  $clinit_SpiffyGWTLzma = emptyMethod;
  Log_12 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyGWTLzma'));
}

function CompressString(compressthis, runWhenAllDone, updateRunnable){
  $clinit_SpiffyGWTLzma();
  var chunkToCompress, pieces, runWhenDone;
  UpdateRunnable = updateRunnable;
  pieces = splitToBitsOfLength(compressthis, 200000);
  $info_1(Log_12, 'will split to ' + pieces.array.length + ' pieces, with the first bit starting with ' + (checkElementIndex(0, pieces.array.length) , dynamicCastToString(pieces.array[0])).substr(0, 10));
  runWhenDone = new SpiffyGWTLzma$1(pieces, runWhenAllDone);
  chunkToCompress = (checkElementIndex(0, pieces.array.length) , dynamicCastToString(pieces.array[0]));
  pieces.remove_0(0);
  $scheduleIncremental(($clinit_SchedulerImpl() , INSTANCE_2), new SpiffyGWTLzma$2(chunkToCompress, runWhenDone));
}

function DecompressString(string, runWhenAllDone){
  $clinit_SpiffyGWTLzma();
  var ccarray, chunkToDeCompress, compressedChunks, runWhenDone;
  UpdateRunnable = null;
  ccarray = $split_0(string, '~~~', 0);
  compressedChunks = new ArrayList_1(new Arrays$ArrayList(ccarray));
  $info_1(Log_12, 'number of chunks found in compressed string;' + compressedChunks.array.length);
  $info_1(Log_12, 'chunk 0 size;' + $length((checkElementIndex(0, compressedChunks.array.length) , dynamicCastToString(compressedChunks.array[0]))));
  runWhenDone = new SpiffyGWTLzma$3(compressedChunks, runWhenAllDone);
  chunkToDeCompress = (checkElementIndex(0, compressedChunks.array.length) , dynamicCastToString(compressedChunks.array[0]));
  compressedChunks.remove_0(0);
  $info_1(Log_12, 'decompressChunk 0');
  decompressChunk(chunkToDeCompress, runWhenDone);
}

function decompressChunk(string, runWhenDone){
  $clinit_SpiffyGWTLzma();
  var data_0;
  data_0 = getDataToDecompress(string);
  data_0 == null && $severe_0(Log_12, '-----------------------------(decompression error in save string see above)');
  $severe_0(Log_12, '-----------------------------(starting decomp)');
  $scheduleIncremental(($clinit_SchedulerImpl() , INSTANCE_2), new SpiffyGWTLzma$4(data_0, runWhenDone));
}

function getDataToDecompress(gamedata){
  var b, ch_0, digit, gothi, hinib, i;
  b = new ByteArrayOutputStream;
  gothi = false;
  hinib = 0;
  for (i = 0; i < gamedata.length; i++) {
    ch_0 = gamedata.charCodeAt(i);
    if ($indexOf_2(' \t\f\n\r', fromCodePoint(ch_0)) != -1)
      continue;
    digit = digit_1(ch_0, 16);
    if (digit == -1) {
      $severe_0(Log_12, 'invalid compressed input: invalid hex character `' + charToString(ch_0) + "'");
      return null;
    }
    gothi?($ensureCapacity(b, b.count + 1) , b.buf[b.count++] = narrow_byte((hinib << 4) + digit)):(hinib = digit);
    gothi = !gothi;
  }
  if (gothi) {
    $severe_0(Log_12, 'invalid compressed input: odd number of digits');
    return null;
  }
  return $toByteArray(b);
}

function prettyPrint(data_0){
  $clinit_SpiffyGWTLzma();
  var b, buf, i;
  buf = new StringBuilder;
  for (i = 0; i < data_0.length; i++) {
    b = data_0[i] & 255;
    $append_3(buf, forDigit(b >> 4));
    $append_3(buf, forDigit(b & 15));
    buf.string += ' ';
  }
  return buf.string;
}

function splitToBitsOfLength(text_0, csize){
  $clinit_SpiffyGWTLzma();
  var bits, i, numOfBits, textchunk;
  numOfBits = ~~((text_0.length + csize - 1) / csize);
  bits = new ArrayList_0(numOfBits);
  for (i = 0; i < text_0.length; i += csize) {
    textchunk = $substring_0(text_0, i, min_1(text_0.length, i + csize));
    bits.add_0(textchunk);
  }
  return bits;
}

function updateProgress(update){
  $clinit_SpiffyGWTLzma();
  !!UpdateRunnable && $setText_1(($clinit_SaveGameManager() , compressedlink), ' ( ' + ($clinit_GamesInterfaceTextCore() , MainGame_Compressing) + ' ' + update + ') ');
  $info_1(Log_12, 'Decompressing... ' + update + '%');
}

var Log_12, UpdateRunnable;
function $run_0(this$static, result){
  var chunkToCompress;
  this$static.allCompressedChunks = this$static.allCompressedChunks + result + '~~~';
  $info_1(($clinit_SpiffyGWTLzma() , Log_12), 'got result');
  if (this$static.val$pieces1.array.length > 0) {
    chunkToCompress = dynamicCastToString($get(this$static.val$pieces1, 0));
    this$static.val$pieces1.remove_0(0);
    $info_1(Log_12, 'starting next chunk');
    $scheduleIncremental(($clinit_SchedulerImpl() , INSTANCE_2), new SpiffyGWTLzma$2(chunkToCompress, this$static));
  }
   else {
    $info_1(Log_12, 'finnished all chunks');
    this$static.val$runWhenAllDone2.run_0(this$static.allCompressedChunks);
  }
}

function SpiffyGWTLzma$1(val$pieces, val$runWhenAllDone){
  this.val$pieces1 = val$pieces;
  this.val$runWhenAllDone2 = val$runWhenAllDone;
}

defineClass(632, 1, {}, SpiffyGWTLzma$1);
_.run_0 = function run_7(result){
  $run_0(this, result);
}
;
_.allCompressedChunks = '';
var Lcom_darkflame_client_SpiffyGWTLzma$1_2_classLit = createForClass('com.darkflame.client', 'SpiffyGWTLzma/1', 632, Ljava_lang_Object_2_classLit);
function SpiffyGWTLzma$2(val$compressthis, val$runWhenDone){
  this.val$compressthis1 = val$compressthis;
  this.val$runWhenDone2 = val$runWhenDone;
}

defineClass(429, 1, {}, SpiffyGWTLzma$2);
_.execute_0 = function execute_5(){
  var cstring, pcent;
  if (!this.c) {
    this.c = new LZMAByteArrayCompressor(encode(this.val$compressthis1), ($clinit_CompressionMode() , MODE_1));
    $info_1(($clinit_SpiffyGWTLzma() , Log_12), 'set up new compressor pcent=' + $getProgress(this.c));
    return true;
  }
  if ($execute_2(this.c)) {
    pcent = round_int($getProgress(this.c) * 100);
    $info_1(($clinit_SpiffyGWTLzma() , Log_12), 'compresseing pcent=' + pcent);
    !!UpdateRunnable && $setText_1(($clinit_SaveGameManager() , compressedlink), ' ( ' + ($clinit_GamesInterfaceTextCore() , MainGame_Compressing) + ' ' + (' ' + pcent + ' % ') + ') ');
    $info_1(Log_12, 'Decompressing... ' + (' ' + pcent + ' % ') + '%');
    return true;
  }
  cstring = prettyPrint($toByteArray(this.c.output));
  $run_0(this.val$runWhenDone2, cstring);
  return false;
}
;
var Lcom_darkflame_client_SpiffyGWTLzma$2_2_classLit = createForClass('com.darkflame.client', 'SpiffyGWTLzma/2', 429, Ljava_lang_Object_2_classLit);
function $run_1(this$static, result){
  var chunkToDeCompress;
  this$static.allUnCompressedChunks = this$static.allUnCompressedChunks + result;
  $info_1(($clinit_SpiffyGWTLzma() , Log_12), 'got dec result');
  if (this$static.val$compressedChunks1.array.length > 0) {
    chunkToDeCompress = dynamicCastToString($get(this$static.val$compressedChunks1, 0));
    this$static.val$compressedChunks1.remove_0(0);
    $info_1(Log_12, 'starting to decomp next chunk');
    $info_1(Log_12, 'next chunk=' + chunkToDeCompress);
    decompressChunk(chunkToDeCompress, this$static);
  }
   else {
    $info_1(Log_12, 'finnished decompressinging all chunks');
    $run_23(this$static.val$runWhenAllDone2, this$static.allUnCompressedChunks);
  }
}

function SpiffyGWTLzma$3(val$compressedChunks, val$runWhenAllDone){
  this.val$compressedChunks1 = val$compressedChunks;
  this.val$runWhenAllDone2 = val$runWhenAllDone;
}

defineClass(633, 1, {}, SpiffyGWTLzma$3);
_.run_0 = function run_8(result){
  $run_1(this, result);
}
;
_.allUnCompressedChunks = '';
var Lcom_darkflame_client_SpiffyGWTLzma$3_2_classLit = createForClass('com.darkflame.client', 'SpiffyGWTLzma/3', 633, Ljava_lang_Object_2_classLit);
function SpiffyGWTLzma$4(val$data, val$runWhenDone){
  this.val$data1 = val$data;
  this.val$runWhenDone2 = val$runWhenDone;
}

defineClass(634, 1, {}, SpiffyGWTLzma$4);
_.execute_0 = function execute_6(){
  var e, ioe, text_0;
  if (!this.d) {
    try {
      this.d = new LZMAByteArrayDecompressor(this.val$data1);
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 173)) {
        e = $e0;
        updateProgress('Decompression failed: ' + e.detailMessage);
        $severe_0(($clinit_SpiffyGWTLzma() , Log_12), 'Decompression failed: ' + e.detailMessage);
        return false;
      }
       else 
        throw unwrap($e0);
    }
    return true;
  }
  if ($execute_3(this.d)) {
    return true;
  }
  ioe = this.d.exception;
  if (ioe) {
    updateProgress('Decompression failed: ' + ioe.detailMessage);
    $severe_0(($clinit_SpiffyGWTLzma() , Log_12), '--------Decompression failed: ' + ioe.detailMessage);
    return false;
  }
  try {
    text_0 = decode($toByteArray(this.d.output));
    $clinit_SpiffyGWTLzma();
    !!UpdateRunnable && $setText_1(($clinit_SaveGameManager() , compressedlink), ' ( ' + ($clinit_GamesInterfaceTextCore() , MainGame_Compressing) + ' ' + 'Decompression fragment done ' + ') ');
    $info_1(Log_12, 'Decompressing... Decompression fragment done %');
  }
   catch ($e1) {
    $e1 = wrap($e1);
    if (instanceOf($e1, 44)) {
      e = $e1;
      updateProgress('Decompression failed: ' + e.detailMessage);
      $severe_0(($clinit_SpiffyGWTLzma() , Log_12), '--------Decompression failed: ' + e.detailMessage);
      return false;
    }
     else 
      throw unwrap($e1);
  }
  $info_1(($clinit_SpiffyGWTLzma() , Log_12), '-----------------------------(runWhenDone)');
  $run_1(this.val$runWhenDone2, text_0);
  return false;
}
;
var Lcom_darkflame_client_SpiffyGWTLzma$4_2_classLit = createForClass('com.darkflame.client', 'SpiffyGWTLzma/4', 634, Ljava_lang_Object_2_classLit);
function $clinit_SpiffyImageUtilitys(){
  $clinit_SpiffyImageUtilitys = emptyMethod;
  Log_13 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyImageUtilitys'));
  SmallArrow = new Image_4(smallArrowDataURL);
  SmallArrowWithPlus = new Image_4(SmallArrowWithPlusURL);
}

function drawTriangle(context2D, c1, c2, c3){
  $beginPath(context2D);
  $moveTo(context2D, c1.x_0, c1.y_0);
  $lineTo(context2D, c2.x_0, c2.y_0);
  $lineTo(context2D, c3.x_0, c3.y_0);
  $fill(context2D);
  context2D.closePath();
}

function getCroppedCharValue(val){
  val = val - 65;
  val > 70 && (val = 70);
  val < 0 && (val = 0);
  return val;
}

function getDataURLFromImage(image, optionalAdditionalImage){
  $clinit_SpiffyImageUtilitys();
  var additionalImagemageContent, canvas, dataurl, drawplane, imageContent;
  canvas = createIfSupported();
  if (!canvas) {
    $info_1(Log_13, 'no canvas supported');
    return null;
  }
  ($clinit_DOM() , canvas.element).style['width'] = '32px';
  $setWidth_2(canvas.element, 64);
  canvas.element.style['height'] = '32px';
  $setHeight_1(canvas.element, 64);
  drawplane = canvas.element.getContext('2d');
  imageContent = image.element;
  if (imageContent) {
    $drawImage_0(drawplane, imageContent, 0, 0, 64, 64);
    if (optionalAdditionalImage) {
      additionalImagemageContent = optionalAdditionalImage.element;
      if (additionalImagemageContent) {
        $info_1(Log_13, 'adding additional image');
        (additionalImagemageContent.clientHeight | 0) > 64 || (additionalImagemageContent.clientWidth | 0) > 64?$drawImage_0(drawplane, additionalImagemageContent, 0, 0, 64, 64):(drawplane.drawImage(additionalImagemageContent, 0, 0) , undefined);
      }
    }
  }
   else {
    $info_1(Log_13, 'can not get source image data....is it attached to the dom and loaded?');
    return null;
  }
  dataurl = canvas.element.toDataURL('image/png');
  return dataurl;
}

function getDataURLFromString(text_0){
  var h, w, context2D, dat, tempcanvas, tempcontext, h_0, w_0, context2D_0, dat_0, tempcanvas_0, tempcontext_0;
  $clinit_SpiffyImageUtilitys();
  var HexColour, Hex_Blue, Hex_Green, Hex_Red, RGB_data, a, aa, canvas, color_0, context, corner1x, corner1y, corner2x, corner2y, corner3x, corner3y, d, dataurl, hue, i, letters, raw, xPos, yPos;
  canvas = createIfSupported();
  if (!canvas) {
    $info_1(Log_13, 'no canvas supported');
    return null;
  }
  ($clinit_DOM() , canvas.element).style['width'] = '100px';
  canvas.element.style['height'] = '100px';
  $setHeight_1(canvas.element, 100);
  $setWidth_2(canvas.element, 100);
  context = canvas.element.getContext('2d');
  text_0.length < 14 && (text_0 = text_0 + text_0.toUpperCase());
  letters = getBytesUtf8(text_0);
  if (letters.length > 3) {
    for (i = 0; i + 3 <= letters.length; i = i + 3) {
      raw = letters[i];
      aa = getCroppedCharValue(raw);
      a = aa * $intern_46;
      yPos = round_int(Math.floor(a / 10));
      xPos = round_int(a % 10);
      corner1x = xPos * 10;
      corner1y = yPos * 10;
      $setFillStyleWeb(context, 'blue');
      $setGlobalAlpha(context, 0.5);
      raw = letters[i + 1];
      aa = getCroppedCharValue(raw);
      a = aa * $intern_46;
      yPos = round_int(Math.floor(a / 10));
      xPos = round_int(a % 10);
      corner2x = xPos * 10;
      corner2y = yPos * 10;
      $setGlobalAlpha(context, 0.9);
      raw = letters[i + 2];
      aa = getCroppedCharValue(raw);
      a = aa * $intern_46;
      yPos = round_int(Math.floor(a / 10));
      xPos = round_int(a % 10);
      corner3x = xPos * 10;
      corner3y = yPos * 10;
      d = letters[i + 3];
      hue = getCroppedCharValue(d);
      color_0 = hue * $intern_46;
      RGB_data = HSL_2_RGB(color_0, 85, 55);
      Hex_Red = toUnsignedRadixString(RGB_data.v1, 16);
      Hex_Red.length == 1 && (Hex_Red = '0' + Hex_Red);
      Hex_Green = toUnsignedRadixString(RGB_data.v2, 16);
      Hex_Green.length == 1 && (Hex_Green = '0' + Hex_Green);
      Hex_Blue = toUnsignedRadixString(RGB_data.vH, 16);
      Hex_Blue.length == 1 && (Hex_Blue = '0' + Hex_Blue);
      HexColour = '#' + Hex_Red + Hex_Green + Hex_Blue;
      $setFillStyleWeb(context, HexColour);
      $setGlobalAlpha(context, 0.6);
      drawTriangle(context, new Point(corner1x, corner1y), new Point(corner2x, corner2y), new Point(corner3x, corner3y));
    }
  }
  h = canvas.element.height;
  w = canvas.element.width;
  context2D = canvas.element.getContext('2d');
  $setFillStyleWeb(context2D, 'red');
  $fillRect(context2D, 0, 0, -11, 11);
  dat = context2D.getImageData(0, 0, w, ~~(h / 2));
  tempcanvas = createIfSupported();
  tempcontext = tempcanvas.element.getContext('2d');
  w >= 0 && (tempcanvas.element.style['width'] = w + 'px' , undefined);
  ~~(h / 2) >= 0 && (tempcanvas.element.style['height'] = ~~(h / 2) + 'px' , undefined);
  $setHeight_1(tempcanvas.element, ~~(h / 2));
  $setWidth_2(tempcanvas.element, w);
  tempcontext.fillRect(0, 0, w, ~~(h / 2));
  tempcontext.putImageData(dat, 0, 0);
  $save(context2D);
  $scale(context2D, 1, -1);
  $clearRect(context2D, 0, -tempcanvas.element.height, tempcanvas.element.width, -tempcanvas.element.height);
  $drawImage(context2D, tempcanvas.element, 0, -tempcanvas.element.height * 2);
  $restore(context2D);
  h_0 = canvas.element.height;
  w_0 = canvas.element.width;
  context2D_0 = canvas.element.getContext('2d');
  $setFillStyleWeb(context2D_0, 'red');
  $fillRect(context2D_0, 0, 0, -11, 11);
  dat_0 = context2D_0.getImageData(0, 0, ~~(w_0 / 2), h_0);
  tempcanvas_0 = createIfSupported();
  tempcontext_0 = tempcanvas_0.element.getContext('2d');
  ~~(w_0 / 2) >= 0 && (tempcanvas_0.element.style['width'] = ~~(w_0 / 2) + 'px' , undefined);
  h_0 >= 0 && (tempcanvas_0.element.style['height'] = h_0 + 'px' , undefined);
  $setHeight_1(tempcanvas_0.element, h_0);
  $setWidth_2(tempcanvas_0.element, ~~(w_0 / 2));
  tempcontext_0.fillRect(0, 0, ~~(w_0 / 2), h_0);
  tempcontext_0.putImageData(dat_0, 0, 0);
  $save(context2D_0);
  $scale(context2D_0, -1, 1);
  $clearRect(context2D_0, -tempcanvas_0.element.width, 0, -tempcanvas_0.element.width, tempcanvas_0.element.height);
  $drawImage(context2D_0, tempcanvas_0.element, -tempcanvas_0.element.width * 2, 0);
  $restore(context2D_0);
  dataurl = canvas.element.toDataURL('image/png');
  return dataurl;
}

var Log_13, SmallArrow, SmallArrowWithPlus, SmallArrowWithPlusURL = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAkCAYAAADl9UilAAAAK3RFWHRDcmVhdGlvbiBUaW1lAHdvIDI1IGRlYyAyMDEzIDEyOjQ3OjAzICswMTAwdUOOvgAAAAd0SU1FB+AEDQcyI5ci/LkAAAAJcEhZcwAAD18AAA9fAdeK2skAAAAEZ0FNQQAAsY8L/GEFAAAIBklEQVR42rVYC1BU1xk+d9/sAi64oJKgCGIsoPhoasyoIYUaYxs1xRanps1krbVMJjGVxnFsHYZMoqY1kxhroxPEkaRAEhVqGq2BDYZHIrtBkJcJiMjq7vJY98Vjl33d/v9yL97dLIpx+898c+895+y53/0f3zlnKfPVqzQBszsc3woEglq73a7R9fWpH1+/vguasc9Lxs3LPLMgQa4hM2qwtXWwq6dHcdtsJksXLqSlYWEUdrjd7uExl6vO4XCooU/9rzNnGt89fnyIIchFINnQEBtobS3q7O7+zcqNG8V8Pp8sXLCAPLZsGXls6VLyk8WL6VkzZviI0jTtcTqdnUD2q+GREXVze/uXW158UQtdHgZc7z44se9qa3NiFYqylIwMYujv/96A+Lg48mh6+jhZQEpyMg0fQF3v7X1l2dq1H8KQMYALnczx4INb7vPPz7rd3j722+xsbkgmxX9LSjymjo6+ubNnL4PnuYAYQDhABODhx4bKa9FajabmTGGh+16kFqem0lgspwsL0VOZgCWABJwDEAbgh4oYfiGvV6erWrl8OYHEv+vgV7Ztw1wb+1N+fis8xgLkACnHW7xQeQsnokvLy6uFAgE/a9WqSQdirv0iK4u+cPFil1anQzIRHFL8UJJiiXn+efKkzmqzXV/75JOTVhXkIuHxeN43jxxBfQtjCLFhC7lc+IgB3IaBgYs/z8z0oGQEWmREBIHi8DS1tVlAJuwMIVYePMRfz0JGDCd1apqbVUBA+GOQhkADsSUdnZ1kSVqafPtzzz1MxuWBhTuAXMhMDJgOmG9obja/9uqrQSsSCoO+UFLiBqlw79+z5xy0KQE/BTwCUJAQVyVOImQmlV+pqjpMUdTaRZmZInbAL59+mliHhoiqrs5Xte8dOECvX7OGKj9//iPlzp3HYYgecBuAy5UTvWe0Dfyh+YZ6i9M95mbnmR2TqEmLX7LrfsjhV8oAsz4+dmwH6hSI54SnyouK6Ks1Ne5oudz3DDlInzx0yIvjYHwhtD1K/LVMYBoybs9+6wl63svSCVS3na++H1I8hgDmiOuto0e/9Hq9zg1r1vg6USIyVqwgM2Ni+Idff92XPx6Ph4CnqLOff07/bPXqrRVFRRjSaczHYVoIpMJwvUwS7uG+yO6yy8gdrbtnuFntwcR1NzQ1WcxW6+V1WVmY1ES5ebNv8S4qK+tZl5lJvZCTQ7jk/n3hAnlixYo/VpaVvUzGxRaXJonJZLLMUSSauS9yOEfDGeLCqZBjPeYjhl7r7u39AhZtYez06SRnwwZvY0tLf15BQVvD5csDb+ze7YUwT5DbmpdHik+dIlDJyq8//TQfmqOQnFqttkTLFA7ui6yjlnCmPxLJk3sIMpeYL5wfnz1bhR1/27uXzIqN5ZVWVLTAo02Zl1cnEgqtJ95+28tqHZLbAePeKy4mC+bNy2bJ5ebm2qJkCj+x7rfqJUqlMo2MV7CU3KOCuaxxItfx0lKtbWioe8NTT6F+GT84fRqJGfV9fbrd+/bVp6ek8P66Y4ffJHv27/cjZzAYIuXSaDt3jN58UxYXF5fEeA2JCaZCjOs1Z7/R6Kugr775RuNyuQbhdgDQV1hScqnm0qXGl5RKejlsJO9GzuV0ubj9xqEBafT0qBlsHk6VGOsxzLMxWHoqseFocXEFXJAY7iANiO27dn0A1xuFBw96cKkKJPfO+++T+YmJ2VHiyHhun87USxKXxmOByMidChYyBL+3M+Ey5pE7YhvZWVd3bP7KlQeYSSjGm3iVnP3s1EupP0rO0N7SUfUatd8MINAkKSGBpC1KJRvfWT3RFSaSkfK82p5bAzdbIEc9PD5F04SmxPwwB4+iaJFI7JwpffgvMTEx6AAfW9bYcGII7DsLCnYzbaMcYmgSt9jr2fbhFsrjdZOg1gyub/TvsztHyNZjG3HHOzfYT2bKHyKvbTqMpPYiD0FAv4cN538qK/uYXBBy+pCg6OZVw+n4qLmP13eppOQ+TGfS3rXvxmBXBhM5Lzeu7M7AVwD4kYBhgA1gJeNrId7bCvILatalb9LfD6mpWFNvwzzQQJQTKlDkuGI7xpAbZWBnn1HZ4+WJ3SKBOKTEKjQlsa6I4VzkERhK1mvs3gqv3F0qxbSRW536Iye3fTYDzpoiuTQ8QSwUSdu+/Y64YO+WnppCxrxu97OHVvnNf+7PjUO3DNpBkVg0JpFIHEKh0IW7YopH0VA0PsAbfOotCEKce+wPtvHzkf31ppyv4forQOyilJQF1Z988vc5vGnyak09L2NOmrOqux1zdDb3h5eu1Hf+7pnfH4LbG4DrABMZL7bA/d+k6xU7gOs57j1Ohmsh5qC5paOj5x8nThQlxMfzXoCFv7ah4ZrZYjXLZdH+s/JpipMaTiZlgu6Ap3KyoQPuJ7ZJZDznsChM+QcPVsJ54AscVFhaWmOz2AwycbjfRAIhT8h8jJP5/aSHnx9y5GLJsQUyArAAjLAVevdKR4fqnErVNGKydz0UPcfvh6OeYUwddrfLHrCDmoD8MAtGjt+j1ZKM7Ox9cC8V8IXTIsPkbu47BCIhhrKPGe/8fxBDY8PAhpRtQ6Jher2eUiQrMGzyiV9QNAqymSHF/kMU1B709Bws3/DFg9euXeuGA8god7DeohVBu4zc+WdoUgsFMTakLDn0klWlUhmmSaOd3MGmYaMkKSkpgkzh/PkgoeSSIxwv4BVziUqMTe5+Y/MRq084wSIkkXgsDJ/KpP8DEjqo9EFVIGEAAAAASUVORK5CYII=', smallArrowDataURL = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAkCAYAAADo6zjiAAAALHRFWHRDcmVhdGlvbiBUaW1lAFdlZCAyNSBEZWMgMjAxMyAxMjo0NzowMyArMDEwMDHtGSAAAAAHdElNRQfdDBoJEh4VComUAAAACXBIWXMAAA9gAAAPYAF6eEWNAAAABGdBTUEAALGPC/xhBQAABoBJREFUeNqtVwlMlEcUnr2UoyAqIKgQjFov0EW0GIsWhKZQG2Nr4lWrFbHWmCpqtNE2IaltvY0araFZSDFcqa62NalaRS6LHCLYXUABV9Gu3CwisOzF3/eWGfh3WYSFTvJld+afmfe9c2YEmooKjkDTdnU9EovFuVqttkhdV1e4eMWKKhjGb92kp3XTPgOx8Wt3EzQqFI1VT5+6N2s0ZH5AAOfk6CjAD0ajsV1nMNzt6uoqhG+FKVeuFJ9NSHhNifBhTco+Ag0KRWLlkyfrQ1auHC0SiUjAzJlkUVAQWTR/PnlHKuW8J0wwE+I4zqTX6yuBVF57R0dhaVlZ9qc7djyHTyYKvrWGTuBxbu4aT3f39NmhoaS2vr7fBJ+JE8nCefN6SAFmT5/OAVGBqqYmNigyMhmm6AAGNBrPIkNv2zdt8m4uK9N9tmoV35QD4kZqqqmlvLxuiq9vEPSnADwAbwFGAYSolL1WGPe8qCjnikxmHEy4dM4cDoNWLpOh5uGAQIAf7gFwBIjsJYCMhTVq9e2Q4GACAfjGybFbt2Is6HbHxSmg6wlwAzjxtBfaqz0u4NKuXs2UiMWiiCVLBpyIsfBRRAR3Myur6rlajUJdeMJFwxHOCJh+SkpSv2prU0WGhQ0YxRArRCgUdh89f76KmnsUz9zDTkMzAYCxtqEha3l4uAlT0bq5urgQCFJTiVLZCumnpYJZ2pmIZT2wmwAu1heVlmaAIMkCSDnrBkWJlFdWkkB/f7dtGzZMJj1px2C0ImF3Gw0YD3i7trRU892+fTYzAAKUu5maaoQUNB4+ePBPGIsGLAPMALiTYWYBNglaGeD78Pbt3//JyNDxBX8SFcWFh4T0kkg6c6YbUzHx1Kl0GHsfMAfgBXCme9kdjCK62PvX+PhduDkUmV4CVxMTuYqcHOM4NzdzH2KklwTMl8HYQmJZC8T2ksDJDmjG4MBAKVbF2JgYszBIPXPhQaScO9cbaHwSvyUmXoAxDBwf0lMXHIidaYkTR9HFftV5eff+Sk/Xo6C4PXs49PnJuDgVCtu8Zg3HJ/HL6dNmcrfS0xNgLAAweTgkBNRsWM8n3UxL+wE39Rw/nivPzjbB5moY/+NGSkr9y5ISE989SOLMoUNmEveuXbs8EhJC6j/PLevWheGGTLvotWuvw3jyRC8veZNS2ZIll2OtsMiQHw8cGDEJnIDpOBYwtaawsBo3xMuKRCI5CmOnAWdj1q+/huPoGmKVpoOQYIEpsCWYEMuqpq9vasrEwbz794sMBkMj/G0A1MlSU/Nz8vOLv4qO5oLhwsJvBw8fJhcuXiQzp01bBSTiqDIulICER8BmnRBQU+Hh4hl/7Nhq1CYqLOwL6G8CbAFsBkR7eXjsAleoFHfuGKFy9rMEWgfXKjMzs8e4urLsGEuGkKLMDWg238q7d9H37wE+BCwHRAKiAB+DK77H7Eg4edJm1fxy40YzCZhzeYyLi5T0T9FeK1ifPMxEgqcvXhRUqlR48GBl7AS0Azqw/0ChaF4wd67r8oiIGVUqFamorrbY5P7Dh8R30iQyd9as2UaTSZlbUFBH+s4Mi7ujwIZwCbWEI89/hC7G71gzxjo6OHj/W1z8dadWGwRXeNGLly8tSVy/bnJ2dm6YtXTpbuiqaRy1UGV0lATH9wfHE4SFSEu1bgO8Arym/xEt8I5o3LhzZxqcD7qfjx/n+Mc4nB1kqp+fKFkuL6L+H0P67hAWN6f+h3//rEDTsWOXf/MVwHtCC4LEH4SGSuFBQ/IfPDAvhtOSm+Lj07R2+/a/IYs6Kfl2qpSO7sNZW4AJZsKZYL3VL4sJtIRm2/798upnz5TfxsbipdV8dYsACyRdulTb0dnJXCscQMkBLWBNppv33/rSISgoKan+fPXqJWGLF4+GNBVI/f0NMXv35ra2tWmQJPV9K7VEF88CbyTAjwvr65YFifrGRqOzk1M7uOJduDWRrLy8x/HJyQpqpWaKVuoGvguGdFBYC+ZobBioT1GrlrgTJ27BffEOTpKlpeXAT5OV5lq6xsTbZ1ALDEbM4mEKZfoRPN88vjlyJIP01AwN1b6FWkNL+gK5x38jIMDSCVMLSzhe69xI32MFWycloaEEsK/nkxaPgADTgrmCjaGP2RML/7eTPt+beNYjIyXANmLxwPp6KlBA+tKWRT7zf2/7PwgQujnro1B29LJ6wtDv8TKSGLDehxUc/rnPr6g2X07/ATynYc3eG83gAAAAAElFTkSuQmCC';
function $makeTextWithBackground(textContents){
  var container;
  container = new SimplePanel;
  container.setSize('100%', '100%');
  container.setWidget(textContents);
  return container;
}

function SpiffyLabel(helpIcon){
  var overallContainer;
  this.textContents = new Label;
  overallContainer = new HorizontalPanel;
  $setText_0(this.textContents, 'Commands:');
  $setSize(this.textContents, '100%', '100%');
  this.backgroundPanel = $makeTextWithBackground(this.textContents);
  ($clinit_DOM() , overallContainer.element).style['width'] = 'auto';
  overallContainer.element.style['height'] = 'auto';
  $add_4(overallContainer, this.backgroundPanel);
  $add_4(overallContainer, helpIcon);
  $setStylePrimaryName(this.backgroundPanel, 'SpiffyLabelBackground');
  $setStylePrimaryName(this.textContents, 'SpiffyLabelText');
  $initWidget(this, overallContainer);
}

defineClass(1445, $intern_42, $intern_43, SpiffyLabel);
var Lcom_darkflame_client_SpiffyLabel_2_classLit = createForClass('com.darkflame.client', 'SpiffyLabel', 1445, Lcom_google_gwt_user_client_ui_Composite_2_classLit);
function $addChangeHandler(this$static, changeHandler){
  this$static.onSelected = changeHandler;
}

function $addItem(this$static, name_0, value_0){
  var newLabel;
  if (!this$static.allowDuplicates.value_0) {
    if ($indexOf_0(this$static.FieldNames, name_0, 0) != -1) {
      return;
    }
  }
  if (this$static.FieldNames.array.length == 0) {
    $setText_0(this$static.header, name_0);
    this$static.CurrentSelectNum = 0;
  }
  newLabel = new SpiffyListBox$selectableLabel(this$static, name_0);
  $setStylePrimaryName(newLabel, Default_Label_Style);
  this$static.FieldNames.add_0(name_0);
  this$static.FieldValues.add_0(value_0);
  this$static.FieldLabels.add_0(newLabel);
  $add_5(this$static.ListContainer, newLabel);
}

function $clear_1(this$static){
  this$static.FieldNames.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  this$static.FieldValues.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  this$static.FieldLabels.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  $clear(this$static.ListContainer);
  this$static.CurrentSelectNum = 0;
}

function $getItemText(this$static, Item){
  return dynamicCastToString($get(this$static.FieldNames, Item));
}

function $getValue(this$static, Item){
  return dynamicCastToString($get(this$static.FieldValues, Item));
}

function $setItemSelected(this$static, ItemNum){
  this$static.CurrentSelectNum = ItemNum;
  this$static.visibleitems == 1 && $setText_0(this$static.header, dynamicCastToString($get(this$static.FieldNames, this$static.CurrentSelectNum)));
}

function $setItemSelected_0(this$static, ItemNum){
  this$static.CurrentSelectNum = ItemNum;
  this$static.visibleitems == 1 && $setText_0(this$static.header, dynamicCastToString($get(this$static.FieldNames, this$static.CurrentSelectNum)));
}

function $setWidth_1(this$static, width_0){
  ($clinit_DOM() , this$static.element).style['width'] = width_0;
  $setWidth(this$static.ListContainer, width_0);
  $setWidth(this$static.header, width_0);
}

function SpiffyListBox(){
  SimplePanel.call(this);
  this.DropDownContainer = new DisclosurePanel;
  this.ListContainer = new VerticalPanel;
  this.ScrollContainer = new ScrollPanel;
  this.FieldNames = new ArrayList;
  this.FieldValues = new ArrayList;
  this.FieldLabels = new ArrayList;
  this.mouseCatcher = new FocusPanel;
  this.CurrentSelectedLab = new Label_1('  ');
  this.CurrentSelectNum = 0;
  this.visibleitems = 1;
  this.hoverStyleName = 'SpiffylistHoverStyle';
  this.header = this.CurrentSelectedLab;
  this.allowDuplicates = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  $setWidget(this, this.DropDownContainer);
  $setHeader(this.DropDownContainer, this.header);
  $setStylePrimaryName(this.header, 'TitleLabel');
  $add_2(this.ScrollContainer, this.ListContainer);
  this.mouseCatcher.add_2(this.ScrollContainer);
  $setContent(this.DropDownContainer, this.mouseCatcher);
  $setStylePrimaryName(this.DropDownContainer, 'SpiffyTextBox');
  this.DropDownContainer.isAnimationEnabled = true;
}

defineClass(339, 29, $intern_14, SpiffyListBox);
_.clear_1 = function clear_6(){
  $clear_1(this);
}
;
_.setWidth = function setWidth_1(width_0){
  $setWidth_1(this, width_0);
}
;
_.CurrentSelectNum = 0;
_.visibleitems = 0;
var Default_Label_Style = 'gwt-Button1';
var Lcom_darkflame_client_SpiffyListBox_2_classLit = createForClass('com.darkflame.client', 'SpiffyListBox', 339, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function LabelBase(element){
  $setElement_0(this, ($clinit_DOM() , element));
  this.directionalTextHelper = new DirectionalTextHelper(this.element);
}

defineClass(327, 7, $intern_12);
var Lcom_google_gwt_user_client_ui_LabelBase_2_classLit = createForClass('com.google.gwt.user.client.ui', 'LabelBase', 327, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $setDirection(this$static, direction){
  $setDirection_0(this$static.directionalTextHelper, direction);
}

function $setText_0(this$static, text_0){
  $setTextOrHtml(this$static.directionalTextHelper, text_0, false);
}

function Label(){
  LabelBase.call(this, $doc.createElement('div'));
  $setClassName(($clinit_DOM() , this.element), 'gwt-Label');
}

function Label_0(element){
  LabelBase.call(this, element, $equalsIgnoreCase('span', element.tagName));
}

function Label_1(text_0){
  Label.call(this);
  $setTextOrHtml(this.directionalTextHelper, text_0, false);
}

function Label_2(text_0){
  Label_1.call(this, text_0);
  ($clinit_DOM() , this.element).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'nowrap');
}

defineClass(5, 327, $intern_47, Label, Label_1, Label_2);
_.addClickHandler = function addClickHandler_2(handler){
  return $addDomHandler(this, handler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}
;
_.addMouseDownHandler = function addMouseDownHandler_1(handler){
  return $addDomHandler(this, handler, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
}
;
_.addMouseOutHandler = function addMouseOutHandler_1(handler){
  return $addDomHandler(this, handler, ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
}
;
_.addMouseOverHandler = function addMouseOverHandler_1(handler){
  return $addDomHandler(this, handler, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
}
;
_.addTouchStartHandler = function addTouchStartHandler_1(handler){
  return $addDomHandler(this, handler, ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
}
;
var Lcom_google_gwt_user_client_ui_Label_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Label', 5, Lcom_google_gwt_user_client_ui_LabelBase_2_classLit);
function SpiffyListBox$selectableLabel(this$0, name_0){
  this.this$01 = this$0;
  Label.call(this);
  $setTextOrHtml(this.directionalTextHelper, name_0, false);
  $addDomHandler(this, new SpiffyListBox$selectableLabel$SelectableLabelHandeler(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this, new SpiffyListBox$selectableLabel$SelectableLabelMouseOverHandeler(this), ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
  $addDomHandler(this, new SpiffyListBox$selectableLabel$SelectableLabelMouseOutHandeler(this), ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
}

defineClass(824, 5, $intern_47, SpiffyListBox$selectableLabel);
var Lcom_darkflame_client_SpiffyListBox$selectableLabel_2_classLit = createForClass('com.darkflame.client', 'SpiffyListBox/selectableLabel', 824, Lcom_google_gwt_user_client_ui_Label_2_classLit);
function SpiffyListBox$selectableLabel$SelectableLabelHandeler(this$1){
  this.this$11 = this$1;
}

defineClass(825, 1, $intern_17, SpiffyListBox$selectableLabel$SelectableLabelHandeler);
_.onClick = function onClick_4(event_0){
  var Position_0, current;
  current = dynamicCast(event_0.source, 5);
  Position_0 = $indexOf_0(this.this$11.this$01.FieldLabels, current, 0);
  $setText_0(this.this$11.this$01.header, $getTextOrHtml(current.directionalTextHelper, false));
  this.this$11.this$01.CurrentSelectNum = Position_0;
  this.this$11.this$01.visibleitems == 1 && $setOpen(this.this$11.this$01.DropDownContainer, false);
  !!this.this$11.this$01.onSelected && this.this$11.this$01.onSelected.onChange(null);
}
;
var Lcom_darkflame_client_SpiffyListBox$selectableLabel$SelectableLabelHandeler_2_classLit = createForClass('com.darkflame.client', 'SpiffyListBox/selectableLabel/SelectableLabelHandeler', 825, Ljava_lang_Object_2_classLit);
function SpiffyListBox$selectableLabel$SelectableLabelMouseOutHandeler(this$1){
  this.this$11 = this$1;
}

defineClass(827, 1, $intern_16, SpiffyListBox$selectableLabel$SelectableLabelMouseOutHandeler);
_.onMouseOut = function onMouseOut_3(event_0){
  var current;
  current = dynamicCast(event_0.source, 5);
  $removeStyleName(current, this.this$11.this$01.hoverStyleName);
}
;
var Lcom_darkflame_client_SpiffyListBox$selectableLabel$SelectableLabelMouseOutHandeler_2_classLit = createForClass('com.darkflame.client', 'SpiffyListBox/selectableLabel/SelectableLabelMouseOutHandeler', 827, Ljava_lang_Object_2_classLit);
function SpiffyListBox$selectableLabel$SelectableLabelMouseOverHandeler(this$1){
  this.this$11 = this$1;
}

defineClass(826, 1, $intern_15, SpiffyListBox$selectableLabel$SelectableLabelMouseOverHandeler);
_.onMouseOver = function onMouseOver_1(event_0){
  var current;
  current = dynamicCast(event_0.source, 5);
  $addStyleName(current, this.this$11.this$01.hoverStyleName);
}
;
var Lcom_darkflame_client_SpiffyListBox$selectableLabel$SelectableLabelMouseOverHandeler_2_classLit = createForClass('com.darkflame.client', 'SpiffyListBox/selectableLabel/SelectableLabelMouseOverHandeler', 826, Ljava_lang_Object_2_classLit);
function $add_5(this$static, w){
  var td, tr;
  tr = ($clinit_DOM() , $doc.createElement('tr'));
  td = $createAlignedTd_0(this$static);
  $appendChild(tr, resolve(td));
  $appendChild(this$static.body_0, resolve(tr));
  $add_3(this$static, w, td);
}

function $createAlignedTd_0(this$static){
  var td;
  td = ($clinit_DOM() , $doc.createElement('td'));
  $setCellHorizontalAlignment(td, this$static.horzAlign);
  $setCellVerticalAlignment(td, this$static.vertAlign);
  return td;
}

function $insert_1(this$static, w, beforeIndex){
  var td, tr;
  $checkIndexBoundsForInsertion(this$static, beforeIndex);
  tr = ($clinit_DOM() , $doc.createElement('tr'));
  td = $createAlignedTd_0(this$static);
  $appendChild(tr, resolve(td));
  insertChild(this$static.body_0, tr, beforeIndex);
  $insert(this$static, w, td, beforeIndex, false);
}

function $setHorizontalAlignment_0(this$static, align_0){
  this$static.horzAlign = align_0;
}

function $setVerticalAlignment_0(this$static, align_0){
  this$static.vertAlign = align_0;
}

function VerticalPanel(){
  CellPanel.call(this);
  this.horzAlign = ($clinit_HasHorizontalAlignment() , ALIGN_DEFAULT);
  this.vertAlign = ($clinit_HasVerticalAlignment() , ALIGN_TOP);
  $setPropertyString(($clinit_DOM() , this.table), 'cellSpacing', '0');
  $setPropertyString(this.table, 'cellPadding', '0');
}

defineClass(28, 425, $intern_48, VerticalPanel);
_.add_2 = function add_11(w){
  $add_5(this, w);
}
;
_.insert = function insert_0(w, beforeIndex){
  $insert_1(this, w, beforeIndex);
}
;
_.remove_1 = function remove_8(w){
  var removed, td;
  td = ($clinit_DOM() , $clinit_DOM() , $getParentElement(w.element));
  removed = $remove_4(this, w);
  removed && $removeChild(this.body_0, (null , $getParentElement(td)));
  return removed;
}
;
var Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'VerticalPanel', 28, Lcom_google_gwt_user_client_ui_CellPanel_2_classLit);
function $clinit_SpiffyLoadingIcon(){
  $clinit_SpiffyLoadingIcon = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'JAM.SpiffyLoadingIcon');
}

function $addStyleNameToLoadingMessage(this$static){
  $addStyleName(this$static.LoadingMessage, 'LoadingMessageStyle');
  $addStyleName(this$static.LoadingTime, 'LoadingMessageStyle');
  $addStyleName(this$static.progressLab, 'LoadingMessageStyle');
}

function $getColorFromCSS(){
  var color_0, colorFound, tempDiv;
  tempDiv = new SimplePanel;
  setStylePrimaryName(tempDiv.getStyleElement(), 'LoadingFillStyle');
  $add_8(($clinit_RootPanel() , get_14(null)), tempDiv, 0, 0);
  color_0 = getStyleProperty(($clinit_DOM() , tempDiv.element), 'color');
  colorFound = color_0;
  $removeFromParent(tempDiv);
  return colorFound;
}

function $setDefaultLoadingMessage(this$static, text_0){
  $setText_0(this$static.LoadingTime, text_0);
}

function $setLoadingMessages_0(this$static, loadingMessages){
  this$static.loadingMessages = loadingMessages;
}

function $setTotalUnits(this$static, setTotalUnitsToLoad){
  this$static.TotalUnitsToLoad = setTotalUnitsToLoad;
}

function $stepClockForward(this$static){
  var currentMessage, current_message_number, ratioComplete;
  ++this$static.currentStep;
  $setText_0(this$static.progressLab, ':' + this$static.currentStep + ' / ' + this$static.TotalUnitsToLoad + ':');
  ratioComplete = new Double(this$static.currentStep / this$static.TotalUnitsToLoad);
  this$static.ANG = ratioComplete.value_0 * $intern_49;
  $beginPath(this$static.drawplane);
  $setFillStyleWeb(this$static.drawplane, this$static.fillcolor);
  $setStrokeStyleWeb(this$static.drawplane, this$static.strokecolor);
  $moveTo(this$static.drawplane, ~~(this$static.width_0 / 2), ~~(this$static.height_0 / 2));
  $arc(this$static.drawplane, ~~(this$static.width_0 / 2), ~~(this$static.height_0 / 2), ~~(this$static.width_0 / 2), $intern_50, this$static.ANG - 1.5707963267948966, false);
  $lineTo(this$static.drawplane, ~~(this$static.width_0 / 2), ~~(this$static.height_0 / 2));
  $stroke(this$static.drawplane);
  $fill(this$static.drawplane);
  if (this$static.ANG > $intern_49) {
    this$static.ANG = 0;
    $clearRect(this$static.drawplane, 0, 0, $getCoordinateSpaceWidth(this$static.icon), $getCoordinateSpaceHeight(this$static.icon));
    this$static.currentStep = 0;
  }
  if (this$static.debugData) {
    this$static.currentTime_0 = ($clinit_System() , sub_0(fromDouble(now_1()), this$static.startTime));
    $setText_0(this$static.LoadingTime, 'Time:' + toString_50(this$static.currentTime_0) + '');
  }
  if (this$static.loadingMessages != null) {
    current_message_number = round_int(floor_0(ratioComplete.value_0 * this$static.loadingMessages.length));
    currentMessage = this$static.loadingMessages[current_message_number];
    $setText_0(this$static.LoadingMessage, currentMessage);
  }
}

function SpiffyLoadingIcon(){
  $clinit_SpiffyLoadingIcon();
  VerticalPanel.call(this);
  this.width_0 = 100;
  this.height_0 = 100;
  this.xpadding = 220;
  this.ypadding = 70;
  this.icon = createIfSupported();
  this.maine = $getCanvasElement(this.icon);
  this.drawplane = this.maine.getContext('2d');
  this.ANG = $intern_50;
  this.autoRun = true;
  this.TotalUnitsToLoad = 0;
  this.currentStep = 0;
  this.progressLab = new Label_1('');
  this.debugData = true;
  this.LoadingTime = new Label_1('Loading loading time...');
  this.startTime = {l:0, m:0, h:0};
  this.currentTime_0 = {l:0, m:0, h:0};
  this.strokecolor = 'rgb(0,0,150)';
  this.fillcolor = 'rgb(0,0,150)';
  this.LoadingMessage = new Label_1('...');
  this.autoRun = false;
  if (!this.icon) {
    return;
  }
  $setSize(this, this.width_0 + this.xpadding + 'px', this.height_0 + this.ypadding + 'px');
  $setWidth(this.icon, this.width_0 + 'px');
  $setHeight(this.icon, this.height_0 + 'px');
  $setCoordinateSpaceWidth(this.icon, this.width_0);
  $setCoordinateSpaceHeight(this.icon, this.height_0);
  $setHorizontalAlignment_0(this, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_5(this, this.icon);
  $add_5(this, this.progressLab);
  $add_5(this, this.LoadingTime);
  $add_5(this, this.LoadingMessage);
  this.startTime = ($clinit_System() , fromDouble(now_1()));
  $setVisible(this.progressLab, false);
  this.clock = new SpiffyLoadingIcon$1(this);
}

function getStyleProperty(el, prop){
  var computedStyle;
  document.defaultView && document.defaultView.getComputedStyle?(computedStyle = document.defaultView.getComputedStyle(el, null)[prop]):el.currentStyle?(computedStyle = el.currentStyle[prop]):(computedStyle = el.style[prop]);
  return computedStyle;
}

defineClass(1348, 28, $intern_48, SpiffyLoadingIcon);
_.onAttach = function onAttach_2(){
  this.ANG = $intern_50;
  this.autoRun && $scheduleRepeating(this.clock, 200);
  $onAttach(this);
  this.startTime = ($clinit_System() , fromDouble(now_1()));
}
;
_.setPixelSize = function setPixelSize_1(x_0, y_0){
  this.width_0 = x_0;
  this.height_0 = y_0;
  $setSize(this, this.width_0 + this.xpadding + 'px', this.height_0 + this.ypadding + 'px');
  $setWidth(this.icon, this.width_0 + 'px');
  $setHeight(this.icon, this.height_0 + 'px');
  $setCoordinateSpaceWidth(this.icon, this.width_0);
  $setCoordinateSpaceHeight(this.icon, this.height_0);
}
;
_.ANG = 0;
_.TotalUnitsToLoad = 0;
_.autoRun = false;
_.currentStep = 0;
_.currentTime_0 = {l:0, m:0, h:0};
_.debugData = false;
_.height_0 = 0;
_.startTime = {l:0, m:0, h:0};
_.width_0 = 0;
_.xpadding = 0;
_.ypadding = 0;
var Lcom_darkflame_client_SpiffyLoadingIcon_2_classLit = createForClass('com.darkflame.client', 'SpiffyLoadingIcon', 1348, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function SpiffyLoadingIcon$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1349, 61, {}, SpiffyLoadingIcon$1);
_.run = function run_9(){
  this.this$01.ANG = this.this$01.ANG + 0.1;
  $beginPath(this.this$01.drawplane);
  $setFillStyleWeb(this.this$01.drawplane, this.this$01.fillcolor);
  $setStrokeStyleWeb(this.this$01.drawplane, this.this$01.strokecolor);
  $moveTo(this.this$01.drawplane, ~~(this.this$01.width_0 / 2), ~~(this.this$01.height_0 / 2));
  $arc(this.this$01.drawplane, ~~(this.this$01.width_0 / 2), ~~(this.this$01.height_0 / 2), ~~(this.this$01.width_0 / 2), $intern_50, this.this$01.ANG, false);
  $lineTo(this.this$01.drawplane, ~~(this.this$01.width_0 / 2), ~~(this.this$01.height_0 / 2));
  $stroke(this.this$01.drawplane);
  $fill(this.this$01.drawplane);
  if (this.this$01.ANG > 4.71238898038469) {
    this.this$01.ANG = $intern_50;
    $clearRect(this.this$01.drawplane, 0, 0, $getCoordinateSpaceWidth(this.this$01.icon), $getCoordinateSpaceHeight(this.this$01.icon));
  }
  if (this.this$01.debugData) {
    this.this$01.currentTime_0 = ($clinit_System() , sub_0(fromDouble(now_1()), this.this$01.startTime));
    $setText_0(this.this$01.LoadingTime, ':' + toString_50(this.this$01.currentTime_0) + ':');
  }
}
;
var Lcom_darkflame_client_SpiffyLoadingIcon$1_2_classLit = createForClass('com.darkflame.client', 'SpiffyLoadingIcon/1', 1349, Lcom_google_gwt_user_client_Timer_2_classLit);
function SpiffyLogBox(){
  SimplePanel.call(this);
  this.Overall = new VerticalPanel;
  this.loglist = new VerticalPanel;
  this.logScroller = new ScrollPanel;
  this.controls = new HorizontalPanel;
  this.clear_0 = new Button('clear');
  this.TimeStart = {l:0, m:0, h:0};
  $add_4(this.controls, this.clear_0);
  $add_5(this.Overall, this.controls);
  $add_5(this.Overall, this.logScroller);
  $setSize_1(this.logScroller, '100%', '100%');
  $add_2(this.logScroller, this.loglist);
  $getElement(this.loglist).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'pre');
  $add_2(this, this.Overall);
  $addDomHandler(this.clear_0, new SpiffyLogBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}

defineClass(335, 29, $intern_14, SpiffyLogBox);
_.addControl = function addControl(addThis){
  $add_1(this.controls, addThis);
}
;
_.addWidgetToList = function addWidgetToList(addThis){
  $add_1(this.loglist, addThis);
}
;
_.error_0 = function error_0(logThis){
  var newEntry;
  newEntry = new SpiffyLogBox$logEntry_0(logThis, '#EE0000');
  $add_5(this.loglist, newEntry);
  $scrollToBottom(this.logScroller);
}
;
_.info_0 = function info_0(logThis){
  var newEntry;
  newEntry = new SpiffyLogBox$logEntry(logThis);
  $add_5(this.loglist, newEntry);
  $scrollToBottom(this.logScroller);
}
;
_.log_0 = function log_1(logThis){
  var newEntry;
  newEntry = new SpiffyLogBox$logEntry(logThis);
  $add_5(this.loglist, newEntry);
  $scrollToBottom(this.logScroller);
}
;
_.log_1 = function log_2(logThis, color_0){
  var newEntry;
  newEntry = new SpiffyLogBox$logEntry_0(logThis, color_0);
  $add_5(this.loglist, newEntry);
  $scrollToBottom(this.logScroller);
}
;
_.logTimer = function logTimer(label_0){
  var newEntry;
  newEntry = new SpiffyLogBox$logEntry_1(this, label_0);
  $add_5(this.loglist, newEntry);
  $scrollToBottom(this.logScroller);
}
;
_.setBackgroundColour = function setBackgroundColour(string){
  ($clinit_DOM() , this.element).style['backgroundColor'] = 'white';
}
;
_.setPixelSize = function setPixelSize_2(w, h){
  w >= 0 && (($clinit_DOM() , this.element).style['width'] = w + 'px' , undefined);
  h >= 0 && (($clinit_DOM() , this.element).style['height'] = h + 'px' , undefined);
  $setPixelSize(this.logScroller, w, h - $getOffsetHeight(this.controls));
}
;
_.settimer = function settimer(){
  this.TimeStart = ($clinit_System() , fromDouble(now_1()));
}
;
_.TimeStart = {l:0, m:0, h:0};
var Lcom_darkflame_client_SpiffyLogBox_2_classLit = createForClass('com.darkflame.client', 'SpiffyLogBox', 335, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function SpiffyLogBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(772, 1, $intern_17, SpiffyLogBox$1);
_.onClick = function onClick_5(event_0){
  $clear(this.this$01.loglist);
}
;
var Lcom_darkflame_client_SpiffyLogBox$1_2_classLit = createForClass('com.darkflame.client', 'SpiffyLogBox/1', 772, Ljava_lang_Object_2_classLit);
function SpiffyLogBox$SpiffyDummyLogBox(){
  this.dummydiv = new SimplePanel;
}

defineClass(336, 1, $intern_51, SpiffyLogBox$SpiffyDummyLogBox);
_.addControl = function addControl_0(button){
}
;
_.addWidgetToList = function addWidgetToList_0(addThis){
}
;
_.asWidget = function asWidget_0(){
  return this.dummydiv;
}
;
_.error_0 = function error_1(logthis){
}
;
_.info_0 = function info_1(logthis){
}
;
_.log_0 = function log_3(logthis){
}
;
_.log_1 = function log_4(logthis, color_0){
}
;
_.logTimer = function logTimer_0(lab){
}
;
_.setBackgroundColour = function setBackgroundColour_0(string){
}
;
_.setPixelSize = function setPixelSize_3(i, j){
  this.dummydiv.setPixelSize(i, j);
}
;
_.settimer = function settimer_0(){
}
;
var Lcom_darkflame_client_SpiffyLogBox$SpiffyDummyLogBox_2_classLit = createForClass('com.darkflame.client', 'SpiffyLogBox/SpiffyDummyLogBox', 336, Ljava_lang_Object_2_classLit);
function $$init_4(this$static){
  this$static.contentLabel = new Label_1('');
}

function SpiffyLogBox$logEntry(contents){
  HorizontalPanel.call(this);
  $$init_4(this);
  $setText_0(this.contentLabel, contents);
  $add_4(this, this.contentLabel);
}

function SpiffyLogBox$logEntry_0(contents, color_0){
  HorizontalPanel.call(this);
  $$init_4(this);
  $setText_0(this.contentLabel, contents);
  $setPropertyImpl($getElement(this.contentLabel).style, 'color', color_0);
  $add_4(this, this.contentLabel);
}

function SpiffyLogBox$logEntry_1(this$0, label_0){
  var timer;
  HorizontalPanel.call(this);
  $$init_4(this);
  timer = ($clinit_System() , sub_0(fromDouble(now_1()), this$0.TimeStart));
  $setText_0(this.contentLabel, label_0 + ':' + toString_50(timer));
  $add_4(this, this.contentLabel);
}

defineClass(285, 34, $intern_22, SpiffyLogBox$logEntry, SpiffyLogBox$logEntry_0, SpiffyLogBox$logEntry_1);
var Lcom_darkflame_client_SpiffyLogBox$logEntry_2_classLit = createForClass('com.darkflame.client', 'SpiffyLogBox/logEntry', 285, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function $clinit_SpiffyOverlay(){
  $clinit_SpiffyOverlay = emptyMethod;
  $clinit_FocusPanel();
  Log_14 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyOverlay'));
}

function $setCSS(this$static, css){
  $info_1(Log_14, 'setting css to ' + css);
  $setClassName(($clinit_DOM() , this$static.element), css);
}

function $setMoveOverEventsEnabled(this$static, enabled){
  $info_1(Log_14, 'setting events ONMOUSEMOVE on/off');
  enabled?this$static.eventsToSink == -1?sinkEvents_0(($clinit_DOM() , this$static.element), 64 | (this$static.element.__eventBits || 0)):(this$static.eventsToSink |= 64):this$static.eventsToSink == -1?sinkEvents_0(($clinit_DOM() , this$static.element), (this$static.element.__eventBits || 0) & -65):(this$static.eventsToSink &= -65);
}

function SpiffyOverlay(){
  $clinit_SpiffyOverlay();
  FocusPanel.call(this);
  this.lastTarget = null;
  $setClassName(($clinit_DOM() , this.element), 'defaultOverlayStyle');
  this.element.style['width'] = '100%';
  this.element.style['height'] = '100%';
  this.eventsToSink == -1?sinkEvents_0(this.element, 262267 | (this.element.__eventBits || 0)):(this.eventsToSink |= 262267);
}

defineClass(501, 142, $intern_19, SpiffyOverlay);
_.onBrowserEvent = function onBrowserEvent_1(event_0){
  var clickedElement, elementBehind, eventcopy, rollout, rollover, x_0, y_0;
  $clinit_DOM();
  $eventCancelBubble(event_0, true);
  $eventPreventDefault(event_0);
  x_0 = $eventGetSubPixelClientX(event_0) | 0;
  y_0 = $eventGetSubPixelClientY(event_0) | 0;
  clickedElement = $eventGetCurrentTarget(event_0);
  $setPropertyImpl(clickedElement.style, 'visibility', ($clinit_Style$Visibility() , 'hidden'));
  elementBehind = $wnd.document.elementFromPoint(x_0, y_0);
  $setPropertyImpl(clickedElement.style, 'visibility', 'visible');
  if (elementBehind != this.lastTarget && !!this.lastTarget && !!elementBehind) {
    rollout = $createMouseEvent($doc, 'mouseout', true, true, $eventGetTypeInt(event_0.type), $eventGetSubPixelScreenX(event_0) | 0, $eventGetSubPixelScreenY(event_0) | 0, $eventGetSubPixelClientX(event_0) | 0, $eventGetSubPixelClientY(event_0) | 0, $eventGetCtrlKey(event_0), $eventGetAltKey(event_0), $eventGetShiftKey(event_0), $eventGetMetaKey(event_0), $eventGetButton(event_0), this.lastTarget);
    $dispatchEvent(this.lastTarget, rollout);
    this.lastTarget = null;
    rollover = $createMouseEvent($doc, 'mouseover', true, true, $eventGetTypeInt(event_0.type), $eventGetSubPixelScreenX(event_0) | 0, $eventGetSubPixelScreenY(event_0) | 0, $eventGetSubPixelClientX(event_0) | 0, $eventGetSubPixelClientY(event_0) | 0, $eventGetCtrlKey(event_0), $eventGetAltKey(event_0), $eventGetShiftKey(event_0), $eventGetMetaKey(event_0), $eventGetButton(event_0), clickedElement);
    $dispatchEvent(clickedElement, rollover);
  }
  eventcopy = $createMouseEvent($doc, event_0.type, true, true, $eventGetTypeInt(event_0.type), $eventGetSubPixelScreenX(event_0) | 0, $eventGetSubPixelScreenY(event_0) | 0, $eventGetSubPixelClientX(event_0) | 0, $eventGetSubPixelClientY(event_0) | 0, $eventGetCtrlKey(event_0), $eventGetAltKey(event_0), $eventGetShiftKey(event_0), $eventGetMetaKey(event_0), $eventGetButton(event_0), event_0.relatedTarget);
  if (elementBehind) {
    $dispatchEvent(elementBehind, eventcopy);
    this.lastTarget = elementBehind;
  }
}
;
var Log_14;
var Lcom_darkflame_client_SpiffyOverlay_2_classLit = createForClass('com.darkflame.client', 'SpiffyOverlay', 501, Lcom_google_gwt_user_client_ui_FocusPanel_2_classLit);
function SpiffyPopupWithShadow$1(this$0){
  this.this$01 = this$0;
}

defineClass(1433, 1, $intern_15, SpiffyPopupWithShadow$1);
_.onMouseOver = function onMouseOver_2(event_0){
  $setResource(this.this$01.closeX, ($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$Close_overInitializer() , $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator() , Close_over));
}
;
var Lcom_darkflame_client_SpiffyPopupWithShadow$1_2_classLit = createForClass('com.darkflame.client', 'SpiffyPopupWithShadow/1', 1433, Ljava_lang_Object_2_classLit);
function SpiffyPopupWithShadow$2(this$0){
  this.this$01 = this$0;
}

defineClass(1434, 1, $intern_16, SpiffyPopupWithShadow$2);
_.onMouseOut = function onMouseOut_4(event_0){
  $setResource(this.this$01.closeX, ($clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$CloseInitializer() , $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator() , Close_0));
}
;
var Lcom_darkflame_client_SpiffyPopupWithShadow$2_2_classLit = createForClass('com.darkflame.client', 'SpiffyPopupWithShadow/2', 1434, Ljava_lang_Object_2_classLit);
function SpiffyPopupWithShadow$3(this$0){
  this.this$01 = this$0;
}

defineClass(1435, 1, $intern_17, SpiffyPopupWithShadow$3);
_.onClick = function onClick_6(event_0){
  $info_1(($clinit_SpiffyPopupWithShadow() , Log_8), 'closing popup');
  $hide(this.this$01);
}
;
var Lcom_darkflame_client_SpiffyPopupWithShadow$3_2_classLit = createForClass('com.darkflame.client', 'SpiffyPopupWithShadow/3', 1435, Ljava_lang_Object_2_classLit);
function $clinit_SpiffyResources(){
  $clinit_SpiffyResources = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'SpiffyResources');
}

function $clinit_SpiffySaveToLocalStorage(){
  $clinit_SpiffySaveToLocalStorage = emptyMethod;
  Log_15 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffySaveToLocalStorage'));
}

function $SaveData(this$static, SaveGameName, SaveGaveData, Overwrite){
  var OverallPrefix, existingData;
  $info_1(Log_15, 'Saving name:' + SaveGameName);
  $info_1(Log_15, 'Saving data:' + SaveGaveData);
  existingData = $getItem(this$static.localStorage_0, SaveGameName);
  if (!(existingData == null || existingData == '')) {
    $severe_0(Log_15, 'Save data already exists');
    if (!Overwrite) {
      $severe_0(Log_15, 'Overwrite Not True, exiting');
      return;
    }
  }
  OverallPrefix = 'Save_' + this$static.CURRENTGAME_PREFIX + '_';
  $equals_5(__substr(SaveGameName, 0, OverallPrefix.length), OverallPrefix) || (SaveGameName = OverallPrefix + SaveGameName);
  $setItem(this$static.localStorage_0, SaveGameName, SaveGaveData);
  $populateCurrentStoredData(this$static);
}

function $clickedOnKey(this$static, key){
  $info_1(Log_15, 'clicked on :' + key);
  this$static.currentmode == 0 && $save_0(this$static.RunOnSaveRequest, key);
  this$static.currentmode == 1 && $load(this$static.RunOnLoadRequest, $getItem(this$static.localStorage_0, key));
}

function $keyExists(this$static, name_0){
  var OverallPrefix;
  if ($getItem(this$static.localStorage_0, name_0) != null) {
    return true;
  }
  OverallPrefix = 'Save_' + this$static.CURRENTGAME_PREFIX + '_';
  $equals_5(__substr(name_0, 0, OverallPrefix.length), OverallPrefix) || (name_0 = OverallPrefix + name_0);
  if ($getItem(this$static.localStorage_0, name_0) != null) {
    return true;
  }
  return false;
}

function $populateCurrentStoredData(this$static){
  var OverallPrefix, i, key, name_0, newicon;
  $clear_5(this$static.SaveIconList);
  if (this$static.localStorage_0) {
    $info_1(Log_15, 'repopulating list:' + $getLength(this$static.localStorage_0.storage));
    OverallPrefix = 'Save_' + this$static.CURRENTGAME_PREFIX + '_';
    for (i = 0; i < $getLength(this$static.localStorage_0.storage); i++) {
      key = $key(this$static.localStorage_0, i);
      if ($equals_5(__substr(key, 0, OverallPrefix.length), OverallPrefix)) {
        name_0 = $substring(key, OverallPrefix.length);
        newicon = new SpiffySaveToLocalStorage$SaveIcon(this$static, name_0, key, this$static);
        $add_12(this$static.SaveIconList, newicon);
      }
    }
  }
  if (this$static.currentmode == 0) {
    newicon = new SpiffySaveToLocalStorage$SaveIcon(this$static, this$static.NEW_SAVE_STRING, '', this$static);
    $add_12(this$static.SaveIconList, newicon);
  }
}

function $removeSave(this$static, key){
  $info_1(Log_15, 'Removing save:' + key);
  $removeItem(this$static.localStorage_0, key);
  $populateCurrentStoredData(this$static);
}

function $removeSaveRequested(this$static, key){
  $remove_22(this$static.RunOnRemoveSaveRequest, key);
}

function $setLoadInstructions(this$static, instructions){
  this$static.LoadInstructions = instructions;
  $setText_0(this$static.Instructions, this$static.LoadInstructions);
}

function $setLoadRequested(this$static, runOnLoadRequested){
  this$static.RunOnLoadRequest = runOnLoadRequested;
}

function $setRemoveSaveRequested(this$static, runOnRemoveSaveRequested){
  this$static.RunOnRemoveSaveRequest = runOnRemoveSaveRequested;
}

function $setSaveRequested(this$static, runOnSaveRequested){
  this$static.RunOnSaveRequest = runOnSaveRequested;
}

function SpiffySaveToLocalStorage(saveorloadmode, height, gameNameFilter){
  $clinit_SpiffySaveToLocalStorage();
  VerticalPanel.call(this);
  this.NEW_SAVE_STRING = '+';
  this.CURRENTGAME_PREFIX = '';
  this.currentmode = 1;
  this.SaveIconList = new FlowPanel;
  this.LoadInstructions = 'Click below to load your game from local storage;';
  this.Instructions = new Label_1(this.LoadInstructions);
  this.localStorage_0 = (!localStorage_0 && ($clinit_Storage$StorageSupportDetector() , localStorageSupported) && (localStorage_0 = new Storage_0) , localStorage_0);
  this.height_0 = 500;
  this.height_0 = height;
  this.CURRENTGAME_PREFIX = gameNameFilter;
  this.currentmode = saveorloadmode;
  !this.localStorage_0 && $severe_0(Log_15, 'Local storage not supported!');
  this.currentmode == 0?$setText_0(this.Instructions, 'Note; This will save your game on this PC and Browser only'):$setText_0(this.Instructions, 'Click below to load your game;');
  $setStylePrimaryName(this.Instructions, 'LocalStoreSaveInstructions');
  $setSize(this, '100%', this.height_0 + 'px');
  $setHorizontalAlignment_0(this, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_5(this, this.Instructions);
  $setSize(this.SaveIconList, '100%', 'auto');
  $getElement(this.SaveIconList).style['overflowY'] = ($clinit_Style$Overflow() , 'auto');
  $add_5(this, this.SaveIconList);
  $populateCurrentStoredData(this);
}

defineClass(426, 28, $intern_48, SpiffySaveToLocalStorage);
_.onLoad = function onLoad_3(){
  var Savelistheight;
  Savelistheight = this.height_0 - $getOffsetHeight(this.Instructions) - 15;
  $setSize(this.SaveIconList, '100%', Savelistheight + 'px');
}
;
_.currentmode = 0;
_.height_0 = 0;
var Log_15;
var Lcom_darkflame_client_SpiffySaveToLocalStorage_2_classLit = createForClass('com.darkflame.client', 'SpiffySaveToLocalStorage', 426, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function $add_6(this$static, w, left, top_0){
  $add_8(this$static, w.visualContents, left, top_0);
}

function $add_7(this$static, w){
  $add_3(this$static, w, ($clinit_DOM() , this$static.element));
}

function $add_8(this$static, w, left, top_0){
  var beforeIndex;
  $removeFromParent(w);
  beforeIndex = this$static.children.size_0;
  this$static.setWidgetPositionImpl(w, left, top_0);
  $insert(this$static, w, ($clinit_DOM() , this$static.element), beforeIndex, true);
}

function $checkWidgetParent(this$static, w){
  if (w.parent_1 != this$static) {
    throw new IllegalArgumentException_0('Widget must be a child of this panel.');
  }
}

function $getWidgetLeft(this$static, w){
  $checkWidgetParent(this$static, w);
  return $getAbsoluteLeft_0(($clinit_DOM() , w.element)) - $getAbsoluteLeft_0(this$static.element);
}

function $getWidgetTop(this$static, w){
  $checkWidgetParent(this$static, w);
  return $getAbsoluteTop_0(($clinit_DOM() , w.element)) - $getAbsoluteTop_0(this$static.element);
}

function $remove_6(this$static, w){
  var removed;
  removed = $remove_4(this$static, w);
  removed && changeToStaticPositioning(($clinit_DOM() , w.element));
  return removed;
}

function $setWidgetPosition(this$static, w, left, top_0){
  $checkWidgetParent(this$static, w);
  this$static.setWidgetPositionImpl(w, left, top_0);
}

function $setWidgetPositionImpl(w, left, top_0){
  var h;
  h = ($clinit_DOM() , w.element);
  if (left == -1 && top_0 == -1) {
    changeToStaticPositioning(h);
  }
   else {
    $setPropertyImpl(h.style, 'position', 'absolute');
    $setPropertyImpl(h.style, 'left', left + 'px');
    $setPropertyImpl(h.style, 'top', top_0 + 'px');
  }
}

function AbsolutePanel(){
  AbsolutePanel_0.call(this, ($clinit_DOM() , $doc.createElement('div')));
  this.element.style['position'] = 'relative';
  this.element.style['overflow'] = 'hidden';
}

function AbsolutePanel_0(elem){
  ComplexPanel.call(this);
  $setElement_0(this, ($clinit_DOM() , elem));
}

function changeToStaticPositioning(elem){
  $setPropertyImpl(elem.style, 'left', '');
  $setPropertyImpl(elem.style, 'top', '');
  $setPropertyImpl(elem.style, 'position', '');
}

defineClass(76, 224, $intern_52, AbsolutePanel);
_.add_2 = function add_12(w){
  $add_7(this, w);
}
;
_.insert = function insert_1(w, beforeIndex){
  $insert(this, w, ($clinit_DOM() , this.element), beforeIndex, true);
}
;
_.remove_1 = function remove_9(w){
  return $remove_6(this, w);
}
;
_.setWidgetPositionImpl = function setWidgetPositionImpl(w, left, top_0){
  $setWidgetPositionImpl(w, left, top_0);
}
;
var Lcom_google_gwt_user_client_ui_AbsolutePanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'AbsolutePanel', 76, Lcom_google_gwt_user_client_ui_ComplexPanel_2_classLit);
function SpiffySaveToLocalStorage$SaveIcon(this$0, name_0, savekey, saveparent){
  var backgroundDataURL, croppedname;
  AbsolutePanel.call(this);
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'SpiffySaveToLocalStorage.SaveIcon');
  this.contents = new VerticalPanel;
  this.keyname = new Label_1('');
  this.datadetails = new Label_1('');
  this.removeIcon = new Label_1('X');
  this.clickDetectorBack = new FocusPanel;
  this.key_0 = savekey;
  this.parent_0 = saveparent;
  name_0 == null || name_0.length == 0?$removeAttribute(($clinit_DOM() , this.element), 'title'):$setAttribute(($clinit_DOM() , this.element), 'title', name_0);
  croppedname = name_0;
  $equals_5(name_0.substr(1, 4), ' - (') && (croppedname = __substr(name_0, 5, name_0.length - 5));
  backgroundDataURL = getDataURLFromString(croppedname);
  ($clinit_DOM() , this.element).style['backgroundImage'] = 'url(' + backgroundDataURL + ')';
  $setText_0(this.keyname, name_0);
  $setStylePrimaryName(this.keyname, 'SaveIconLabel');
  $setText_0(this.datadetails, '');
  $setSize(this.contents, '100%', '100%');
  $setSize(this.clickDetectorBack, '100%', '100%');
  $setHorizontalAlignment_0(this.contents, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setVerticalAlignment_0(this.contents, ($clinit_HasVerticalAlignment() , ALIGN_MIDDLE));
  $add_5(this.contents, this.keyname);
  $add_5(this.contents, this.datadetails);
  saveparent.currentmode == 0 && $add_7(this, this.removeIcon);
  $add_8(this, this.contents, 0, 0);
  $add_8(this, this.clickDetectorBack, 0, 0);
  $setPropertyImpl($getElement(this.removeIcon).style, 'zIndex', '100');
  $setPropertyImpl($getElement(this.clickDetectorBack).style, 'zIndex', '50');
  setStylePrimaryName(this.element, 'SaveIconBack');
  $setStylePrimaryName(this.removeIcon, 'removeIcon');
  if ($equals_5(name_0, this$0.NEW_SAVE_STRING)) {
    this.element.style['borderStyle'] = ($clinit_Style$BorderStyle() , 'dotted');
    setStyleName(this.element, 'NewSaveBack', true);
    $removeFromParent(this.removeIcon);
  }
   else {
    this.element.style['borderStyle'] = ($clinit_Style$BorderStyle() , 'solid');
  }
  this.element.style['overflow'] = ($clinit_Style$Overflow() , 'hidden');
  this.element.style['margin'] = ($clinit_Style$Unit() , '5.0px');
  this.element.style['display'] = ($clinit_Style$Display() , 'inline-block');
  this.element.style['width'] = '100px';
  this.element.style['height'] = '100px';
  $addDomHandler(this.removeIcon, new SpiffySaveToLocalStorage$SaveIcon$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this.clickDetectorBack, new SpiffySaveToLocalStorage$SaveIcon$2(this), (null , TYPE_1));
}

defineClass(427, 76, $intern_52, SpiffySaveToLocalStorage$SaveIcon);
var Lcom_darkflame_client_SpiffySaveToLocalStorage$SaveIcon_2_classLit = createForClass('com.darkflame.client', 'SpiffySaveToLocalStorage/SaveIcon', 427, Lcom_google_gwt_user_client_ui_AbsolutePanel_2_classLit);
function SpiffySaveToLocalStorage$SaveIcon$1(this$1){
  this.this$11 = this$1;
}

defineClass(626, 1, $intern_17, SpiffySaveToLocalStorage$SaveIcon$1);
_.onClick = function onClick_7(event_0){
  $removeSaveRequested(this.this$11.parent_0, this.this$11.key_0);
}
;
var Lcom_darkflame_client_SpiffySaveToLocalStorage$SaveIcon$1_2_classLit = createForClass('com.darkflame.client', 'SpiffySaveToLocalStorage/SaveIcon/1', 626, Ljava_lang_Object_2_classLit);
function SpiffySaveToLocalStorage$SaveIcon$2(this$1){
  this.this$11 = this$1;
}

defineClass(627, 1, $intern_17, SpiffySaveToLocalStorage$SaveIcon$2);
_.onClick = function onClick_8(event_0){
  $clickedOnKey(this.this$11.parent_0, this.this$11.key_0);
}
;
var Lcom_darkflame_client_SpiffySaveToLocalStorage$SaveIcon$2_2_classLit = createForClass('com.darkflame.client', 'SpiffySaveToLocalStorage/SaveIcon/2', 627, Ljava_lang_Object_2_classLit);
function $clinit_SpiffyTextField(){
  $clinit_SpiffyTextField = emptyMethod;
  new ArrayList;
  InvalidFieldList = new ArrayList;
  validationArrows = new GWTCanvas;
}

var InvalidFieldList, validationArrows;
function addMessageHandler(newMessageHandler){
  defineBridgeMethodFromParent();
  currentMessageHandler = newMessageHandler;
}

function defineBridgeMethodFromParent(){
  $wnd.triggerMessageRecieved = function(mode, data_0){
    return !!currentMessageHandler && $run_21(mode, data_0) , 42;
  }
  ;
}

function sendFunctionToParent(mode, data_0){
  $wnd.parent.parent.triggerMessageRecieved(mode, data_0);
}

var currentMessageHandler = null;
function $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator(){
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator = emptyMethod;
  bundledImage_None = $moduleBase + 'C17450C7B85366FA1E17CD836C95328B.cache.png';
}

var Close_0, Close_over, HelpIconClose, HelpIconCloseOver, bundledImage_None, helpicon, helpicon_disabled, helpicon_pressed;
function $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$CloseInitializer(){
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$CloseInitializer = emptyMethod;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  Close_0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None)), 855, 60, 19, 18);
}

function $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$Close_overInitializer(){
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$Close_overInitializer = emptyMethod;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  Close_over = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None)), 855, 40, 19, 18);
}

function $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$HelpIconCloseInitializer(){
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$HelpIconCloseInitializer = emptyMethod;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  HelpIconClose = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None)), 795, 180, 19, 18);
}

function $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$HelpIconCloseOverInitializer(){
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$HelpIconCloseOverInitializer = emptyMethod;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  HelpIconCloseOver = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None)), 772, 168, 19, 18);
}

function $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpiconInitializer(){
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpiconInitializer = emptyMethod;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  helpicon = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None)), 854, 140, 14, 14);
}

function $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpicon_disabledInitializer(){
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpicon_disabledInitializer = emptyMethod;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  helpicon_disabled = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None)), 868, 120, 14, 14);
}

function $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpicon_pressedInitializer(){
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator$helpicon_pressedInitializer = emptyMethod;
  $clinit_StandardInterfaceImages_default_StaticClientBundleGenerator();
  helpicon_pressed = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None)), 854, 120, 14, 14);
}

function $clinit_SuperSimpleSemantics(){
  $clinit_SuperSimpleSemantics = emptyMethod;
  Log_16 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SuperSimpleSemantics'));
  $clinit_Boolean();
  waitForRep = new DefaultWaitForRepeating;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), '');
}

function setJavaLogOn(status_0){
  javaLogOn = status_0;
  if (status_0) {
    $info_1(Log_16, 'setting log on');
    $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss')), ($clinit_Level() , INFO));
    $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'SuperSimpleSemantics')), INFO);
  }
   else {
    $info_1(Log_16, 'setting log off');
    $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss')), ($clinit_Level() , OFF));
    $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'SuperSimpleSemantics')), OFF);
  }
  return;
}

var Log_16, autoloadLabels = true, javaLogOn = false, preloadIndexs = false, waitForRep;
function SuperSimpleSemantics$1(){
}

defineClass(933, 1, {1542:1}, SuperSimpleSemantics$1);
var Lcom_darkflame_client_SuperSimpleSemantics$1_2_classLit = createForClass('com.darkflame.client', 'SuperSimpleSemantics/1', 933, Ljava_lang_Object_2_classLit);
function $clinit_Utilitys(){
  $clinit_Utilitys = emptyMethod;
  Log_17 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss.Utilitys'));
  ACCEPTED_FILENAME_EXTENSIONS = ($clinit_ImmutableCollection() , create(initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, ['sss', 'txt', 'n3', 'ntlist', 'ntindex'])));
}

function isFilename(filenameTotest){
  $clinit_Utilitys();
  var containedslash, filebits, needsslash;
  needsslash = false;
  containedslash = false;
  $info_1(Log_17, '\ttesting:' + filenameTotest);
  if ($endsWith(filenameTotest, '"') || $equals_5(filenameTotest.substr(0, 1), '"')) {
    $info_1(Log_17, '(not a filename as it ends or starts with a quote)');
    return false;
  }
  if (filenameTotest.indexOf('://') != -1) {
    filenameTotest = $substring(filenameTotest, filenameTotest.lastIndexOf('://') + 3);
    needsslash = true;
  }
  if (filenameTotest.indexOf('/') != -1) {
    filenameTotest = $substring(filenameTotest, filenameTotest.lastIndexOf('/') + 1);
    containedslash = true;
  }
  if (filenameTotest.indexOf('/\\') != -1) {
    filenameTotest = $substring(filenameTotest, filenameTotest.lastIndexOf('/\\') + 1);
    containedslash = true;
  }
  if (!containedslash && needsslash) {
    $info_1(Log_17, '(needed slash but didnt have one)' + filenameTotest);
    return false;
  }
  filebits = $split_0(filenameTotest, '\\.', 0);
  if (filebits.length == 2) {
    if (filebits[1].indexOf('"') != -1 || filebits[1].indexOf('@') != -1 || !ACCEPTED_FILENAME_EXTENSIONS.contains_0(filebits[1])) {
      return false;
    }
    if (filenameTotest.indexOf('#') == -1) {
      return true;
    }
    $info_1(Log_17, '# present so its not a filename');
  }
  return false;
}

var ACCEPTED_FILENAME_EXTENSIONS, Log_17;
function $clinit_Query(){
  $clinit_Query = emptyMethod;
  Log_18 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss.Query'));
  knownquerys = new HashMap;
}

function $getAsString(this$static){
  var qe, qe$iterator, result;
  result = '';
  for (qe$iterator = new AbstractList$IteratorImpl(this$static); qe$iterator.i < qe$iterator.this$01_0.size_1();) {
    qe = (checkCriticalElement(qe$iterator.i < qe$iterator.this$01_0.size_1()) , dynamicCast(qe$iterator.this$01_0.get_0(qe$iterator.last = qe$iterator.i++), 155));
    result = result + ' ' + $toString_1(this$static.querymode) + ' ' + $getAsString_0(qe);
  }
  return result;
}

function $internalAddProperty(this$static, currentWord){
  var lastElement, oneBeforeThatElement, pred, predSubQuery, val, valSubQuery, PRED, VAL, newQueryElement, VAL_0, newQueryElement_0, PRED_0, newQueryElement_1, newQueryElement_2;
  $clinit_SuperSimpleSemantics();
  lastElement = dynamicCast($get(this$static, this$static.array.length - 1), 155);
  oneBeforeThatElement = dynamicCast($get(this$static, this$static.array.length - 2), 155);
  predSubQuery = null;
  valSubQuery = null;
  pred = '';
  val = '';
  ' last queryelement=' + $getAsString_0(lastElement);
  ' last element before that=' + $getAsString_0(oneBeforeThatElement);
  if (oneBeforeThatElement.query) {
    predSubQuery = oneBeforeThatElement.query;
  }
  if (lastElement.query) {
    valSubQuery = lastElement.query;
  }
  if (!predSubQuery) {
    pred = oneBeforeThatElement.prop.value_0.PURI;
    pred = $replace_0(pred, '"', '');
  }
  !valSubQuery && (val = $replace_0(currentWord, '"', ''));
  $remove(this$static, this$static.array.length - 1);
  $remove(this$static, this$static.array.length - 1);
  if (!predSubQuery && !valSubQuery) {
    $clinit_SSSNode();
    pred.indexOf(':') == -1 && pred.indexOf('.') == -1?(PRED = getNodeByLabel(pred)):(PRED = getNodeByUri(pred));
    val.indexOf(':') == -1 && val.indexOf('.') == -1?(VAL = getNodeByLabel(val)):(VAL = getNodeByUri(val));
    newQueryElement = new QueryElement_1(new SSSProperty(PRED, VAL));
    setCheck(this$static.array, this$static.array.length, newQueryElement);
  }
   else if (!!predSubQuery && !valSubQuery) {
    'pred is query ::  ' + $getAsString(predSubQuery);
    $clinit_SSSNode();
    val.indexOf(':') == -1 && val.indexOf('.') == -1?(VAL_0 = getNodeByLabel(val)):(VAL_0 = getNodeByUri(val));
    newQueryElement_0 = new QueryElement_0(new QuerySSSProperty_0(predSubQuery, VAL_0));
    setCheck(this$static.array, this$static.array.length, newQueryElement_0);
  }
   else if (!predSubQuery && !!valSubQuery) {
    'val is query ::  ' + $getAsString(valSubQuery);
    $clinit_SSSNode();
    pred.indexOf(':') == -1 && pred.indexOf('.') == -1?(PRED_0 = getNodeByLabel(pred)):(PRED_0 = getNodeByUri(pred));
    newQueryElement_1 = new QueryElement_0(new QuerySSSProperty_1(PRED_0, valSubQuery));
    setCheck(this$static.array, this$static.array.length, newQueryElement_1);
  }
   else if (!!predSubQuery && !!valSubQuery) {
    'both are querys ::  ' + $getAsString(valSubQuery);
    newQueryElement_2 = new QueryElement_0(new QuerySSSProperty(predSubQuery, valSubQuery));
    setCheck(this$static.array, this$static.array.length, newQueryElement_2);
  }
}

function $processRawQuery(this$static, usersEntry){
  var currentWord, i, neg, nestedQuery, nestedQueryString, newQueryElement, previousword, requestednode, word, wordlist;
  $clinit_SuperSimpleSemantics();
  wordlist = splitRawQueryToWords(usersEntry);
  nestedQuery = 0;
  nestedQueryString = '';
  previousword = '';
  neg = false;
  for (i = 0; i < wordlist.array.length; i++) {
    currentWord = (checkElementIndex(i, wordlist.array.length) , dynamicCastToString(wordlist.array[i]));
    if ($equals_5(currentWord, '!') && nestedQuery == 0) {
      neg = true;
      continue;
    }
    if ($equals_5(currentWord, '(')) {
      ++nestedQuery;
    }
    if ($equals_5(currentWord, ')')) {
      --nestedQuery;
      if (nestedQuery == 0) {
        nestedQueryString = nestedQueryString + ' ' + currentWord;
        neg?$clinit_SuperSimpleSemantics():$clinit_SuperSimpleSemantics();
        nestedQueryString = $trim(nestedQueryString);
        nestedQueryString = $substring_0(nestedQueryString, 1, nestedQueryString.length - 1);
        newQueryElement = new QueryElement(new Query(nestedQueryString, neg));
        setCheck(this$static.array, this$static.array.length, newQueryElement);
        neg = false;
        nestedQueryString = '';
        '------------(subquery added)' + $getAsString_0(newQueryElement);
        if ($equals_5(previousword, '=')) {
          $internalAddProperty(this$static, currentWord);
          previousword = '';
          neg = false;
          continue;
        }
         else {
          continue;
        }
      }
    }
    if (nestedQuery != 0) {
      nestedQueryString = nestedQueryString + ' ' + currentWord;
      continue;
    }
    if ($equals_5(currentWord, '||')) {
      this$static.querymode = ($clinit_Query$QueryMode() , OR);
      previousword = '';
      continue;
    }
    if ($equals_5(currentWord, '=')) {
      previousword = currentWord;
      continue;
    }
    if (currentWord.indexOf(':') == -1 && currentWord.indexOf('.') == -1) {
      word = $replace_0(currentWord, '"', '');
      requestednode = getNodeByLabel(word);
      newQueryElement = new QueryElement_1(new SSSProperty(($clinit_SSSNode() , SubClassOf), requestednode));
      setCheck(this$static.array, this$static.array.length, newQueryElement);
    }
     else {
      $info_1(Log_18, 'get node by uri:' + currentWord);
      requestednode = getNodeByUri(currentWord);
      newQueryElement = new QueryElement_1(new SSSProperty(($clinit_SSSNode() , SubClassOf), requestednode));
      setCheck(this$static.array, this$static.array.length, newQueryElement);
    }
    if ($equals_5(previousword, '=')) {
      $internalAddProperty(this$static, currentWord);
      previousword = '';
      neg = false;
      continue;
    }
    previousword = currentWord;
  }
  return null;
}

function Query(usersRawEntry, invert){
  var invertflag;
  ArrayList.call(this);
  this.invertResults = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  this.querymode = ($clinit_Query$QueryMode() , AND);
  this.invertResults = invert?TRUE_3:FALSE_2;
  $processRawQuery(this, usersRawEntry);
  invertflag = '';
  invert && (invertflag = '_!_');
  knownquerys.put(invertflag + usersRawEntry, this);
}

function createQuerySafely(usersRawEntry){
  $clinit_Query();
  if (knownquerys.containsKey('' + usersRawEntry)) {
    $info_1(Log_18, 'matching existing query');
    return dynamicCast(knownquerys.get_2('' + usersRawEntry), 356);
  }
   else {
    return new Query(usersRawEntry, false);
  }
}

function splitRawQueryToWords(usersInputMess){
  var currentLetter, currentWord, i, inQuotes, totalchat, words;
  $clinit_SuperSimpleSemantics();
  usersInputMess = $replace_0(usersInputMess, '(', ' ( ');
  usersInputMess = $replace_0(usersInputMess, ')', ' ) ');
  usersInputMess = $replace_0(usersInputMess, '=', ' = ');
  usersInputMess = $replace_0(usersInputMess, '!', ' ! ');
  usersInputMess = $replace_0(usersInputMess, '||', ' || ');
  totalchat = usersInputMess.length;
  inQuotes = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  words = new ArrayList;
  currentWord = '';
  for (i = 0; i < totalchat; i++) {
    currentLetter = usersInputMess.charCodeAt(i);
    currentLetter == 34 && (inQuotes = inQuotes.value_0?FALSE_2:TRUE_3);
    if (!inQuotes.value_0 && currentLetter == 32) {
      if ($trim(currentWord) != '') {
        words.add_0($trim(currentWord));
      }
      currentWord = '';
    }
     else {
      currentWord = currentWord + charToString(currentLetter);
    }
  }
  if ($trim(currentWord) != '') {
    words.add_0($trim(currentWord));
  }
  return words;
}

defineClass(356, 18, {356:1, 3:1, 18:1, 25:1, 38:1, 68:1}, Query);
var Log_18, knownquerys;
var Lcom_darkflame_client_query_Query_2_classLit = createForClass('com.darkflame.client.query', 'Query', 356, Ljava_util_ArrayList_2_classLit);
function $clinit_Query$QueryMode(){
  $clinit_Query$QueryMode = emptyMethod;
  AND = new Query$QueryMode('AND', 0);
  OR = new Query$QueryMode('OR', 1);
}

function Query$QueryMode(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_7(name_0){
  $clinit_Query$QueryMode();
  return valueOf(($clinit_Query$QueryMode$Map() , $MAP_5), name_0);
}

function values_6(){
  $clinit_Query$QueryMode();
  return initValues(getClassLiteralForArray(Lcom_darkflame_client_query_Query$QueryMode_2_classLit, 1), $intern_1, 309, 0, [AND, OR]);
}

defineClass(309, 9, {309:1, 3:1, 21:1, 9:1}, Query$QueryMode);
var AND, OR;
var Lcom_darkflame_client_query_Query$QueryMode_2_classLit = createForEnum('com.darkflame.client.query', 'Query/QueryMode', 309, Ljava_lang_Enum_2_classLit, values_6, valueOf_7);
function $clinit_Query$QueryMode$Map(){
  $clinit_Query$QueryMode$Map = emptyMethod;
  $MAP_5 = createValueOfMap(($clinit_Query$QueryMode() , initValues(getClassLiteralForArray(Lcom_darkflame_client_query_Query$QueryMode_2_classLit, 1), $intern_1, 309, 0, [AND, OR])));
}

var $MAP_5;
function $getAsString_0(this$static){
  var Inverse, Pred, Value;
  if (this$static.query) {
    Inverse = '';
    this$static.query.invertResults.value_0 && (Inverse = '!');
    return Inverse + '(' + $getAsString(this$static.query) + ')';
  }
  Pred = '';
  Value = '';
  !!this$static.prop.pred && (Pred = this$static.prop.pred.PURI);
  !!this$static.prop.value_0 && (Value = this$static.prop.value_0.PURI);
  !!this$static.prop.QueryForPred && (Pred = '(' + $getAsString(this$static.prop.QueryForPred) + ')');
  !!this$static.prop.QueryForValley && (Value = '(' + $getAsString(this$static.prop.QueryForValley) + ')');
  return Pred + '<~' + Value;
}

function QueryElement(query){
  this.query = query;
}

function QueryElement_0(prop){
  this.prop = prop;
}

function QueryElement_1(prop){
  this.prop = new QuerySSSProperty_2(prop.pred, prop.value_0);
}

defineClass(155, 1, {155:1}, QueryElement, QueryElement_0, QueryElement_1);
var Lcom_darkflame_client_query_QueryElement_2_classLit = createForClass('com.darkflame.client.query', 'QueryElement', 155, Ljava_lang_Object_2_classLit);
function $clinit_SSSProperty(){
  $clinit_SSSProperty = emptyMethod;
  new ArrayList;
}

function SSSProperty(pred, value_0){
  $clinit_SSSProperty();
  this.pred = pred;
  this.value_0 = value_0;
}

defineClass(81, 1, {81:1}, SSSProperty);
_.equals$ = function equals_4(testAgainst){
  var testingObject;
  if (getClass__Ljava_lang_Class___devirtual$(testAgainst) == Lcom_darkflame_client_semantic_SSSProperty_2_classLit) {
    testingObject = dynamicCast(testAgainst, 81);
    if (testingObject.pred == this.pred && testingObject.value_0 == this.value_0) {
      return true;
    }
  }
  return false;
}
;
_.toString$ = function toString_13(){
  return this.pred.PURI + ':' + this.value_0.PURI;
}
;
var Lcom_darkflame_client_semantic_SSSProperty_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSProperty', 81, Ljava_lang_Object_2_classLit);
function $$init_5(this$static){
}

function QuerySSSProperty(pred, val){
  $clinit_SSSProperty();
  SSSProperty.call(this, null, null);
  $$init_5(this);
  this.QueryForPred = pred;
  this.QueryForValley = val;
}

function QuerySSSProperty_0(pred, val){
  $clinit_SSSProperty();
  SSSProperty.call(this, null, val);
  $$init_5(this);
  this.QueryForPred = pred;
}

function QuerySSSProperty_1(pred, val){
  $clinit_SSSProperty();
  SSSProperty.call(this, pred, null);
  $$init_5(this);
  this.QueryForValley = val;
}

function QuerySSSProperty_2(pred, value_0){
  $clinit_SSSProperty();
  SSSProperty.call(this, pred, value_0);
  $$init_5(this);
}

defineClass(357, 81, {81:1}, QuerySSSProperty, QuerySSSProperty_0, QuerySSSProperty_1, QuerySSSProperty_2);
_.QueryForPred = null;
_.QueryForValley = null;
var Lcom_darkflame_client_query_QuerySSSProperty_2_classLit = createForClass('com.darkflame.client.query', 'QuerySSSProperty', 357, Lcom_darkflame_client_semantic_SSSProperty_2_classLit);
function $clinit_QueryEngine(){
  $clinit_QueryEngine = emptyMethod;
  Log_19 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss.QueryEngine'));
  QueryCache = new LinkedHashMap;
}

function cleanResultAndStoreInCache(realQuery, newnodes){
  var polishedresult, resultNode, resultNode$iterator;
  polishedresult = new ArrayList;
  if (newnodes.array.length == 0) {
    polishedresult.add_0(($clinit_SSSNode() , NOTFOUND));
  }
   else {
    for (resultNode$iterator = new AbstractList$IteratorImpl(newnodes); resultNode$iterator.i < resultNode$iterator.this$01_0.size_1();) {
      resultNode = (checkCriticalElement(resultNode$iterator.i < resultNode$iterator.this$01_0.size_1()) , dynamicCast(resultNode$iterator.this$01_0.get_0(resultNode$iterator.last = resultNode$iterator.i++), 55));
      $equals_0(resultNode, ($clinit_SSSNode() , NOTFOUND)) || polishedresult.add_0(resultNode);
    }
  }
  $info_1(Log_19, 'returning results after cleaning');
  $put_4(QueryCache, realQuery, polishedresult);
  QueryCache.map_0.size_1() > 30 && $remove_26(QueryCache, valueOf_45(0));
  return polishedresult;
}

function getCombinationStyleQueryNOW(anyofthese, invertResults){
  var cvalue, invertFlag, node, queryelement, queryelement$iterator, results, subresults;
  $info_1(Log_19, 'processing from OR query object:');
  results = new ArrayList;
  for (queryelement$iterator = new AbstractList$IteratorImpl(anyofthese); queryelement$iterator.i < queryelement$iterator.this$01_0.size_1();) {
    queryelement = (checkCriticalElement(queryelement$iterator.i < queryelement$iterator.this$01_0.size_1()) , dynamicCast(queryelement$iterator.this$01_0.get_0(queryelement$iterator.last = queryelement$iterator.i++), 155));
    invertFlag = false;
    if (queryelement.query) {
      $info_1(Log_19, 'processing from  a sub query object::');
      $info_1(Log_19, 'sub query =:' + $toString_0(queryelement.query));
      subresults = processQueryNOW(queryelement.query, ($clinit_Boolean() , invertResults?TRUE_3:FALSE_2));
      node = new HashSet_1(subresults);
      invertFlag = queryelement.query.invertResults.value_0;
      $info_1(Log_19, 'invert results =' + invertFlag);
    }
     else {
      cvalue = queryelement.prop;
      node = getAllCurrentNodesWithProperty(cvalue.pred, cvalue.value_0, $clinit_Boolean());
    }
    if (invertFlag) {
      $info_1(Log_19, 'removing nodes:' + node.map_0.size_1());
      $removeAll(results, node);
    }
     else {
      $info_1(Log_19, 'adding nodes:' + node.map_0.size_1());
      results.addAll(node);
    }
  }
  return results;
}

function getInsectionOfQueryNOW(hasToHave, InvertResults){
  var cvalue, invertFlag, node, queryelement, queryelement$iterator, results, subresults;
  $info_1(Log_19, 'processing from query object:');
  invertFlag = false;
  results = new ArrayList;
  for (queryelement$iterator = new AbstractList$IteratorImpl(hasToHave); queryelement$iterator.i < queryelement$iterator.this$01_0.size_1();) {
    queryelement = (checkCriticalElement(queryelement$iterator.i < queryelement$iterator.this$01_0.size_1()) , dynamicCast(queryelement$iterator.this$01_0.get_0(queryelement$iterator.last = queryelement$iterator.i++), 155));
    if (queryelement.query) {
      $info_1(Log_19, 'processing from  a sub query object:');
      $info_1(Log_19, 'sub query =:' + $toString_0(queryelement.query));
      subresults = processQueryNOW(queryelement.query, InvertResults);
      node = new HashSet_1(subresults);
      invertFlag = queryelement.query.invertResults.value_0;
      $info_1(Log_19, 'invert results =' + invertFlag);
    }
     else {
      cvalue = queryelement.prop;
      node = getAllCurrentNodesWithProperty(cvalue.pred, cvalue.value_0);
    }
    $info_1(Log_19, 'getting nodes:' + node.map_0.size_1());
    if (results.array.length == 0) {
      results.addAll(node);
    }
     else {
      if (invertFlag) {
        $info_1(Log_19, 'removing nodes:' + node.map_0.size_1());
        $removeAll(results, node);
      }
       else {
        $info_1(Log_19, 'retaining nodes:' + node.map_0.size_1());
        $retainAll(results, node);
      }
    }
  }
  return results;
}

function processQueryNOW(realQuery, invert){
  $clinit_QueryEngine();
  var cachedResult, polishedresult, results;
  if ($containsKey_0(QueryCache, realQuery)) {
    $info_1(Log_19, 'found result in cache!');
    cachedResult = dynamicCast($get_13(QueryCache, realQuery), 18);
    return cachedResult;
  }
  results = null;
  if (realQuery.querymode == ($clinit_Query$QueryMode() , AND)) {
    $info_1(Log_19, 'processing AND query object right now:');
    results = getInsectionOfQueryNOW(realQuery, invert);
  }
  if (realQuery.querymode == OR) {
    $info_1(Log_19, 'processing OR query object right now:');
    results = getCombinationStyleQueryNOW(realQuery, invert.value_0);
  }
  polishedresult = cleanResultAndStoreInCache(realQuery, results);
  return polishedresult;
}

var Log_19, QueryCache;
defineClass(972, 18, $intern_5);
var Lcom_darkflame_client_semantic_SSSTripletList_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSTripletList', 972, Ljava_util_ArrayList_2_classLit);
function $clinit_SSSIndex(){
  $clinit_SSSIndex = emptyMethod;
  IndexsToLoadList = new HashSet;
  Log_20 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss.SSSIndex'));
  allKnowenIndexs_0 = new HashSet;
  notQuoted = new SSSIndex$1;
}

function $addCommonPropertyListLocation(this$static, url_0, pred, value_0){
  var isFileName, location_0, newline;
  isFileName = isFilename(url_0);
  if (url_0.indexOf(':') != -1 || !isFileName) {
    location_0 = createSSSNode(url_0, this$static.IndexsDefaultNameSpace);
  }
   else {
    if (isFileName && (url_0.indexOf('\\') == -1 || url_0.indexOf('/') == -1)) {
      $info_1(Log_20, 'adding IndexsDefaultDirectory name:' + this$static.IndexsDefaultDirectory);
      url_0 = this$static.IndexsDefaultDirectory + url_0;
    }
    location_0 = createSSSNode(url_0, this$static.IndexsDefaultDirectory);
  }
  $info_1(Log_20, 'location =' + location_0.PURI);
  newline = new SSSTriplet(location_0, pred, value_0);
  setCheck(this$static.array, this$static.array.length, newline);
}

function $addStatementFromString(this$static, line, lastLine){
  var fragment, fragment0, fragment1, fragment2, i, linebit, linebits, newpredlabel, newtriplet, newvallabel, predicate, predicateNode, quoteOpen, subject, subjectOrFile, value_0, valueNode;
  $info_1(Log_20, 'adding statement from line:' + line);
  linebits = newArrayList($split($omitEmptyStrings($trimResults(on(($clinit_CharMatcher() , WHITESPACE)), WHITESPACE)), line));
  i = 0;
  fragment = 0;
  fragment0 = null;
  fragment1 = null;
  fragment2 = null;
  linebit = '';
  quoteOpen = false;
  while (i < linebits.array.length) {
    linebit = $trim(linebit + ' ' + (checkElementIndex(i, linebits.array.length) , dynamicCastToString(linebits.array[i])));
    ++i;
    if (!linebit.length) {
      continue;
    }
    if ($equals_5(linebit.substr(0, 1), '"') && !quoteOpen) {
      if (__substr(linebit, 1, linebit.length - 1).indexOf('"') == -1) {
        $info_1(Log_20, 'quoted detected still open=' + linebit);
        quoteOpen = true;
      }
    }
     else if (__substr(linebit, 1, linebit.length - 1).indexOf('"') != -1 && quoteOpen) {
      $info_1(Log_20, 'full quoted line =' + linebit);
      quoteOpen = false;
    }
    if (quoteOpen) {
      continue;
    }
    fragment == 0 && (fragment0 = $trim(linebit));
    fragment == 1 && (fragment1 = $trim(linebit));
    if (fragment == 2) {
      fragment2 = $trim(linebit);
      break;
    }
    linebit = '';
    ++fragment;
  }
  subject = fragment0;
  predicate = fragment1;
  value_0 = fragment2;
  if (!lastLine && fragment2 == null) {
    $info_1(Log_20, 'node is classOfnull');
    subject = fragment0;
    predicate = null;
    value_0 = fragment1;
  }
  if (lastLine) {
    $info_1(Log_20, 'lastLine was ' + (lastLine.subject.PURI + ' ' + lastLine.precident.PURI + ' ' + lastLine.value_0.PURI));
    subject = lastLine.subject.PURI;
    if (fragment1 == null) {
      predicate = lastLine.precident.PURI;
      value_0 = fragment0;
    }
     else {
      predicate = fragment0;
      value_0 = fragment1;
    }
  }
  if (lastLine) {
    $info_1(Log_20, 'subject=' + subject);
    $info_1(Log_20, 'pred=' + predicate);
    $info_1(Log_20, 'value=' + value_0);
    $equals_5(predicate.substr(0, 1), '"') && $addLabel(lastLine.precident, predicate);
    $equals_5(value_0.substr(0, 1), '"') && $addLabel(lastLine.value_0, value_0);
  }
  $info_1(Log_20, 'pred=' + predicate);
  $info_1(Log_20, 'value=' + value_0);
  $info_1(Log_20, 'subject=' + subject);
  if (predicate != null && !$equalsIgnoreCase(predicate, 'rdfs:subClassOf')) {
    newpredlabel = extractLabelFromURI(predicate);
    predicateNode = ($clinit_SSSNode() , createSSSNode_0(newpredlabel, predicate, this$static.IndexsDefaultNameSpace, null));
  }
   else {
    predicateNode = ($clinit_SSSNode() , SubClassOf);
  }
  newvallabel = extractLabelFromURI(value_0);
  valueNode = ($clinit_SSSNode() , createSSSNode_0(newvallabel, value_0, this$static.IndexsDefaultNameSpace, null));
  $addCommonPropertyListLocation(this$static, subject, predicateNode, valueNode);
  subjectOrFile = createSSSNode(subject, this$static.IndexsDefaultNameSpace);
  newtriplet = new SSSTriplet(subjectOrFile, predicateNode, valueNode);
  return newtriplet;
}

function $parseAllKnownSSSFilesFromIndex(this$static){
  var sssTriplet, tit;
  $info_1(Log_20, 'parsing index: ' + this$static.IndexsDefaultNameSpace);
  tit = new AbstractList$IteratorImpl(this$static);
  $clinit_SuperSimpleSemantics();
  addToGlobalLeftToLoad(this$static.array.length);
  addToLeftToLoadList(this$static);
  $info_1(Log_20, 'Loading index of size;' + this$static.array.length);
  while (tit.i < tit.this$01_0.size_1()) {
    sssTriplet = (checkCriticalElement(tit.i < tit.this$01_0.size_1()) , dynamicCast(tit.this$01_0.get_0(tit.last = tit.i++), 250));
    $warning_0(Log_20, 'Creating common property list for (' + sssTriplet.precident.PURI + '.' + sssTriplet.value_0.PURI + ')');
    $run_4(new SSSIndex$6(this$static, sssTriplet));
  }
}

function $parseSSSIndexFile(this$static, text_0, postLoadCommands){
  var lines;
  text_0 = '\r' + text_0 + '\r';
  text_0 = $replaceFrom(new CharMatcher$And(notQuoted, dynamicCast(checkNotNull(is(44)), 58)), text_0);
  lines = newArrayList($split($omitEmptyStrings($trimResults(on(new CharMatcher$And(notQuoted, dynamicCast(checkNotNull(is(10)), 58))), ($clinit_CharMatcher() , WHITESPACE))), text_0));
  $info_1(Log_20, 'lines=' + lines.array.length);
  $clinit_SuperSimpleSemantics();
  $scheduleAfter(waitForRep, new SSSIndex$5(this$static, lines, postLoadCommands));
}

function $replaceNodes(this$static, oldnode, withThisNode){
  var changed, index_line_to_check, index_line_to_check$iterator;
  for (index_line_to_check$iterator = new AbstractList$IteratorImpl(this$static); index_line_to_check$iterator.i < index_line_to_check$iterator.this$01_0.size_1();) {
    index_line_to_check = (checkCriticalElement(index_line_to_check$iterator.i < index_line_to_check$iterator.this$01_0.size_1()) , dynamicCast(index_line_to_check$iterator.this$01_0.get_0(index_line_to_check$iterator.last = index_line_to_check$iterator.i++), 250));
    changed = false;
    if (index_line_to_check.subject == oldnode) {
      index_line_to_check.subject = withThisNode;
      changed = true;
    }
    if (index_line_to_check.precident == oldnode) {
      index_line_to_check.precident = withThisNode;
      changed = true;
    }
    if (index_line_to_check.value_0 == oldnode) {
      index_line_to_check.value_0 = withThisNode;
      changed = true;
    }
    changed && $warning_0(Log_20, 'node changed in index');
  }
}

function $setDefaultDirectoryFromFileURL(this$static, fileURL){
  var croppedfile, endslash, endslash2;
  if (fileURL.indexOf('/') != -1 || fileURL.indexOf('\\') != -1) {
    endslash = 0;
    endslash2 = 0;
    fileURL.indexOf('/') != -1 && (endslash = fileURL.lastIndexOf('/'));
    fileURL.indexOf('\\') != -1 && (endslash2 = fileURL.lastIndexOf('\\'));
    endslash = endslash > endslash2?endslash:endslash2;
    croppedfile = fileURL.substr(0, endslash);
    this$static.IndexsDefaultDirectory = croppedfile + '/';
  }
}

function SSSIndex(fileURL){
  var forcePost, onError, onResponse, postIndexProcessFunctions;
  ArrayList.call(this);
  this.IndexsDefaultNameSpace = '';
  this.IndexsDefaultDirectory = '';
  this.currentIndex = this;
  this.IndexURL = '';
  $add_21(IndexsToLoadList, fileURL);
  this.IndexURL = fileURL;
  $info_1(Log_20, 'loading: ' + fileURL);
  $setDefaultDirectoryFromFileURL(this, fileURL);
  $equals_5(this.IndexsDefaultNameSpace, '') && (this.IndexsDefaultNameSpace = fileURL + '#');
  ++globalIndexsLeftToLoad;
  $warning_0(Log_20, 'global indexs left to load increased:' + globalIndexsLeftToLoad);
  $info_1(Log_20, 'IndexsDefaultDirectory: ' + this.IndexsDefaultDirectory);
  postIndexProcessFunctions = new SSSIndex$2(this);
  $info_1(Log_20, 'Loading icon updating');
  $clinit_SuperSimpleSemantics();
  onResponse = new SSSIndex$3(this, postIndexProcessFunctions);
  onError = new SSSIndex$4(this, fileURL);
  forcePost = false;
  fileURL.indexOf(':') != -1 && (forcePost = true);
  $info_1(Log_20, 'loading new index');
  $getText_1(fileURL, onResponse, onError, forcePost);
}

function createNewIndex(fileURL){
  $clinit_SSSIndex();
  if ($contains_0(allKnowenIndexs_0, fileURL)) {
    $warning_0(Log_20, 'Index ' + fileURL + ' already loaded, so not doing anything!');
    return null;
  }
  return new SSSIndex(fileURL);
}

function loadIndexsAt(trustedIndexs){
  $clinit_SSSIndex();
  var abs_trusted_url, abs_trusted_url$iterator, absolute_trusted_index_urls, requestedurl, requestedurl$iterator, siteurl;
  absolute_trusted_index_urls = new ArrayList;
  for (requestedurl$iterator = new AbstractList$IteratorImpl(trustedIndexs); requestedurl$iterator.i < requestedurl$iterator.this$01_0.size_1();) {
    requestedurl = (checkCriticalElement(requestedurl$iterator.i < requestedurl$iterator.this$01_0.size_1()) , dynamicCastToString(requestedurl$iterator.this$01_0.get_0(requestedurl$iterator.last = requestedurl$iterator.i++)));
    siteurl = getAbsolutePathStatic(($clinit_SuperSimpleSemantics() , requestedurl));
    absolute_trusted_index_urls.add_0(siteurl);
  }
  $addAll(IndexsToLoadList, absolute_trusted_index_urls);
  for (abs_trusted_url$iterator = new AbstractList$IteratorImpl(absolute_trusted_index_urls); abs_trusted_url$iterator.i < abs_trusted_url$iterator.this$01_0.size_1();) {
    abs_trusted_url = (checkCriticalElement(abs_trusted_url$iterator.i < abs_trusted_url$iterator.this$01_0.size_1()) , dynamicCastToString(abs_trusted_url$iterator.this$01_0.get_0(abs_trusted_url$iterator.last = abs_trusted_url$iterator.i++)));
    $info_1(Log_20, '__________________________________loading index at:' + abs_trusted_url);
    $clinit_SuperSimpleSemantics();
    createNewIndex((new SSSIndex$7(abs_trusted_url)).val$abs_trusted_url1);
  }
}

function parseAllKnownSSSFilesFromIndexs(){
  $clinit_SSSIndex();
  var allKI, si;
  allKI = $iterator_4(new AbstractMap$1(allKnowenIndexs_0.map_0));
  $warning_0(Log_20, '+++++++++++++++++parsing indexs ' + allKnowenIndexs_0.map_0.size_1() + ' in total');
  addToLeftToLoadList_0(allKnowenIndexs_0);
  while (allKI.val$outerIter2.hasNext()) {
    si = dynamicCast($next_7(allKI), 292);
    $parseAllKnownSSSFilesFromIndex(si);
  }
}

function replaceNodesInIndexs(thisNode, withThisNode){
  $clinit_SSSIndex();
  var indexToChangeNodesIn, indexToChangeNodesIn$iterator;
  for (indexToChangeNodesIn$iterator = $iterator_4(new AbstractMap$1(allKnowenIndexs_0.map_0)); indexToChangeNodesIn$iterator.val$outerIter2.hasNext();) {
    indexToChangeNodesIn = dynamicCast($next_7(indexToChangeNodesIn$iterator), 292);
    $replaceNodes(indexToChangeNodesIn, thisNode, withThisNode);
  }
}

function setGlobalCallback(calledWhenDone){
  $clinit_SSSIndex();
  globalCalledWhenDone = calledWhenDone;
}

defineClass(292, 972, {292:1, 3:1, 18:1, 25:1, 38:1, 68:1}, SSSIndex);
var IndexsToLoadList, Log_20, allKnowenIndexs_0, globalCalledWhenDone, globalIndexsLeftToLoad = 0, notQuoted;
var Lcom_darkflame_client_semantic_SSSIndex_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex', 292, Lcom_darkflame_client_semantic_SSSTripletList_2_classLit);
function $clinit_CharMatcher(){
  $clinit_CharMatcher = emptyMethod;
  var builder, i;
  new CharMatcher$1;
  new CharMatcher$14('CharMatcher.ASCII', 0, 127);
  builder = new StringBuilder_0;
  for (i = 0; i < 31; i++) {
    $append_3(builder, '0\u0660\u06F0\u07C0\u0966\u09E6\u0A66\u0AE6\u0B66\u0BE6\u0C66\u0CE6\u0D66\u0E50\u0ED0\u0F20\u1040\u1090\u17E0\u1810\u1946\u19D0\u1B50\u1BB0\u1C40\u1C50\uA620\uA8D0\uA900\uAA50\uFF10'.charCodeAt(i) + 9 & $intern_31);
  }
  NINES = builder.string;
  DIGIT = new CharMatcher$RangesMatcher('CharMatcher.DIGIT', $toCharArray('0\u0660\u06F0\u07C0\u0966\u09E6\u0A66\u0AE6\u0B66\u0BE6\u0C66\u0CE6\u0D66\u0E50\u0ED0\u0F20\u1040\u1090\u17E0\u1810\u1946\u19D0\u1B50\u1BB0\u1C40\u1C50\uA620\uA8D0\uA900\uAA50\uFF10'), $toCharArray(NINES));
  new CharMatcher$2;
  new CharMatcher$3;
  new CharMatcher$4;
  new CharMatcher$5;
  new CharMatcher$6;
  $withToString(new CharMatcher$Or(inRange(0, 31), dynamicCast(checkNotNull(inRange(127, 159)), 58)));
  new CharMatcher$RangesMatcher('CharMatcher.INVISIBLE', $toCharArray('\0\x7F\xAD\u0600\u061C\u06DD\u070F\u1680\u180E\u2000\u2028\u205F\u2066\u2067\u2068\u2069\u206A\u3000\uD800\uFEFF\uFFF9\uFFFA'), $toCharArray(' \xA0\xAD\u0604\u061C\u06DD\u070F\u1680\u180E\u200F\u202F\u2064\u2066\u2067\u2068\u2069\u206F\u3000\uF8FF\uFEFF\uFFF9\uFFFB'));
  new CharMatcher$RangesMatcher('CharMatcher.SINGLE_WIDTH', $toCharArray('\0\u05BE\u05D0\u05F3\u0600\u0750\u0E00\u1E00\u2100\uFB50\uFE70\uFF61'), $toCharArray('\u04F9\u05BE\u05EA\u05F4\u06FF\u077F\u0E7F\u20AF\u213A\uFDFF\uFEFF\uFFDC'));
  new CharMatcher$7;
  NONE = new CharMatcher$8;
  WHITESPACE_SHIFT = numberOfLeadingZeros_0(31);
  WHITESPACE = new CharMatcher$9;
}

function $indexIn(this$static, sequence){
  var i, length_0;
  length_0 = sequence.length;
  for (i = 0; i < length_0; i++) {
    if ($matches_0(this$static, sequence.charCodeAt(i))) {
      return i;
    }
  }
  return -1;
}

function $indexIn_0(this$static, sequence, start_0){
  var i, length_0;
  length_0 = sequence.length;
  checkPositionIndex(start_0, length_0);
  for (i = start_0; i < length_0; i++) {
    if (this$static.matches(sequence.charCodeAt(i))) {
      return i;
    }
  }
  return -1;
}

function $matchesAllOf(this$static, sequence){
  var i;
  for (i = sequence.length - 1; i >= 0; i--) {
    if (!$matches(sequence.charCodeAt(i))) {
      return false;
    }
  }
  return true;
}

function $replaceFrom(this$static, sequence){
  var buf, len, oldpos, pos;
  pos = $indexIn(this$static, sequence);
  if (pos == -1) {
    return sequence;
  }
  len = sequence.length;
  buf = new StringBuilder_0;
  oldpos = 0;
  do {
    $append0(buf, sequence, oldpos, pos);
    buf.string += ',\n';
    oldpos = pos + 1;
    pos = $indexIn_0(this$static, sequence, oldpos);
  }
   while (pos != -1);
  $append0(buf, sequence, oldpos, len);
  return buf.string;
}

function CharMatcher(){
  this.description_0 = $getName(this.___clazz$) + '@' + toUnsignedRadixString(getHashCode(this), 16);
}

function CharMatcher_0(description){
  this.description_0 = description;
}

function inRange(startInclusive, endInclusive){
  var description;
  checkArgument(endInclusive >= startInclusive);
  description = "CharMatcher.inRange('" + showCharacter(startInclusive) + "', '" + showCharacter(endInclusive) + "')";
  return new CharMatcher$14(description, startInclusive, endInclusive);
}

function is(match_0){
  $clinit_CharMatcher();
  var description;
  description = "CharMatcher.is('" + showCharacter(match_0) + "')";
  return new CharMatcher$10(description, match_0);
}

function showCharacter(c){
  var i, tmp;
  tmp = initValues(getClassLiteralForArray(C_classLit, 1), $intern_53, 0, 7, [92, 117, 0, 0, 0, 0]);
  for (i = 0; i < 4; i++) {
    tmp[5 - i] = '0123456789ABCDEF'.charCodeAt(c & 15);
    c = c >> 4 & $intern_31;
  }
  return __valueOf(tmp, 0, tmp.length);
}

defineClass(58, 1, $intern_54);
_.apply_0 = function apply_0(character){
  return this.matches(dynamicCast(character, 193).value_0);
}
;
_.indexIn = function indexIn(sequence, start_0){
  return $indexIn_0(this, sequence, start_0);
}
;
_.toString$ = function toString_14(){
  return this.description_0;
}
;
var DIGIT, NINES, NONE, WHITESPACE, WHITESPACE_SHIFT = 0;
var Lcom_google_common_base_CharMatcher_2_classLit = createForClass('com.google.common.base', 'CharMatcher', 58, Ljava_lang_Object_2_classLit);
function SSSIndex$1(){
  $clinit_CharMatcher();
  CharMatcher.call(this);
  this.inQuotes = false;
  this.inSquareQuotes = false;
}

defineClass(973, 58, $intern_54, SSSIndex$1);
_.matches = function matches(c){
  34 == c?(this.inQuotes = !this.inQuotes):60 == c?(this.inSquareQuotes = true):62 == c && (this.inSquareQuotes = false);
  return !this.inQuotes && !this.inSquareQuotes;
}
;
_.inQuotes = false;
_.inSquareQuotes = false;
var Lcom_darkflame_client_semantic_SSSIndex$1_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex/1', 973, Lcom_google_common_base_CharMatcher_2_classLit);
function $run_2(this$static){
  $info_1(($clinit_SSSIndex() , Log_20), 'index:' + this$static.this$01.currentIndex.IndexURL + ' loaded, adding to known index list');
  $add_21(allKnowenIndexs_0, this$static.this$01.currentIndex);
  --globalIndexsLeftToLoad;
  $remove_21(IndexsToLoadList, this$static.this$01.IndexURL);
  $warning_0(Log_20, 'global indexs left to load :::::::::::::::::: ' + globalIndexsLeftToLoad);
  $clinit_SuperSimpleSemantics();
  if (IndexsToLoadList.map_0.size_1() == 0) {
    $warning_0(Log_20, '******************All Indexs Loaded');
    !!globalCalledWhenDone && ($info_1(Log_16, 'loaded indexs, now loading SSS Files:') , parseAllKnownSSSFilesFromIndexs() , $info_1(Log_16, 'loadeded all SSS Files:') , $info_1(Log_16, ($clinit_SSSNodesWithCommonProperty() , 'global sss left = ' + CPLToParseList.map_0.size_1())));
  }
}

function SSSIndex$2(this$0){
  this.this$01 = this$0;
}

defineClass(974, 1, {}, SSSIndex$2);
_.run = function run_10(){
  $run_2(this);
}
;
var Lcom_darkflame_client_semantic_SSSIndex$2_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex/2', 974, Ljava_lang_Object_2_classLit);
function $processIndexFile(this$static, response){
  $parseSSSIndexFile(this$static.this$01, response, this$static.val$postIndexProcessFunctions2);
}

function SSSIndex$3(this$0, val$postIndexProcessFunctions){
  this.this$01 = this$0;
  this.val$postIndexProcessFunctions2 = val$postIndexProcessFunctions;
}

defineClass(975, 1, {}, SSSIndex$3);
_.run_2 = function run_11(responseData, responseCode){
  $clinit_SuperSimpleSemantics();
  if (responseCode == 404) {
    $info_1(($clinit_SSSIndex() , Log_20), 'no index file found ');
    --globalIndexsLeftToLoad;
    $remove_21(IndexsToLoadList, this.this$01.IndexURL);
    return;
  }
  $info_1(($clinit_SSSIndex() , Log_20), 'index file found ' + responseData);
  $run_3(new SSSIndex$3$1(this, responseData));
}
;
var Lcom_darkflame_client_semantic_SSSIndex$3_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex/3', 975, Ljava_lang_Object_2_classLit);
function $run_3(this$static){
  $clinit_SuperSimpleSemantics();
  $processIndexFile(this$static.this$11, this$static.val$responseData2);
}

function SSSIndex$3$1(this$1, val$responseData){
  this.this$11 = this$1;
  this.val$responseData2 = val$responseData;
}

defineClass(976, 1, {}, SSSIndex$3$1);
_.run = function run_12(){
  $run_3(this);
}
;
var Lcom_darkflame_client_semantic_SSSIndex$3$1_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex/3/1', 976, Ljava_lang_Object_2_classLit);
function SSSIndex$4(this$0, val$fileURL){
  this.this$01 = this$0;
  this.val$fileURL2 = val$fileURL;
}

defineClass(977, 1, {}, SSSIndex$4);
_.run_1 = function run_13(errorData, exception){
  $severe_0(($clinit_SSSIndex() , Log_20), '++++getting sssfile ' + this.val$fileURL2 + ' failed+++++');
  $severe_0(Log_20, 'errorData= ' + errorData);
  $severe_0(Log_20, 'exception= ' + exception.detailMessage);
  --globalIndexsLeftToLoad;
  $remove_21(IndexsToLoadList, this.this$01.IndexURL);
  $clinit_SuperSimpleSemantics();
}
;
var Lcom_darkflame_client_semantic_SSSIndex$4_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex/4', 977, Ljava_lang_Object_2_classLit);
function SSSIndex$5(this$0, val$lines, val$postLoadCommands){
  this.this$01 = this$0;
  this.val$lines2 = val$lines;
  this.val$postLoadCommands3 = val$postLoadCommands;
}

defineClass(978, 1, {}, SSSIndex$5);
_.execute_0 = function execute_7(){
  var currentLine, endsat, linebits, prefix, prefixline, uri_0;
  $clinit_SuperSimpleSemantics();
  if (this.i >= this.val$lines2.array.length) {
    $run_2(this.val$postLoadCommands3);
    return false;
  }
  currentLine = dynamicCastToString($get(this.val$lines2, this.i));
  currentLine = this.partialStatement + currentLine;
  $info_1(($clinit_SSSIndex() , Log_20), 'currentLine=' + currentLine);
  $info_1(Log_20, 'i=' + this.i);
  ++this.i;
  if (currentLine.length < 2 || $equals_5(currentLine.substr(0, 2), '//') || $equals_5(currentLine.substr(0, 1), '#')) {
    return true;
  }
  prefixline = false;
  $equals_5(currentLine.substr(0, 7), '@prefix') && (prefixline = true);
  if (!prefixline && !$endsWith(currentLine, '.') && !$endsWith(currentLine, ';') && !$endsWith(currentLine, ',')) {
    this.partialStatement = currentLine + ' ';
    $info_1(Log_20, 'partial statement=' + currentLine);
    return true;
  }
   else {
    this.partialStatement = '';
  }
  if (prefixline) {
    currentLine = $replaceAll(currentLine, '@prefix ', '');
    linebits = $split_0(currentLine, '<', 0);
    prefix = $trim(linebits[0]);
    uri_0 = $trim(linebits[1]);
    endsat = uri_0.indexOf('>');
    uri_0 = uri_0.substr(0, endsat);
    $info_1(Log_20, 'loadstatements_loading prefixs from line p:::' + prefix + ' u:' + uri_0);
    addPrefix(uri_0, prefix);
  }
   else {
    $info_1(Log_20, 'adding line to index:' + currentLine);
    if ($endsWith(currentLine, ';') || $endsWith(currentLine, ',')) {
      currentLine = $substring_0(currentLine, 0, currentLine.length - 1);
      this.lastLine = $addStatementFromString(this.this$01, currentLine, this.lastLine);
    }
     else {
      if ($endsWith(currentLine, '.')) {
        currentLine = $substring_0(currentLine, 0, currentLine.length - 1);
        $info_1(Log_20, 'cline:' + currentLine);
      }
      $addStatementFromString(this.this$01, currentLine, this.lastLine);
      this.lastLine = null;
    }
  }
  return true;
}
;
_.i = 0;
_.lastLine = null;
_.partialStatement = '';
var Lcom_darkflame_client_semantic_SSSIndex$5_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex/5', 978, Ljava_lang_Object_2_classLit);
function $run_4(this$static){
  var filenameTotest, fullfilename, isFileName, newNodeSet;
  newNodeSet = createSSSNodesWithCommonProperty(this$static.val$sssTriplet2.precident, this$static.val$sssTriplet2.value_0);
  $clinit_SuperSimpleSemantics();
  filenameTotest = this$static.val$sssTriplet2.subject.PURI;
  isFileName = isFilename(filenameTotest);
  isFileName || $info_1(($clinit_SSSIndex() , Log_20), this$static.val$sssTriplet2.subject.PURI + '  is not filename');
  if (isFileName && this$static.val$sssTriplet2.subject.PURI.indexOf('#') == -1) {
    $info_1(($clinit_SSSIndex() , Log_20), 'filename is' + this$static.val$sssTriplet2.subject.PURI);
    fullfilename = this$static.val$sssTriplet2.subject.PURI;
    $info_1(Log_20, 'fullfilename is' + fullfilename);
    $addFileSource(newNodeSet, fullfilename, this$static.this$01.IndexsDefaultNameSpace);
    if (preloadIndexs || newNodeSet.commonPrec == ($clinit_SSSNode() , Equivlient) || newNodeSet.commonPrec == ($clinit_SSSNode() , Label_3) && autoloadLabels) {
      $loadSSSFile(newNodeSet, fullfilename, this$static.this$01.IndexsDefaultNameSpace);
      $info_1(Log_20, '_globalLeftToLoad-:' + globalIndexsLeftToLoad);
    }
     else {
      $clinit_SSSNodesWithCommonProperty();
      globalLeftToLoad = globalLeftToLoad - 1;
      removeFromLeftToLoadList(this$static.val$sssTriplet2);
      $checkLeftToLoad(newNodeSet);
      CPLToParseList.map_0.size_1() == 0 && $warning_0(Log_22, 'NodesWithCommonProperty left to load=' + CPLToParseList.map_0.size_1());
      newNodeSet.isLoaded = false;
      $info_1(Log_20, 'globalLeftToLoad~:' + globalIndexsLeftToLoad + ' newNodeSet.isLoaded=' + newNodeSet.isLoaded);
    }
  }
   else {
    $info_1(($clinit_SSSIndex() , Log_20), 'adding node to set :' + this$static.val$sssTriplet2.subject);
    $add_0(newNodeSet, this$static.val$sssTriplet2.subject);
    $clinit_SSSNodesWithCommonProperty();
    globalLeftToLoad = globalLeftToLoad - 1;
    removeFromLeftToLoadList(this$static.val$sssTriplet2);
    $info_1(Log_20, 'globalLeftToLoad :' + globalIndexsLeftToLoad);
    $checkLeftToLoad(newNodeSet);
    $warning_0(Log_20, 'temp2');
    CPLToParseList.map_0.size_1() == 0 && $warning_0(Log_22, 'NodesWithCommonProperty left to load=' + CPLToParseList.map_0.size_1());
  }
}

function SSSIndex$6(this$0, val$sssTriplet){
  this.this$01 = this$0;
  this.val$sssTriplet2 = val$sssTriplet;
}

defineClass(979, 1, {}, SSSIndex$6);
_.run = function run_14(){
  $run_4(this);
}
;
var Lcom_darkflame_client_semantic_SSSIndex$6_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex/6', 979, Ljava_lang_Object_2_classLit);
function SSSIndex$7(val$abs_trusted_url){
  this.val$abs_trusted_url1 = val$abs_trusted_url;
}

defineClass(980, 1, {}, SSSIndex$7);
_.run = function run_15(){
  createNewIndex(this.val$abs_trusted_url1);
}
;
var Lcom_darkflame_client_semantic_SSSIndex$7_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSIndex/7', 980, Ljava_lang_Object_2_classLit);
function $clinit_SSSNode(){
  $clinit_SSSNode = emptyMethod;
  Log_21 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss.SSSNode'));
  knownNodes = new ArrayList;
  SubClassOf = createSSSNode_0('ClassOf', 'rdfs:subClassOf', '', null);
  Label_3 = createSSSNode_0('Label', 'rdfs:label', '', null);
  Equivlient = createSSSNode_0('EquivalentTo', 'owl:equivalentClass', '', null);
  STARTSWITH = new SSSNode('StartsWith', 'sss:StartsWith');
  new SSSNode('EndsWith', 'sss:EndssWith');
  ERROR = new SSSNode('Error', 'GFE:Error');
  NOTFOUND = new SSSNode_0('No Matching Nodes Found', 'Error:NoMatchingNodesFound', initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [ERROR]));
  pendingMergeRequests = new LinkedList;
}

function $$init_6(this$static){
  this$static.altLabs = new HashSet;
  this$static.altURIs = new HashSet;
  this$static.knownSubclassesOfThis = new ArrayList;
  this$static.knownParentClasses = new ArrayList;
}

function $addEquivalent(this$static, equivalent){
  $add_21(this$static.altURIs, equivalent);
}

function $addLabel(this$static, newLabel){
  $info_1(Log_21, 'adding label: ' + newLabel + ' to ' + this$static.PURI);
  newLabel = $replaceAll(newLabel, '"', '');
  if ($equalsIgnoreCase(this$static.PURI, this$static.PLabel) || $equalsIgnoreCase($getShortPURI(this$static), this$static.PLabel) || $equalsIgnoreCase(extractLabelFromURI(this$static.PURI), this$static.PLabel)) {
    $info_1(Log_21, 'setting PLabel to: ' + newLabel + ' PLabel was ' + this$static.PLabel);
    this$static.PLabel = newLabel;
    return;
  }
  $add_21(this$static.altLabs, newLabel);
}

function $addParentClasses(this$static, newParentClass, accordingToSource, addToSets){
  if ($indexOf_0(this$static.knownParentClasses, newParentClass, 0) == -1 && !$equals_0(newParentClass, this$static)) {
    this$static.knownParentClasses.add_0(newParentClass);
    $indexOf_0(newParentClass.knownSubclassesOfThis, this$static, 0) == -1 && !$equals_0(this$static, newParentClass) && newParentClass.knownSubclassesOfThis.add_0(this$static);
  }
  addToSets.value_0 && $addParentClassesToSets(this$static, this$static.knownParentClasses, accordingToSource);
}

function $addParentClassesToSets(this$static, knownParentClasses, accordingToSource){
  var parent_0, parents, set_0;
  parents = new AbstractList$IteratorImpl(knownParentClasses);
  while (parents.i < parents.this$01_0.size_1()) {
    parent_0 = (checkCriticalElement(parents.i < parents.this$01_0.size_1()) , dynamicCast(parents.this$01_0.get_0(parents.last = parents.i++), 55));
    $clinit_SSSNodesWithCommonProperty();
    set_0 = createSSSNodesWithCommonProperty(($clinit_SSSNode() , SubClassOf), parent_0);
    $addNodeToThisSet(set_0, this$static, accordingToSource);
    $clinit_SuperSimpleSemantics();
  }
}

function $equals_0(this$static, c){
  if (getClass__Ljava_lang_Class___devirtual$(c) == this$static.___clazz$) {
    return $equals_5(dynamicCast(c, 55).PURI, this$static.PURI);
  }
  return false;
}

function $getAllClassesThisBelongsToAsPropertys(this$static){
  var allParentNodes, allProps, newprop, sssNode, sssNode$iterator;
  allProps = new HashSet;
  allParentNodes = $getAllClassesThisBelongsToo(this$static);
  for (sssNode$iterator = $iterator_4(new AbstractMap$1(allParentNodes.map_0)); sssNode$iterator.val$outerIter2.hasNext();) {
    sssNode = dynamicCast($next_7(sssNode$iterator), 55);
    newprop = new SSSProperty(SubClassOf, sssNode);
    $add_21(allProps, newprop);
  }
  return allProps;
}

function $getAllClassesThisBelongsToo(this$static){
  var parents, sssNode, tempNodes;
  tempNodes = new HashSet;
  $addAll(tempNodes, this$static.knownParentClasses);
  parents = new AbstractList$IteratorImpl(this$static.knownParentClasses);
  while (parents.i < parents.this$01_0.size_1()) {
    sssNode = (checkCriticalElement(parents.i < parents.this$01_0.size_1()) , dynamicCast(parents.this$01_0.get_0(parents.last = parents.i++), 55));
    $addAll(tempNodes, $getAllClassesThisBelongsToo(sssNode));
  }
  return tempNodes;
}

function $getAllPLabels(this$static){
  var lab, lab$iterator, labs;
  labs = this$static.PLabel;
  for (lab$iterator = $iterator_4(new AbstractMap$1(this$static.altLabs.map_0)); lab$iterator.val$outerIter2.hasNext();) {
    lab = dynamicCastToString($next_7(lab$iterator));
    labs = labs + ' , ' + lab;
  }
  return labs;
}

function $getEquivilentsAsString(this$static){
  var eit, str, uri_0;
  str = '';
  eit = $iterator_4(new AbstractMap$1(this$static.altURIs.map_0));
  while (eit.val$outerIter2.hasNext()) {
    uri_0 = dynamicCastToString($next_7(eit));
    str = str + ',' + uri_0;
  }
  return str;
}

function $getShortPURI(this$static){
  var prefix;
  if (this$static.PURI.indexOf('#') == -1) {
    return this$static.PURI;
  }
  prefix = getPrefix(this$static.PURI);
  $info_1(Log_21, 'prefixed node=' + prefix);
  return prefix;
}

function $hasLabel(this$static){
  return !($equalsIgnoreCase(this$static.PURI, this$static.PLabel) || $equalsIgnoreCase($getShortPURI(this$static), this$static.PLabel) || $equalsIgnoreCase(extractLabelFromURI(this$static.PURI), this$static.PLabel));
}

function $hasLabel_0(this$static, label_0){
  var name_0, names;
  if ($equalsIgnoreCase(this$static.PLabel, label_0)) {
    return true;
  }
  names = $iterator_4(new AbstractMap$1(this$static.altLabs.map_0));
  while (names.val$outerIter2.hasNext()) {
    name_0 = dynamicCastToString($next_7(names));
    if ($equalsIgnoreCase(name_0, label_0)) {
      return true;
    }
  }
  return false;
}

function $hasURI(this$static, URI){
  var equits, equiv_uri;
  if ($equalsIgnoreCase(this$static.PURI, URI)) {
    return true;
  }
  equits = $iterator_4(new AbstractMap$1(this$static.altURIs.map_0));
  while (equits.val$outerIter2.hasNext()) {
    equiv_uri = dynamicCastToString($next_7(equits));
    if ($equalsIgnoreCase(equiv_uri, URI)) {
      return true;
    }
  }
  return false;
}

function $isOrHasChildClass(this$static, classToTest){
  var child, child$iterator;
  if (classToTest == this$static) {
    return true;
  }
  for (child$iterator = new AbstractList$IteratorImpl(this$static.knownSubclassesOfThis); child$iterator.i < child$iterator.this$01_0.size_1();) {
    child = (checkCriticalElement(child$iterator.i < child$iterator.this$01_0.size_1()) , dynamicCast(child$iterator.this$01_0.get_0(child$iterator.last = child$iterator.i++), 55));
    if ($isOrHasChildClass(child, classToTest)) {
      return true;
    }
  }
  return false;
}

function $isOrHasParentClass(this$static, classnode){
  var kpC, sssNode;
  if ($equals_0(this$static, classnode)) {
    return true;
  }
  this$static.NeedsUpdate && $refreshParentCache(this$static);
  kpC = new AbstractList$IteratorImpl(this$static.knownParentClasses);
  while (kpC.i < kpC.this$01_0.size_1()) {
    sssNode = (checkCriticalElement(kpC.i < kpC.this$01_0.size_1()) , dynamicCast(kpC.this$01_0.get_0(kpC.last = kpC.i++), 55));
    if ($isOrHasParentClass(sssNode, classnode)) {
      return true;
    }
  }
  return false;
}

function $isOrHasParentClass_0(this$static, classURI){
  var kpC, sssNode;
  classURI = $trim(classURI);
  if ($hasURI(this$static, classURI)) {
    return true;
  }
  this$static.NeedsUpdate && $refreshParentCache(this$static);
  kpC = new AbstractList$IteratorImpl(this$static.knownParentClasses);
  while (kpC.i < kpC.this$01_0.size_1()) {
    sssNode = (checkCriticalElement(kpC.i < kpC.this$01_0.size_1()) , dynamicCast(kpC.this$01_0.get_0(kpC.last = kpC.i++), 55));
    if ($isOrHasParentClass_0(sssNode, classURI)) {
      return true;
    }
  }
  return false;
}

function $refreshParentCache(this$static){
  var parents, parentsIt;
  parents = getCommonPropertySetsContaining(this$static.PURI);
  if (parents.map_0.size_1() == 0) {
    return;
  }
  parentsIt = $iterator_4(new AbstractMap$1(parents.map_0));
  $scheduleAfter(($clinit_SuperSimpleSemantics() , waitForRep), new SSSNode$1(parentsIt, this$static));
}

function SSSNode(pLabel, pURI){
  $$init_6(this);
  this.PLabel = $trim(pLabel);
  this.PURI = $trim(pURI);
  $warning_0(Log_21, '________________1111New Node ' + pURI + '(' + this.PLabel + ') Created TotalNodes = ' + knownNodes.array.length);
  knownNodes.add_0(this);
}

function SSSNode_0(pLabel, pURI, parents){
  $$init_6(this);
  this.PLabel = $trim(pLabel);
  this.PURI = $trim(pURI);
  this.knownParentClasses = new ArrayList_1(new Arrays$ArrayList(parents));
  $addParentClassesToSets(this, this.knownParentClasses, 'Internal');
  $warning_0(Log_21, '________________~~~~New Node ' + pURI + '(' + this.PLabel + ') Created TotalNodes = ' + knownNodes.array.length);
  knownNodes.add_0(this);
}

function createSSSNode(pURI, defaultNS){
  $clinit_SSSNode();
  var pLabel;
  pLabel = extractLabelFromURI(pURI);
  return createSSSNode_0(pLabel, pURI, defaultNS, null);
}

function createSSSNode_0(pLabel, pURI, defaultNS, parents){
  $clinit_SSSNode();
  var alreadyHasHash, hashloc, isFileName, newnode, quoteloc;
  pURI = $trim(pURI);
  pLabel = $trim(pLabel);
  ensureDefaultNameSpacesSetUp();
  stripAngledBrackets && (pURI = stripAngleBrackets(pURI));
  pLabel = stripQuotes(pLabel);
  if (pURI.indexOf(':') != -1) {
    $info_1(Log_21, 'potential prefix in uri detected');
    pURI = getURI(pURI);
    $info_1(Log_21, 'is now:' + pURI);
  }
  isFileName = isFilename(pURI);
  $info_1(Log_21, pURI + ' is filename:' + isFileName);
  alreadyHasHash = false;
  hashloc = pURI.indexOf('#');
  quoteloc = pURI.indexOf('"');
  hashloc != -1 && (hashloc < quoteloc || quoteloc == -1) && (alreadyHasHash = true);
  if (!alreadyHasHash && !$equals_5(pURI.substr(0, 7), 'http://') && !isFileName) {
    $info_1(Log_21, 'adding default ns:' + defaultNS + ' to node ' + pURI);
    pURI = defaultNS + pURI;
  }
  newnode = getNodeByUri(pURI);
  if (!newnode || newnode == NOTFOUND) {
    $info_1(Log_21, 'createing node for uri:' + pURI);
    parents != null?(newnode = new SSSNode_0(pLabel, pURI, parents)):(newnode = new SSSNode(pLabel, pURI));
  }
   else {
    $warning_0(Log_21, '################## Existing Node Found:' + newnode.PURI);
  }
  return newnode;
}

function extractLabelFromURI(pURI){
  $clinit_SSSNode();
  var FirstColonsLocation, FirstHashLocation, OpeningQuoteLocation, earliestPos, pLabel;
  stripAngledBrackets && (pURI = stripAngleBrackets(pURI));
  pLabel = pURI;
  OpeningQuoteLocation = pURI.indexOf('"');
  FirstColonsLocation = pURI.indexOf(':');
  FirstHashLocation = pURI.indexOf('#');
  earliestPos = smallestNonNegative(initValues(getClassLiteralForArray(I_classLit, 1), $intern_53, 0, 7, [FirstColonsLocation, FirstHashLocation]));
  OpeningQuoteLocation < earliestPos && OpeningQuoteLocation != -1 && (earliestPos = 0);
  if (earliestPos > 0) {
    pLabel = __substr(pURI, earliestPos + 1, pURI.length - (earliestPos + 1));
    $info_1(Log_21, 'abel is now :l ' + pLabel);
  }
  pLabel = stripQuotes(pLabel);
  return pLabel;
}

function getNodeByLabel(label_0){
  $clinit_SSSNode();
  var nodes, sssNode;
  $info_1(Log_21, 'getting node by label:' + label_0);
  nodes = new AbstractList$IteratorImpl(knownNodes);
  while (nodes.i < nodes.this$01_0.size_1()) {
    sssNode = (checkCriticalElement(nodes.i < nodes.this$01_0.size_1()) , dynamicCast(nodes.this$01_0.get_0(nodes.last = nodes.i++), 55));
    if ($hasLabel_0(sssNode, label_0)) {
      return sssNode;
    }
  }
  return NOTFOUND;
}

function getNodeByUri(uri_0){
  $clinit_SSSNode();
  var nodes, sssNode;
  if ($equalsIgnoreCase(uri_0, 'rdfs:subClassOf') || $equalsIgnoreCase(uri_0, 'http://www.w3.org/2000/01/rdf-schema#subClassOf')) {
    return SubClassOf;
  }
  if ($equalsIgnoreCase(uri_0, 'rdfs:label') || $equalsIgnoreCase(uri_0, 'http://www.w3.org/2000/01/rdf-schema#label')) {
    return Label_3;
  }
  if ($equalsIgnoreCase(uri_0, 'owl:equivalentClass') || $equalsIgnoreCase(uri_0, 'http://www.w3.org/2002/07/owl#equivalentclass')) {
    $warning_0(Log_21, '____________ SSSNode.Equivlient:' + uri_0);
    return Equivlient;
  }
  if (uri_0.indexOf(':') != -1) {
    $info_1(Log_21, 'potential prefix detected');
    uri_0 = getURI(uri_0);
  }
  nodes = new AbstractList$IteratorImpl(knownNodes);
  while (nodes.i < nodes.this$01_0.size_1()) {
    sssNode = (checkCriticalElement(nodes.i < nodes.this$01_0.size_1()) , dynamicCast(nodes.this$01_0.get_0(nodes.last = nodes.i++), 55));
    if ($hasURI(sssNode, uri_0)) {
      return sssNode;
    }
  }
  $info_1(Log_21, 'no existing node found for: ' + uri_0);
  return NOTFOUND;
}

function mergeNode(thisNode, intoThisNode){
  $clinit_SSSNode();
  $add_24(pendingMergeRequests, new SSSNode$MergeRequest(thisNode, intoThisNode));
  pendingMergeRequests.size_0 > 0 && !MergeInProcess?mergeNodeSafely(dynamicCast($removeFirst(pendingMergeRequests), 296)):$info_1(Log_21, 'merge in progress,waiting to start next merge');
}

function mergeNodeSafely(mergedetails){
  var altLabel, altLabel$iterator, altURI, altURI$iterator, child, child$iterator, intoThisNode, mergeSupportedBy, parent_0, parent$iterator, thisNode;
  thisNode = mergedetails.thisNode;
  intoThisNode = mergedetails.intoThisNode;
  mergeSupportedBy = mergedetails.mergeSupportedBy;
  $clinit_SuperSimpleSemantics();
  if (thisNode == intoThisNode) {
    $info_1(Log_21, 'nodes are the same! cant merge into itself!');
    MergeInProcess = false;
    pendingMergeRequests.size_0 > 0 && !MergeInProcess?mergeNodeSafely(dynamicCast($removeFirst(pendingMergeRequests), 296)):$info_1(Log_21, 'merge in progress,waiting to start next merge');
    return;
  }
  MergeInProcess = true;
  $addEquivalent(intoThisNode, thisNode.PURI);
  for (altURI$iterator = $iterator_4(new AbstractMap$1(thisNode.altURIs.map_0)); altURI$iterator.val$outerIter2.hasNext();) {
    altURI = dynamicCastToString($next_7(altURI$iterator));
    $add_21(intoThisNode.altURIs, altURI);
  }
  $addLabel(intoThisNode, thisNode.PLabel);
  for (altLabel$iterator = $iterator_4(new AbstractMap$1(thisNode.altLabs.map_0)); altLabel$iterator.val$outerIter2.hasNext();) {
    altLabel = dynamicCastToString($next_7(altLabel$iterator));
    $info_1(Log_21, 'copying label:' + altLabel + ' to ' + intoThisNode.PURI);
    $addLabel(intoThisNode, altLabel);
  }
  $warning_0(Log_21, 'node now has:' + $getAllPLabels(intoThisNode));
  intoThisNode.knownParentClasses = thisNode.knownParentClasses;
  for (parent$iterator = new AbstractList$IteratorImpl(thisNode.knownParentClasses); parent$iterator.i < parent$iterator.this$01_0.size_1();) {
    parent_0 = (checkCriticalElement(parent$iterator.i < parent$iterator.this$01_0.size_1()) , dynamicCast(parent$iterator.this$01_0.get_0(parent$iterator.last = parent$iterator.i++), 55));
    $addParentClasses(intoThisNode, parent_0, mergeSupportedBy, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  }
  intoThisNode.knownSubclassesOfThis = thisNode.knownSubclassesOfThis;
  for (child$iterator = new AbstractList$IteratorImpl(thisNode.knownSubclassesOfThis); child$iterator.i < child$iterator.this$01_0.size_1();) {
    child = (checkCriticalElement(child$iterator.i < child$iterator.this$01_0.size_1()) , dynamicCast(child$iterator.this$01_0.get_0(child$iterator.last = child$iterator.i++), 55));
    $indexOf_0(intoThisNode.knownSubclassesOfThis, child, 0) == -1 && !$equals_0(child, intoThisNode) && intoThisNode.knownSubclassesOfThis.add_0(child);
  }
  replaceNodeInSetDefinitions(thisNode, intoThisNode);
  replaceNodeInSets(thisNode, intoThisNode, mergeSupportedBy);
  replaceNodesInIndexs(thisNode, intoThisNode);
  $remove_0(knownNodes, thisNode);
  thisNode.PURI = 'Error This Node Not Used Due To Merge';
  thisNode.PLabel = 'Error This Node Not Used Due To Merge';
  logAllSets();
  $warning_0(Log_21, '-----------------------------------------------------------------merge finnished');
  MergeInProcess = false;
  pendingMergeRequests.size_0 > 0 && !MergeInProcess?mergeNodeSafely(dynamicCast($removeFirst(pendingMergeRequests), 296)):$info_1(Log_21, 'merge in progress,waiting to start next merge');
}

defineClass(55, 1, {55:1}, SSSNode, SSSNode_0);
_.equals$ = function equals_5(c){
  return $equals_0(this, c);
}
;
_.hashCode$ = function hashCode_4(){
  return getHashCode_1(this.PURI);
}
;
_.toString$ = function toString_15(){
  return this.PLabel;
}
;
_.NeedsUpdate = true;
_.PLabel = '';
_.PURI = '';
var ERROR, Equivlient, Label_3, Log_21, MergeInProcess = false, NOTFOUND, STARTSWITH, SubClassOf, knownNodes, pendingMergeRequests, stripAngledBrackets = true;
var Lcom_darkflame_client_semantic_SSSNode_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSNode', 55, Ljava_lang_Object_2_classLit);
function SSSNode$1(val$parentsIt, val$thisNode){
  this.val$parentsIt2 = val$parentsIt;
  this.val$thisNode3 = val$thisNode;
}

defineClass(1048, 1, {}, SSSNode$1);
_.execute_0 = function execute_8(){
  var pred, sssNodesWithCommonProperty, val;
  sssNodesWithCommonProperty = dynamicCast($next_7(this.val$parentsIt2), 175);
  val = sssNodesWithCommonProperty.commonValue;
  pred = sssNodesWithCommonProperty.commonPrec;
  if ($equals_0(pred, ($clinit_SSSNode() , SubClassOf))) {
    $info_1(Log_21, 'adding parent:' + pred.PLabel + ' ' + val.PLabel);
    $addParentClasses(this.val$thisNode3, val, '', ($clinit_Boolean() , $clinit_Boolean() , FALSE_2));
  }
  return this.val$parentsIt2.val$outerIter2.hasNext();
}
;
var Lcom_darkflame_client_semantic_SSSNode$1_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSNode/1', 1048, Ljava_lang_Object_2_classLit);
function SSSNode$MergeRequest(thisNode, intoThisNode){
  this.thisNode = thisNode;
  this.intoThisNode = intoThisNode;
  this.mergeSupportedBy = 'merge supported by not yet implemented';
}

defineClass(296, 1, {296:1}, SSSNode$MergeRequest);
var Lcom_darkflame_client_semantic_SSSNode$MergeRequest_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSNode/MergeRequest', 296, Ljava_lang_Object_2_classLit);
function $clinit_SSSNodesWithCommonProperty(){
  $clinit_SSSNodesWithCommonProperty = emptyMethod;
  Log_22 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss.SSSNodesWithCommonProperty'));
  CPLToParseList = new HashSet;
  globalNodesWithPropertyListByPredicate = new HashMultimap;
}

function $addFileSource(this$static, fileSource, indexlocation){
  var wasNewFile;
  wasNewFile = dynamicCastToString(this$static.fileSource.put(fileSource, indexlocation));
  if (wasNewFile == null) {
    this$static.isLoaded = false;
    $add_21(this$static.FilesLeftToLoadForThisSet, fileSource);
  }
}

function $addNodeToThisSet(this$static, newnode, SupportingDomain){
  if (this$static.commonPrec == ($clinit_SSSNode() , SubClassOf)) {
    if ($isOrHasChildClass(newnode, this$static.commonValue)) {
      $info_1(Log_22, '___SSS Parse Error:  ' + newnode.PLabel + ' would create inheritance loop');
      return $clinit_Boolean() , $clinit_Boolean() , FALSE_2;
    }
  }
  if ($indexOf_0(this$static, newnode, 0) == -1) {
    $info_1(Log_22, 'adding node' + newnode.PURI);
    setCheck(this$static.array, this$static.array.length, newnode);
    dynamicCast($get_2(this$static.SupportingDomains, newnode), 41).add_0(SupportingDomain);
    return $clinit_Boolean() , $clinit_Boolean() , TRUE_3;
  }
  dynamicCast($get_2(this$static.SupportingDomains, newnode), 41).add_0(SupportingDomain);
  return $clinit_Boolean() , $clinit_Boolean() , FALSE_2;
}

function $calledWhenDoneCheck(this$static){
  var i, loadingCallback, size_0;
  if (this$static.calledWhenDoneList.array.length == 0) {
    $warning_0(Log_22, 'callback when done list empty');
  }
   else {
    $warning_0(Log_22, 'running LoadingCallbacks:' + this$static.calledWhenDoneList.array.length);
    size_0 = this$static.calledWhenDoneList.array.length;
    i = 0;
    while (i < size_0) {
      loadingCallback = dynamicCast($get(this$static.calledWhenDoneList, 0), 1542);
      if (loadingCallback) {
        $warning_0(Log_22, 'running LoadingCallback:' + i);
        $info_1(($clinit_SuperSimpleSemantics() , Log_16), 'loaded indexs, now loading SSS Files:');
        parseAllKnownSSSFilesFromIndexs();
        $info_1(Log_16, 'loadeded all SSS Files:');
        $info_1(Log_16, ($clinit_SSSNodesWithCommonProperty() , 'global sss left = ' + CPLToParseList.map_0.size_1()));
        $remove_0(this$static.calledWhenDoneList, loadingCallback);
        ++i;
      }
       else {
        $warning_0(Log_22, 'running LoadingCallback:' + i);
        break;
      }
    }
  }
}

function $checkLeftToLoad(this$static){
  this$static.FilesLeftToLoadForThisSet.map_0.size_1() == 0 && $warning_0(Log_22, 'XXXXXXXXX Nothing Left To Load');
  if (this$static.list_not_used) {
    return;
  }
  if (this$static.FilesLeftToLoadForThisSet.map_0.size_1() == 0 && !this$static.NodeListActive) {
    $info_1(Log_22, 'adding a set for:' + this$static.thisset.commonPrec.PLabel + ' , ' + this$static.thisset.commonValue.PLabel);
    $info_1(Log_22, 'set has ' + this$static.thisset.array.length + ' values in it');
    $put(globalNodesWithPropertyListByPredicate, this$static.commonPrec, this$static.thisset);
    this$static.NodeListActive = true;
    this$static.isLoaded = true;
  }
  if (this$static.FilesLeftToLoadForThisSet.map_0.size_1() == 0) {
    this$static.isLoaded = true;
    $info_1(Log_22, 'set loaded? adding to displayer');
    $clinit_SuperSimpleSemantics();
    $calledWhenDoneCheck(this$static);
  }
}

function $containsNodeWithURI(this$static, URI){
  var contents, sssNode;
  contents = new AbstractList$IteratorImpl(this$static);
  while (contents.i < contents.this$01_0.size_1()) {
    sssNode = (checkCriticalElement(contents.i < contents.this$01_0.size_1()) , dynamicCast(contents.this$01_0.get_0(contents.last = contents.i++), 55));
    !sssNode && $severe_0(Log_22, 'null node in CPL error');
    if ($hasURI(sssNode, URI)) {
      return true;
    }
  }
  return false;
}

function $getAllDomainsSourced(this$static){
  var domains, sdit, string, uri_0;
  domains = new HashSet;
  $addAll(domains, $values(this$static.SupportingDomains));
  sdit = $iterator_4(new AbstractMap$1(domains.map_0));
  uri_0 = '-';
  while (sdit.val$outerIter2.hasNext()) {
    string = dynamicCastToString($next_7(sdit));
    uri_0 = string + ' , ' + uri_0;
  }
  return uri_0;
}

function $getSourceFiles(this$static){
  if ((new AbstractMap$1(this$static.fileSource)).this$01.size_1() == 0) {
    return 'no file source specified';
  }
  return $toString_0(new AbstractMap$1(this$static.fileSource));
}

function $loadSSSFile(this$static, fileURL, ns){
  var forcePost, onError, onResponse;
  this$static.isLoaded = false;
  this$static.LeftToLoad == -10 && (this$static.LeftToLoad = 0);
  $clinit_SuperSimpleSemantics();
  ++this$static.LeftToLoad;
  onResponse = new SSSNodesWithCommonProperty$1(this$static, fileURL, ns);
  onError = new SSSNodesWithCommonProperty$2(this$static, fileURL);
  forcePost = false;
  fileURL.indexOf(':') != -1 && (forcePost = true);
  $info_1(Log_22, '_____________________________getting file: ' + fileURL + ' at ' + ns);
  $info_1(Log_22, 'Too much simultanious loading!, adding to loading queue');
  add_13(fileURL, onResponse, onError, forcePost);
}

function $loadSSSFiles(this$static, fileSource2){
  var url_0, url$iterator;
  for (url$iterator = $iterator_4(new AbstractMap$1(fileSource2)); url$iterator.val$outerIter2.hasNext();) {
    url_0 = dynamicCastToString($next_7(url$iterator));
    $loadSSSFile(this$static, url_0, dynamicCastToString(fileSource2.get_2(url_0)));
  }
}

function $parseSSSFile(this$static, commonPrec, commonValue, fileData, defaultns, fileURL){
  var lines;
  $info_1(Log_22, 'parseing file:\n' + fileURL);
  lines = $split_0(fileData, '\r?\n|\r', 0);
  $scheduleAfter(($clinit_SuperSimpleSemantics() , waitForRep), new SSSNodesWithCommonProperty$3(this$static, lines, fileURL, defaultns, commonPrec, commonValue));
}

function $returnNodeURIfromSSSline(this$static, line, defaultns){
  var NodeURI, i, linebit, linebits, linefragment, newnode, newnodeslabel, quoteOpen;
  $info_1(Log_22, 'line==' + line);
  ($endsWith(line, '.') || $endsWith(line, ';')) && (line = $substring_0(line, 0, line.length - 1));
  NodeURI = '';
  if (line.indexOf(':') != -1) {
    linebits = $split_0(line, ' ', 0);
    i = 0;
    linefragment = 0;
    quoteOpen = false;
    linebit = '';
    while (i < linebits.length) {
      linebit = $trim(linebit + ' ' + linebits[i]);
      ++i;
      $info_1(Log_22, 'linebit==' + linebit);
      if ($equals_5(linebit.substr(0, 1), '"') && !quoteOpen) {
        __substr(linebit, 1, linebit.length - 1).indexOf('"') != -1 || (quoteOpen = true);
      }
       else if (!!linebit.length && __substr(linebit, 1, linebit.length - 1).indexOf('"') != -1 && quoteOpen) {
        $info_1(Log_22, 'full quoted line==' + linebit);
        quoteOpen = false;
      }
      if (quoteOpen) {
        continue;
      }
      if (!linebit.length) {
        continue;
      }
      if (linefragment == 0) {
        NodeURI = linebit;
        $info_1(Log_22, '\n NodeURI detected:' + linebit);
        ++linefragment;
      }
      linebit = '';
    }
  }
   else {
    NodeURI = line;
  }
  $warning_0(Log_22, '_____creating node:' + NodeURI.toLowerCase() + ' defaultns:' + defaultns);
  newnodeslabel = extractLabelFromURI(NodeURI);
  newnode = ($clinit_SSSNode() , createSSSNode_0(newnodeslabel, NodeURI.toLowerCase(), defaultns, null));
  $warning_0(Log_22, '_____Adding Node :' + newnode.PURI);
  this$static.commonPrec == SubClassOf && $addParentClasses(newnode, this$static.commonValue, defaultns, ($clinit_Boolean() , $clinit_Boolean() , FALSE_2));
  return newnode;
}

function $subtractFromLoadingAndTest(this$static, url_0){
  var removed;
  removed = ($clinit_Boolean() , $remove_21(this$static.FilesLeftToLoadForThisSet, url_0)?TRUE_3:FALSE_2);
  $warning_0(Log_22, '__Just loaded:' + url_0 + ' removed:' + removed);
  removeFromLeftToLoadList_0(url_0, this$static.commonPrec, this$static.commonValue);
  --this$static.LeftToLoad;
  --globalLeftToLoad;
  $warning_0(Log_22, 'globalLeftToLoad-------------------------------------' + CPLToParseList.map_0.size_1());
  $info_1(Log_22, 'LeftToLoad--' + this$static.LeftToLoad);
  $checkLeftToLoad(this$static);
  $warning_0(Log_22, 'temp4');
  CPLToParseList.map_0.size_1() == 0 && $warning_0(Log_22, 'NodesWithCommonProperty left to load=' + CPLToParseList.map_0.size_1());
}

function SSSNodesWithCommonProperty(commonPrec, commonValue){
  ArrayList.call(this);
  this.LeftToLoad = -10;
  this.calledWhenDoneList = new ArrayList;
  this.SupportingDomains = new HashMultimap;
  this.thisset = this;
  this.isLoaded = true;
  this.NodeListActive = false;
  this.fileSource = new HashMap;
  this.FilesLeftToLoadForThisSet = new HashSet;
  this.list_not_used = false;
  this.commonPrec = commonPrec;
  this.commonValue = commonValue;
}

function addToGlobalLeftToLoad(i){
  $clinit_SSSNodesWithCommonProperty();
  globalLeftToLoad == -10 && (globalLeftToLoad = -1);
  globalLeftToLoad = globalLeftToLoad + i;
}

function addToLeftToLoadList(sssIndex){
  $clinit_SSSNodesWithCommonProperty();
  var changed;
  changed = ($clinit_Boolean() , $addAll(CPLToParseList, sssIndex)?TRUE_3:FALSE_2);
  $warning_0(Log_22, 'adding to list:' + sssIndex.array.length + ' list changed:' + changed);
}

function addToLeftToLoadList_0(allKnowenIndexs){
  $clinit_SSSNodesWithCommonProperty();
  var sssIndex, sssIndex$iterator;
  for (sssIndex$iterator = $iterator_4(new AbstractMap$1(allKnowenIndexs.map_0)); sssIndex$iterator.val$outerIter2.hasNext();) {
    sssIndex = dynamicCast($next_7(sssIndex$iterator), 292);
    addToLeftToLoadList(sssIndex);
  }
}

function createSSSNodesWithCommonProperty(commonPrec, commonValue){
  $clinit_SSSNodesWithCommonProperty();
  var added, cp, cp$iterator, newset;
  if (!commonPrec || !commonValue) {
    return null;
  }
  newset = getSetFor(commonPrec, commonValue);
  $info_1(Log_22, '~completed set getting');
  if (!newset) {
    newset = new SSSNodesWithCommonProperty(commonPrec, commonValue);
    $warning_0(Log_22, '~~~~~~~~~~~~~~~~~~SET CREATED FOR~~~~~~~~~~~~~~' + commonPrec.PURI + ' , ' + commonValue.PURI);
    $info_1(Log_22, 'sets with this predicate = ' + dynamicCast($get_2(globalNodesWithPropertyListByPredicate, commonPrec), 41).size_1());
    added = ($clinit_Boolean() , $put(globalNodesWithPropertyListByPredicate, commonPrec, newset)?TRUE_3:FALSE_2);
    if (!added.value_0) {
      $info_1(Log_22, 'already exists for:' + commonPrec.PURI + ' , ' + commonValue.PURI);
      for (cp$iterator = new AbstractMapBasedMultimap$1($values(globalNodesWithPropertyListByPredicate).this$01); cp$iterator.keyIterator.hasNext() || cp$iterator.valueIterator.hasNext();) {
        cp = dynamicCast($next_0(cp$iterator), 175);
        $info_1(Log_22, cp.commonPrec.PURI + ' | ' + cp.commonValue.PURI);
        $info_1(Log_22, 'hashcode:' + (getHashCode_1(cp.commonPrec.PURI) ^ getHashCode_1(cp.commonValue.PURI)));
      }
    }
    newset.NodeListActive = true;
  }
  return newset;
}

function getAllCurrentNodesInSetsFor(pred, value_0){
  var predArray, valueArray;
  valueArray = new ArrayList;
  valueArray.add_0(value_0);
  predArray = new ArrayList;
  predArray.add_0(pred);
  return getAllCurrentNodesInSetsFor_0(predArray, valueArray);
}

function getAllCurrentNodesInSetsFor_0(preds, values){
  var Subclasses, matchingNodes, matchit, newToSearch, nwpit, pred, pred$iterator, setToSearch, sssNode, sssnodeSet, value_0, value$iterator;
  setToSearch = new ArrayList;
  for (pred$iterator = new AbstractList$IteratorImpl(preds); pred$iterator.i < pred$iterator.this$01_0.size_1();) {
    pred = (checkCriticalElement(pred$iterator.i < pred$iterator.this$01_0.size_1()) , dynamicCast(pred$iterator.this$01_0.get_0(pred$iterator.last = pred$iterator.i++), 55));
    newToSearch = dynamicCast($get_2(globalNodesWithPropertyListByPredicate, pred), 41);
    setToSearch.addAll(newToSearch);
  }
  nwpit = new AbstractList$IteratorImpl(setToSearch);
  $info_1(Log_22, '____searching out of  ' + setToSearch.array.length);
  matchingNodes = new HashSet;
  $clinit_SuperSimpleSemantics();
  while (nwpit.i < nwpit.this$01_0.size_1()) {
    sssnodeSet = (checkCriticalElement(nwpit.i < nwpit.this$01_0.size_1()) , dynamicCast(nwpit.this$01_0.get_0(nwpit.last = nwpit.i++), 175));
    $info_1(Log_22, 'checking:' + sssnodeSet.commonPrec.PURI + ' size -' + sssnodeSet.array.length);
    $info_1(Log_22, 'checking:' + sssnodeSet.commonValue.PURI + ' size -' + sssnodeSet.array.length);
    sssnodeSet.isLoaded || 'WARNING FILE NOT LOADED' + $toString_0(new AbstractMap$1(sssnodeSet.fileSource));
    sssnodeSet.commonValue.NeedsUpdate = false;
    for (value$iterator = new AbstractList$IteratorImpl(values); value$iterator.i < value$iterator.this$01_0.size_1();) {
      value_0 = (checkCriticalElement(value$iterator.i < value$iterator.this$01_0.size_1()) , dynamicCast(value$iterator.this$01_0.get_0(value$iterator.last = value$iterator.i++), 55));
      $isOrHasParentClass_0(sssnodeSet.commonValue, value_0.PURI) && $addAll(matchingNodes, sssnodeSet);
    }
  }
  $info_1(Log_22, 'adding subclasses');
  Subclasses = new HashSet;
  matchit = $iterator_4(new AbstractMap$1(matchingNodes.map_0));
  while (matchit.val$outerIter2.hasNext()) {
    sssNode = dynamicCast($next_7(matchit), 55);
    $addAll(Subclasses, getAllCurrentNodesInSetsFor(($clinit_SSSNode() , SubClassOf), sssNode));
  }
  $addAll(matchingNodes, Subclasses);
  return matchingNodes;
}

function getAllCurrentNodesWithProperty(pred, value_0){
  $clinit_SSSNodesWithCommonProperty();
  var neededSet, predicateArray, valueArray;
  valueArray = new ArrayList;
  valueArray.add_0(value_0);
  predicateArray = new ArrayList;
  predicateArray.add_0(pred);
  neededSet = getSetFor(pred, value_0);
  $info_1(Log_22, '=completed set getting');
  if (!neededSet) {
    return null;
  }
  neededSet.isLoaded?$info_1(Log_22, 'set already loaded:' + $toString_0(new AbstractMap$1(neededSet.fileSource))):($clinit_SuperSimpleSemantics() , 'Warning not loaded:' + neededSet.commonPrec + '=' + neededSet.commonValue);
  return $info_1(Log_22, '____searching ' + globalNodesWithPropertyListByPredicate.totalSize + ' propertylists for ' + predicateArray.toString$() + ' v=' + valueArray.toString$()) , getAllCurrentNodesInSetsFor_0(predicateArray, valueArray);
}

function getCommonPropertySetsContaining(URI){
  $clinit_SSSNodesWithCommonProperty();
  var gnpit, matchingCPLs, sssNodesWithCommonProperty;
  matchingCPLs = new HashSet;
  gnpit = new AbstractMapBasedMultimap$1($values(globalNodesWithPropertyListByPredicate).this$01);
  while (gnpit.keyIterator.hasNext() || gnpit.valueIterator.hasNext()) {
    sssNodesWithCommonProperty = dynamicCast($next_0(gnpit), 175);
    if ($containsNodeWithURI(sssNodesWithCommonProperty, URI)) {
      $add_21(matchingCPLs, sssNodesWithCommonProperty);
      continue;
    }
  }
  return matchingCPLs;
}

function getSetFor(pred, value_0){
  var matchingset, matchingsetcount, nwpit, sssnodeSet;
  $info_1(Log_22, '_____getting matching set: ' + pred.PURI + ' ' + value_0.PURI);
  $info_1(Log_22, '____searching ' + globalNodesWithPropertyListByPredicate.totalSize + ' propertylists');
  pred == ($clinit_SSSNode() , STARTSWITH) && undefined;
  nwpit = dynamicCast($get_2(globalNodesWithPropertyListByPredicate, pred), 41).iterator();
  matchingset = null;
  matchingsetcount = 0;
  while (nwpit.hasNext()) {
    sssnodeSet = dynamicCast(nwpit.next_0(), 175);
    $info_1(Log_22, 'testing:-  ' + sssnodeSet.commonPrec + ':' + sssnodeSet.commonValue);
    if ($equals_0(sssnodeSet.commonValue, value_0)) {
      matchingset = sssnodeSet;
      ++matchingsetcount;
    }
  }
  $info_1(Log_22, 'found ' + matchingsetcount + ' set matchs');
  return matchingset;
}

function logAllSets(){
  $clinit_SSSNodesWithCommonProperty();
  var cpl, vit;
  vit = new AbstractMapBasedMultimap$1($values(globalNodesWithPropertyListByPredicate).this$01);
  while (vit.keyIterator.hasNext() || vit.valueIterator.hasNext()) {
    cpl = dynamicCast($next_0(vit), 175);
    $info_1(Log_22, ' :-' + cpl.commonPrec.PURI + ' = ' + cpl.commonValue);
  }
}

function mergeSets(set1, set2){
  $info_1(Log_22, 'merging:' + set1.commonPrec + '=' + set1.commonValue + ' (' + $getAllDomainsSourced(set1) + ')' + ' (' + $getSourceFiles(set1) + ')');
  $info_1(Log_22, 'with:' + set2.commonPrec + '=' + set2.commonValue + ' (' + $getAllDomainsSourced(set2) + ')' + ' (' + $getSourceFiles(set2) + ')');
  'merging:' + set1.commonPrec + '=' + set1.commonValue + ' (' + $getAllDomainsSourced(set1) + ')' + ' (' + $getSourceFiles(set1) + ')';
  'with:' + set2.commonPrec + '=' + set2.commonValue + ' (' + $getAllDomainsSourced(set2) + ')' + ' (' + $getSourceFiles(set2) + ')';
  $putAll_0(set1.fileSource, set2.fileSource);
  $putAll(set1.SupportingDomains, set2.SupportingDomains);
  if (set2.isLoaded) {
    'contents =..' + $toString_0(set2);
    $addAll_0(set1, set2);
  }
   else {
    $loadSSSFiles(set1, set2.fileSource);
    $warning_0(Log_22, '_________CALLBACK ADDED________');
    set2.calledWhenDoneList.add_0(null);
    set2.list_not_used = true;
  }
  $info_1(Log_22, 'merged. Removing old:' + $getSourceFiles(set2));
  'merged. Removing old:' + $getSourceFiles(set2);
}

function removeFromLeftToLoadList(listDefinition){
  $clinit_SSSNodesWithCommonProperty();
  $clinit_Boolean();
  $remove_21(CPLToParseList, listDefinition)?TRUE_3:FALSE_2;
}

function removeFromLeftToLoadList_0(url_0, commonPredicate, commonValue){
  var loopOver, test_0;
  loopOver = $iterator_4(new AbstractMap$1(CPLToParseList.map_0));
  while (loopOver.val$outerIter2.hasNext()) {
    test_0 = dynamicCast($next_7(loopOver), 250);
    test_0.precident == commonPredicate && test_0.value_0 == commonValue && $equals_5(test_0.subject.PURI, url_0) && loopOver.val$outerIter2.remove_2();
  }
}

function replaceNodeInSetDefinitions(oldnode, newnode){
  $clinit_SSSNodesWithCommonProperty();
  var allSets, changed, existingSet, existingSet$iterator, pred, removeThesePropertyLists, set_to_check, setit, value_0;
  $warning_0(Log_22, 'replacing:' + oldnode.PURI + ' with ' + newnode.PURI + ' in sets');
  allSets = $values(globalNodesWithPropertyListByPredicate);
  removeThesePropertyLists = new HashSet;
  setit = new AbstractMapBasedMultimap$1(allSets.this$01);
  while (setit.keyIterator.hasNext() || setit.valueIterator.hasNext()) {
    set_to_check = dynamicCast($next_0(setit), 175);
    pred = set_to_check.commonPrec;
    value_0 = set_to_check.commonValue;
    changed = false;
    $warning_0(Log_22, 'checking set:' + set_to_check.commonPrec.PURI + '=' + set_to_check.commonValue.PURI);
    if (set_to_check.commonPrec == oldnode) {
      pred = newnode;
      changed = true;
    }
    if (set_to_check.commonValue == oldnode) {
      value_0 = newnode;
      changed = true;
    }
    if (changed) {
      $warning_0(Log_22, 'detecting existing sets');
      existingSet = getSetFor(pred, value_0);
      $info_1(Log_22, '~~~completed set getting');
      set_to_check.commonPrec = pred;
      set_to_check.commonValue = value_0;
      if (existingSet) {
        mergeSets(set_to_check, existingSet);
        $add_21(removeThesePropertyLists, existingSet);
      }
       else {
        $warning_0(Log_22, 'no existing sets found');
      }
    }
  }
  $warning_0(Log_22, 'removing unused sets:');
  for (existingSet$iterator = $iterator_4(new AbstractMap$1(removeThesePropertyLists.map_0)); existingSet$iterator.val$outerIter2.hasNext();) {
    existingSet = dynamicCast($next_7(existingSet$iterator), 175);
    $clinit_Boolean();
    dynamicCast($get_2(globalNodesWithPropertyListByPredicate, existingSet.commonPrec), 41).remove(existingSet)?TRUE_3:FALSE_2;
  }
  $warning_0(Log_22, 'finnished replacing:' + oldnode.PURI + ' with ' + newnode.PURI + ' in sets');
}

function replaceNodeInSets(oldnode, newnode, mergeSupportedBy){
  $clinit_SSSNodesWithCommonProperty();
  var cps, removed, sssNodesWithCommonProperty, sssNodesWithCommonProperty$iterator;
  $clinit_SuperSimpleSemantics();
  cps = getCommonPropertySetsContaining(oldnode.PURI);
  if (cps.map_0.size_1() == 0)
  ;
  else {
    for (sssNodesWithCommonProperty$iterator = $iterator_4(new AbstractMap$1(cps.map_0)); sssNodesWithCommonProperty$iterator.val$outerIter2.hasNext();) {
      sssNodesWithCommonProperty = dynamicCast($next_7(sssNodesWithCommonProperty$iterator), 175);
      removed = ($clinit_Boolean() , dynamicCast($get_2(sssNodesWithCommonProperty.SupportingDomains, oldnode), 41).clear_1() , $remove_0(sssNodesWithCommonProperty, oldnode)?TRUE_3:FALSE_2);
      removed.value_0 && $addNodeToThisSet(sssNodesWithCommonProperty, newnode, mergeSupportedBy);
    }
  }
}

defineClass(175, 18, {175:1, 3:1, 18:1, 25:1, 38:1, 68:1}, SSSNodesWithCommonProperty);
_.hashCode$ = function hashCode_5(){
  return getHashCode_1(this.commonPrec.PURI) ^ getHashCode_1(this.commonValue.PURI);
}
;
_.LeftToLoad = 0;
_.NodeListActive = false;
_.isLoaded = false;
_.list_not_used = false;
var CPLToParseList, Log_22, globalLeftToLoad = -10, globalNodesWithPropertyListByPredicate;
var Lcom_darkflame_client_semantic_SSSNodesWithCommonProperty_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSNodesWithCommonProperty', 175, Ljava_util_ArrayList_2_classLit);
function $processFile(this$static, fileURL, ns, responseData, StatusCode){
  if (StatusCode == 404) {
    $warning_0(($clinit_SSSNodesWithCommonProperty() , Log_22), 'FILE NOT FOUND--' + fileURL);
    $subtractFromLoadingAndTest(this$static.this$01, fileURL);
  }
   else {
    $parseSSSFile(this$static.this$01, this$static.this$01.commonPrec, this$static.this$01.commonValue, responseData, ns, fileURL);
    $info_1(($clinit_SSSNodesWithCommonProperty() , Log_22), 'post ' + this$static.this$01.commonPrec + ':' + this$static.this$01.commonValue + ' parse size:' + this$static.this$01.thisset.array.length);
  }
}

function SSSNodesWithCommonProperty$1(this$0, val$fileURL, val$ns){
  this.this$01 = this$0;
  this.val$fileURL2 = val$fileURL;
  this.val$ns3 = val$ns;
}

defineClass(1188, 1, {}, SSSNodesWithCommonProperty$1);
_.run_2 = function run_16(responseData, responseCode){
  loadedAnItem();
  $clinit_SuperSimpleSemantics();
  $run_5(new SSSNodesWithCommonProperty$1$1(this, this.val$fileURL2, this.val$ns3, responseData, responseCode));
}
;
var Lcom_darkflame_client_semantic_SSSNodesWithCommonProperty$1_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSNodesWithCommonProperty/1', 1188, Ljava_lang_Object_2_classLit);
function $run_5(this$static){
  $processFile(this$static.this$11, this$static.val$fileURL2, this$static.val$ns3, this$static.val$responseData4, this$static.val$responseCode5);
  $clinit_SuperSimpleSemantics();
}

function SSSNodesWithCommonProperty$1$1(this$1, val$fileURL, val$ns, val$responseData, val$responseCode){
  this.this$11 = this$1;
  this.val$fileURL2 = val$fileURL;
  this.val$ns3 = val$ns;
  this.val$responseData4 = val$responseData;
  this.val$responseCode5 = val$responseCode;
}

defineClass(1189, 1, {}, SSSNodesWithCommonProperty$1$1);
_.run = function run_17(){
  $run_5(this);
}
;
_.val$responseCode5 = 0;
var Lcom_darkflame_client_semantic_SSSNodesWithCommonProperty$1$1_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSNodesWithCommonProperty/1/1', 1189, Ljava_lang_Object_2_classLit);
function SSSNodesWithCommonProperty$2(this$0, val$fileURL){
  this.this$01 = this$0;
  this.val$fileURL2 = val$fileURL;
}

defineClass(1190, 1, {}, SSSNodesWithCommonProperty$2);
_.run_1 = function run_18(errorData, exception){
  $info_1(($clinit_SSSNodesWithCommonProperty() , Log_22), 'getting sssfile- ' + this.val$fileURL2 + ' failed');
  loadedAnItem();
  $subtractFromLoadingAndTest(this.this$01, this.val$fileURL2);
  $clinit_SuperSimpleSemantics();
}
;
var Lcom_darkflame_client_semantic_SSSNodesWithCommonProperty$2_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSNodesWithCommonProperty/2', 1190, Ljava_lang_Object_2_classLit);
function SSSNodesWithCommonProperty$3(this$0, val$lines, val$fileURL, val$defaultns, val$commonPrec, val$commonValue){
  this.this$01 = this$0;
  this.val$lines2 = val$lines;
  this.val$fileURL3 = val$fileURL;
  this.val$defaultns4 = val$defaultns;
  this.val$commonPrec5 = val$commonPrec;
  this.val$commonValue6 = val$commonValue;
}

defineClass(1191, 1, {}, SSSNodesWithCommonProperty$3);
_.execute_0 = function execute_9(){
  var endsat, line, linebits, newLabel, newnode, prefix, shorturi, uri_0;
  if (this.i >= this.val$lines2.length) {
    $warning_0(($clinit_SSSNodesWithCommonProperty() , Log_22), 'temp A');
    $subtractFromLoadingAndTest(this.this$01, this.val$fileURL3);
    return false;
  }
  line = $trim(this.val$lines2[this.i]);
  ++this.i;
  if (line.length < 2) {
    return true;
  }
  if ($equals_5(line.substr(0, 7), '@prefix')) {
    line = $replaceAll(line, '@prefix ', '');
    linebits = $split_0(line, '<', 0);
    prefix = $trim(linebits[0]);
    uri_0 = $trim(linebits[1]);
    endsat = uri_0.indexOf('>');
    uri_0 = uri_0.substr(0, endsat);
    $info_1(($clinit_SSSNodesWithCommonProperty() , Log_22), 'loadstatements_loading prefixs from line p::' + prefix + ' u:' + uri_0);
    addPrefix(uri_0, prefix);
    return true;
  }
  if (!!this.previousnode && $equals_5(line.substr(0, 1), '"') && ($endsWith(line, '"') || $endsWith(line, '";') || $endsWith(line, '".'))) {
    newLabel = $substring_0(line, 1, line.lastIndexOf('"'));
    $info_1(($clinit_SSSNodesWithCommonProperty() , Log_22), ' adding label ' + newLabel + ' to previous node ');
    $info_1(Log_22, ' has label already: ' + $hasLabel(this.previousnode));
    $info_1(Log_22, ' puri: ' + this.previousnode.PURI);
    shorturi = $getShortPURI(this.previousnode);
    $info_1(Log_22, ' short uri: ' + shorturi);
    $addLabel(this.previousnode, newLabel);
    $endsWith(line, ';') || (this.previousnode = null);
    return true;
  }
  newnode = $returnNodeURIfromSSSline(this.this$01, line, this.val$defaultns4);
  $indexOf_0(this.this$01.thisset, newnode, 0) != -1 || $addNodeToThisSet(this.this$01, newnode, this.val$defaultns4);
  this.val$commonPrec5 == ($clinit_SSSNode() , Label_3) && $addLabel(newnode, this.val$commonValue6.PLabel);
  if (this.val$commonPrec5 == Equivlient) {
    $clinit_SSSNodesWithCommonProperty();
    $warning_0(Log_22, '_________xx____________This : ' + newnode.PURI);
    $warning_0(Log_22, '_________xx____________IsThis : ' + this.val$commonValue6.PURI);
    mergeNode(newnode, this.val$commonValue6);
  }
  $endsWith(line, ';') && !this.previousnode && (this.previousnode = newnode);
  $endsWith(line, ';') || (this.previousnode = null);
  dynamicCast($get_2(this.this$01.SupportingDomains, newnode), 41).add_0(this.val$defaultns4);
  return true;
}
;
_.i = 0;
_.previousnode = null;
var Lcom_darkflame_client_semantic_SSSNodesWithCommonProperty$3_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSNodesWithCommonProperty/3', 1191, Ljava_lang_Object_2_classLit);
function $clinit_SSSTriplet(){
  $clinit_SSSTriplet = emptyMethod;
  new ArrayList;
}

function SSSTriplet(subject, precident, value_0){
  $clinit_SSSTriplet();
  this.subject = subject;
  this.precident = precident;
  this.value_0 = value_0;
}

defineClass(250, 1, {250:1}, SSSTriplet);
_.equals$ = function equals_6(c){
  var testme;
  if (getClass__Ljava_lang_Class___devirtual$(c) == Lcom_darkflame_client_semantic_SSSTriplet_2_classLit) {
    testme = dynamicCast(c, 250);
    if (testme.precident == this.precident && testme.value_0 == this.value_0 && testme.subject == this.subject) {
      return true;
    }
    return false;
  }
  return false;
}
;
_.toString$ = function toString_16(){
  return this.subject.PURI + ' ' + this.precident.PURI + ' ' + this.value_0.PURI;
}
;
var Lcom_darkflame_client_semantic_SSSTriplet_2_classLit = createForClass('com.darkflame.client.semantic', 'SSSTriplet', 250, Ljava_lang_Object_2_classLit);
function $clinit_SSSUtilities(){
  $clinit_SSSUtilities = emptyMethod;
  Log_23 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss.SSSUtilities'));
  PrefixStore = new HashMap;
}

function addPrefix(url_0, prefix){
  $clinit_SSSUtilities();
  if ($equals_5(prefix.substr(0, 4), 'http') || $equals_5(prefix.substr(0, 5), 'https')) {
    $severe_0(Log_23, 'attempted to add http as a prefix. Thats just silly. Was supposed to be prefix for ' + url_0);
    return;
  }
  PrefixStore.put($trim(url_0), $trim(prefix).toUpperCase());
}

function ensureDefaultNameSpacesSetUp(){
  $clinit_SSSUtilities();
  if (!nameSpacesSetup) {
    addPrefix('http://www.w3.org/2000/01/rdf-schema#', 'rdfs:');
    addPrefix('http://www.w3.org/2002/07/owl#', 'owl:');
    addPrefix('http://www.w3.org/1999/02/22-rdf-syntax-ns#', 'rdf:');
    nameSpacesSetup = true;
  }
}

function getPrefix(originalurl){
  $clinit_SSSUtilities();
  var id_0, url_0;
  id_0 = '';
  url_0 = originalurl;
  if (!(originalurl.indexOf('.') != -1 || originalurl.indexOf('\\') != -1)) {
    $info_1(Log_23, originalurl + ' is already a prefix');
    return originalurl;
  }
  $equals_5(originalurl.substr(0, 1), '<') && (url_0 = $substring_0(originalurl, 1, originalurl.length - 1));
  if (url_0.indexOf('#') != -1) {
    id_0 = $split_0(url_0, '#', 0)[1];
    url_0 = $split_0(url_0, '#', 0)[0] + '#';
  }
  url_0 = $trim(url_0);
  if (PrefixStore.containsKey(url_0)) {
    return dynamicCastToString(PrefixStore.get_2(url_0)) + id_0;
  }
   else {
    $info_1(Log_23, 'prefix not found returning;' + originalurl);
    return originalurl;
  }
}

function getURI(originalprefix){
  $clinit_SSSUtilities();
  var colonposition, entry, entry$iterator, hashposition, id_0, prefix, quoteposition, setview;
  if ($equals_5(originalprefix.substr(0, 7), 'http://') || $equals_5(originalprefix.substr(0, 8), 'https://')) {
    return originalprefix;
  }
  colonposition = originalprefix.indexOf(':');
  hashposition = originalprefix.indexOf('#');
  quoteposition = originalprefix.indexOf('"');
  if (colonposition > 0 && (colonposition < hashposition || hashposition == -1) && (colonposition < quoteposition || quoteposition == -1)) {
    if (originalprefix.charCodeAt(colonposition + 1) == 47) {
      $info_1(Log_23, '/ found after :, word being tested likely is a file url and not a prefix. eg c:/');
      return originalprefix;
    }
    $info_1(Log_23, 'prefix found, expanding');
    id_0 = $split_0(originalprefix, ':', 2)[1];
    prefix = $split_0(originalprefix, ':', 2)[0] + ':';
  }
   else {
    return originalprefix;
  }
  if (PrefixStore.containsValue(prefix.toUpperCase())) {
    setview = PrefixStore.entrySet_0();
    for (entry$iterator = setview.iterator(); entry$iterator.hasNext();) {
      entry = dynamicCast(entry$iterator.next_0(), 31);
      if ($equals_5(dynamicCastToString(entry.getValue()), prefix.toUpperCase())) {
        return dynamicCastToString(entry.getKey()) + id_0;
      }
    }
    $info_1(Log_23, 'uri error in search from prefix');
    return prefix;
  }
   else {
    return originalprefix;
  }
}

function smallestNonNegative(Numbers){
  $clinit_SSSUtilities();
  var num, num$index, num$max, smallest;
  smallest = $intern_0;
  for (num$index = 0 , num$max = Numbers.length; num$index < num$max; ++num$index) {
    num = Numbers[num$index];
    num != -1 && num < smallest && (smallest = num);
  }
  smallest == $intern_0 && (smallest = -1);
  return smallest;
}

function stripAngleBrackets(stringToStrip){
  $clinit_SSSUtilities();
  if ($equals_5(stringToStrip.substr(0, 1), '<') && $endsWith(stringToStrip, '>')) {
    stringToStrip = $substring_0(stringToStrip, 1, stringToStrip.length - 1);
    $info_1(Log_23, 'striped angle brackets from start and end:' + stringToStrip);
  }
  return stringToStrip;
}

function stripQuotes(stringToStrip){
  $clinit_SSSUtilities();
  if ($equals_5(stringToStrip.substr(0, 1), '"') && $endsWith(stringToStrip, '"')) {
    stringToStrip = $substring_0(stringToStrip, 1, stringToStrip.length - 1);
    $info_1(Log_23, 'striped quotes from start and end:' + stringToStrip);
  }
  return stringToStrip;
}

var Log_23, PrefixStore, nameSpacesSetup = false;
function $clinit_SimpleLoadingQueue(){
  $clinit_SimpleLoadingQueue = emptyMethod;
  Log_24 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SSS.SimpleLoadingQueue'));
  pendingRequests = new LinkedList;
}

function add_13(fileURL, onResponse, onError, forcePost){
  $clinit_SimpleLoadingQueue();
  if (CurrentOpenConnections < 5) {
    ++CurrentOpenConnections;
    $info_1(Log_24, 'Loading: ' + fileURL + ', CurrentOpenConnections=' + CurrentOpenConnections);
    $getText_1(($clinit_SuperSimpleSemantics() , fileURL), onResponse, onError, forcePost);
  }
   else {
    $info_1(Log_24, 'Too much simultanious loading! ' + CurrentOpenConnections + ', adding to loading queue');
    $add_24(pendingRequests, new SimpleLoadingQueue$LoadRequest(fileURL, onResponse, onError, forcePost));
  }
}

function loadedAnItem(){
  $clinit_SimpleLoadingQueue();
  var nextonetoload;
  --CurrentOpenConnections;
  CurrentOpenConnections < 0 && (CurrentOpenConnections = 0);
  $info_1(Log_24, 'Loaded item CurrentOpenConnections now=' + CurrentOpenConnections);
  if (CurrentOpenConnections < 5 && pendingRequests.size_0 > 0) {
    nextonetoload = dynamicCast($remove_28(pendingRequests), 411);
    ++CurrentOpenConnections;
    $getText_1(($clinit_SuperSimpleSemantics() , nextonetoload.fileURL), nextonetoload.onResponse, nextonetoload.onError, nextonetoload.forcePost);
  }
}

var CurrentOpenConnections = 0, Log_24, pendingRequests;
function SimpleLoadingQueue$LoadRequest(fileURL, onResponse, onError, forcePost){
  this.fileURL = fileURL;
  this.onResponse = onResponse;
  this.onError = onError;
  this.forcePost = forcePost;
}

defineClass(411, 1, {411:1}, SimpleLoadingQueue$LoadRequest);
_.forcePost = false;
var Lcom_darkflame_client_semantic_SimpleLoadingQueue$LoadRequest_2_classLit = createForClass('com.darkflame.client.semantic', 'SimpleLoadingQueue/LoadRequest', 411, Ljava_lang_Object_2_classLit);
function $clinit_DemoKnowledgeBase(){
  $clinit_DemoKnowledgeBase = emptyMethod;
  Log_25 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss.DemoKnowledgeBase'));
  buoyantThings = createSSSNode('Buoyant', 'examples/DefaultOntology.n3#buoyantThings');
  organicThings = createSSSNode('Organic', 'examples/DefaultOntology.n3#organicThings');
  flamableThings = createSSSNode('Flamable', 'examples/DefaultOntology.n3#flamableThings');
  wood = createSSSNode_0('Wood', 'examples/DefaultOntology.n3#Wood', 'examples/DefaultOntology.n3#', initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [buoyantThings, organicThings]));
  drywood = createSSSNode_0('Dry Wood', 'examples/DefaultOntology.n3#DryWood', 'examples/DefaultOntology.n3#', initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [wood, flamableThings]));
  createSSSNode_0('Oak', 'examples/DefaultOntology.n3#Oak', 'examples/DefaultOntology.n3#', initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [wood]));
  createSSSNode_0('Pine', 'examples/DefaultOntology.n3#Pine', 'examples/DefaultOntology.n3#', initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [wood]));
  createSSSNode_0('Plywood', 'examples/DefaultOntology.n3#Plywood', 'examples/DefaultOntology.n3#', initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [drywood]));
}

function test_1(testThis){
  $clinit_DemoKnowledgeBase();
  var sssNode, testc, tt;
  tt = getNodeByLabel(testThis);
  $info_1(Log_25, ' testing ' + testThis + ', listing all its classes:');
  testc = $iterator_4(new AbstractMap$1($getAllClassesThisBelongsToo(tt).map_0));
  while (testc.val$outerIter2.hasNext()) {
    sssNode = dynamicCast($next_7(testc), 55);
    $info_1(Log_25, ' -' + sssNode.PURI);
  }
}

var Log_25, buoyantThings, drywood, flamableThings, organicThings, wood;
defineClass(1490, 1, $intern_53);
var Lcom_google_common_base_Optional_2_classLit = createForClass('com.google.common.base', 'Optional', 1490, Ljava_lang_Object_2_classLit);
function $clinit_Absent(){
  $clinit_Absent = emptyMethod;
  INSTANCE = new Absent;
}

function $get_0(){
  throw new IllegalStateException_0('Optional.get() cannot be called on an absent value');
}

function Absent(){
}

defineClass(914, 1490, $intern_53, Absent);
_.equals$ = function equals_7(object){
  return object === this;
}
;
_.get_1 = function get_1(){
  return $get_0();
}
;
_.hashCode$ = function hashCode_6(){
  return 1502476572;
}
;
_.isPresent = function isPresent(){
  return false;
}
;
_.toString$ = function toString_17(){
  return 'Optional.absent()';
}
;
var INSTANCE;
var Lcom_google_common_base_Absent_2_classLit = createForClass('com.google.common.base', 'Absent', 914, Lcom_google_common_base_Optional_2_classLit);
function $hasNext(this$static){
  checkState(this$static.state != 3);
  switch (this$static.state) {
    case 2:
      return false;
    case 0:
      return true;
  }
  return $tryToComputeNext(this$static);
}

function $next(this$static){
  var result;
  if (!$hasNext(this$static)) {
    throw new NoSuchElementException;
  }
  this$static.state = 1;
  result = this$static.next;
  this$static.next = null;
  return result;
}

function $tryToComputeNext(this$static){
  this$static.state = 3;
  this$static.next = this$static.computeNext();
  if (this$static.state != 2) {
    this$static.state = 0;
    return true;
  }
  return false;
}

defineClass(773, 1, $intern_56);
_.hasNext = function hasNext(){
  return $hasNext(this);
}
;
_.next_0 = function next_0(){
  return $next(this);
}
;
_.remove_2 = function remove_10(){
  throw new UnsupportedOperationException;
}
;
_.state = 1;
var Lcom_google_common_base_AbstractIterator_2_classLit = createForClass('com.google.common.base', 'AbstractIterator', 773, Ljava_lang_Object_2_classLit);
function CharMatcher$1(){
  CharMatcher.call(this);
}

defineClass(981, 58, $intern_54, CharMatcher$1);
_.matches = function matches_0(c){
  switch (c) {
    case 9:
    case 10:
    case 11:
    case 12:
    case 13:
    case 32:
    case 133:
    case 5760:
    case 8232:
    case 8233:
    case 8287:
    case 12288:
      return true;
    case 8199:
      return false;
    default:return c >= 8192 && c <= 8202;
  }
}
;
_.toString$ = function toString_18(){
  return 'CharMatcher.BREAKING_WHITESPACE';
}
;
var Lcom_google_common_base_CharMatcher$1_2_classLit = createForClass('com.google.common.base', 'CharMatcher/1', 981, Lcom_google_common_base_CharMatcher_2_classLit);
function CharMatcher$FastMatcher(description){
  CharMatcher_0.call(this, description);
}

defineClass(293, 58, $intern_54);
var Lcom_google_common_base_CharMatcher$FastMatcher_2_classLit = createForClass('com.google.common.base', 'CharMatcher/FastMatcher', 293, Lcom_google_common_base_CharMatcher_2_classLit);
function CharMatcher$10($anonymous0, val$match){
  this.val$match2 = val$match;
  CharMatcher$FastMatcher.call(this, $anonymous0);
}

defineClass(990, 293, $intern_54, CharMatcher$10);
_.matches = function matches_1(c){
  return c == this.val$match2;
}
;
_.val$match2 = 0;
var Lcom_google_common_base_CharMatcher$10_2_classLit = createForClass('com.google.common.base', 'CharMatcher/10', 990, Lcom_google_common_base_CharMatcher$FastMatcher_2_classLit);
function CharMatcher$14($anonymous0, val$startInclusive, val$endInclusive){
  this.val$startInclusive2 = val$startInclusive;
  this.val$endInclusive3 = val$endInclusive;
  CharMatcher$FastMatcher.call(this, $anonymous0);
}

defineClass(460, 293, $intern_54, CharMatcher$14);
_.matches = function matches_2(c){
  return this.val$startInclusive2 <= c && c <= this.val$endInclusive3;
}
;
_.val$endInclusive3 = 0;
_.val$startInclusive2 = 0;
var Lcom_google_common_base_CharMatcher$14_2_classLit = createForClass('com.google.common.base', 'CharMatcher/14', 460, Lcom_google_common_base_CharMatcher$FastMatcher_2_classLit);
function CharMatcher$2(){
  CharMatcher_0.call(this, 'CharMatcher.JAVA_DIGIT');
}

defineClass(982, 58, $intern_54, CharMatcher$2);
_.matches = function matches_3(c){
  return null != String.fromCharCode(c).match(/\d/);
}
;
var Lcom_google_common_base_CharMatcher$2_2_classLit = createForClass('com.google.common.base', 'CharMatcher/2', 982, Lcom_google_common_base_CharMatcher_2_classLit);
function CharMatcher$3(){
  CharMatcher_0.call(this, 'CharMatcher.JAVA_LETTER');
}

defineClass(983, 58, $intern_54, CharMatcher$3);
_.matches = function matches_4(c){
  return isLetter(c);
}
;
var Lcom_google_common_base_CharMatcher$3_2_classLit = createForClass('com.google.common.base', 'CharMatcher/3', 983, Lcom_google_common_base_CharMatcher_2_classLit);
function CharMatcher$4(){
  CharMatcher_0.call(this, 'CharMatcher.JAVA_LETTER_OR_DIGIT');
}

defineClass(984, 58, $intern_54, CharMatcher$4);
_.matches = function matches_5(c){
  return null != String.fromCharCode(c).match(/[A-Z\d]/i);
}
;
var Lcom_google_common_base_CharMatcher$4_2_classLit = createForClass('com.google.common.base', 'CharMatcher/4', 984, Lcom_google_common_base_CharMatcher_2_classLit);
function CharMatcher$5(){
  CharMatcher_0.call(this, 'CharMatcher.JAVA_UPPER_CASE');
}

defineClass(985, 58, $intern_54, CharMatcher$5);
_.matches = function matches_6(c){
  return String.fromCharCode(c).toUpperCase().charCodeAt(0) == c && isLetter(c);
}
;
var Lcom_google_common_base_CharMatcher$5_2_classLit = createForClass('com.google.common.base', 'CharMatcher/5', 985, Lcom_google_common_base_CharMatcher_2_classLit);
function CharMatcher$6(){
  CharMatcher_0.call(this, 'CharMatcher.JAVA_LOWER_CASE');
}

defineClass(986, 58, $intern_54, CharMatcher$6);
_.matches = function matches_7(c){
  return String.fromCharCode(c).toLowerCase().charCodeAt(0) == c && isLetter(c);
}
;
var Lcom_google_common_base_CharMatcher$6_2_classLit = createForClass('com.google.common.base', 'CharMatcher/6', 986, Lcom_google_common_base_CharMatcher_2_classLit);
function CharMatcher$7(){
  CharMatcher$FastMatcher.call(this, 'CharMatcher.ANY');
}

defineClass(987, 293, $intern_54, CharMatcher$7);
_.indexIn = function indexIn_0(sequence, start_0){
  var length_0;
  length_0 = sequence.length;
  checkPositionIndex(start_0, length_0);
  return start_0 == length_0?-1:start_0;
}
;
_.matches = function matches_8(c){
  return true;
}
;
var Lcom_google_common_base_CharMatcher$7_2_classLit = createForClass('com.google.common.base', 'CharMatcher/7', 987, Lcom_google_common_base_CharMatcher$FastMatcher_2_classLit);
function CharMatcher$8(){
  CharMatcher$FastMatcher.call(this, 'CharMatcher.NONE');
}

defineClass(988, 293, $intern_54, CharMatcher$8);
_.indexIn = function indexIn_1(sequence, start_0){
  var length_0;
  length_0 = sequence.length;
  checkPositionIndex(start_0, length_0);
  return -1;
}
;
_.matches = function matches_9(c){
  return false;
}
;
var Lcom_google_common_base_CharMatcher$8_2_classLit = createForClass('com.google.common.base', 'CharMatcher/8', 988, Lcom_google_common_base_CharMatcher$FastMatcher_2_classLit);
function $matches(c){
  return $charAt_0('\u2002\u3000\r\x85\u200A\u2005\u2000\u3000\u2029\13\u3000\u2008\u2003\u205F\u3000\u1680\t \u2006\u2001\u202F\xA0\f\u2009\u3000\u2004\u3000\u3000\u2028\n\u2007\u3000', 1682554634 * c >>> WHITESPACE_SHIFT) == c;
}

function CharMatcher$9(){
  CharMatcher$FastMatcher.call(this, 'WHITESPACE');
}

defineClass(989, 293, $intern_54, CharMatcher$9);
_.matches = function matches_10(c){
  return $matches(c);
}
;
var Lcom_google_common_base_CharMatcher$9_2_classLit = createForClass('com.google.common.base', 'CharMatcher/9', 989, Lcom_google_common_base_CharMatcher$FastMatcher_2_classLit);
function $matches_0(this$static, c){
  return this$static.first.matches(c) && this$static.second.matches(c);
}

function CharMatcher$And(a, b){
  $clinit_CharMatcher();
  this.description_0 = 'CharMatcher.and(' + a + ', ' + b + ')';
  this.first = dynamicCast(checkNotNull(a), 58);
  this.second = dynamicCast(checkNotNull(b), 58);
}

defineClass(390, 58, $intern_54, CharMatcher$And);
_.matches = function matches_11(c){
  return $matches_0(this, c);
}
;
var Lcom_google_common_base_CharMatcher$And_2_classLit = createForClass('com.google.common.base', 'CharMatcher/And', 390, Lcom_google_common_base_CharMatcher_2_classLit);
function $matches_1(this$static, c){
  return this$static.first.matches(c) || this$static.second.matches(c);
}

function $withToString(this$static){
  return new CharMatcher$Or_0(this$static.first, this$static.second, 'CharMatcher.JAVA_ISO_CONTROL');
}

function CharMatcher$Or(a, b){
  $clinit_CharMatcher();
  CharMatcher$Or_0.call(this, a, b, 'CharMatcher.or(' + a + ', ' + b + ')');
}

function CharMatcher$Or_0(a, b, description){
  CharMatcher_0.call(this, description);
  this.first = dynamicCast(checkNotNull(a), 58);
  this.second = dynamicCast(checkNotNull(b), 58);
}

defineClass(342, 58, $intern_54, CharMatcher$Or, CharMatcher$Or_0);
_.matches = function matches_12(c){
  return $matches_1(this, c);
}
;
var Lcom_google_common_base_CharMatcher$Or_2_classLit = createForClass('com.google.common.base', 'CharMatcher/Or', 342, Lcom_google_common_base_CharMatcher_2_classLit);
function CharMatcher$RangesMatcher(description, rangeStarts, rangeEnds){
  var i;
  CharMatcher_0.call(this, description);
  this.rangeStarts = rangeStarts;
  this.rangeEnds = rangeEnds;
  checkArgument(rangeStarts.length == rangeEnds.length);
  for (i = 0; i < rangeStarts.length; i++) {
    checkArgument(rangeStarts[i] <= rangeEnds[i]);
    i + 1 < rangeStarts.length && checkArgument(rangeEnds[i] < rangeStarts[i + 1]);
  }
}

defineClass(389, 58, $intern_54, CharMatcher$RangesMatcher);
_.matches = function matches_13(c){
  var index_0;
  index_0 = binarySearch(this.rangeStarts, c);
  if (index_0 >= 0) {
    return true;
  }
   else {
    index_0 = ~index_0 - 1;
    return index_0 >= 0 && c <= this.rangeEnds[index_0];
  }
}
;
var Lcom_google_common_base_CharMatcher$RangesMatcher_2_classLit = createForClass('com.google.common.base', 'CharMatcher/RangesMatcher', 389, Lcom_google_common_base_CharMatcher_2_classLit);
function $appendTo(this$static, appendable, parts){
  checkNotNull(appendable);
  if (parts.hasNext()) {
    $append_4(appendable, this$static.toString_0(parts.next_0()));
    while (parts.hasNext()) {
      $append_4(appendable, this$static.separator);
      $append_4(appendable, this$static.toString_0(parts.next_0()));
    }
  }
  return appendable;
}

function $appendTo_0(this$static, builder, parts){
  var impossible;
  try {
    $appendTo(this$static, builder, parts);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 173)) {
      impossible = $e0;
      throw new AssertionError(impossible);
    }
     else 
      throw unwrap($e0);
  }
  return builder;
}

function Joiner(separator){
  this.separator = dynamicCastToString(checkNotNull(separator));
}

defineClass(351, 1, {}, Joiner);
_.toString_0 = function toString_19(part){
  checkNotNull(part);
  return instanceOf(part, 415)?dynamicCast(part, 415):toString__Ljava_lang_String___devirtual$(part);
}
;
_.useForNull = function useForNull(nullText){
  checkNotNull(nullText);
  return new Joiner$1(this, this, nullText);
}
;
var Lcom_google_common_base_Joiner_2_classLit = createForClass('com.google.common.base', 'Joiner', 351, Ljava_lang_Object_2_classLit);
function $toString_3(this$static, part){
  return part == null?this$static.val$nullText3:this$static.this$01.toString_0(part);
}

function Joiner$1(this$0, $anonymous0, val$nullText){
  this.this$01 = this$0;
  this.val$nullText3 = val$nullText;
  this.separator = $anonymous0.separator;
}

defineClass(1176, 351, {}, Joiner$1);
_.toString_0 = function toString_20(part){
  return $toString_3(this, part);
}
;
_.useForNull = function useForNull_0(nullText){
  throw new UnsupportedOperationException_0('already specified useForNull');
}
;
var Lcom_google_common_base_Joiner$1_2_classLit = createForClass('com.google.common.base', 'Joiner/1', 1176, Lcom_google_common_base_Joiner_2_classLit);
function $appendTo_1(this$static, appendable, parts){
  var e, entry;
  checkNotNull(appendable);
  if (parts.hasNext()) {
    entry = dynamicCast(parts.next_0(), 31);
    $append_4(appendable, $toString_3(this$static.joiner, entry.getKey()));
    $append_4(appendable, this$static.keyValueSeparator);
    $append_4(appendable, $toString_3(this$static.joiner, entry.getValue()));
    while (parts.hasNext()) {
      $append_4(appendable, this$static.joiner.separator);
      e = dynamicCast(parts.next_0(), 31);
      $append_4(appendable, $toString_3(this$static.joiner, e.getKey()));
      $append_4(appendable, this$static.keyValueSeparator);
      $append_4(appendable, $toString_3(this$static.joiner, e.getValue()));
    }
  }
  return appendable;
}

function $appendTo_2(this$static, builder, entries){
  var impossible;
  try {
    $appendTo_1(this$static, builder, entries);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 173)) {
      impossible = $e0;
      throw new AssertionError(impossible);
    }
     else 
      throw unwrap($e0);
  }
  return builder;
}

function Joiner$MapJoiner(joiner){
  this.joiner = joiner;
  this.keyValueSeparator = dynamicCastToString(checkNotNull('='));
}

defineClass(1175, 1, {}, Joiner$MapJoiner);
var Lcom_google_common_base_Joiner$MapJoiner_2_classLit = createForClass('com.google.common.base', 'Joiner/MapJoiner', 1175, Ljava_lang_Object_2_classLit);
function equal(a, b){
  return maskUndefined(a) === maskUndefined(b) || a != null && equals_Ljava_lang_Object__Z__devirtual$(a, b);
}

function badPositionIndex(index_0, size_0){
  if (index_0 < 0) {
    return format('%s (%s) must not be negative', initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, ['index', valueOf_45(index_0)]));
  }
   else if (size_0 < 0) {
    throw new IllegalArgumentException_0('negative size: ' + size_0);
  }
   else {
    return format('%s (%s) must not be greater than size (%s)', initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, ['index', valueOf_45(index_0), valueOf_45(size_0)]));
  }
}

function checkArgument(expression){
  if (!expression) {
    throw new IllegalArgumentException;
  }
}

function checkArgument_0(expression){
  if (!expression) {
    throw new IllegalArgumentException_0('The separator may not be the empty string.');
  }
}

function checkArgument_1(expression, errorMessageArgs){
  if (!expression) {
    throw new IllegalArgumentException_0(format('value already present: %s', errorMessageArgs));
  }
}

function checkNotNull(reference){
  if (reference == null) {
    throw new NullPointerException;
  }
  return reference;
}

function checkNotNull_0(reference){
  if (!reference) {
    throw new NullPointerException_0('predicate');
  }
  return reference;
}

function checkPositionIndex(index_0, size_0){
  if (index_0 < 0 || index_0 > size_0) {
    throw new IndexOutOfBoundsException_0(badPositionIndex(index_0, size_0));
  }
  return index_0;
}

function checkState(expression){
  if (!expression) {
    throw new IllegalStateException;
  }
}

function checkState_0(expression, errorMessage){
  if (!expression) {
    throw new IllegalStateException_0('' + errorMessage);
  }
}

function format(template, args){
  var builder, i, placeholderStart, templateStart;
  template = '' + template;
  builder = new StringBuilder_0(template.length + 16 * args.length);
  templateStart = 0;
  i = 0;
  while (i < args.length) {
    placeholderStart = template.indexOf('%s', templateStart);
    if (placeholderStart == -1) {
      break;
    }
    $append_6(builder, template.substr(templateStart, placeholderStart - templateStart));
    $append_5(builder, args[i++]);
    templateStart = placeholderStart + 2;
  }
  $append_6(builder, __substr(template, templateStart, template.length - templateStart));
  if (i < args.length) {
    builder.string += ' [';
    $append_5(builder, args[i++]);
    while (i < args.length) {
      builder.string += ', ';
      $append_5(builder, args[i++]);
    }
    builder.string += ']';
  }
  return builder.string;
}

function $clinit_Predicates(){
  $clinit_Predicates = emptyMethod;
  new Joiner(',');
}

function $apply(this$static, t){
  try {
    return this$static.target_0.contains_0(t);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 82)) {
      return false;
    }
     else if (instanceOf($e0, 134)) {
      return false;
    }
     else 
      throw unwrap($e0);
  }
}

function Predicates$InPredicate(target){
  this.target_0 = dynamicCast(checkNotNull(target), 25);
}

defineClass(268, 1, {86:1, 268:1, 3:1}, Predicates$InPredicate);
_.apply_0 = function apply_1(t){
  return $apply(this, t);
}
;
_.equals$ = function equals_8(obj){
  var that;
  if (instanceOf(obj, 268)) {
    that = dynamicCast(obj, 268);
    return this.target_0.equals$(that.target_0);
  }
  return false;
}
;
_.hashCode$ = function hashCode_7(){
  return this.target_0.hashCode$();
}
;
_.toString$ = function toString_21(){
  return 'Predicates.in(' + this.target_0 + ')';
}
;
var Lcom_google_common_base_Predicates$InPredicate_2_classLit = createForClass('com.google.common.base', 'Predicates/InPredicate', 268, Ljava_lang_Object_2_classLit);
function Predicates$IsEqualToPredicate(target){
  this.target_0 = target;
}

defineClass(352, 1, {86:1, 352:1, 3:1}, Predicates$IsEqualToPredicate);
_.apply_0 = function apply_2(t){
  return equals_Ljava_lang_Object__Z__devirtual$(this.target_0, t);
}
;
_.equals$ = function equals_9(obj){
  var that;
  if (instanceOf(obj, 352)) {
    that = dynamicCast(obj, 352);
    return equals_Ljava_lang_Object__Z__devirtual$(this.target_0, that.target_0);
  }
  return false;
}
;
_.hashCode$ = function hashCode_8(){
  return hashCode__I__devirtual$(this.target_0);
}
;
_.toString$ = function toString_22(){
  return 'Predicates.equalTo(' + this.target_0 + ')';
}
;
var Lcom_google_common_base_Predicates$IsEqualToPredicate_2_classLit = createForClass('com.google.common.base', 'Predicates/IsEqualToPredicate', 352, Ljava_lang_Object_2_classLit);
function $apply_0(this$static, t){
  return !this$static.predicate.apply_0(t);
}

function Predicates$NotPredicate(predicate){
  this.predicate = dynamicCast(checkNotNull(predicate), 86);
}

defineClass(305, 1, {86:1, 305:1, 3:1}, Predicates$NotPredicate);
_.apply_0 = function apply_3(t){
  return $apply_0(this, t);
}
;
_.equals$ = function equals_10(obj){
  var that;
  if (instanceOf(obj, 305)) {
    that = dynamicCast(obj, 305);
    return this.predicate.equals$(that.predicate);
  }
  return false;
}
;
_.hashCode$ = function hashCode_9(){
  return ~this.predicate.hashCode$();
}
;
_.toString$ = function toString_23(){
  return 'Predicates.not(' + this.predicate.toString$() + ')';
}
;
var Lcom_google_common_base_Predicates$NotPredicate_2_classLit = createForClass('com.google.common.base', 'Predicates/NotPredicate', 305, Ljava_lang_Object_2_classLit);
function $clinit_Predicates$ObjectPredicate(){
  $clinit_Predicates$ObjectPredicate = emptyMethod;
  ALWAYS_TRUE = new Predicates$ObjectPredicate$1;
  ALWAYS_FALSE = new Predicates$ObjectPredicate$2;
  IS_NULL = new Predicates$ObjectPredicate$3;
  NOT_NULL = new Predicates$ObjectPredicate$4;
}

function Predicates$ObjectPredicate(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_8(name_0){
  $clinit_Predicates$ObjectPredicate();
  return valueOf(($clinit_Predicates$ObjectPredicate$Map() , $MAP_6), name_0);
}

function values_7(){
  $clinit_Predicates$ObjectPredicate();
  return initValues(getClassLiteralForArray(Lcom_google_common_base_Predicates$ObjectPredicate_2_classLit, 1), $intern_1, 176, 0, [ALWAYS_TRUE, ALWAYS_FALSE, IS_NULL, NOT_NULL]);
}

defineClass(176, 9, $intern_57);
var ALWAYS_FALSE, ALWAYS_TRUE, IS_NULL, NOT_NULL;
var Lcom_google_common_base_Predicates$ObjectPredicate_2_classLit = createForEnum('com.google.common.base', 'Predicates/ObjectPredicate', 176, Ljava_lang_Enum_2_classLit, values_7, valueOf_8);
function Predicates$ObjectPredicate$1(){
  Predicates$ObjectPredicate.call(this, 'ALWAYS_TRUE', 0);
}

defineClass(1245, 176, $intern_57, Predicates$ObjectPredicate$1);
_.apply_0 = function apply_4(o){
  return true;
}
;
_.toString$ = function toString_24(){
  return 'Predicates.alwaysTrue()';
}
;
var Lcom_google_common_base_Predicates$ObjectPredicate$1_2_classLit = createForEnum('com.google.common.base', 'Predicates/ObjectPredicate/1', 1245, Lcom_google_common_base_Predicates$ObjectPredicate_2_classLit, null, null);
function Predicates$ObjectPredicate$2(){
  Predicates$ObjectPredicate.call(this, 'ALWAYS_FALSE', 1);
}

defineClass(1246, 176, $intern_57, Predicates$ObjectPredicate$2);
_.apply_0 = function apply_5(o){
  return false;
}
;
_.toString$ = function toString_25(){
  return 'Predicates.alwaysFalse()';
}
;
var Lcom_google_common_base_Predicates$ObjectPredicate$2_2_classLit = createForEnum('com.google.common.base', 'Predicates/ObjectPredicate/2', 1246, Lcom_google_common_base_Predicates$ObjectPredicate_2_classLit, null, null);
function Predicates$ObjectPredicate$3(){
  Predicates$ObjectPredicate.call(this, 'IS_NULL', 2);
}

defineClass(1247, 176, $intern_57, Predicates$ObjectPredicate$3);
_.apply_0 = function apply_6(o){
  return o == null;
}
;
_.toString$ = function toString_26(){
  return 'Predicates.isNull()';
}
;
var Lcom_google_common_base_Predicates$ObjectPredicate$3_2_classLit = createForEnum('com.google.common.base', 'Predicates/ObjectPredicate/3', 1247, Lcom_google_common_base_Predicates$ObjectPredicate_2_classLit, null, null);
function Predicates$ObjectPredicate$4(){
  Predicates$ObjectPredicate.call(this, 'NOT_NULL', 3);
}

defineClass(1248, 176, $intern_57, Predicates$ObjectPredicate$4);
_.apply_0 = function apply_7(o){
  return o != null;
}
;
_.toString$ = function toString_27(){
  return 'Predicates.notNull()';
}
;
var Lcom_google_common_base_Predicates$ObjectPredicate$4_2_classLit = createForEnum('com.google.common.base', 'Predicates/ObjectPredicate/4', 1248, Lcom_google_common_base_Predicates$ObjectPredicate_2_classLit, null, null);
function $clinit_Predicates$ObjectPredicate$Map(){
  $clinit_Predicates$ObjectPredicate$Map = emptyMethod;
  $MAP_6 = createValueOfMap(($clinit_Predicates$ObjectPredicate() , initValues(getClassLiteralForArray(Lcom_google_common_base_Predicates$ObjectPredicate_2_classLit, 1), $intern_1, 176, 0, [ALWAYS_TRUE, ALWAYS_FALSE, IS_NULL, NOT_NULL])));
}

var $MAP_6;
function Present(reference){
  this.reference = reference;
}

defineClass(49, 1490, {49:1, 3:1}, Present);
_.equals$ = function equals_11(object){
  var other;
  if (instanceOf(object, 49)) {
    other = dynamicCast(object, 49);
    return equals_Ljava_lang_Object__Z__devirtual$(this.reference, other.reference);
  }
  return false;
}
;
_.get_1 = function get_2(){
  return this.reference;
}
;
_.hashCode$ = function hashCode_10(){
  return 1502476572 + hashCode__I__devirtual$(this.reference);
}
;
_.isPresent = function isPresent_0(){
  return true;
}
;
_.toString$ = function toString_28(){
  return 'Optional.of(' + this.reference + ')';
}
;
var Lcom_google_common_base_Present_2_classLit = createForClass('com.google.common.base', 'Present', 49, Lcom_google_common_base_Optional_2_classLit);
function $omitEmptyStrings(this$static){
  return new Splitter_0(this$static.strategy, true, this$static.trimmer, this$static.limit);
}

function $split(this$static, sequence){
  checkNotNull(sequence);
  return new Splitter$4(this$static, sequence);
}

function $splitToList(this$static, sequence){
  var iterator, result;
  checkNotNull(sequence);
  iterator = this$static.strategy.iterator_0(this$static, sequence);
  result = new ArrayList;
  while ($hasNext(iterator)) {
    result.add_0($next(iterator));
  }
  return $clinit_Collections() , new Collections$UnmodifiableRandomAccessList(result);
}

function $splittingIterator(this$static, sequence){
  return this$static.strategy.iterator_0(this$static, sequence);
}

function $trimResults(this$static, trimmer){
  checkNotNull(trimmer);
  return new Splitter_0(this$static.strategy, this$static.omitEmptyStrings, trimmer, this$static.limit);
}

function Splitter(strategy){
  Splitter_0.call(this, strategy, false, ($clinit_CharMatcher() , NONE), $intern_0);
}

function Splitter_0(strategy, omitEmptyStrings, trimmer, limit){
  this.strategy = strategy;
  this.omitEmptyStrings = omitEmptyStrings;
  this.trimmer = trimmer;
  this.limit = limit;
}

function on(separatorMatcher){
  checkNotNull(separatorMatcher);
  return new Splitter(new Splitter$1(separatorMatcher));
}

function on_0(separator){
  checkArgument_0(separator.length != 0);
  return new Splitter(new Splitter$2(separator));
}

defineClass(316, 1, {}, Splitter, Splitter_0);
_.limit = 0;
_.omitEmptyStrings = false;
var Lcom_google_common_base_Splitter_2_classLit = createForClass('com.google.common.base', 'Splitter', 316, Ljava_lang_Object_2_classLit);
function Splitter$1(val$separatorMatcher){
  this.val$separatorMatcher1 = val$separatorMatcher;
}

defineClass(1411, 1, {}, Splitter$1);
_.iterator_0 = function iterator_4(splitter, toSplit){
  return new Splitter$1$1(splitter, toSplit, this.val$separatorMatcher1);
}
;
var Lcom_google_common_base_Splitter$1_2_classLit = createForClass('com.google.common.base', 'Splitter/1', 1411, Ljava_lang_Object_2_classLit);
function $computeNext(this$static){
  var end, nextStart, separatorPosition, start_0;
  nextStart = this$static.offset;
  while (this$static.offset != -1) {
    start_0 = nextStart;
    separatorPosition = this$static.separatorStart(this$static.offset);
    if (separatorPosition == -1) {
      end = this$static.toSplit.length;
      this$static.offset = -1;
    }
     else {
      end = separatorPosition;
      this$static.offset = this$static.separatorEnd(separatorPosition);
    }
    if (this$static.offset == nextStart) {
      ++this$static.offset;
      this$static.offset >= this$static.toSplit.length && (this$static.offset = -1);
      continue;
    }
    while (start_0 < end && this$static.trimmer.matches($charAt_0(this$static.toSplit, start_0))) {
      ++start_0;
    }
    while (end > start_0 && this$static.trimmer.matches($charAt_0(this$static.toSplit, end - 1))) {
      --end;
    }
    if (this$static.omitEmptyStrings && start_0 == end) {
      nextStart = this$static.offset;
      continue;
    }
    if (this$static.limit == 1) {
      end = this$static.toSplit.length;
      this$static.offset = -1;
      while (end > start_0 && this$static.trimmer.matches($charAt_0(this$static.toSplit, end - 1))) {
        --end;
      }
    }
     else {
      --this$static.limit;
    }
    return $subSequence(this$static.toSplit, start_0, end);
  }
  return this$static.state = 2 , null;
}

function Splitter$SplittingIterator(splitter, toSplit){
  this.trimmer = splitter.trimmer;
  this.omitEmptyStrings = splitter.omitEmptyStrings;
  this.limit = splitter.limit;
  this.toSplit = toSplit;
}

defineClass(511, 773, $intern_56);
_.computeNext = function computeNext(){
  return $computeNext(this);
}
;
_.limit = 0;
_.offset = 0;
_.omitEmptyStrings = false;
var Lcom_google_common_base_Splitter$SplittingIterator_2_classLit = createForClass('com.google.common.base', 'Splitter/SplittingIterator', 511, Lcom_google_common_base_AbstractIterator_2_classLit);
function Splitter$1$1($anonymous0, $anonymous1, val$separatorMatcher){
  this.val$separatorMatcher4 = val$separatorMatcher;
  Splitter$SplittingIterator.call(this, $anonymous0, $anonymous1);
}

defineClass(1412, 511, $intern_56, Splitter$1$1);
_.separatorEnd = function separatorEnd(separatorPosition){
  return separatorPosition + 1;
}
;
_.separatorStart = function separatorStart(start_0){
  return this.val$separatorMatcher4.indexIn(this.toSplit, start_0);
}
;
var Lcom_google_common_base_Splitter$1$1_2_classLit = createForClass('com.google.common.base', 'Splitter/1/1', 1412, Lcom_google_common_base_Splitter$SplittingIterator_2_classLit);
function Splitter$2(val$separator){
  this.val$separator1 = val$separator;
}

defineClass(1413, 1, {}, Splitter$2);
_.iterator_0 = function iterator_5(splitter, toSplit){
  return new Splitter$2$1(splitter, toSplit, this.val$separator1);
}
;
var Lcom_google_common_base_Splitter$2_2_classLit = createForClass('com.google.common.base', 'Splitter/2', 1413, Ljava_lang_Object_2_classLit);
function Splitter$2$1($anonymous0, $anonymous1, val$separator){
  this.val$separator4 = val$separator;
  Splitter$SplittingIterator.call(this, $anonymous0, $anonymous1);
}

defineClass(1414, 511, $intern_56, Splitter$2$1);
_.separatorEnd_0 = function separatorEnd_0(separatorPosition){
  return separatorPosition + this.val$separator4.length;
}
;
_.separatorEnd = _.separatorEnd_0;
_.separatorStart_0 = function separatorStart_0(start_0){
  var i, last, p, separatorLength;
  separatorLength = this.val$separator4.length;
  positions: for (p = start_0 , last = this.toSplit.length - separatorLength; p <= last; p++) {
    for (i = 0; i < separatorLength; i++) {
      if ($charAt_0(this.toSplit, i + p) != $charAt_0(this.val$separator4, i)) {
        continue positions;
      }
    }
    return p;
  }
  return -1;
}
;
_.separatorStart = _.separatorStart_0;
var Lcom_google_common_base_Splitter$2$1_2_classLit = createForClass('com.google.common.base', 'Splitter/2/1', 1414, Lcom_google_common_base_Splitter$SplittingIterator_2_classLit);
function Splitter$4(this$0, val$sequence){
  this.this$01 = this$0;
  this.val$sequence2 = val$sequence;
}

defineClass(1415, 1, {}, Splitter$4);
_.iterator = function iterator_6(){
  return $splittingIterator(this.this$01, this.val$sequence2);
}
;
_.toString$ = function toString_29(){
  return $append_3($appendTo_0(new Joiner(', '), $append_3(new StringBuilder, 91), $splittingIterator(this.this$01, this.val$sequence2)), 93).string;
}
;
var Lcom_google_common_base_Splitter$4_2_classLit = createForClass('com.google.common.base', 'Splitter/4', 1415, Ljava_lang_Object_2_classLit);
defineClass(1497, 1, {});
_.toString$ = function toString_30(){
  return toString__Ljava_lang_String___devirtual$(this.delegate_0());
}
;
var Lcom_google_common_collect_ForwardingObject_2_classLit = createForClass('com.google.common.collect', 'ForwardingObject', 1497, Ljava_lang_Object_2_classLit);
function $containsKey(this$static, key){
  return this$static.delegate_1().containsKey(key);
}

function $get_1(this$static, key){
  return this$static.delegate_1().get_2(key);
}

defineClass(1502, 1497, $intern_58);
_.clear_1 = function clear_7(){
  this.delegate_1().clear_1();
}
;
_.containsKey = function containsKey(key){
  return $containsKey(this, key);
}
;
_.containsValue = function containsValue(value_0){
  return this.delegate_1().containsValue(value_0);
}
;
_.delegate_0 = function delegate_0(){
  return this.delegate_1();
}
;
_.entrySet_0 = function entrySet(){
  return this.delegate_1().entrySet_0();
}
;
_.equals$ = function equals_12(object){
  return object === this || $equals_1(this.delegate_1(), object);
}
;
_.get_2 = function get_3(key){
  return $get_1(this, key);
}
;
_.hashCode$ = function hashCode_11(){
  return hashCode_45(this.delegate_1().entrySet_0());
}
;
_.isEmpty_0 = function isEmpty_1(){
  return this.delegate_1().size_1() == 0;
}
;
_.keySet_0 = function keySet(){
  return new AbstractMap$1(this.delegate_1());
}
;
_.put = function put(key, value_0){
  return this.delegate_1().put(key, value_0);
}
;
_.remove_3 = function remove_11(object){
  return this.delegate_1().remove_3(object);
}
;
_.size_1 = function size_2(){
  return this.delegate_1().size_1();
}
;
_.values_0 = function values_8(){
  return new AbstractMap$2(this.delegate_1());
}
;
var Lcom_google_common_collect_ForwardingMap_2_classLit = createForClass('com.google.common.collect', 'ForwardingMap', 1502, Lcom_google_common_collect_ForwardingObject_2_classLit);
function $clear_2(this$static){
  this$static.delegate.clear_1();
  this$static.inverse.delegate.clear_1();
}

function $containsValue(this$static, value_0){
  return $containsKey(this$static.inverse, value_0);
}

function $entrySet(this$static){
  var result;
  result = this$static.entrySet;
  return !result?(this$static.entrySet = new AbstractBiMap$EntrySet(this$static)):result;
}

function $keySet(this$static){
  var result;
  result = this$static.keySet;
  return !result?(this$static.keySet = new AbstractBiMap$KeySet(this$static)):result;
}

function $putInBothMaps(this$static, key, value_0){
  var containedKey, oldValue;
  this$static.checkKey(key);
  this$static.checkValue(value_0);
  containedKey = this$static.delegate.containsKey(key);
  if (containedKey && equal(value_0, this$static.delegate.get_2(key))) {
    return value_0;
  }
  checkArgument_1(!$containsKey(this$static.inverse, value_0), initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, [value_0]));
  oldValue = this$static.delegate.put(key, value_0);
  containedKey && this$static.inverse.delegate.remove_3(oldValue);
  this$static.inverse.delegate.put(value_0, key);
  return oldValue;
}

function $remove_7(this$static, key){
  return this$static.delegate.containsKey(key)?$removeFromBothMaps(this$static, key):null;
}

function $removeFromBothMaps(this$static, key){
  var oldValue;
  oldValue = this$static.delegate.remove_3(key);
  this$static.inverse.delegate.remove_3(oldValue);
  return oldValue;
}

function $removeFromInverseMap(this$static, oldValue){
  this$static.inverse.delegate.remove_3(oldValue);
}

function $updateInverseMap(this$static, key, oldValue, newValue){
  this$static.inverse.delegate.remove_3(oldValue);
  this$static.inverse.delegate.put(newValue, key);
}

function AbstractBiMap(forward_0, backward){
  checkState(!this.delegate);
  checkState(!this.inverse);
  checkArgument(forward_0.size_1() == 0);
  checkArgument(backward.size_1() == 0);
  checkArgument(forward_0 != backward);
  this.delegate = forward_0;
  this.inverse = new AbstractBiMap$Inverse(backward, this);
}

defineClass(450, 1502, $intern_59);
_.checkKey = function checkKey(key){
  return key;
}
;
_.checkValue = function checkValue(value_0){
  return value_0;
}
;
_.clear_1 = function clear_8(){
  $clear_2(this);
}
;
_.containsValue = function containsValue_0(value_0){
  return $containsValue(this, value_0);
}
;
_.delegate_1 = function delegate_1(){
  return this.delegate;
}
;
_.entrySet_0 = function entrySet_0(){
  return $entrySet(this);
}
;
_.keySet_0 = function keySet_0(){
  return $keySet(this);
}
;
_.put = function put_0(key, value_0){
  return $putInBothMaps(this, key, value_0);
}
;
_.remove_3 = function remove_12(key){
  return $remove_7(this, key);
}
;
_.values_0 = function values_9(){
  var result;
  return result = this.valueSet , !result?(this.valueSet = new AbstractBiMap$ValueSet(this)):result;
}
;
var Lcom_google_common_collect_AbstractBiMap_2_classLit = createForClass('com.google.common.collect', 'AbstractBiMap', 450, Lcom_google_common_collect_ForwardingMap_2_classLit);
function $standardToArray(this$static){
  var newArray;
  newArray = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, this$static.delegate_3().size_1(), 3, 1);
  return this$static.toArray_0(newArray);
}

defineClass(1498, 1497, $intern_3);
_.add_0 = function add_14(element){
  return this.delegate_2().add_0(element);
}
;
_.addAll = function addAll_1(collection){
  return this.delegate_2().addAll(collection);
}
;
_.clear_1 = function clear_9(){
  this.delegate_2().clear_1();
}
;
_.contains_0 = function contains_2(object){
  return this.delegate_2().contains_0(object);
}
;
_.containsAll = function containsAll_0(collection){
  return this.delegate_2().containsAll(collection);
}
;
_.delegate_0 = function delegate_2(){
  return this.delegate_2();
}
;
_.isEmpty_0 = function isEmpty_2(){
  return this.delegate_2().isEmpty_0();
}
;
_.iterator = function iterator_7(){
  return this.delegate_2().iterator();
}
;
_.remove = function remove_13(object){
  return this.delegate_2().remove(object);
}
;
_.retainAll = function retainAll_0(collection){
  return this.delegate_2().retainAll(collection);
}
;
_.size_1 = function size_3(){
  return this.delegate_2().size_1();
}
;
_.toArray = function toArray_3(){
  return this.delegate_2().toArray();
}
;
_.toArray_0 = function toArray_4(array){
  return this.delegate_2().toArray_0(array);
}
;
var Lcom_google_common_collect_ForwardingCollection_2_classLit = createForClass('com.google.common.collect', 'ForwardingCollection', 1498, Lcom_google_common_collect_ForwardingObject_2_classLit);
defineClass(1503, 1498, $intern_60);
_.delegate_2 = function delegate_3(){
  return this.delegate_3();
}
;
_.equals$ = function equals_13(object){
  return object === this || this.delegate_3().equals$(object);
}
;
_.hashCode$ = function hashCode_12(){
  return this.delegate_3().hashCode$();
}
;
var Lcom_google_common_collect_ForwardingSet_2_classLit = createForClass('com.google.common.collect', 'ForwardingSet', 1503, Lcom_google_common_collect_ForwardingCollection_2_classLit);
function $contains(this$static, o){
  return containsEntryImpl(this$static.esDelegate, o);
}

function $iterator(this$static){
  var iterator;
  iterator = this$static.esDelegate.iterator();
  return new AbstractBiMap$EntrySet$1(this$static, iterator);
}

function AbstractBiMap$EntrySet(this$0){
  this.this$01 = this$0;
  this.esDelegate = this.this$01.delegate.entrySet_0();
}

defineClass(874, 1503, $intern_60, AbstractBiMap$EntrySet);
_.clear_1 = function clear_10(){
  $clear_2(this.this$01);
}
;
_.contains_0 = function contains_3(o){
  return $contains(this, o);
}
;
_.containsAll = function containsAll_1(c){
  return $clinit_Collections2() , all(c, ($clinit_Predicates() , new Predicates$InPredicate(this)));
}
;
_.delegate_3 = function delegate_4(){
  return this.esDelegate;
}
;
_.iterator = function iterator_8(){
  return $iterator(this);
}
;
_.remove = function remove_14(object){
  var entry;
  if (!this.esDelegate.contains_0(object)) {
    return false;
  }
  entry = dynamicCast(object, 31);
  this.this$01.inverse.delegate.remove_3(entry.getValue());
  this.esDelegate.remove(entry);
  return true;
}
;
_.retainAll = function retainAll_1(c){
  return $clinit_Iterators() , removeIf($iterator(this), ($clinit_Predicates() , new Predicates$NotPredicate(new Predicates$InPredicate(c))));
}
;
_.toArray = function toArray_5(){
  return $standardToArray(this);
}
;
_.toArray_0 = function toArray_6(array){
  return toArrayImpl(this, array);
}
;
var Lcom_google_common_collect_AbstractBiMap$EntrySet_2_classLit = createForClass('com.google.common.collect', 'AbstractBiMap/EntrySet', 874, Lcom_google_common_collect_ForwardingSet_2_classLit);
function AbstractBiMap$EntrySet$1(this$1, val$iterator){
  this.this$11 = this$1;
  this.val$iterator2 = val$iterator;
}

defineClass(876, 1, $intern_56, AbstractBiMap$EntrySet$1);
_.hasNext = function hasNext_0(){
  return this.val$iterator2.hasNext();
}
;
_.next_0 = function next_1(){
  var finalEntry;
  return this.entry = dynamicCast(this.val$iterator2.next_0(), 31) , finalEntry = this.entry , new AbstractBiMap$EntrySet$1$1(this, finalEntry);
}
;
_.remove_2 = function remove_15(){
  var value_0;
  checkState_0(!!this.entry, 'no calls to next() since the last call to remove()');
  value_0 = this.entry.getValue();
  this.val$iterator2.remove_2();
  $removeFromInverseMap(this.this$11.this$01, value_0);
}
;
var Lcom_google_common_collect_AbstractBiMap$EntrySet$1_2_classLit = createForClass('com.google.common.collect', 'AbstractBiMap/EntrySet/1', 876, Ljava_lang_Object_2_classLit);
function $setValue_0(this$static, value_0){
  return this$static.delegate_4().setValue(value_0);
}

function $standardEquals(this$static, object){
  var that;
  if (instanceOf(object, 31)) {
    that = dynamicCast(object, 31);
    return equal(this$static.val$entry2.getKey(), that.getKey()) && equal(this$static.val$entry2.getValue(), that.getValue());
  }
  return false;
}

defineClass(1504, 1497, $intern_61);
_.delegate_0 = function delegate_5(){
  return this.delegate_4();
}
;
_.equals$ = function equals_14(object){
  return this.delegate_4().equals$(object);
}
;
_.getKey = function getKey(){
  return this.delegate_4().getKey();
}
;
_.getValue = function getValue(){
  return this.delegate_4().getValue();
}
;
_.hashCode$ = function hashCode_13(){
  return this.delegate_4().hashCode$();
}
;
_.setValue = function setValue(value_0){
  return $setValue_0(this, value_0);
}
;
var Lcom_google_common_collect_ForwardingMapEntry_2_classLit = createForClass('com.google.common.collect', 'ForwardingMapEntry', 1504, Lcom_google_common_collect_ForwardingObject_2_classLit);
function AbstractBiMap$EntrySet$1$1(this$2, val$finalEntry){
  this.this$21 = this$2;
  this.val$finalEntry2 = val$finalEntry;
}

defineClass(877, 1504, $intern_61, AbstractBiMap$EntrySet$1$1);
_.delegate_4 = function delegate_6(){
  return this.val$finalEntry2;
}
;
_.setValue = function setValue_0(value_0){
  var oldValue;
  checkState_0($contains(this.this$21.this$11, this), 'entry no longer in map');
  if (equal(value_0, this.val$finalEntry2.getValue())) {
    return value_0;
  }
  checkArgument_1(!$containsValue(this.this$21.this$11.this$01, value_0), initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, [value_0]));
  oldValue = this.val$finalEntry2.setValue(value_0);
  checkState_0(equal(value_0, $get_1(this.this$21.this$11.this$01, this.val$finalEntry2.getKey())), 'entry no longer in map');
  $updateInverseMap(this.this$21.this$11.this$01, this.val$finalEntry2.getKey(), oldValue, value_0);
  return oldValue;
}
;
var Lcom_google_common_collect_AbstractBiMap$EntrySet$1$1_2_classLit = createForClass('com.google.common.collect', 'AbstractBiMap/EntrySet/1/1', 877, Lcom_google_common_collect_ForwardingMapEntry_2_classLit);
function AbstractBiMap$Inverse(backward, forward_0){
  this.delegate = backward;
  this.inverse = forward_0;
}

defineClass(875, 450, $intern_59, AbstractBiMap$Inverse);
_.checkKey = function checkKey_0(key){
  return this.inverse.checkValue(key);
}
;
_.checkValue = function checkValue_0(value_0){
  return this.inverse.checkKey(value_0);
}
;
var Lcom_google_common_collect_AbstractBiMap$Inverse_2_classLit = createForClass('com.google.common.collect', 'AbstractBiMap/Inverse', 875, Lcom_google_common_collect_AbstractBiMap_2_classLit);
function AbstractBiMap$KeySet(this$0){
  this.this$01 = this$0;
}

defineClass(872, 1503, $intern_60, AbstractBiMap$KeySet);
_.clear_1 = function clear_11(){
  $clear_2(this.this$01);
}
;
_.delegate_3 = function delegate_7(){
  return new AbstractMap$1(this.this$01.delegate);
}
;
_.iterator = function iterator_9(){
  return $clinit_Maps() , transform_0($iterator($entrySet(this.this$01)), ($clinit_Maps$EntryFunction() , KEY));
}
;
_.remove = function remove_16(key){
  if (!$contains_2(new AbstractMap$1(this.this$01.delegate), key)) {
    return false;
  }
  $removeFromBothMaps(this.this$01, key);
  return true;
}
;
_.retainAll = function retainAll_2(keysToRetain){
  return $clinit_Iterators() , removeIf(($clinit_Maps() , transform_0($iterator($entrySet(this.this$01)), ($clinit_Maps$EntryFunction() , KEY))), ($clinit_Predicates() , new Predicates$NotPredicate(new Predicates$InPredicate(keysToRetain))));
}
;
var Lcom_google_common_collect_AbstractBiMap$KeySet_2_classLit = createForClass('com.google.common.collect', 'AbstractBiMap/KeySet', 872, Lcom_google_common_collect_ForwardingSet_2_classLit);
function $iterator_0(this$static){
  return $clinit_Maps() , transform_0($iterator($entrySet(this$static.this$01)), ($clinit_Maps$EntryFunction() , VALUE));
}

function AbstractBiMap$ValueSet(this$0){
  this.this$01 = this$0;
  this.valuesDelegate = $keySet(this.this$01.inverse);
}

defineClass(873, 1503, $intern_60, AbstractBiMap$ValueSet);
_.delegate_3 = function delegate_8(){
  return this.valuesDelegate;
}
;
_.iterator = function iterator_10(){
  return $iterator_0(this);
}
;
_.toArray = function toArray_7(){
  return $standardToArray(this);
}
;
_.toArray_0 = function toArray_8(array){
  return toArrayImpl(this, array);
}
;
_.toString$ = function toString_31(){
  var sb;
  return $clinit_Collections2() , sb = $append_3(newStringBuilderForCollection((new AbstractMap$1(this.valuesDelegate.this$01.delegate)).this$01.size_1()), 91) , $appendTo_0(STANDARD_JOINER, sb, $iterator_2(transform(this, new Collections2$1(this)))) , (sb.string += ']' , sb).string;
}
;
var Lcom_google_common_collect_AbstractBiMap$ValueSet_2_classLit = createForClass('com.google.common.collect', 'AbstractBiMap/ValueSet', 873, Lcom_google_common_collect_ForwardingSet_2_classLit);
defineClass(195, 1, $intern_62);
_.remove_2 = function remove_17(){
  throw new UnsupportedOperationException;
}
;
var Lcom_google_common_collect_UnmodifiableIterator_2_classLit = createForClass('com.google.common.collect', 'UnmodifiableIterator', 195, Ljava_lang_Object_2_classLit);
defineClass(1501, 195, $intern_63);
var Lcom_google_common_collect_UnmodifiableListIterator_2_classLit = createForClass('com.google.common.collect', 'UnmodifiableListIterator', 1501, Lcom_google_common_collect_UnmodifiableIterator_2_classLit);
defineClass(869, 1501, $intern_63);
_.hasNext = function hasNext_1(){
  return this.position_0 < this.size_0;
}
;
_.hasPrevious = function hasPrevious(){
  return this.position_0 > 0;
}
;
_.next_0 = function next_2(){
  if (this.position_0 >= this.size_0) {
    throw new NoSuchElementException;
  }
  return $get_8(this, this.position_0++);
}
;
_.previous = function previous_0(){
  if (this.position_0 <= 0) {
    throw new NoSuchElementException;
  }
  return $get_8(this, --this.position_0);
}
;
_.position_0 = 0;
_.size_0 = 0;
var Lcom_google_common_collect_AbstractIndexedListIterator_2_classLit = createForClass('com.google.common.collect', 'AbstractIndexedListIterator', 869, Lcom_google_common_collect_UnmodifiableListIterator_2_classLit);
function $asMap(this$static){
  var result;
  result = this$static.asMap;
  return !result?(this$static.asMap = new AbstractMapBasedMultimap$AsMap(this$static, this$static.map_0)):result;
}

function $containsEntry(this$static, key, value_0){
  var collection;
  collection = $get_3($asMap(this$static), key);
  return !!collection && ($refreshIfEmpty(collection) , collection.delegate.contains_0(value_0));
}

function $containsValue_0(this$static, value_0){
  var collection, collection$iterator;
  for (collection$iterator = $iterator_3($values_0($asMap(this$static))); collection$iterator.backingIterator.hasNext();) {
    collection = dynamicCast($transform(collection$iterator, collection$iterator.backingIterator.next_0()), 25);
    if (collection.contains_0(value_0)) {
      return true;
    }
  }
  return false;
}

function $keySet_0(this$static){
  var result;
  result = this$static.keySet;
  return !result?(this$static.keySet = new AbstractMapBasedMultimap$KeySet(this$static, this$static.map_0)):result;
}

function $putAll(this$static, multimap){
  var changed, entry, entry$iterator, result;
  changed = false;
  for (entry$iterator = new AbstractMapBasedMultimap$2((result = multimap.entries , !result?(multimap.entries = new AbstractMultimap$EntrySet(multimap)):result).this$01); entry$iterator.keyIterator.hasNext() || entry$iterator.valueIterator.hasNext();) {
    entry = dynamicCast($next_0(entry$iterator), 31);
    changed = changed | $put(this$static, entry.getKey(), entry.getValue());
  }
  return changed;
}

function $remove_8(this$static, key, value_0){
  var collection;
  collection = $get_3($asMap(this$static), key);
  return !!collection && $remove_10(collection, value_0);
}

function $values(this$static){
  var result;
  result = this$static.values;
  return !result?(this$static.values = new AbstractMultimap$Values(this$static)):result;
}

defineClass(1525, 1, {365:1});
_.equals$ = function equals_15(object){
  return equalsImpl_1(this, object);
}
;
_.hashCode$ = function hashCode_14(){
  return hashCode_45($asMap(this).submap.entrySet_0());
}
;
_.toString$ = function toString_32(){
  return $asMap(this).submap.toString$();
}
;
var Lcom_google_common_collect_AbstractMultimap_2_classLit = createForClass('com.google.common.collect', 'AbstractMultimap', 1525, Ljava_lang_Object_2_classLit);
function $clear_3(this$static){
  var collection, collection$iterator;
  for (collection$iterator = $iterator_5(new AbstractMap$2(this$static.map_0)); collection$iterator.val$outerIter2.hasNext();) {
    collection = dynamicCast($next_8(collection$iterator), 25);
    collection.clear_1();
  }
  this$static.map_0.clear_1();
  this$static.totalSize = 0;
}

function $get_2(this$static, key){
  var collection;
  collection = dynamicCast(this$static.map_0.get_2(key), 25);
  !collection && (collection = new HashSet_0(capacity(this$static.expectedValuesPerKey)));
  return instanceOf(collection, 418)?new AbstractMapBasedMultimap$WrappedSortedSet(this$static, key, dynamicCast(collection, 418)):instanceOf(collection, 41)?new AbstractMapBasedMultimap$WrappedSet(this$static, key, dynamicCast(collection, 41)):instanceOf(collection, 38)?$wrapList(this$static, key, dynamicCast(collection, 38)):new AbstractMapBasedMultimap$WrappedCollection(this$static, key, collection);
}

function $iteratorOrListIterator(collection){
  return instanceOf(collection, 38)?dynamicCast(collection, 38).listIterator():collection.iterator();
}

function $put(this$static, key, value_0){
  var collection;
  collection = dynamicCast(this$static.map_0.get_2(key), 25);
  if (!collection) {
    collection = new HashSet_0(capacity(this$static.expectedValuesPerKey));
    if (collection.add_0(value_0)) {
      ++this$static.totalSize;
      this$static.map_0.put(key, collection);
      return true;
    }
     else {
      throw new AssertionError('New Collection violated the Collection spec');
    }
  }
   else if (collection.add_0(value_0)) {
    ++this$static.totalSize;
    return true;
  }
   else {
    return false;
  }
}

function $removeValuesForKey(this$static, key){
  var collection, count;
  collection = dynamicCast(safeRemove_0(this$static.map_0, key), 25);
  count = 0;
  if (collection) {
    count = collection.size_1();
    collection.clear_1();
    this$static.totalSize -= count;
  }
  return count;
}

function $wrapCollection(this$static, key, collection){
  return instanceOf(collection, 418)?new AbstractMapBasedMultimap$WrappedSortedSet(this$static, key, dynamicCast(collection, 418)):instanceOf(collection, 41)?new AbstractMapBasedMultimap$WrappedSet(this$static, key, dynamicCast(collection, 41)):instanceOf(collection, 38)?$wrapList(this$static, key, dynamicCast(collection, 38)):new AbstractMapBasedMultimap$WrappedCollection(this$static, key, collection);
}

function $wrapList(this$static, key, list){
  return instanceOf(list, 68)?new AbstractMapBasedMultimap$RandomAccessWrappedList(this$static, key, list):new AbstractMapBasedMultimap$WrappedList(this$static, key, list);
}

defineClass(1251, 1525, $intern_64);
_.totalSize = 0;
var Lcom_google_common_collect_AbstractMapBasedMultimap_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap', 1251, Lcom_google_common_collect_AbstractMultimap_2_classLit);
function $next_0(this$static){
  var mapEntry;
  if (!this$static.valueIterator.hasNext()) {
    mapEntry = dynamicCast(this$static.keyIterator.next_0(), 31);
    this$static.key_0 = mapEntry.getKey();
    this$static.collection = dynamicCast(mapEntry.getValue(), 25);
    this$static.valueIterator = this$static.collection.iterator();
  }
  return this$static.output_0(this$static.key_0, this$static.valueIterator.next_0());
}

function AbstractMapBasedMultimap$Itr(this$0){
  this.this$01 = this$0;
  this.keyIterator = this$0.map_0.entrySet_0().iterator();
  this.key_0 = null;
  this.collection = null;
  this.valueIterator = ($clinit_Iterators() , $clinit_Iterators() , EMPTY_MODIFIABLE_ITERATOR);
}

defineClass(489, 1, $intern_56);
_.hasNext = function hasNext_2(){
  return this.keyIterator.hasNext() || this.valueIterator.hasNext();
}
;
_.next_0 = function next_3(){
  return $next_0(this);
}
;
_.remove_2 = function remove_18(){
  this.valueIterator.remove_2();
  this.collection.isEmpty_0() && this.keyIterator.remove_2();
  --this.this$01.totalSize;
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$Itr_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/Itr', 489, Ljava_lang_Object_2_classLit);
function AbstractMapBasedMultimap$1(this$0){
  AbstractMapBasedMultimap$Itr.call(this, this$0);
}

defineClass(307, 489, $intern_56, AbstractMapBasedMultimap$1);
_.output_0 = function output_0(key, value_0){
  return value_0;
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$1_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/1', 307, Lcom_google_common_collect_AbstractMapBasedMultimap$Itr_2_classLit);
function AbstractMapBasedMultimap$2(this$0){
  AbstractMapBasedMultimap$Itr.call(this, this$0);
}

defineClass(491, 489, $intern_56, AbstractMapBasedMultimap$2);
_.output_0 = function output_1(key, value_0){
  return $clinit_Maps() , new ImmutableEntry(key, value_0);
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$2_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/2', 491, Lcom_google_common_collect_AbstractMapBasedMultimap$Itr_2_classLit);
function $containsEntry_0(this$static, entry){
  var key, ourValue, value_0;
  key = entry.getKey();
  value_0 = entry.getValue();
  ourValue = this$static.get_2(key);
  if (!(maskUndefined(value_0) === maskUndefined(ourValue) || value_0 != null && equals_Ljava_lang_Object__Z__devirtual$(value_0, ourValue))) {
    return false;
  }
  if (ourValue == null && !this$static.containsKey(key)) {
    return false;
  }
  return true;
}

function $equals_1(this$static, obj){
  var entry, entry$iterator, otherMap;
  if (obj === this$static) {
    return true;
  }
  if (!instanceOf(obj, 47)) {
    return false;
  }
  otherMap = dynamicCast(obj, 47);
  if (this$static.size_1() != otherMap.size_1()) {
    return false;
  }
  for (entry$iterator = otherMap.entrySet_0().iterator(); entry$iterator.hasNext();) {
    entry = dynamicCast(entry$iterator.next_0(), 31);
    if (!$containsEntry_0(this$static, entry)) {
      return false;
    }
  }
  return true;
}

function $implFindEntry(this$static, key, remove){
  var entry, iter, k;
  for (iter = this$static.entrySet_0().iterator(); iter.hasNext();) {
    entry = dynamicCast(iter.next_0(), 31);
    k = entry.getKey();
    if (maskUndefined(key) === maskUndefined(k) || key != null && equals_Ljava_lang_Object__Z__devirtual$(key, k)) {
      if (remove) {
        entry = new AbstractMap$SimpleEntry(entry.getKey(), entry.getValue());
        iter.remove_2();
      }
      return entry;
    }
  }
  return null;
}

function $putAll_0(this$static, map_0){
  var e, e$iterator;
  checkNotNull_1(map_0);
  for (e$iterator = map_0.entrySet_0().iterator(); e$iterator.hasNext();) {
    e = dynamicCast(e$iterator.next_0(), 31);
    this$static.put(e.getKey(), e.getValue());
  }
}

function $toString_4(this$static){
  var comma, entry, entry$iterator, sb;
  sb = new StringBuilder_1('{');
  comma = false;
  for (entry$iterator = this$static.entrySet_0().iterator(); entry$iterator.hasNext();) {
    entry = dynamicCast(entry$iterator.next_0(), 31);
    comma?(sb.string += ', ' , sb):(comma = true);
    $append_6(sb, $toString_5(this$static, entry.getKey()));
    sb.string += '=';
    $append_6(sb, $toString_5(this$static, entry.getValue()));
  }
  sb.string += '}';
  return sb.string;
}

function $toString_5(this$static, o){
  return o === this$static?'(this Map)':'' + o;
}

function getEntryValueOrNull(entry){
  return !entry?null:entry.getValue();
}

defineClass(1481, 1, $intern_58);
_.clear_1 = function clear_12(){
  this.entrySet_0().clear_1();
}
;
_.containsKey = function containsKey_0(key){
  return !!$implFindEntry(this, key, false);
}
;
_.containsValue = function containsValue_1(value_0){
  var entry, entry$iterator, v;
  for (entry$iterator = this.entrySet_0().iterator(); entry$iterator.hasNext();) {
    entry = dynamicCast(entry$iterator.next_0(), 31);
    v = entry.getValue();
    if (maskUndefined(value_0) === maskUndefined(v) || value_0 != null && equals_Ljava_lang_Object__Z__devirtual$(value_0, v)) {
      return true;
    }
  }
  return false;
}
;
_.equals$ = function equals_16(obj){
  return $equals_1(this, obj);
}
;
_.get_2 = function get_4(key){
  return getEntryValueOrNull($implFindEntry(this, key, false));
}
;
_.hashCode$ = function hashCode_15(){
  return hashCode_45(this.entrySet_0());
}
;
_.isEmpty_0 = function isEmpty_3(){
  return this.size_1() == 0;
}
;
_.keySet_0 = function keySet_1(){
  return new AbstractMap$1(this);
}
;
_.put = function put_1(key, value_0){
  throw new UnsupportedOperationException_0('Put not supported on this map');
}
;
_.remove_3 = function remove_19(key){
  return getEntryValueOrNull($implFindEntry(this, key, true));
}
;
_.size_1 = function size_4(){
  return this.entrySet_0().size_1();
}
;
_.toString$ = function toString_33(){
  return $toString_4(this);
}
;
_.values_0 = function values_10(){
  return new AbstractMap$2(this);
}
;
var Ljava_util_AbstractMap_2_classLit = createForClass('java.util', 'AbstractMap', 1481, Ljava_lang_Object_2_classLit);
function $entrySet_0(this$static){
  var result;
  result = this$static.entrySet;
  return !result?(this$static.entrySet = this$static.createEntrySet()):result;
}

function $keySet_1(this$static){
  var result;
  result = this$static.keySet;
  return !result?(this$static.keySet = new Maps$KeySet(this$static)):result;
}

function $values_0(this$static){
  var result;
  result = this$static.values;
  return !result?(this$static.values = new Maps$Values(this$static)):result;
}

defineClass(1505, 1481, $intern_58);
_.entrySet_0 = function entrySet_1(){
  return $entrySet_0(this);
}
;
_.keySet_0 = function keySet_2(){
  return $keySet_1(this);
}
;
_.values_0 = function values_11(){
  return $values_0(this);
}
;
var Lcom_google_common_collect_Maps$ImprovedAbstractMap_2_classLit = createForClass('com.google.common.collect', 'Maps/ImprovedAbstractMap', 1505, Ljava_util_AbstractMap_2_classLit);
function $equals_2(this$static, object){
  return this$static === object || $equals_1(this$static.submap, object);
}

function $get_3(this$static, key){
  var collection;
  collection = dynamicCast(safeGet(this$static.submap, key), 25);
  if (!collection) {
    return null;
  }
  return $wrapCollection(this$static.this$01, key, collection);
}

function $remove_9(this$static, key){
  var collection, output;
  collection = dynamicCast(this$static.submap.remove_3(key), 25);
  if (!collection) {
    return null;
  }
  output = new HashSet_0(capacity(this$static.this$01.expectedValuesPerKey));
  $addAll(output, collection);
  this$static.this$01.totalSize -= collection.size_1();
  collection.clear_1();
  return output;
}

function $wrapEntry(this$static, entry){
  var key;
  key = entry.getKey();
  return $clinit_Maps() , new ImmutableEntry(key, $wrapCollection(this$static.this$01, key, dynamicCast(entry.getValue(), 25)));
}

function AbstractMapBasedMultimap$AsMap(this$0, submap){
  this.this$01 = this$0;
  this.submap = submap;
}

defineClass(1255, 1505, $intern_58, AbstractMapBasedMultimap$AsMap);
_.clear_1 = function clear_13(){
  this.submap == this.this$01.map_0?$clear_3(this.this$01):clear_25(new AbstractMapBasedMultimap$AsMap$AsMapIterator(this));
}
;
_.containsKey = function containsKey_1(key){
  return safeContainsKey(this.submap, key);
}
;
_.createEntrySet_0 = function createEntrySet(){
  return new AbstractMapBasedMultimap$AsMap$AsMapEntries(this);
}
;
_.createEntrySet = _.createEntrySet_0;
_.equals$ = function equals_17(object){
  return $equals_2(this, object);
}
;
_.get_2 = function get_5(key){
  return $get_3(this, key);
}
;
_.hashCode$ = function hashCode_16(){
  return hashCode_45(this.submap.entrySet_0());
}
;
_.keySet_0 = function keySet_3(){
  return $keySet_0(this.this$01);
}
;
_.remove_3 = function remove_20(key){
  return $remove_9(this, key);
}
;
_.size_1 = function size_5(){
  return this.submap.size_1();
}
;
_.toString$ = function toString_34(){
  return this.submap.toString$();
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$AsMap_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/AsMap', 1255, Lcom_google_common_collect_Maps$ImprovedAbstractMap_2_classLit);
function $equals_3(this$static, o){
  var other;
  if (o === this$static) {
    return true;
  }
  if (!instanceOf(o, 41)) {
    return false;
  }
  other = dynamicCast(o, 41);
  if (other.size_1() != this$static.size_1()) {
    return false;
  }
  return this$static.containsAll(other);
}

defineClass(1483, $intern_2, $intern_60);
_.equals$ = function equals_18(o){
  return $equals_3(this, o);
}
;
_.hashCode$ = function hashCode_17(){
  return hashCode_45(this);
}
;
var Ljava_util_AbstractSet_2_classLit = createForClass('java.util', 'AbstractSet', 1483, Ljava_util_AbstractCollection_2_classLit);
defineClass(1496, 1483, $intern_60);
_.retainAll = function retainAll_3(c){
  return $retainAll(this, dynamicCast(checkNotNull(c), 25));
}
;
var Lcom_google_common_collect_Sets$ImprovedAbstractSet_2_classLit = createForClass('com.google.common.collect', 'Sets/ImprovedAbstractSet', 1496, Ljava_util_AbstractSet_2_classLit);
defineClass(1506, 1496, $intern_60);
_.clear_1 = function clear_14(){
  this.map_1().clear_1();
}
;
_.contains_0 = function contains_4(o){
  var entry, key, value_0;
  if (instanceOf(o, 31)) {
    entry = dynamicCast(o, 31);
    key = entry.getKey();
    value_0 = safeGet(this.map_1(), key);
    return equal(value_0, entry.getValue()) && (value_0 != null || this.map_1().containsKey(key));
  }
  return false;
}
;
_.isEmpty_0 = function isEmpty_4(){
  return this.map_1().size_1() == 0;
}
;
_.remove = function remove_21(o){
  var entry;
  if (this.contains_0(o)) {
    entry = dynamicCast(o, 31);
    return this.map_1().keySet_0().remove(entry.getKey());
  }
  return false;
}
;
_.retainAll = function retainAll_4(c){
  var entry, keys_0, o, o$iterator;
  try {
    return $retainAll(this, dynamicCast(checkNotNull(dynamicCast(checkNotNull(c), 25)), 25));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 54)) {
      keys_0 = new HashSet_0(capacity(c.size_1()));
      for (o$iterator = c.iterator(); o$iterator.hasNext();) {
        o = o$iterator.next_0();
        if (this.contains_0(o)) {
          entry = dynamicCast(o, 31);
          $add_21(keys_0, entry.getKey());
        }
      }
      return $retainAll(this.map_1().keySet_0(), dynamicCast(checkNotNull(keys_0), 25));
    }
     else 
      throw unwrap($e0);
  }
}
;
_.size_1 = function size_6(){
  return this.map_1().size_1();
}
;
var Lcom_google_common_collect_Maps$EntrySet_2_classLit = createForClass('com.google.common.collect', 'Maps/EntrySet', 1506, Lcom_google_common_collect_Sets$ImprovedAbstractSet_2_classLit);
function AbstractMapBasedMultimap$AsMap$AsMapEntries(this$1){
  this.this$11 = this$1;
}

defineClass(1256, 1506, $intern_60, AbstractMapBasedMultimap$AsMap$AsMapEntries);
_.contains_0 = function contains_5(o){
  return safeContains(this.this$11.submap.entrySet_0(), o);
}
;
_.iterator = function iterator_11(){
  return new AbstractMapBasedMultimap$AsMap$AsMapIterator(this.this$11);
}
;
_.map_1 = function map_1(){
  return this.this$11;
}
;
_.remove = function remove_22(o){
  var entry;
  if (!safeContains(this.this$11.submap.entrySet_0(), o)) {
    return false;
  }
  entry = dynamicCast(o, 31);
  $removeValuesForKey(this.this$11.this$01, entry.getKey());
  return true;
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$AsMap$AsMapEntries_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/AsMap/AsMapEntries', 1256, Lcom_google_common_collect_Maps$EntrySet_2_classLit);
function AbstractMapBasedMultimap$AsMap$AsMapIterator(this$1){
  this.this$11 = this$1;
  this.delegateIterator = this.this$11.submap.entrySet_0().iterator();
}

defineClass(490, 1, $intern_56, AbstractMapBasedMultimap$AsMap$AsMapIterator);
_.hasNext = function hasNext_3(){
  return this.delegateIterator.hasNext();
}
;
_.next_0 = function next_4(){
  var entry;
  return entry = dynamicCast(this.delegateIterator.next_0(), 31) , this.collection = dynamicCast(entry.getValue(), 25) , $wrapEntry(this.this$11, entry);
}
;
_.remove_2 = function remove_23(){
  this.delegateIterator.remove_2();
  this.this$11.this$01.totalSize -= this.collection.size_1();
  this.collection.clear_1();
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$AsMap$AsMapIterator_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/AsMap/AsMapIterator', 490, Ljava_lang_Object_2_classLit);
function Maps$KeySet(map_0){
  this.map_0 = dynamicCast(checkNotNull(map_0), 47);
}

defineClass(451, 1496, $intern_60, Maps$KeySet);
_.clear_1 = function clear_15(){
  this.map_0.clear_1();
}
;
_.contains_0 = function contains_6(o){
  return this.map_0.containsKey(o);
}
;
_.isEmpty_0 = function isEmpty_5(){
  return this.map_0.isEmpty_0();
}
;
_.iterator = function iterator_12(){
  return $clinit_Maps() , transform_0(this.map_0.entrySet_0().iterator(), ($clinit_Maps$EntryFunction() , KEY));
}
;
_.remove = function remove_24(o){
  if (this.map_0.containsKey(o)) {
    this.map_0.remove_3(o);
    return true;
  }
  return false;
}
;
_.size_1 = function size_7(){
  return this.map_0.size_1();
}
;
var Lcom_google_common_collect_Maps$KeySet_2_classLit = createForClass('com.google.common.collect', 'Maps/KeySet', 451, Lcom_google_common_collect_Sets$ImprovedAbstractSet_2_classLit);
function $iterator_1(this$static){
  var entryIterator;
  entryIterator = this$static.map_0.entrySet_0().iterator();
  return new AbstractMapBasedMultimap$KeySet$1(this$static, entryIterator);
}

function AbstractMapBasedMultimap$KeySet(this$0, subMap){
  this.this$01 = this$0;
  Maps$KeySet.call(this, subMap);
}

defineClass(1254, 451, $intern_60, AbstractMapBasedMultimap$KeySet);
_.clear_1 = function clear_16(){
  clear_25($iterator_1(this));
}
;
_.containsAll = function containsAll_2(c){
  return this.map_0.keySet_0().containsAll(c);
}
;
_.equals$ = function equals_19(object){
  return this === object || this.map_0.keySet_0().equals$(object);
}
;
_.hashCode$ = function hashCode_18(){
  return this.map_0.keySet_0().hashCode$();
}
;
_.iterator = function iterator_13(){
  return $iterator_1(this);
}
;
_.remove = function remove_25(key){
  var collection, count;
  count = 0;
  collection = dynamicCast(this.map_0.remove_3(key), 25);
  if (collection) {
    count = collection.size_1();
    collection.clear_1();
    this.this$01.totalSize -= count;
  }
  return count > 0;
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$KeySet_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/KeySet', 1254, Lcom_google_common_collect_Maps$KeySet_2_classLit);
function AbstractMapBasedMultimap$KeySet$1(this$1, val$entryIterator){
  this.this$11 = this$1;
  this.val$entryIterator2 = val$entryIterator;
}

defineClass(1257, 1, $intern_56, AbstractMapBasedMultimap$KeySet$1);
_.hasNext = function hasNext_4(){
  return this.val$entryIterator2.hasNext();
}
;
_.next_0 = function next_5(){
  this.entry = dynamicCast(this.val$entryIterator2.next_0(), 31);
  return this.entry.getKey();
}
;
_.remove_2 = function remove_26(){
  var collection;
  checkState_0(!!this.entry, 'no calls to next() since the last call to remove()');
  collection = dynamicCast(this.entry.getValue(), 25);
  this.val$entryIterator2.remove_2();
  this.this$11.this$01.totalSize -= collection.size_1();
  collection.clear_1();
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$KeySet$1_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/KeySet/1', 1257, Ljava_lang_Object_2_classLit);
function $refreshIfEmpty(this$static){
  var newDelegate;
  if (this$static.delegate.isEmpty_0()) {
    newDelegate = dynamicCast(this$static.this$01.map_0.get_2(this$static.key_0), 25);
    !!newDelegate && (this$static.delegate = newDelegate);
  }
}

function $remove_10(this$static, o){
  var changed;
  $refreshIfEmpty(this$static);
  changed = this$static.delegate.remove(o);
  if (changed) {
    --this$static.this$01.totalSize;
    this$static.delegate.isEmpty_0() && this$static.this$01.map_0.remove_3(this$static.key_0);
  }
  return changed;
}

function $removeIfEmpty(this$static){
  this$static.delegate.isEmpty_0() && this$static.this$01.map_0.remove_3(this$static.key_0);
}

function AbstractMapBasedMultimap$WrappedCollection(this$0, key, delegate){
  this.this$01 = this$0;
  this.key_0 = key;
  this.delegate = delegate;
}

defineClass(306, $intern_2, $intern_3, AbstractMapBasedMultimap$WrappedCollection);
_.add_0 = function add_15(value_0){
  var changed, wasEmpty;
  $refreshIfEmpty(this);
  wasEmpty = this.delegate.isEmpty_0();
  changed = this.delegate.add_0(value_0);
  if (changed) {
    ++this.this$01.totalSize;
    wasEmpty && this.this$01.map_0.put(this.key_0, this.delegate);
  }
  return changed;
}
;
_.addAll = function addAll_2(collection){
  var changed, newSize, oldSize;
  if (collection.isEmpty_0()) {
    return false;
  }
  oldSize = ($refreshIfEmpty(this) , this.delegate.size_1());
  changed = this.delegate.addAll(collection);
  if (changed) {
    newSize = this.delegate.size_1();
    this.this$01.totalSize += newSize - oldSize;
    oldSize == 0 && this.this$01.map_0.put(this.key_0, this.delegate);
  }
  return changed;
}
;
_.clear_1 = function clear_17(){
  var oldSize;
  oldSize = ($refreshIfEmpty(this) , this.delegate.size_1());
  if (oldSize == 0) {
    return;
  }
  this.delegate.clear_1();
  this.this$01.totalSize -= oldSize;
  this.delegate.isEmpty_0() && this.this$01.map_0.remove_3(this.key_0);
}
;
_.contains_0 = function contains_7(o){
  return $refreshIfEmpty(this) , this.delegate.contains_0(o);
}
;
_.containsAll = function containsAll_3(c){
  $refreshIfEmpty(this);
  return this.delegate.containsAll(c);
}
;
_.equals$ = function equals_20(object){
  if (object === this) {
    return true;
  }
  $refreshIfEmpty(this);
  return this.delegate.equals$(object);
}
;
_.hashCode$ = function hashCode_19(){
  $refreshIfEmpty(this);
  return this.delegate.hashCode$();
}
;
_.iterator = function iterator_14(){
  $refreshIfEmpty(this);
  return new AbstractMapBasedMultimap$WrappedCollection$WrappedIterator(this);
}
;
_.remove = function remove_27(o){
  return $remove_10(this, o);
}
;
_.retainAll = function retainAll_5(c){
  var changed, newSize, oldSize;
  checkNotNull(c);
  oldSize = ($refreshIfEmpty(this) , this.delegate.size_1());
  changed = this.delegate.retainAll(c);
  if (changed) {
    newSize = this.delegate.size_1();
    this.this$01.totalSize += newSize - oldSize;
    this.delegate.isEmpty_0() && this.this$01.map_0.remove_3(this.key_0);
  }
  return changed;
}
;
_.size_1 = function size_8(){
  return $refreshIfEmpty(this) , this.delegate.size_1();
}
;
_.toString$ = function toString_35(){
  $refreshIfEmpty(this);
  return this.delegate.toString$();
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedCollection_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/WrappedCollection', 306, Ljava_util_AbstractCollection_2_classLit);
function AbstractMapBasedMultimap$WrappedList(this$0, key, delegate){
  AbstractMapBasedMultimap$WrappedCollection.call(this, this$0, key, delegate);
}

defineClass(487, 306, $intern_4, AbstractMapBasedMultimap$WrappedList);
_.get_0 = function get_6(index_0){
  $refreshIfEmpty(this);
  return dynamicCast(this.delegate, 38).get_0(index_0);
}
;
_.listIterator = function listIterator_1(){
  $refreshIfEmpty(this);
  return new AbstractMapBasedMultimap$WrappedList$WrappedListIterator(this);
}
;
_.listIterator_0 = function listIterator_2(index_0){
  $refreshIfEmpty(this);
  return new AbstractMapBasedMultimap$WrappedList$WrappedListIterator_0(this, index_0);
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedList_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/WrappedList', 487, Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedCollection_2_classLit);
function AbstractMapBasedMultimap$RandomAccessWrappedList(this$0, key, delegate){
  AbstractMapBasedMultimap$WrappedList.call(this, this$0, key, delegate);
}

defineClass(1253, 487, $intern_65, AbstractMapBasedMultimap$RandomAccessWrappedList);
var Lcom_google_common_collect_AbstractMapBasedMultimap$RandomAccessWrappedList_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/RandomAccessWrappedList', 1253, Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedList_2_classLit);
function $$init_7(this$static){
  this$static.originalDelegate = this$static.this$11.delegate;
}

function $validateIterator(this$static){
  $refreshIfEmpty(this$static.this$11);
  if (this$static.this$11.delegate != this$static.originalDelegate) {
    throw new ConcurrentModificationException;
  }
}

function AbstractMapBasedMultimap$WrappedCollection$WrappedIterator(this$1){
  this.this$11 = this$1;
  $$init_7(this);
  this.delegateIterator = $iteratorOrListIterator(this$1.delegate);
}

function AbstractMapBasedMultimap$WrappedCollection$WrappedIterator_0(this$1, delegateIterator){
  this.this$11 = this$1;
  $$init_7(this);
  this.delegateIterator = delegateIterator;
}

defineClass(401, 1, $intern_56, AbstractMapBasedMultimap$WrappedCollection$WrappedIterator);
_.hasNext = function hasNext_5(){
  $validateIterator(this);
  return this.delegateIterator.hasNext();
}
;
_.next_0 = function next_6(){
  $validateIterator(this);
  return this.delegateIterator.next_0();
}
;
_.remove_2 = function remove_28(){
  this.delegateIterator.remove_2();
  --this.this$11.this$01.totalSize;
  $removeIfEmpty(this.this$11);
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedCollection$WrappedIterator_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/WrappedCollection/WrappedIterator', 401, Ljava_lang_Object_2_classLit);
function AbstractMapBasedMultimap$WrappedList$WrappedListIterator(this$1){
  AbstractMapBasedMultimap$WrappedCollection$WrappedIterator.call(this, this$1);
}

function AbstractMapBasedMultimap$WrappedList$WrappedListIterator_0(this$1, index_0){
  AbstractMapBasedMultimap$WrappedCollection$WrappedIterator_0.call(this, this$1, dynamicCast(this$1.delegate, 38).listIterator_0(index_0));
}

defineClass(488, 401, $intern_66, AbstractMapBasedMultimap$WrappedList$WrappedListIterator, AbstractMapBasedMultimap$WrappedList$WrappedListIterator_0);
_.hasPrevious = function hasPrevious_0(){
  return ($validateIterator(this) , dynamicCast(this.delegateIterator, 221)).hasPrevious();
}
;
_.previous = function previous_1(){
  return ($validateIterator(this) , dynamicCast(this.delegateIterator, 221)).previous();
}
;
var Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedList$WrappedListIterator_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/WrappedList/WrappedListIterator', 488, Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedCollection$WrappedIterator_2_classLit);
function AbstractMapBasedMultimap$WrappedSet(this$0, key, delegate){
  AbstractMapBasedMultimap$WrappedCollection.call(this, this$0, key, delegate);
}

defineClass(485, 306, $intern_60, AbstractMapBasedMultimap$WrappedSet);
var Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedSet_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/WrappedSet', 485, Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedCollection_2_classLit);
function AbstractMapBasedMultimap$WrappedSortedSet(this$0, key, delegate){
  AbstractMapBasedMultimap$WrappedCollection.call(this, this$0, key, delegate);
}

defineClass(486, 306, {25:1, 41:1, 418:1}, AbstractMapBasedMultimap$WrappedSortedSet);
var Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedSortedSet_2_classLit = createForClass('com.google.common.collect', 'AbstractMapBasedMultimap/WrappedSortedSet', 486, Lcom_google_common_collect_AbstractMapBasedMultimap$WrappedCollection_2_classLit);
defineClass(1507, 1, $intern_61);
_.equals$ = function equals_21(object){
  var that;
  if (instanceOf(object, 31)) {
    that = dynamicCast(object, 31);
    return equal(this.getKey(), that.getKey()) && equal(this.getValue(), that.getValue());
  }
  return false;
}
;
_.hashCode$ = function hashCode_20(){
  var k, v;
  k = this.getKey();
  v = this.getValue();
  return (k == null?0:hashCode__I__devirtual$(k)) ^ (v == null?0:hashCode__I__devirtual$(v));
}
;
_.setValue = function setValue_1(value_0){
  throw new UnsupportedOperationException;
}
;
_.toString$ = function toString_36(){
  return this.getKey() + '=' + this.getValue();
}
;
var Lcom_google_common_collect_AbstractMapEntry_2_classLit = createForClass('com.google.common.collect', 'AbstractMapEntry', 1507, Ljava_lang_Object_2_classLit);
defineClass(1526, $intern_2, $intern_3);
_.clear_1 = function clear_18(){
  $clear_3(this.multimap());
}
;
_.contains_0 = function contains_8(o){
  var entry;
  if (instanceOf(o, 31)) {
    entry = dynamicCast(o, 31);
    return $containsEntry(this.multimap(), entry.getKey(), entry.getValue());
  }
  return false;
}
;
_.remove = function remove_29(o){
  var entry;
  if (instanceOf(o, 31)) {
    entry = dynamicCast(o, 31);
    return $remove_8(this.multimap(), entry.getKey(), entry.getValue());
  }
  return false;
}
;
_.size_1 = function size_9(){
  return this.multimap().totalSize;
}
;
var Lcom_google_common_collect_Multimaps$Entries_2_classLit = createForClass('com.google.common.collect', 'Multimaps/Entries', 1526, Ljava_util_AbstractCollection_2_classLit);
defineClass(1258, 1526, $intern_3);
_.iterator = function iterator_15(){
  return new AbstractMapBasedMultimap$2(this.this$01);
}
;
_.multimap = function multimap_0(){
  return this.this$01;
}
;
var Lcom_google_common_collect_AbstractMultimap$Entries_2_classLit = createForClass('com.google.common.collect', 'AbstractMultimap/Entries', 1258, Lcom_google_common_collect_Multimaps$Entries_2_classLit);
function AbstractMultimap$EntrySet(this$0){
  this.this$01 = this$0;
}

defineClass(1259, 1258, $intern_60, AbstractMultimap$EntrySet);
_.equals$ = function equals_22(obj){
  return equalsImpl_2(this, obj);
}
;
_.hashCode$ = function hashCode_21(){
  return hashCodeImpl_0(this);
}
;
var Lcom_google_common_collect_AbstractMultimap$EntrySet_2_classLit = createForClass('com.google.common.collect', 'AbstractMultimap/EntrySet', 1259, Lcom_google_common_collect_AbstractMultimap$Entries_2_classLit);
function AbstractMultimap$Values(this$0){
  this.this$01 = this$0;
}

defineClass(1260, $intern_2, $intern_3, AbstractMultimap$Values);
_.clear_1 = function clear_19(){
  $clear_3(this.this$01);
}
;
_.contains_0 = function contains_9(o){
  return $containsValue_0(this.this$01, o);
}
;
_.iterator = function iterator_16(){
  return new AbstractMapBasedMultimap$1(this.this$01);
}
;
_.size_1 = function size_10(){
  return this.this$01.totalSize;
}
;
var Lcom_google_common_collect_AbstractMultimap$Values_2_classLit = createForClass('com.google.common.collect', 'AbstractMultimap/Values', 1260, Ljava_util_AbstractCollection_2_classLit);
function AbstractSetMultimap(map_0){
  checkArgument(map_0.size_1() == 0);
  this.map_0 = map_0;
}

defineClass(1252, 1251, $intern_64);
_.equals$ = function equals_23(object){
  return equalsImpl_1(this, object);
}
;
var Lcom_google_common_collect_AbstractSetMultimap_2_classLit = createForClass('com.google.common.collect', 'AbstractSetMultimap', 1252, Lcom_google_common_collect_AbstractMapBasedMultimap_2_classLit);
function $cellSet(this$static){
  var result;
  result = this$static.cellSet;
  return !result?(this$static.cellSet = new AbstractTable$CellSet(this$static)):result;
}

defineClass(1524, 1, {422:1});
_.cellSet_0 = function cellSet(){
  return $cellSet(this);
}
;
_.clear_1 = function clear_20(){
  clear_25(this.cellSet_0().this$01.cellIterator());
}
;
_.equals$ = function equals_24(obj){
  return equalsImpl_3(this, obj);
}
;
_.hashCode$ = function hashCode_22(){
  return hashCode_45(this.cellSet_0());
}
;
_.toString$ = function toString_37(){
  return $toString_4(this.rowMap_0());
}
;
var Lcom_google_common_collect_AbstractTable_2_classLit = createForClass('com.google.common.collect', 'AbstractTable', 1524, Ljava_lang_Object_2_classLit);
function AbstractTable$CellSet(this$0){
  this.this$01 = this$0;
}

defineClass(1206, 1483, $intern_60, AbstractTable$CellSet);
_.clear_1 = function clear_21(){
  this.this$01.clear_1();
}
;
_.contains_0 = function contains_10(o){
  var cell, row;
  if (instanceOf(o, 279)) {
    cell = dynamicCast(o, 279);
    row = dynamicCast(safeGet(this.this$01.rowMap_0(), cell.rowKey), 47);
    return !!row && safeContains(row.entrySet_0(), ($clinit_Maps() , new ImmutableEntry(cell.columnKey, cell.value_0)));
  }
  return false;
}
;
_.iterator = function iterator_17(){
  return this.this$01.cellIterator();
}
;
_.remove = function remove_30(o){
  var cell, row;
  if (instanceOf(o, 279)) {
    cell = dynamicCast(o, 279);
    row = dynamicCast(safeGet(this.this$01.rowMap_0(), cell.rowKey), 47);
    return !!row && safeRemove(row.entrySet_0(), ($clinit_Maps() , new ImmutableEntry(cell.columnKey, cell.value_0)));
  }
  return false;
}
;
_.size_1 = function size_11(){
  return this.this$01.size_1();
}
;
var Lcom_google_common_collect_AbstractTable$CellSet_2_classLit = createForClass('com.google.common.collect', 'AbstractTable/CellSet', 1206, Ljava_util_AbstractSet_2_classLit);
function checkEntryNotNull(key, value_0){
  if (key == null) {
    throw new NullPointerException_0('null key in entry: null=' + value_0);
  }
   else if (!value_0) {
    throw new NullPointerException_0('null value in entry: ' + key + '=null');
  }
}

function checkNonnegative(value_0, name_0){
  if (value_0 < 0) {
    throw new IllegalArgumentException_0(name_0 + ' cannot be negative but was: ' + value_0);
  }
  return value_0;
}

function $clinit_Collections2(){
  $clinit_Collections2 = emptyMethod;
  STANDARD_JOINER = (new Joiner(', ')).useForNull('null');
}

function newStringBuilderForCollection(size_0){
  $clinit_Collections2();
  checkNonnegative(size_0, 'size');
  return new StringBuilder_0(toInt(lt(mul_0(fromInt(size_0), {l:8, m:0, h:0}), {l:0, m:256, h:0})?mul_0(fromInt(size_0), {l:8, m:0, h:0}):{l:0, m:256, h:0}));
}

function safeContains(collection, object){
  $clinit_Collections2();
  checkNotNull(collection);
  try {
    return collection.contains_0(object);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 134)) {
      return false;
    }
     else if (instanceOf($e0, 82)) {
      return false;
    }
     else 
      throw unwrap($e0);
  }
}

function safeRemove(collection, object){
  $clinit_Collections2();
  checkNotNull(collection);
  try {
    return collection.remove(object);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 134)) {
      return false;
    }
     else if (instanceOf($e0, 82)) {
      return false;
    }
     else 
      throw unwrap($e0);
  }
}

var STANDARD_JOINER;
function Collections2$1(val$collection){
  this.val$collection1 = val$collection;
}

defineClass(868, 1, {419:1}, Collections2$1);
_.apply_1 = function apply_8(input_0){
  return maskUndefined(input_0) === maskUndefined(this.val$collection1)?'(this Collection)':input_0;
}
;
var Lcom_google_common_collect_Collections2$1_2_classLit = createForClass('com.google.common.collect', 'Collections2/1', 868, Ljava_lang_Object_2_classLit);
function $entrySet_1(this$static){
  if (this$static.cachedEntrySet) {
    return this$static.cachedEntrySet;
  }
  return this$static.cachedEntrySet = this$static.createEntrySet_1();
}

function $keySet_2(this$static){
  if (this$static.cachedKeySet) {
    return this$static.cachedKeySet;
  }
  return this$static.cachedKeySet = this$static.createKeySet();
}

function of(k1, v1, k2, v2){
  return new RegularImmutableMap(initValues(getClassLiteralForArray(Ljava_util_Map$Entry_2_classLit, 1), $intern_1, 31, 0, [(checkEntryNotNull(k1, v1) , $clinit_Maps() , new ImmutableEntry(k1, v1)), (checkEntryNotNull(k2, v2) , new ImmutableEntry(k2, v2))]));
}

defineClass(470, 1, $intern_59);
_.clear_1 = function clear_22(){
  throw new UnsupportedOperationException;
}
;
_.containsKey = function containsKey_2(key){
  return this.get_2(key) != null;
}
;
_.containsValue = function containsValue_2(value_0){
  return this.values_1().contains_0(value_0);
}
;
_.createKeySet = function createKeySet(){
  return new ImmutableMapKeySet(this);
}
;
_.createValues = function createValues(){
  return new ImmutableMapValues(this);
}
;
_.entrySet_0 = function entrySet_2(){
  return $entrySet_1(this);
}
;
_.equals$ = function equals_25(object){
  return equalsImpl_0(this, object);
}
;
_.hashCode$ = function hashCode_23(){
  return $entrySet_1(this).hashCode$();
}
;
_.isEmpty_0 = function isEmpty_6(){
  return this.size_1() == 0;
}
;
_.keySet_0 = function keySet_4(){
  return $keySet_2(this);
}
;
_.put = function put_2(k, v){
  throw new UnsupportedOperationException;
}
;
_.remove_3 = function remove_31(o){
  throw new UnsupportedOperationException;
}
;
_.toString$ = function toString_38(){
  var sb;
  return $clinit_Maps() , sb = $append_3(newStringBuilderForCollection(this.size_1()), 123) , $appendTo_2(STANDARD_JOINER_0, sb, $entrySet_1(this).iterator()) , (sb.string += '}' , sb).string;
}
;
_.values_1 = function values_12(){
  if (this.cachedValues) {
    return this.cachedValues;
  }
  return this.cachedValues = this.createValues();
}
;
_.values_0 = function values_13(){
  return this.values_1();
}
;
_.cachedEntrySet = null;
_.cachedKeySet = null;
_.cachedValues = null;
var Lcom_google_common_collect_ImmutableMap_2_classLit = createForClass('com.google.common.collect', 'ImmutableMap', 470, Ljava_lang_Object_2_classLit);
function $get_4(this$static, key){
  return key == null?null:safeGet(this$static.delegate, key);
}

function ForwardingImmutableMap(entries){
  var delegate, entry, entry$index, entry$max, key, previous;
  delegate = ($clinit_Maps() , new LinkedHashMap);
  for (entry$index = 0 , entry$max = entries.length; entry$index < entry$max; ++entry$index) {
    entry = entries[entry$index];
    key = checkNotNull(entry.getKey());
    previous = $put_4(delegate, key, checkNotNull(entry.getValue()));
    if (previous != null) {
      throw new IllegalArgumentException_0('duplicate key: ' + key);
    }
  }
  this.delegate = ($clinit_Collections() , new Collections$UnmodifiableMap(delegate));
}

defineClass(471, 470, $intern_59);
_.containsKey = function containsKey_3(key){
  return safeContainsKey(this.delegate, key);
}
;
_.containsValue = function containsValue_3(value_0){
  return $containsValue_1(this.delegate, value_0);
}
;
_.createEntrySet_1 = function createEntrySet_0(){
  return unsafeDelegate(new ForwardingImmutableMap$1(this));
}
;
_.createKeySet = function createKeySet_0(){
  return unsafeDelegate($keySet_3(this.delegate));
}
;
_.createValues = function createValues_0(){
  return $clinit_ImmutableCollection() , new ForwardingImmutableCollection($values_1(this.delegate));
}
;
_.equals$ = function equals_26(object){
  return $equals_6(this.delegate, object);
}
;
_.get_2 = function get_7(key){
  return $get_4(this, key);
}
;
_.hashCode$ = function hashCode_24(){
  return this.delegate.map_0.hashCode$();
}
;
_.isEmpty_0 = function isEmpty_7(){
  return this.delegate.map_0.isEmpty_0();
}
;
_.size_1 = function size_12(){
  return this.delegate.map_0.size_1();
}
;
_.toString$ = function toString_39(){
  return this.delegate.map_0.toString$();
}
;
var Lcom_google_common_collect_ForwardingImmutableMap_2_classLit = createForClass('com.google.common.collect', 'ForwardingImmutableMap', 471, Lcom_google_common_collect_ImmutableMap_2_classLit);
function ImmutableBiMap(delegate){
  this.delegate = ($clinit_Collections() , new Collections$UnmodifiableMap(delegate));
}

defineClass(1155, 471, $intern_59);
_.values_1 = function values_14(){
  return $keySet_2(this);
}
;
var Lcom_google_common_collect_ImmutableBiMap_2_classLit = createForClass('com.google.common.collect', 'ImmutableBiMap', 1155, Lcom_google_common_collect_ForwardingImmutableMap_2_classLit);
function $clinit_EmptyImmutableBiMap(){
  $clinit_EmptyImmutableBiMap = emptyMethod;
  INSTANCE_0 = new EmptyImmutableBiMap;
}

function EmptyImmutableBiMap(){
  ImmutableBiMap.call(this, ($clinit_Collections() , $clinit_Collections() , EMPTY_MAP));
}

defineClass(1184, 1155, $intern_59, EmptyImmutableBiMap);
var INSTANCE_0;
var Lcom_google_common_collect_EmptyImmutableBiMap_2_classLit = createForClass('com.google.common.collect', 'EmptyImmutableBiMap', 1184, Lcom_google_common_collect_ImmutableBiMap_2_classLit);
function $clinit_ImmutableCollection(){
  $clinit_ImmutableCollection = emptyMethod;
  new ForwardingImmutableCollection(($clinit_Collections() , $clinit_Collections() , EMPTY_LIST));
}

function $asList(this$static){
  var list;
  list = this$static.asList;
  return !list?(this$static.asList = this$static.createAsList()):list;
}

defineClass(1499, $intern_2, $intern_67);
_.add_0 = function add_16(e){
  throw new UnsupportedOperationException;
}
;
_.addAll = function addAll_3(newElements){
  throw new UnsupportedOperationException;
}
;
_.clear_1 = function clear_23(){
  throw new UnsupportedOperationException;
}
;
_.contains_0 = function contains_11(object){
  return object != null && $advanceToFind(this, object, false);
}
;
_.createAsList = function createAsList(){
  switch (this.size_1()) {
    case 0:
      return $clinit_ImmutableList() , $clinit_ImmutableList() , EMPTY;
    case 1:
      return $clinit_ImmutableList() , new SingletonImmutableList(this.iterator_1().next_0());
    default:return new RegularImmutableAsList_0(this, this.toArray());
  }
}
;
_.iterator = function iterator_18(){
  return this.iterator_1();
}
;
_.remove = function remove_32(object){
  throw new UnsupportedOperationException;
}
;
_.retainAll = function retainAll_6(elementsToKeep){
  throw new UnsupportedOperationException;
}
;
var Lcom_google_common_collect_ImmutableCollection_2_classLit = createForClass('com.google.common.collect', 'ImmutableCollection', 1499, Ljava_util_AbstractCollection_2_classLit);
function create(elements){
  $clinit_ImmutableCollection();
  var element, element$iterator, set_0;
  set_0 = new LinkedHashSet;
  addAll_6(set_0, elements);
  for (element$iterator = $iterator_4(new AbstractMap$1(set_0.map_0)); element$iterator.val$outerIter2.hasNext();) {
    element = $next_7(element$iterator);
    checkNotNull(element);
  }
  switch (set_0.map_0.size_1()) {
    case 0:
      return $clinit_EmptyImmutableSet() , INSTANCE_1;
    case 1:
      return new SingletonImmutableSet($next_7($iterator_4(new AbstractMap$1(set_0.map_0))));
    default:return new RegularImmutableSet(set_0);
  }
}

function unsafeDelegate(delegate){
  $clinit_ImmutableCollection();
  switch (delegate.size_1()) {
    case 0:
      return $clinit_EmptyImmutableSet() , INSTANCE_1;
    case 1:
      return new SingletonImmutableSet(delegate.iterator().next_0());
    default:return new RegularImmutableSet(delegate);
  }
}

defineClass(1522, 1499, $intern_68);
_.equals$ = function equals_27(obj){
  return equalsImpl_2(this, obj);
}
;
_.hashCode$ = function hashCode_25(){
  return hashCodeImpl_0(this);
}
;
var Lcom_google_common_collect_ImmutableSet_2_classLit = createForClass('com.google.common.collect', 'ImmutableSet', 1522, Lcom_google_common_collect_ImmutableCollection_2_classLit);
function ForwardingImmutableSet(delegate){
  $clinit_ImmutableCollection();
  this.delegate = ($clinit_Collections() , new Collections$UnmodifiableSet(delegate));
}

defineClass(494, 1522, $intern_68);
_.contains_0 = function contains_12(object){
  return object != null && this.delegate.contains_0(object);
}
;
_.containsAll = function containsAll_4(targets){
  return this.delegate.containsAll(targets);
}
;
_.hashCode$ = function hashCode_26(){
  return this.delegate.coll.hashCode$();
}
;
_.isEmpty_0 = function isEmpty_8(){
  return this.delegate.isEmpty_0();
}
;
_.iterator_1 = function iterator_19(){
  return unmodifiableIterator(this.delegate.iterator());
}
;
_.iterator = function iterator_20(){
  return unmodifiableIterator(this.delegate.iterator());
}
;
_.size_1 = function size_13(){
  return this.delegate.size_1();
}
;
_.toArray = function toArray_9(){
  return this.delegate.toArray();
}
;
_.toArray_0 = function toArray_10(other){
  return this.delegate.toArray_0(other);
}
;
_.toString$ = function toString_40(){
  return this.delegate.coll.toString$();
}
;
var Lcom_google_common_collect_ForwardingImmutableSet_2_classLit = createForClass('com.google.common.collect', 'ForwardingImmutableSet', 494, Lcom_google_common_collect_ImmutableSet_2_classLit);
function $clinit_EmptyImmutableSet(){
  $clinit_EmptyImmutableSet = emptyMethod;
  $clinit_ImmutableCollection();
  INSTANCE_1 = new EmptyImmutableSet;
}

function EmptyImmutableSet(){
  ForwardingImmutableSet.call(this, ($clinit_Collections() , $clinit_Collections() , EMPTY_SET));
}

defineClass(1266, 494, $intern_68, EmptyImmutableSet);
var INSTANCE_1;
var Lcom_google_common_collect_EmptyImmutableSet_2_classLit = createForClass('com.google.common.collect', 'EmptyImmutableSet', 1266, Lcom_google_common_collect_ForwardingImmutableSet_2_classLit);
defineClass(1243, 1, {});
_.toString$ = function toString_41(){
  return toString_44($iterator_2(this.iterable));
}
;
var Lcom_google_common_collect_FluentIterable_2_classLit = createForClass('com.google.common.collect', 'FluentIterable', 1243, Ljava_lang_Object_2_classLit);
function ForwardingImmutableCollection(delegate){
  $clinit_ImmutableCollection();
  this.delegate = delegate;
}

defineClass(482, 1499, $intern_67, ForwardingImmutableCollection);
_.contains_0 = function contains_13(object){
  return object != null && this.delegate.contains_0(object);
}
;
_.containsAll = function containsAll_5(targets){
  return this.delegate.containsAll(targets);
}
;
_.isEmpty_0 = function isEmpty_9(){
  return this.delegate.isEmpty_0();
}
;
_.iterator_1 = function iterator_21(){
  return unmodifiableIterator(this.delegate.iterator());
}
;
_.size_1 = function size_14(){
  return this.delegate.size_1();
}
;
_.toArray = function toArray_11(){
  return this.delegate.toArray();
}
;
_.toArray_0 = function toArray_12(other){
  return this.delegate.toArray_0(other);
}
;
_.toString$ = function toString_42(){
  return this.delegate.toString$();
}
;
var Lcom_google_common_collect_ForwardingImmutableCollection_2_classLit = createForClass('com.google.common.collect', 'ForwardingImmutableCollection', 482, Lcom_google_common_collect_ImmutableCollection_2_classLit);
function $clinit_ImmutableList(){
  $clinit_ImmutableList = emptyMethod;
  $clinit_ImmutableCollection();
  EMPTY = new RegularImmutableList(($clinit_Collections() , $clinit_Collections() , EMPTY_LIST));
}

function $listIterator(this$static, index_0){
  return new ImmutableList$1(this$static, this$static.size_1(), index_0);
}

function unsafeDelegateList(list){
  switch (list.array.length) {
    case 0:
      return EMPTY;
    case 1:
      return new SingletonImmutableList($next_6(new AbstractList$IteratorImpl(list)));
    default:return new RegularImmutableList(list);
  }
}

defineClass(1500, 1499, $intern_69);
_.equals$ = function equals_28(obj){
  return equalsImpl(this, obj);
}
;
_.hashCode$ = function hashCode_27(){
  return hashCodeImpl(this);
}
;
_.iterator_1 = function iterator_22(){
  return this.listIterator_1(0);
}
;
_.iterator = function iterator_23(){
  return this.iterator_1();
}
;
_.listIterator = function listIterator_3(){
  return this.listIterator_1(0);
}
;
_.listIterator_1 = function listIterator_4(index_0){
  return $listIterator(this, index_0);
}
;
_.listIterator_0 = function listIterator_5(index_0){
  return this.listIterator_1(index_0);
}
;
var EMPTY;
var Lcom_google_common_collect_ImmutableList_2_classLit = createForClass('com.google.common.collect', 'ImmutableList', 1500, Lcom_google_common_collect_ImmutableCollection_2_classLit);
function $get_5(this$static, index_0){
  return this$static.delegateList_0().get_0(index_0);
}

defineClass(1537, 1500, $intern_69);
_.contains_0 = function contains_14(object){
  return object != null && this.delegateList_0().contains_0(object);
}
;
_.containsAll = function containsAll_6(targets){
  return this.delegateList_0().containsAll(targets);
}
;
_.equals$ = function equals_29(obj){
  return this.delegateList_0().equals$(obj);
}
;
_.get_0 = function get_8(index_0){
  return $get_5(this, index_0);
}
;
_.hashCode$ = function hashCode_28(){
  return this.delegateList_0().hashCode$();
}
;
_.isEmpty_0 = function isEmpty_10(){
  return this.delegateList_0().isEmpty_0();
}
;
_.iterator_1 = function iterator_24(){
  return unmodifiableIterator(this.delegateList_0().iterator());
}
;
_.size_1 = function size_15(){
  return this.delegateList_0().size_1();
}
;
_.toArray = function toArray_13(){
  return this.delegateList_0().toArray_0(initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, this.delegateList_0().size_1(), 3, 1));
}
;
_.toArray_0 = function toArray_14(other){
  return this.delegateList_0().toArray_0(other);
}
;
_.toString$ = function toString_43(){
  return this.delegateList_0().toString$();
}
;
var Lcom_google_common_collect_ForwardingImmutableList_2_classLit = createForClass('com.google.common.collect', 'ForwardingImmutableList', 1537, Lcom_google_common_collect_ImmutableList_2_classLit);
function ForwardingImmutableMap$1(this$0){
  this.this$01 = this$0;
}

defineClass(1154, 1503, $intern_60, ForwardingImmutableMap$1);
_.contains_0 = function contains_15(object){
  if (instanceOf(object, 31) && dynamicCast(object, 31).getKey() == null) {
    return false;
  }
  try {
    return $contains_4($entrySet_2(this.this$01.delegate), object);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 134)) {
      return false;
    }
     else 
      throw unwrap($e0);
  }
}
;
_.delegate_3 = function delegate_9(){
  return $entrySet_2(this.this$01.delegate);
}
;
_.toArray_0 = function toArray_15(array){
  var result;
  result = $toArray_2($entrySet_2(this.this$01.delegate), array);
  $entrySet_2(this.this$01.delegate).coll.size_1() < result.length && setCheck(result, $entrySet_2(this.this$01.delegate).coll.size_1(), null);
  return result;
}
;
var Lcom_google_common_collect_ForwardingImmutableMap$1_2_classLit = createForClass('com.google.common.collect', 'ForwardingImmutableMap/1', 1154, Lcom_google_common_collect_ForwardingSet_2_classLit);
function $getOrCreate(this$static, rowKey){
  var map_0;
  map_0 = dynamicCast(this$static.backingMap.get_2(rowKey), 47);
  if (!map_0) {
    map_0 = $get_7(this$static.factory);
    this$static.backingMap.put(rowKey, map_0);
  }
  return map_0;
}

function $put_0(this$static, rowKey, columnKey, value_0){
  checkNotNull(rowKey);
  checkNotNull(columnKey);
  checkNotNull(value_0);
  return $getOrCreate(this$static, rowKey).put(columnKey, value_0);
}

function $remove_11(this$static, rowKey, columnKey){
  var map_0, value_0;
  if (!rowKey || !columnKey) {
    return null;
  }
  map_0 = dynamicCast(safeGet(this$static.backingMap, rowKey), 47);
  if (!map_0) {
    return null;
  }
  value_0 = map_0.remove_3(columnKey);
  map_0.isEmpty_0() && this$static.backingMap.remove_3(rowKey);
  return value_0;
}

function $rowMap(this$static){
  var result;
  result = this$static.rowMap;
  return !result?(this$static.rowMap = new StandardTable$RowMap(this$static)):result;
}

defineClass(1195, 1524, $intern_70);
_.cellIterator = function cellIterator(){
  return new StandardTable$CellIterator(this);
}
;
_.cellSet_0 = function cellSet_0(){
  return $cellSet(this);
}
;
_.clear_1 = function clear_24(){
  this.backingMap.clear_1();
}
;
_.containsRow = function containsRow(rowKey){
  return rowKey != null && safeContainsKey(this.backingMap, rowKey);
}
;
_.rowMap_0 = function rowMap(){
  return $rowMap(this);
}
;
_.size_1 = function size_16(){
  var map_0, map$iterator, size_0;
  size_0 = 0;
  for (map$iterator = $iterator_5(new AbstractMap$2(this.backingMap)); map$iterator.val$outerIter2.hasNext();) {
    map_0 = dynamicCast($next_8(map$iterator), 47);
    size_0 += map_0.size_1();
  }
  return size_0;
}
;
var Lcom_google_common_collect_StandardTable_2_classLit = createForClass('com.google.common.collect', 'StandardTable', 1195, Lcom_google_common_collect_AbstractTable_2_classLit);
function $get_6(this$static, rowKey, columnKey){
  var row;
  return !rowKey || columnKey == null?null:(row = dynamicCast(safeGet($rowMap(this$static), rowKey), 47) , !row?null:safeGet(row, columnKey));
}

function HashBasedTable(backingMap, factory){
  this.backingMap = backingMap;
  this.factory = factory;
}

defineClass(1196, 1195, $intern_70, HashBasedTable);
_.containsRow = function containsRow_0(rowKey){
  return rowKey != null && safeContainsKey(this.backingMap, rowKey);
}
;
_.equals$ = function equals_30(obj){
  return equalsImpl_3(this, obj);
}
;
var Lcom_google_common_collect_HashBasedTable_2_classLit = createForClass('com.google.common.collect', 'HashBasedTable', 1196, Lcom_google_common_collect_StandardTable_2_classLit);
function $get_7(this$static){
  return $clinit_Maps() , new HashMap_0(capacity(this$static.expectedSize));
}

function HashBasedTable$Factory(){
  this.expectedSize = 0;
}

defineClass(1197, 1, $intern_53, HashBasedTable$Factory);
_.expectedSize = 0;
var Lcom_google_common_collect_HashBasedTable$Factory_2_classLit = createForClass('com.google.common.collect', 'HashBasedTable/Factory', 1197, Ljava_lang_Object_2_classLit);
function HashBiMap(){
  AbstractBiMap.call(this, new HashMap, new HashMap);
}

defineClass(871, 450, $intern_59, HashBiMap);
_.put = function put_3(key, value_0){
  return $putInBothMaps(this, key, value_0);
}
;
var Lcom_google_common_collect_HashBiMap_2_classLit = createForClass('com.google.common.collect', 'HashBiMap', 871, Lcom_google_common_collect_AbstractBiMap_2_classLit);
function HashMultimap(){
  AbstractSetMultimap.call(this, new HashMap);
}

defineClass(484, 1252, $intern_64, HashMultimap);
_.expectedValuesPerKey = 2;
var Lcom_google_common_collect_HashMultimap_2_classLit = createForClass('com.google.common.collect', 'HashMultimap', 484, Lcom_google_common_collect_AbstractSetMultimap_2_classLit);
defineClass(1529, 1500, $intern_69);
_.contains_0 = function contains_16(target){
  return this.delegateCollection().contains_0(target);
}
;
_.isEmpty_0 = function isEmpty_11(){
  return this.delegateCollection().isEmpty_0();
}
;
_.size_1 = function size_17(){
  return this.delegateCollection().size_1();
}
;
var Lcom_google_common_collect_ImmutableAsList_2_classLit = createForClass('com.google.common.collect', 'ImmutableAsList', 1529, Lcom_google_common_collect_ImmutableList_2_classLit);
function ImmutableEntry(key, value_0){
  this.key_0 = key;
  this.value_0 = value_0;
}

defineClass(246, 1507, {3:1, 31:1}, ImmutableEntry);
_.getKey = function getKey_0(){
  return this.key_0;
}
;
_.getValue = function getValue_0(){
  return this.value_0;
}
;
_.setValue = function setValue_2(value_0){
  throw new UnsupportedOperationException;
}
;
var Lcom_google_common_collect_ImmutableEntry_2_classLit = createForClass('com.google.common.collect', 'ImmutableEntry', 246, Lcom_google_common_collect_AbstractMapEntry_2_classLit);
function $get_8(this$static, index_0){
  return this$static.this$01.get_0(index_0);
}

function ImmutableList$1(this$0, $anonymous0, $anonymous1){
  this.this$01 = this$0;
  checkPositionIndex($anonymous1, $anonymous0);
  this.size_0 = $anonymous0;
  this.position_0 = $anonymous1;
}

defineClass(870, 869, $intern_63, ImmutableList$1);
var Lcom_google_common_collect_ImmutableList$1_2_classLit = createForClass('com.google.common.collect', 'ImmutableList/1', 870, Lcom_google_common_collect_AbstractIndexedListIterator_2_classLit);
function ImmutableMapKeySet(map_0){
  $clinit_ImmutableCollection();
  this.map_0 = map_0;
}

defineClass(1290, 1522, $intern_68, ImmutableMapKeySet);
_.contains_0 = function contains_17(object){
  return this.map_0.containsKey(object);
}
;
_.createAsList = function createAsList_0(){
  var entryList;
  entryList = $asList($entrySet_1(this.map_0));
  return new ImmutableMapKeySet$1(this, entryList);
}
;
_.iterator_1 = function iterator_25(){
  return $asList(this).iterator_1();
}
;
_.iterator = function iterator_26(){
  return $asList(this).iterator_1();
}
;
_.size_1 = function size_18(){
  return this.map_0.size_1();
}
;
var Lcom_google_common_collect_ImmutableMapKeySet_2_classLit = createForClass('com.google.common.collect', 'ImmutableMapKeySet', 1290, Lcom_google_common_collect_ImmutableSet_2_classLit);
function ImmutableMapKeySet$1(this$0, val$entryList){
  $clinit_ImmutableList();
  this.this$01 = this$0;
  this.val$entryList2 = val$entryList;
}

defineClass(1291, 1529, $intern_69, ImmutableMapKeySet$1);
_.delegateCollection = function delegateCollection(){
  return this.this$01;
}
;
_.get_0 = function get_9(index_0){
  return dynamicCast(this.val$entryList2.get_0(index_0), 31).getKey();
}
;
var Lcom_google_common_collect_ImmutableMapKeySet$1_2_classLit = createForClass('com.google.common.collect', 'ImmutableMapKeySet/1', 1291, Lcom_google_common_collect_ImmutableAsList_2_classLit);
function ImmutableMapValues(map_0){
  $clinit_ImmutableCollection();
  this.map_0 = map_0;
}

defineClass(1288, 1499, $intern_67, ImmutableMapValues);
_.contains_0 = function contains_18(object){
  return object != null && contains_19(($clinit_Maps() , new Maps$1($entrySet_1(this.map_0).iterator_1())), object);
}
;
_.createAsList = function createAsList_1(){
  var entryList;
  entryList = $asList($entrySet_1(this.map_0));
  return new ImmutableMapValues$1(this, entryList);
}
;
_.iterator_1 = function iterator_27(){
  return $clinit_Maps() , new Maps$1($entrySet_1(this.map_0).iterator_1());
}
;
_.size_1 = function size_19(){
  return this.map_0.size_1();
}
;
var Lcom_google_common_collect_ImmutableMapValues_2_classLit = createForClass('com.google.common.collect', 'ImmutableMapValues', 1288, Lcom_google_common_collect_ImmutableCollection_2_classLit);
function ImmutableMapValues$1(this$0, val$entryList){
  $clinit_ImmutableList();
  this.this$01 = this$0;
  this.val$entryList2 = val$entryList;
}

defineClass(1289, 1529, $intern_69, ImmutableMapValues$1);
_.delegateCollection = function delegateCollection_0(){
  return this.this$01;
}
;
_.get_0 = function get_10(index_0){
  return dynamicCast(this.val$entryList2.get_0(index_0), 31).getValue();
}
;
var Lcom_google_common_collect_ImmutableMapValues$1_2_classLit = createForClass('com.google.common.collect', 'ImmutableMapValues/1', 1289, Lcom_google_common_collect_ImmutableAsList_2_classLit);
function all(iterable, predicate){
  return all_0(iterable.iterator(), predicate);
}

function transform(fromIterable, function_$){
  checkNotNull(fromIterable);
  checkNotNull(function_$);
  return new Iterables$7(fromIterable, function_$);
}

function $iterator_2(this$static){
  return transform_0($iterator_0(this$static.val$fromIterable1), this$static.val$function2);
}

function Iterables$7(val$fromIterable, val$function){
  this.val$fromIterable1 = val$fromIterable;
  this.val$function2 = val$function;
  this.iterable = this;
}

defineClass(1244, 1243, {}, Iterables$7);
_.iterator = function iterator_28(){
  return $iterator_2(this);
}
;
var Lcom_google_common_collect_Iterables$7_2_classLit = createForClass('com.google.common.collect', 'Iterables/7', 1244, Lcom_google_common_collect_FluentIterable_2_classLit);
function $clinit_Iterators(){
  $clinit_Iterators = emptyMethod;
  EMPTY_MODIFIABLE_ITERATOR = new Iterators$2;
}

function addAll_4(addTo, iterator){
  $clinit_Iterators();
  var wasModified;
  checkNotNull(addTo);
  checkNotNull(iterator);
  wasModified = false;
  while ($hasNext(iterator)) {
    wasModified = wasModified | addTo.add_0($next(iterator));
  }
  return wasModified;
}

function all_0(iterator, predicate){
  $clinit_Iterators();
  var element;
  checkNotNull(predicate);
  while (iterator.hasNext()) {
    element = iterator.next_0();
    if (!$apply(predicate, element)) {
      return false;
    }
  }
  return true;
}

function clear_25(iterator){
  $clinit_Iterators();
  checkNotNull(iterator);
  while (iterator.hasNext()) {
    iterator.next_0();
    iterator.remove_2();
  }
}

function contains_19(iterator, element){
  $clinit_Iterators();
  return indexOf(iterator, ($clinit_Predicates() , element == null?($clinit_Predicates$ObjectPredicate() , IS_NULL):new Predicates$IsEqualToPredicate(element))) != -1;
}

function elementsEqual(iterator1, iterator2){
  $clinit_Iterators();
  var o1, o2;
  while (iterator1.hasNext()) {
    if (!iterator2.hasNext()) {
      return false;
    }
    o1 = iterator1.next_0();
    o2 = iterator2.next_0();
    if (!(maskUndefined(o1) === maskUndefined(o2) || o1 != null && equals_Ljava_lang_Object__Z__devirtual$(o1, o2))) {
      return false;
    }
  }
  return !iterator2.hasNext();
}

function indexOf(iterator, predicate){
  var current, i;
  checkNotNull_0(predicate);
  for (i = 0; iterator.val$entryIterator1.hasNext(); i++) {
    current = dynamicCast(iterator.val$entryIterator1.next_0(), 31).getValue();
    if (predicate.apply_0(current)) {
      return i;
    }
  }
  return -1;
}

function removeIf(removeFrom, predicate){
  $clinit_Iterators();
  var modified;
  checkNotNull(predicate);
  modified = false;
  while (removeFrom.hasNext()) {
    if ($apply_0(predicate, removeFrom.next_0())) {
      removeFrom.remove_2();
      modified = true;
    }
  }
  return modified;
}

function toString_44(iterator){
  $clinit_Iterators();
  return $append_3($appendTo_0(($clinit_Collections2() , STANDARD_JOINER), $append_3(new StringBuilder, 91), iterator), 93).string;
}

function transform_0(fromIterator, function_$){
  $clinit_Iterators();
  checkNotNull(function_$);
  return new Iterators$8(fromIterator, function_$);
}

function unmodifiableIterator(iterator){
  $clinit_Iterators();
  checkNotNull(iterator);
  if (instanceOf(iterator, 195)) {
    return dynamicCast(iterator, 195);
  }
  return new Iterators$3(iterator);
}

var EMPTY_MODIFIABLE_ITERATOR;
function Iterators$12(val$value){
  this.val$value1 = val$value;
}

defineClass(481, 195, $intern_62, Iterators$12);
_.hasNext = function hasNext_6(){
  return !this.done;
}
;
_.next_0 = function next_7(){
  if (this.done) {
    throw new NoSuchElementException;
  }
  this.done = true;
  return this.val$value1;
}
;
_.done = false;
var Lcom_google_common_collect_Iterators$12_2_classLit = createForClass('com.google.common.collect', 'Iterators/12', 481, Lcom_google_common_collect_UnmodifiableIterator_2_classLit);
function Iterators$2(){
}

defineClass(1177, 1, $intern_56, Iterators$2);
_.hasNext = function hasNext_7(){
  return false;
}
;
_.next_0 = function next_8(){
  throw new NoSuchElementException;
}
;
_.remove_2 = function remove_33(){
  checkState_0(false, 'no calls to next() since the last call to remove()');
}
;
var Lcom_google_common_collect_Iterators$2_2_classLit = createForClass('com.google.common.collect', 'Iterators/2', 1177, Ljava_lang_Object_2_classLit);
function Iterators$3(val$iterator){
  this.val$iterator1 = val$iterator;
}

defineClass(1178, 195, $intern_62, Iterators$3);
_.hasNext = function hasNext_8(){
  return this.val$iterator1.hasNext();
}
;
_.next_0 = function next_9(){
  return this.val$iterator1.next_0();
}
;
var Lcom_google_common_collect_Iterators$3_2_classLit = createForClass('com.google.common.collect', 'Iterators/3', 1178, Lcom_google_common_collect_UnmodifiableIterator_2_classLit);
function TransformedIterator(backingIterator){
  this.backingIterator = dynamicCast(checkNotNull(backingIterator), 50);
}

defineClass(453, 1, $intern_56);
_.hasNext = function hasNext_9(){
  return this.backingIterator.hasNext();
}
;
_.next_0 = function next_10(){
  return this.transform(this.backingIterator.next_0());
}
;
_.remove_2 = function remove_34(){
  this.backingIterator.remove_2();
}
;
var Lcom_google_common_collect_TransformedIterator_2_classLit = createForClass('com.google.common.collect', 'TransformedIterator', 453, Ljava_lang_Object_2_classLit);
function $transform(this$static, from){
  return this$static.val$function2.apply_1(from);
}

function Iterators$8($anonymous0, val$function){
  this.val$function2 = val$function;
  TransformedIterator.call(this, $anonymous0);
}

defineClass(1179, 453, $intern_56, Iterators$8);
_.transform = function transform_1(from){
  return $transform(this, from);
}
;
var Lcom_google_common_collect_Iterators$8_2_classLit = createForClass('com.google.common.collect', 'Iterators/8', 1179, Lcom_google_common_collect_TransformedIterator_2_classLit);
function equalsImpl(list, object){
  var o;
  if (maskUndefined(object) === maskUndefined(checkNotNull(list))) {
    return true;
  }
  if (!instanceOf(object, 38)) {
    return false;
  }
  o = dynamicCast(object, 38);
  return list.size_1() == o.size_1() && elementsEqual(list.iterator_1(), o.iterator());
}

function hashCodeImpl(list){
  var hashCode, o, o$iterator;
  hashCode = 1;
  for (o$iterator = list.iterator_1(); o$iterator.hasNext();) {
    o = o$iterator.next_0();
    hashCode = 31 * hashCode + (o == null?0:hashCode__I__devirtual$(o));
    hashCode = ~~hashCode;
  }
  return hashCode;
}

function newArrayList(elements){
  checkNotNull(elements);
  return newArrayList_0($splittingIterator(elements.this$01, elements.val$sequence2));
}

function newArrayList_0(elements){
  var list;
  list = new ArrayList;
  addAll_4(list, elements);
  return list;
}

function $clinit_Maps(){
  $clinit_Maps = emptyMethod;
  STANDARD_JOINER_0 = new Joiner$MapJoiner(($clinit_Collections2() , STANDARD_JOINER));
}

function asMapEntryIterator(set_0, function_$){
  $clinit_Maps();
  return new Maps$2($iterator_4(set_0), function_$);
}

function capacity(expectedSize){
  $clinit_Maps();
  if (expectedSize < 3) {
    checkNonnegative(expectedSize, 'expectedSize');
    return expectedSize + 1;
  }
  if (expectedSize < 1073741824) {
    return expectedSize + ~~(expectedSize / 3);
  }
  return $intern_0;
}

function containsEntryImpl(c, o){
  $clinit_Maps();
  if (!instanceOf(o, 31)) {
    return false;
  }
  return c.contains_0(unmodifiableEntry(dynamicCast(o, 31)));
}

function equalsImpl_0(map_0, object){
  $clinit_Maps();
  var o;
  if (map_0 === object) {
    return true;
  }
   else if (instanceOf(object, 47)) {
    o = dynamicCast(object, 47);
    return equalsImpl_2($entrySet_1(map_0), o.entrySet_0());
  }
  return false;
}

function safeContainsKey(map_0, key){
  $clinit_Maps();
  checkNotNull(map_0);
  try {
    return map_0.containsKey(key);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 134)) {
      return false;
    }
     else if (instanceOf($e0, 82)) {
      return false;
    }
     else 
      throw unwrap($e0);
  }
}

function safeGet(map_0, key){
  $clinit_Maps();
  checkNotNull(map_0);
  try {
    return map_0.get_2(key);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 134)) {
      return null;
    }
     else if (instanceOf($e0, 82)) {
      return null;
    }
     else 
      throw unwrap($e0);
  }
}

function safeRemove_0(map_0, key){
  $clinit_Maps();
  checkNotNull(map_0);
  try {
    return map_0.remove_3(key);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 134)) {
      return null;
    }
     else if (instanceOf($e0, 82)) {
      return null;
    }
     else 
      throw unwrap($e0);
  }
}

function unmodifiableEntry(entry){
  checkNotNull(entry);
  return new Maps$5(entry);
}

var STANDARD_JOINER_0;
function Maps$1(val$entryIterator){
  this.val$entryIterator1 = val$entryIterator;
}

defineClass(452, 195, $intern_62, Maps$1);
_.hasNext = function hasNext_10(){
  return this.val$entryIterator1.hasNext();
}
;
_.next_0 = function next_11(){
  return dynamicCast(this.val$entryIterator1.next_0(), 31).getValue();
}
;
var Lcom_google_common_collect_Maps$1_2_classLit = createForClass('com.google.common.collect', 'Maps/1', 452, Lcom_google_common_collect_UnmodifiableIterator_2_classLit);
function Maps$2($anonymous0, val$function){
  this.val$function2 = val$function;
  TransformedIterator.call(this, $anonymous0);
}

defineClass(881, 453, $intern_56, Maps$2);
_.transform = function transform_2(key){
  return $clinit_Maps() , new ImmutableEntry(key, $apply_1(this.val$function2, key));
}
;
var Lcom_google_common_collect_Maps$2_2_classLit = createForClass('com.google.common.collect', 'Maps/2', 881, Lcom_google_common_collect_TransformedIterator_2_classLit);
function Maps$5(val$entry){
  this.val$entry1 = val$entry;
}

defineClass(882, 1507, $intern_61, Maps$5);
_.getKey = function getKey_1(){
  return this.val$entry1.getKey();
}
;
_.getValue = function getValue_1(){
  return this.val$entry1.getValue();
}
;
var Lcom_google_common_collect_Maps$5_2_classLit = createForClass('com.google.common.collect', 'Maps/5', 882, Lcom_google_common_collect_AbstractMapEntry_2_classLit);
function $clinit_Maps$EntryFunction(){
  $clinit_Maps$EntryFunction = emptyMethod;
  KEY = new Maps$EntryFunction$1;
  VALUE = new Maps$EntryFunction$2;
}

function Maps$EntryFunction(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_9(name_0){
  $clinit_Maps$EntryFunction();
  return valueOf(($clinit_Maps$EntryFunction$Map() , $MAP_7), name_0);
}

function values_15(){
  $clinit_Maps$EntryFunction();
  return initValues(getClassLiteralForArray(Lcom_google_common_collect_Maps$EntryFunction_2_classLit, 1), $intern_1, 231, 0, [KEY, VALUE]);
}

defineClass(231, 9, $intern_71);
var KEY, VALUE;
var Lcom_google_common_collect_Maps$EntryFunction_2_classLit = createForEnum('com.google.common.collect', 'Maps/EntryFunction', 231, Ljava_lang_Enum_2_classLit, values_15, valueOf_9);
function Maps$EntryFunction$1(){
  Maps$EntryFunction.call(this, 'KEY', 0);
}

defineClass(879, 231, $intern_71, Maps$EntryFunction$1);
_.apply_1 = function apply_9(entry){
  return dynamicCast(entry, 31).getKey();
}
;
var Lcom_google_common_collect_Maps$EntryFunction$1_2_classLit = createForEnum('com.google.common.collect', 'Maps/EntryFunction/1', 879, Lcom_google_common_collect_Maps$EntryFunction_2_classLit, null, null);
function Maps$EntryFunction$2(){
  Maps$EntryFunction.call(this, 'VALUE', 1);
}

defineClass(880, 231, $intern_71, Maps$EntryFunction$2);
_.apply_1 = function apply_10(entry){
  return dynamicCast(entry, 31).getValue();
}
;
var Lcom_google_common_collect_Maps$EntryFunction$2_2_classLit = createForEnum('com.google.common.collect', 'Maps/EntryFunction/2', 880, Lcom_google_common_collect_Maps$EntryFunction_2_classLit, null, null);
function $clinit_Maps$EntryFunction$Map(){
  $clinit_Maps$EntryFunction$Map = emptyMethod;
  $MAP_7 = createValueOfMap(($clinit_Maps$EntryFunction() , initValues(getClassLiteralForArray(Lcom_google_common_collect_Maps$EntryFunction_2_classLit, 1), $intern_1, 231, 0, [KEY, VALUE])));
}

var $MAP_7;
function $iterator_3(this$static){
  return $clinit_Maps() , transform_0(this$static.map_0.entrySet_0().iterator(), ($clinit_Maps$EntryFunction() , VALUE));
}

function Maps$Values(map_0){
  this.map_0 = dynamicCast(checkNotNull(map_0), 47);
}

defineClass(878, $intern_2, $intern_3, Maps$Values);
_.clear_1 = function clear_26(){
  this.map_0.clear_1();
}
;
_.contains_0 = function contains_20(o){
  return this.map_0.containsValue(o);
}
;
_.isEmpty_0 = function isEmpty_12(){
  return this.map_0.isEmpty_0();
}
;
_.iterator = function iterator_29(){
  return $iterator_3(this);
}
;
_.remove = function remove_35(o){
  var entry, entry$iterator;
  try {
    return $advanceToFind(this, o, true);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 54)) {
      for (entry$iterator = this.map_0.entrySet_0().iterator(); entry$iterator.hasNext();) {
        entry = dynamicCast(entry$iterator.next_0(), 31);
        if (equal(o, entry.getValue())) {
          this.map_0.remove_3(entry.getKey());
          return true;
        }
      }
      return false;
    }
     else 
      throw unwrap($e0);
  }
}
;
_.retainAll = function retainAll_7(c){
  var entry, entry$iterator, toRetain;
  try {
    return $retainAll(this, dynamicCast(checkNotNull(c), 25));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 54)) {
      toRetain = new HashSet;
      for (entry$iterator = this.map_0.entrySet_0().iterator(); entry$iterator.hasNext();) {
        entry = dynamicCast(entry$iterator.next_0(), 31);
        c.contains_0(entry.getValue()) && $add_21(toRetain, entry.getKey());
      }
      return this.map_0.keySet_0().retainAll(toRetain);
    }
     else 
      throw unwrap($e0);
  }
}
;
_.size_1 = function size_20(){
  return this.map_0.size_1();
}
;
var Lcom_google_common_collect_Maps$Values_2_classLit = createForClass('com.google.common.collect', 'Maps/Values', 878, Ljava_util_AbstractCollection_2_classLit);
function equalsImpl_1(multimap, object){
  var that;
  if (object === multimap) {
    return true;
  }
  if (instanceOf(object, 365)) {
    that = dynamicCast(object, 365);
    return $equals_2($asMap(multimap), $asMap(that));
  }
  return false;
}

function fillArray(elements, array){
  var element, element$iterator, i;
  i = 0;
  for (element$iterator = elements.iterator(); element$iterator.hasNext();) {
    element = element$iterator.next_0();
    setCheck(array, i++, element);
  }
  return array;
}

function toArrayImpl(c, array){
  var size_0;
  size_0 = c.delegate_3().size_1();
  array.length < size_0 && (array = createFrom(array, size_0));
  fillArray(c, array);
  array.length > size_0 && setCheck(array, size_0, null);
  return array;
}

function RegularImmutableAsList(delegate, delegateList){
  this.delegate = delegate;
  this.delegateList = delegateList;
}

function RegularImmutableAsList_0(delegate, array){
  $clinit_ImmutableList();
  RegularImmutableAsList.call(this, delegate, unsafeDelegateList(new Arrays$ArrayList(array)));
}

defineClass(510, 1529, $intern_69, RegularImmutableAsList_0);
_.delegateCollection = function delegateCollection_1(){
  return this.delegate;
}
;
_.get_0 = function get_11(index_0){
  return $get_5(this.delegateList, index_0);
}
;
_.listIterator_1 = function listIterator_6(index_0){
  return $listIterator(this.delegateList, index_0);
}
;
var Lcom_google_common_collect_RegularImmutableAsList_2_classLit = createForClass('com.google.common.collect', 'RegularImmutableAsList', 510, Lcom_google_common_collect_ImmutableAsList_2_classLit);
function RegularImmutableList(delegate){
  this.delegate = ($clinit_Collections() , instanceOf(delegate, 68)?new Collections$UnmodifiableRandomAccessList(delegate):new Collections$UnmodifiableList(delegate));
}

defineClass(513, 1537, $intern_69, RegularImmutableList);
_.delegateList_0 = function delegateList_0(){
  return this.delegate;
}
;
var Lcom_google_common_collect_RegularImmutableList_2_classLit = createForClass('com.google.common.collect', 'RegularImmutableList', 513, Lcom_google_common_collect_ForwardingImmutableList_2_classLit);
function RegularImmutableMap(entries){
  ForwardingImmutableMap.call(this, entries);
}

defineClass(1153, 471, $intern_59, RegularImmutableMap);
var Lcom_google_common_collect_RegularImmutableMap_2_classLit = createForClass('com.google.common.collect', 'RegularImmutableMap', 1153, Lcom_google_common_collect_ForwardingImmutableMap_2_classLit);
function RegularImmutableSet(delegate){
  ForwardingImmutableSet.call(this, delegate);
  checkArgument(delegate.size_1() >= 2);
}

defineClass(495, 494, $intern_68, RegularImmutableSet);
var Lcom_google_common_collect_RegularImmutableSet_2_classLit = createForClass('com.google.common.collect', 'RegularImmutableSet', 495, Lcom_google_common_collect_ForwardingImmutableSet_2_classLit);
function equalsImpl_2(s, object){
  var o;
  if (s === object) {
    return true;
  }
  if (instanceOf(object, 41)) {
    o = dynamicCast(object, 41);
    try {
      return s.size_1() == o.size_1() && s.containsAll(o);
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 82)) {
        return false;
      }
       else if (instanceOf($e0, 134)) {
        return false;
      }
       else 
        throw unwrap($e0);
    }
  }
  return false;
}

function hashCodeImpl_0(s){
  var hashCode, o, o$iterator;
  hashCode = 0;
  for (o$iterator = s.iterator(); o$iterator.hasNext();) {
    o = o$iterator.next_0();
    hashCode += o != null?hashCode__I__devirtual$(o):0;
    hashCode = ~~hashCode;
  }
  return hashCode;
}

function newHashSet(elements){
  var set_0;
  set_0 = new HashSet_0(capacity(elements.length));
  addAll_6(set_0, elements);
  return set_0;
}

function SingletonImmutableList(element){
  $clinit_ImmutableList();
  this.delegate = ($clinit_Collections() , new Collections$SingletonList(checkNotNull(element)));
}

defineClass(514, 1537, $intern_69, SingletonImmutableList);
_.delegateList_0 = function delegateList_1(){
  return this.delegate;
}
;
var Lcom_google_common_collect_SingletonImmutableList_2_classLit = createForClass('com.google.common.collect', 'SingletonImmutableList', 514, Lcom_google_common_collect_ForwardingImmutableList_2_classLit);
function SingletonImmutableSet(element){
  this.element = checkNotNull(element);
}

defineClass(493, 1522, $intern_68, SingletonImmutableSet);
_.contains_0 = function contains_21(object){
  return equals_Ljava_lang_Object__Z__devirtual$(this.element, object);
}
;
_.iterator_1 = function iterator_30(){
  return $clinit_Iterators() , new Iterators$12(this.element);
}
;
_.iterator = function iterator_31(){
  return $clinit_Iterators() , new Iterators$12(this.element);
}
;
_.size_1 = function size_21(){
  return 1;
}
;
var Lcom_google_common_collect_SingletonImmutableSet_2_classLit = createForClass('com.google.common.collect', 'SingletonImmutableSet', 493, Lcom_google_common_collect_ImmutableSet_2_classLit);
function $next_1(this$static){
  var columnEntry;
  if (!this$static.columnIterator.hasNext()) {
    this$static.rowEntry = dynamicCast(this$static.rowIterator.next_0(), 31);
    this$static.columnIterator = dynamicCast(this$static.rowEntry.getValue(), 47).entrySet_0().iterator();
  }
  columnEntry = dynamicCast(this$static.columnIterator.next_0(), 31);
  return new Tables$ImmutableCell(this$static.rowEntry.getKey(), columnEntry.getKey(), columnEntry.getValue());
}

function StandardTable$CellIterator(this$0){
  this.this$01 = this$0;
  this.rowIterator = this.this$01.backingMap.entrySet_0().iterator();
  this.columnIterator = ($clinit_Iterators() , $clinit_Iterators() , EMPTY_MODIFIABLE_ITERATOR);
}

defineClass(1199, 1, $intern_56, StandardTable$CellIterator);
_.hasNext = function hasNext_11(){
  return this.rowIterator.hasNext() || this.columnIterator.hasNext();
}
;
_.next_0 = function next_12(){
  return $next_1(this);
}
;
_.remove_2 = function remove_36(){
  this.columnIterator.remove_2();
  dynamicCast(this.rowEntry.getValue(), 47).isEmpty_0() && this.rowIterator.remove_2();
}
;
var Lcom_google_common_collect_StandardTable$CellIterator_2_classLit = createForClass('com.google.common.collect', 'StandardTable/CellIterator', 1199, Ljava_lang_Object_2_classLit);
function $backingRowMap(this$static){
  return !this$static.backingRowMap || this$static.backingRowMap.isEmpty_0() && this$static.this$01.backingMap.containsKey(this$static.rowKey)?(this$static.backingRowMap = dynamicCast(this$static.this$01.backingMap.get_2(this$static.rowKey), 47)):this$static.backingRowMap;
}

function $maintainEmptyInvariant(this$static){
  if (!!(!this$static.backingRowMap || this$static.backingRowMap.isEmpty_0() && this$static.this$01.backingMap.containsKey(this$static.rowKey)?(this$static.backingRowMap = dynamicCast(this$static.this$01.backingMap.get_2(this$static.rowKey), 47)):this$static.backingRowMap) && this$static.backingRowMap.isEmpty_0()) {
    this$static.this$01.backingMap.remove_3(this$static.rowKey);
    this$static.backingRowMap = null;
  }
}

function StandardTable$Row(this$0, rowKey){
  this.this$01 = this$0;
  this.rowKey = checkNotNull(rowKey);
}

defineClass(303, 1505, $intern_58, StandardTable$Row);
_.clear_1 = function clear_27(){
  var backingRowMap;
  backingRowMap = !this.backingRowMap || this.backingRowMap.isEmpty_0() && this.this$01.backingMap.containsKey(this.rowKey)?(this.backingRowMap = dynamicCast(this.this$01.backingMap.get_2(this.rowKey), 47)):this.backingRowMap;
  !!backingRowMap && backingRowMap.clear_1();
  $maintainEmptyInvariant(this);
}
;
_.containsKey = function containsKey_4(key){
  var backingRowMap;
  backingRowMap = !this.backingRowMap || this.backingRowMap.isEmpty_0() && this.this$01.backingMap.containsKey(this.rowKey)?(this.backingRowMap = dynamicCast(this.this$01.backingMap.get_2(this.rowKey), 47)):this.backingRowMap;
  return key != null && !!backingRowMap && safeContainsKey(backingRowMap, key);
}
;
_.createEntrySet_0 = function createEntrySet_1(){
  return new StandardTable$Row$RowEntrySet(this);
}
;
_.createEntrySet = _.createEntrySet_0;
_.get_2 = function get_12(key){
  var backingRowMap;
  backingRowMap = !this.backingRowMap || this.backingRowMap.isEmpty_0() && this.this$01.backingMap.containsKey(this.rowKey)?(this.backingRowMap = dynamicCast(this.this$01.backingMap.get_2(this.rowKey), 47)):this.backingRowMap;
  return key != null && !!backingRowMap?safeGet(backingRowMap, key):null;
}
;
_.put = function put_4(key, value_0){
  checkNotNull(key);
  checkNotNull(value_0);
  if (!!this.backingRowMap && !this.backingRowMap.isEmpty_0()) {
    return this.backingRowMap.put(key, value_0);
  }
  return $put_0(this.this$01, this.rowKey, key, value_0);
}
;
_.remove_3 = function remove_37(key){
  var backingRowMap, result;
  backingRowMap = !this.backingRowMap || this.backingRowMap.isEmpty_0() && this.this$01.backingMap.containsKey(this.rowKey)?(this.backingRowMap = dynamicCast(this.this$01.backingMap.get_2(this.rowKey), 47)):this.backingRowMap;
  if (!backingRowMap) {
    return null;
  }
  result = safeRemove_0(backingRowMap, key);
  $maintainEmptyInvariant(this);
  return result;
}
;
var Lcom_google_common_collect_StandardTable$Row_2_classLit = createForClass('com.google.common.collect', 'StandardTable/Row', 303, Lcom_google_common_collect_Maps$ImprovedAbstractMap_2_classLit);
function StandardTable$Row$RowEntrySet(this$1){
  this.this$11 = this$1;
}

defineClass(1200, 1506, $intern_60, StandardTable$Row$RowEntrySet);
_.iterator = function iterator_32(){
  var iterator, map_0;
  map_0 = $backingRowMap(this.this$11);
  if (!map_0) {
    return $clinit_Iterators() , $clinit_Iterators() , EMPTY_MODIFIABLE_ITERATOR;
  }
  iterator = map_0.entrySet_0().iterator();
  return new StandardTable$Row$RowEntrySet$1(this, iterator);
}
;
_.map_1 = function map_2(){
  return this.this$11;
}
;
_.size_1 = function size_22(){
  var map_0;
  map_0 = $backingRowMap(this.this$11);
  return !map_0?0:map_0.size_1();
}
;
var Lcom_google_common_collect_StandardTable$Row$RowEntrySet_2_classLit = createForClass('com.google.common.collect', 'StandardTable/Row/RowEntrySet', 1200, Lcom_google_common_collect_Maps$EntrySet_2_classLit);
function StandardTable$Row$RowEntrySet$1(this$2, val$iterator){
  this.this$21 = this$2;
  this.val$iterator2 = val$iterator;
}

defineClass(1203, 1, $intern_56, StandardTable$Row$RowEntrySet$1);
_.hasNext = function hasNext_12(){
  return this.val$iterator2.hasNext();
}
;
_.next_0 = function next_13(){
  var entry;
  return entry = dynamicCast(this.val$iterator2.next_0(), 31) , new StandardTable$Row$RowEntrySet$1$1(entry);
}
;
_.remove_2 = function remove_38(){
  this.val$iterator2.remove_2();
  $maintainEmptyInvariant(this.this$21.this$11);
}
;
var Lcom_google_common_collect_StandardTable$Row$RowEntrySet$1_2_classLit = createForClass('com.google.common.collect', 'StandardTable/Row/RowEntrySet/1', 1203, Ljava_lang_Object_2_classLit);
function StandardTable$Row$RowEntrySet$1$1(val$entry){
  this.val$entry2 = val$entry;
}

defineClass(1204, 1504, $intern_61, StandardTable$Row$RowEntrySet$1$1);
_.delegate_4 = function delegate_10(){
  return this.val$entry2;
}
;
_.equals$ = function equals_31(object){
  return $standardEquals(this, object);
}
;
_.setValue = function setValue_3(value_0){
  return $setValue_0(this, checkNotNull(value_0));
}
;
var Lcom_google_common_collect_StandardTable$Row$RowEntrySet$1$1_2_classLit = createForClass('com.google.common.collect', 'StandardTable/Row/RowEntrySet/1/1', 1204, Lcom_google_common_collect_ForwardingMapEntry_2_classLit);
function StandardTable$RowMap(this$0){
  this.this$01 = this$0;
}

defineClass(1201, 1505, $intern_58, StandardTable$RowMap);
_.containsKey = function containsKey_5(key){
  return this.this$01.containsRow(key);
}
;
_.createEntrySet_0 = function createEntrySet_2(){
  return new StandardTable$RowMap$EntrySet(this);
}
;
_.createEntrySet = _.createEntrySet_0;
_.get_2 = function get_13(key){
  return this.this$01.containsRow(key)?new StandardTable$Row(this.this$01, key):null;
}
;
_.remove_3 = function remove_39(key){
  return key == null?null:dynamicCast(this.this$01.backingMap.remove_3(key), 47);
}
;
var Lcom_google_common_collect_StandardTable$RowMap_2_classLit = createForClass('com.google.common.collect', 'StandardTable/RowMap', 1201, Lcom_google_common_collect_Maps$ImprovedAbstractMap_2_classLit);
function StandardTable$TableSet(this$0){
  this.this$01 = this$0;
}

defineClass(1198, 1496, $intern_60);
_.clear_1 = function clear_28(){
  this.this$01.backingMap.clear_1();
}
;
_.isEmpty_0 = function isEmpty_13(){
  return this.this$01.backingMap.size_1() == 0;
}
;
var Lcom_google_common_collect_StandardTable$TableSet_2_classLit = createForClass('com.google.common.collect', 'StandardTable/TableSet', 1198, Lcom_google_common_collect_Sets$ImprovedAbstractSet_2_classLit);
function StandardTable$RowMap$EntrySet(this$1){
  this.this$11 = this$1;
  StandardTable$TableSet.call(this, this$1.this$01);
}

defineClass(1202, 1198, $intern_60, StandardTable$RowMap$EntrySet);
_.contains_0 = function contains_22(obj){
  var entry;
  if (instanceOf(obj, 31)) {
    entry = dynamicCast(obj, 31);
    return entry.getKey() != null && instanceOf(entry.getValue(), 47) && safeContains(this.this$11.this$01.backingMap.entrySet_0(), entry);
  }
  return false;
}
;
_.iterator = function iterator_33(){
  return asMapEntryIterator(new AbstractMap$1(this.this$11.this$01.backingMap), new StandardTable$RowMap$EntrySet$1(this));
}
;
_.remove = function remove_40(obj){
  var entry;
  if (instanceOf(obj, 31)) {
    entry = dynamicCast(obj, 31);
    return entry.getKey() != null && instanceOf(entry.getValue(), 47) && this.this$11.this$01.backingMap.entrySet_0().remove(entry);
  }
  return false;
}
;
_.size_1 = function size_23(){
  return this.this$11.this$01.backingMap.size_1();
}
;
var Lcom_google_common_collect_StandardTable$RowMap$EntrySet_2_classLit = createForClass('com.google.common.collect', 'StandardTable/RowMap/EntrySet', 1202, Lcom_google_common_collect_StandardTable$TableSet_2_classLit);
function $apply_1(this$static, rowKey){
  return new StandardTable$Row(this$static.this$21.this$11.this$01, rowKey);
}

function StandardTable$RowMap$EntrySet$1(this$2){
  this.this$21 = this$2;
}

defineClass(1205, 1, {419:1}, StandardTable$RowMap$EntrySet$1);
_.apply_1 = function apply_11(rowKey){
  return $apply_1(this, rowKey);
}
;
var Lcom_google_common_collect_StandardTable$RowMap$EntrySet$1_2_classLit = createForClass('com.google.common.collect', 'StandardTable/RowMap/EntrySet/1', 1205, Ljava_lang_Object_2_classLit);
function equalsImpl_3(table, obj){
  var that;
  if (obj === table) {
    return true;
  }
   else if (instanceOf(obj, 422)) {
    that = dynamicCast(obj, 422);
    return $equals_3(table.cellSet_0(), that.cellSet_0());
  }
   else {
    return false;
  }
}

defineClass(1530, 1, {279:1});
_.equals$ = function equals_32(obj){
  var other;
  if (obj === this) {
    return true;
  }
  if (instanceOf(obj, 279)) {
    other = dynamicCast(obj, 279);
    return equal(this.rowKey, other.rowKey) && equal(this.columnKey, other.columnKey) && equal(this.value_0, other.value_0);
  }
  return false;
}
;
_.hashCode$ = function hashCode_29(){
  return hashCode_44(initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, [this.rowKey, this.columnKey, this.value_0]));
}
;
_.toString$ = function toString_45(){
  return '(' + this.rowKey + ',' + this.columnKey + ')=' + this.value_0;
}
;
var Lcom_google_common_collect_Tables$AbstractCell_2_classLit = createForClass('com.google.common.collect', 'Tables/AbstractCell', 1530, Ljava_lang_Object_2_classLit);
function Tables$ImmutableCell(rowKey, columnKey, value_0){
  this.rowKey = rowKey;
  this.columnKey = columnKey;
  this.value_0 = value_0;
}

defineClass(1315, 1530, {279:1, 3:1}, Tables$ImmutableCell);
var Lcom_google_common_collect_Tables$ImmutableCell_2_classLit = createForClass('com.google.common.collect', 'Tables/ImmutableCell', 1315, Lcom_google_common_collect_Tables$AbstractCell_2_classLit);
function $clinit_Ints(){
  $clinit_Ints = emptyMethod;
  var i, i0;
  asciiDigits = initDim(B_classLit, $intern_53, 0, 128, 7, 1);
  fill(asciiDigits);
  for (i0 = 0; i0 <= 9; i0++) {
    asciiDigits[48 + i0] = narrow_byte(i0);
  }
  for (i = 0; i <= 26; i++) {
    asciiDigits[65 + i] = narrow_byte(10 + i);
    asciiDigits[97 + i] = narrow_byte(10 + i);
  }
}

function digit_0(c){
  return c < 128?asciiDigits[c]:-1;
}

function tryParse(string){
  $clinit_Ints();
  var accum, digit, index_0, negative;
  if (!dynamicCastToString(checkNotNull(string)).length) {
    return null;
  }
  negative = string.charCodeAt(0) == 45;
  index_0 = negative?1:0;
  if (index_0 == string.length) {
    return null;
  }
  digit = digit_0($charAt_0(string, index_0++));
  if (digit < 0 || digit >= 10) {
    return null;
  }
  accum = -digit;
  while (index_0 < string.length) {
    digit = digit_0($charAt_0(string, index_0++));
    if (digit < 0 || digit >= 10 || accum < -214748364) {
      return null;
    }
    accum *= 10;
    if (accum < $intern_72 + digit) {
      return null;
    }
    accum -= digit;
  }
  return negative?valueOf_45(accum):accum == $intern_72?null:valueOf_45(-accum);
}

var asciiDigits;
function $cancel_0(this$static){
  if (!this$static.isRunning) {
    return;
  }
  this$static.wasStarted = this$static.isStarted;
  this$static.element = null;
  this$static.isRunning = false;
  this$static.isStarted = false;
  if (this$static.requestHandle) {
    this$static.requestHandle.cancel_0();
    this$static.requestHandle = null;
  }
  this$static.wasStarted && this$static.onComplete();
}

function $run_6(this$static, duration, startTime, element){
  $cancel_0(this$static);
  this$static.isRunning = true;
  this$static.isStarted = false;
  this$static.duration_0 = duration;
  this$static.startTime = startTime;
  this$static.element = element;
  ++this$static.runId;
  $execute(this$static.callback, now_1());
}

function $run_7(this$static, duration, element){
  $run_6(this$static, duration, now_1(), element);
}

function $update_0(this$static, curTime){
  var curRunId, finished, progress;
  curRunId = this$static.runId;
  finished = curTime >= this$static.startTime + this$static.duration_0;
  if (this$static.isStarted && !finished) {
    progress = (curTime - this$static.startTime) / this$static.duration_0;
    this$static.onUpdate((1 + Math.cos($intern_73 + progress * $intern_73)) / 2);
    return this$static.isRunning && this$static.runId == curRunId;
  }
  if (!this$static.isStarted && curTime >= this$static.startTime) {
    this$static.isStarted = true;
    this$static.onStart();
    if (!(this$static.isRunning && this$static.runId == curRunId)) {
      return false;
    }
  }
  if (finished) {
    this$static.isRunning = false;
    this$static.isStarted = false;
    this$static.onComplete();
    return false;
  }
  return true;
}

function Animation(){
  Animation_0.call(this, (!instance_0 && (instance_0 = $isNativelySupported()?new AnimationSchedulerImplStandard:new AnimationSchedulerImplTimer) , instance_0));
}

function Animation_0(scheduler){
  this.callback = new Animation$1(this);
  this.scheduler = scheduler;
}

defineClass(329, 1, {});
_.onComplete = function onComplete(){
  this.onUpdate((1 + cos_0($intern_49)) / 2);
}
;
_.onStart = function onStart(){
  this.onUpdate((1 + cos_0($intern_73)) / 2);
}
;
_.duration_0 = -1;
_.isRunning = false;
_.isStarted = false;
_.runId = -1;
_.startTime = -1;
_.wasStarted = false;
var Lcom_google_gwt_animation_client_Animation_2_classLit = createForClass('com.google.gwt.animation.client', 'Animation', 329, Ljava_lang_Object_2_classLit);
function $execute(this$static, timestamp){
  $update_0(this$static.this$01, timestamp)?(this$static.this$01.requestHandle = this$static.this$01.scheduler.requestAnimationFrame_0(this$static.this$01.callback, this$static.this$01.element)):(this$static.this$01.requestHandle = null);
}

function Animation$1(this$0){
  this.this$01 = this$0;
}

defineClass(625, 1, {}, Animation$1);
_.execute_1 = function execute_10(timestamp){
  $execute(this, timestamp);
}
;
var Lcom_google_gwt_animation_client_Animation$1_2_classLit = createForClass('com.google.gwt.animation.client', 'Animation/1', 625, Ljava_lang_Object_2_classLit);
defineClass(1486, 1, {});
var instance_0;
var Lcom_google_gwt_animation_client_AnimationScheduler_2_classLit = createForClass('com.google.gwt.animation.client', 'AnimationScheduler', 1486, Ljava_lang_Object_2_classLit);
defineClass(369, 1, {369:1});
var Lcom_google_gwt_animation_client_AnimationScheduler$AnimationHandle_2_classLit = createForClass('com.google.gwt.animation.client', 'AnimationScheduler/AnimationHandle', 369, Ljava_lang_Object_2_classLit);
function $isNativelySupported(){
  return !!$wnd.requestAnimationFrame && !!$wnd.cancelAnimationFrame;
}

function AnimationSchedulerImplStandard(){
}

function cancelImpl(holder){
  $wnd.cancelAnimationFrame(holder.id);
}

function requestImpl(cb, element){
  var callback = $entry(function(){
    var time = now_1();
    cb.execute_1(time);
  }
  );
  var handle = $wnd.requestAnimationFrame(callback, element);
  return {id:handle};
}

defineClass(398, 1486, {}, AnimationSchedulerImplStandard);
_.requestAnimationFrame_0 = function requestAnimationFrame(callback, element){
  var handle;
  handle = requestImpl(callback, element);
  return new AnimationSchedulerImplStandard$1(handle);
}
;
var Lcom_google_gwt_animation_client_AnimationSchedulerImplStandard_2_classLit = createForClass('com.google.gwt.animation.client', 'AnimationSchedulerImplStandard', 398, Lcom_google_gwt_animation_client_AnimationScheduler_2_classLit);
function AnimationSchedulerImplStandard$1(val$handle){
  this.val$handle2 = val$handle;
}

defineClass(1146, 369, {369:1}, AnimationSchedulerImplStandard$1);
_.cancel_0 = function cancel_1(){
  cancelImpl(this.val$handle2);
}
;
var Lcom_google_gwt_animation_client_AnimationSchedulerImplStandard$1_2_classLit = createForClass('com.google.gwt.animation.client', 'AnimationSchedulerImplStandard/1', 1146, Lcom_google_gwt_animation_client_AnimationScheduler$AnimationHandle_2_classLit);
function $cancelAnimationFrame(this$static, requestId){
  $remove_0(this$static.animationRequests, requestId);
  this$static.animationRequests.array.length == 0 && $cancel(this$static.timer);
}

function $updateAnimations(this$static){
  var curAnimations, duration, requestId, requestId$index, requestId$max;
  curAnimations = initDim(Lcom_google_gwt_animation_client_AnimationSchedulerImplTimer$AnimationHandleImpl_2_classLit, {1545:1, 3:1, 4:1}, 400, this$static.animationRequests.array.length, 0, 1);
  curAnimations = dynamicCast($toArray_1(this$static.animationRequests, curAnimations), 1545);
  duration = new Duration_0;
  for (requestId$index = 0 , requestId$max = curAnimations.length; requestId$index < requestId$max; ++requestId$index) {
    requestId = curAnimations[requestId$index];
    $remove_0(this$static.animationRequests, requestId);
    requestId.callback.execute_1(duration.start_0);
  }
  this$static.animationRequests.array.length > 0 && $schedule(this$static.timer, max_1(5, 16 - (now_1() - duration.start_0)));
}

function AnimationSchedulerImplTimer(){
  this.animationRequests = new ArrayList;
  this.timer = new AnimationSchedulerImplTimer$1(this);
}

defineClass(399, 1486, {}, AnimationSchedulerImplTimer);
_.requestAnimationFrame_0 = function requestAnimationFrame_0(callback, element){
  var requestId;
  requestId = new AnimationSchedulerImplTimer$AnimationHandleImpl(this, callback);
  this.animationRequests.add_0(requestId);
  this.animationRequests.array.length == 1 && $schedule(this.timer, 16);
  return requestId;
}
;
var Lcom_google_gwt_animation_client_AnimationSchedulerImplTimer_2_classLit = createForClass('com.google.gwt.animation.client', 'AnimationSchedulerImplTimer', 399, Lcom_google_gwt_animation_client_AnimationScheduler_2_classLit);
function AnimationSchedulerImplTimer$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1147, 61, {}, AnimationSchedulerImplTimer$1);
_.run = function run_19(){
  $updateAnimations(this.this$01);
}
;
var Lcom_google_gwt_animation_client_AnimationSchedulerImplTimer$1_2_classLit = createForClass('com.google.gwt.animation.client', 'AnimationSchedulerImplTimer/1', 1147, Lcom_google_gwt_user_client_Timer_2_classLit);
function AnimationSchedulerImplTimer$AnimationHandleImpl(this$0, callback){
  this.this$01 = this$0;
  this.callback = callback;
}

defineClass(400, 369, {369:1, 400:1}, AnimationSchedulerImplTimer$AnimationHandleImpl);
_.cancel_0 = function cancel_2(){
  $cancelAnimationFrame(this.this$01, this);
}
;
var Lcom_google_gwt_animation_client_AnimationSchedulerImplTimer$AnimationHandleImpl_2_classLit = createForClass('com.google.gwt.animation.client', 'AnimationSchedulerImplTimer/AnimationHandleImpl', 400, Lcom_google_gwt_animation_client_AnimationScheduler$AnimationHandle_2_classLit);
function $set_0(this$static, element){
  $setAttribute(element, 'role', this$static.roleName);
}

function RoleImpl(roleName){
  this.roleName = roleName;
}

defineClass(35, 1, {});
var Lcom_google_gwt_aria_client_RoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'RoleImpl', 35, Ljava_lang_Object_2_classLit);
function AlertRoleImpl(){
  RoleImpl.call(this, 'alert');
}

defineClass(1053, 35, {}, AlertRoleImpl);
var Lcom_google_gwt_aria_client_AlertRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'AlertRoleImpl', 1053, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function AlertdialogRoleImpl(){
  RoleImpl.call(this, 'alertdialog');
}

defineClass(1052, 35, {}, AlertdialogRoleImpl);
var Lcom_google_gwt_aria_client_AlertdialogRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'AlertdialogRoleImpl', 1052, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ApplicationRoleImpl(){
  RoleImpl.call(this, 'application');
}

defineClass(1054, 35, {}, ApplicationRoleImpl);
var Lcom_google_gwt_aria_client_ApplicationRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ApplicationRoleImpl', 1054, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $getAriaValue(value_0){
  var buf, item_0, item$index, item$max;
  buf = new StringBuilder;
  for (item$index = 0 , item$max = value_0.length; item$index < item$max; ++item$index) {
    item_0 = value_0[item$index];
    $append_6($append_6(buf, dynamicCast(item_0, 1465).getAriaValue()), ' ');
  }
  return $trim(buf.string);
}

function $set_1(this$static, element, values){
  $setAttribute(element, this$static.name_0, $getAriaValue(values));
}

function Attribute(name_0){
  this.name_0 = name_0;
}

defineClass(515, 1, {});
var Lcom_google_gwt_aria_client_Attribute_2_classLit = createForClass('com.google.gwt.aria.client', 'Attribute', 515, Ljava_lang_Object_2_classLit);
function AriaValueAttribute(name_0){
  Attribute.call(this, name_0);
}

defineClass(116, 515, {}, AriaValueAttribute);
var Lcom_google_gwt_aria_client_AriaValueAttribute_2_classLit = createForClass('com.google.gwt.aria.client', 'AriaValueAttribute', 116, Lcom_google_gwt_aria_client_Attribute_2_classLit);
function ArticleRoleImpl(){
  RoleImpl.call(this, 'article');
}

defineClass(1055, 35, {}, ArticleRoleImpl);
var Lcom_google_gwt_aria_client_ArticleRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ArticleRoleImpl', 1055, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function BannerRoleImpl(){
  RoleImpl.call(this, 'banner');
}

defineClass(1056, 35, {}, BannerRoleImpl);
var Lcom_google_gwt_aria_client_BannerRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'BannerRoleImpl', 1056, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $setAriaPressedState(element, value_0){
  $set_1(($clinit_State() , PRESSED), element, initValues(getClassLiteralForArray(Lcom_google_gwt_aria_client_PressedValue_2_classLit, 1), $intern_1, 215, 0, [value_0]));
}

function ButtonRoleImpl(){
  RoleImpl.call(this, 'button');
}

defineClass(1057, 35, {}, ButtonRoleImpl);
var Lcom_google_gwt_aria_client_ButtonRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ButtonRoleImpl', 1057, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function CheckboxRoleImpl(){
  RoleImpl.call(this, 'checkbox');
}

defineClass(1058, 35, {}, CheckboxRoleImpl);
var Lcom_google_gwt_aria_client_CheckboxRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'CheckboxRoleImpl', 1058, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ColumnheaderRoleImpl(){
  RoleImpl.call(this, 'columnheader');
}

defineClass(1059, 35, {}, ColumnheaderRoleImpl);
var Lcom_google_gwt_aria_client_ColumnheaderRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ColumnheaderRoleImpl', 1059, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ComboboxRoleImpl(){
  RoleImpl.call(this, 'combobox');
}

defineClass(1060, 35, {}, ComboboxRoleImpl);
var Lcom_google_gwt_aria_client_ComboboxRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ComboboxRoleImpl', 1060, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ComplementaryRoleImpl(){
  RoleImpl.call(this, 'complementary');
}

defineClass(1061, 35, {}, ComplementaryRoleImpl);
var Lcom_google_gwt_aria_client_ComplementaryRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ComplementaryRoleImpl', 1061, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ContentinfoRoleImpl(){
  RoleImpl.call(this, 'contentinfo');
}

defineClass(1062, 35, {}, ContentinfoRoleImpl);
var Lcom_google_gwt_aria_client_ContentinfoRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ContentinfoRoleImpl', 1062, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function DefinitionRoleImpl(){
  RoleImpl.call(this, 'definition');
}

defineClass(1063, 35, {}, DefinitionRoleImpl);
var Lcom_google_gwt_aria_client_DefinitionRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'DefinitionRoleImpl', 1063, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function DialogRoleImpl(){
  RoleImpl.call(this, 'dialog');
}

defineClass(1064, 35, {}, DialogRoleImpl);
var Lcom_google_gwt_aria_client_DialogRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'DialogRoleImpl', 1064, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function DirectoryRoleImpl(){
  RoleImpl.call(this, 'directory');
}

defineClass(1065, 35, {}, DirectoryRoleImpl);
var Lcom_google_gwt_aria_client_DirectoryRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'DirectoryRoleImpl', 1065, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function DocumentRoleImpl(){
  RoleImpl.call(this, 'document');
}

defineClass(1066, 35, {}, DocumentRoleImpl);
var Lcom_google_gwt_aria_client_DocumentRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'DocumentRoleImpl', 1066, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function FormRoleImpl(){
  RoleImpl.call(this, 'form');
}

defineClass(1067, 35, {}, FormRoleImpl);
var Lcom_google_gwt_aria_client_FormRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'FormRoleImpl', 1067, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function GridRoleImpl(){
  RoleImpl.call(this, 'grid');
}

defineClass(1069, 35, {}, GridRoleImpl);
var Lcom_google_gwt_aria_client_GridRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'GridRoleImpl', 1069, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function GridcellRoleImpl(){
  RoleImpl.call(this, 'gridcell');
}

defineClass(1068, 35, {}, GridcellRoleImpl);
var Lcom_google_gwt_aria_client_GridcellRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'GridcellRoleImpl', 1068, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function GroupRoleImpl(){
  RoleImpl.call(this, 'group');
}

defineClass(1070, 35, {}, GroupRoleImpl);
var Lcom_google_gwt_aria_client_GroupRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'GroupRoleImpl', 1070, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function HeadingRoleImpl(){
  RoleImpl.call(this, 'heading');
}

defineClass(1071, 35, {}, HeadingRoleImpl);
var Lcom_google_gwt_aria_client_HeadingRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'HeadingRoleImpl', 1071, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $init(this$static, elementId){
  this$static.id_0 = elementId;
}

function Id(element){
  $init(this, element.id);
}

defineClass(394, 1, {1465:1, 394:1}, Id);
_.getAriaValue = function getAriaValue(){
  return this.id_0;
}
;
var Lcom_google_gwt_aria_client_Id_2_classLit = createForClass('com.google.gwt.aria.client', 'Id', 394, Ljava_lang_Object_2_classLit);
function ImgRoleImpl(){
  RoleImpl.call(this, 'img');
}

defineClass(1072, 35, {}, ImgRoleImpl);
var Lcom_google_gwt_aria_client_ImgRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ImgRoleImpl', 1072, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function LinkRoleImpl(){
  RoleImpl.call(this, 'link');
}

defineClass(1073, 35, {}, LinkRoleImpl);
var Lcom_google_gwt_aria_client_LinkRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'LinkRoleImpl', 1073, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ListRoleImpl(){
  RoleImpl.call(this, 'list');
}

defineClass(1076, 35, {}, ListRoleImpl);
var Lcom_google_gwt_aria_client_ListRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ListRoleImpl', 1076, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ListboxRoleImpl(){
  RoleImpl.call(this, 'listbox');
}

defineClass(1074, 35, {}, ListboxRoleImpl);
var Lcom_google_gwt_aria_client_ListboxRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ListboxRoleImpl', 1074, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ListitemRoleImpl(){
  RoleImpl.call(this, 'listitem');
}

defineClass(1075, 35, {}, ListitemRoleImpl);
var Lcom_google_gwt_aria_client_ListitemRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ListitemRoleImpl', 1075, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function LogRoleImpl(){
  RoleImpl.call(this, 'log');
}

defineClass(1077, 35, {}, LogRoleImpl);
var Lcom_google_gwt_aria_client_LogRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'LogRoleImpl', 1077, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function MainRoleImpl(){
  RoleImpl.call(this, 'main');
}

defineClass(1078, 35, {}, MainRoleImpl);
var Lcom_google_gwt_aria_client_MainRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'MainRoleImpl', 1078, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function MarqueeRoleImpl(){
  RoleImpl.call(this, 'marquee');
}

defineClass(1079, 35, {}, MarqueeRoleImpl);
var Lcom_google_gwt_aria_client_MarqueeRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'MarqueeRoleImpl', 1079, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function MathRoleImpl(){
  RoleImpl.call(this, 'math');
}

defineClass(1080, 35, {}, MathRoleImpl);
var Lcom_google_gwt_aria_client_MathRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'MathRoleImpl', 1080, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function MenuRoleImpl(){
  RoleImpl.call(this, 'menu');
}

defineClass(1085, 35, {}, MenuRoleImpl);
var Lcom_google_gwt_aria_client_MenuRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'MenuRoleImpl', 1085, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $setAriaActivedescendantProperty(element, value_0){
  $set_1(($clinit_Property() , ACTIVEDESCENDANT), element, initValues(getClassLiteralForArray(Lcom_google_gwt_aria_client_Id_2_classLit, 1), $intern_1, 394, 0, [value_0]));
}

function MenubarRoleImpl(){
  RoleImpl.call(this, 'menubar');
}

defineClass(1081, 35, {}, MenubarRoleImpl);
var Lcom_google_gwt_aria_client_MenubarRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'MenubarRoleImpl', 1081, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function MenuitemRoleImpl(){
  RoleImpl.call(this, 'menuitem');
}

defineClass(1084, 35, {}, MenuitemRoleImpl);
var Lcom_google_gwt_aria_client_MenuitemRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'MenuitemRoleImpl', 1084, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function MenuitemcheckboxRoleImpl(){
  RoleImpl.call(this, 'menuitemcheckbox');
}

defineClass(1082, 35, {}, MenuitemcheckboxRoleImpl);
var Lcom_google_gwt_aria_client_MenuitemcheckboxRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'MenuitemcheckboxRoleImpl', 1082, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function MenuitemradioRoleImpl(){
  RoleImpl.call(this, 'menuitemradio');
}

defineClass(1083, 35, {}, MenuitemradioRoleImpl);
var Lcom_google_gwt_aria_client_MenuitemradioRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'MenuitemradioRoleImpl', 1083, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function NavigationRoleImpl(){
  RoleImpl.call(this, 'navigation');
}

defineClass(1086, 35, {}, NavigationRoleImpl);
var Lcom_google_gwt_aria_client_NavigationRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'NavigationRoleImpl', 1086, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function NoteRoleImpl(){
  RoleImpl.call(this, 'note');
}

defineClass(1087, 35, {}, NoteRoleImpl);
var Lcom_google_gwt_aria_client_NoteRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'NoteRoleImpl', 1087, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function OptionRoleImpl(){
  RoleImpl.call(this, 'option');
}

defineClass(1088, 35, {}, OptionRoleImpl);
var Lcom_google_gwt_aria_client_OptionRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'OptionRoleImpl', 1088, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function PresentationRoleImpl(){
  RoleImpl.call(this, 'presentation');
}

defineClass(1089, 35, {}, PresentationRoleImpl);
var Lcom_google_gwt_aria_client_PresentationRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'PresentationRoleImpl', 1089, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $clinit_PressedValue(){
  $clinit_PressedValue = emptyMethod;
  TRUE = new PressedValue('TRUE', 0);
  FALSE = new PressedValue('FALSE', 1);
  MIXED = new PressedValue('MIXED', 2);
  UNDEFINED = new PressedValue('UNDEFINED', 3);
}

function PressedValue(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_10(name_0){
  $clinit_PressedValue();
  return valueOf(($clinit_PressedValue$Map() , $MAP_8), name_0);
}

function values_16(){
  $clinit_PressedValue();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_aria_client_PressedValue_2_classLit, 1), $intern_1, 215, 0, [TRUE, FALSE, MIXED, UNDEFINED]);
}

defineClass(215, 9, {1465:1, 215:1, 3:1, 21:1, 9:1}, PressedValue);
_.getAriaValue = function getAriaValue_0(){
  switch (this.ordinal) {
    case 0:
      return 'true';
    case 1:
      return 'false';
    case 2:
      return 'mixed';
    case 3:
      return 'undefined';
  }
  return null;
}
;
var FALSE, MIXED, TRUE, UNDEFINED;
var Lcom_google_gwt_aria_client_PressedValue_2_classLit = createForEnum('com.google.gwt.aria.client', 'PressedValue', 215, Ljava_lang_Enum_2_classLit, values_16, valueOf_10);
function $clinit_PressedValue$Map(){
  $clinit_PressedValue$Map = emptyMethod;
  $MAP_8 = createValueOfMap(($clinit_PressedValue() , initValues(getClassLiteralForArray(Lcom_google_gwt_aria_client_PressedValue_2_classLit, 1), $intern_1, 215, 0, [TRUE, FALSE, MIXED, UNDEFINED])));
}

var $MAP_8;
function PrimitiveValueAttribute(name_0){
  Attribute.call(this, name_0);
}

defineClass(121, 515, {}, PrimitiveValueAttribute);
var Lcom_google_gwt_aria_client_PrimitiveValueAttribute_2_classLit = createForClass('com.google.gwt.aria.client', 'PrimitiveValueAttribute', 121, Lcom_google_gwt_aria_client_Attribute_2_classLit);
function ProgressbarRoleImpl(){
  RoleImpl.call(this, 'progressbar');
}

defineClass(1090, 35, {}, ProgressbarRoleImpl);
var Lcom_google_gwt_aria_client_ProgressbarRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ProgressbarRoleImpl', 1090, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $clinit_Property(){
  $clinit_Property = emptyMethod;
  ACTIVEDESCENDANT = new AriaValueAttribute('aria-activedescendant');
  new PrimitiveValueAttribute('aria-atomic');
  new AriaValueAttribute('aria-autocomplete');
  new AriaValueAttribute('aria-controls');
  new AriaValueAttribute('aria-describedby');
  new AriaValueAttribute('aria-dropeffect');
  new AriaValueAttribute('aria-flowto');
  new PrimitiveValueAttribute('aria-haspopup');
  new PrimitiveValueAttribute('aria-label');
  new AriaValueAttribute('aria-labelledby');
  new PrimitiveValueAttribute('aria-level');
  new AriaValueAttribute('aria-live');
  new PrimitiveValueAttribute('aria-multiline');
  new PrimitiveValueAttribute('aria-multiselectable');
  new AriaValueAttribute('aria-orientation');
  new AriaValueAttribute('aria-owns');
  new PrimitiveValueAttribute('aria-posinset');
  new PrimitiveValueAttribute('aria-readonly');
  new AriaValueAttribute('aria-relevant');
  new PrimitiveValueAttribute('aria-required');
  new PrimitiveValueAttribute('aria-setsize');
  new AriaValueAttribute('aria-sort');
  new PrimitiveValueAttribute('aria-valuemax');
  new PrimitiveValueAttribute('aria-valuemin');
  new PrimitiveValueAttribute('aria-valuenow');
  new PrimitiveValueAttribute('aria-valuetext');
}

var ACTIVEDESCENDANT;
function RadioRoleImpl(){
  RoleImpl.call(this, 'radio');
}

defineClass(1092, 35, {}, RadioRoleImpl);
var Lcom_google_gwt_aria_client_RadioRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'RadioRoleImpl', 1092, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function RadiogroupRoleImpl(){
  RoleImpl.call(this, 'radiogroup');
}

defineClass(1091, 35, {}, RadiogroupRoleImpl);
var Lcom_google_gwt_aria_client_RadiogroupRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'RadiogroupRoleImpl', 1091, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function RegionRoleImpl(){
  RoleImpl.call(this, 'region');
}

defineClass(1093, 35, {}, RegionRoleImpl);
var Lcom_google_gwt_aria_client_RegionRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'RegionRoleImpl', 1093, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $clinit_Roles(){
  $clinit_Roles = emptyMethod;
  ALERTDIALOG = new AlertdialogRoleImpl;
  ALERT = new AlertRoleImpl;
  APPLICATION = new ApplicationRoleImpl;
  ARTICLE = new ArticleRoleImpl;
  BANNER = new BannerRoleImpl;
  BUTTON = new ButtonRoleImpl;
  CHECKBOX = new CheckboxRoleImpl;
  COLUMNHEADER = new ColumnheaderRoleImpl;
  COMBOBOX = new ComboboxRoleImpl;
  COMPLEMENTARY = new ComplementaryRoleImpl;
  CONTENTINFO = new ContentinfoRoleImpl;
  DEFINITION = new DefinitionRoleImpl;
  DIALOG = new DialogRoleImpl;
  DIRECTORY = new DirectoryRoleImpl;
  DOCUMENT = new DocumentRoleImpl;
  FORM = new FormRoleImpl;
  GRIDCELL = new GridcellRoleImpl;
  GRID = new GridRoleImpl;
  GROUP = new GroupRoleImpl;
  HEADING = new HeadingRoleImpl;
  IMG = new ImgRoleImpl;
  LINK = new LinkRoleImpl;
  LISTBOX = new ListboxRoleImpl;
  LISTITEM = new ListitemRoleImpl;
  LIST = new ListRoleImpl;
  LOG = new LogRoleImpl;
  MAIN = new MainRoleImpl;
  MARQUEE = new MarqueeRoleImpl;
  MATH = new MathRoleImpl;
  MENUBAR = new MenubarRoleImpl;
  MENUITEMCHECKBOX = new MenuitemcheckboxRoleImpl;
  MENUITEMRADIO = new MenuitemradioRoleImpl;
  MENUITEM = new MenuitemRoleImpl;
  MENU = new MenuRoleImpl;
  NAVIGATION = new NavigationRoleImpl;
  NOTE = new NoteRoleImpl;
  OPTION = new OptionRoleImpl;
  PRESENTATION = new PresentationRoleImpl;
  PROGRESSBAR = new ProgressbarRoleImpl;
  RADIOGROUP = new RadiogroupRoleImpl;
  RADIO = new RadioRoleImpl;
  REGION = new RegionRoleImpl;
  ROWGROUP = new RowgroupRoleImpl;
  ROWHEADER = new RowheaderRoleImpl;
  ROW = new RowRoleImpl;
  SCROLLBAR = new ScrollbarRoleImpl;
  SEARCH = new SearchRoleImpl;
  SEPARATOR = new SeparatorRoleImpl;
  SLIDER = new SliderRoleImpl;
  SPINBUTTON = new SpinbuttonRoleImpl;
  STATUS = new StatusRoleImpl;
  TABLIST = new TablistRoleImpl;
  TABPANEL = new TabpanelRoleImpl;
  TAB = new TabRoleImpl;
  TEXTBOX = new TextboxRoleImpl;
  TIMER = new TimerRoleImpl;
  TOOLBAR = new ToolbarRoleImpl;
  TOOLTIP = new TooltipRoleImpl;
  TREEGRID = new TreegridRoleImpl;
  TREEITEM = new TreeitemRoleImpl;
  TREE = new TreeRoleImpl;
  ROLES_MAP = new HashMap;
  ROLES_MAP.put('region', REGION);
  ROLES_MAP.put('alert', ALERT);
  ROLES_MAP.put('dialog', DIALOG);
  ROLES_MAP.put('alertdialog', ALERTDIALOG);
  ROLES_MAP.put('application', APPLICATION);
  ROLES_MAP.put('document', DOCUMENT);
  ROLES_MAP.put('article', ARTICLE);
  ROLES_MAP.put('banner', BANNER);
  ROLES_MAP.put('button', BUTTON);
  ROLES_MAP.put('checkbox', CHECKBOX);
  ROLES_MAP.put('gridcell', GRIDCELL);
  ROLES_MAP.put('columnheader', COLUMNHEADER);
  ROLES_MAP.put('group', GROUP);
  ROLES_MAP.put('combobox', COMBOBOX);
  ROLES_MAP.put('complementary', COMPLEMENTARY);
  ROLES_MAP.put('contentinfo', CONTENTINFO);
  ROLES_MAP.put('definition', DEFINITION);
  ROLES_MAP.put('list', LIST);
  ROLES_MAP.put('directory', DIRECTORY);
  ROLES_MAP.put('form', FORM);
  ROLES_MAP.put('grid', GRID);
  ROLES_MAP.put('heading', HEADING);
  ROLES_MAP.put('img', IMG);
  ROLES_MAP.put('link', LINK);
  ROLES_MAP.put('listbox', LISTBOX);
  ROLES_MAP.put('listitem', LISTITEM);
  ROLES_MAP.put('log', LOG);
  ROLES_MAP.put('main', MAIN);
  ROLES_MAP.put('marquee', MARQUEE);
  ROLES_MAP.put('math', MATH);
  ROLES_MAP.put('menu', MENU);
  ROLES_MAP.put('menubar', MENUBAR);
  ROLES_MAP.put('menuitem', MENUITEM);
  ROLES_MAP.put('menuitemcheckbox', MENUITEMCHECKBOX);
  ROLES_MAP.put('option', OPTION);
  ROLES_MAP.put('radio', RADIO);
  ROLES_MAP.put('menuitemradio', MENUITEMRADIO);
  ROLES_MAP.put('navigation', NAVIGATION);
  ROLES_MAP.put('note', NOTE);
  ROLES_MAP.put('presentation', PRESENTATION);
  ROLES_MAP.put('progressbar', PROGRESSBAR);
  ROLES_MAP.put('radiogroup', RADIOGROUP);
  ROLES_MAP.put('row', ROW);
  ROLES_MAP.put('rowgroup', ROWGROUP);
  ROLES_MAP.put('rowheader', ROWHEADER);
  ROLES_MAP.put('search', SEARCH);
  ROLES_MAP.put('separator', SEPARATOR);
  ROLES_MAP.put('scrollbar', SCROLLBAR);
  ROLES_MAP.put('slider', SLIDER);
  ROLES_MAP.put('spinbutton', SPINBUTTON);
  ROLES_MAP.put('status', STATUS);
  ROLES_MAP.put('tab', TAB);
  ROLES_MAP.put('tablist', TABLIST);
  ROLES_MAP.put('tabpanel', TABPANEL);
  ROLES_MAP.put('textbox', TEXTBOX);
  ROLES_MAP.put('timer', TIMER);
  ROLES_MAP.put('toolbar', TOOLBAR);
  ROLES_MAP.put('tooltip', TOOLTIP);
  ROLES_MAP.put('tree', TREE);
  ROLES_MAP.put('treegrid', TREEGRID);
  ROLES_MAP.put('treeitem', TREEITEM);
}

var ALERT, ALERTDIALOG, APPLICATION, ARTICLE, BANNER, BUTTON, CHECKBOX, COLUMNHEADER, COMBOBOX, COMPLEMENTARY, CONTENTINFO, DEFINITION, DIALOG, DIRECTORY, DOCUMENT, FORM, GRID, GRIDCELL, GROUP, HEADING, IMG, LINK, LIST, LISTBOX, LISTITEM, LOG, MAIN, MARQUEE, MATH, MENU, MENUBAR, MENUITEM, MENUITEMCHECKBOX, MENUITEMRADIO, NAVIGATION, NOTE, OPTION, PRESENTATION, PROGRESSBAR, RADIO, RADIOGROUP, REGION, ROLES_MAP, ROW, ROWGROUP, ROWHEADER, SCROLLBAR, SEARCH, SEPARATOR, SLIDER, SPINBUTTON, STATUS, TAB, TABLIST, TABPANEL, TEXTBOX, TIMER, TOOLBAR, TOOLTIP, TREE, TREEGRID, TREEITEM;
function RowRoleImpl(){
  RoleImpl.call(this, 'row');
}

defineClass(1096, 35, {}, RowRoleImpl);
var Lcom_google_gwt_aria_client_RowRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'RowRoleImpl', 1096, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function RowgroupRoleImpl(){
  RoleImpl.call(this, 'rowgroup');
}

defineClass(1094, 35, {}, RowgroupRoleImpl);
var Lcom_google_gwt_aria_client_RowgroupRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'RowgroupRoleImpl', 1094, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function RowheaderRoleImpl(){
  RoleImpl.call(this, 'rowheader');
}

defineClass(1095, 35, {}, RowheaderRoleImpl);
var Lcom_google_gwt_aria_client_RowheaderRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'RowheaderRoleImpl', 1095, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ScrollbarRoleImpl(){
  RoleImpl.call(this, 'scrollbar');
}

defineClass(1097, 35, {}, ScrollbarRoleImpl);
var Lcom_google_gwt_aria_client_ScrollbarRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ScrollbarRoleImpl', 1097, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function SearchRoleImpl(){
  RoleImpl.call(this, 'search');
}

defineClass(1098, 35, {}, SearchRoleImpl);
var Lcom_google_gwt_aria_client_SearchRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'SearchRoleImpl', 1098, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function SeparatorRoleImpl(){
  RoleImpl.call(this, 'separator');
}

defineClass(1099, 35, {}, SeparatorRoleImpl);
var Lcom_google_gwt_aria_client_SeparatorRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'SeparatorRoleImpl', 1099, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function SliderRoleImpl(){
  RoleImpl.call(this, 'slider');
}

defineClass(1100, 35, {}, SliderRoleImpl);
var Lcom_google_gwt_aria_client_SliderRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'SliderRoleImpl', 1100, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function SpinbuttonRoleImpl(){
  RoleImpl.call(this, 'spinbutton');
}

defineClass(1101, 35, {}, SpinbuttonRoleImpl);
var Lcom_google_gwt_aria_client_SpinbuttonRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'SpinbuttonRoleImpl', 1101, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $clinit_State(){
  $clinit_State = emptyMethod;
  new PrimitiveValueAttribute('aria-busy');
  new AriaValueAttribute('aria-checked');
  new PrimitiveValueAttribute('aria-disabled');
  new AriaValueAttribute('aria-expanded');
  new AriaValueAttribute('aria-grabbed');
  new PrimitiveValueAttribute('aria-hidden');
  new AriaValueAttribute('aria-invalid');
  PRESSED = new AriaValueAttribute('aria-pressed');
  new AriaValueAttribute('aria-selected');
}

var PRESSED;
function StatusRoleImpl(){
  RoleImpl.call(this, 'status');
}

defineClass(1102, 35, {}, StatusRoleImpl);
var Lcom_google_gwt_aria_client_StatusRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'StatusRoleImpl', 1102, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TabRoleImpl(){
  RoleImpl.call(this, 'tab');
}

defineClass(1105, 35, {}, TabRoleImpl);
var Lcom_google_gwt_aria_client_TabRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TabRoleImpl', 1105, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TablistRoleImpl(){
  RoleImpl.call(this, 'tablist');
}

defineClass(1103, 35, {}, TablistRoleImpl);
var Lcom_google_gwt_aria_client_TablistRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TablistRoleImpl', 1103, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TabpanelRoleImpl(){
  RoleImpl.call(this, 'tabpanel');
}

defineClass(1104, 35, {}, TabpanelRoleImpl);
var Lcom_google_gwt_aria_client_TabpanelRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TabpanelRoleImpl', 1104, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TextboxRoleImpl(){
  RoleImpl.call(this, 'textbox');
}

defineClass(1106, 35, {}, TextboxRoleImpl);
var Lcom_google_gwt_aria_client_TextboxRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TextboxRoleImpl', 1106, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TimerRoleImpl(){
  RoleImpl.call(this, 'timer');
}

defineClass(1107, 35, {}, TimerRoleImpl);
var Lcom_google_gwt_aria_client_TimerRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TimerRoleImpl', 1107, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function ToolbarRoleImpl(){
  RoleImpl.call(this, 'toolbar');
}

defineClass(1108, 35, {}, ToolbarRoleImpl);
var Lcom_google_gwt_aria_client_ToolbarRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'ToolbarRoleImpl', 1108, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TooltipRoleImpl(){
  RoleImpl.call(this, 'tooltip');
}

defineClass(1109, 35, {}, TooltipRoleImpl);
var Lcom_google_gwt_aria_client_TooltipRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TooltipRoleImpl', 1109, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TreeRoleImpl(){
  RoleImpl.call(this, 'tree');
}

defineClass(1112, 35, {}, TreeRoleImpl);
var Lcom_google_gwt_aria_client_TreeRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TreeRoleImpl', 1112, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TreegridRoleImpl(){
  RoleImpl.call(this, 'treegrid');
}

defineClass(1110, 35, {}, TreegridRoleImpl);
var Lcom_google_gwt_aria_client_TreegridRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TreegridRoleImpl', 1110, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function TreeitemRoleImpl(){
  RoleImpl.call(this, 'treeitem');
}

defineClass(1111, 35, {}, TreeitemRoleImpl);
var Lcom_google_gwt_aria_client_TreeitemRoleImpl_2_classLit = createForClass('com.google.gwt.aria.client', 'TreeitemRoleImpl', 1111, Lcom_google_gwt_aria_client_RoleImpl_2_classLit);
function $getCanvasElement(this$static){
  return $clinit_DOM() , this$static.element;
}

function $getContext2d(this$static){
  return ($clinit_DOM() , this$static.element).getContext('2d');
}

function $getCoordinateSpaceHeight(this$static){
  return ($clinit_DOM() , this$static.element).height;
}

function $getCoordinateSpaceWidth(this$static){
  return ($clinit_DOM() , this$static.element).width;
}

function $setCoordinateSpaceHeight(this$static, height){
  $setHeight_1(($clinit_DOM() , this$static.element), height);
}

function $setCoordinateSpaceWidth(this$static, width_0){
  $setWidth_2(($clinit_DOM() , this$static.element), width_0);
}

function Canvas_0(element){
  $setElement_0(this, ($clinit_DOM() , element));
}

function createIfSupported(){
  $clinit_FocusWidget();
  var element;
  !detector && (detector = new Canvas$CanvasElementSupportDetectedMaybe);
  element = $doc.createElement('canvas');
  if (!element.getContext) {
    return null;
  }
  return new Canvas_0(element);
}

defineClass(856, 334, $intern_41, Canvas_0);
var detector;
var Lcom_google_gwt_canvas_client_Canvas_2_classLit = createForClass('com.google.gwt.canvas.client', 'Canvas', 856, Lcom_google_gwt_user_client_ui_FocusWidget_2_classLit);
defineClass(1494, 1, {});
var Lcom_google_gwt_canvas_client_Canvas$CanvasElementSupportDetector_2_classLit = createForClass('com.google.gwt.canvas.client', 'Canvas/CanvasElementSupportDetector', 1494, Ljava_lang_Object_2_classLit);
function Canvas$CanvasElementSupportDetectedMaybe(){
}

defineClass(857, 1494, {}, Canvas$CanvasElementSupportDetectedMaybe);
var Lcom_google_gwt_canvas_client_Canvas$CanvasElementSupportDetectedMaybe_2_classLit = createForClass('com.google.gwt.canvas.client', 'Canvas/CanvasElementSupportDetectedMaybe', 857, Lcom_google_gwt_canvas_client_Canvas$CanvasElementSupportDetector_2_classLit);
function $arc(this$static, x_0, y_0, radius, startAngle, endAngle, anticlockwise){
  this$static.arc(x_0, y_0, radius, startAngle, endAngle, anticlockwise);
}

function $beginPath(this$static){
  this$static.beginPath();
}

function $clearRect(this$static, x_0, y_0, w, h){
  this$static.clearRect(x_0, y_0, w, h);
}

function $drawImage(this$static, image, dx, dy){
  this$static.drawImage(image, dx, dy);
}

function $drawImage_0(this$static, image, dx, dy, dw, dh){
  this$static.drawImage(image, dx, dy, dw, dh);
}

function $fill(this$static){
  this$static.fill();
}

function $fillRect(this$static, x_0, y_0, w, h){
  this$static.fillRect(x_0, y_0, w, h);
}

function $lineTo(this$static, x_0, y_0){
  this$static.lineTo(x_0, y_0);
}

function $moveTo(this$static, x_0, y_0){
  this$static.moveTo(x_0, y_0);
}

function $restore(this$static){
  this$static.restore();
}

function $save(this$static){
  this$static.save();
}

function $scale(this$static, x_0, y_0){
  this$static.scale(x_0, y_0);
}

function $setFillStyleWeb(this$static, fillStyle){
  this$static.fillStyle = fillStyle;
}

function $setGlobalAlpha(this$static, alpha_0){
  this$static.globalAlpha = alpha_0;
}

function $setLineWidth(this$static, lineWidth){
  this$static.lineWidth = lineWidth;
}

function $setStrokeStyleWeb(this$static, strokeStyle){
  this$static.strokeStyle = strokeStyle;
}

function $stroke(this$static){
  this$static.stroke();
}

function $elapsedMillis(this$static){
  return now_1() - this$static.start_0;
}

function Duration_0(){
  this.start_0 = now_1();
}

defineClass(388, 1, {}, Duration_0);
_.start_0 = 0;
var Lcom_google_gwt_core_client_Duration_2_classLit = createForClass('com.google.gwt.core.client', 'Duration', 388, Ljava_lang_Object_2_classLit);
function isScript(){
  return true;
}

function setUncaughtExceptionHandler(handler){
  uncaughtExceptionHandler = handler;
}

var uncaughtExceptionHandler = null;
function RuntimeException(){
  Exception.call(this);
}

function RuntimeException_0(message){
  Exception_0.call(this, message);
}

function RuntimeException_1(message, cause){
  Throwable.call(this, message, cause);
}

defineClass(52, 37, $intern_7, RuntimeException_0, RuntimeException_1);
var Ljava_lang_RuntimeException_2_classLit = createForClass('java.lang', 'RuntimeException', 52, Ljava_lang_Exception_2_classLit);
defineClass(575, 52, $intern_7);
var Lcom_google_gwt_core_client_impl_JavaScriptExceptionBase_2_classLit = createForClass('com.google.gwt.core.client.impl', 'JavaScriptExceptionBase', 575, Ljava_lang_RuntimeException_2_classLit);
function $clinit_JavaScriptException(){
  $clinit_JavaScriptException = emptyMethod;
  NOT_SET = new Object_0;
}

function $ensureInit(this$static){
  var exception;
  if (this$static.message_0 == null) {
    exception = maskUndefined(this$static.e) === maskUndefined(NOT_SET)?null:this$static.e;
    this$static.name_0 = exception == null?'null':instanceOfJso(exception)?getExceptionName0(dynamicCastJso(exception)):isJavaString(exception)?'String':$getName(getClass__Ljava_lang_Class___devirtual$(exception));
    this$static.description_0 = this$static.description_0 + ': ' + (instanceOfJso(exception)?getExceptionDescription0(dynamicCastJso(exception)):exception + '');
    this$static.message_0 = '(' + this$static.name_0 + ') ' + this$static.description_0;
  }
}

function JavaScriptException(e){
  $clinit_JavaScriptException();
  this.cause = null;
  this.detailMessage = null;
  this.description_0 = '';
  this.e = e;
  this.description_0 = '';
}

function getExceptionDescription0(e){
  return e == null?null:e.message;
}

function getExceptionName0(e){
  return e == null?null:e.name;
}

defineClass(167, 575, {167:1, 3:1, 37:1, 40:1}, JavaScriptException);
_.getMessage = function getMessage_0(){
  return $ensureInit(this) , this.message_0;
}
;
_.getThrown = function getThrown(){
  return maskUndefined(this.e) === maskUndefined(NOT_SET)?null:this.e;
}
;
var NOT_SET;
var Lcom_google_gwt_core_client_JavaScriptException_2_classLit = createForClass('com.google.gwt.core.client', 'JavaScriptException', 167, Lcom_google_gwt_core_client_impl_JavaScriptExceptionBase_2_classLit);
function $push(this$static, value_0){
  this$static[this$static.length] = value_0;
}

function $setLength(this$static, newLength){
  this$static.length = newLength;
}

function create_0(milliseconds){
  return new Date(milliseconds);
}

function now_1(){
  if (Date.now) {
    return Date.now();
  }
  return (new Date).getTime();
}

defineClass(1466, 1, {});
var Lcom_google_gwt_core_client_Scheduler_2_classLit = createForClass('com.google.gwt.core.client', 'Scheduler', 1466, Ljava_lang_Object_2_classLit);
function apply_12(jsFunction, thisObj, args){
  return jsFunction.apply(thisObj, args);
  var __0;
}

function enter(){
  var now_0;
  if (entryDepth != 0) {
    now_0 = now_1();
    if (now_0 - watchdogEntryDepthLastScheduled > 2000) {
      watchdogEntryDepthLastScheduled = now_0;
      watchdogEntryDepthTimerId = $wnd.setTimeout(watchdogEntryDepthRun, 10);
    }
  }
  if (entryDepth++ == 0) {
    $flushEntryCommands(($clinit_SchedulerImpl() , INSTANCE_2));
    return true;
  }
  return false;
}

function entry_0(jsFunction){
  return function(){
    if (isScript()) {
      return entry0(jsFunction, this, arguments);
    }
     else {
      var __0 = entry0(jsFunction, this, arguments);
      __0 != null && (__0 = __0.val);
      return __0;
    }
  }
  ;
}

function entry0(jsFunction, thisObj, args){
  var initialEntry, t;
  initialEntry = enter();
  try {
    if (uncaughtExceptionHandler) {
      try {
        return apply_12(jsFunction, thisObj, args);
      }
       catch ($e0) {
        $e0 = wrap($e0);
        if (instanceOf($e0, 40)) {
          t = $e0;
          reportUncaughtException(t);
          return undefined;
        }
         else 
          throw unwrap($e0);
      }
    }
     else {
      return apply_12(jsFunction, thisObj, args);
    }
  }
   finally {
    exit(initialEntry);
  }
}

function exit(initialEntry){
  initialEntry && $flushFinallyCommands(($clinit_SchedulerImpl() , INSTANCE_2));
  --entryDepth;
  if (initialEntry) {
    if (watchdogEntryDepthTimerId != -1) {
      watchdogEntryDepthCancel(watchdogEntryDepthTimerId);
      watchdogEntryDepthTimerId = -1;
    }
  }
}

function getHashCode(o){
  return o.$H || (o.$H = ++sNextHashId);
}

function getHostPageBaseURL(){
  var s = $doc.location.href;
  var i = s.indexOf('#');
  i != -1 && (s = s.substring(0, i));
  i = s.indexOf('?');
  i != -1 && (s = s.substring(0, i));
  i = s.lastIndexOf('/');
  i != -1 && (s = s.substring(0, i));
  return s.length > 0?s + '/':'';
}

function reportToBrowser(e){
  $wnd.setTimeout(function(){
    throw e;
  }
  , 0);
}

function reportUncaughtException(e){
  var handler;
  handler = uncaughtExceptionHandler;
  if (handler) {
    if (handler == uncaughtExceptionHandlerForTest) {
      return;
    }
    $log_3(handler.val$log2, ($clinit_Level() , SEVERE), e.getMessage(), e);
    return;
  }
  reportToBrowser(instanceOf(e, 167)?dynamicCast(e, 167).getThrown():e);
}

function watchdogEntryDepthCancel(timerId){
  $wnd.clearTimeout(timerId);
}

function watchdogEntryDepthRun(){
  entryDepth != 0 && (entryDepth = 0);
  watchdogEntryDepthTimerId = -1;
}

var entryDepth = 0, sNextHashId = 0, uncaughtExceptionHandlerForTest, watchdogEntryDepthLastScheduled = 0, watchdogEntryDepthTimerId = -1;
function $clinit_SchedulerImpl(){
  $clinit_SchedulerImpl = emptyMethod;
  INSTANCE_2 = new SchedulerImpl;
}

function $flushEntryCommands(this$static){
  var oldQueue, rescheduled;
  if (this$static.entryCommands) {
    rescheduled = null;
    do {
      oldQueue = this$static.entryCommands;
      this$static.entryCommands = null;
      rescheduled = runScheduledTasks(oldQueue, rescheduled);
    }
     while (this$static.entryCommands);
    this$static.entryCommands = rescheduled;
  }
}

function $flushFinallyCommands(this$static){
  var oldQueue, rescheduled;
  if (this$static.finallyCommands) {
    rescheduled = null;
    do {
      oldQueue = this$static.finallyCommands;
      this$static.finallyCommands = null;
      rescheduled = runScheduledTasks(oldQueue, rescheduled);
    }
     while (this$static.finallyCommands);
    this$static.finallyCommands = rescheduled;
  }
}

function $flushPostEventPumpCommands(this$static){
  var oldDeferred;
  if (this$static.deferredCommands) {
    oldDeferred = this$static.deferredCommands;
    this$static.deferredCommands = null;
    !this$static.incrementalCommands && (this$static.incrementalCommands = []);
    runScheduledTasks(oldDeferred, this$static.incrementalCommands);
  }
  !!this$static.incrementalCommands && (this$static.incrementalCommands = $runRepeatingTasks(this$static.incrementalCommands));
}

function $isWorkQueued(this$static){
  return !!this$static.deferredCommands || !!this$static.incrementalCommands;
}

function $maybeSchedulePostEventPumpCommands(this$static){
  if (!this$static.shouldBeRunning) {
    this$static.shouldBeRunning = true;
    !this$static.flusher && (this$static.flusher = new SchedulerImpl$Flusher(this$static));
    scheduleFixedDelayImpl(this$static.flusher, 1);
    !this$static.rescue && (this$static.rescue = new SchedulerImpl$Rescuer(this$static));
    scheduleFixedDelayImpl(this$static.rescue, 50);
  }
}

function $runRepeatingTasks(tasks){
  var canceledSomeTasks, duration, executedSomeTask, i, length_0, newTasks, t;
  length_0 = tasks.length;
  if (length_0 == 0) {
    return null;
  }
  canceledSomeTasks = false;
  duration = new Duration_0;
  while (now_1() - duration.start_0 < 16) {
    executedSomeTask = false;
    for (i = 0; i < length_0; i++) {
      t = tasks[i];
      if (!t) {
        continue;
      }
      executedSomeTask = true;
      if (!t[0].execute_0()) {
        tasks[i] = null;
        canceledSomeTasks = true;
      }
    }
    if (!executedSomeTask) {
      break;
    }
  }
  if (canceledSomeTasks) {
    newTasks = [];
    for (i = 0; i < length_0; i++) {
      !!tasks[i] && $push(newTasks, tasks[i]);
    }
    return newTasks.length == 0?null:newTasks;
  }
   else {
    return tasks;
  }
}

function $scheduleDeferred(this$static, cmd){
  this$static.deferredCommands = push_0(this$static.deferredCommands, [cmd, false]);
  $maybeSchedulePostEventPumpCommands(this$static);
}

function $scheduleFinally(this$static, cmd){
  this$static.finallyCommands = push_0(this$static.finallyCommands, [cmd, false]);
}

function $scheduleIncremental(this$static, cmd){
  this$static.deferredCommands = push_0(this$static.deferredCommands, [cmd, true]);
  $maybeSchedulePostEventPumpCommands(this$static);
}

function SchedulerImpl(){
}

function execute_11(cmd){
  return cmd.execute_0();
}

function push_0(queue, task){
  !queue && (queue = []);
  $push(queue, task);
  return queue;
}

function runScheduledTasks(tasks, rescheduled){
  var e, i, j, t;
  for (i = 0 , j = tasks.length; i < j; i++) {
    t = tasks[i];
    try {
      t[1]?t[0].execute_0() && (rescheduled = push_0(rescheduled, t)):t[0].execute();
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 40)) {
        e = $e0;
        reportUncaughtException(e);
      }
       else 
        throw unwrap($e0);
    }
  }
  return rescheduled;
}

function scheduleFixedDelayImpl(cmd, delayMs){
  $clinit_SchedulerImpl();
  function callback(){
    var ret = $entry(execute_11)(cmd);
    !isScript() && (ret = ret == true);
    ret && $wnd.setTimeout(callback, delayMs);
  }

  $wnd.setTimeout(callback, delayMs);
}

defineClass(908, 1466, {}, SchedulerImpl);
_.flushRunning = false;
_.shouldBeRunning = false;
var INSTANCE_2;
var Lcom_google_gwt_core_client_impl_SchedulerImpl_2_classLit = createForClass('com.google.gwt.core.client.impl', 'SchedulerImpl', 908, Lcom_google_gwt_core_client_Scheduler_2_classLit);
function SchedulerImpl$Flusher(this$0){
  this.this$01 = this$0;
}

defineClass(909, 1, {}, SchedulerImpl$Flusher);
_.execute_0 = function execute_12(){
  this.this$01.flushRunning = true;
  $flushPostEventPumpCommands(this.this$01);
  this.this$01.flushRunning = false;
  return this.this$01.shouldBeRunning = $isWorkQueued(this.this$01);
}
;
var Lcom_google_gwt_core_client_impl_SchedulerImpl$Flusher_2_classLit = createForClass('com.google.gwt.core.client.impl', 'SchedulerImpl/Flusher', 909, Ljava_lang_Object_2_classLit);
function SchedulerImpl$Rescuer(this$0){
  this.this$01 = this$0;
}

defineClass(910, 1, {}, SchedulerImpl$Rescuer);
_.execute_0 = function execute_13(){
  this.this$01.flushRunning && scheduleFixedDelayImpl(this.this$01.flusher, 1);
  return this.this$01.shouldBeRunning;
}
;
var Lcom_google_gwt_core_client_impl_SchedulerImpl$Rescuer_2_classLit = createForClass('com.google.gwt.core.client.impl', 'SchedulerImpl/Rescuer', 910, Ljava_lang_Object_2_classLit);
function $clinit_StackTraceCreator(){
  $clinit_StackTraceCreator = emptyMethod;
  var c, enforceLegacy;
  enforceLegacy = !(!!Error.stackTraceLimit || 'stack' in new Error);
  c = new StackTraceCreator$CollectorModernNoSourceMap;
  collector = enforceLegacy?new StackTraceCreator$CollectorLegacy:c;
}

function captureStackTrace(throwable, reference){
  $clinit_StackTraceCreator();
  collector.collect(throwable, reference);
}

function dropInternalFrames(stackTrace){
  var dropFrameUntilFnName, i, numberOfFrameToSearch;
  dropFrameUntilFnName = 'captureStackTrace';
  numberOfFrameToSearch = min_1(stackTrace.length, 5);
  for (i = 0; i < numberOfFrameToSearch; i++) {
    if ($equals_5(stackTrace[i].methodName, dropFrameUntilFnName)) {
      return dynamicCast((stackTrace.length >= i + 1 && stackTrace.splice(0, i + 1) , stackTrace), 1449);
    }
  }
  return stackTrace;
}

function extractFunctionName(fnName){
  var fnRE = /function(?:\s+([\w$]+))?\s*\(/;
  var match_0 = fnRE.exec(fnName);
  return match_0 && match_0[1] || 'anonymous';
}

function parseInt_1(number){
  $clinit_StackTraceCreator();
  return parseInt(number) || -1;
}

var collector;
defineClass(1479, 1, {});
var Lcom_google_gwt_core_client_impl_StackTraceCreator$Collector_2_classLit = createForClass('com.google.gwt.core.client.impl', 'StackTraceCreator/Collector', 1479, Ljava_lang_Object_2_classLit);
function StackTraceCreator$CollectorLegacy(){
}

defineClass(576, 1479, {}, StackTraceCreator$CollectorLegacy);
_.collect = function collect(t, thrownIgnored){
  var seen = {}, name_1;
  t.fnStack = [];
  var callee = arguments.callee.caller;
  while (callee) {
    var name_0 = ($clinit_StackTraceCreator() , callee.name || (callee.name = extractFunctionName(callee.toString())));
    t.fnStack.push(name_0);
    var keyName = ':' + name_0;
    var withThisName = seen[keyName];
    if (withThisName) {
      var i, j;
      for (i = 0 , j = withThisName.length; i < j; i++) {
        if (withThisName[i] === callee) {
          return;
        }
      }
    }
    (withThisName || (seen[keyName] = [])).push(callee);
    callee = callee.caller;
  }
}
;
_.getStackTrace = function getStackTrace(t){
  var i, length_0, stack_0, stackTrace;
  stack_0 = ($clinit_StackTraceCreator() , t && t.fnStack && t.fnStack instanceof Array?t.fnStack:[]);
  length_0 = stack_0.length;
  stackTrace = initDim(Ljava_lang_StackTraceElement_2_classLit, $intern_74, 209, length_0, 0, 1);
  for (i = 0; i < length_0; i++) {
    stackTrace[i] = new StackTraceElement(stack_0[i], null, -1);
  }
  return stackTrace;
}
;
var Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorLegacy_2_classLit = createForClass('com.google.gwt.core.client.impl', 'StackTraceCreator/CollectorLegacy', 576, Lcom_google_gwt_core_client_impl_StackTraceCreator$Collector_2_classLit);
function $clinit_StackTraceCreator$CollectorModern(){
  $clinit_StackTraceCreator$CollectorModern = emptyMethod;
  Error.stackTraceLimit = 64;
}

function $parse(this$static, stString){
  var closeParen, col, endFileUrlIndex, fileName, index_0, lastColonIndex, line, location_0, toReturn;
  if (!stString.length) {
    return this$static.createSte('Unknown', 'anonymous', -1, -1);
  }
  toReturn = $trim(stString);
  $equals_5(toReturn.substr(0, 3), 'at ') && (toReturn = __substr(toReturn, 3, toReturn.length - 3));
  toReturn = toReturn.replace(/\[.*?\]/g, '');
  index_0 = toReturn.indexOf('(');
  if (index_0 == -1) {
    index_0 = toReturn.indexOf('@');
    if (index_0 == -1) {
      location_0 = toReturn;
      toReturn = '';
    }
     else {
      location_0 = $trim(__substr(toReturn, index_0 + 1, toReturn.length - (index_0 + 1)));
      toReturn = $trim(toReturn.substr(0, index_0));
    }
  }
   else {
    closeParen = toReturn.indexOf(')', index_0);
    location_0 = toReturn.substr(index_0 + 1, closeParen - (index_0 + 1));
    toReturn = $trim(toReturn.substr(0, index_0));
  }
  index_0 = $indexOf_2(toReturn, fromCodePoint(46));
  index_0 != -1 && (toReturn = __substr(toReturn, index_0 + 1, toReturn.length - (index_0 + 1)));
  (!toReturn.length || $equals_5(toReturn, 'Anonymous function')) && (toReturn = 'anonymous');
  lastColonIndex = $lastIndexOf(location_0, fromCodePoint(58));
  endFileUrlIndex = $lastIndexOf_0(location_0, fromCodePoint(58), lastColonIndex - 1);
  line = -1;
  col = -1;
  fileName = 'Unknown';
  if (lastColonIndex != -1 && endFileUrlIndex != -1) {
    fileName = location_0.substr(0, endFileUrlIndex);
    line = parseInt_1(location_0.substr(endFileUrlIndex + 1, lastColonIndex - (endFileUrlIndex + 1)));
    col = parseInt_1(__substr(location_0, lastColonIndex + 1, location_0.length - (lastColonIndex + 1)));
  }
  return this$static.createSte(fileName, toReturn, line, col);
}

defineClass(1480, 1479, {});
_.collect = function collect_0(t, jsThrown){
  function fixIE(e){
    if (!('stack' in e)) {
      try {
        throw e;
      }
       catch (ignored) {
      }
    }
    return e;
  }

  var backingJsError;
  typeof jsThrown == 'string'?(backingJsError = fixIE(new Error(jsThrown))):jsThrown instanceof Object && 'stack' in jsThrown?(backingJsError = jsThrown):(backingJsError = fixIE(new Error));
  t.__gwt$backingJsError = backingJsError;
}
;
_.createSte = function createSte(fileName, method, line, col){
  return new StackTraceElement(method, fileName + '@' + col, line < 0?-1:line);
}
;
_.getStackTrace = function getStackTrace_0(t){
  var addIndex, i, length_0, stack_0, stackTrace, ste, e;
  stack_0 = ($clinit_StackTraceCreator() , e = t.__gwt$backingJsError , e && e.stack?e.stack.split('\n'):[]);
  stackTrace = initDim(Ljava_lang_StackTraceElement_2_classLit, $intern_74, 209, 0, 0, 1);
  addIndex = 0;
  length_0 = stack_0.length;
  if (length_0 == 0) {
    return stackTrace;
  }
  ste = $parse(this, stack_0[0]);
  $equals_5(ste.methodName, 'anonymous') || (stackTrace[addIndex++] = ste);
  for (i = 1; i < length_0; i++) {
    stackTrace[addIndex++] = $parse(this, stack_0[i]);
  }
  return stackTrace;
}
;
var Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorModern_2_classLit = createForClass('com.google.gwt.core.client.impl', 'StackTraceCreator/CollectorModern', 1480, Lcom_google_gwt_core_client_impl_StackTraceCreator$Collector_2_classLit);
function StackTraceCreator$CollectorModernNoSourceMap(){
  $clinit_StackTraceCreator$CollectorModern();
}

defineClass(577, 1480, {}, StackTraceCreator$CollectorModernNoSourceMap);
_.createSte = function createSte_0(fileName, method, line, col){
  return new StackTraceElement(method, fileName, -1);
}
;
var Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorModernNoSourceMap_2_classLit = createForClass('com.google.gwt.core.client.impl', 'StackTraceCreator/CollectorModernNoSourceMap', 577, Lcom_google_gwt_core_client_impl_StackTraceCreator$CollectorModern_2_classLit);
function checkArrayType(expression, errorMessage){
  if (!expression) {
    throw new ArrayStoreException_0('' + errorMessage);
  }
}

function checkCriticalArgument(expression){
  if (!expression) {
    throw new IllegalArgumentException;
  }
}

function checkCriticalArgument_0(expression, errorMessage){
  if (!expression) {
    throw new IllegalArgumentException_0('' + errorMessage);
  }
}

function checkCriticalArgument_1(expression, errorMessageTemplate, errorMessageArgs){
  if (!expression) {
    throw new IllegalArgumentException_0(format_0(errorMessageTemplate, errorMessageArgs));
  }
}

function checkCriticalElement(expression){
  if (!expression) {
    throw new NoSuchElementException;
  }
}

function checkCriticalPositionIndexes(start_0, end, size_0){
  if (start_0 < 0) {
    throw new IndexOutOfBoundsException_0('fromIndex: ' + start_0 + ' < 0');
  }
  if (end > size_0) {
    throw new IndexOutOfBoundsException_0('toIndex: ' + end + ' > size ' + size_0);
  }
  if (start_0 > end) {
    throw new IllegalArgumentException_0('fromIndex: ' + start_0 + ' > toIndex: ' + end);
  }
}

function checkElementIndex(index_0, size_0){
  if (index_0 < 0 || index_0 >= size_0) {
    throw new IndexOutOfBoundsException_0('Index: ' + index_0 + ', Size: ' + size_0);
  }
}

function checkNotNull_1(reference){
  if (reference == null) {
    throw new NullPointerException;
  }
  return reference;
}

function checkNotNull_2(reference, errorMessage){
  if (reference == null) {
    throw new NullPointerException_0('' + errorMessage);
  }
}

function checkPositionIndex_0(index_0, size_0){
  if (index_0 < 0 || index_0 > size_0) {
    throw new IndexOutOfBoundsException_0('Index: ' + index_0 + ', Size: ' + size_0);
  }
}

function checkState_1(expression){
  if (!expression) {
    throw new IllegalStateException;
  }
}

function checkState_2(expression){
  if (!expression) {
    throw new IllegalStateException_0("Can't overwrite cause");
  }
}

function format_0(template, args){
  var builder, i, placeholderStart, templateStart;
  template = '' + template;
  builder = new StringBuilder_0(template.length + 16 * args.length);
  templateStart = 0;
  i = 0;
  while (i < args.length) {
    placeholderStart = template.indexOf('%s', templateStart);
    if (placeholderStart == -1) {
      break;
    }
    $append_6(builder, template.substr(templateStart, placeholderStart - templateStart));
    $append_5(builder, args[i++]);
    templateStart = placeholderStart + 2;
  }
  $append_6(builder, __substr(template, templateStart, template.length - templateStart));
  if (i < args.length) {
    builder.string += ' [';
    $append_5(builder, args[i++]);
    while (i < args.length) {
      builder.string += ', ';
      $append_5(builder, args[i++]);
    }
    builder.string += ']';
  }
  return builder.string;
}

function $appendChild(this$static, newChild){
  return this$static.appendChild(newChild);
}

function $getFirstChild(this$static){
  return this$static.firstChild;
}

function $insertBefore(this$static, newChild, refChild){
  return this$static.insertBefore(newChild, refChild);
}

function $removeAllChildren(this$static){
  while (this$static.lastChild) {
    this$static.removeChild(this$static.lastChild);
  }
}

function $removeChild(this$static, oldChild){
  return this$static.removeChild(oldChild);
}

function $replaceChild(this$static, newChild, oldChild){
  return this$static.replaceChild(newChild, oldChild);
}

function is_0(o){
  try {
    return !!o && !!o.nodeType;
  }
   catch (e) {
    return false;
  }
}

function $addClassName(this$static, className){
  var idx, oldClassName;
  className = trimClassName(className);
  oldClassName = $getClassName(this$static);
  idx = indexOfName(oldClassName, className);
  if (idx == -1) {
    oldClassName.length > 0?$setClassName(this$static, oldClassName + ' ' + className):$setClassName(this$static, className);
    return true;
  }
  return false;
}

function $getClassName(this$static){
  return this$static.className || '';
}

function $getPropertyInt(this$static, name_0){
  return parseInt(this$static[name_0]) | 0;
}

function $getPropertyString(this$static, name_0){
  return this$static[name_0] == null?null:String(this$static[name_0]);
}

function $getSubPixelOffsetHeight(this$static){
  return this$static.offsetHeight || 0;
}

function $getSubPixelScrollTop(this$static){
  return this$static.scrollTop || 0;
}

function $getSubPixelScrollWidth(this$static){
  return this$static.scrollWidth || 0;
}

function $removeAttribute(this$static, name_0){
  this$static.removeAttribute(name_0);
}

function $removeClassName(this$static, className){
  var begin, end, idx, newClassName, oldStyle;
  className = trimClassName(className);
  oldStyle = $getClassName(this$static);
  idx = indexOfName(oldStyle, className);
  if (idx != -1) {
    begin = $trim(oldStyle.substr(0, idx));
    end = $trim($substring(oldStyle, idx + className.length));
    begin.length == 0?(newClassName = end):end.length == 0?(newClassName = begin):(newClassName = begin + ' ' + end);
    $setClassName(this$static, newClassName);
    return true;
  }
  return false;
}

function $setAttribute(this$static, name_0, value_0){
  this$static.setAttribute(name_0, value_0);
}

function $setClassName(this$static, className){
  this$static.className = className || '';
}

function $setDir(this$static, dir_0){
  this$static.dir = dir_0;
}

function $setId(this$static, id_0){
  this$static.id = id_0;
}

function $setInnerHTML(this$static, html){
  this$static.innerHTML = html || '';
}

function $setPropertyInt(this$static, name_0, value_0){
  this$static[name_0] = value_0;
}

function $setPropertyString(this$static, name_0, value_0){
  this$static[name_0] = value_0;
}

function $setScrollTop(this$static, scrollTop){
  this$static.scrollTop = scrollTop;
}

function $setTabIndex(this$static, tabIndex){
  this$static.tabIndex = tabIndex;
}

function indexOfName(nameList, name_0){
  var idx, last, lastPos;
  idx = nameList.indexOf(name_0);
  while (idx != -1) {
    if (idx == 0 || nameList.charCodeAt(idx - 1) == 32) {
      last = idx + name_0.length;
      lastPos = nameList.length;
      if (last == lastPos || last < lastPos && nameList.charCodeAt(last) == 32) {
        break;
      }
    }
    idx = nameList.indexOf(name_0, idx + 1);
  }
  return idx;
}

function is_1(o){
  if (is_0(o)) {
    return !!o && o.nodeType == 1;
  }
  return false;
}

function trimClassName(className){
  className = $trim(className);
  return className;
}

function $setHref(this$static, href_0){
  this$static.href = href_0;
}

function $canPlayType(this$static, type_0){
  var canPlayType = this$static.canPlayType(type_0);
  return canPlayType == 'no'?'':canPlayType;
}

function $pause(this$static){
  this$static.pause();
}

function $setBooleanAttr(this$static, value_0){
  value_0?$setAttribute(this$static, 'loop', ''):$removeAttribute(this$static, 'loop');
}

function $setSrc(this$static, url_0){
  this$static.src = url_0;
}

function $setVolume_1(this$static, volume){
  this$static.volume = volume;
}

function $setHeight_1(this$static, height){
  this$static.height = height;
}

function $setWidth_2(this$static, width_0){
  this$static.width = width_0;
}

function $createInputElement(doc, type_0){
  var e = doc.createElement('INPUT');
  e.type = type_0;
  return e;
}

function $cssSetOpacity(style, value_0){
  style.opacity = value_0;
}

function $eventGetAltKey(evt){
  return !!evt.altKey;
}

function $eventGetCtrlKey(evt){
  return !!evt.ctrlKey;
}

function $eventGetKeyCode(evt){
  return evt.keyCode | 0;
}

function $eventGetMetaKey(evt){
  return !!evt.metaKey;
}

function $eventGetShiftKey(evt){
  return !!evt.shiftKey;
}

function $eventGetSubPixelClientX(evt){
  return evt.clientX || 0;
}

function $eventGetSubPixelClientY(evt){
  return evt.clientY || 0;
}

function $eventGetSubPixelScreenX(evt){
  return evt.screenX || 0;
}

function $eventGetSubPixelScreenY(evt){
  return evt.screenY || 0;
}

function $eventStopPropagation(evt){
  evt.stopPropagation();
}

function $getAttribute(elem, name_0){
  return elem.getAttribute(name_0) || '';
}

function $getFirstChildElement(elem){
  var child = elem.firstChild;
  while (child && child.nodeType != 1)
    child = child.nextSibling;
  return child;
}

function $getNextSiblingElement(elem){
  var sib = elem.nextSibling;
  while (sib && sib.nodeType != 1)
    sib = sib.nextSibling;
  return sib;
}

function $getParentElement(node){
  var parent_0 = node.parentNode;
  (!parent_0 || parent_0.nodeType != 1) && (parent_0 = null);
  return parent_0;
}

function $getSubPixelScrollLeft(elem){
  return elem.scrollLeft || 0;
}

function $scrollIntoView(elem){
  var left = elem.offsetLeft, top_0 = elem.offsetTop;
  var width_0 = elem.offsetWidth, height = elem.offsetHeight;
  if (elem.parentNode != elem.offsetParent) {
    left -= elem.parentNode.offsetLeft;
    top_0 -= elem.parentNode.offsetTop;
  }
  var cur = elem.parentNode;
  while (cur && cur.nodeType == 1) {
    left < cur.scrollLeft && (cur.scrollLeft = left);
    left + width_0 > cur.scrollLeft + cur.clientWidth && (cur.scrollLeft = left + width_0 - cur.clientWidth);
    top_0 < cur.scrollTop && (cur.scrollTop = top_0);
    top_0 + height > cur.scrollTop + cur.clientHeight && (cur.scrollTop = top_0 + height - cur.clientHeight);
    var offsetLeft = cur.offsetLeft, offsetTop = cur.offsetTop;
    if (cur.parentNode != cur.offsetParent) {
      offsetLeft -= cur.parentNode.offsetLeft;
      offsetTop -= cur.parentNode.offsetTop;
    }
    left += offsetLeft - cur.scrollLeft;
    top_0 += offsetTop - cur.scrollTop;
    cur = cur.parentNode;
  }
}

function $selectAdd(select, option, before){
  select.add(option, before);
}

function $touchGetSubPixelClientX(touch){
  return touch.clientX || 0;
}

function $touchGetSubPixelClientY(touch){
  return touch.clientY || 0;
}

function $touchGetSubPixelPageX(touch){
  return touch.pageX || 0;
}

function $touchGetSubPixelPageY(touch){
  return touch.pageY || 0;
}

function $createInputRadioElement(doc, name_0){
  var elem = doc.createElement('INPUT');
  elem.type = 'radio';
  elem.name = name_0;
  elem.value = 'on';
  return elem;
}

function $createMouseEvent(doc, type_0, canBubble, cancelable, detail, screenX_0, screenY_0, clientX, clientY, ctrlKey, altKey, shiftKey, metaKey, button, relatedTarget){
  button == 1?(button = 0):button == 4?(button = 1):(button = 2);
  var evt = doc.createEvent('MouseEvents');
  evt.initMouseEvent(type_0, canBubble, cancelable, null, detail, screenX_0, screenY_0, clientX, clientY, ctrlKey, altKey, shiftKey, metaKey, button, relatedTarget);
  return evt;
}

function $dispatchEvent(target, evt){
  target.dispatchEvent(evt);
}

function $eventGetButton(evt){
  var button = evt.button;
  if (button == 1) {
    return 4;
  }
   else if (button == 2) {
    return 2;
  }
  return 1;
}

function $eventGetCharCode(evt){
  return evt.charCode || 0;
}

function $eventPreventDefault(evt){
  evt.preventDefault();
}

function $isOrHasChild(parent_0, child){
  return parent_0.contains(child);
}

function $setInnerText(elem, text_0){
  elem.textContent = text_0 || '';
}

function $eventGetCurrentTarget(event_0){
  return event_0.currentTarget || $wnd;
}

function $getAbsoluteLeft_0(elem){
  var left, rect;
  rect = getBoundingClientRect(elem);
  left = rect?rect.left + $getScrollLeft_0(elem.ownerDocument.body):getAbsoluteLeftUsingOffsets(elem);
  return left | 0;
}

function $getAbsoluteTop_0(elem){
  var rect, top_0, top_1;
  rect = getBoundingClientRect(elem);
  top_0 = rect?rect.top + ((elem.ownerDocument.body.scrollTop || 0) | 0):getAbsoluteTopUsingOffsets(elem);
  return top_0 | 0;
}

function $getScrollLeft(doc){
  return doc.documentElement.scrollLeft || doc.body.scrollLeft;
}

function $getScrollLeft_0(elem){
  if (!$equalsIgnoreCase('body', elem.tagName) && $isRTL(elem)) {
    return ($getSubPixelScrollLeft(elem) | 0) - (($getSubPixelScrollWidth(elem) | 0) - (elem.clientWidth | 0));
  }
  return $getSubPixelScrollLeft(elem) | 0;
}

function $getScrollTop(doc){
  return doc.documentElement.scrollTop || doc.body.scrollTop;
}

function $getTabIndex(elem){
  return typeof elem.tabIndex != 'undefined'?elem.tabIndex:-1;
}

function $isRTL(elem){
  return elem.ownerDocument.defaultView.getComputedStyle(elem, '').direction == 'rtl';
}

function $setScrollLeft(elem, left){
  !$equalsIgnoreCase('body', elem.tagName) && $isRTL(elem) && (left += ($getSubPixelScrollWidth(elem) | 0) - (elem.clientWidth | 0));
  elem.scrollLeft = left;
}

function getAbsoluteLeftUsingOffsets(elem){
  if (elem.offsetLeft == null) {
    return 0;
  }
  var left = 0;
  var doc = elem.ownerDocument;
  var curr = elem.parentNode;
  if (curr) {
    while (curr.offsetParent) {
      left -= curr.scrollLeft;
      doc.defaultView.getComputedStyle(curr, '').getPropertyValue('direction') == 'rtl' && (left += curr.scrollWidth - curr.clientWidth);
      curr = curr.parentNode;
    }
  }
  while (elem) {
    left += elem.offsetLeft;
    if (doc.defaultView.getComputedStyle(elem, '')['position'] == 'fixed') {
      left += doc.body.scrollLeft;
      return left;
    }
    var parent_0 = elem.offsetParent;
    parent_0 && $wnd.devicePixelRatio && (left += parseInt(doc.defaultView.getComputedStyle(parent_0, '').getPropertyValue('border-left-width')));
    if (parent_0 && parent_0.tagName == 'BODY' && elem.style.position == 'absolute') {
      break;
    }
    elem = parent_0;
  }
  return left;
}

function getAbsoluteTopUsingOffsets(elem){
  if (elem.offsetTop == null) {
    return 0;
  }
  var top_0 = 0;
  var doc = elem.ownerDocument;
  var curr = elem.parentNode;
  if (curr) {
    while (curr.offsetParent) {
      top_0 -= curr.scrollTop;
      curr = curr.parentNode;
    }
  }
  while (elem) {
    top_0 += elem.offsetTop;
    if (doc.defaultView.getComputedStyle(elem, '')['position'] == 'fixed') {
      top_0 += doc.body.scrollTop;
      return top_0;
    }
    var parent_0 = elem.offsetParent;
    parent_0 && $wnd.devicePixelRatio && (top_0 += parseInt(doc.defaultView.getComputedStyle(parent_0, '').getPropertyValue('border-top-width')));
    if (parent_0 && parent_0.tagName == 'BODY' && elem.style.position == 'absolute') {
      break;
    }
    elem = parent_0;
  }
  return top_0;
}

function getBoundingClientRect(element){
  return element.getBoundingClientRect && element.getBoundingClientRect();
}

function $eventGetTarget(evt){
  var target = evt.target;
  target && target.nodeType == 3 && (target = target.parentNode);
  return target;
}

function $createUniqueId(this$static){
  !this$static.gwt_uid && (this$static.gwt_uid = 1);
  return 'gwt-uid-' + this$static.gwt_uid++;
}

function $enableScrolling(this$static, enable){
  ($equals_5(this$static.compatMode, 'CSS1Compat')?this$static.documentElement:this$static.body).style['overflow'] = enable?'auto':'hidden';
}

function $getClientHeight(this$static){
  return ($equals_5(this$static.compatMode, 'CSS1Compat')?this$static.documentElement:this$static.body).clientHeight | 0;
}

function $getClientWidth(this$static){
  return ($equals_5(this$static.compatMode, 'CSS1Compat')?this$static.documentElement:this$static.body).clientWidth | 0;
}

function $getElementById(this$static, elementId){
  return this$static.getElementById(elementId);
}

function $getScrollHeight(this$static){
  return (($equals_5(this$static.compatMode, 'CSS1Compat')?this$static.documentElement:this$static.body).scrollHeight || 0) | 0;
}

function $getScrollWidth(this$static){
  return (($equals_5(this$static.compatMode, 'CSS1Compat')?this$static.documentElement:this$static.body).scrollWidth || 0) | 0;
}

function $setAction(this$static, action){
  this$static.action = action;
}

function $setTarget(this$static, target){
  this$static.target = target;
}

function $setHeight_2(this$static, height){
  this$static.height = height;
}

function $setSrc_0(this$static, src_0){
  this$static.src = src_0;
}

function $setWidth_3(this$static, width_0){
  this$static.width = width_0;
}

function $isChecked(this$static){
  return !!this$static.checked;
}

function $isDefaultChecked(this$static){
  return !!this$static.defaultChecked;
}

function $setAccessKey(this$static, accessKey){
  this$static.accessKey = accessKey;
}

function $setChecked(this$static, checked){
  this$static.checked = checked;
}

function $setDefaultChecked(this$static, defaultChecked){
  this$static.defaultChecked = defaultChecked;
}

function $setDisabled(this$static, disabled){
  this$static.disabled = disabled;
}

function $setName(this$static, name_0){
  this$static.name = name_0;
}

function $setHtmlFor(this$static, htmlFor){
  this$static.htmlFor = htmlFor;
}

function $setPropertyImpl(this$static, name_0, value_0){
  this$static[name_0] = value_0;
}

function $clinit_Style$BorderStyle(){
  $clinit_Style$BorderStyle = emptyMethod;
  NONE_0 = new Style$BorderStyle$1;
  DOTTED = new Style$BorderStyle$2;
  DASHED = new Style$BorderStyle$3;
  HIDDEN = new Style$BorderStyle$4;
  SOLID = new Style$BorderStyle$5;
}

function Style$BorderStyle(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_11(name_0){
  $clinit_Style$BorderStyle();
  return valueOf(($clinit_Style$BorderStyle$Map() , $MAP_9), name_0);
}

function values_17(){
  $clinit_Style$BorderStyle();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$BorderStyle_2_classLit, 1), $intern_1, 148, 0, [NONE_0, DOTTED, DASHED, HIDDEN, SOLID]);
}

defineClass(148, 9, $intern_75);
var DASHED, DOTTED, HIDDEN, NONE_0, SOLID;
var Lcom_google_gwt_dom_client_Style$BorderStyle_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/BorderStyle', 148, Ljava_lang_Enum_2_classLit, values_17, valueOf_11);
function Style$BorderStyle$1(){
  Style$BorderStyle.call(this, 'NONE', 0);
}

defineClass(712, 148, $intern_75, Style$BorderStyle$1);
var Lcom_google_gwt_dom_client_Style$BorderStyle$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/BorderStyle/1', 712, Lcom_google_gwt_dom_client_Style$BorderStyle_2_classLit, null, null);
function Style$BorderStyle$2(){
  Style$BorderStyle.call(this, 'DOTTED', 1);
}

defineClass(713, 148, $intern_75, Style$BorderStyle$2);
var Lcom_google_gwt_dom_client_Style$BorderStyle$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/BorderStyle/2', 713, Lcom_google_gwt_dom_client_Style$BorderStyle_2_classLit, null, null);
function Style$BorderStyle$3(){
  Style$BorderStyle.call(this, 'DASHED', 2);
}

defineClass(714, 148, $intern_75, Style$BorderStyle$3);
var Lcom_google_gwt_dom_client_Style$BorderStyle$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/BorderStyle/3', 714, Lcom_google_gwt_dom_client_Style$BorderStyle_2_classLit, null, null);
function Style$BorderStyle$4(){
  Style$BorderStyle.call(this, 'HIDDEN', 3);
}

defineClass(715, 148, $intern_75, Style$BorderStyle$4);
var Lcom_google_gwt_dom_client_Style$BorderStyle$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/BorderStyle/4', 715, Lcom_google_gwt_dom_client_Style$BorderStyle_2_classLit, null, null);
function Style$BorderStyle$5(){
  Style$BorderStyle.call(this, 'SOLID', 4);
}

defineClass(716, 148, $intern_75, Style$BorderStyle$5);
var Lcom_google_gwt_dom_client_Style$BorderStyle$5_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/BorderStyle/5', 716, Lcom_google_gwt_dom_client_Style$BorderStyle_2_classLit, null, null);
function $clinit_Style$BorderStyle$Map(){
  $clinit_Style$BorderStyle$Map = emptyMethod;
  $MAP_9 = createValueOfMap(($clinit_Style$BorderStyle() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$BorderStyle_2_classLit, 1), $intern_1, 148, 0, [NONE_0, DOTTED, DASHED, HIDDEN, SOLID])));
}

var $MAP_9;
function $clinit_Style$Display(){
  $clinit_Style$Display = emptyMethod;
  NONE_1 = new Style$Display$1;
  BLOCK = new Style$Display$2;
  INLINE = new Style$Display$3;
  INLINE_BLOCK = new Style$Display$4;
  INLINE_TABLE = new Style$Display$5;
  LIST_ITEM = new Style$Display$6;
  RUN_IN = new Style$Display$7;
  TABLE = new Style$Display$8;
  TABLE_CAPTION = new Style$Display$9;
  TABLE_COLUMN_GROUP = new Style$Display$10;
  TABLE_HEADER_GROUP = new Style$Display$11;
  TABLE_FOOTER_GROUP = new Style$Display$12;
  TABLE_ROW_GROUP = new Style$Display$13;
  TABLE_CELL = new Style$Display$14;
  TABLE_COLUMN = new Style$Display$15;
  TABLE_ROW = new Style$Display$16;
  INITIAL = new Style$Display$17;
}

function Style$Display(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_12(name_0){
  $clinit_Style$Display();
  return valueOf(($clinit_Style$Display$Map() , $MAP_10), name_0);
}

function values_18(){
  $clinit_Style$Display();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Display_2_classLit, 1), $intern_1, 56, 0, [NONE_1, BLOCK, INLINE, INLINE_BLOCK, INLINE_TABLE, LIST_ITEM, RUN_IN, TABLE, TABLE_CAPTION, TABLE_COLUMN_GROUP, TABLE_HEADER_GROUP, TABLE_FOOTER_GROUP, TABLE_ROW_GROUP, TABLE_CELL, TABLE_COLUMN, TABLE_ROW, INITIAL]);
}

defineClass(56, 9, $intern_76);
var BLOCK, INITIAL, INLINE, INLINE_BLOCK, INLINE_TABLE, LIST_ITEM, NONE_1, RUN_IN, TABLE, TABLE_CAPTION, TABLE_CELL, TABLE_COLUMN, TABLE_COLUMN_GROUP, TABLE_FOOTER_GROUP, TABLE_HEADER_GROUP, TABLE_ROW, TABLE_ROW_GROUP;
var Lcom_google_gwt_dom_client_Style$Display_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display', 56, Ljava_lang_Enum_2_classLit, values_18, valueOf_12);
function Style$Display$1(){
  Style$Display.call(this, 'NONE', 0);
}

defineClass(717, 56, $intern_76, Style$Display$1);
var Lcom_google_gwt_dom_client_Style$Display$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/1', 717, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$10(){
  Style$Display.call(this, 'TABLE_COLUMN_GROUP', 9);
}

defineClass(726, 56, $intern_76, Style$Display$10);
var Lcom_google_gwt_dom_client_Style$Display$10_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/10', 726, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$11(){
  Style$Display.call(this, 'TABLE_HEADER_GROUP', 10);
}

defineClass(727, 56, $intern_76, Style$Display$11);
var Lcom_google_gwt_dom_client_Style$Display$11_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/11', 727, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$12(){
  Style$Display.call(this, 'TABLE_FOOTER_GROUP', 11);
}

defineClass(728, 56, $intern_76, Style$Display$12);
var Lcom_google_gwt_dom_client_Style$Display$12_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/12', 728, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$13(){
  Style$Display.call(this, 'TABLE_ROW_GROUP', 12);
}

defineClass(729, 56, $intern_76, Style$Display$13);
var Lcom_google_gwt_dom_client_Style$Display$13_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/13', 729, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$14(){
  Style$Display.call(this, 'TABLE_CELL', 13);
}

defineClass(730, 56, $intern_76, Style$Display$14);
var Lcom_google_gwt_dom_client_Style$Display$14_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/14', 730, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$15(){
  Style$Display.call(this, 'TABLE_COLUMN', 14);
}

defineClass(731, 56, $intern_76, Style$Display$15);
var Lcom_google_gwt_dom_client_Style$Display$15_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/15', 731, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$16(){
  Style$Display.call(this, 'TABLE_ROW', 15);
}

defineClass(732, 56, $intern_76, Style$Display$16);
var Lcom_google_gwt_dom_client_Style$Display$16_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/16', 732, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$17(){
  Style$Display.call(this, 'INITIAL', 16);
}

defineClass(733, 56, $intern_76, Style$Display$17);
var Lcom_google_gwt_dom_client_Style$Display$17_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/17', 733, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$2(){
  Style$Display.call(this, 'BLOCK', 1);
}

defineClass(718, 56, $intern_76, Style$Display$2);
var Lcom_google_gwt_dom_client_Style$Display$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/2', 718, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$3(){
  Style$Display.call(this, 'INLINE', 2);
}

defineClass(719, 56, $intern_76, Style$Display$3);
var Lcom_google_gwt_dom_client_Style$Display$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/3', 719, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$4(){
  Style$Display.call(this, 'INLINE_BLOCK', 3);
}

defineClass(720, 56, $intern_76, Style$Display$4);
var Lcom_google_gwt_dom_client_Style$Display$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/4', 720, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$5(){
  Style$Display.call(this, 'INLINE_TABLE', 4);
}

defineClass(721, 56, $intern_76, Style$Display$5);
var Lcom_google_gwt_dom_client_Style$Display$5_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/5', 721, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$6(){
  Style$Display.call(this, 'LIST_ITEM', 5);
}

defineClass(722, 56, $intern_76, Style$Display$6);
var Lcom_google_gwt_dom_client_Style$Display$6_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/6', 722, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$7(){
  Style$Display.call(this, 'RUN_IN', 6);
}

defineClass(723, 56, $intern_76, Style$Display$7);
var Lcom_google_gwt_dom_client_Style$Display$7_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/7', 723, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$8(){
  Style$Display.call(this, 'TABLE', 7);
}

defineClass(724, 56, $intern_76, Style$Display$8);
var Lcom_google_gwt_dom_client_Style$Display$8_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/8', 724, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function Style$Display$9(){
  Style$Display.call(this, 'TABLE_CAPTION', 8);
}

defineClass(725, 56, $intern_76, Style$Display$9);
var Lcom_google_gwt_dom_client_Style$Display$9_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Display/9', 725, Lcom_google_gwt_dom_client_Style$Display_2_classLit, null, null);
function $clinit_Style$Display$Map(){
  $clinit_Style$Display$Map = emptyMethod;
  $MAP_10 = createValueOfMap(values_18());
}

var $MAP_10;
function $clinit_Style$FontWeight(){
  $clinit_Style$FontWeight = emptyMethod;
  NORMAL = new Style$FontWeight$1;
  BOLD = new Style$FontWeight$2;
  BOLDER = new Style$FontWeight$3;
  LIGHTER = new Style$FontWeight$4;
}

function Style$FontWeight(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_13(name_0){
  $clinit_Style$FontWeight();
  return valueOf(($clinit_Style$FontWeight$Map() , $MAP_11), name_0);
}

function values_19(){
  $clinit_Style$FontWeight();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$FontWeight_2_classLit, 1), $intern_1, 168, 0, [NORMAL, BOLD, BOLDER, LIGHTER]);
}

defineClass(168, 9, $intern_77);
var BOLD, BOLDER, LIGHTER, NORMAL;
var Lcom_google_gwt_dom_client_Style$FontWeight_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/FontWeight', 168, Ljava_lang_Enum_2_classLit, values_19, valueOf_13);
function Style$FontWeight$1(){
  Style$FontWeight.call(this, 'NORMAL', 0);
}

defineClass(734, 168, $intern_77, Style$FontWeight$1);
var Lcom_google_gwt_dom_client_Style$FontWeight$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/FontWeight/1', 734, Lcom_google_gwt_dom_client_Style$FontWeight_2_classLit, null, null);
function Style$FontWeight$2(){
  Style$FontWeight.call(this, 'BOLD', 1);
}

defineClass(735, 168, $intern_77, Style$FontWeight$2);
var Lcom_google_gwt_dom_client_Style$FontWeight$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/FontWeight/2', 735, Lcom_google_gwt_dom_client_Style$FontWeight_2_classLit, null, null);
function Style$FontWeight$3(){
  Style$FontWeight.call(this, 'BOLDER', 2);
}

defineClass(736, 168, $intern_77, Style$FontWeight$3);
var Lcom_google_gwt_dom_client_Style$FontWeight$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/FontWeight/3', 736, Lcom_google_gwt_dom_client_Style$FontWeight_2_classLit, null, null);
function Style$FontWeight$4(){
  Style$FontWeight.call(this, 'LIGHTER', 3);
}

defineClass(737, 168, $intern_77, Style$FontWeight$4);
var Lcom_google_gwt_dom_client_Style$FontWeight$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/FontWeight/4', 737, Lcom_google_gwt_dom_client_Style$FontWeight_2_classLit, null, null);
function $clinit_Style$FontWeight$Map(){
  $clinit_Style$FontWeight$Map = emptyMethod;
  $MAP_11 = createValueOfMap(($clinit_Style$FontWeight() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$FontWeight_2_classLit, 1), $intern_1, 168, 0, [NORMAL, BOLD, BOLDER, LIGHTER])));
}

var $MAP_11;
function $clinit_Style$OutlineStyle(){
  $clinit_Style$OutlineStyle = emptyMethod;
  NONE_2 = new Style$OutlineStyle$1;
  DASHED_0 = new Style$OutlineStyle$2;
  DOTTED_0 = new Style$OutlineStyle$3;
  DOUBLE = new Style$OutlineStyle$4;
  GROOVE = new Style$OutlineStyle$5;
  INSET = new Style$OutlineStyle$6;
  OUTSET = new Style$OutlineStyle$7;
  RIDGE = new Style$OutlineStyle$8;
  SOLID_0 = new Style$OutlineStyle$9;
}

function Style$OutlineStyle(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_14(name_0){
  $clinit_Style$OutlineStyle();
  return valueOf(($clinit_Style$OutlineStyle$Map() , $MAP_12), name_0);
}

function values_20(){
  $clinit_Style$OutlineStyle();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, 1), $intern_1, 93, 0, [NONE_2, DASHED_0, DOTTED_0, DOUBLE, GROOVE, INSET, OUTSET, RIDGE, SOLID_0]);
}

defineClass(93, 9, $intern_78);
var DASHED_0, DOTTED_0, DOUBLE, GROOVE, INSET, NONE_2, OUTSET, RIDGE, SOLID_0;
var Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle', 93, Ljava_lang_Enum_2_classLit, values_20, valueOf_14);
function Style$OutlineStyle$1(){
  Style$OutlineStyle.call(this, 'NONE', 0);
}

defineClass(738, 93, $intern_78, Style$OutlineStyle$1);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/1', 738, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function Style$OutlineStyle$2(){
  Style$OutlineStyle.call(this, 'DASHED', 1);
}

defineClass(739, 93, $intern_78, Style$OutlineStyle$2);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/2', 739, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function Style$OutlineStyle$3(){
  Style$OutlineStyle.call(this, 'DOTTED', 2);
}

defineClass(740, 93, $intern_78, Style$OutlineStyle$3);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/3', 740, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function Style$OutlineStyle$4(){
  Style$OutlineStyle.call(this, 'DOUBLE', 3);
}

defineClass(741, 93, $intern_78, Style$OutlineStyle$4);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/4', 741, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function Style$OutlineStyle$5(){
  Style$OutlineStyle.call(this, 'GROOVE', 4);
}

defineClass(742, 93, $intern_78, Style$OutlineStyle$5);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$5_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/5', 742, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function Style$OutlineStyle$6(){
  Style$OutlineStyle.call(this, 'INSET', 5);
}

defineClass(743, 93, $intern_78, Style$OutlineStyle$6);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$6_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/6', 743, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function Style$OutlineStyle$7(){
  Style$OutlineStyle.call(this, 'OUTSET', 6);
}

defineClass(744, 93, $intern_78, Style$OutlineStyle$7);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$7_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/7', 744, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function Style$OutlineStyle$8(){
  Style$OutlineStyle.call(this, 'RIDGE', 7);
}

defineClass(745, 93, $intern_78, Style$OutlineStyle$8);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$8_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/8', 745, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function Style$OutlineStyle$9(){
  Style$OutlineStyle.call(this, 'SOLID', 8);
}

defineClass(746, 93, $intern_78, Style$OutlineStyle$9);
var Lcom_google_gwt_dom_client_Style$OutlineStyle$9_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/OutlineStyle/9', 746, Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, null, null);
function $clinit_Style$OutlineStyle$Map(){
  $clinit_Style$OutlineStyle$Map = emptyMethod;
  $MAP_12 = createValueOfMap(($clinit_Style$OutlineStyle() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$OutlineStyle_2_classLit, 1), $intern_1, 93, 0, [NONE_2, DASHED_0, DOTTED_0, DOUBLE, GROOVE, INSET, OUTSET, RIDGE, SOLID_0])));
}

var $MAP_12;
function $clinit_Style$Overflow(){
  $clinit_Style$Overflow = emptyMethod;
  VISIBLE = new Style$Overflow$1;
  HIDDEN_0 = new Style$Overflow$2;
  SCROLL = new Style$Overflow$3;
  AUTO = new Style$Overflow$4;
}

function Style$Overflow(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_15(name_0){
  $clinit_Style$Overflow();
  return valueOf(($clinit_Style$Overflow$Map() , $MAP_13), name_0);
}

function values_21(){
  $clinit_Style$Overflow();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Overflow_2_classLit, 1), $intern_1, 169, 0, [VISIBLE, HIDDEN_0, SCROLL, AUTO]);
}

defineClass(169, 9, $intern_79);
var AUTO, HIDDEN_0, SCROLL, VISIBLE;
var Lcom_google_gwt_dom_client_Style$Overflow_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Overflow', 169, Ljava_lang_Enum_2_classLit, values_21, valueOf_15);
function Style$Overflow$1(){
  Style$Overflow.call(this, 'VISIBLE', 0);
}

defineClass(747, 169, $intern_79, Style$Overflow$1);
var Lcom_google_gwt_dom_client_Style$Overflow$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Overflow/1', 747, Lcom_google_gwt_dom_client_Style$Overflow_2_classLit, null, null);
function Style$Overflow$2(){
  Style$Overflow.call(this, 'HIDDEN', 1);
}

defineClass(748, 169, $intern_79, Style$Overflow$2);
var Lcom_google_gwt_dom_client_Style$Overflow$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Overflow/2', 748, Lcom_google_gwt_dom_client_Style$Overflow_2_classLit, null, null);
function Style$Overflow$3(){
  Style$Overflow.call(this, 'SCROLL', 2);
}

defineClass(749, 169, $intern_79, Style$Overflow$3);
var Lcom_google_gwt_dom_client_Style$Overflow$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Overflow/3', 749, Lcom_google_gwt_dom_client_Style$Overflow_2_classLit, null, null);
function Style$Overflow$4(){
  Style$Overflow.call(this, 'AUTO', 3);
}

defineClass(750, 169, $intern_79, Style$Overflow$4);
var Lcom_google_gwt_dom_client_Style$Overflow$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Overflow/4', 750, Lcom_google_gwt_dom_client_Style$Overflow_2_classLit, null, null);
function $clinit_Style$Overflow$Map(){
  $clinit_Style$Overflow$Map = emptyMethod;
  $MAP_13 = createValueOfMap(($clinit_Style$Overflow() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Overflow_2_classLit, 1), $intern_1, 169, 0, [VISIBLE, HIDDEN_0, SCROLL, AUTO])));
}

var $MAP_13;
function $clinit_Style$Position(){
  $clinit_Style$Position = emptyMethod;
  STATIC = new Style$Position$1;
  RELATIVE = new Style$Position$2;
  ABSOLUTE = new Style$Position$3;
  FIXED = new Style$Position$4;
}

function Style$Position(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_16(name_0){
  $clinit_Style$Position();
  return valueOf(($clinit_Style$Position$Map() , $MAP_14), name_0);
}

function values_22(){
  $clinit_Style$Position();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Position_2_classLit, 1), $intern_1, 170, 0, [STATIC, RELATIVE, ABSOLUTE, FIXED]);
}

defineClass(170, 9, $intern_80);
var ABSOLUTE, FIXED, RELATIVE, STATIC;
var Lcom_google_gwt_dom_client_Style$Position_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Position', 170, Ljava_lang_Enum_2_classLit, values_22, valueOf_16);
function Style$Position$1(){
  Style$Position.call(this, 'STATIC', 0);
}

defineClass(751, 170, $intern_80, Style$Position$1);
var Lcom_google_gwt_dom_client_Style$Position$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Position/1', 751, Lcom_google_gwt_dom_client_Style$Position_2_classLit, null, null);
function Style$Position$2(){
  Style$Position.call(this, 'RELATIVE', 1);
}

defineClass(752, 170, $intern_80, Style$Position$2);
var Lcom_google_gwt_dom_client_Style$Position$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Position/2', 752, Lcom_google_gwt_dom_client_Style$Position_2_classLit, null, null);
function Style$Position$3(){
  Style$Position.call(this, 'ABSOLUTE', 2);
}

defineClass(753, 170, $intern_80, Style$Position$3);
var Lcom_google_gwt_dom_client_Style$Position$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Position/3', 753, Lcom_google_gwt_dom_client_Style$Position_2_classLit, null, null);
function Style$Position$4(){
  Style$Position.call(this, 'FIXED', 3);
}

defineClass(754, 170, $intern_80, Style$Position$4);
var Lcom_google_gwt_dom_client_Style$Position$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Position/4', 754, Lcom_google_gwt_dom_client_Style$Position_2_classLit, null, null);
function $clinit_Style$Position$Map(){
  $clinit_Style$Position$Map = emptyMethod;
  $MAP_14 = createValueOfMap(($clinit_Style$Position() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Position_2_classLit, 1), $intern_1, 170, 0, [STATIC, RELATIVE, ABSOLUTE, FIXED])));
}

var $MAP_14;
function $clinit_Style$TextAlign(){
  $clinit_Style$TextAlign = emptyMethod;
  CENTER = new Style$TextAlign$1;
  JUSTIFY = new Style$TextAlign$2;
  LEFT = new Style$TextAlign$3;
  RIGHT = new Style$TextAlign$4;
}

function Style$TextAlign(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_17(name_0){
  $clinit_Style$TextAlign();
  return valueOf(($clinit_Style$TextAlign$Map() , $MAP_15), name_0);
}

function values_23(){
  $clinit_Style$TextAlign();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$TextAlign_2_classLit, 1), $intern_1, 171, 0, [CENTER, JUSTIFY, LEFT, RIGHT]);
}

defineClass(171, 9, $intern_81);
var CENTER, JUSTIFY, LEFT, RIGHT;
var Lcom_google_gwt_dom_client_Style$TextAlign_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/TextAlign', 171, Ljava_lang_Enum_2_classLit, values_23, valueOf_17);
function Style$TextAlign$1(){
  Style$TextAlign.call(this, 'CENTER', 0);
}

defineClass(755, 171, $intern_81, Style$TextAlign$1);
var Lcom_google_gwt_dom_client_Style$TextAlign$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/TextAlign/1', 755, Lcom_google_gwt_dom_client_Style$TextAlign_2_classLit, null, null);
function Style$TextAlign$2(){
  Style$TextAlign.call(this, 'JUSTIFY', 1);
}

defineClass(756, 171, $intern_81, Style$TextAlign$2);
var Lcom_google_gwt_dom_client_Style$TextAlign$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/TextAlign/2', 756, Lcom_google_gwt_dom_client_Style$TextAlign_2_classLit, null, null);
function Style$TextAlign$3(){
  Style$TextAlign.call(this, 'LEFT', 2);
}

defineClass(757, 171, $intern_81, Style$TextAlign$3);
var Lcom_google_gwt_dom_client_Style$TextAlign$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/TextAlign/3', 757, Lcom_google_gwt_dom_client_Style$TextAlign_2_classLit, null, null);
function Style$TextAlign$4(){
  Style$TextAlign.call(this, 'RIGHT', 3);
}

defineClass(758, 171, $intern_81, Style$TextAlign$4);
var Lcom_google_gwt_dom_client_Style$TextAlign$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/TextAlign/4', 758, Lcom_google_gwt_dom_client_Style$TextAlign_2_classLit, null, null);
function $clinit_Style$TextAlign$Map(){
  $clinit_Style$TextAlign$Map = emptyMethod;
  $MAP_15 = createValueOfMap(($clinit_Style$TextAlign() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$TextAlign_2_classLit, 1), $intern_1, 171, 0, [CENTER, JUSTIFY, LEFT, RIGHT])));
}

var $MAP_15;
function $clinit_Style$Unit(){
  $clinit_Style$Unit = emptyMethod;
  PX = new Style$Unit$1;
  PCT = new Style$Unit$2;
  EM = new Style$Unit$3;
  EX = new Style$Unit$4;
  PT = new Style$Unit$5;
  PC = new Style$Unit$6;
  IN = new Style$Unit$7;
  CM = new Style$Unit$8;
  MM = new Style$Unit$9;
}

function Style$Unit(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_18(name_0){
  $clinit_Style$Unit();
  return valueOf(($clinit_Style$Unit$Map() , $MAP_16), name_0);
}

function values_24(){
  $clinit_Style$Unit();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Unit_2_classLit, 1), $intern_1, 92, 0, [PX, PCT, EM, EX, PT, PC, IN, CM, MM]);
}

defineClass(92, 9, $intern_82);
var CM, EM, EX, IN, MM, PC, PCT, PT, PX;
var Lcom_google_gwt_dom_client_Style$Unit_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit', 92, Ljava_lang_Enum_2_classLit, values_24, valueOf_18);
function Style$Unit$1(){
  Style$Unit.call(this, 'PX', 0);
}

defineClass(703, 92, $intern_82, Style$Unit$1);
var Lcom_google_gwt_dom_client_Style$Unit$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/1', 703, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function Style$Unit$2(){
  Style$Unit.call(this, 'PCT', 1);
}

defineClass(704, 92, $intern_82, Style$Unit$2);
var Lcom_google_gwt_dom_client_Style$Unit$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/2', 704, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function Style$Unit$3(){
  Style$Unit.call(this, 'EM', 2);
}

defineClass(705, 92, $intern_82, Style$Unit$3);
var Lcom_google_gwt_dom_client_Style$Unit$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/3', 705, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function Style$Unit$4(){
  Style$Unit.call(this, 'EX', 3);
}

defineClass(706, 92, $intern_82, Style$Unit$4);
var Lcom_google_gwt_dom_client_Style$Unit$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/4', 706, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function Style$Unit$5(){
  Style$Unit.call(this, 'PT', 4);
}

defineClass(707, 92, $intern_82, Style$Unit$5);
var Lcom_google_gwt_dom_client_Style$Unit$5_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/5', 707, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function Style$Unit$6(){
  Style$Unit.call(this, 'PC', 5);
}

defineClass(708, 92, $intern_82, Style$Unit$6);
var Lcom_google_gwt_dom_client_Style$Unit$6_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/6', 708, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function Style$Unit$7(){
  Style$Unit.call(this, 'IN', 6);
}

defineClass(709, 92, $intern_82, Style$Unit$7);
var Lcom_google_gwt_dom_client_Style$Unit$7_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/7', 709, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function Style$Unit$8(){
  Style$Unit.call(this, 'CM', 7);
}

defineClass(710, 92, $intern_82, Style$Unit$8);
var Lcom_google_gwt_dom_client_Style$Unit$8_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/8', 710, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function Style$Unit$9(){
  Style$Unit.call(this, 'MM', 8);
}

defineClass(711, 92, $intern_82, Style$Unit$9);
var Lcom_google_gwt_dom_client_Style$Unit$9_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Unit/9', 711, Lcom_google_gwt_dom_client_Style$Unit_2_classLit, null, null);
function $clinit_Style$Unit$Map(){
  $clinit_Style$Unit$Map = emptyMethod;
  $MAP_16 = createValueOfMap(($clinit_Style$Unit() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Unit_2_classLit, 1), $intern_1, 92, 0, [PX, PCT, EM, EX, PT, PC, IN, CM, MM])));
}

var $MAP_16;
function $clinit_Style$Visibility(){
  $clinit_Style$Visibility = emptyMethod;
  VISIBLE_0 = new Style$Visibility$1;
  HIDDEN_1 = new Style$Visibility$2;
}

function Style$Visibility(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_19(name_0){
  $clinit_Style$Visibility();
  return valueOf(($clinit_Style$Visibility$Map() , $MAP_17), name_0);
}

function values_25(){
  $clinit_Style$Visibility();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Visibility_2_classLit, 1), $intern_1, 226, 0, [VISIBLE_0, HIDDEN_1]);
}

defineClass(226, 9, $intern_83);
var HIDDEN_1, VISIBLE_0;
var Lcom_google_gwt_dom_client_Style$Visibility_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Visibility', 226, Ljava_lang_Enum_2_classLit, values_25, valueOf_19);
function Style$Visibility$1(){
  Style$Visibility.call(this, 'VISIBLE', 0);
}

defineClass(759, 226, $intern_83, Style$Visibility$1);
var Lcom_google_gwt_dom_client_Style$Visibility$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Visibility/1', 759, Lcom_google_gwt_dom_client_Style$Visibility_2_classLit, null, null);
function Style$Visibility$2(){
  Style$Visibility.call(this, 'HIDDEN', 1);
}

defineClass(760, 226, $intern_83, Style$Visibility$2);
var Lcom_google_gwt_dom_client_Style$Visibility$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/Visibility/2', 760, Lcom_google_gwt_dom_client_Style$Visibility_2_classLit, null, null);
function $clinit_Style$Visibility$Map(){
  $clinit_Style$Visibility$Map = emptyMethod;
  $MAP_17 = createValueOfMap(($clinit_Style$Visibility() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$Visibility_2_classLit, 1), $intern_1, 226, 0, [VISIBLE_0, HIDDEN_1])));
}

var $MAP_17;
function $clinit_Style$WhiteSpace(){
  $clinit_Style$WhiteSpace = emptyMethod;
  NORMAL_0 = new Style$WhiteSpace$1;
  NOWRAP = new Style$WhiteSpace$2;
  PRE = new Style$WhiteSpace$3;
  PRE_LINE = new Style$WhiteSpace$4;
  PRE_WRAP = new Style$WhiteSpace$5;
}

function Style$WhiteSpace(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_20(name_0){
  $clinit_Style$WhiteSpace();
  return valueOf(($clinit_Style$WhiteSpace$Map() , $MAP_18), name_0);
}

function values_26(){
  $clinit_Style$WhiteSpace();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$WhiteSpace_2_classLit, 1), $intern_1, 149, 0, [NORMAL_0, NOWRAP, PRE, PRE_LINE, PRE_WRAP]);
}

defineClass(149, 9, $intern_84);
var NORMAL_0, NOWRAP, PRE, PRE_LINE, PRE_WRAP;
var Lcom_google_gwt_dom_client_Style$WhiteSpace_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/WhiteSpace', 149, Ljava_lang_Enum_2_classLit, values_26, valueOf_20);
function Style$WhiteSpace$1(){
  Style$WhiteSpace.call(this, 'NORMAL', 0);
}

defineClass(761, 149, $intern_84, Style$WhiteSpace$1);
var Lcom_google_gwt_dom_client_Style$WhiteSpace$1_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/WhiteSpace/1', 761, Lcom_google_gwt_dom_client_Style$WhiteSpace_2_classLit, null, null);
function Style$WhiteSpace$2(){
  Style$WhiteSpace.call(this, 'NOWRAP', 1);
}

defineClass(762, 149, $intern_84, Style$WhiteSpace$2);
var Lcom_google_gwt_dom_client_Style$WhiteSpace$2_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/WhiteSpace/2', 762, Lcom_google_gwt_dom_client_Style$WhiteSpace_2_classLit, null, null);
function Style$WhiteSpace$3(){
  Style$WhiteSpace.call(this, 'PRE', 2);
}

defineClass(763, 149, $intern_84, Style$WhiteSpace$3);
var Lcom_google_gwt_dom_client_Style$WhiteSpace$3_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/WhiteSpace/3', 763, Lcom_google_gwt_dom_client_Style$WhiteSpace_2_classLit, null, null);
function Style$WhiteSpace$4(){
  Style$WhiteSpace.call(this, 'PRE_LINE', 3);
}

defineClass(764, 149, $intern_84, Style$WhiteSpace$4);
var Lcom_google_gwt_dom_client_Style$WhiteSpace$4_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/WhiteSpace/4', 764, Lcom_google_gwt_dom_client_Style$WhiteSpace_2_classLit, null, null);
function Style$WhiteSpace$5(){
  Style$WhiteSpace.call(this, 'PRE_WRAP', 4);
}

defineClass(765, 149, $intern_84, Style$WhiteSpace$5);
var Lcom_google_gwt_dom_client_Style$WhiteSpace$5_2_classLit = createForEnum('com.google.gwt.dom.client', 'Style/WhiteSpace/5', 765, Lcom_google_gwt_dom_client_Style$WhiteSpace_2_classLit, null, null);
function $clinit_Style$WhiteSpace$Map(){
  $clinit_Style$WhiteSpace$Map = emptyMethod;
  $MAP_18 = createValueOfMap(($clinit_Style$WhiteSpace() , initValues(getClassLiteralForArray(Lcom_google_gwt_dom_client_Style$WhiteSpace_2_classLit, 1), $intern_1, 149, 0, [NORMAL_0, NOWRAP, PRE, PRE_LINE, PRE_WRAP])));
}

var $MAP_18;
function $clinit_StyleInjector(){
  $clinit_StyleInjector = emptyMethod;
  toInject = [];
  toInjectAtEnd = [];
  toInjectAtStart = [];
  flusher = new StyleInjector$1;
}

function flush(){
  $clinit_StyleInjector();
  var css, maybeReturn, toReturn;
  toReturn = null;
  if (toInjectAtStart.length != 0) {
    css = toInjectAtStart.join('');
    maybeReturn = $injectStyleSheetAtStart(($clinit_StyleInjector$StyleInjectorImpl() , IMPL), css);
    !toInjectAtStart && (toReturn = maybeReturn);
    $setLength(toInjectAtStart, 0);
  }
  if (toInject.length != 0) {
    css = toInject.join('');
    maybeReturn = $injectStyleSheet(($clinit_StyleInjector$StyleInjectorImpl() , IMPL), css);
    !toInject && (toReturn = maybeReturn);
    $setLength(toInject, 0);
  }
  if (toInjectAtEnd.length != 0) {
    css = toInjectAtEnd.join('');
    maybeReturn = $injectStyleSheet(($clinit_StyleInjector$StyleInjectorImpl() , IMPL), css);
    !toInjectAtEnd && (toReturn = maybeReturn);
    $setLength(toInjectAtEnd, 0);
  }
  needsInjection = false;
  return toReturn;
}

function schedule(){
  $clinit_StyleInjector();
  if (!needsInjection) {
    needsInjection = true;
    $scheduleFinally(($clinit_SchedulerImpl() , INSTANCE_2), flusher);
  }
}

var flusher, needsInjection = false, toInject, toInjectAtEnd, toInjectAtStart;
function StyleInjector$1(){
}

defineClass(584, 1, {}, StyleInjector$1);
_.execute = function execute_14(){
  ($clinit_StyleInjector() , needsInjection) && flush();
}
;
var Lcom_google_gwt_dom_client_StyleInjector$1_2_classLit = createForClass('com.google.gwt.dom.client', 'StyleInjector/1', 584, Ljava_lang_Object_2_classLit);
function $clinit_StyleInjector$StyleInjectorImpl(){
  $clinit_StyleInjector$StyleInjectorImpl = emptyMethod;
  IMPL = new StyleInjector$StyleInjectorImpl;
}

function $createElement_0(contents){
  var style;
  style = $doc.createElement('style');
  $setPropertyString(style, 'language', 'text/css');
  $setInnerText(style, contents);
  return style;
}

function $getHead(this$static){
  var elt;
  if (!this$static.head) {
    elt = $doc.getElementsByTagName('head')[0];
    this$static.head = elt;
  }
  return this$static.head;
}

function $injectStyleSheet(this$static, contents){
  var style;
  style = $createElement_0(contents);
  $appendChild($getHead(this$static), style);
  return style;
}

function $injectStyleSheetAtStart(this$static, contents){
  var style;
  style = $createElement_0(contents);
  $insertBefore($getHead(this$static), style, this$static.head.firstChild);
  return style;
}

function StyleInjector$StyleInjectorImpl(){
}

defineClass(583, 1, {}, StyleInjector$StyleInjectorImpl);
var IMPL;
var Lcom_google_gwt_dom_client_StyleInjector$StyleInjectorImpl_2_classLit = createForClass('com.google.gwt.dom.client', 'StyleInjector/StyleInjectorImpl', 583, Ljava_lang_Object_2_classLit);
function $getRelativeX(this$static, target){
  return ($touchGetSubPixelClientX(this$static) | 0) - $getAbsoluteLeft_0(target) + $getScrollLeft_0(target) + $getScrollLeft(target.ownerDocument);
}

function $getRelativeY(this$static, target){
  return ($touchGetSubPixelClientY(this$static) | 0) - $getAbsoluteTop_0(target) + ($getSubPixelScrollTop(target) | 0) + $getScrollTop(target.ownerDocument);
}

defineClass(1477, 1, {});
_.toString$ = function toString_46(){
  return 'An event type';
}
;
var Lcom_google_web_bindery_event_shared_Event_2_classLit = createForClass('com.google.web.bindery.event.shared', 'Event', 1477, Ljava_lang_Object_2_classLit);
function $overrideSource(this$static, source){
  this$static.source = source;
}

defineClass($intern_85, 1477, {});
_.revive = function revive(){
  this.dead = false;
  this.source = null;
}
;
_.dead = false;
var Lcom_google_gwt_event_shared_GwtEvent_2_classLit = createForClass('com.google.gwt.event.shared', 'GwtEvent', $intern_85, Lcom_google_web_bindery_event_shared_Event_2_classLit);
function $setNativeEvent(this$static, nativeEvent){
  this$static.nativeEvent = nativeEvent;
}

function $setRelativeElement(this$static, relativeElem){
  this$static.relativeElem = relativeElem;
}

function fireNativeEvent(nativeEvent, handlerSource, relativeElem){
  var currentNative, currentRelativeElem, type_0, type$iterator, types;
  if (registered) {
    types = dynamicCast($unsafeGet(registered, nativeEvent.type), 38);
    if (types) {
      for (type$iterator = types.iterator(); type$iterator.hasNext();) {
        type_0 = dynamicCast(type$iterator.next_0(), 83);
        currentNative = type_0.flyweight.nativeEvent;
        currentRelativeElem = type_0.flyweight.relativeElem;
        $setNativeEvent(type_0.flyweight, nativeEvent);
        $setRelativeElement(type_0.flyweight, relativeElem);
        $fireEvent(handlerSource, type_0.flyweight);
        $setNativeEvent(type_0.flyweight, currentNative);
        $setRelativeElement(type_0.flyweight, currentRelativeElem);
      }
    }
  }
}

defineClass($intern_86, $intern_85, {});
_.getAssociatedType = function getAssociatedType(){
  return this.getAssociatedType_0();
}
;
var registered;
var Lcom_google_gwt_event_dom_client_DomEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'DomEvent', $intern_86, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function $clinit_BlurEvent(){
  $clinit_BlurEvent = emptyMethod;
  TYPE = new DomEvent$Type('blur', new BlurEvent);
}

function BlurEvent(){
}

defineClass(916, $intern_86, {}, BlurEvent);
_.dispatch = function dispatch(handler){
  dynamicCast(handler, 220).onBlur(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_0(){
  return TYPE;
}
;
var TYPE;
var Lcom_google_gwt_event_dom_client_BlurEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'BlurEvent', 916, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
function $clinit_ChangeEvent(){
  $clinit_ChangeEvent = emptyMethod;
  TYPE_0 = new DomEvent$Type('change', new ChangeEvent);
}

function ChangeEvent(){
}

defineClass(1113, $intern_86, {}, ChangeEvent);
_.dispatch = function dispatch_0(handler){
  dynamicCast(handler, 252).onChange(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_1(){
  return TYPE_0;
}
;
var TYPE_0;
var Lcom_google_gwt_event_dom_client_ChangeEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'ChangeEvent', 1113, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
defineClass(1511, $intern_86, {});
var Lcom_google_gwt_event_dom_client_HumanInputEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'HumanInputEvent', 1511, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
function $getRelativeX_0(this$static, target){
  var e;
  e = this$static.nativeEvent;
  return ($eventGetSubPixelClientX(e) | 0) - $getAbsoluteLeft_0(target) + $getScrollLeft_0(target) + $getScrollLeft(target.ownerDocument);
}

function $getRelativeY_0(this$static, target){
  var e;
  e = this$static.nativeEvent;
  return ($eventGetSubPixelClientY(e) | 0) - $getAbsoluteTop_0(target) + ($getSubPixelScrollTop(target) | 0) + $getScrollTop(target.ownerDocument);
}

function $getX(this$static){
  var relativeElem;
  relativeElem = this$static.relativeElem;
  if (relativeElem) {
    return $getRelativeX_0(this$static, relativeElem);
  }
  return $eventGetSubPixelClientX(this$static.nativeEvent) | 0;
}

function $getY(this$static){
  var relativeElem;
  relativeElem = this$static.relativeElem;
  if (relativeElem) {
    return $getRelativeY_0(this$static, relativeElem);
  }
  return $eventGetSubPixelClientY(this$static.nativeEvent) | 0;
}

defineClass(1512, 1511, {});
var Lcom_google_gwt_event_dom_client_MouseEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'MouseEvent', 1512, Lcom_google_gwt_event_dom_client_HumanInputEvent_2_classLit);
function $clinit_ClickEvent(){
  $clinit_ClickEvent = emptyMethod;
  TYPE_1 = new DomEvent$Type('click', new ClickEvent);
}

function ClickEvent(){
}

defineClass(901, 1512, {}, ClickEvent);
_.dispatch = function dispatch_1(handler){
  dynamicCast(handler, 22).onClick(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_2(){
  return TYPE_1;
}
;
var TYPE_1;
var Lcom_google_gwt_event_dom_client_ClickEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'ClickEvent', 901, Lcom_google_gwt_event_dom_client_MouseEvent_2_classLit);
function $clinit_ContextMenuEvent(){
  $clinit_ContextMenuEvent = emptyMethod;
  TYPE_2 = new DomEvent$Type('contextmenu', new ContextMenuEvent);
}

function $dispatch(this$static, handler){
  $onContextMenu(handler, this$static);
}

function ContextMenuEvent(){
}

defineClass(1347, $intern_86, {}, ContextMenuEvent);
_.dispatch = function dispatch_2(handler){
  $dispatch(this, dynamicCast(handler, 1547));
}
;
_.getAssociatedType_0 = function getAssociatedType_3(){
  return TYPE_2;
}
;
var TYPE_2;
var Lcom_google_gwt_event_dom_client_ContextMenuEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'ContextMenuEvent', 1347, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
defineClass(324, 1, {324:1});
_.hashCode$ = function hashCode_30(){
  return this.index_0;
}
;
_.toString$ = function toString_47(){
  return 'Event type';
}
;
_.index_0 = 0;
var nextHashCode = 0;
var Lcom_google_web_bindery_event_shared_Event$Type_2_classLit = createForClass('com.google.web.bindery.event.shared', 'Event/Type', 324, Ljava_lang_Object_2_classLit);
function GwtEvent$Type(){
  this.index_0 = ++nextHashCode;
}

defineClass(75, 324, {75:1, 324:1}, GwtEvent$Type);
var Lcom_google_gwt_event_shared_GwtEvent$Type_2_classLit = createForClass('com.google.gwt.event.shared', 'GwtEvent/Type', 75, Lcom_google_web_bindery_event_shared_Event$Type_2_classLit);
function DomEvent$Type(eventName, flyweight){
  var types;
  GwtEvent$Type.call(this);
  this.flyweight = flyweight;
  !registered && (registered = new PrivateMap);
  types = dynamicCast($unsafeGet(registered, eventName), 38);
  if (!types) {
    types = new ArrayList;
    $unsafePut(registered, eventName, types);
  }
  types.add_0(this);
  this.name_0 = eventName;
}

defineClass(83, 75, {83:1, 75:1, 324:1}, DomEvent$Type);
var Lcom_google_gwt_event_dom_client_DomEvent$Type_2_classLit = createForClass('com.google.gwt.event.dom.client', 'DomEvent/Type', 83, Lcom_google_gwt_event_shared_GwtEvent$Type_2_classLit);
function $clinit_EndedEvent(){
  $clinit_EndedEvent = emptyMethod;
  TYPE_3 = new DomEvent$Type('ended', new EndedEvent);
}

function $dispatch_0(handler){
  $fireOnPlaybackComplete(handler.this$01.soundHandlerCollection, handler.this$01);
}

function EndedEvent(){
}

defineClass(1386, $intern_86, {}, EndedEvent);
_.dispatch = function dispatch_3(handler){
  $dispatch_0(dynamicCast(handler, 1548));
}
;
_.getAssociatedType_0 = function getAssociatedType_4(){
  return TYPE_3;
}
;
var TYPE_3;
var Lcom_google_gwt_event_dom_client_EndedEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'EndedEvent', 1386, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
function $clinit_ErrorEvent(){
  $clinit_ErrorEvent = emptyMethod;
  TYPE_4 = new DomEvent$Type('error', new ErrorEvent_0);
}

function ErrorEvent_0(){
}

defineClass(1186, $intern_86, {}, ErrorEvent_0);
_.dispatch = function dispatch_4(handler){
  dynamicCast(handler, 361).onError_0(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_5(){
  return TYPE_4;
}
;
var TYPE_4;
var Lcom_google_gwt_event_dom_client_ErrorEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'ErrorEvent', 1186, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
function $clinit_FocusEvent(){
  $clinit_FocusEvent = emptyMethod;
  TYPE_5 = new DomEvent$Type('focus', new FocusEvent_0);
}

function FocusEvent_0(){
}

defineClass(915, $intern_86, {}, FocusEvent_0);
_.dispatch = function dispatch_5(handler){
  dynamicCast(handler, 219).onFocus(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_6(){
  return TYPE_5;
}
;
var TYPE_5;
var Lcom_google_gwt_event_dom_client_FocusEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'FocusEvent', 915, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
defineClass(1514, $intern_86, {});
var Lcom_google_gwt_event_dom_client_KeyEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'KeyEvent', 1514, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
defineClass(1515, 1514, {});
var Lcom_google_gwt_event_dom_client_KeyCodeEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'KeyCodeEvent', 1515, Lcom_google_gwt_event_dom_client_KeyEvent_2_classLit);
function isArrowKey(code_0){
  switch (code_0) {
    case 40:
    case 39:
    case 38:
    case 37:
      return true;
    default:return false;
  }
}

function $clinit_KeyDownEvent(){
  $clinit_KeyDownEvent = emptyMethod;
  TYPE_6 = new DomEvent$Type('keydown', new KeyDownEvent);
}

function KeyDownEvent(){
}

defineClass(930, 1515, {}, KeyDownEvent);
_.dispatch = function dispatch_6(handler){
  dynamicCast(handler, 321).onKeyDown(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_7(){
  return TYPE_6;
}
;
var TYPE_6;
var Lcom_google_gwt_event_dom_client_KeyDownEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'KeyDownEvent', 930, Lcom_google_gwt_event_dom_client_KeyCodeEvent_2_classLit);
function $clinit_KeyPressEvent(){
  $clinit_KeyPressEvent = emptyMethod;
  TYPE_7 = new DomEvent$Type('keypress', new KeyPressEvent);
}

function KeyPressEvent(){
}

defineClass(1421, 1514, {}, KeyPressEvent);
_.dispatch = function dispatch_7(handler){
  dynamicCast(handler, 1458).onKeyPress(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_8(){
  return TYPE_7;
}
;
var TYPE_7;
var Lcom_google_gwt_event_dom_client_KeyPressEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'KeyPressEvent', 1421, Lcom_google_gwt_event_dom_client_KeyEvent_2_classLit);
function $clinit_KeyUpEvent(){
  $clinit_KeyUpEvent = emptyMethod;
  TYPE_8 = new DomEvent$Type('keyup', new KeyUpEvent);
}

function KeyUpEvent(){
}

defineClass(1281, 1515, {}, KeyUpEvent);
_.dispatch = function dispatch_8(handler){
  dynamicCast(handler, 1455).onKeyUp(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_9(){
  return TYPE_8;
}
;
var TYPE_8;
var Lcom_google_gwt_event_dom_client_KeyUpEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'KeyUpEvent', 1281, Lcom_google_gwt_event_dom_client_KeyCodeEvent_2_classLit);
function $clinit_LoadEvent(){
  $clinit_LoadEvent = emptyMethod;
  TYPE_9 = new DomEvent$Type('load', new LoadEvent);
}

function LoadEvent(){
}

defineClass(1185, $intern_86, {}, LoadEvent);
_.dispatch = function dispatch_9(handler){
  dynamicCast(handler, 322).onLoad_0(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_10(){
  return TYPE_9;
}
;
var TYPE_9;
var Lcom_google_gwt_event_dom_client_LoadEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'LoadEvent', 1185, Lcom_google_gwt_event_dom_client_DomEvent_2_classLit);
function $clinit_MouseDownEvent(){
  $clinit_MouseDownEvent = emptyMethod;
  TYPE_10 = new DomEvent$Type('mousedown', new MouseDownEvent);
}

function MouseDownEvent(){
}

defineClass(911, 1512, {}, MouseDownEvent);
_.dispatch = function dispatch_10(handler){
  dynamicCast(handler, 85).onMouseDown(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_11(){
  return TYPE_10;
}
;
var TYPE_10;
var Lcom_google_gwt_event_dom_client_MouseDownEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'MouseDownEvent', 911, Lcom_google_gwt_event_dom_client_MouseEvent_2_classLit);
function $clinit_MouseMoveEvent(){
  $clinit_MouseMoveEvent = emptyMethod;
  TYPE_11 = new DomEvent$Type('mousemove', new MouseMoveEvent);
}

function MouseMoveEvent(){
}

defineClass(952, 1512, {}, MouseMoveEvent);
_.dispatch = function dispatch_11(handler){
  dynamicCast(handler, 132).onMouseMove(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_12(){
  return TYPE_11;
}
;
var TYPE_11;
var Lcom_google_gwt_event_dom_client_MouseMoveEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'MouseMoveEvent', 952, Lcom_google_gwt_event_dom_client_MouseEvent_2_classLit);
function $clinit_MouseOutEvent(){
  $clinit_MouseOutEvent = emptyMethod;
  TYPE_12 = new DomEvent$Type('mouseout', new MouseOutEvent);
}

function MouseOutEvent(){
}

defineClass(912, 1512, {}, MouseOutEvent);
_.dispatch = function dispatch_12(handler){
  dynamicCast(handler, 122).onMouseOut(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_13(){
  return TYPE_12;
}
;
var TYPE_12;
var Lcom_google_gwt_event_dom_client_MouseOutEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'MouseOutEvent', 912, Lcom_google_gwt_event_dom_client_MouseEvent_2_classLit);
function $clinit_MouseOverEvent(){
  $clinit_MouseOverEvent = emptyMethod;
  TYPE_13 = new DomEvent$Type('mouseover', new MouseOverEvent);
}

function MouseOverEvent(){
}

defineClass(913, 1512, {}, MouseOverEvent);
_.dispatch = function dispatch_13(handler){
  dynamicCast(handler, 140).onMouseOver(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_14(){
  return TYPE_13;
}
;
var TYPE_13;
var Lcom_google_gwt_event_dom_client_MouseOverEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'MouseOverEvent', 913, Lcom_google_gwt_event_dom_client_MouseEvent_2_classLit);
function $clinit_MouseUpEvent(){
  $clinit_MouseUpEvent = emptyMethod;
  TYPE_14 = new DomEvent$Type('mouseup', new MouseUpEvent);
}

function MouseUpEvent(){
}

defineClass(953, 1512, {}, MouseUpEvent);
_.dispatch = function dispatch_14(handler){
  dynamicCast(handler, 96).onMouseUp(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_15(){
  return TYPE_14;
}
;
var TYPE_14;
var Lcom_google_gwt_event_dom_client_MouseUpEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'MouseUpEvent', 953, Lcom_google_gwt_event_dom_client_MouseEvent_2_classLit);
function $clinit_MouseWheelEvent(){
  $clinit_MouseWheelEvent = emptyMethod;
  TYPE_15 = new DomEvent$Type('mousewheel', new MouseWheelEvent_0);
  new DomEvent$Type('DOMMouseScroll', new MouseWheelEvent_0);
}

function $dispatch_1(this$static){
  $eventPreventDefault(this$static.nativeEvent);
}

function MouseWheelEvent_0(){
}

defineClass(506, 1512, {}, MouseWheelEvent_0);
_.dispatch = function dispatch_15(handler){
  $dispatch_1(this, dynamicCast(handler, 1540));
}
;
_.getAssociatedType_0 = function getAssociatedType_16(){
  return TYPE_15;
}
;
var TYPE_15;
var Lcom_google_gwt_event_dom_client_MouseWheelEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'MouseWheelEvent', 506, Lcom_google_gwt_event_dom_client_MouseEvent_2_classLit);
function $unsafeGet(this$static, key){
  return this$static.map_0[key];
}

function $unsafePut(this$static, key, value_0){
  this$static.map_0[key] = value_0;
}

function PrivateMap(){
  this.map_0 = {};
}

defineClass($intern_87, 1, {}, PrivateMap);
var Lcom_google_gwt_event_dom_client_PrivateMap_2_classLit = createForClass('com.google.gwt.event.dom.client', 'PrivateMap', $intern_87, Ljava_lang_Object_2_classLit);
defineClass(1517, 1511, {});
var impl_3;
var Lcom_google_gwt_event_dom_client_TouchEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'TouchEvent', 1517, Lcom_google_gwt_event_dom_client_HumanInputEvent_2_classLit);
function $clinit_TouchCancelEvent(){
  $clinit_TouchCancelEvent = emptyMethod;
  TYPE_16 = new DomEvent$Type('touchcancel', new TouchCancelEvent);
}

function TouchCancelEvent(){
}

defineClass(1051, 1517, {}, TouchCancelEvent);
_.dispatch = function dispatch_16(handler){
  dynamicCast(handler, 525).onTouchCancel(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_17(){
  return TYPE_16;
}
;
var TYPE_16;
var Lcom_google_gwt_event_dom_client_TouchCancelEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'TouchCancelEvent', 1051, Lcom_google_gwt_event_dom_client_TouchEvent_2_classLit);
function $clinit_TouchEndEvent(){
  $clinit_TouchEndEvent = emptyMethod;
  TYPE_17 = new DomEvent$Type('touchend', new TouchEndEvent);
}

function TouchEndEvent(){
}

defineClass(957, 1517, {}, TouchEndEvent);
_.dispatch = function dispatch_17(handler){
  dynamicCast(handler, 130).onTouchEnd(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_18(){
  return TYPE_17;
}
;
var TYPE_17;
var Lcom_google_gwt_event_dom_client_TouchEndEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'TouchEndEvent', 957, Lcom_google_gwt_event_dom_client_TouchEvent_2_classLit);
function TouchEvent$TouchSupportDetector(){
  var elem;
  this.isSupported = (elem = document.createElement('div') , elem.setAttribute('ontouchstart', 'return;') , typeof elem.ontouchstart == 'function');
}

defineClass(955, 1, {}, TouchEvent$TouchSupportDetector);
_.isSupported = false;
var Lcom_google_gwt_event_dom_client_TouchEvent$TouchSupportDetector_2_classLit = createForClass('com.google.gwt.event.dom.client', 'TouchEvent/TouchSupportDetector', 955, Ljava_lang_Object_2_classLit);
function $clinit_TouchMoveEvent(){
  $clinit_TouchMoveEvent = emptyMethod;
  TYPE_18 = new DomEvent$Type('touchmove', new TouchMoveEvent);
}

function TouchMoveEvent(){
}

defineClass(956, 1517, {}, TouchMoveEvent);
_.dispatch = function dispatch_18(handler){
  dynamicCast(handler, 131).onTouchMove(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_19(){
  return TYPE_18;
}
;
var TYPE_18;
var Lcom_google_gwt_event_dom_client_TouchMoveEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'TouchMoveEvent', 956, Lcom_google_gwt_event_dom_client_TouchEvent_2_classLit);
function $clinit_TouchStartEvent(){
  $clinit_TouchStartEvent = emptyMethod;
  TYPE_19 = new DomEvent$Type('touchstart', new TouchStartEvent);
}

function TouchStartEvent(){
}

defineClass(954, 1517, {}, TouchStartEvent);
_.dispatch = function dispatch_19(handler){
  dynamicCast(handler, 129).onTouchStart(this);
}
;
_.getAssociatedType_0 = function getAssociatedType_20(){
  return TYPE_19;
}
;
var TYPE_19;
var Lcom_google_gwt_event_dom_client_TouchStartEvent_2_classLit = createForClass('com.google.gwt.event.dom.client', 'TouchStartEvent', 954, Lcom_google_gwt_event_dom_client_TouchEvent_2_classLit);
function $dispatch_2(this$static, handler){
  this$static.attached?$setupBustClickHandler(handler.this$01):$removeBustClickHandler(handler.this$01);
}

function AttachEvent(attached){
  this.attached = attached;
}

function fire_0(source, attached){
  var event_0;
  if (TYPE_20) {
    event_0 = new AttachEvent(attached);
    !!source.handlerManager && $fireEvent_0(source.handlerManager, event_0);
  }
}

defineClass(970, $intern_85, {}, AttachEvent);
_.dispatch = function dispatch_20(handler){
  $dispatch_2(this, dynamicCast(handler, 1543));
}
;
_.getAssociatedType = function getAssociatedType_21(){
  return TYPE_20;
}
;
_.attached = false;
var TYPE_20;
var Lcom_google_gwt_event_logical_shared_AttachEvent_2_classLit = createForClass('com.google.gwt.event.logical.shared', 'AttachEvent', 970, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function $dispatch_3(this$static, handler){
  dynamicCast(handler.listener, 520).onBeforeTabSelected(dynamicCast(this$static.source, 359), this$static.item_0.value_0) || (this$static.canceled = true);
}

function BeforeSelectionEvent(){
}

function fire_1(source, item_0){
  var event_0;
  if (TYPE_21) {
    event_0 = new BeforeSelectionEvent;
    event_0.item_0 = item_0;
    source.fireEvent(event_0);
    return event_0;
  }
  return null;
}

defineClass(1038, $intern_85, {}, BeforeSelectionEvent);
_.dispatch = function dispatch_21(handler){
  $dispatch_3(this, dynamicCast(handler, 1541));
}
;
_.getAssociatedType = function getAssociatedType_22(){
  return TYPE_21;
}
;
_.canceled = false;
var TYPE_21;
var Lcom_google_gwt_event_logical_shared_BeforeSelectionEvent_2_classLit = createForClass('com.google.gwt.event.logical.shared', 'BeforeSelectionEvent', 1038, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function CloseEvent_0(){
}

function fire_2(source){
  var event_0;
  if (TYPE_22) {
    event_0 = new CloseEvent_0;
    source.fireEvent(event_0);
  }
}

defineClass(969, $intern_85, {}, CloseEvent_0);
_.dispatch = function dispatch_22(handler){
  dynamicCast(handler, 1452).onClose(this);
}
;
_.getAssociatedType = function getAssociatedType_23(){
  return TYPE_22;
}
;
var TYPE_22;
var Lcom_google_gwt_event_logical_shared_CloseEvent_2_classLit = createForClass('com.google.gwt.event.logical.shared', 'CloseEvent', 969, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function $dispatch_4(handler){
  $updateImage(handler.imager, handler.this$01.isOpen, handler.iconImage);
}

function OpenEvent(){
}

function fire_3(source){
  var event_0;
  if (TYPE_23) {
    event_0 = new OpenEvent;
    !!source.handlerManager && $fireEvent_0(source.handlerManager, event_0);
  }
}

defineClass(1040, $intern_85, {}, OpenEvent);
_.dispatch = function dispatch_23(handler){
  $dispatch_4(dynamicCast(handler, 1538));
}
;
_.getAssociatedType = function getAssociatedType_24(){
  return TYPE_23;
}
;
var TYPE_23;
var Lcom_google_gwt_event_logical_shared_OpenEvent_2_classLit = createForClass('com.google.gwt.event.logical.shared', 'OpenEvent', 1040, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function ResizeEvent(){
}

function fire_4(source){
  var event_0;
  if (TYPE_24) {
    event_0 = new ResizeEvent;
    $fireEvent_0(source, event_0);
  }
}

defineClass(892, $intern_85, {}, ResizeEvent);
_.dispatch = function dispatch_24(handler){
  dynamicCast(handler, 517).onResize(this);
}
;
_.getAssociatedType = function getAssociatedType_25(){
  return TYPE_24;
}
;
var TYPE_24;
var Lcom_google_gwt_event_logical_shared_ResizeEvent_2_classLit = createForClass('com.google.gwt.event.logical.shared', 'ResizeEvent', 892, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function SelectionEvent(selectedItem){
  this.selectedItem = selectedItem;
}

function fire_5(source, selectedItem){
  var event_0;
  if (TYPE_25) {
    event_0 = new SelectionEvent(selectedItem);
    source.fireEvent(event_0);
  }
}

defineClass(1039, $intern_85, {}, SelectionEvent);
_.dispatch = function dispatch_25(handler){
  dynamicCast(handler, 1454).onSelection(this);
}
;
_.getAssociatedType = function getAssociatedType_26(){
  return TYPE_25;
}
;
var TYPE_25;
var Lcom_google_gwt_event_logical_shared_SelectionEvent_2_classLit = createForClass('com.google.gwt.event.logical.shared', 'SelectionEvent', 1039, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function ValueChangeEvent(value_0){
  this.value_0 = value_0;
}

function fire_6(source, value_0){
  var event_0;
  if (TYPE_26) {
    event_0 = new ValueChangeEvent(value_0);
    source.fireEvent(event_0);
  }
}

function fireIfNotEqual(source, oldValue, newValue){
  var event_0;
  if (!!TYPE_26 && oldValue != newValue && (!oldValue || !(!!newValue && newValue.value_0 == oldValue.value_0))) {
    event_0 = new ValueChangeEvent(newValue);
    !!source.handlerManager && $fireEvent_0(source.handlerManager, event_0);
  }
}

defineClass(459, $intern_85, {}, ValueChangeEvent);
_.dispatch = function dispatch_26(handler){
  dynamicCast(handler, 208).onValueChange(this);
}
;
_.getAssociatedType = function getAssociatedType_27(){
  return TYPE_26;
}
;
var TYPE_26;
var Lcom_google_gwt_event_logical_shared_ValueChangeEvent_2_classLit = createForClass('com.google.gwt.event.logical.shared', 'ValueChangeEvent', 459, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function $addHandler_0(this$static, type_0, handler){
  return new LegacyHandlerWrapper($doAdd(this$static.eventBus, type_0, handler));
}

function $fireEvent_0(this$static, event_0){
  var e, oldSource;
  !event_0.dead || event_0.revive();
  oldSource = event_0.source;
  $overrideSource(event_0, this$static.source);
  try {
    $doFire(this$static.eventBus, event_0);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 256)) {
      e = $e0;
      throw new UmbrellaException_0(e.causes);
    }
     else 
      throw unwrap($e0);
  }
   finally {
    oldSource == null?(event_0.dead = true , event_0.source = null):(event_0.source = oldSource);
  }
}

function $isEventHandled(this$static, e){
  return $isEventHandled_0(this$static.eventBus, e);
}

function HandlerManager(source){
  HandlerManager_0.call(this, source, false);
}

function HandlerManager_0(source, fireInReverseOrder){
  this.eventBus = new HandlerManager$Bus(fireInReverseOrder);
  this.source = source;
}

defineClass(229, 1, {16:1}, HandlerManager, HandlerManager_0);
_.fireEvent = function fireEvent_0(event_0){
  $fireEvent_0(this, event_0);
}
;
var Lcom_google_gwt_event_shared_HandlerManager_2_classLit = createForClass('com.google.gwt.event.shared', 'HandlerManager', 229, Ljava_lang_Object_2_classLit);
defineClass(1491, 1, {});
var Lcom_google_web_bindery_event_shared_EventBus_2_classLit = createForClass('com.google.web.bindery.event.shared', 'EventBus', 1491, Ljava_lang_Object_2_classLit);
function $defer(this$static, command){
  !this$static.deferredDeltas && (this$static.deferredDeltas = new ArrayList);
  this$static.deferredDeltas.add_0(command);
}

function $doAdd(this$static, type_0, handler){
  if (!type_0) {
    throw new NullPointerException_0('Cannot add a handler with a null type');
  }
  if (!handler) {
    throw new NullPointerException_0('Cannot add a null handler');
  }
  this$static.firingDepth > 0?$defer(this$static, new SimpleEventBus$2(this$static, type_0, handler)):$doAddNow(this$static, type_0, null, handler);
  return new SimpleEventBus$1(this$static, type_0, handler);
}

function $doAddNow(this$static, type_0, source, handler){
  var l;
  l = $ensureHandlerList(this$static, type_0, source);
  l.add_0(handler);
}

function $doFire(this$static, event_0){
  var causes, e, handler, handlers, it;
  if (!event_0) {
    throw new NullPointerException_0('Cannot fire null event');
  }
  try {
    ++this$static.firingDepth;
    handlers = $getDispatchList(this$static, event_0.getAssociatedType());
    causes = null;
    it = this$static.isReverseOrder?handlers.listIterator_0(handlers.size_1()):handlers.listIterator();
    while (this$static.isReverseOrder?it.hasPrevious():it.hasNext()) {
      handler = this$static.isReverseOrder?it.previous():it.next_0();
      try {
        event_0.dispatch(dynamicCast(handler, 6));
      }
       catch ($e0) {
        $e0 = wrap($e0);
        if (instanceOf($e0, 40)) {
          e = $e0;
          !causes && (causes = new HashSet);
          $add_21(causes, e);
        }
         else 
          throw unwrap($e0);
      }
    }
    if (causes) {
      throw new UmbrellaException(causes);
    }
  }
   finally {
    --this$static.firingDepth;
    this$static.firingDepth == 0 && $handleQueuedAddsAndRemoves(this$static);
  }
}

function $doRemove(this$static, type_0, handler){
  this$static.firingDepth > 0?$defer(this$static, new SimpleEventBus$3(this$static, type_0, null, handler)):$doRemoveNow(this$static, type_0, null, handler);
}

function $doRemoveNow(this$static, type_0, source, handler){
  var l, removed, sourceMap;
  l = $getHandlerList(this$static, type_0, source);
  removed = l.remove(handler);
  removed && l.isEmpty_0() && (sourceMap = dynamicCast(this$static.map_0.get_2(type_0), 47) , dynamicCast(sourceMap.remove_3(source), 38) , sourceMap.isEmpty_0() && this$static.map_0.remove_3(type_0) , undefined);
}

function $ensureHandlerList(this$static, type_0, source){
  var handlers, sourceMap;
  sourceMap = dynamicCast(this$static.map_0.get_2(type_0), 47);
  if (!sourceMap) {
    sourceMap = new HashMap;
    this$static.map_0.put(type_0, sourceMap);
  }
  handlers = dynamicCast(sourceMap.get_2(source), 38);
  if (!handlers) {
    handlers = new ArrayList;
    sourceMap.put(source, handlers);
  }
  return handlers;
}

function $getDispatchList(this$static, type_0){
  var directHandlers;
  directHandlers = $getHandlerList(this$static, type_0, null);
  return directHandlers;
}

function $getHandler(this$static, type_0, index_0){
  var l;
  l = $getHandlerList(this$static, type_0, null);
  return l.get_0(index_0);
}

function $getHandlerList(this$static, type_0, source){
  var handlers, sourceMap;
  sourceMap = dynamicCast(this$static.map_0.get_2(type_0), 47);
  if (!sourceMap) {
    return $clinit_Collections() , $clinit_Collections() , EMPTY_LIST;
  }
  handlers = dynamicCast(sourceMap.get_2(source), 38);
  if (!handlers) {
    return $clinit_Collections() , $clinit_Collections() , EMPTY_LIST;
  }
  return handlers;
}

function $handleQueuedAddsAndRemoves(this$static){
  var c, c$iterator;
  if (this$static.deferredDeltas) {
    try {
      for (c$iterator = new AbstractList$IteratorImpl(this$static.deferredDeltas); c$iterator.i < c$iterator.this$01_0.size_1();) {
        c = (checkCriticalElement(c$iterator.i < c$iterator.this$01_0.size_1()) , dynamicCast(c$iterator.this$01_0.get_0(c$iterator.last = c$iterator.i++), 1453));
        c.execute();
      }
    }
     finally {
      this$static.deferredDeltas = null;
    }
  }
}

function $isEventHandled_0(this$static, eventKey){
  return this$static.map_0.containsKey(eventKey);
}

defineClass(801, 1491, {});
_.firingDepth = 0;
_.isReverseOrder = false;
var Lcom_google_web_bindery_event_shared_SimpleEventBus_2_classLit = createForClass('com.google.web.bindery.event.shared', 'SimpleEventBus', 801, Lcom_google_web_bindery_event_shared_EventBus_2_classLit);
function $doRemove_0(this$static, type_0, source, handler){
  this$static.firingDepth > 0?$defer(this$static, new SimpleEventBus$3(this$static, type_0, source, handler)):$doRemoveNow(this$static, type_0, source, handler);
}

function HandlerManager$Bus(fireInReverseOrder){
  this.map_0 = new HashMap;
  this.isReverseOrder = fireInReverseOrder;
}

defineClass(802, 801, {}, HandlerManager$Bus);
var Lcom_google_gwt_event_shared_HandlerManager$Bus_2_classLit = createForClass('com.google.gwt.event.shared', 'HandlerManager/Bus', 802, Lcom_google_web_bindery_event_shared_SimpleEventBus_2_classLit);
function LegacyHandlerWrapper(real){
  this.real = real;
}

defineClass(947, 1, {1539:1}, LegacyHandlerWrapper);
var Lcom_google_gwt_event_shared_LegacyHandlerWrapper_2_classLit = createForClass('com.google.gwt.event.shared', 'LegacyHandlerWrapper', 947, Ljava_lang_Object_2_classLit);
function UmbrellaException(causes){
  RuntimeException_1.call(this, makeMessage(causes), makeCause(causes));
  this.causes = causes;
}

function makeCause(causes){
  var iterator;
  iterator = causes.iterator();
  if (!iterator.hasNext()) {
    return null;
  }
  return dynamicCast(iterator.next_0(), 40);
}

function makeMessage(causes){
  var b, count, first, t, t$iterator;
  count = causes.size_1();
  if (count == 0) {
    return null;
  }
  b = new StringBuilder_1(count == 1?'Exception caught: ':count + ' exceptions caught: ');
  first = true;
  for (t$iterator = causes.iterator(); t$iterator.hasNext();) {
    t = dynamicCast(t$iterator.next_0(), 40);
    first?(first = false):(b.string += '; ' , b);
    $append_6(b, t.getMessage());
  }
  return b.string;
}

defineClass(256, 52, $intern_88, UmbrellaException);
var Lcom_google_web_bindery_event_shared_UmbrellaException_2_classLit = createForClass('com.google.web.bindery.event.shared', 'UmbrellaException', 256, Ljava_lang_RuntimeException_2_classLit);
function UmbrellaException_0(causes){
  UmbrellaException.call(this, causes);
}

defineClass(428, 256, $intern_88, UmbrellaException_0);
var Lcom_google_gwt_event_shared_UmbrellaException_2_classLit = createForClass('com.google.gwt.event.shared', 'UmbrellaException', 428, Lcom_google_web_bindery_event_shared_UmbrellaException_2_classLit);
function $cancel_1(this$static){
  var xhr;
  if (!this$static.xmlHttpRequest) {
    return;
  }
  $cancel(this$static.timer);
  xhr = this$static.xmlHttpRequest;
  this$static.xmlHttpRequest = null;
  $clearOnReadyStateChange(xhr);
  xhr.abort();
}

function $fireOnResponseReceived(this$static, callback){
  var response, xhr;
  if (!this$static.xmlHttpRequest) {
    return;
  }
  $cancel(this$static.timer);
  xhr = this$static.xmlHttpRequest;
  this$static.xmlHttpRequest = null;
  response = new ResponseImpl(xhr);
  callback.onResponseReceived(this$static, response);
}

function $fireOnTimeout(this$static){
  if (!this$static.xmlHttpRequest) {
    return;
  }
  $cancel_1(this$static);
  this$static.callback.onError_1(this$static, new RequestTimeoutException(this$static.timeoutMillis));
}

function Request(xmlHttpRequest, timeoutMillis, callback){
  this.timer = new Request$1(this);
  if (!xmlHttpRequest) {
    throw new NullPointerException;
  }
  if (timeoutMillis < 0) {
    throw new IllegalArgumentException;
  }
  this.callback = callback;
  this.timeoutMillis = timeoutMillis;
  this.xmlHttpRequest = xmlHttpRequest;
  timeoutMillis > 0 && $schedule(this.timer, timeoutMillis);
}

defineClass(1045, 1, {}, Request);
_.timeoutMillis = 0;
var Lcom_google_gwt_http_client_Request_2_classLit = createForClass('com.google.gwt.http.client', 'Request', 1045, Ljava_lang_Object_2_classLit);
function Request$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1047, 61, {}, Request$1);
_.run = function run_20(){
  $fireOnTimeout(this.this$01);
}
;
var Lcom_google_gwt_http_client_Request$1_2_classLit = createForClass('com.google.gwt.http.client', 'Request/1', 1047, Lcom_google_gwt_user_client_Timer_2_classLit);
function $clinit_RequestBuilder(){
  $clinit_RequestBuilder = emptyMethod;
  new RequestBuilder$Method('DELETE');
  GET = new RequestBuilder$Method('GET');
  new RequestBuilder$Method('HEAD');
  POST = new RequestBuilder$Method('POST');
  new RequestBuilder$Method('PUT');
}

function $doSend(this$static, requestData, callback){
  var e, request, requestPermissionException, xmlHttpRequest;
  xmlHttpRequest = new $wnd.XMLHttpRequest;
  try {
    $open(xmlHttpRequest, this$static.httpMethod, this$static.url_0);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 167)) {
      e = $e0;
      requestPermissionException = new RequestPermissionException(this$static.url_0);
      $initCause(requestPermissionException, new RequestException(e.getMessage()));
      throw requestPermissionException;
    }
     else 
      throw unwrap($e0);
  }
  $setHeaders(this$static, xmlHttpRequest);
  this$static.includeCredentials && (xmlHttpRequest.withCredentials = true , undefined);
  request = new Request(xmlHttpRequest, this$static.timeoutMillis, callback);
  $setOnReadyStateChange(xmlHttpRequest, new RequestBuilder$1(request, callback));
  try {
    xmlHttpRequest.send(requestData);
  }
   catch ($e1) {
    $e1 = wrap($e1);
    if (instanceOf($e1, 167)) {
      e = $e1;
      throw new RequestException(e.getMessage());
    }
     else 
      throw unwrap($e1);
  }
  return request;
}

function $sendRequest(this$static, requestData, callback){
  throwIfNull('callback', callback);
  return $doSend(this$static, requestData, callback);
}

function $setHeaders(this$static, xmlHttpRequest){
  var e, header, header$iterator;
  if (!!this$static.headers && this$static.headers.size_1() > 0) {
    for (header$iterator = this$static.headers.entrySet_0().iterator(); header$iterator.hasNext();) {
      header = dynamicCast(header$iterator.next_0(), 31);
      try {
        $setRequestHeader(xmlHttpRequest, dynamicCastToString(header.getKey()), dynamicCastToString(header.getValue()));
      }
       catch ($e0) {
        $e0 = wrap($e0);
        if (instanceOf($e0, 167)) {
          e = $e0;
          throw new RequestException(e.getMessage());
        }
         else 
          throw unwrap($e0);
      }
    }
  }
   else {
    $setRequestHeader(xmlHttpRequest, 'Content-Type', 'text/plain; charset=utf-8');
  }
}

function RequestBuilder(httpMethod, url_0){
  $clinit_RequestBuilder();
  RequestBuilder_0.call(this, !httpMethod?null:httpMethod.name_0, url_0);
}

function RequestBuilder_0(httpMethod, url_0){
  throwIfEmptyOrNull('httpMethod', httpMethod);
  throwIfEmptyOrNull('url', url_0);
  this.httpMethod = httpMethod;
  this.url_0 = url_0;
}

defineClass(118, 1, {}, RequestBuilder);
_.includeCredentials = false;
_.timeoutMillis = 0;
var GET, POST;
var Lcom_google_gwt_http_client_RequestBuilder_2_classLit = createForClass('com.google.gwt.http.client', 'RequestBuilder', 118, Ljava_lang_Object_2_classLit);
function RequestBuilder$1(val$request, val$callback){
  this.val$request2 = val$request;
  this.val$callback3 = val$callback;
}

defineClass(1044, 1, {}, RequestBuilder$1);
_.onReadyStateChange = function onReadyStateChange(xhr){
  if (xhr.readyState == 4) {
    $clearOnReadyStateChange(xhr);
    $fireOnResponseReceived(this.val$request2, this.val$callback3);
  }
}
;
var Lcom_google_gwt_http_client_RequestBuilder$1_2_classLit = createForClass('com.google.gwt.http.client', 'RequestBuilder/1', 1044, Ljava_lang_Object_2_classLit);
function RequestBuilder$Method(name_0){
  this.name_0 = name_0;
}

defineClass(295, 1, {}, RequestBuilder$Method);
_.toString$ = function toString_48(){
  return this.name_0;
}
;
var Lcom_google_gwt_http_client_RequestBuilder$Method_2_classLit = createForClass('com.google.gwt.http.client', 'RequestBuilder/Method', 295, Ljava_lang_Object_2_classLit);
function RequestException(message){
  Exception_0.call(this, message);
}

defineClass(84, 37, $intern_89, RequestException);
var Lcom_google_gwt_http_client_RequestException_2_classLit = createForClass('com.google.gwt.http.client', 'RequestException', 84, Ljava_lang_Exception_2_classLit);
function RequestPermissionException(url_0){
  RequestException.call(this, 'The URL ' + url_0 + ' is invalid or violates the same-origin security restriction');
}

defineClass(1156, 84, $intern_89, RequestPermissionException);
var Lcom_google_gwt_http_client_RequestPermissionException_2_classLit = createForClass('com.google.gwt.http.client', 'RequestPermissionException', 1156, Lcom_google_gwt_http_client_RequestException_2_classLit);
function RequestTimeoutException(timeoutMillis){
  RequestException.call(this, 'A request timeout has expired after ' + timeoutMillis + ' ms');
}

defineClass(1356, 84, $intern_89, RequestTimeoutException);
var Lcom_google_gwt_http_client_RequestTimeoutException_2_classLit = createForClass('com.google.gwt.http.client', 'RequestTimeoutException', 1356, Lcom_google_gwt_http_client_RequestException_2_classLit);
defineClass(1521, 1, {});
var Lcom_google_gwt_http_client_Response_2_classLit = createForClass('com.google.gwt.http.client', 'Response', 1521, Ljava_lang_Object_2_classLit);
function ResponseImpl(xmlHttpRequest){
  this.xmlHttpRequest = xmlHttpRequest;
}

defineClass(1046, 1521, {}, ResponseImpl);
var Lcom_google_gwt_http_client_ResponseImpl_2_classLit = createForClass('com.google.gwt.http.client', 'ResponseImpl', 1046, Lcom_google_gwt_http_client_Response_2_classLit);
function throwIfEmptyOrNull(name_0, value_0){
  throwIfNull(name_0, value_0);
  if (0 == $trim(value_0).length) {
    throw new IllegalArgumentException_0(name_0 + ' cannot be empty');
  }
}

function throwIfNull(name_0, value_0){
  if (null == value_0) {
    throw new NullPointerException_0(name_0 + ' cannot be null');
  }
}

function decodeQueryString(encodedURLComponent){
  throwIfNull('encodedURLComponent', encodedURLComponent);
  return decodeQueryStringImpl(encodedURLComponent);
}

function decodeQueryStringImpl(encodedURLComponent){
  var regexp = /\+/g;
  return decodeURIComponent(encodedURLComponent.replace(regexp, '%20'));
}

function encodeQueryString(decodedURLComponent){
  throwIfNull('decodedURLComponent', decodedURLComponent);
  return encodeQueryStringImpl(decodedURLComponent);
}

function encodeQueryStringImpl(decodedURLComponent){
  var regexp = /%20/g;
  return encodeURIComponent(decodedURLComponent).replace(regexp, '+');
}

function getDirectionOnElement(elem){
  var dirPropertyValue;
  dirPropertyValue = $getPropertyString(elem, 'dir');
  if ($equalsIgnoreCase('rtl', dirPropertyValue)) {
    return $clinit_HasDirection$Direction() , RTL;
  }
   else if ($equalsIgnoreCase('ltr', dirPropertyValue)) {
    return $clinit_HasDirection$Direction() , LTR;
  }
  return $clinit_HasDirection$Direction() , DEFAULT;
}

function setDirectionOnElement(elem, direction){
  switch (direction.ordinal) {
    case 0:
      {
        $setPropertyString(elem, 'dir', 'rtl');
        break;
      }

    case 1:
      {
        $setPropertyString(elem, 'dir', 'ltr');
        break;
      }

    case 2:
      {
        getDirectionOnElement(elem) != ($clinit_HasDirection$Direction() , DEFAULT) && $setPropertyString(elem, 'dir', '');
        break;
      }

  }
}

function $getDefaultNative(){
  return ['USD', 'US$', 2, 'US$', '$'];
}

function $clinit_Dictionary(){
  $clinit_Dictionary = emptyMethod;
  cache = new HashMap;
}

function $attach(this$static, name_0){
  try {
    typeof $wnd[name_0] != 'object' && resourceErrorBadType(name_0);
    this$static.dict = $wnd[name_0];
  }
   catch (e) {
    resourceErrorBadType(name_0);
  }
}

function $get_9(this$static, key){
  key = String(key);
  var map_0 = this$static.dict;
  var value_0 = map_0[key];
  (value_0 == null || !map_0.hasOwnProperty(key)) && this$static.resourceError(key);
  return String(value_0);
}

function Dictionary(){
  this.label_0 = 'Dictionary gamesettings';
  $attach(this, 'gamesettings');
  if (!this.dict) {
    throw new MissingResourceException("Cannot find JavaScript object with the name 'gamesettings'");
  }
}

function getDictionary(){
  $clinit_Dictionary();
  var target;
  target = dynamicCast(cache.get_2('gamesettings'), 385);
  if (!target) {
    target = new Dictionary;
    cache.put('gamesettings', target);
  }
  return target;
}

function resourceErrorBadType(name_0){
  throw new MissingResourceException("'" + name_0 + "' is not a JavaScript object and cannot be used as a Dictionary");
}

defineClass(385, 1, {385:1}, Dictionary);
_.resourceError = function resourceError(key){
  var error;
  error = "Cannot find '" + key + "' in " + this;
  throw new MissingResourceException(error);
}
;
_.toString$ = function toString_49(){
  return this.label_0;
}
;
var cache;
var Lcom_google_gwt_i18n_client_Dictionary_2_classLit = createForClass('com.google.gwt.i18n.client', 'Dictionary', 385, Ljava_lang_Object_2_classLit);
function $clinit_HasDirection$Direction(){
  $clinit_HasDirection$Direction = emptyMethod;
  RTL = new HasDirection$Direction('RTL', 0);
  LTR = new HasDirection$Direction('LTR', 1);
  DEFAULT = new HasDirection$Direction('DEFAULT', 2);
}

function HasDirection$Direction(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_21(name_0){
  $clinit_HasDirection$Direction();
  return valueOf(($clinit_HasDirection$Direction$Map() , $MAP_19), name_0);
}

function values_27(){
  $clinit_HasDirection$Direction();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_i18n_client_HasDirection$Direction_2_classLit, 1), $intern_1, 254, 0, [RTL, LTR, DEFAULT]);
}

defineClass(254, 9, {254:1, 3:1, 21:1, 9:1}, HasDirection$Direction);
var DEFAULT, LTR, RTL;
var Lcom_google_gwt_i18n_client_HasDirection$Direction_2_classLit = createForEnum('com.google.gwt.i18n.client', 'HasDirection/Direction', 254, Ljava_lang_Enum_2_classLit, values_27, valueOf_21);
function $clinit_HasDirection$Direction$Map(){
  $clinit_HasDirection$Direction$Map = emptyMethod;
  $MAP_19 = createValueOfMap(($clinit_HasDirection$Direction() , initValues(getClassLiteralForArray(Lcom_google_gwt_i18n_client_HasDirection$Direction_2_classLit, 1), $intern_1, 254, 0, [RTL, LTR, DEFAULT])));
}

var $MAP_19;
function $clinit_LocaleInfo(){
  $clinit_LocaleInfo = emptyMethod;
  instance_1 = new LocaleInfo;
}

function $getNumberConstants(this$static){
  !this$static.numberConstants && (this$static.numberConstants = new NumberConstantsImpl_);
  return this$static.numberConstants;
}

function LocaleInfo(){
}

defineClass(883, 1, {}, LocaleInfo);
var instance_1;
var Lcom_google_gwt_i18n_client_LocaleInfo_2_classLit = createForClass('com.google.gwt.i18n.client', 'LocaleInfo', 883, Ljava_lang_Object_2_classLit);
function $clinit_NumberFormat(){
  $clinit_NumberFormat = emptyMethod;
  $getNumberConstants(($clinit_LocaleInfo() , $clinit_LocaleInfo() , instance_1));
}

function $addExponent(this$static, digits){
  var exponentDigits, i;
  digits.string += 'E';
  if (this$static.exponent < 0) {
    this$static.exponent = -this$static.exponent;
    digits.string += '-';
  }
  exponentDigits = '' + this$static.exponent;
  for (i = exponentDigits.length; i < this$static.minExponentDigits; ++i) {
    digits.string += '0';
  }
  digits.string += exponentDigits;
}

function $addZeroAndDecimal(this$static, digits){
  if (this$static.digitsLength == 0) {
    digits.string = $substring_0(digits.string, 0, 0) + '0' + $substring(digits.string, 0);
    ++this$static.decimalPosition;
    ++this$static.digitsLength;
  }
  if (this$static.decimalPosition < this$static.digitsLength || this$static.decimalSeparatorAlwaysShown) {
    $insert_6(digits, this$static.decimalPosition, '.');
    ++this$static.digitsLength;
  }
}

function $adjustFractionDigits(this$static, digits){
  var requiredDigits, toRemove;
  requiredDigits = this$static.decimalPosition + this$static.minimumFractionDigits;
  if (this$static.digitsLength < requiredDigits) {
    while (this$static.digitsLength < requiredDigits) {
      digits.string += '0';
      ++this$static.digitsLength;
    }
  }
   else {
    toRemove = this$static.decimalPosition + this$static.maximumFractionDigits;
    toRemove > this$static.digitsLength && (toRemove = this$static.digitsLength);
    while (toRemove > requiredDigits && $charAt_0(digits.string, toRemove - 1) == 48) {
      --toRemove;
    }
    if (toRemove < this$static.digitsLength) {
      $delete(digits, toRemove, this$static.digitsLength);
      this$static.digitsLength = toRemove;
    }
  }
}

function $computeExponent(this$static, digits){
  var remainder, strip;
  strip = 0;
  while (strip < this$static.digitsLength - 1 && $charAt_0(digits.string, strip) == 48) {
    ++strip;
  }
  if (strip > 0) {
    digits.string = $substring_0(digits.string, 0, 0) + '' + $substring(digits.string, strip);
    this$static.digitsLength -= strip;
    this$static.exponent -= strip;
  }
  if (this$static.maximumIntegerDigits > this$static.minimumIntegerDigits && this$static.maximumIntegerDigits > 0) {
    this$static.exponent += this$static.decimalPosition - 1;
    remainder = this$static.exponent % this$static.maximumIntegerDigits;
    remainder < 0 && (remainder += this$static.maximumIntegerDigits);
    this$static.decimalPosition = remainder + 1;
    this$static.exponent -= remainder;
  }
   else {
    this$static.exponent += this$static.decimalPosition - this$static.minimumIntegerDigits;
    this$static.decimalPosition = this$static.minimumIntegerDigits;
  }
  if (this$static.digitsLength == 1 && digits.string.charCodeAt(0) == 48) {
    this$static.exponent = 0;
    this$static.decimalPosition = this$static.minimumIntegerDigits;
  }
}

function $format(this$static, number){
  var buf, isNegative, preRound, scale, useExponent, currentGroupingSize;
  if (isNaN(number)) {
    return 'NaN';
  }
  isNegative = number < 0 || number == 0 && 1 / number < 0;
  isNegative && (number = -number);
  buf = new StringBuilder;
  if (!isFinite(number) && !isNaN(number)) {
    $append_6(buf, isNegative?this$static.negativePrefix:this$static.positivePrefix);
    buf.string += '\u221E';
    $append_6(buf, isNegative?this$static.negativeSuffix:this$static.positiveSuffix);
    return buf.string;
  }
  number *= this$static.multiplier;
  scale = toScaledString(buf, number);
  preRound = buf.string.length + scale + this$static.maximumFractionDigits + 3;
  if (preRound > 0 && preRound < buf.string.length && $charAt_0(buf.string, preRound) == 57) {
    $propagateCarry(this$static, buf, preRound - 1);
    scale += buf.string.length - preRound;
    $delete(buf, preRound, buf.string.length);
  }
  this$static.exponent = 0;
  this$static.digitsLength = buf.string.length;
  this$static.decimalPosition = this$static.digitsLength + scale;
  useExponent = this$static.useExponentialNotation;
  currentGroupingSize = this$static.groupingSize;
  this$static.decimalPosition > $intern_87 && (useExponent = true);
  useExponent && $computeExponent(this$static, buf);
  $processLeadingZeros(this$static, buf);
  $roundValue(this$static, buf);
  $insertGroupingSeparators(this$static, buf, currentGroupingSize);
  $adjustFractionDigits(this$static, buf);
  $addZeroAndDecimal(this$static, buf);
  useExponent && $addExponent(this$static, buf);
  $insert_6(buf, 0, isNegative?this$static.negativePrefix:this$static.positivePrefix);
  $append_6(buf, isNegative?this$static.negativeSuffix:this$static.positiveSuffix);
  return buf.string;
}

function $insertGroupingSeparators(this$static, digits, g){
  var i;
  if (g > 0) {
    for (i = g; i < this$static.decimalPosition; i += g + 1) {
      $insert_6(digits, this$static.decimalPosition - i, ',');
      ++this$static.decimalPosition;
      ++this$static.digitsLength;
    }
  }
}

function $parse_0(this$static, text_0){
  var pos, result;
  pos = initValues(getClassLiteralForArray(I_classLit, 1), $intern_53, 0, 7, [0]);
  result = $parse_1(this$static, text_0, pos);
  if (pos[0] == 0 || pos[0] != text_0.length) {
    throw new NumberFormatException(text_0);
  }
  return result;
}

function $parse_1(this$static, text_0, inOutPos){
  var gotNegative, gotNegativePrefix, gotNegativeSuffix, gotPositive, gotPositivePrefix, gotPositiveSuffix, ret, tempPos, valueOnly;
  gotPositivePrefix = $startsWith_0(text_0, this$static.positivePrefix, inOutPos[0]);
  gotNegativePrefix = $startsWith_0(text_0, this$static.negativePrefix, inOutPos[0]);
  gotPositiveSuffix = $endsWith(text_0, this$static.positiveSuffix);
  gotNegativeSuffix = $endsWith(text_0, this$static.negativeSuffix);
  gotPositive = gotPositivePrefix && gotPositiveSuffix;
  gotNegative = gotNegativePrefix && gotNegativeSuffix;
  if (gotPositive && gotNegative) {
    this$static.positivePrefix.length > this$static.negativePrefix.length?(gotNegative = false):this$static.positivePrefix.length < this$static.negativePrefix.length?(gotPositive = false):this$static.positiveSuffix.length > this$static.negativeSuffix.length?(gotNegative = false):this$static.positiveSuffix.length < this$static.negativeSuffix.length?(gotPositive = false):(gotNegative = false);
  }
   else if (!gotPositive && !gotNegative) {
    throw new NumberFormatException(text_0 + ' does not have either positive or negative affixes');
  }
  if (gotPositive) {
    inOutPos[0] += this$static.positivePrefix.length;
    valueOnly = $substring_0(text_0, inOutPos[0], text_0.length - this$static.positiveSuffix.length);
  }
   else {
    inOutPos[0] += this$static.negativePrefix.length;
    valueOnly = $substring_0(text_0, inOutPos[0], text_0.length - this$static.negativeSuffix.length);
  }
  if ($equals_5(valueOnly, '\u221E')) {
    inOutPos[0] += 1;
    ret = Infinity;
  }
   else if ($equals_5(valueOnly, 'NaN')) {
    inOutPos[0] += 3;
    ret = NaN;
  }
   else {
    tempPos = initValues(getClassLiteralForArray(I_classLit, 1), $intern_53, 0, 7, [0]);
    ret = $parseNumber(this$static, valueOnly, tempPos);
    inOutPos[0] += tempPos[0];
  }
  gotPositive?(inOutPos[0] += this$static.positiveSuffix.length):gotNegative && (inOutPos[0] += this$static.negativeSuffix.length);
  gotNegative && (ret = -ret);
  return ret;
}

function $parseAffix(this$static, pattern, start_0, affix, inNegativePattern){
  var ch_0, inQuote, len, pos;
  $delete(affix, 0, affix.string.length);
  inQuote = false;
  len = pattern.length;
  for (pos = start_0; pos < len; ++pos) {
    ch_0 = pattern.charCodeAt(pos);
    if (ch_0 == 39) {
      if (pos + 1 < len && pattern.charCodeAt(pos + 1) == 39) {
        ++pos;
        affix.string += "'";
      }
       else {
        inQuote = !inQuote;
      }
      continue;
    }
    if (inQuote) {
      affix.string += charToString(ch_0);
    }
     else {
      switch (ch_0) {
        case 35:
        case 48:
        case 44:
        case 46:
        case 59:
          return pos - start_0;
        case 164:
          this$static.isCurrencyFormat = true;
          if (pos + 1 < len && pattern.charCodeAt(pos + 1) == 164) {
            ++pos;
            if (pos < len - 2 && pattern.charCodeAt(pos + 1) == 164 && pattern.charCodeAt(pos + 2) == 164) {
              pos += 2;
              $append_6(affix, $getSimpleCurrencySymbol(this$static.currencyData));
            }
             else {
              $append_6(affix, this$static.currencyData[0]);
            }
          }
           else {
            $append_6(affix, this$static.currencyData[1]);
          }

          break;
        case 37:
          if (!inNegativePattern) {
            if (this$static.multiplier != 1) {
              throw new IllegalArgumentException_0('Too many percent/per mille characters in pattern "' + pattern + '"');
            }
            this$static.multiplier = 100;
          }

          affix.string += '%';
          break;
        case 8240:
          if (!inNegativePattern) {
            if (this$static.multiplier != 1) {
              throw new IllegalArgumentException_0('Too many percent/per mille characters in pattern "' + pattern + '"');
            }
            this$static.multiplier = $intern_10;
          }

          affix.string += '\u2030';
          break;
        case 45:
          affix.string += '-';
          break;
        default:affix.string += charToString(ch_0);
      }
    }
  }
  return len - start_0;
}

function $parseNumber(this$static, text_0, pos){
  var ch_0, decimal, digit, grouping, normalizedText, ret, sawDecimal, sawDigit, sawExponent, scale;
  sawDecimal = false;
  sawExponent = false;
  sawDigit = false;
  scale = 1;
  decimal = this$static.isCurrencyFormat?'.':'.';
  grouping = this$static.isCurrencyFormat?',':',';
  normalizedText = new StringBuilder;
  for (; pos[0] < text_0.length; ++pos[0]) {
    ch_0 = text_0.charCodeAt(pos[0]);
    digit = 48 <= ch_0 && ch_0 <= 57?ch_0 - 48:48 <= ch_0 && ch_0 <= 57?ch_0 - 48:-1;
    if (digit >= 0 && digit <= 9) {
      $append_3(normalizedText, digit + 48 & $intern_31);
      sawDigit = true;
    }
     else if (ch_0 == decimal.charCodeAt(0)) {
      if (sawDecimal || sawExponent) {
        break;
      }
      normalizedText.string += '.';
      sawDecimal = true;
    }
     else if (ch_0 == grouping.charCodeAt(0)) {
      if (sawDecimal || sawExponent) {
        break;
      }
      continue;
    }
     else if (ch_0 == 69) {
      if (sawExponent) {
        break;
      }
      normalizedText.string += 'E';
      sawExponent = true;
    }
     else if (ch_0 == 43 || ch_0 == 45) {
      normalizedText.string += charToString(ch_0);
    }
     else if (ch_0 == 37) {
      if (scale != 1) {
        break;
      }
      scale = 100;
      if (sawDigit) {
        ++pos[0];
        break;
      }
    }
     else if (ch_0 == 8240) {
      if (scale != 1) {
        break;
      }
      scale = $intern_10;
      if (sawDigit) {
        ++pos[0];
        break;
      }
    }
     else {
      break;
    }
  }
  try {
    ret = __parseAndValidateDouble(normalizedText.string);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 105)) {
      throw new NumberFormatException(text_0);
    }
     else 
      throw unwrap($e0);
  }
  ret = ret / scale;
  return ret;
}

function $parsePattern(this$static, pattern){
  var affix, pos;
  pos = 0;
  affix = new StringBuilder;
  pos += $parseAffix(this$static, pattern, 0, affix, false);
  this$static.positivePrefix = affix.string;
  pos += $parseTrunk(this$static, pattern, pos, false);
  pos += $parseAffix(this$static, pattern, pos, affix, false);
  this$static.positiveSuffix = affix.string;
  if (pos < pattern.length && pattern.charCodeAt(pos) == 59) {
    ++pos;
    pos += $parseAffix(this$static, pattern, pos, affix, true);
    this$static.negativePrefix = affix.string;
    pos += $parseTrunk(this$static, pattern, pos, true);
    pos += $parseAffix(this$static, pattern, pos, affix, true);
    this$static.negativeSuffix = affix.string;
  }
   else {
    this$static.negativePrefix = '-' + this$static.positivePrefix;
    this$static.negativeSuffix = this$static.positiveSuffix;
  }
}

function $parseTrunk(this$static, pattern, start_0, ignorePattern){
  var ch_0, decimalPos, digitLeftCount, digitRightCount, effectiveDecimalPos, groupingCount, len, loop, n, pos, totalDigits, zeroDigitCount;
  decimalPos = -1;
  digitLeftCount = 0;
  zeroDigitCount = 0;
  digitRightCount = 0;
  groupingCount = -1;
  len = pattern.length;
  pos = start_0;
  loop = true;
  for (; pos < len && loop; ++pos) {
    ch_0 = pattern.charCodeAt(pos);
    switch (ch_0) {
      case 35:
        zeroDigitCount > 0?++digitRightCount:++digitLeftCount;
        groupingCount >= 0 && decimalPos < 0 && ++groupingCount;
        break;
      case 48:
        if (digitRightCount > 0) {
          throw new IllegalArgumentException_0("Unexpected '0' in pattern \"" + pattern + '"');
        }

        ++zeroDigitCount;
        groupingCount >= 0 && decimalPos < 0 && ++groupingCount;
        break;
      case 44:
        groupingCount = 0;
        break;
      case 46:
        if (decimalPos >= 0) {
          throw new IllegalArgumentException_0('Multiple decimal separators in pattern "' + pattern + '"');
        }

        decimalPos = digitLeftCount + zeroDigitCount + digitRightCount;
        break;
      case 69:
        if (!ignorePattern) {
          if (this$static.useExponentialNotation) {
            throw new IllegalArgumentException_0('Multiple exponential symbols in pattern "' + pattern + '"');
          }
          this$static.useExponentialNotation = true;
          this$static.minExponentDigits = 0;
        }

        while (pos + 1 < len && pattern.charCodeAt(pos + 1) == 48) {
          ++pos;
          ignorePattern || ++this$static.minExponentDigits;
        }

        if (!ignorePattern && digitLeftCount + zeroDigitCount < 1 || this$static.minExponentDigits < 1) {
          throw new IllegalArgumentException_0('Malformed exponential pattern "' + pattern + '"');
        }

        loop = false;
        break;
      default:--pos;
        loop = false;
    }
  }
  if (zeroDigitCount == 0 && digitLeftCount > 0 && decimalPos >= 0) {
    n = decimalPos;
    decimalPos == 0 && ++n;
    digitRightCount = digitLeftCount - n;
    digitLeftCount = n - 1;
    zeroDigitCount = 1;
  }
  if (decimalPos < 0 && digitRightCount > 0 || decimalPos >= 0 && (decimalPos < digitLeftCount || decimalPos > digitLeftCount + zeroDigitCount) || groupingCount == 0) {
    throw new IllegalArgumentException_0('Malformed pattern "' + pattern + '"');
  }
  if (ignorePattern) {
    return pos - start_0;
  }
  totalDigits = digitLeftCount + zeroDigitCount + digitRightCount;
  this$static.maximumFractionDigits = decimalPos >= 0?totalDigits - decimalPos:0;
  if (decimalPos >= 0) {
    this$static.minimumFractionDigits = digitLeftCount + zeroDigitCount - decimalPos;
    this$static.minimumFractionDigits < 0 && (this$static.minimumFractionDigits = 0);
  }
  effectiveDecimalPos = decimalPos >= 0?decimalPos:totalDigits;
  this$static.minimumIntegerDigits = effectiveDecimalPos - digitLeftCount;
  if (this$static.useExponentialNotation) {
    this$static.maximumIntegerDigits = digitLeftCount + this$static.minimumIntegerDigits;
    this$static.maximumFractionDigits == 0 && this$static.minimumIntegerDigits == 0 && (this$static.minimumIntegerDigits = 1);
  }
  this$static.groupingSize = groupingCount > 0?groupingCount:0;
  this$static.decimalSeparatorAlwaysShown = decimalPos == 0 || decimalPos == totalDigits;
  return pos - start_0;
}

function $processLeadingZeros(this$static, digits){
  var i, prefix, strip;
  if (this$static.decimalPosition > this$static.digitsLength) {
    while (this$static.digitsLength < this$static.decimalPosition) {
      digits.string += '0';
      ++this$static.digitsLength;
    }
  }
  if (!this$static.useExponentialNotation) {
    if (this$static.decimalPosition < this$static.minimumIntegerDigits) {
      prefix = new StringBuilder;
      while (this$static.decimalPosition < this$static.minimumIntegerDigits) {
        prefix.string += '0';
        ++this$static.decimalPosition;
        ++this$static.digitsLength;
      }
      $insert_6(digits, 0, prefix.toString$());
    }
     else if (this$static.decimalPosition > this$static.minimumIntegerDigits) {
      strip = this$static.decimalPosition - this$static.minimumIntegerDigits;
      for (i = 0; i < strip; ++i) {
        if ($charAt_0(digits.string, i) != 48) {
          strip = i;
          break;
        }
      }
      if (strip > 0) {
        digits.string = $substring_0(digits.string, 0, 0) + '' + $substring(digits.string, strip);
        this$static.digitsLength -= strip;
        this$static.decimalPosition -= strip;
      }
    }
  }
}

function $propagateCarry(this$static, digits, i){
  var carry, digit;
  carry = true;
  while (carry && i >= 0) {
    digit = $charAt_0(digits.string, i);
    if (digit == 57) {
      $setCharAt(digits, i--, 48);
    }
     else {
      $setCharAt(digits, i, digit + 1 & $intern_31);
      carry = false;
    }
  }
  if (carry) {
    digits.string = $substring_0(digits.string, 0, 0) + '1' + $substring(digits.string, 0);
    ++this$static.decimalPosition;
    ++this$static.digitsLength;
  }
}

function $roundValue(this$static, digits){
  var i;
  if (this$static.digitsLength > this$static.decimalPosition + this$static.maximumFractionDigits && $charAt(digits, this$static.decimalPosition + this$static.maximumFractionDigits) >= 53) {
    i = this$static.decimalPosition + this$static.maximumFractionDigits - 1;
    $propagateCarry(this$static, digits, i);
  }
}

function NumberFormat(cdata, userSuppliedPattern){
  if (!cdata) {
    throw new IllegalArgumentException_0('Unknown currency code');
  }
  this.pattern = '#,##0.###';
  this.currencyData = cdata;
  $parsePattern(this, this.pattern);
  if (!userSuppliedPattern && this.isCurrencyFormat) {
    this.minimumFractionDigits = this.currencyData[2] & 7;
    this.maximumFractionDigits = this.minimumFractionDigits;
  }
}

function NumberFormat_0(cdata){
  $clinit_NumberFormat();
  NumberFormat.call(this, cdata, false);
}

function toScaledString(buf, val){
  var dot, expDigits, expIdx, scale, startLen;
  startLen = buf.string.length;
  $append_6(buf, val.toPrecision(20));
  scale = 0;
  expIdx = $indexOf_3(buf.string, 'e', startLen);
  expIdx < 0 && (expIdx = $indexOf_3(buf.string, 'E', startLen));
  if (expIdx >= 0) {
    expDigits = expIdx + 1;
    expDigits < buf.string.length && $charAt_0(buf.string, expDigits) == 43 && ++expDigits;
    expDigits < buf.string.length && (scale = __parseAndValidateInt($substring(buf.string, expDigits), 10));
    $delete(buf, expIdx, buf.string.length);
  }
  dot = $indexOf_3(buf.string, '.', startLen);
  if (dot >= 0) {
    buf.string = $substring_0(buf.string, 0, dot) + '' + $substring(buf.string, dot + 1);
    scale -= buf.string.length - dot;
  }
  return scale;
}

defineClass(413, 1, {}, NumberFormat_0);
_.decimalPosition = 0;
_.decimalSeparatorAlwaysShown = false;
_.digitsLength = 0;
_.exponent = 0;
_.groupingSize = 3;
_.isCurrencyFormat = false;
_.maximumFractionDigits = 3;
_.maximumIntegerDigits = 40;
_.minExponentDigits = 0;
_.minimumFractionDigits = 0;
_.minimumIntegerDigits = 1;
_.multiplier = 1;
_.negativePrefix = '-';
_.negativeSuffix = '';
_.positivePrefix = '';
_.positiveSuffix = '';
_.useExponentialNotation = false;
var cachedDecimalFormat;
var Lcom_google_gwt_i18n_client_NumberFormat_2_classLit = createForClass('com.google.gwt.i18n.client', 'NumberFormat', 413, Ljava_lang_Object_2_classLit);
function NumberConstantsImpl_(){
}

defineClass(1446, 1, {}, NumberConstantsImpl_);
var Lcom_google_gwt_i18n_client_constants_NumberConstantsImpl_1_2_classLit = createForClass('com.google.gwt.i18n.client.constants', 'NumberConstantsImpl_', 1446, Ljava_lang_Object_2_classLit);
function $getSimpleCurrencySymbol(this$static){
  return this$static[4] || this$static[1];
}

function clone_0(array){
  return cloneSubrange(array, array.length);
}

function cloneSubrange(array, toIndex){
  var result;
  result = array.slice(0, toIndex);
  initValues(getClass__Ljava_lang_Class___devirtual$(array), array.castableTypeMap$, array.__elementTypeId$, array.__elementTypeCategory$, result);
  return result;
}

function createFrom(array, length_0){
  var result;
  result = initializeArrayElementsWithDefaults(0, length_0);
  initValues(getClass__Ljava_lang_Class___devirtual$(array), array.castableTypeMap$, array.__elementTypeId$, array.__elementTypeCategory$, result);
  return result;
}

function getClassLiteralForArray(clazz, dimensions){
  return getClassLiteralForArray_0(clazz, dimensions);
}

function initDim(leafClassLiteral, castableTypeMap, elementTypeId, length_0, elementTypeCategory, dimensions){
  var result;
  result = initializeArrayElementsWithDefaults(elementTypeCategory, length_0);
  initValues(getClassLiteralForArray(leafClassLiteral, dimensions), castableTypeMap, elementTypeId, elementTypeCategory, result);
  return result;
}

function initValues(arrayClass, castableTypeMap, elementTypeId, elementTypeCategory, array){
  array.___clazz$ = arrayClass;
  array.castableTypeMap$ = castableTypeMap;
  array.typeMarker$ = typeMarkerFn;
  array.__elementTypeId$ = elementTypeId;
  array.__elementTypeCategory$ = elementTypeCategory;
  return array;
}

function initializeArrayElementsWithDefaults(elementTypeCategory, length_0){
  var array = new Array(length_0);
  var initValue;
  switch (elementTypeCategory) {
    case 6:
      initValue = {l:0, m:0, h:0};
      break;
    case 7:
      initValue = 0;
      break;
    case 8:
      initValue = false;
      break;
    default:return array;
  }
  for (var i = 0; i < length_0; ++i) {
    array[i] = initValue;
  }
  return array;
}

function nativeArraySplice(src_0, srcOfs, dest, destOfs, len, overwrite){
  if (src_0 === dest) {
    src_0 = src_0.slice(srcOfs, srcOfs + len);
    srcOfs = 0;
  }
  for (var batchStart = srcOfs, end = srcOfs + len; batchStart < end;) {
    var batchEnd = Math.min(batchStart + 10000, end);
    len = batchEnd - batchStart;
    Array.prototype.splice.apply(dest, [destOfs, overwrite?len:0].concat(src_0.slice(batchStart, batchEnd)));
    batchStart = batchEnd;
    destOfs += len;
  }
}

function setCheck(array, index_0, value_0){
  var elementTypeId;
  if (value_0 != null) {
    switch (array.__elementTypeCategory$) {
      case 4:
        if (!isJavaString(value_0)) {
          throw new ArrayStoreException;
        }

        break;
      case 0:
        {
          elementTypeId = array.__elementTypeId$;
          if (!canCast(value_0, elementTypeId)) {
            throw new ArrayStoreException;
          }
          break;
        }

      case 2:
        if (!(!isJavaString(value_0) && !hasTypeMarker(value_0))) {
          throw new ArrayStoreException;
        }

        break;
      case 1:
        {
          elementTypeId = array.__elementTypeId$;
          if (!(!isJavaString(value_0) && !hasTypeMarker(value_0)) && !canCast(value_0, elementTypeId)) {
            throw new ArrayStoreException;
          }
          break;
        }

    }
  }
  return array[index_0] = value_0;
}

function cacheJavaScriptException(e, jse){
  if (e && typeof e == 'object') {
    try {
      e.__gwt$exception = jse;
    }
     catch (ignored) {
    }
  }
}

function unwrap(e){
  var jse;
  if (instanceOf(e, 167)) {
    jse = dynamicCast(e, 167);
    if (maskUndefined(jse.e) !== maskUndefined(($clinit_JavaScriptException() , NOT_SET))) {
      return maskUndefined(jse.e) === maskUndefined(NOT_SET)?null:jse.e;
    }
  }
  return e;
}

function wrap(e){
  var jse;
  if (instanceOf(e, 40)) {
    return e;
  }
  jse = e && e.__gwt$exception;
  if (!jse) {
    jse = new JavaScriptException(e);
    captureStackTrace(jse, e);
    cacheJavaScriptException(e, jse);
  }
  return jse;
}

function create_1(value_0){
  var a0, a1, a2;
  a0 = value_0 & $intern_90;
  a1 = value_0 >> 22 & $intern_90;
  a2 = value_0 < 0?$intern_91:0;
  return create0(a0, a1, a2);
}

function create_2(a){
  return create0(a.l, a.m, a.h);
}

function create0(l, m, h){
  return {l:l, m:m, h:h};
}

function divMod(a, b, computeRemainder){
  var aIsCopy, aIsMinValue, aIsNegative, bpower, c, negative;
  if (b.l == 0 && b.m == 0 && b.h == 0) {
    throw new ArithmeticException('divide by zero');
  }
  if (a.l == 0 && a.m == 0 && a.h == 0) {
    computeRemainder && (remainder_0 = create0(0, 0, 0));
    return create0(0, 0, 0);
  }
  if (b.h == $intern_92 && b.m == 0 && b.l == 0) {
    return divModByMinValue(a, computeRemainder);
  }
  negative = false;
  if (b.h >> 19 != 0) {
    b = neg_0(b);
    negative = true;
  }
  bpower = powerOfTwo(b);
  aIsNegative = false;
  aIsMinValue = false;
  aIsCopy = false;
  if (a.h == $intern_92 && a.m == 0 && a.l == 0) {
    aIsMinValue = true;
    aIsNegative = true;
    if (bpower == -1) {
      a = create_2(($clinit_LongLib$Const() , MAX_VALUE));
      aIsCopy = true;
      negative = !negative;
    }
     else {
      c = shr(a, bpower);
      negative && negate(c);
      computeRemainder && (remainder_0 = create0(0, 0, 0));
      return c;
    }
  }
   else if (a.h >> 19 != 0) {
    aIsNegative = true;
    a = neg_0(a);
    aIsCopy = true;
    negative = !negative;
  }
  if (bpower != -1) {
    return divModByShift(a, bpower, negative, aIsNegative, computeRemainder);
  }
  if (!gte_0(a, b)) {
    computeRemainder && (aIsNegative?(remainder_0 = neg_0(a)):(remainder_0 = create0(a.l, a.m, a.h)));
    return create0(0, 0, 0);
  }
  return divModHelper(aIsCopy?a:create0(a.l, a.m, a.h), b, negative, aIsNegative, aIsMinValue, computeRemainder);
}

function divModByMinValue(a, computeRemainder){
  if (a.h == $intern_92 && a.m == 0 && a.l == 0) {
    computeRemainder && (remainder_0 = create0(0, 0, 0));
    return create_2(($clinit_LongLib$Const() , ONE));
  }
  computeRemainder && (remainder_0 = create0(a.l, a.m, a.h));
  return create0(0, 0, 0);
}

function divModByShift(a, bpower, negative, aIsNegative, computeRemainder){
  var c;
  c = shr(a, bpower);
  negative && negate(c);
  if (computeRemainder) {
    a = maskRight(a, bpower);
    aIsNegative?(remainder_0 = neg_0(a)):(remainder_0 = create0(a.l, a.m, a.h));
  }
  return c;
}

function divModHelper(a, b, negative, aIsNegative, aIsMinValue, computeRemainder){
  var bshift, gte, quotient, shift_0, a1, a2, a0;
  shift_0 = numberOfLeadingZeros(b) - numberOfLeadingZeros(a);
  bshift = shl(b, shift_0);
  quotient = create0(0, 0, 0);
  while (shift_0 >= 0) {
    gte = trialSubtract(a, bshift);
    if (gte) {
      shift_0 < 22?(quotient.l |= 1 << shift_0 , undefined):shift_0 < 44?(quotient.m |= 1 << shift_0 - 22 , undefined):(quotient.h |= 1 << shift_0 - 44 , undefined);
      if (a.l == 0 && a.m == 0 && a.h == 0) {
        break;
      }
    }
    a1 = bshift.m;
    a2 = bshift.h;
    a0 = bshift.l;
    setH(bshift, a2 >>> 1);
    bshift.m = a1 >>> 1 | (a2 & 1) << 21;
    bshift.l = a0 >>> 1 | (a1 & 1) << 21;
    --shift_0;
  }
  negative && negate(quotient);
  if (computeRemainder) {
    if (aIsNegative) {
      remainder_0 = neg_0(a);
      aIsMinValue && (remainder_0 = sub_0(remainder_0, ($clinit_LongLib$Const() , ONE)));
    }
     else {
      remainder_0 = create0(a.l, a.m, a.h);
    }
  }
  return quotient;
}

function maskRight(a, bits){
  var b0, b1, b2;
  if (bits <= 22) {
    b0 = a.l & (1 << bits) - 1;
    b1 = b2 = 0;
  }
   else if (bits <= 44) {
    b0 = a.l;
    b1 = a.m & (1 << bits - 22) - 1;
    b2 = 0;
  }
   else {
    b0 = a.l;
    b1 = a.m;
    b2 = a.h & (1 << bits - 44) - 1;
  }
  return create0(b0, b1, b2);
}

function negate(a){
  var neg0, neg1, neg2;
  neg0 = ~a.l + 1 & $intern_90;
  neg1 = ~a.m + (neg0 == 0?1:0) & $intern_90;
  neg2 = ~a.h + (neg0 == 0 && neg1 == 0?1:0) & $intern_91;
  setL(a, neg0);
  setM(a, neg1);
  setH(a, neg2);
}

function numberOfLeadingZeros(a){
  var b1, b2;
  b2 = numberOfLeadingZeros_0(a.h);
  if (b2 == 32) {
    b1 = numberOfLeadingZeros_0(a.m);
    return b1 == 32?numberOfLeadingZeros_0(a.l) + 32:b1 + 20 - 10;
  }
   else {
    return b2 - 12;
  }
}

function powerOfTwo(a){
  var h, l, m;
  l = a.l;
  if ((l & l - 1) != 0) {
    return -1;
  }
  m = a.m;
  if ((m & m - 1) != 0) {
    return -1;
  }
  h = a.h;
  if ((h & h - 1) != 0) {
    return -1;
  }
  if (h == 0 && m == 0 && l == 0) {
    return -1;
  }
  if (h == 0 && m == 0 && l != 0) {
    return numberOfTrailingZeros(l);
  }
  if (h == 0 && m != 0 && l == 0) {
    return numberOfTrailingZeros(m) + 22;
  }
  if (h != 0 && m == 0 && l == 0) {
    return numberOfTrailingZeros(h) + 44;
  }
  return -1;
}

function setH(a, x_0){
  a.h = x_0;
}

function setL(a, x_0){
  a.l = x_0;
}

function setM(a, x_0){
  a.m = x_0;
}

function toDoubleHelper(a){
  return a.l + a.m * $intern_33 + a.h * $intern_93;
}

function trialSubtract(a, b){
  var sum0, sum1, sum2;
  sum2 = a.h - b.h;
  if (sum2 < 0) {
    return false;
  }
  sum0 = a.l - b.l;
  sum1 = a.m - b.m + (sum0 >> 22);
  sum2 += sum1 >> 22;
  if (sum2 < 0) {
    return false;
  }
  setL(a, sum0 & $intern_90);
  setM(a, sum1 & $intern_90);
  setH(a, sum2 & $intern_91);
  return true;
}

var remainder_0;
function add_17(a, b){
  var sum0, sum1, sum2;
  sum0 = a.l + b.l;
  sum1 = a.m + b.m + (sum0 >> 22);
  sum2 = a.h + b.h + (sum1 >> 22);
  return {l:sum0 & $intern_90, m:sum1 & $intern_90, h:sum2 & $intern_91};
}

function and(a, b){
  return {l:a.l & b.l, m:a.m & b.m, h:a.h & b.h};
}

function eq(a, b){
  return a.l == b.l && a.m == b.m && a.h == b.h;
}

function fromDouble(value_0){
  var a0, a1, a2, negative, result;
  if (isNaN(value_0)) {
    return $clinit_LongLib$Const() , ZERO;
  }
  if (value_0 < $intern_94) {
    return $clinit_LongLib$Const() , MIN_VALUE;
  }
  if (value_0 >= 9223372036854775807) {
    return $clinit_LongLib$Const() , MAX_VALUE;
  }
  negative = false;
  if (value_0 < 0) {
    negative = true;
    value_0 = -value_0;
  }
  a2 = 0;
  if (value_0 >= $intern_93) {
    a2 = round_int(value_0 / $intern_93);
    value_0 -= a2 * $intern_93;
  }
  a1 = 0;
  if (value_0 >= $intern_33) {
    a1 = round_int(value_0 / $intern_33);
    value_0 -= a1 * $intern_33;
  }
  a0 = round_int(value_0);
  result = create0(a0, a1, a2);
  negative && negate(result);
  return result;
}

function fromInt(value_0){
  var rebase, result;
  if (value_0 > -129 && value_0 < 128) {
    rebase = value_0 + 128;
    boxedValues == null && (boxedValues = initDim(Lcom_google_gwt_lang_LongLibBase$LongEmul_2_classLit, $intern_1, 1558, 256, 0, 1));
    result = boxedValues[rebase];
    !result && (result = boxedValues[rebase] = create_1(value_0));
    return result;
  }
  return create_1(value_0);
}

function gte_0(a, b){
  var signa, signb;
  signa = a.h >> 19;
  signb = b.h >> 19;
  return signa == 0?signb != 0 || a.h > b.h || a.h == b.h && a.m > b.m || a.h == b.h && a.m == b.m && a.l >= b.l:!(signb == 0 || a.h < b.h || a.h == b.h && a.m < b.m || a.h == b.h && a.m == b.m && a.l < b.l);
}

function lt(a, b){
  return !gte_0(a, b);
}

function mul_0(a, b){
  var a0, a1, a2, a3, a4, b0, b1, b2, b3, b4, c0, c00, c01, c1, c10, c11, c12, c13, c2, c22, c23, c24, p0, p1, p2, p3, p4;
  a0 = a.l & 8191;
  a1 = a.l >> 13 | (a.m & 15) << 9;
  a2 = a.m >> 4 & 8191;
  a3 = a.m >> 17 | (a.h & 255) << 5;
  a4 = (a.h & 1048320) >> 8;
  b0 = b.l & 8191;
  b1 = b.l >> 13 | (b.m & 15) << 9;
  b2 = b.m >> 4 & 8191;
  b3 = b.m >> 17 | (b.h & 255) << 5;
  b4 = (b.h & 1048320) >> 8;
  p0 = a0 * b0;
  p1 = a1 * b0;
  p2 = a2 * b0;
  p3 = a3 * b0;
  p4 = a4 * b0;
  if (b1 != 0) {
    p1 += a0 * b1;
    p2 += a1 * b1;
    p3 += a2 * b1;
    p4 += a3 * b1;
  }
  if (b2 != 0) {
    p2 += a0 * b2;
    p3 += a1 * b2;
    p4 += a2 * b2;
  }
  if (b3 != 0) {
    p3 += a0 * b3;
    p4 += a1 * b3;
  }
  b4 != 0 && (p4 += a0 * b4);
  c00 = p0 & $intern_90;
  c01 = (p1 & 511) << 13;
  c0 = c00 + c01;
  c10 = p0 >> 22;
  c11 = p1 >> 9;
  c12 = (p2 & 262143) << 4;
  c13 = (p3 & 31) << 17;
  c1 = c10 + c11 + c12 + c13;
  c22 = p2 >> 18;
  c23 = p3 >> 5;
  c24 = (p4 & 4095) << 8;
  c2 = c22 + c23 + c24;
  c1 += c0 >> 22;
  c0 &= $intern_90;
  c2 += c1 >> 22;
  c1 &= $intern_90;
  c2 &= $intern_91;
  return create0(c0, c1, c2);
}

function neg_0(a){
  var neg0, neg1, neg2;
  neg0 = ~a.l + 1 & $intern_90;
  neg1 = ~a.m + (neg0 == 0?1:0) & $intern_90;
  neg2 = ~a.h + (neg0 == 0 && neg1 == 0?1:0) & $intern_91;
  return create0(neg0, neg1, neg2);
}

function or(a, b){
  return {l:a.l | b.l, m:a.m | b.m, h:a.h | b.h};
}

function shl(a, n){
  var res0, res1, res2;
  n &= 63;
  if (n < 22) {
    res0 = a.l << n;
    res1 = a.m << n | a.l >> 22 - n;
    res2 = a.h << n | a.m >> 22 - n;
  }
   else if (n < 44) {
    res0 = 0;
    res1 = a.l << n - 22;
    res2 = a.m << n - 22 | a.l >> 44 - n;
  }
   else {
    res0 = 0;
    res1 = 0;
    res2 = a.l << n - 44;
  }
  return {l:res0 & $intern_90, m:res1 & $intern_90, h:res2 & $intern_91};
}

function shr(a, n){
  var a2, negative, res0, res1, res2;
  n &= 63;
  a2 = a.h;
  negative = (a2 & $intern_92) != 0;
  negative && (a2 |= -1048576);
  if (n < 22) {
    res2 = a2 >> n;
    res1 = a.m >> n | a2 << 22 - n;
    res0 = a.l >> n | a.m << 22 - n;
  }
   else if (n < 44) {
    res2 = negative?$intern_91:0;
    res1 = a2 >> n - 22;
    res0 = a.m >> n - 22 | a2 << 44 - n;
  }
   else {
    res2 = negative?$intern_91:0;
    res1 = negative?$intern_90:0;
    res0 = a2 >> n - 44;
  }
  return {l:res0 & $intern_90, m:res1 & $intern_90, h:res2 & $intern_91};
}

function shru(a, n){
  var a2, res0, res1, res2;
  n &= 63;
  a2 = a.h & $intern_91;
  if (n < 22) {
    res2 = a2 >>> n;
    res1 = a.m >> n | a2 << 22 - n;
    res0 = a.l >> n | a.m << 22 - n;
  }
   else if (n < 44) {
    res2 = 0;
    res1 = a2 >>> n - 22;
    res0 = a.m >> n - 22 | a.h << 44 - n;
  }
   else {
    res2 = 0;
    res1 = 0;
    res0 = a2 >>> n - 44;
  }
  return {l:res0 & $intern_90, m:res1 & $intern_90, h:res2 & $intern_91};
}

function sub_0(a, b){
  var sum0, sum1, sum2;
  sum0 = a.l - b.l;
  sum1 = a.m - b.m + (sum0 >> 22);
  sum2 = a.h - b.h + (sum1 >> 22);
  return {l:sum0 & $intern_90, m:sum1 & $intern_90, h:sum2 & $intern_91};
}

function toDouble(a){
  if (eq(a, ($clinit_LongLib$Const() , MIN_VALUE))) {
    return $intern_94;
  }
  if (!gte_0(a, ZERO)) {
    return -toDoubleHelper(neg_0(a));
  }
  return a.l + a.m * $intern_33 + a.h * $intern_93;
}

function toInt(a){
  return a.l | a.m << 22;
}

function toString_50(a){
  var digits, rem, res, tenPowerLong, zeroesNeeded;
  if (a.l == 0 && a.m == 0 && a.h == 0) {
    return '0';
  }
  if (a.h == $intern_92 && a.m == 0 && a.l == 0) {
    return '-9223372036854775808';
  }
  if (a.h >> 19 != 0) {
    return '-' + toString_50(neg_0(a));
  }
  rem = a;
  res = '';
  while (!(rem.l == 0 && rem.m == 0 && rem.h == 0)) {
    tenPowerLong = fromInt(1000000000);
    rem = divMod(rem, tenPowerLong, true);
    digits = '' + toInt(remainder_0);
    if (!(rem.l == 0 && rem.m == 0 && rem.h == 0)) {
      zeroesNeeded = 9 - digits.length;
      for (; zeroesNeeded > 0; zeroesNeeded--) {
        digits = '0' + digits;
      }
    }
    res = digits + res;
  }
  return res;
}

function xor(a, b){
  return {l:a.l ^ b.l, m:a.m ^ b.m, h:a.h ^ b.h};
}

var boxedValues;
function $clinit_LongLib$Const(){
  $clinit_LongLib$Const = emptyMethod;
  MAX_VALUE = create0($intern_90, $intern_90, 524287);
  MIN_VALUE = create0(0, 0, $intern_92);
  ONE = fromInt(1);
  fromInt(2);
  ZERO = fromInt(0);
}

var MAX_VALUE, MIN_VALUE, ONE, ZERO;
function hasTypeMarker(o){
  return o.typeMarker$ === typeMarkerFn;
}

function init(){
  $wnd.setTimeout($entry(assertCompileTimeUserAgent));
  $onModuleLoad_0();
  $onModuleLoad($clinit_LogConfiguration());
  $clinit_SpiffyResources();
  $wnd.$GWT_DND_VERSION = '3.3.2';
  $clinit_StyleInjector();
  toInjectAtStart.unshift('HTML{margin:0 !important;border:none !important;}.dragdrop-handle{cursor:move;user-select:none;-khtml-user-select:none;-moz-user-select:none;}.dragdrop-draggable{zoom:1;}.dragdrop-dragging{zoom:normal;}.dragdrop-positioner{border:1px dashed #1e90ff;margin:0 !important;zoom:1;z-index:100;}.dragdrop-flow-panel-positioner{color:#1e90ff;display:inline;text-align:center;vertical-align:middle;}.dragdrop-proxy{background-color:#7af;}.dragdrop-selected,.dragdrop-dragging,.dragdrop-proxy{filter:alpha(opacity \\= 30);opacity:0.3;}.dragdrop-movable-panel{z-index:200;margin:0 !important;border:none !important;}');
  schedule();
  $onModuleLoad_1(new JAM);
}

function $getLevel(this$static){
  if (this$static.level) {
    return this$static.level;
  }
  return $clinit_Level() , ALL;
}

function $setFormatter(this$static, newFormatter){
  this$static.formatter = newFormatter;
}

function $setLevel(this$static, newLevel){
  this$static.level = newLevel;
}

defineClass(288, 1, {288:1});
var Ljava_util_logging_Handler_2_classLit = createForClass('java.util.logging', 'Handler', 288, Ljava_lang_Object_2_classLit);
function ConsoleLogHandler(){
  $setFormatter(this, new TextLogFormatter(true));
  $setLevel(this, ($clinit_Level() , ALL));
}

defineClass(948, 288, {288:1}, ConsoleLogHandler);
_.publish = function publish(record){
  var msg, val;
  if (!window.console || ($getLevel(this) , $intern_72 > record.level.intValue())) {
    return;
  }
  msg = $format_0(this.formatter, record);
  val = record.level.intValue();
  val >= ($clinit_Level() , $intern_10)?(window.console.error(msg) , undefined):val >= 900?(window.console.warn(msg) , undefined):val >= 800?(window.console.info(msg) , undefined):(window.console.log(msg) , undefined);
}
;
var Lcom_google_gwt_logging_client_ConsoleLogHandler_2_classLit = createForClass('com.google.gwt.logging.client', 'ConsoleLogHandler', 948, Ljava_util_logging_Handler_2_classLit);
function DevelopmentModeLogHandler(){
  $setFormatter(this, new TextLogFormatter(false));
  $setLevel(this, ($clinit_Level() , ALL));
}

defineClass(949, 288, {288:1}, DevelopmentModeLogHandler);
_.publish = function publish_0(record){
  return;
}
;
var Lcom_google_gwt_logging_client_DevelopmentModeLogHandler_2_classLit = createForClass('com.google.gwt.logging.client', 'DevelopmentModeLogHandler', 949, Ljava_util_logging_Handler_2_classLit);
function $clinit_LogConfiguration(){
  $clinit_LogConfiguration = emptyMethod;
  impl_4 = new LogConfiguration$LogConfigurationImplRegular;
}

function $onModuleLoad(){
  var log_0;
  $configureClientSideLogging(impl_4);
  if (!uncaughtExceptionHandler) {
    log_0 = getLogger(($ensureNamesAreInitialized(Lcom_google_gwt_logging_client_LogConfiguration_2_classLit) , Lcom_google_gwt_logging_client_LogConfiguration_2_classLit.typeName));
    setUncaughtExceptionHandler(new LogConfiguration$1(log_0));
  }
}

var impl_4;
var Lcom_google_gwt_logging_client_LogConfiguration_2_classLit = createForClass('com.google.gwt.logging.client', 'LogConfiguration', null, Ljava_lang_Object_2_classLit);
function LogConfiguration$1(val$log){
  this.val$log2 = val$log;
}

defineClass(528, 1, {}, LogConfiguration$1);
var Lcom_google_gwt_logging_client_LogConfiguration$1_2_classLit = createForClass('com.google.gwt.logging.client', 'LogConfiguration/1', 528, Ljava_lang_Object_2_classLit);
function $configureClientSideLogging(this$static){
  this$static.root = (new LoggerImplRegular , $ensureLogger(getLogManager(), ''));
  this$static.root.impl.useParentHandlers = false;
  $setLevels(this$static.root);
  $setDefaultHandlers(this$static.root);
}

function $setDefaultHandlers(l){
  var console_0, dev;
  console_0 = new ConsoleLogHandler;
  $addHandler_1(l.impl, console_0);
  dev = new DevelopmentModeLogHandler;
  $addHandler_1(l.impl, dev);
}

function $setLevels(l){
  var level, levelParam;
  levelParam = getParameter('logLevel');
  level = levelParam == null?null:($clinit_Level() , $parse_2(levelParam));
  level?$setLevel_0(l.impl, level):$setLevel_1(l, ($clinit_Level() , INFO));
}

function LogConfiguration$LogConfigurationImplRegular(){
}

defineClass(527, 1, {}, LogConfiguration$LogConfigurationImplRegular);
var Lcom_google_gwt_logging_client_LogConfiguration$LogConfigurationImplRegular_2_classLit = createForClass('com.google.gwt.logging.client', 'LogConfiguration/LogConfigurationImplRegular', 527, Ljava_lang_Object_2_classLit);
defineClass(1518, 1, {});
var Ljava_util_logging_Formatter_2_classLit = createForClass('java.util.logging', 'Formatter', 1518, Ljava_lang_Object_2_classLit);
defineClass(1519, 1518, {});
var Lcom_google_gwt_logging_impl_FormatterImpl_2_classLit = createForClass('com.google.gwt.logging.impl', 'FormatterImpl', 1519, Ljava_util_logging_Formatter_2_classLit);
function $format_0(this$static, event_0){
  var message, date, s;
  message = new StringBuilder;
  $append_6(message, (date = new Date_1(event_0.millis) , s = new StringBuilder , $append_6(s, $toString_17(date)) , s.string += ' ' , $append_6(s, event_0.loggerName) , s.string += '\n' , $append_6(s, event_0.level.getName()) , s.string += ': ' , s.string));
  $append_6(message, event_0.msg);
  this$static.showStackTraces && !!event_0.thrown && $printStackTrace(event_0.thrown, new StackTracePrintStream(message));
  return message.string;
}

function TextLogFormatter(showStackTraces){
  this.showStackTraces = showStackTraces;
}

defineClass(464, 1519, {}, TextLogFormatter);
_.showStackTraces = false;
var Lcom_google_gwt_logging_client_TextLogFormatter_2_classLit = createForClass('com.google.gwt.logging.client', 'TextLogFormatter', 464, Lcom_google_gwt_logging_impl_FormatterImpl_2_classLit);
function $parse_2(name_0){
  name_0 = name_0.toUpperCase();
  if ($equals_5(name_0, 'ALL')) {
    return $clinit_Level() , ALL;
  }
   else if ($equals_5(name_0, 'CONFIG')) {
    return $clinit_Level() , CONFIG;
  }
   else if ($equals_5(name_0, 'FINE')) {
    return $clinit_Level() , FINE;
  }
   else if ($equals_5(name_0, 'FINER')) {
    return $clinit_Level() , FINER;
  }
   else if ($equals_5(name_0, 'FINEST')) {
    return $clinit_Level() , FINEST;
  }
   else if ($equals_5(name_0, 'INFO')) {
    return $clinit_Level() , INFO;
  }
   else if ($equals_5(name_0, 'OFF')) {
    return $clinit_Level() , OFF;
  }
   else if ($equals_5(name_0, 'SEVERE')) {
    return $clinit_Level() , SEVERE;
  }
   else if ($equals_5(name_0, 'WARNING')) {
    return $clinit_Level() , WARNING;
  }
  throw new IllegalArgumentException_0('Invalid level "' + name_0 + '"');
}

function $addHandler_1(this$static, handler){
  this$static.handlers.add_0(handler);
}

function $finest(this$static, msg){
  $log(this$static, ($clinit_Level() , FINEST), msg, null);
}

function $getEffectiveLevel(this$static){
  var effectiveLevel, logger;
  if (this$static.level) {
    return this$static.level;
  }
  logger = this$static.parent_0;
  while (logger) {
    effectiveLevel = logger.impl.level;
    if (effectiveLevel) {
      return effectiveLevel;
    }
    logger = logger.impl.parent_0;
  }
  return $clinit_Level() , INFO;
}

function $getHandlers(this$static){
  return dynamicCast($toArray_1(this$static.handlers, initDim(Ljava_util_logging_Handler_2_classLit, $intern_95, 288, this$static.handlers.array.length, 0, 1)), 521);
}

function $info(this$static, msg){
  $log(this$static, ($clinit_Level() , INFO), msg, null);
}

function $isLoggable(this$static, messageLevel){
  return $getEffectiveLevel(this$static).intValue() <= messageLevel.intValue();
}

function $log(this$static, level, msg, thrown){
  var record;
  if ($getEffectiveLevel(this$static).intValue() <= level.intValue()) {
    record = new LogRecord(level, msg);
    record.thrown = thrown;
    $setLoggerName(record, this$static.name_0);
    $log_0(this$static, record);
  }
}

function $log_0(this$static, record){
  var handler, handler$array, handler$array0, handler$index, handler$index0, handler$max, handler$max0, logger;
  if ($isLoggable(this$static, record.level)) {
    for (handler$array0 = dynamicCast($toArray_1(this$static.handlers, initDim(Ljava_util_logging_Handler_2_classLit, $intern_95, 288, this$static.handlers.array.length, 0, 1)), 521) , handler$index0 = 0 , handler$max0 = handler$array0.length; handler$index0 < handler$max0; ++handler$index0) {
      handler = handler$array0[handler$index0];
      handler.publish(record);
    }
    logger = this$static.useParentHandlers?this$static.parent_0:null;
    while (logger) {
      for (handler$array = $getHandlers(logger.impl) , handler$index = 0 , handler$max = handler$array.length; handler$index < handler$max; ++handler$index) {
        handler = handler$array[handler$index];
        handler.publish(record);
      }
      logger = logger.impl.useParentHandlers?logger.impl.parent_0:null;
    }
  }
}

function $setLevel_0(this$static, newLevel){
  this$static.level = newLevel;
}

function $setName_0(this$static, newName){
  this$static.name_0 = newName;
}

function $setParent_0(this$static, newParent){
  !!newParent && (this$static.parent_0 = newParent);
}

function $severe(this$static, msg){
  $log(this$static, ($clinit_Level() , SEVERE), msg, null);
}

function $warning(this$static, msg){
  $log(this$static, ($clinit_Level() , WARNING), msg, null);
}

function LoggerImplRegular(){
  this.useParentHandlers = true;
  this.handlers = new ArrayList;
}

defineClass(14, 1, {}, LoggerImplRegular);
_.level = null;
_.useParentHandlers = false;
var Lcom_google_gwt_logging_impl_LoggerImplRegular_2_classLit = createForClass('com.google.gwt.logging.impl', 'LoggerImplRegular', 14, Ljava_lang_Object_2_classLit);
defineClass(1508, 1, {});
var Ljava_io_OutputStream_2_classLit = createForClass('java.io', 'OutputStream', 1508, Ljava_lang_Object_2_classLit);
defineClass(1509, 1508, {});
var Ljava_io_FilterOutputStream_2_classLit = createForClass('java.io', 'FilterOutputStream', 1509, Ljava_io_OutputStream_2_classLit);
function PrintStream(){
}

defineClass(454, 1509, {}, PrintStream);
_.print_0 = function print_0(s){
}
;
_.println = function println(x_0){
}
;
_.println_0 = function println_0(s){
}
;
var Ljava_io_PrintStream_2_classLit = createForClass('java.io', 'PrintStream', 454, Ljava_io_FilterOutputStream_2_classLit);
function StackTracePrintStream(builder){
  this.builder = builder;
}

defineClass(1035, 454, {}, StackTracePrintStream);
_.print_0 = function print_1(str){
  $append_6(this.builder, str);
}
;
_.println = function println_1(obj){
  $append_6(this.builder, '' + obj);
  $append_6(this.builder, '\n');
}
;
_.println_0 = function println_2(str){
  $append_6(this.builder, str);
  $append_6(this.builder, '\n');
}
;
var Lcom_google_gwt_logging_impl_StackTracePrintStream_2_classLit = createForClass('com.google.gwt.logging.impl', 'StackTracePrintStream', 1035, Ljava_io_PrintStream_2_classLit);
function $getMediaElement(this$static){
  return $clinit_DOM() , this$static.element;
}

defineClass(1353, 334, $intern_41);
var Lcom_google_gwt_media_client_MediaBase_2_classLit = createForClass('com.google.gwt.media.client', 'MediaBase', 1353, Lcom_google_gwt_user_client_ui_FocusWidget_2_classLit);
function Audio_0(element){
  $setElement_0(this, ($clinit_DOM() , element));
}

function createIfSupported_0(){
  $clinit_FocusWidget();
  var element;
  !detector_0 && (detector_0 = new Audio$AudioElementSupportDetectedMaybe);
  element = $doc.createElement('audio');
  if (!isSupportedRunTime(element)) {
    return null;
  }
  return new Audio_0(element);
}

function isSupported(){
  $clinit_FocusWidget();
  var element;
  !detector_0 && (detector_0 = new Audio$AudioElementSupportDetectedMaybe);
  element = $doc.createElement('audio');
  if (!isSupportedRunTime(element)) {
    return false;
  }
  return true;
}

defineClass(1354, 1353, $intern_41, Audio_0);
var detector_0;
var Lcom_google_gwt_media_client_Audio_2_classLit = createForClass('com.google.gwt.media.client', 'Audio', 1354, Lcom_google_gwt_media_client_MediaBase_2_classLit);
function isSupportedRunTime(element){
  return !!element.canPlayType;
}

defineClass(1531, 1, {});
var Lcom_google_gwt_media_client_Audio$AudioElementSupportDetector_2_classLit = createForClass('com.google.gwt.media.client', 'Audio/AudioElementSupportDetector', 1531, Ljava_lang_Object_2_classLit);
function Audio$AudioElementSupportDetectedMaybe(){
}

defineClass(502, 1531, {}, Audio$AudioElementSupportDetectedMaybe);
var Lcom_google_gwt_media_client_Audio$AudioElementSupportDetectedMaybe_2_classLit = createForClass('com.google.gwt.media.client', 'Audio/AudioElementSupportDetectedMaybe', 502, Lcom_google_gwt_media_client_Audio$AudioElementSupportDetector_2_classLit);
function $replace(this$static, input_0, replacement){
  return input_0.replace(this$static, replacement);
}

function ImageResourcePrototype(url_0, left, top_0, width_0, height){
  this.left_0 = left;
  this.top_0 = top_0;
  this.height_0 = height;
  this.width_0 = width_0;
  this.url_0 = url_0;
}

defineClass(104, 1, {}, ImageResourcePrototype);
_.height_0 = 0;
_.left_0 = 0;
_.top_0 = 0;
_.width_0 = 0;
var Lcom_google_gwt_resources_client_impl_ImageResourcePrototype_2_classLit = createForClass('com.google.gwt.resources.client.impl', 'ImageResourcePrototype', 104, Ljava_lang_Object_2_classLit);
function ImageResourcePrototype$Bundle(url_0, left, top_0, width_0, height){
  ImageResourcePrototype.call(this, url_0, left, top_0, width_0, height);
}

defineClass(12, 104, {}, ImageResourcePrototype$Bundle);
var Lcom_google_gwt_resources_client_impl_ImageResourcePrototype$Bundle_2_classLit = createForClass('com.google.gwt.resources.client.impl', 'ImageResourcePrototype/Bundle', 12, Lcom_google_gwt_resources_client_impl_ImageResourcePrototype_2_classLit);
function $append(this$static, styles){
  $append_6(this$static.sb, styles.css);
  return this$static;
}

function SafeStylesBuilder(){
  this.sb = new StringBuilder;
}

defineClass(1114, 1, {}, SafeStylesBuilder);
var Lcom_google_gwt_safecss_shared_SafeStylesBuilder_2_classLit = createForClass('com.google.gwt.safecss.shared', 'SafeStylesBuilder', 1114, Ljava_lang_Object_2_classLit);
function SafeStylesString(css){
  verifySafeStylesConstraints(css);
  this.css = css;
}

defineClass(242, 1, {1463:1, 242:1, 3:1}, SafeStylesString);
_.equals$ = function equals_33(obj){
  if (!instanceOf(obj, 1463)) {
    return false;
  }
  return $equals_5(this.css, dynamicCast(dynamicCast(obj, 1463), 242).css);
}
;
_.hashCode$ = function hashCode_31(){
  return getHashCode_1(this.css);
}
;
var Lcom_google_gwt_safecss_shared_SafeStylesString_2_classLit = createForClass('com.google.gwt.safecss.shared', 'SafeStylesString', 242, Ljava_lang_Object_2_classLit);
function verifySafeStylesConstraints(styles){
  if (styles == null) {
    throw new NullPointerException_0('css is null');
  }
}

function OnlyToBeUsedInGeneratedCodeStringBlessedAsSafeHtml(html){
  if (html == null) {
    throw new NullPointerException_0('html is null');
  }
  this.html = html;
}

defineClass(483, 1, $intern_96, OnlyToBeUsedInGeneratedCodeStringBlessedAsSafeHtml);
_.asString = function asString(){
  return this.html;
}
;
_.equals$ = function equals_34(obj){
  if (!instanceOf(obj, 362)) {
    return false;
  }
  return $equals_5(this.html, dynamicCast(obj, 362).asString());
}
;
_.hashCode$ = function hashCode_32(){
  return getHashCode_1(this.html);
}
;
var Lcom_google_gwt_safehtml_shared_OnlyToBeUsedInGeneratedCodeStringBlessedAsSafeHtml_2_classLit = createForClass('com.google.gwt.safehtml.shared', 'OnlyToBeUsedInGeneratedCodeStringBlessedAsSafeHtml', 483, Ljava_lang_Object_2_classLit);
function SafeHtmlString(){
  this.html = '';
}

defineClass(1187, 1, $intern_96, SafeHtmlString);
_.asString = function asString_0(){
  return this.html;
}
;
_.equals$ = function equals_35(obj){
  if (!instanceOf(obj, 362)) {
    return false;
  }
  return $equals_5(this.html, dynamicCast(obj, 362).asString());
}
;
_.hashCode$ = function hashCode_33(){
  return getHashCode_1(this.html);
}
;
_.toString$ = function toString_51(){
  return 'safe: "' + this.html + '"';
}
;
var Lcom_google_gwt_safehtml_shared_SafeHtmlString_2_classLit = createForClass('com.google.gwt.safehtml.shared', 'SafeHtmlString', 1187, Ljava_lang_Object_2_classLit);
function $clinit_SafeHtmlUtils(){
  $clinit_SafeHtmlUtils = emptyMethod;
  new SafeHtmlString;
  AMP_RE = new RegExp('&', 'g');
  GT_RE = new RegExp('>', 'g');
  LT_RE = new RegExp('<', 'g');
  SQUOT_RE = new RegExp("'", 'g');
  QUOT_RE = new RegExp('"', 'g');
}

function htmlEscape(s){
  $clinit_SafeHtmlUtils();
  s.indexOf('&') != -1 && (s = $replace(AMP_RE, s, '&amp;'));
  s.indexOf('<') != -1 && (s = $replace(LT_RE, s, '&lt;'));
  s.indexOf('>') != -1 && (s = $replace(GT_RE, s, '&gt;'));
  s.indexOf('"') != -1 && (s = $replace(QUOT_RE, s, '&quot;'));
  s.indexOf("'") != -1 && (s = $replace(SQUOT_RE, s, '&#39;'));
  return s;
}

var AMP_RE, GT_RE, LT_RE, QUOT_RE, SQUOT_RE;
function $equals_4(this$static, obj){
  if (!instanceOf(obj, 1456)) {
    return false;
  }
  return $equals_5(this$static.uri_0, dynamicCast(dynamicCast(obj, 1456), 8).uri_0);
}

function SafeUriString(uri_0){
  if (uri_0 == null) {
    throw new NullPointerException_0('uri is null');
  }
  this.uri_0 = uri_0;
}

defineClass(8, 1, {1456:1, 8:1}, SafeUriString);
_.equals$ = function equals_36(obj){
  return $equals_4(this, obj);
}
;
_.hashCode$ = function hashCode_34(){
  return getHashCode_1(this.uri_0);
}
;
var Lcom_google_gwt_safehtml_shared_SafeUriString_2_classLit = createForClass('com.google.gwt.safehtml.shared', 'SafeUriString', 8, Ljava_lang_Object_2_classLit);
function $clinit_UriUtils(){
  $clinit_UriUtils = emptyMethod;
  new RegExp('%5B', 'g');
  new RegExp('%5D', 'g');
}

function $getItem(this$static, key){
  return $getItem_0(this$static.storage, key);
}

function $key(this$static, index_0){
  return $key_0(this$static.storage, index_0);
}

function $removeItem(this$static, key){
  $removeItem_0(this$static.storage, key);
}

function $setItem(this$static, key, data_0){
  $setItem_0(this$static.storage, key, data_0);
}

function Storage_0(){
  this.storage = 'localStorage';
}

defineClass(950, 1, {}, Storage_0);
var localStorage_0;
var Lcom_google_gwt_storage_client_Storage_2_classLit = createForClass('com.google.gwt.storage.client', 'Storage', 950, Ljava_lang_Object_2_classLit);
function $clinit_Storage$StorageSupportDetector(){
  $clinit_Storage$StorageSupportDetector = emptyMethod;
  localStorageSupported = checkStorageSupport('localStorage');
  checkStorageSupport('sessionStorage');
}

function checkStorageSupport(storage){
  var c = '_gwt_dummy_';
  try {
    $wnd[storage].setItem(c, c);
    $wnd[storage].removeItem(c);
    return true;
  }
   catch (e) {
    return false;
  }
}

var localStorageSupported = false;
function $getItem_0(storage, key){
  return $wnd[storage].getItem(key);
}

function $getLength(storage){
  return $wnd[storage].length;
}

function $key_0(storage, index_0){
  return index_0 >= 0 && index_0 < $wnd[storage].length?$wnd[storage].key(index_0):null;
}

function $removeItem_0(storage, key){
  $getItem_0(storage, key);
  $wnd[storage].removeItem(key);
}

function $setItem_0(storage, key, data_0){
  $getItem_0(storage, key);
  $wnd[storage].setItem(key, data_0);
}

function $parse_3(object){
  var e;
  if ($equals_5('', object)) {
    return null;
  }
  try {
    return new Double($parse_0(($clinit_NumberFormat() , !cachedDecimalFormat && (cachedDecimalFormat = new NumberFormat_0($getDefaultNative())) , $clinit_NumberFormat() , cachedDecimalFormat), object));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 105)) {
      e = $e0;
      throw new ParseException(e.detailMessage);
    }
     else 
      throw unwrap($e0);
  }
}

function DoubleParser(){
}

defineClass(1439, 1, {}, DoubleParser);
_.parse_0 = function parse_0(object){
  return $parse_3(object);
}
;
var INSTANCE_3;
var Lcom_google_gwt_text_client_DoubleParser_2_classLit = createForClass('com.google.gwt.text.client', 'DoubleParser', 1439, Ljava_lang_Object_2_classLit);
defineClass(1520, 1, {});
var Lcom_google_gwt_text_shared_AbstractRenderer_2_classLit = createForClass('com.google.gwt.text.shared', 'AbstractRenderer', 1520, Ljava_lang_Object_2_classLit);
function DoubleRenderer(){
}

defineClass(1438, 1520, {}, DoubleRenderer);
_.render = function render(object){
  return $format(($clinit_NumberFormat() , !cachedDecimalFormat && (cachedDecimalFormat = new NumberFormat_0($getDefaultNative())) , $clinit_NumberFormat() , cachedDecimalFormat), object.value_0);
}
;
var INSTANCE_4;
var Lcom_google_gwt_text_client_DoubleRenderer_2_classLit = createForClass('com.google.gwt.text.client', 'DoubleRenderer', 1438, Lcom_google_gwt_text_shared_AbstractRenderer_2_classLit);
function PassthroughParser(){
}

defineClass(1037, 1, {}, PassthroughParser);
_.parse_0 = function parse_1(object){
  return object;
}
;
var INSTANCE_5;
var Lcom_google_gwt_text_shared_testing_PassthroughParser_2_classLit = createForClass('com.google.gwt.text.shared.testing', 'PassthroughParser', 1037, Ljava_lang_Object_2_classLit);
function PassthroughRenderer(){
}

defineClass(1036, 1520, {}, PassthroughRenderer);
_.render = function render_0(object){
  return throwClassCastExceptionUnlessNull(object);
}
;
var INSTANCE_6;
var Lcom_google_gwt_text_shared_testing_PassthroughRenderer_2_classLit = createForClass('com.google.gwt.text.shared.testing', 'PassthroughRenderer', 1036, Lcom_google_gwt_text_shared_AbstractRenderer_2_classLit);
function $calcNewVelocity(initialVelocity, decelFactor, oldVelocity, minDecel){
  var maxVelocityX, minVelocityX, newVelocity;
  newVelocity = initialVelocity * decelFactor;
  if (oldVelocity >= 0) {
    maxVelocityX = 0 > oldVelocity - minDecel?0:oldVelocity - minDecel;
    newVelocity = newVelocity < maxVelocityX?newVelocity:maxVelocityX;
  }
   else {
    minVelocityX = 0 < oldVelocity + minDecel?0:oldVelocity + minDecel;
    newVelocity = newVelocity > minVelocityX?newVelocity:minVelocityX;
  }
  return newVelocity;
}

function $updateState(state){
  var decelFactor, dist, elapsedMillis, ellapsedMillis, initialVelocity, minDecel, newVelocity, newVelocityX, newVelocityY, oldVelocity, position, totalEllapsedMillis;
  ellapsedMillis = state.elapsedMillis;
  totalEllapsedMillis = state.cumulativeElapsedMillis;
  initialVelocity = state.initialVelocity;
  oldVelocity = state.velocity;
  decelFactor = pow_0(0.9993, totalEllapsedMillis);
  minDecel = ellapsedMillis * 5.0E-4;
  newVelocityX = $calcNewVelocity(initialVelocity.x_0, decelFactor, oldVelocity.x_0, minDecel);
  newVelocityY = $calcNewVelocity(initialVelocity.y_0, decelFactor, oldVelocity.y_0, minDecel);
  newVelocity = new Point(newVelocityX, newVelocityY);
  state.velocity = newVelocity;
  elapsedMillis = state.elapsedMillis;
  dist = $mult(newVelocity, new Point(elapsedMillis, elapsedMillis));
  position = state.position_0;
  $setPosition(state, new Point(position.x_0 + dist.x_0, position.y_0 + dist.y_0));
  if (abs_0(newVelocity.x_0) < 0.02 && abs_0(newVelocity.y_0) < 0.02) {
    return false;
  }
  return true;
}

function DefaultMomentum(){
}

defineClass(1173, 1, {}, DefaultMomentum);
var Lcom_google_gwt_touch_client_DefaultMomentum_2_classLit = createForClass('com.google.gwt.touch.client', 'DefaultMomentum', 1173, Ljava_lang_Object_2_classLit);
function $setCumulativeElapsedMillis(this$static, cumulativeElapsedMillis){
  this$static.cumulativeElapsedMillis = cumulativeElapsedMillis;
}

function $setElapsedMillis(this$static, elapsedMillis){
  this$static.elapsedMillis = elapsedMillis;
}

function $setPosition(this$static, position){
  this$static.position_0 = position;
}

function Momentum$State(initialPosition, initialVelocity){
  this.initialVelocity = initialVelocity;
  this.position_0 = new Point_0(initialPosition);
  this.velocity = new Point_0(initialVelocity);
}

defineClass(1174, 1, {}, Momentum$State);
_.cumulativeElapsedMillis = 0;
_.elapsedMillis = 0;
var Lcom_google_gwt_touch_client_Momentum$State_2_classLit = createForClass('com.google.gwt.touch.client', 'Momentum/State', 1174, Ljava_lang_Object_2_classLit);
function $minus(this$static, c){
  return new Point(this$static.x_0 - c.x_0, this$static.y_0 - c.y_0);
}

function $mult(this$static, c){
  return new Point(this$static.x_0 * c.x_0, this$static.y_0 * c.y_0);
}

function $plus(this$static, c){
  return new Point(this$static.x_0 + c.x_0, this$static.y_0 + c.y_0);
}

function Point(x_0, y_0){
  this.x_0 = x_0;
  this.y_0 = y_0;
}

function Point_0(c){
  Point.call(this, c.x_0, c.y_0);
}

defineClass(90, 1, {90:1}, Point, Point_0);
_.equals$ = function equals_37(obj){
  var c;
  if (!instanceOf(obj, 90)) {
    return false;
  }
  c = dynamicCast(obj, 90);
  return this.x_0 == c.x_0 && this.y_0 == c.y_0;
}
;
_.hashCode$ = function hashCode_35(){
  return round_int(this.x_0) ^ round_int(this.y_0);
}
;
_.toString$ = function toString_52(){
  return 'Point(' + this.x_0 + ',' + this.y_0 + ')';
}
;
_.x_0 = 0;
_.y_0 = 0;
var Lcom_google_gwt_touch_client_Point_2_classLit = createForClass('com.google.gwt.touch.client', 'Point', 90, Ljava_lang_Object_2_classLit);
function $calculateEndVelocity(from, to){
  var dist, time;
  time = to.time - from.time;
  if (time <= 0) {
    return null;
  }
  dist = $minus(from.point, to.point);
  return new Point(dist.x_0 / time, dist.y_0 / time);
}

function $cancelAll(this$static){
  this$static.touching = false;
  this$static.dragging = false;
  this$static.momentumCommand = null;
}

function $getTouchFromEvent(event_0){
  var touches;
  touches = event_0.nativeEvent.touches;
  return touches.length > 0?touches[0]:null;
}

function $getWidgetScrollPosition(this$static){
  return new Point($getHorizontalScrollPosition(this$static.widget), $getVerticalScrollPosition(this$static.widget));
}

function $hitTest(point1, point2){
  var absDiffX, absDiffY, diff;
  diff = new Point(point1.x_0 - point2.x_0, point1.y_0 - point2.y_0);
  absDiffX = abs_0(diff.x_0);
  absDiffY = abs_0(diff.y_0);
  return absDiffX <= 25 && absDiffY <= 25;
}

function $isClickScrollTriggeringTouch(this$static, clickPoint){
  if (this$static.recentScrollTriggeringTouchPosition.point) {
    return $hitTest(clickPoint, this$static.recentScrollTriggeringTouchPosition.point);
  }
  return false;
}

function $isClickTouchPositionDuringMomentum(this$static, clickPoint){
  var currentTime, point, point$iterator, same;
  currentTime = now_1();
  same = false;
  for (point$iterator = new AbstractList$IteratorImpl(this$static.touchPositionsDuringMomentum); point$iterator.i < point$iterator.this$01_0.size_1();) {
    point = (checkCriticalElement(point$iterator.i < point$iterator.this$01_0.size_1()) , dynamicCast(point$iterator.this$01_0.get_0(point$iterator.last = point$iterator.i++), 214));
    if (currentTime - point.time <= 2500 && $hitTest(clickPoint, point.point)) {
      same = true;
      break;
    }
  }
  return same;
}

function $onDragEnd(this$static){
  var endVelocity;
  if (!this$static.momentum) {
    return;
  }
  endVelocity = $calculateEndVelocity(this$static.recentTouchPosition, this$static.lastTouchPosition);
  if (endVelocity) {
    this$static.momentumCommand = new TouchScroller$MomentumCommand(this$static, endVelocity);
    scheduleFixedDelayImpl(($clinit_SchedulerImpl() , this$static.momentumCommand), 16);
  }
}

function $onTouchEnd(this$static){
  if (!this$static.touching) {
    return;
  }
  this$static.touching = false;
  if (this$static.dragging) {
    this$static.dragging = false;
    $onDragEnd(this$static);
  }
}

function $onTouchMove(this$static, event_0){
  var absDiffX, absDiffY, diff, hMax, hMin, hPosition, touch, touchPoint, touchTime, trackingTime, vMax, vPosition, diff_0, curScrollPosition;
  if (!this$static.touching) {
    return;
  }
  touch = $getTouchFromEvent(event_0);
  touchPoint = new Point($touchGetSubPixelPageX(touch) | 0, $touchGetSubPixelPageY(touch) | 0);
  touchTime = now_1();
  $setTemporalPoint(this$static.lastTouchPosition, touchPoint, touchTime);
  if (!this$static.dragging) {
    diff = $minus(touchPoint, this$static.startTouchPosition);
    absDiffX = abs_0(diff.x_0);
    absDiffY = abs_0(diff.y_0);
    if (absDiffX > 5 || absDiffY > 5) {
      $setTemporalPoint(this$static.recentScrollTriggeringTouchPosition, this$static.recentTouchPosition.point, this$static.recentTouchPosition.time);
      if (absDiffX > absDiffY) {
        hPosition = $getHorizontalScrollPosition(this$static.widget);
        hMin = $getMinimumHorizontalScrollPosition_0(this$static.widget);
        hMax = $getMaximumHorizontalScrollPosition_0(this$static.widget);
        if (diff.x_0 < 0 && hMax <= hPosition) {
          $cancelAll(this$static);
          return;
        }
         else if (diff.x_0 > 0 && hMin >= hPosition) {
          $cancelAll(this$static);
          return;
        }
      }
       else {
        vPosition = $getVerticalScrollPosition(this$static.widget);
        vMax = $getMaximumVerticalScrollPosition(this$static.widget);
        if (diff.y_0 < 0 && vMax <= vPosition) {
          $cancelAll(this$static);
          return;
        }
         else if (diff.y_0 > 0 && 0 >= vPosition) {
          $cancelAll(this$static);
          return;
        }
      }
      this$static.dragging = true;
    }
  }
  $eventPreventDefault(event_0.nativeEvent);
  if (this$static.dragging) {
    diff_0 = $minus(this$static.startTouchPosition, this$static.lastTouchPosition.point);
    curScrollPosition = $plus(this$static.startScrollPosition, diff_0);
    $setHorizontalScrollPosition(this$static.widget, round_int(curScrollPosition.x_0));
    $setVerticalScrollPosition(this$static.widget, round_int(curScrollPosition.y_0));
    trackingTime = touchTime - this$static.recentTouchPosition.time;
    if (trackingTime > 200 && !!this$static.recentTouchPositionOnDeck) {
      $setTemporalPoint(this$static.recentTouchPosition, this$static.recentTouchPositionOnDeck.point, this$static.recentTouchPositionOnDeck.time);
      this$static.recentTouchPositionOnDeck = null;
    }
     else 
      trackingTime > 100 && !this$static.recentTouchPositionOnDeck && (this$static.recentTouchPositionOnDeck = new TouchScroller$TemporalPoint_0(touchPoint, touchTime));
  }
}

function $onTouchStart(this$static, event_0){
  var startTouchTime, touch;
  $setTemporalPoint(this$static.recentScrollTriggeringTouchPosition, null, 0);
  if (this$static.touching) {
    return;
  }
  touch = $getTouchFromEvent(event_0);
  this$static.startTouchPosition = new Point($touchGetSubPixelPageX(touch) | 0, $touchGetSubPixelPageY(touch) | 0);
  startTouchTime = now_1();
  $setTemporalPoint(this$static.recentTouchPosition, this$static.startTouchPosition, startTouchTime);
  $setTemporalPoint(this$static.lastTouchPosition, this$static.startTouchPosition, startTouchTime);
  this$static.recentTouchPositionOnDeck = null;
  if (this$static.momentumCommand) {
    this$static.touchPositionsDuringMomentum.add_0(new TouchScroller$TemporalPoint_0(this$static.startTouchPosition, startTouchTime));
    scheduleFixedDelayImpl(($clinit_SchedulerImpl() , this$static.momentumTouchRemovalCommand), 2500);
  }
  this$static.startScrollPosition = new Point($getHorizontalScrollPosition(this$static.widget), $getVerticalScrollPosition(this$static.widget));
  $cancelAll(this$static);
  this$static.touching = true;
}

function $removeAttachHandler(this$static){
  if (this$static.attachHandlerReg) {
    $removeHandler(this$static.attachHandlerReg.real);
    this$static.attachHandlerReg = null;
  }
}

function $removeBustClickHandler(this$static){
  if (this$static.bustClickHandlerReg) {
    $removeHandler(this$static.bustClickHandlerReg.real);
    this$static.bustClickHandlerReg = null;
  }
}

function $setMomentum(this$static, momentum){
  this$static.momentum = momentum;
}

function $setTargetWidget(this$static, widget){
  var reg, reg$iterator;
  if (this$static.widget == widget) {
    return;
  }
  $cancelAll(this$static);
  for (reg$iterator = new AbstractList$IteratorImpl(this$static.handlerRegs); reg$iterator.i < reg$iterator.this$01_0.size_1();) {
    reg = (checkCriticalElement(reg$iterator.i < reg$iterator.this$01_0.size_1()) , dynamicCast(reg$iterator.this$01_0.get_0(reg$iterator.last = reg$iterator.i++), 1539));
    $removeHandler(reg.real);
  }
  this$static.handlerRegs.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  $removeAttachHandler(this$static);
  $removeBustClickHandler(this$static);
  this$static.widget = widget;
  widget.attached && ($removeBustClickHandler(this$static) , this$static.bustClickHandlerReg = addNativePreviewHandler(new TouchScroller$6(this$static)));
  this$static.attachHandlerReg = $addHandler(widget, new TouchScroller$1(this$static), (!TYPE_20 && (TYPE_20 = new GwtEvent$Type) , TYPE_20));
  this$static.handlerRegs.add_0($addDomHandler(widget, new TouchScroller$2(this$static), ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19)));
  this$static.handlerRegs.add_0($addDomHandler(widget, new TouchScroller$3(this$static), ($clinit_TouchMoveEvent() , $clinit_TouchMoveEvent() , TYPE_18)));
  this$static.handlerRegs.add_0($addDomHandler(widget, new TouchScroller$4(this$static), ($clinit_TouchEndEvent() , $clinit_TouchEndEvent() , TYPE_17)));
  this$static.handlerRegs.add_0($addDomHandler(widget, new TouchScroller$5(this$static), ($clinit_TouchCancelEvent() , $clinit_TouchCancelEvent() , TYPE_16)));
}

function $setWidgetScrollPosition(this$static, position){
  $setHorizontalScrollPosition(this$static.widget, round_int(position.x_0));
  $setVerticalScrollPosition(this$static.widget, round_int(position.y_0));
}

function $setupBustClickHandler(this$static){
  $removeBustClickHandler(this$static);
  this$static.bustClickHandlerReg = addNativePreviewHandler(new TouchScroller$6(this$static));
}

function TouchScroller(){
  this.handlerRegs = new ArrayList;
  this.lastTouchPosition = new TouchScroller$TemporalPoint;
  this.recentTouchPosition = new TouchScroller$TemporalPoint;
  this.recentScrollTriggeringTouchPosition = new TouchScroller$TemporalPoint;
  this.touchPositionsDuringMomentum = new ArrayList;
  this.momentumTouchRemovalCommand = new TouchScroller$MomentumTouchRemovalCommand(this);
  $setMomentum(this, new DefaultMomentum);
}

defineClass(1025, 1, {}, TouchScroller);
_.dragging = false;
_.touching = false;
var isSupported_0;
var Lcom_google_gwt_touch_client_TouchScroller_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller', 1025, Ljava_lang_Object_2_classLit);
function TouchScroller$1(this$0){
  this.this$01 = this$0;
}

defineClass(1029, 1, {1543:1, 6:1}, TouchScroller$1);
var Lcom_google_gwt_touch_client_TouchScroller$1_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/1', 1029, Ljava_lang_Object_2_classLit);
function TouchScroller$2(this$0){
  this.this$01 = this$0;
}

defineClass(1030, 1, $intern_26, TouchScroller$2);
_.onTouchStart = function onTouchStart_2(event_0){
  $onTouchStart(this.this$01, event_0);
}
;
var Lcom_google_gwt_touch_client_TouchScroller$2_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/2', 1030, Ljava_lang_Object_2_classLit);
function TouchScroller$3(this$0){
  this.this$01 = this$0;
}

defineClass(1031, 1, $intern_28, TouchScroller$3);
_.onTouchMove = function onTouchMove_2(event_0){
  $onTouchMove(this.this$01, event_0);
}
;
var Lcom_google_gwt_touch_client_TouchScroller$3_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/3', 1031, Ljava_lang_Object_2_classLit);
function TouchScroller$4(this$0){
  this.this$01 = this$0;
}

defineClass(1032, 1, $intern_27, TouchScroller$4);
_.onTouchEnd = function onTouchEnd_2(event_0){
  $onTouchEnd(this.this$01);
}
;
var Lcom_google_gwt_touch_client_TouchScroller$4_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/4', 1032, Ljava_lang_Object_2_classLit);
function TouchScroller$5(this$0){
  this.this$01 = this$0;
}

defineClass(1033, 1, {525:1, 6:1}, TouchScroller$5);
_.onTouchCancel = function onTouchCancel_1(event_0){
  $onTouchEnd(this.this$01);
}
;
var Lcom_google_gwt_touch_client_TouchScroller$5_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/5', 1033, Ljava_lang_Object_2_classLit);
function TouchScroller$6(this$0){
  this.this$01 = this$0;
}

defineClass(463, 1, $intern_97, TouchScroller$6);
_.onPreviewNativeEvent = function onPreviewNativeEvent(event_0){
  var clickPoint;
  if (1 == $getTypeInt(event_0.nativeEvent)) {
    clickPoint = new Point($eventGetSubPixelClientX(event_0.nativeEvent) | 0, $eventGetSubPixelClientY(event_0.nativeEvent) | 0);
    if ($isClickScrollTriggeringTouch(this.this$01, clickPoint) || $isClickTouchPositionDuringMomentum(this.this$01, clickPoint)) {
      event_0.isCanceled = true;
      $eventStopPropagation(event_0.nativeEvent);
      $eventPreventDefault(event_0.nativeEvent);
    }
  }
}
;
var Lcom_google_gwt_touch_client_TouchScroller$6_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/6', 463, Ljava_lang_Object_2_classLit);
function $finish(this$static){
  if (this$static.windowResizeHandler) {
    $removeHandler(this$static.windowResizeHandler.real);
    this$static.windowResizeHandler = null;
  }
  this$static == this$static.this$01.momentumCommand && (this$static.this$01.momentumCommand = null);
}

function TouchScroller$MomentumCommand(this$0, endVelocity){
  this.this$01 = this$0;
  this.duration_0 = new Duration_0;
  this.initialPosition = $getWidgetScrollPosition(this.this$01);
  this.state = new Momentum$State(this.initialPosition, endVelocity);
  this.windowResizeHandler = addResizeHandler(new TouchScroller$MomentumCommand$1(this));
}

defineClass(1026, 1, {}, TouchScroller$MomentumCommand);
_.execute_0 = function execute_15(){
  var cumulativeElapsedMillis, hMax, hMin, hPos, notDone, vMax, vPos;
  if (this != this.this$01.momentumCommand) {
    $finish(this);
    return false;
  }
  cumulativeElapsedMillis = $elapsedMillis(this.duration_0);
  $setElapsedMillis(this.state, cumulativeElapsedMillis - this.lastElapsedMillis);
  this.lastElapsedMillis = cumulativeElapsedMillis;
  $setCumulativeElapsedMillis(this.state, cumulativeElapsedMillis);
  notDone = $updateState(this.state);
  notDone || $finish(this);
  $setWidgetScrollPosition(this.this$01, this.state.position_0);
  hPos = round_int(this.state.position_0.x_0);
  hMin = $getMinimumHorizontalScrollPosition_0(this.this$01.widget);
  hMax = $getMaximumHorizontalScrollPosition_0(this.this$01.widget);
  vMax = $getMaximumVerticalScrollPosition(this.this$01.widget);
  vPos = round_int(this.state.position_0.y_0);
  if ((vMax <= vPos || 0 >= vPos) && (hMax <= hPos || hMin >= hPos)) {
    $finish(this);
    return false;
  }
  return notDone;
}
;
_.lastElapsedMillis = 0;
var Lcom_google_gwt_touch_client_TouchScroller$MomentumCommand_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/MomentumCommand', 1026, Ljava_lang_Object_2_classLit);
function TouchScroller$MomentumCommand$1(this$1){
  this.this$11 = this$1;
}

defineClass(1028, 1, $intern_98, TouchScroller$MomentumCommand$1);
_.onResize = function onResize(event_0){
  $finish(this.this$11);
}
;
var Lcom_google_gwt_touch_client_TouchScroller$MomentumCommand$1_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/MomentumCommand/1', 1028, Ljava_lang_Object_2_classLit);
function TouchScroller$MomentumTouchRemovalCommand(this$0){
  this.this$01 = this$0;
}

defineClass(1027, 1, {}, TouchScroller$MomentumTouchRemovalCommand);
_.execute_0 = function execute_16(){
  var currentTime, iter, point;
  currentTime = now_1();
  iter = new AbstractList$IteratorImpl(this.this$01.touchPositionsDuringMomentum);
  while (iter.i < iter.this$01_0.size_1()) {
    point = (checkCriticalElement(iter.i < iter.this$01_0.size_1()) , dynamicCast(iter.this$01_0.get_0(iter.last = iter.i++), 214));
    currentTime - point.time >= 2500 && (checkState_1(iter.last != -1) , iter.this$01_0.remove_0(iter.last) , iter.i = iter.last , iter.last = -1);
  }
  return this.this$01.touchPositionsDuringMomentum.array.length != 0;
}
;
var Lcom_google_gwt_touch_client_TouchScroller$MomentumTouchRemovalCommand_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/MomentumTouchRemovalCommand', 1027, Ljava_lang_Object_2_classLit);
function $setTemporalPoint(this$static, point, time){
  this$static.point = point;
  this$static.time = time;
}

function TouchScroller$TemporalPoint(){
}

function TouchScroller$TemporalPoint_0(point, time){
  this.point = point;
  this.time = time;
}

defineClass(214, 1, {214:1}, TouchScroller$TemporalPoint, TouchScroller$TemporalPoint_0);
_.time = 0;
var Lcom_google_gwt_touch_client_TouchScroller$TemporalPoint_2_classLit = createForClass('com.google.gwt.touch.client', 'TouchScroller/TemporalPoint', 214, Ljava_lang_Object_2_classLit);
function BaseListenerWrapper(listener){
  this.listener = listener;
}

function baseRemove(manager, listener, types){
  var handler, handlerCount, i, key, key$index, key$max;
  if (manager) {
    for (key$index = 0 , key$max = types.length; key$index < key$max; ++key$index) {
      key = types[key$index];
      handlerCount = $getHandlerList(manager.eventBus, key, null).size_1();
      for (i = handlerCount - 1; i >= 0; i--) {
        handler = dynamicCast($getHandler(manager.eventBus, key, i), 6);
        instanceOf(handler, 162) && equals_Ljava_lang_Object__Z__devirtual$(dynamicCast(handler, 162).listener, listener) && $doRemove(manager.eventBus, key, handler);
      }
    }
  }
}

defineClass(162, 1, $intern_99);
var Lcom_google_gwt_user_client_BaseListenerWrapper_2_classLit = createForClass('com.google.gwt.user.client', 'BaseListenerWrapper', 162, Ljava_lang_Object_2_classLit);
function ensureCookies(){
  var newCachedCookies;
  if (!cachedCookies || needsRefresh()) {
    newCachedCookies = new HashMap;
    loadCookies(newCachedCookies);
    cachedCookies = newCachedCookies;
  }
  return cachedCookies;
}

function isValidCookieValue(value_0){
  if (uriEncoding) {
    return true;
  }
  return !(value_0.indexOf('=') != -1 || value_0.indexOf(';') != -1);
}

function loadCookies(m){
  var docCookie = $doc.cookie;
  if (docCookie && docCookie != '') {
    var crumbs = docCookie.split('; ');
    for (var i = 0; i < crumbs.length; ++i) {
      var name_0, value_0;
      var eqIdx = crumbs[i].indexOf('=');
      if (eqIdx == -1) {
        name_0 = crumbs[i];
        value_0 = '';
      }
       else {
        name_0 = crumbs[i].substring(0, eqIdx);
        value_0 = crumbs[i].substring(eqIdx + 1);
      }
      if (uriEncoding) {
        try {
          name_0 = decodeURIComponent(name_0);
        }
         catch (e) {
        }
        try {
          value_0 = decodeURIComponent(value_0);
        }
         catch (e) {
        }
      }
      m.put(name_0, value_0);
    }
  }
}

function needsRefresh(){
  var docCookie = $doc.cookie;
  if (docCookie != rawCookies) {
    rawCookies = docCookie;
    return true;
  }
   else {
    return false;
  }
}

function removeCookie(name_0){
  uriEncoding && (name_0 = encodeURIComponent(name_0));
  $doc.cookie = name_0 + '=;expires=Fri, 02-Jan-1970 00:00:00 GMT';
}

function setCookie(name_0, value_0, expires){
  if (uriEncoding) {
    name_0 = encodeURIComponent(name_0);
    value_0 = encodeURIComponent(value_0);
  }
   else if (uriEncoding || !(name_0.indexOf('=') != -1 || name_0.indexOf(';') != -1 || name_0.indexOf(',') != -1 || $equals_5(name_0.substr(0, 1), '$') || $matches_2(name_0, '.*\\s+.*'))) {
    if (!isValidCookieValue(value_0)) {
      throw new IllegalArgumentException_0('Illegal cookie format: ' + value_0 + ' is not a valid cookie value.');
    }
  }
   else {
    throw new IllegalArgumentException_0('Illegal cookie format: ' + name_0 + ' is not a valid cookie name.');
  }
  setCookieImpl(name_0, value_0, toDouble(fromDouble(expires.jsdate.getTime())), null, '/', false);
}

function setCookieImpl(name_0, value_0, expires, domain, path, secure){
  var c = name_0 + '=' + value_0;
  expires && (c += ';expires=' + (new Date(expires)).toGMTString());
  domain && (c += ';domain=' + domain);
  path && (c += ';path=' + path);
  secure && (c += ';secure');
  $doc.cookie = c;
}

var cachedCookies = null, rawCookies, uriEncoding = true;
function $clinit_DOM(){
  $clinit_DOM = emptyMethod;
  $clinit_DOMImplStandard();
}

function dispatchEvent_0(evt, elem){
  $clinit_DOM();
  var eventListener;
  eventListener = getEventListener(elem);
  if (!eventListener) {
    return false;
  }
  dispatchEvent_1(evt, elem, eventListener);
  return true;
}

function dispatchEvent_1(evt, elem, listener){
  $clinit_DOM();
  var prevCurrentEvent;
  prevCurrentEvent = currentEvent;
  currentEvent = evt;
  elem == sCaptureElem && $eventGetTypeInt(evt.type) == 8192 && (sCaptureElem = null);
  listener.onBrowserEvent(evt);
  currentEvent = prevCurrentEvent;
}

function getElementById(id_0){
  $clinit_DOM();
  return $getElementById($doc, id_0);
}

function getStyleAttribute(elem, attr){
  $clinit_DOM();
  return elem.style[attr];
}

function insertChild(parent_0, child, index_0){
  $clinit_DOM();
  $insertChild(parent_0, resolve(child), index_0);
}

function isPotential(o){
  $clinit_DOM();
  try {
    return !!o && !!o.__gwt_resolve;
  }
   catch (e) {
    return false;
  }
}

function previewEvent(evt){
  $clinit_DOM();
  var ret;
  ret = fire_7(handlers_0, evt);
  if (!ret && !!evt) {
    $eventStopPropagation(evt);
    $eventPreventDefault(evt);
  }
  return ret;
}

function releaseCapture(elem){
  $clinit_DOM();
  !!sCaptureElem && elem == sCaptureElem && (sCaptureElem = null);
  $maybeInitializeEventSystem();
  ($clinit_DOMImplStandard() , captureElem) == elem && (captureElem = null);
}

function removeEventPreview(preview){
  $clinit_DOM();
  baseRemove(handlers_0, preview, initValues(getClassLiteralForArray(Lcom_google_gwt_event_shared_GwtEvent$Type_2_classLit, 1), $intern_1, 75, 0, [(!TYPE_27 && (TYPE_27 = new GwtEvent$Type) , TYPE_27)]));
}

function resolve(maybePotential){
  $clinit_DOM();
  return maybePotential.__gwt_resolve?maybePotential.__gwt_resolve():maybePotential;
}

function setCapture(elem){
  $clinit_DOM();
  sCaptureElem = elem;
  $maybeInitializeEventSystem();
  $clinit_DOMImplStandard();
  captureElem = elem;
}

function setStyleAttribute(elem, attr, value_0){
  $clinit_DOM();
  $setPropertyImpl(elem.style, attr, value_0);
}

function sinkEvents_0(elem, eventBits){
  $clinit_DOM();
  $maybeInitializeEventSystem();
  $sinkEventsImpl(elem, eventBits);
}

var currentEvent = null, sCaptureElem;
function DOM$NativePreview(listener){
  BaseListenerWrapper.call(this, listener);
}

defineClass(823, 162, {6:1, 162:1, 414:1}, DOM$NativePreview);
_.onPreviewNativeEvent = function onPreviewNativeEvent_0(event_0){
  event_0.isFirstHandler && (dynamicCast(this.listener, 95).onEventPreview(event_0.nativeEvent) || (event_0.isCanceled = true));
}
;
var Lcom_google_gwt_user_client_DOM$NativePreview_2_classLit = createForClass('com.google.gwt.user.client', 'DOM/NativePreview', 823, Lcom_google_gwt_user_client_BaseListenerWrapper_2_classLit);
function $onModuleLoad_0(){
  var allowedModes, currentMode, i;
  currentMode = $doc.compatMode;
  allowedModes = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, ['CSS1Compat']);
  for (i = 0; i < allowedModes.length; i++) {
    if ($equals_5(allowedModes[i], currentMode)) {
      return;
    }
  }
  allowedModes.length == 1 && $equals_5('CSS1Compat', allowedModes[0]) && $equals_5('BackCompat', currentMode)?"GWT no longer supports Quirks Mode (document.compatMode=' BackCompat').<br>Make sure your application's host HTML page has a Standards Mode (document.compatMode=' CSS1Compat') doctype,<br>e.g. by using &lt;!doctype html&gt; at the start of your application's HTML page.<br><br>To continue using this unsupported rendering mode and risk layout problems, suppress this message by adding<br>the following line to your*.gwt.xml module file:<br>&nbsp;&nbsp;&lt;extend-configuration-property name=\"document.compatMode\" value=\"" + currentMode + '"/&gt;':"Your *.gwt.xml module configuration prohibits the use of the current document rendering mode (document.compatMode=' " + currentMode + "').<br>Modify your application's host HTML page doctype, or update your custom " + "'document.compatMode' configuration property settings.";
}

function $getTypeInt(this$static){
  return $clinit_DOM() , $eventGetTypeInt(this$static.type);
}

function addNativePreviewHandler(handler){
  $clinit_DOM();
  $maybeInitializeEventSystem();
  !TYPE_27 && (TYPE_27 = new GwtEvent$Type);
  if (!handlers_0) {
    handlers_0 = new HandlerManager_0(null, true);
    singleton = new Event$NativePreviewEvent;
  }
  return $addHandler_0(handlers_0, TYPE_27, handler);
}

function getEventsSunk(elem){
  return $clinit_DOM() , elem.__eventBits || 0;
}

function getTypeInt(typeName){
  return $eventGetTypeInt(($clinit_DOM() , typeName));
}

function setEventListener(elem, listener){
  $clinit_DOM();
  setEventListener_0(elem, listener);
}

function sinkEvents_1(elem, eventBits){
  $clinit_DOM();
  $maybeInitializeEventSystem();
  $sinkEventsImpl(elem, eventBits);
}

var handlers_0;
function $revive(this$static){
  this$static.dead = false;
  this$static.source = null;
  this$static.isCanceled = false;
  this$static.isConsumed = false;
  this$static.isFirstHandler = true;
  this$static.nativeEvent = null;
}

function $setNativeEvent_0(this$static, nativeEvent){
  this$static.nativeEvent = nativeEvent;
}

function Event$NativePreviewEvent(){
}

function fire_7(handlers, nativeEvent){
  var lastIsCanceled, lastIsConsumed, lastIsFirstHandler, lastNativeEvent, ret;
  if (!!TYPE_27 && !!handlers && $isEventHandled(handlers, TYPE_27)) {
    lastIsCanceled = singleton.isCanceled;
    lastIsConsumed = singleton.isConsumed;
    lastIsFirstHandler = singleton.isFirstHandler;
    lastNativeEvent = singleton.nativeEvent;
    $revive(singleton);
    $setNativeEvent_0(singleton, nativeEvent);
    $fireEvent_0(handlers, singleton);
    ret = !(singleton.isCanceled && !singleton.isConsumed);
    singleton.isCanceled = lastIsCanceled;
    singleton.isConsumed = lastIsConsumed;
    singleton.isFirstHandler = lastIsFirstHandler;
    singleton.nativeEvent = lastNativeEvent;
    return ret;
  }
  return true;
}

defineClass(574, $intern_85, {}, Event$NativePreviewEvent);
_.dispatch = function dispatch_27(handler){
  dynamicCast(handler, 414).onPreviewNativeEvent(this);
  singleton.isFirstHandler = false;
}
;
_.getAssociatedType = function getAssociatedType_28(){
  return TYPE_27;
}
;
_.revive = function revive_0(){
  $revive(this);
}
;
_.isCanceled = false;
_.isConsumed = false;
_.isFirstHandler = false;
var TYPE_27, singleton;
var Lcom_google_gwt_user_client_Event$NativePreviewEvent_2_classLit = createForClass('com.google.gwt.user.client', 'Event/NativePreviewEvent', 574, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function $clinit_History(){
  $clinit_History = emptyMethod;
  new History$HistoryImpl;
  historyEventSource = new History$HistoryEventSource;
  token = getDecodedHash();
}

function addValueChangeHandler(handler){
  $clinit_History();
  return $addValueChangeHandler(historyEventSource, handler);
}

function getDecodedHash(){
  var hashToken;
  hashToken = $wnd.location.hash;
  if (hashToken == null || !hashToken.length) {
    return '';
  }
  return $decodeHistoryToken(__substr(hashToken, 1, hashToken.length - 1));
}

function newItem(historyToken, issueEvent){
  $clinit_History();
  var updateToken;
  historyToken = historyToken == null?'':historyToken;
  if (!$equals_5(historyToken, token)) {
    token = historyToken;
    updateToken = $encodeHistoryToken(historyToken);
    $wnd.location.hash = updateToken;
    issueEvent && fire_6(historyEventSource, historyToken);
  }
}

function onHashChanged(){
  $clinit_History();
  var hashToken;
  hashToken = getDecodedHash();
  if (!$equals_5(hashToken, token)) {
    token = hashToken;
    fire_6(historyEventSource, hashToken);
  }
}

var historyEventSource, token;
function $addValueChangeHandler(this$static, handler){
  return $addHandler_0(this$static.handlers, (!TYPE_26 && (TYPE_26 = new GwtEvent$Type) , TYPE_26), handler);
}

function History$HistoryEventSource(){
  this.handlers = new HandlerManager(null);
}

defineClass(808, 1, {16:1}, History$HistoryEventSource);
_.fireEvent = function fireEvent_1(event_0){
  $fireEvent_0(this.handlers, event_0);
}
;
var Lcom_google_gwt_user_client_History$HistoryEventSource_2_classLit = createForClass('com.google.gwt.user.client', 'History/HistoryEventSource', 808, Ljava_lang_Object_2_classLit);
function $decodeHistoryToken(historyToken){
  return $wnd.decodeURI(historyToken.replace('%23', '#'));
}

function $encodeHistoryToken(historyToken){
  return $wnd.encodeURI(historyToken).replace('#', '%23');
}

function History$HistoryImpl(){
  var handler;
  handler = $entry(onHashChanged);
  $wnd.addEventListener('hashchange', handler, false);
}

defineClass(809, 1, {}, History$HistoryImpl);
var Lcom_google_gwt_user_client_History$HistoryImpl_2_classLit = createForClass('com.google.gwt.user.client', 'History/HistoryImpl', 809, Ljava_lang_Object_2_classLit);
function addCloseHandler(handler){
  maybeInitializeCloseHandlers();
  return addHandler(TYPE_22?TYPE_22:(TYPE_22 = new GwtEvent$Type), handler);
}

function addHandler(type_0, handler){
  return $addHandler_0((!handlers_1 && (handlers_1 = new Window$WindowHandlers) , handlers_1), type_0, handler);
}

function addResizeHandler(handler){
  maybeInitializeCloseHandlers();
  maybeInitializeResizeHandlers();
  return addHandler((!TYPE_24 && (TYPE_24 = new GwtEvent$Type) , TYPE_24), handler);
}

function alert_0(msg){
  $wnd.alert(msg);
}

function maybeInitializeCloseHandlers(){
  if (!closeHandlersInitialized) {
    $initWindowCloseHandler();
    closeHandlersInitialized = true;
  }
}

function maybeInitializeResizeHandlers(){
  if (!resizeHandlersInitialized) {
    $initWindowResizeHandler();
    resizeHandlersInitialized = true;
  }
}

function onClosing(){
  var event_0;
  if (closeHandlersInitialized) {
    event_0 = new Window$ClosingEvent;
    !!handlers_1 && $fireEvent_0(handlers_1, event_0);
    return null;
  }
  return null;
}

function onResize_0(){
  var height, width_0;
  if (resizeHandlersInitialized) {
    width_0 = $getClientWidth($doc);
    height = $getClientHeight($doc);
    if (lastResizeWidth != width_0 || lastResizeHeight != height) {
      lastResizeWidth = width_0;
      lastResizeHeight = height;
      fire_4((!handlers_1 && (handlers_1 = new Window$WindowHandlers) , handlers_1));
    }
  }
}

function open_2(url_0, name_0, features){
  $wnd.open(url_0, name_0, features);
}

function setStatus(status_0){
  $wnd.status = status_0;
}

function setTitle(title_0){
  $doc.title = title_0;
}

var closeHandlersInitialized = false, handlers_1, lastResizeHeight = 0, lastResizeWidth = 0, resizeHandlersInitialized = false;
function $clinit_Window$ClosingEvent(){
  $clinit_Window$ClosingEvent = emptyMethod;
  TYPE_28 = new GwtEvent$Type;
}

function Window$ClosingEvent(){
  $clinit_Window$ClosingEvent();
}

defineClass(800, $intern_85, {}, Window$ClosingEvent);
_.dispatch = function dispatch_28(handler){
  throwClassCastExceptionUnlessNull(handler);
  null.nullMethod();
}
;
_.getAssociatedType = function getAssociatedType_29(){
  return TYPE_28;
}
;
var TYPE_28;
var Lcom_google_gwt_user_client_Window$ClosingEvent_2_classLit = createForClass('com.google.gwt.user.client', 'Window/ClosingEvent', 800, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function buildListParamMap(queryString){
  var entry, entry$iterator, key, kv, kvPair, kvPair$array, kvPair$index, kvPair$max, out, qs, val, values;
  out = new HashMap;
  if (queryString != null && queryString.length > 1) {
    qs = __substr(queryString, 1, queryString.length - 1);
    for (kvPair$array = $split_0(qs, '&', 0) , kvPair$index = 0 , kvPair$max = kvPair$array.length; kvPair$index < kvPair$max; ++kvPair$index) {
      kvPair = kvPair$array[kvPair$index];
      kv = $split_0(kvPair, '=', 2);
      key = kv[0];
      if (!key.length) {
        continue;
      }
      val = kv.length > 1?kv[1]:'';
      try {
        val = (throwIfNull('encodedURLComponent', val) , decodeQueryStringImpl(val));
      }
       catch ($e0) {
        $e0 = wrap($e0);
        if (!instanceOf($e0, 167))
          throw unwrap($e0);
      }
      values = dynamicCast(out.get_2(key), 38);
      if (!values) {
        values = new ArrayList;
        out.put(key, values);
      }
      values.add_0(val);
    }
  }
  for (entry$iterator = out.entrySet_0().iterator(); entry$iterator.hasNext();) {
    entry = dynamicCast(entry$iterator.next_0(), 31);
    entry.setValue(unmodifiableList(dynamicCast(entry.getValue(), 38)));
  }
  out = ($clinit_Collections() , new Collections$UnmodifiableMap(out));
  return out;
}

function ensureListParameterMap(){
  var currentQueryString;
  currentQueryString = $wnd.location.search;
  if (!listParamMap || !$equals_5(cachedQueryString, currentQueryString)) {
    listParamMap = buildListParamMap(currentQueryString);
    cachedQueryString = currentQueryString;
  }
}

function getParameter(name_0){
  var paramsForName;
  ensureListParameterMap();
  paramsForName = dynamicCast(listParamMap.get_2(name_0), 38);
  return !paramsForName?null:dynamicCastToString(paramsForName.get_0(paramsForName.size_1() - 1));
}

var cachedQueryString = '', listParamMap;
function Window$WindowHandlers(){
  HandlerManager.call(this, null);
}

defineClass(377, 229, {16:1}, Window$WindowHandlers);
var Lcom_google_gwt_user_client_Window$WindowHandlers_2_classLit = createForClass('com.google.gwt.user.client', 'Window/WindowHandlers', 377, Lcom_google_gwt_event_shared_HandlerManager_2_classLit);
function $eventCancelBubble(evt, cancel){
  evt.cancelBubble = cancel;
}

function $eventGetTypeInt(eventType){
  switch (eventType) {
    case 'blur':
      return $intern_100;
    case 'change':
      return $intern_87;
    case 'click':
      return 1;
    case 'dblclick':
      return 2;
    case 'focus':
      return $intern_34;
    case 'keydown':
      return 128;
    case 'keypress':
      return 256;
    case 'keyup':
      return 512;
    case 'load':
      return $intern_101;
    case 'losecapture':
      return 8192;
    case 'mousedown':
      return 4;
    case 'mousemove':
      return 64;
    case 'mouseout':
      return 32;
    case 'mouseover':
      return 16;
    case 'mouseup':
      return 8;
    case 'scroll':
      return 16384;
    case 'error':
      return $intern_102;
    case 'DOMMouseScroll':
    case 'mousewheel':
      return $intern_103;
    case 'contextmenu':
      return $intern_104;
    case 'paste':
      return $intern_92;
    case 'touchstart':
      return $intern_32;
    case 'touchmove':
      return $intern_105;
    case 'touchend':
      return $intern_33;
    case 'touchcancel':
      return 8388608;
    case 'gesturestart':
      return $intern_106;
    case 'gesturechange':
      return $intern_107;
    case 'gestureend':
      return $intern_108;
    default:return -1;
  }
}

function $maybeInitializeEventSystem(){
  if (!eventSystemIsInitialized) {
    $initEventSystem();
    eventSystemIsInitialized = true;
  }
}

function getEventListener(elem){
  var maybeListener = elem.__listener;
  return !instanceOfJso(maybeListener) && instanceOf(maybeListener, 19)?maybeListener:null;
}

function setEventListener_0(elem, listener){
  elem.__listener = listener;
}

var eventSystemIsInitialized = false;
function $clinit_DOMImplStandard(){
  $clinit_DOMImplStandard = emptyMethod;
  bitlessEventDispatchers = {_default_:dispatchEvent_3, dragenter:dispatchDragEvent, dragover:dispatchDragEvent};
  captureEventDispatchers = {click:dispatchCapturedMouseEvent, dblclick:dispatchCapturedMouseEvent, mousedown:dispatchCapturedMouseEvent, mouseup:dispatchCapturedMouseEvent, mousemove:dispatchCapturedMouseEvent, mouseover:dispatchCapturedMouseEvent, mouseout:dispatchCapturedMouseEvent, mousewheel:dispatchCapturedMouseEvent, keydown:dispatchCapturedEvent, keyup:dispatchCapturedEvent, keypress:dispatchCapturedEvent, touchstart:dispatchCapturedMouseEvent, touchend:dispatchCapturedMouseEvent, touchmove:dispatchCapturedMouseEvent, touchcancel:dispatchCapturedMouseEvent, gesturestart:dispatchCapturedMouseEvent, gestureend:dispatchCapturedMouseEvent, gesturechange:dispatchCapturedMouseEvent};
}

function $eventGetToElement(evt){
  if ($equals_5(evt.type, 'mouseover')) {
    return $eventGetTarget(evt);
  }
  if ($equals_5(evt.type, 'mouseout')) {
    return evt.relatedTarget;
  }
  return null;
}

function $getChild(elem, index_0){
  var count = 0, child = elem.firstChild;
  while (child) {
    if (child.nodeType == 1) {
      if (index_0 == count)
        return child;
      ++count;
    }
    child = child.nextSibling;
  }
  return null;
}

function $getChildCount(elem){
  var count = 0, child = elem.firstChild;
  while (child) {
    child.nodeType == 1 && ++count;
    child = child.nextSibling;
  }
  return count;
}

function $getChildIndex(parent_0, toFind){
  var count = 0, child = parent_0.firstChild;
  while (child) {
    if (child === toFind) {
      return count;
    }
    child.nodeType == 1 && ++count;
    child = child.nextSibling;
  }
  return -1;
}

function $initEventSystem(){
  dispatchEvent_2 = $entry(dispatchEvent_3);
  dispatchUnhandledEvent = $entry(dispatchUnhandledEvent_0);
  var foreach = foreach_0;
  var bitlessEvents = bitlessEventDispatchers;
  foreach(bitlessEvents, function(e, fn){
    bitlessEvents[e] = $entry(fn);
  }
  );
  var captureEvents_0 = captureEventDispatchers;
  foreach(captureEvents_0, function(e, fn){
    captureEvents_0[e] = $entry(fn);
  }
  );
  foreach(captureEvents_0, function(e, fn){
    $wnd.addEventListener(e, fn, true);
  }
  );
}

function $insertChild(parent_0, toAdd, index_0){
  var count = 0, child = parent_0.firstChild, before = null;
  while (child) {
    if (child.nodeType == 1) {
      if (count == index_0) {
        before = child;
        break;
      }
      ++count;
    }
    child = child.nextSibling;
  }
  parent_0.insertBefore(toAdd, before);
}

function $sinkBitlessEvent_0(elem, eventTypeName){
  var dispatchMap, dispatcher;
  $maybeInitializeEventSystem();
  dispatchMap = bitlessEventDispatchers;
  dispatcher = dispatchMap[eventTypeName] || dispatchMap['_default_'];
  elem.addEventListener(eventTypeName, dispatcher, false);
}

function $sinkEvents_0(elem, bits){
  $maybeInitializeEventSystem();
  $sinkEventsImpl(elem, bits);
}

function $sinkEventsImpl(elem, bits){
  var chMask = (elem.__eventBits || 0) ^ bits;
  elem.__eventBits = bits;
  if (!chMask)
    return;
  chMask & 1 && (elem.onclick = bits & 1?dispatchEvent_2:null);
  chMask & 2 && (elem.ondblclick = bits & 2?dispatchEvent_2:null);
  chMask & 4 && (elem.onmousedown = bits & 4?dispatchEvent_2:null);
  chMask & 8 && (elem.onmouseup = bits & 8?dispatchEvent_2:null);
  chMask & 16 && (elem.onmouseover = bits & 16?dispatchEvent_2:null);
  chMask & 32 && (elem.onmouseout = bits & 32?dispatchEvent_2:null);
  chMask & 64 && (elem.onmousemove = bits & 64?dispatchEvent_2:null);
  chMask & 128 && (elem.onkeydown = bits & 128?dispatchEvent_2:null);
  chMask & 256 && (elem.onkeypress = bits & 256?dispatchEvent_2:null);
  chMask & 512 && (elem.onkeyup = bits & 512?dispatchEvent_2:null);
  chMask & $intern_87 && (elem.onchange = bits & $intern_87?dispatchEvent_2:null);
  chMask & $intern_34 && (elem.onfocus = bits & $intern_34?dispatchEvent_2:null);
  chMask & $intern_100 && (elem.onblur = bits & $intern_100?dispatchEvent_2:null);
  chMask & 8192 && (elem.onlosecapture = bits & 8192?dispatchEvent_2:null);
  chMask & 16384 && (elem.onscroll = bits & 16384?dispatchEvent_2:null);
  chMask & $intern_101 && (elem.onload = bits & $intern_101?dispatchUnhandledEvent:null);
  chMask & $intern_102 && (elem.onerror = bits & $intern_102?dispatchEvent_2:null);
  chMask & $intern_103 && (elem.onmousewheel = bits & $intern_103?dispatchEvent_2:null);
  chMask & $intern_104 && (elem.oncontextmenu = bits & $intern_104?dispatchEvent_2:null);
  chMask & $intern_92 && (elem.onpaste = bits & $intern_92?dispatchEvent_2:null);
  chMask & $intern_32 && (elem.ontouchstart = bits & $intern_32?dispatchEvent_2:null);
  chMask & $intern_105 && (elem.ontouchmove = bits & $intern_105?dispatchEvent_2:null);
  chMask & $intern_33 && (elem.ontouchend = bits & $intern_33?dispatchEvent_2:null);
  chMask & 8388608 && (elem.ontouchcancel = bits & 8388608?dispatchEvent_2:null);
  chMask & $intern_106 && (elem.ongesturestart = bits & $intern_106?dispatchEvent_2:null);
  chMask & $intern_107 && (elem.ongesturechange = bits & $intern_107?dispatchEvent_2:null);
  chMask & $intern_108 && (elem.ongestureend = bits & $intern_108?dispatchEvent_2:null);
}

function dispatchCapturedEvent(evt){
  previewEvent(evt);
}

function dispatchCapturedMouseEvent(evt){
  var cancelled;
  cancelled = !previewEvent(evt);
  if (cancelled || !captureElem) {
    return;
  }
  dispatchEvent_0(evt, captureElem) && $eventStopPropagation(evt);
}

function dispatchDragEvent(evt){
  $eventPreventDefault(evt);
  dispatchEvent_3(evt);
}

function dispatchEvent_3(evt){
  var element;
  element = getFirstAncestorWithListener(evt);
  if (!element) {
    return;
  }
  dispatchEvent_1(evt, element.nodeType != 1?null:element, getEventListener(element));
}

function dispatchUnhandledEvent_0(evt){
  var element;
  element = $eventGetCurrentTarget(evt);
  $setPropertyString(element, '__gwtLastUnhandledEvent', evt.type);
  dispatchEvent_3(evt);
}

function getFirstAncestorWithListener(evt){
  var curElem;
  curElem = $eventGetCurrentTarget(evt);
  while (!!curElem && !getEventListener(curElem)) {
    curElem = curElem.parentNode;
  }
  return curElem;
}

var bitlessEventDispatchers, captureElem, captureEventDispatchers, dispatchEvent_2, dispatchUnhandledEvent;
function $get_10(this$static, elem){
  var index_0;
  index_0 = getIndex(elem);
  if (index_0 < 0) {
    return null;
  }
  return dynamicCast($get(this$static.uiObjectList, index_0), 15);
}

function $put_1(this$static, uiObject){
  var index_0;
  if (!this$static.freeList) {
    index_0 = this$static.uiObjectList.array.length;
    this$static.uiObjectList.add_0(uiObject);
  }
   else {
    index_0 = this$static.freeList.index_0;
    $set(this$static.uiObjectList, index_0, uiObject);
    this$static.freeList = this$static.freeList.next;
  }
  ($clinit_DOM() , uiObject.element)['__uiObjectID'] = index_0;
}

function $removeByElement(this$static, elem){
  var index_0;
  index_0 = getIndex(elem);
  elem['__uiObjectID'] = null;
  $set(this$static.uiObjectList, index_0, null);
  this$static.freeList = new ElementMapperImpl$FreeNode(index_0, this$static.freeList);
}

function ElementMapperImpl(){
  this.uiObjectList = new ArrayList;
}

function getIndex(elem){
  var index_0 = elem['__uiObjectID'];
  return index_0 == null?-1:index_0;
}

defineClass(931, 1, {}, ElementMapperImpl);
_.freeList = null;
var Lcom_google_gwt_user_client_impl_ElementMapperImpl_2_classLit = createForClass('com.google.gwt.user.client.impl', 'ElementMapperImpl', 931, Ljava_lang_Object_2_classLit);
function ElementMapperImpl$FreeNode(index_0, next){
  this.index_0 = index_0;
  this.next = next;
}

defineClass(932, 1, {}, ElementMapperImpl$FreeNode);
_.index_0 = 0;
var Lcom_google_gwt_user_client_impl_ElementMapperImpl$FreeNode_2_classLit = createForClass('com.google.gwt.user.client.impl', 'ElementMapperImpl/FreeNode', 932, Ljava_lang_Object_2_classLit);
function foreach_0(map_0, fn){
  for (var e in map_0) {
    map_0.hasOwnProperty(e) && fn(e, map_0[e]);
  }
}

function $initWindowCloseHandler(){
  var oldOnBeforeUnload = $wnd.onbeforeunload;
  var oldOnUnload = $wnd.onunload;
  $wnd.onbeforeunload = function(evt){
    var ret, oldRet;
    try {
      ret = $entry(onClosing)();
    }
     finally {
      oldRet = oldOnBeforeUnload && oldOnBeforeUnload(evt);
    }
    if (ret != null) {
      return ret;
    }
    if (oldRet != null) {
      return oldRet;
    }
  }
  ;
  $wnd.onunload = $entry(function(evt){
    try {
      closeHandlersInitialized && fire_2((!handlers_1 && (handlers_1 = new Window$WindowHandlers) , handlers_1));
    }
     finally {
      oldOnUnload && oldOnUnload(evt);
      $wnd.onresize = null;
      $wnd.onscroll = null;
      $wnd.onbeforeunload = null;
      $wnd.onunload = null;
    }
  }
  );
}

function $initWindowResizeHandler(){
  var oldOnResize = $wnd.onresize;
  $wnd.onresize = $entry(function(evt){
    try {
      onResize_0();
    }
     finally {
      oldOnResize && oldOnResize(evt);
    }
  }
  );
}

function create_3(resource){
  return new ClippedImagePrototype(resource.url_0, resource.left_0, resource.top_0, resource.width_0, resource.height_0);
}

defineClass(46, 1, {46:1});
var Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit = createForClass('com.google.gwt.user.client.ui', 'AbstractImagePrototype', 46, Ljava_lang_Object_2_classLit);
function $getAnchorElement(this$static){
  return $clinit_DOM() , this$static.element;
}

function $setHref_0(this$static, href_0){
  $setHref(($clinit_DOM() , this$static.element), href_0);
}

function $setTarget_0(this$static){
  ($clinit_DOM() , this$static.element).target = '_blank';
}

function $setText_1(this$static, text_0){
  $setTextOrHtml(this$static.directionalTextHelper, text_0, false);
}

function Anchor_0(){
  $clinit_FocusWidget();
  $setElement(this, $doc.createElement('a'));
  $setClassName(($clinit_DOM() , this.element), 'gwt-Anchor');
  this.directionalTextHelper = new DirectionalTextHelper(this.element);
}

function Anchor_1(text_0, href_0){
  $clinit_FocusWidget();
  Anchor_0.call(this);
  $setTextOrHtml(this.directionalTextHelper, text_0, false);
  $setHref(($clinit_DOM() , this.element), href_0);
}

defineClass(151, 334, $intern_41, Anchor_0, Anchor_1);
_.getTabIndex = function getTabIndex_0(){
  return $getTabIndex(($clinit_DOM() , this.element));
}
;
_.setTabIndex = function setTabIndex_0(index_0){
  $setTabIndex(($clinit_DOM() , this.element), index_0);
}
;
var Lcom_google_gwt_user_client_ui_Anchor_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Anchor', 151, Lcom_google_gwt_user_client_ui_FocusWidget_2_classLit);
function $clinit_AttachDetachException(){
  $clinit_AttachDetachException = emptyMethod;
  attachCommand = new AttachDetachException$1;
  detachCommand = new AttachDetachException$2;
}

function AttachDetachException(causes){
  UmbrellaException_0.call(this, causes);
}

function tryCommand(hasWidgets, c){
  $clinit_AttachDetachException();
  var caught, e, w, w$iterator;
  caught = null;
  for (w$iterator = hasWidgets.iterator(); w$iterator.hasNext();) {
    w = dynamicCast(w$iterator.next_0(), 7);
    try {
      c.execute_2(w);
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 40)) {
        e = $e0;
        !caught && (caught = new HashSet);
        $add_21(caught, e);
      }
       else 
        throw unwrap($e0);
    }
  }
  if (caught) {
    throw new AttachDetachException(caught);
  }
}

defineClass(629, 428, $intern_88, AttachDetachException);
var attachCommand, detachCommand;
var Lcom_google_gwt_user_client_ui_AttachDetachException_2_classLit = createForClass('com.google.gwt.user.client.ui', 'AttachDetachException', 629, Lcom_google_gwt_event_shared_UmbrellaException_2_classLit);
function AttachDetachException$1(){
}

defineClass(630, 1, {}, AttachDetachException$1);
_.execute_2 = function execute_17(w){
  w.onAttach();
}
;
var Lcom_google_gwt_user_client_ui_AttachDetachException$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'AttachDetachException/1', 630, Ljava_lang_Object_2_classLit);
function AttachDetachException$2(){
}

defineClass(631, 1, {}, AttachDetachException$2);
_.execute_2 = function execute_18(w){
  w.onDetach();
}
;
var Lcom_google_gwt_user_client_ui_AttachDetachException$2_2_classLit = createForClass('com.google.gwt.user.client.ui', 'AttachDetachException/2', 631, Ljava_lang_Object_2_classLit);
function $fireChange(this$static){
  var listener, listener$iterator;
  for (listener$iterator = new AbstractList$IteratorImpl(this$static); listener$iterator.i < listener$iterator.this$01_0.size_1();) {
    listener = (checkCriticalElement(listener$iterator.i < listener$iterator.this$01_0.size_1()) , dynamicCast(listener$iterator.this$01_0.get_0(listener$iterator.last = listener$iterator.i++), 1549));
    listener.this$01.currentOpacity = round_int(listener.this$01.slider.value_0);
    $setOpacity_0(listener.this$01.bigPicture, listener.this$01.currentOpacity);
  }
}

function ChangeListenerCollection(){
  ArrayList.call(this);
}

defineClass(1383, 18, $intern_5, ChangeListenerCollection);
var Lcom_google_gwt_user_client_ui_ChangeListenerCollection_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ChangeListenerCollection', 1383, Ljava_util_ArrayList_2_classLit);
function $addValueChangeHandler_0(this$static, handler){
  if (!this$static.valueChangeHandlerInitialized) {
    this$static.ensureDomEventHandlers();
    this$static.valueChangeHandlerInitialized = true;
  }
  return $addHandler(this$static, handler, (!TYPE_26 && (TYPE_26 = new GwtEvent$Type) , TYPE_26));
}

function $getValue_0(this$static){
  return this$static.attached?($clinit_Boolean() , $isChecked(this$static.inputElem)?TRUE_3:FALSE_2):($clinit_Boolean() , $isDefaultChecked(this$static.inputElem)?TRUE_3:FALSE_2);
}

function $replaceInputElement(this$static, elem){
  var accessKey, checked, enabled, formValue, newInputElem, sunkEvents, tabIndex, uid;
  newInputElem = elem;
  tabIndex = $getTabIndex(this$static.inputElem);
  checked = (this$static.attached?($clinit_Boolean() , $isChecked(this$static.inputElem)?TRUE_3:FALSE_2):($clinit_Boolean() , $isDefaultChecked(this$static.inputElem)?TRUE_3:FALSE_2)).value_0;
  enabled = !this$static.inputElem.disabled;
  formValue = this$static.inputElem.value;
  uid = this$static.inputElem.id;
  accessKey = this$static.inputElem.accessKey;
  sunkEvents = getEventsSunk(this$static.inputElem);
  $clinit_DOM();
  setEventListener_0(this$static.inputElem, null);
  $replaceChild(this$static.element, newInputElem, this$static.inputElem);
  sinkEvents_1(elem, getEventsSunk(this$static.inputElem));
  sinkEvents_1(this$static.inputElem, 0);
  this$static.inputElem = newInputElem;
  sinkEvents_1(this$static.inputElem, sunkEvents);
  $setId(this$static.inputElem, uid);
  $equals_5('', accessKey) || $setAccessKey(this$static.inputElem, accessKey);
  !!this$static.inputElem && $setTabIndex(this$static.inputElem, tabIndex);
  $setValue_1(this$static, ($clinit_Boolean() , checked?TRUE_3:FALSE_2));
  $setDisabled(this$static.inputElem, !enabled);
  enabled?$setStyleName_0(this$static, getStylePrimaryName(this$static.element) + '-' + 'disabled', false):$setStyleName_0(this$static, getStylePrimaryName(this$static.element) + '-' + 'disabled', true);
  $setAttribute(this$static.inputElem, 'value', formValue);
  this$static.attached && setEventListener_0(this$static.inputElem, this$static);
}

function $setEnabled_0(this$static, enabled){
  $setDisabled(this$static.inputElem, !enabled);
  enabled?$setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element)) + '-' + 'disabled', false):$setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element)) + '-' + 'disabled', true);
}

function $setText_2(this$static, text_0){
  $setTextOrHtml(this$static.directionalTextHelper, text_0, false);
}

function $setValue_1(this$static, value_0){
  var oldValue;
  !value_0 && (value_0 = ($clinit_Boolean() , FALSE_2));
  oldValue = this$static.attached?($clinit_Boolean() , $isChecked(this$static.inputElem)?TRUE_3:FALSE_2):($clinit_Boolean() , $isDefaultChecked(this$static.inputElem)?TRUE_3:FALSE_2);
  $setChecked(this$static.inputElem, value_0.value_0);
  $setDefaultChecked(this$static.inputElem, value_0.value_0);
  if (!!oldValue && oldValue.value_0 == value_0.value_0) {
    return;
  }
}

function CheckBox(){
  var e;
  $clinit_FocusWidget();
  CheckBox_0.call(this, ($clinit_DOM() , e = $doc.createElement('INPUT') , e.type = 'checkbox' , e.value = 'on' , e));
  $setClassName(this.element, 'gwt-CheckBox');
}

function CheckBox_0(elem){
  var uid;
  ButtonBase.call(this, ($clinit_DOM() , $doc.createElement('span')));
  this.inputElem = elem;
  this.labelElem = $doc.createElement('label');
  $appendChild(this.element, this.inputElem);
  $appendChild(this.element, this.labelElem);
  uid = $createUniqueId($doc);
  $setPropertyString(this.inputElem, 'id', uid);
  $setHtmlFor(this.labelElem, uid);
  this.directionalTextHelper = new DirectionalTextHelper(this.labelElem);
  !!this.inputElem && $setTabIndex(this.inputElem, 0);
}

function CheckBox_1(label_0){
  $clinit_FocusWidget();
  CheckBox.call(this);
  $setTextOrHtml(this.directionalTextHelper, label_0, false);
}

defineClass(103, 374, $intern_41, CheckBox, CheckBox_1);
_.ensureDomEventHandlers = function ensureDomEventHandlers(){
  $addDomHandler(this, new CheckBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}
;
_.getTabIndex = function getTabIndex_1(){
  return $getTabIndex(this.inputElem);
}
;
_.onLoad = function onLoad_4(){
  $clinit_DOM();
  setEventListener_0(this.inputElem, this);
}
;
_.onUnload = function onUnload_1(){
  $clinit_DOM();
  setEventListener_0(this.inputElem, null);
  $setValue_1(this, this.attached?($clinit_Boolean() , $isChecked(this.inputElem)?TRUE_3:FALSE_2):($clinit_Boolean() , $isDefaultChecked(this.inputElem)?TRUE_3:FALSE_2));
}
;
_.setName = function setName(name_0){
  $setName(this.inputElem, name_0);
}
;
_.setTabIndex = function setTabIndex_1(index_0){
  !!this.inputElem && $setTabIndex(this.inputElem, index_0);
}
;
_.sinkEvents = function sinkEvents_2(eventBitsToAdd){
  this.eventsToSink == -1?sinkEvents_1(this.inputElem, eventBitsToAdd | getEventsSunk(this.inputElem)):this.eventsToSink == -1?sinkEvents_0(($clinit_DOM() , this.element), eventBitsToAdd | (this.element.__eventBits || 0)):(this.eventsToSink |= eventBitsToAdd);
}
;
_.valueChangeHandlerInitialized = false;
var Lcom_google_gwt_user_client_ui_CheckBox_2_classLit = createForClass('com.google.gwt.user.client.ui', 'CheckBox', 103, Lcom_google_gwt_user_client_ui_ButtonBase_2_classLit);
function CheckBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(855, 1, $intern_17, CheckBox$1);
_.onClick = function onClick_9(event_0){
  fire_6(this.this$01, $getValue_0(this.this$01));
}
;
var Lcom_google_gwt_user_client_ui_CheckBox$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'CheckBox/1', 855, Ljava_lang_Object_2_classLit);
function ComplexPanel$1(){
}

defineClass(628, 1, {}, ComplexPanel$1);
_.execute_2 = function execute_19(w){
  $setParent(w, null);
}
;
var Lcom_google_gwt_user_client_ui_ComplexPanel$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ComplexPanel/1', 628, Ljava_lang_Object_2_classLit);
function $cleanupCaptureState(this$static){
  if (this$static.isCapturing || this$static.isFocusing) {
    releaseCapture(($clinit_DOM() , this$static.element));
    this$static.isCapturing = false;
    this$static.isFocusing = false;
  }
}

function $getFaceFromID(this$static, id_0){
  switch (id_0) {
    case 1:
      return !this$static.down && $setDownFace(this$static, new CustomButton$2(this$static, this$static.up, 'down', 1)) , this$static.down;
    case 0:
      return this$static.up;
    case 3:
      return !this$static.downHovering && $setDownHoveringFace(this$static, new CustomButton$2(this$static, (!this$static.down && $setDownFace(this$static, new CustomButton$2(this$static, this$static.up, 'down', 1)) , this$static.down), 'down-hovering', 3)) , this$static.downHovering;
    case 2:
      return !this$static.upHovering && $setUpHoveringFace(this$static, new CustomButton$2(this$static, this$static.up, 'up-hovering', 2)) , this$static.upHovering;
    case 4:
      return !this$static.upDisabled && $setUpDisabledFace(this$static, new CustomButton$2(this$static, this$static.up, 'up-disabled', 4)) , this$static.upDisabled;
    case 5:
      return !this$static.downDisabled && $setDownDisabledFace(this$static, new CustomButton$2(this$static, (!this$static.down && $setDownFace(this$static, new CustomButton$2(this$static, this$static.up, 'down', 1)) , this$static.down), 'down-disabled', 5)) , this$static.downDisabled;
    default:throw new IllegalStateException_0(id_0 + ' is not a known face id.');
  }
}

function $setCurrentFace(this$static, faceID){
  var newFace;
  newFace = $getFaceFromID(this$static, faceID);
  $setCurrentFace_0(this$static, newFace);
}

function $setCurrentFace_0(this$static, newFace){
  var pressed;
  if (this$static.curFace != newFace) {
    !!this$static.curFace && $removeStyleDependentName(this$static, this$static.curFace.val$name4);
    this$static.curFace = newFace;
    $setCurrentFaceElement(this$static, $getFace(newFace));
    $addStyleDependentName(this$static, this$static.curFace.val$name4);
    !($clinit_DOM() , this$static.element)['disabled'] && (pressed = (newFace.val$faceID5 & 1) == 1 , $clinit_Roles() , $setAriaPressedState(this$static.element, ($clinit_PressedValue() , pressed?TRUE:FALSE)) , undefined);
  }
}

function $setCurrentFaceElement(this$static, newFaceElement){
  if (this$static.curFaceElement != newFaceElement) {
    !!this$static.curFaceElement && $removeChild(($clinit_DOM() , this$static.element), this$static.curFaceElement);
    this$static.curFaceElement = newFaceElement;
    $clinit_DOM();
    $appendChild(this$static.element, resolve(this$static.curFaceElement));
  }
}

function $setDownDisabledFace(this$static, downDisabled){
  this$static.downDisabled = downDisabled;
}

function $setDownFace(this$static, down){
  this$static.down = down;
}

function $setDownHoveringFace(this$static, downHovering){
  this$static.downHovering = downHovering;
}

function $setUpDisabledFace(this$static, upDisabled){
  this$static.upDisabled = upDisabled;
}

function $setUpFace(this$static, up){
  this$static.up = up;
}

function $setUpHoveringFace(this$static, upHovering){
  this$static.upHovering = upHovering;
}

function $toggleDown(this$static){
  var newFaceID;
  newFaceID = (!this$static.curFace && $setCurrentFace_0(this$static, this$static.up) , this$static.curFace.val$faceID5 ^ 1);
  $setCurrentFace(this$static, newFaceID);
}

function $toggleHover(this$static){
  var newFaceID;
  newFaceID = (!this$static.curFace && $setCurrentFace_0(this$static, this$static.up) , this$static.curFace.val$faceID5 ^ 2);
  newFaceID &= -5;
  $setCurrentFace(this$static, newFaceID);
}

defineClass(410, 374, $intern_41);
_.getTabIndex = function getTabIndex_2(){
  return $getTabIndex(($clinit_FocusPanel() , $clinit_DOM() , this.element));
}
;
_.onAttach = function onAttach_3(){
  !this.curFace && $setCurrentFace_0(this, this.up);
  $onAttach_0(this);
}
;
_.onBrowserEvent = function onBrowserEvent_2(event_0){
  var keyCode, to, type_0;
  if (($clinit_DOM() , this.element)['disabled']) {
    return;
  }
  type_0 = $eventGetTypeInt(event_0.type);
  switch (type_0) {
    case 1:
      if (!this.allowClick) {
        $eventStopPropagation(event_0);
        return;
      }

      break;
    case 4:
      if ($eventGetButton(event_0) == 1) {
        $focus(($clinit_FocusPanel() , impl_1 , this.element));
        setCapture(this.element);
        this.isCapturing = true;
        $eventPreventDefault(event_0);
      }

      break;
    case 8:
      if (this.isCapturing) {
        this.isCapturing = false;
        releaseCapture(this.element);
        (2 & (!this.curFace && $setCurrentFace_0(this, this.up) , this.curFace).val$faceID5) > 0 && $eventGetButton(event_0) == 1 && $onClick(this);
      }

      break;
    case 64:
      this.isCapturing && $eventPreventDefault(event_0);
      break;
    case 32:
      to = $eventGetToElement(event_0);
      $isOrHasChild(this.element, $eventGetTarget(event_0)) && (!to || !$isOrHasChild(this.element, to)) && (!this.curFace && $setCurrentFace_0(this, this.up) , (2 & this.curFace.val$faceID5) > 0 && $toggleHover(this));
      break;
    case 16:
      $isOrHasChild(this.element, $eventGetTarget(event_0)) && (!this.curFace && $setCurrentFace_0(this, this.up) , (2 & this.curFace.val$faceID5) <= 0 && $toggleHover(this));
      break;
    case $intern_100:
      this.isFocusing && (this.isFocusing = false);
      break;
    case 8192:
      this.isCapturing && (this.isCapturing = false);
  }
  $onBrowserEvent(this, event_0);
  if (($eventGetTypeInt(event_0.type) & 896) != 0) {
    keyCode = $eventGetKeyCode(event_0) & $intern_31;
    switch (type_0) {
      case 128:
        keyCode == 32 && (this.isFocusing = true);
        break;
      case 512:
        if (this.isFocusing && keyCode == 32) {
          this.isFocusing = false;
          $onClick(this);
        }

        break;
      case 256:
        (keyCode == 10 || keyCode == 13) && $onClick(this);
    }
  }
}
;
_.onDetach = function onDetach_1(){
  $onDetach(this);
  $cleanupCaptureState(this);
  !this.curFace && $setCurrentFace_0(this, this.up);
  (2 & this.curFace.val$faceID5) > 0 && $toggleHover(this);
}
;
_.setTabIndex = function setTabIndex_2(index_0){
  $setTabIndex(($clinit_FocusPanel() , $clinit_DOM() , this.element), index_0);
}
;
_.allowClick = false;
_.isCapturing = false;
_.isFocusing = false;
var Lcom_google_gwt_user_client_ui_CustomButton_2_classLit = createForClass('com.google.gwt.user.client.ui', 'CustomButton', 410, Lcom_google_gwt_user_client_ui_ButtonBase_2_classLit);
function $getFace(this$static){
  if (!this$static.face_0) {
    if (!this$static.delegateTo) {
      this$static.face_0 = ($clinit_DOM() , $doc.createElement('div'));
      return this$static.face_0;
    }
     else {
      return $getFace(this$static.delegateTo);
    }
  }
   else {
    return this$static.face_0;
  }
}

function $setText_3(this$static, text_0){
  this$static.face_0 = ($clinit_DOM() , $doc.createElement('div'));
  setStyleName(this$static.face_0, 'html-face', true);
  $setInnerText(this$static.face_0, text_0);
  !!this$static.this$01.curFace && $getFace(this$static.this$01.curFace) == $getFace(this$static) && $setCurrentFaceElement(this$static.this$01, this$static.face_0);
}

defineClass(1406, 1, {});
_.toString$ = function toString_53(){
  return this.val$name4;
}
;
var Lcom_google_gwt_user_client_ui_CustomButton$Face_2_classLit = createForClass('com.google.gwt.user.client.ui', 'CustomButton/Face', 1406, Ljava_lang_Object_2_classLit);
function CustomButton$2(this$0, $anonymous0, val$name, val$faceID){
  this.val$name4 = val$name;
  this.val$faceID5 = val$faceID;
  this.this$01 = this$0;
  this.delegateTo = $anonymous0;
}

defineClass(206, 1406, {}, CustomButton$2);
_.val$faceID5 = 0;
var Lcom_google_gwt_user_client_ui_CustomButton$2_2_classLit = createForClass('com.google.gwt.user.client.ui', 'CustomButton/2', 206, Lcom_google_gwt_user_client_ui_CustomButton$Face_2_classLit);
function $createWidgetContainer(){
  var container;
  container = ($clinit_DOM() , $doc.createElement('div'));
  $setPropertyImpl(container.style, 'width', '100%');
  $setPropertyImpl(container.style, 'height', '0px');
  $setPropertyImpl(container.style, 'padding', '0px');
  $setPropertyImpl(container.style, 'margin', '0px');
  return container;
}

function $finishWidgetInitialization(container, w){
  var element;
  setVisible(container, false);
  $setPropertyImpl(container.style, 'height', '100%');
  element = ($clinit_DOM() , w.element);
  $equals_5(element.style['width'], '') && w.setWidth('100%');
  $equals_5(element.style['height'], '') && w.setHeight('100%');
  w.setVisible(false);
}

function $insert_2(this$static, w, beforeIndex){
  var container;
  container = $createWidgetContainer();
  insertChild(($clinit_DOM() , this$static.element), container, beforeIndex);
  $insert(this$static, w, container, beforeIndex, true);
  $finishWidgetInitialization(container, w);
}

function $remove_12(this$static, w){
  var container, removed;
  container = ($clinit_DOM() , $clinit_DOM() , $getParentElement(w.element));
  removed = $remove_4(this$static, w);
  if (removed) {
    w.setSize('', '');
    w.setVisible(true);
    $removeChild(this$static.element, container);
    this$static.visibleWidget == w && (this$static.visibleWidget = null);
  }
  return removed;
}

function $setAnimationEnabled_0(this$static, enable){
  this$static.isAnimationEnabled = enable;
}

function $showWidget(this$static, index_0){
  var oldWidget;
  $checkIndexBoundsForAccess(this$static, index_0);
  oldWidget = this$static.visibleWidget;
  this$static.visibleWidget = $get_12(this$static.children, index_0);
  if (this$static.visibleWidget != oldWidget) {
    !slideAnimation && (slideAnimation = new DeckPanel$SlideAnimation);
    $showWidget_0(slideAnimation, oldWidget, this$static.visibleWidget, this$static.isAnimationEnabled && this$static.attached);
  }
}

function DeckPanel(){
  ComplexPanel.call(this);
  $setElement_0(this, ($clinit_DOM() , $doc.createElement('div')));
}

defineClass(261, 224, $intern_109, DeckPanel);
_.add_2 = function add_18(w){
  var container;
  container = $createWidgetContainer();
  $clinit_DOM();
  $appendChild(this.element, resolve(container));
  $add_3(this, w, container);
  $finishWidgetInitialization(container, w);
}
;
_.insert = function insert_2(w, beforeIndex){
  $insert_2(this, w, beforeIndex);
}
;
_.remove_1 = function remove_41(w){
  return $remove_12(this, w);
}
;
_.isAnimationEnabled = false;
var slideAnimation;
var Lcom_google_gwt_user_client_ui_DeckPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DeckPanel', 261, Lcom_google_gwt_user_client_ui_ComplexPanel_2_classLit);
function $onUpdate(this$static, progress){
  var height1, height2;
  this$static.growing || (progress = 1 - progress);
  if (this$static.fixedHeight == -1) {
    height1 = round_int(progress * $getPropertyInt(this$static.container1, 'scrollHeight'));
    height2 = round_int((1 - progress) * $getPropertyInt(this$static.container2, 'scrollHeight'));
  }
   else {
    height1 = round_int(progress * this$static.fixedHeight);
    height2 = this$static.fixedHeight - height1;
  }
  if (height1 == 0) {
    height1 = 1;
    height2 = 1 > height2 - 1?1:height2 - 1;
  }
   else if (height2 == 0) {
    height2 = 1;
    height1 = 1 > height1 - 1?1:height1 - 1;
  }
  $setPropertyImpl(this$static.container1.style, 'height', height1 + 'px');
  $setPropertyImpl(this$static.container2.style, 'height', height2 + 'px');
}

function $showWidget_0(this$static, oldWidget, newWidget, animate){
  var deckElem, deckHeight, newContainer, newIndex, oldContainer, oldIndex;
  $cancel_0(this$static);
  newContainer = ($clinit_DOM() , $clinit_DOM() , $getParentElement(newWidget.element));
  newIndex = $getChildIndex((null , $getParentElement(newContainer)), newContainer);
  if (!oldWidget) {
    setVisible(newContainer, true);
    newWidget.setVisible(true);
    return;
  }
  this$static.oldWidget = oldWidget;
  oldContainer = (null , $getParentElement(oldWidget.element));
  oldIndex = $getChildIndex((null , $getParentElement(oldContainer)), oldContainer);
  if (newIndex > oldIndex) {
    this$static.container1 = oldContainer;
    this$static.container2 = newContainer;
    this$static.growing = false;
  }
   else {
    this$static.container1 = newContainer;
    this$static.container2 = oldContainer;
    this$static.growing = true;
  }
  if (animate) {
    deckElem = $getParentElement(this$static.container1);
    deckHeight = $getSubPixelOffsetHeight(deckElem) | 0;
    if (this$static.growing) {
      this$static.fixedHeight = $getSubPixelOffsetHeight(this$static.container2) | 0;
      this$static.container2.style['height'] = max_1(1, this$static.fixedHeight - 1) + ($clinit_Style$Unit() , 'px');
    }
     else {
      this$static.fixedHeight = $getSubPixelOffsetHeight(this$static.container1) | 0;
      this$static.container1.style['height'] = max_1(1, this$static.fixedHeight - 1) + ($clinit_Style$Unit() , 'px');
    }
    ($getSubPixelOffsetHeight(deckElem) | 0) != deckHeight && (this$static.fixedHeight = -1);
    $run_7(this$static, 350, this$static.fixedHeight == -1?null:deckElem);
  }
   else {
    setVisible(this$static.container1, this$static.growing);
    setVisible(this$static.container2, !this$static.growing);
    this$static.container1 = null;
    this$static.container2 = null;
    this$static.oldWidget.setVisible(false);
    this$static.oldWidget = null;
  }
  newWidget.setVisible(true);
}

function DeckPanel$SlideAnimation(){
  Animation.call(this);
}

defineClass(814, 329, {}, DeckPanel$SlideAnimation);
_.onComplete = function onComplete_0(){
  if (this.growing) {
    $setPropertyImpl(this.container1.style, 'height', '100%');
    setVisible(this.container1, true);
    setVisible(this.container2, false);
    $setPropertyImpl(this.container2.style, 'height', '100%');
  }
   else {
    setVisible(this.container1, false);
    $setPropertyImpl(this.container1.style, 'height', '100%');
    $setPropertyImpl(this.container2.style, 'height', '100%');
    setVisible(this.container2, true);
  }
  $setPropertyImpl(this.container1.style, 'overflow', 'visible');
  $setPropertyImpl(this.container2.style, 'overflow', 'visible');
  this.container1 = null;
  this.container2 = null;
  this.oldWidget.setVisible(false);
  this.oldWidget = null;
}
;
_.onStart = function onStart_0(){
  $setPropertyImpl(this.container1.style, 'overflow', 'hidden');
  $setPropertyImpl(this.container2.style, 'overflow', 'hidden');
  $onUpdate(this, 0);
  setVisible(this.container1, true);
  setVisible(this.container2, true);
}
;
_.onUpdate = function onUpdate(progress){
  $onUpdate(this, progress);
}
;
_.container1 = null;
_.container2 = null;
_.fixedHeight = -1;
_.growing = false;
_.oldWidget = null;
var Lcom_google_gwt_user_client_ui_DeckPanel$SlideAnimation_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DeckPanel/SlideAnimation', 814, Lcom_google_gwt_animation_client_Animation_2_classLit);
function $checkInsertBeforeTabIndex(this$static, beforeIndex){
  if (beforeIndex < 0 || beforeIndex > this$static.panel.children.size_0 - 2) {
    throw new IndexOutOfBoundsException;
  }
}

function $checkTabIndex(this$static, index_0){
  if (index_0 < -1 || index_0 >= this$static.panel.children.size_0 - 2) {
    throw new IndexOutOfBoundsException;
  }
}

function $getTabHTML(this$static, index_0){
  var delPanel, focusablePanel, widget;
  if (index_0 >= this$static.panel.children.size_0 - 2) {
    return null;
  }
  delPanel = dynamicCast($getWidget(this$static.panel, index_0 + 1), 338);
  focusablePanel = delPanel.focusablePanel;
  widget = focusablePanel.widget;
  return instanceOf(widget, 42)?$getTextOrHtml(dynamicCast(widget, 42).directionalTextHelper, true):instanceOf(widget, 5)?$getTextOrHtml(dynamicCast(widget, 5).directionalTextHelper, false):$getParentElement(($clinit_DOM() , focusablePanel.element)).innerHTML;
}

function $insertTab(this$static, text_0, beforeIndex){
  var item_0, delWidget, focusablePanel;
  $checkInsertBeforeTabIndex(this$static, beforeIndex);
  item_0 = new Label_1(text_0);
  ($clinit_DOM() , item_0.element).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'nowrap');
  $checkInsertBeforeTabIndex(this$static, beforeIndex);
  delWidget = new TabBar$ClickDelegatePanel(this$static, item_0);
  $setClassName(delWidget.element, 'gwt-TabBarItem');
  focusablePanel = delWidget.focusablePanel;
  $clinit_Roles();
  $set_0(TAB, focusablePanel.element);
  $insert_0(this$static.panel, delWidget, beforeIndex + 1);
  setStyleName((null , $getParentElement(delWidget.element)), 'gwt-TabBarItem-wrapper', true);
}

function $removeTab(this$static, index_0){
  var toRemove;
  $checkTabIndex(this$static, index_0);
  toRemove = $getWidget(this$static.panel, index_0 + 1);
  toRemove == this$static.selectedTab && (this$static.selectedTab = null);
  $remove_5(this$static.panel, toRemove);
}

function $selectTab(this$static, index_0){
  var event_0;
  $checkTabIndex(this$static, index_0);
  event_0 = fire_1(this$static, valueOf_45(index_0));
  if (!!event_0 && event_0.canceled) {
    return false;
  }
  $setSelectionStyle(this$static.selectedTab, false);
  if (index_0 == -1) {
    this$static.selectedTab = null;
    return true;
  }
  this$static.selectedTab = $getWidget(this$static.panel, index_0 + 1);
  $setSelectionStyle(this$static.selectedTab, true);
  fire_5(this$static, valueOf_45(index_0));
  return true;
}

function $selectTabByTabWidget(this$static, tabWidget){
  var i, numTabs;
  numTabs = this$static.panel.children.size_0 - 1;
  for (i = 1; i < numTabs; ++i) {
    if ($getWidget(this$static.panel, i) == tabWidget) {
      return $selectTab(this$static, i - 1);
    }
  }
  return false;
}

function $setSelectionStyle(item_0, selected){
  if (item_0) {
    if (selected) {
      setStyleName(item_0.getStyleElement(), 'gwt-TabBarItem-selected', true);
      setStyleName(($clinit_DOM() , $clinit_DOM() , $getParentElement(item_0.element)), 'gwt-TabBarItem-wrapper-selected', true);
    }
     else {
      setStyleName(item_0.getStyleElement(), 'gwt-TabBarItem-selected', false);
      setStyleName(($clinit_DOM() , $clinit_DOM() , $getParentElement(item_0.element)), 'gwt-TabBarItem-wrapper-selected', false);
    }
  }
}

function $setTabText(this$static, index_0, text_0){
  var delPanel, focusablePanel;
  delPanel = dynamicCast($getWidget(this$static.panel, index_0 + 1), 338);
  focusablePanel = delPanel.focusablePanel;
  focusablePanel.setWidget(new Label_2(text_0));
}

defineClass(812, $intern_42, $intern_110);
_.onClick_0 = function onClick_10(sender){
}
;
var Lcom_google_gwt_user_client_ui_TabBar_2_classLit = createForClass('com.google.gwt.user.client.ui', 'TabBar', 812, Lcom_google_gwt_user_client_ui_Composite_2_classLit);
function $clinit_DecoratedTabBar(){
  $clinit_DecoratedTabBar = emptyMethod;
  TAB_ROW_STYLES = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, ['tabTop', 'tabMiddle']);
}

var TAB_ROW_STYLES;
function $add_9(this$static, w, tabText){
  $add_10(this$static, !w?null:w.asWidget(), tabText);
}

function $add_10(this$static, w, tabText){
  $insert_3(this$static, w, tabText, this$static.deck.children.size_0);
}

function $clear_4(this$static){
  while (this$static.deck.children.size_0 > 0) {
    $remove_14(this$static, $getWidget(this$static.deck, 0));
  }
}

function $getWidgetIndex_0(this$static, widget){
  return $getWidgetIndex(this$static.deck, widget);
}

function $insert_3(this$static, widget, tabText, beforeIndex){
  $insertProtected(this$static.deck, widget, tabText, beforeIndex);
}

function $remove_13(this$static, index_0){
  return $remove_3(this$static.deck, index_0);
}

function $remove_14(this$static, widget){
  return $remove_18(this$static.deck, widget);
}

function $selectTab_0(this$static, index_0){
  $selectTab(this$static.tabBar, index_0);
}

function $setAnimationEnabled_1(this$static, enable){
  $setAnimationEnabled_0(this$static.deck, enable);
}

function TabPanel(){
  var panel;
  this.tabBar = new TabPanel$UnmodifiableTabBar(this);
  this.deck = new TabPanel$TabbedDeckPanel(this.tabBar);
  panel = new VerticalPanel;
  $add_5(panel, this.tabBar);
  $add_5(panel, this.deck);
  $setCellHeight(panel, this.deck, '100%');
  $setWidth(this.tabBar, '100%');
  add_25(this.tabBar, this);
  $initWidget(this, panel);
  $setClassName(($clinit_DOM() , this.element), 'gwt-TabPanel');
  $setStyleName(this.deck, 'gwt-TabPanelBottom');
  $clinit_Roles();
  $set_0(TABPANEL, $getElement(this.deck));
}

defineClass(378, $intern_42, $intern_111, TabPanel);
_.createTabTextWrapper = function createTabTextWrapper(){
  return null;
}
;
_.getWidgetIndex = function getWidgetIndex_0(widget){
  return $getWidgetIndex_0(this, widget);
}
;
_.iterator = function iterator_34(){
  return new WidgetCollection$WidgetIterator(this.deck.children);
}
;
_.onBeforeTabSelected = function onBeforeTabSelected(sender, tabIndex){
  var event_0;
  event_0 = fire_1(this, valueOf_45(tabIndex));
  return !event_0 || !event_0.canceled;
}
;
_.onTabSelected = function onTabSelected(sender, tabIndex){
  $showWidget(this.deck, tabIndex);
  fire_5(this, valueOf_45(tabIndex));
}
;
_.remove_1 = function remove_42(widget){
  return $remove_14(this, widget);
}
;
var Lcom_google_gwt_user_client_ui_TabPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'TabPanel', 378, Lcom_google_gwt_user_client_ui_Composite_2_classLit);
function DecoratedTabPanel(){
  TabPanel.call(this);
  setStylePrimaryName(($clinit_DOM() , this.element), 'gwt-DecoratedTabPanel');
  $setStylePrimaryName(this.tabBar, 'gwt-DecoratedTabBar');
}

defineClass(337, 378, $intern_111, DecoratedTabPanel);
_.createTabTextWrapper = function createTabTextWrapper_0(){
  return new DecoratorPanel_0(($clinit_DecoratedTabBar() , TAB_ROW_STYLES));
}
;
var Lcom_google_gwt_user_client_ui_DecoratedTabPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DecoratedTabPanel', 337, Lcom_google_gwt_user_client_ui_TabPanel_2_classLit);
function $clinit_DecoratorPanel(){
  $clinit_DecoratorPanel = emptyMethod;
  DEFAULT_ROW_STYLENAMES = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, ['top', 'middle', 'bottom']);
}

function DecoratorPanel(){
  $clinit_DecoratorPanel();
  DecoratorPanel_0.call(this, DEFAULT_ROW_STYLENAMES);
}

function DecoratorPanel_0(rowStyles){
  var trElem;
  $clinit_DecoratorPanel();
  var i, row, table;
  SimplePanel_0.call(this, ($clinit_DOM() , $doc.createElement('table')));
  table = this.element;
  this.tbody = $doc.createElement('tbody');
  $appendChild(table, resolve(this.tbody));
  $setPropertyInt(table, 'cellSpacing', 0);
  $setPropertyInt(table, 'cellPadding', 0);
  for (i = 0; i < rowStyles.length; i++) {
    row = (trElem = $doc.createElement('tr') , $setClassName(trElem, rowStyles[i]) , $clinit_LocaleInfo() , $appendChild(trElem, resolve(createTD(rowStyles[i] + 'Left'))) , $appendChild(trElem, resolve(createTD(rowStyles[i] + 'Center'))) , $appendChild(trElem, resolve(createTD(rowStyles[i] + 'Right'))) , trElem);
    $appendChild(this.tbody, resolve(row));
    i == 1 && (this.containerElem = $getFirstChildElement($getChild(row, 1)));
  }
  $setClassName(this.element, 'gwt-DecoratorPanel');
}

function createTD(styleName){
  var inner, tdElem;
  tdElem = ($clinit_DOM() , $doc.createElement('td'));
  inner = $doc.createElement('div');
  $appendChild(tdElem, resolve(inner));
  $setClassName(tdElem, styleName);
  $setClassName(inner, styleName + 'Inner');
  return tdElem;
}

defineClass(238, 29, {20:1, 16:1, 19:1, 238:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1}, DecoratorPanel, DecoratorPanel_0);
_.getContainerElement = function getContainerElement_1(){
  return $clinit_DOM() , this.containerElem;
}
;
var DEFAULT_ROW_STYLENAMES;
var Lcom_google_gwt_user_client_ui_DecoratorPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DecoratorPanel', 238, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $getTextOrHtml(this$static, isHtml){
  var elem;
  elem = this$static.isSpanWrapped?$getFirstChildElement(this$static.element):this$static.element;
  return isHtml?elem.innerHTML:elem.textContent;
}

function $setDirection_0(this$static, direction){
  setDirectionOnElement(this$static.element, direction);
  this$static.initialElementDir = direction;
  $setInnerTextOrHtml(this$static, $getTextOrHtml(this$static, true));
  this$static.isSpanWrapped = false;
  this$static.textDir = this$static.initialElementDir;
}

function $setInnerTextOrHtml(this$static, content_0){
  $setInnerHTML(this$static.element, content_0);
}

function $setTextOrHtml(this$static, content_0, isHtml){
  this$static.isSpanWrapped = false;
  isHtml?$setInnerHTML(this$static.element, content_0):$setInnerText(this$static.element, content_0);
  if (this$static.textDir != this$static.initialElementDir) {
    this$static.textDir = this$static.initialElementDir;
    setDirectionOnElement(this$static.element, this$static.initialElementDir);
  }
}

function DirectionalTextHelper(element){
  this.element = element;
  this.isSpanWrapped = false;
  this.initialElementDir = getDirectionOnElement(element);
  this.textDir = this.initialElementDir;
}

defineClass(341, 1, {}, DirectionalTextHelper);
_.isSpanWrapped = false;
var Lcom_google_gwt_user_client_ui_DirectionalTextHelper_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DirectionalTextHelper', 341, Ljava_lang_Object_2_classLit);
function $clinit_DisclosurePanel(){
  $clinit_DisclosurePanel = emptyMethod;
  $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator();
}

function $add_11(this$static, w){
  if (!this$static.contentWrapper.widget) {
    $setContent(this$static, w);
  }
   else {
    throw new IllegalStateException_0('A DisclosurePanel can only contain two Widgets.');
  }
}

function $remove_15(this$static, w){
  if (w == this$static.contentWrapper.widget) {
    $setContent(this$static, null);
    return true;
  }
  return false;
}

function $setContent(this$static, content_0){
  var currentContent;
  currentContent = this$static.contentWrapper.widget;
  if (currentContent) {
    this$static.contentWrapper.setWidget(null);
    setStyleName(currentContent.getStyleElement(), 'content', false);
  }
  if (content_0) {
    this$static.contentWrapper.setWidget(content_0);
    setStyleName(content_0.getStyleElement(), 'content', true);
    $setContentDisplay(this$static, false);
  }
}

function $setContentDisplay(this$static, animate){
  if (this$static.isOpen) {
    $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element)) + '-' + 'closed', false);
    $setStyleName_0(this$static, getStylePrimaryName(this$static.element) + '-' + 'open', true);
  }
   else {
    $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element)) + '-' + 'open', false);
    $setStyleName_0(this$static, getStylePrimaryName(this$static.element) + '-' + 'closed', true);
  }
  if (this$static.contentWrapper.widget) {
    !contentAnimation && (contentAnimation = new DisclosurePanel$ContentAnimation);
    $setOpen_0(contentAnimation, this$static, animate && this$static.isAnimationEnabled);
  }
}

function $setHeader(this$static, headerWidget){
  $setWidget(this$static.header, headerWidget);
}

function $setOpen(this$static, isOpen){
  if (this$static.isOpen != isOpen) {
    this$static.isOpen = isOpen;
    $setContentDisplay(this$static, true);
    this$static.isOpen?fire_3(this$static):fire_2(this$static);
  }
}

function DisclosurePanel(){
  $clinit_DisclosurePanel();
  this.mainPanel = new VerticalPanel;
  this.contentWrapper = new SimplePanel;
  this.header = new DisclosurePanel$ClickableHeader(this);
  $initWidget(this, this.mainPanel);
  $add_5(this.mainPanel, this.header);
  $add_5(this.mainPanel, this.contentWrapper);
  $setPropertyImpl($getElement(this.contentWrapper).style, 'padding', '0px');
  $setPropertyImpl($getElement(this.contentWrapper).style, 'overflow', 'hidden');
  $setClassName(($clinit_DOM() , this.element), 'gwt-DisclosurePanel');
  $setContentDisplay(this, false);
}

function DisclosurePanel_0(openImage, closedImage, headerText){
  DisclosurePanel.call(this);
  $setHeader(this, new DisclosurePanel$DefaultHeader(this, openImage, closedImage, headerText));
}

function DisclosurePanel_1(headerText){
  $clinit_DisclosurePanel();
  DisclosurePanel_0.call(this, ($clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator$disclosurePanelOpenInitializer() , $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator() , disclosurePanelOpen), ($clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator$disclosurePanelClosedInitializer() , disclosurePanelClosed), headerText);
}

defineClass(125, $intern_42, {20:1, 16:1, 19:1, 17:1, 27:1, 158:1, 13:1, 15:1, 7:1}, DisclosurePanel, DisclosurePanel_1);
_.iterator = function iterator_35(){
  return createWidgetIterator(this, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.contentWrapper.widget]));
}
;
_.remove_1 = function remove_43(w){
  return $remove_15(this, w);
}
;
_.isAnimationEnabled = false;
_.isOpen = false;
var contentAnimation;
var Lcom_google_gwt_user_client_ui_DisclosurePanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DisclosurePanel', 125, Lcom_google_gwt_user_client_ui_Composite_2_classLit);
function DisclosurePanel$ClickableHeader(this$0){
  var elem;
  this.this$01 = this$0;
  SimplePanel_0.call(this, ($clinit_DOM() , $doc.createElement('a')));
  elem = this.element;
  $setPropertyString(elem, 'href', 'javascript:void(0);');
  $setPropertyImpl(elem.style, 'display', 'block');
  this.eventsToSink == -1?$sinkEvents_0(this.element, 1 | (this.element.__eventBits || 0)):(this.eventsToSink |= 1);
  $setClassName(this.element, 'header');
}

defineClass(698, 29, $intern_14, DisclosurePanel$ClickableHeader);
_.onBrowserEvent = function onBrowserEvent_3(event_0){
  switch ($clinit_DOM() , $eventGetTypeInt(event_0.type)) {
    case 1:
      $eventPreventDefault(event_0);
      $setOpen(this.this$01, !this.this$01.isOpen);
  }
}
;
var Lcom_google_gwt_user_client_ui_DisclosurePanel$ClickableHeader_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DisclosurePanel/ClickableHeader', 698, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $onUpdate_0(this$static, progress){
  var height, scrollHeight;
  scrollHeight = $getPropertyInt($getElement(this$static.curPanel.contentWrapper), 'scrollHeight');
  height = round_int(progress * scrollHeight);
  this$static.opening || (height = scrollHeight - height);
  height = height > 1?height:1;
  $getElement(this$static.curPanel.contentWrapper).style['height'] = height + 'px';
  $getElement(this$static.curPanel.contentWrapper).style['width'] = 'auto';
}

function $setOpen_0(this$static, panel, animate){
  $cancel_0(this$static);
  if (animate) {
    this$static.curPanel = panel;
    this$static.opening = panel.isOpen;
    $run_6(this$static, 350, now_1(), null);
  }
   else {
    panel.contentWrapper.setVisible(panel.isOpen);
    panel.isOpen && panel.contentWrapper.widget.setVisible(true);
  }
}

function DisclosurePanel$ContentAnimation(){
  Animation.call(this);
}

defineClass(699, 329, {}, DisclosurePanel$ContentAnimation);
_.onComplete = function onComplete_1(){
  this.opening || this.curPanel.contentWrapper.setVisible(false);
  $getElement(this.curPanel.contentWrapper).style['height'] = 'auto';
  this.curPanel = null;
}
;
_.onStart = function onStart_1(){
  $onUpdate_0(this, (1 + cos_0($intern_73)) / 2);
  if (this.opening) {
    this.curPanel.contentWrapper.setVisible(true);
    this.curPanel.contentWrapper.widget.setVisible(true);
  }
}
;
_.onUpdate = function onUpdate_0(progress){
  $onUpdate_0(this, progress);
}
;
_.opening = false;
var Lcom_google_gwt_user_client_ui_DisclosurePanel$ContentAnimation_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DisclosurePanel/ContentAnimation', 699, Lcom_google_gwt_animation_client_Animation_2_classLit);
function DisclosurePanel$DefaultHeader(this$0, openImage, closedImage, text_0){
  DisclosurePanel$DefaultHeader_0.call(this, this$0, new DisclosurePanel$DefaultHeader$2(closedImage, openImage), text_0);
}

function DisclosurePanel$DefaultHeader_0(this$0, imager, text_0){
  var imageTD, root, tbody, tr;
  this.this$01 = this$0;
  this.imager = imager;
  this.iconImage = new Image_1(imager.val$closedImage2);
  root = ($clinit_DOM() , $doc.createElement('table'));
  tbody = $doc.createElement('tbody');
  tr = $doc.createElement('tr');
  imageTD = $doc.createElement('td');
  this.labelTD = $doc.createElement('td');
  $setElement_0(this, root);
  $appendChild(root, resolve(tbody));
  $appendChild(tbody, resolve(tr));
  $appendChild(tr, resolve(imageTD));
  $appendChild(tr, resolve(this.labelTD));
  $setPropertyString(imageTD, 'align', 'center');
  $setPropertyString(imageTD, 'valign', 'middle');
  imageTD.style['width'] = $getWidth(this.iconImage) + 'px';
  $appendChild(imageTD, resolve($getElement(this.iconImage)));
  $setInnerText(this.labelTD, text_0);
  $addHandler(this$0, this, (!TYPE_23 && (TYPE_23 = new GwtEvent$Type) , TYPE_23));
  $addHandler(this$0, this, TYPE_22?TYPE_22:(TYPE_22 = new GwtEvent$Type));
  $updateImage(this.imager, this.this$01.isOpen, this.iconImage);
}

defineClass(440, 7, {1452:1, 20:1, 1538:1, 6:1, 16:1, 19:1, 17:1, 13:1, 15:1, 7:1}, DisclosurePanel$DefaultHeader);
_.onClose = function onClose(event_0){
  $updateImage(this.imager, this.this$01.isOpen, this.iconImage);
}
;
var Lcom_google_gwt_user_client_ui_DisclosurePanel$DefaultHeader_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DisclosurePanel/DefaultHeader', 440, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $updateImage(this$static, open_0, image){
  open_0?$setResource(image, this$static.val$openImage3):$setResource(image, this$static.val$closedImage2);
}

function DisclosurePanel$DefaultHeader$2(val$closedImage, val$openImage){
  this.val$closedImage2 = val$closedImage;
  this.val$openImage3 = val$openImage;
}

defineClass(700, 1, {}, DisclosurePanel$DefaultHeader$2);
var Lcom_google_gwt_user_client_ui_DisclosurePanel$DefaultHeader$2_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DisclosurePanel/DefaultHeader/2', 700, Ljava_lang_Object_2_classLit);
function $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator(){
  $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator = emptyMethod;
  bundledImage_None_0 = $moduleBase + 'E44767377485D18D6B6864F65BA8EF73.cache.png';
}

var bundledImage_None_0, disclosurePanelClosed, disclosurePanelOpen;
function $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator$disclosurePanelClosedInitializer(){
  $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator$disclosurePanelClosedInitializer = emptyMethod;
  $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator();
  disclosurePanelClosed = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(($clinit_LocaleInfo() , bundledImage_None_0))), 16, 0, 16, 16);
}

function $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator$disclosurePanelOpenInitializer(){
  $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator$disclosurePanelOpenInitializer = emptyMethod;
  $clinit_DisclosurePanel_DefaultImages_default_StaticClientBundleGenerator();
  disclosurePanelOpen = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(($clinit_LocaleInfo() , bundledImage_None_0))), 0, 0, 16, 16);
}

function $addValueChangeHandler_1(this$static, handler){
  if (!this$static.valueChangeHandlerInitialized) {
    this$static.valueChangeHandlerInitialized = true;
    $addDomHandler(this$static, new ValueBoxBase$1(this$static), ($clinit_ChangeEvent() , $clinit_ChangeEvent() , TYPE_0));
  }
  return $addHandler(this$static, handler, (!TYPE_26 && (TYPE_26 = new GwtEvent$Type) , TYPE_26));
}

function $cancelKey(this$static){
  !!this$static.currentEvent && $eventPreventDefault(this$static.currentEvent);
}

function $getText(this$static){
  return $getPropertyString(($clinit_DOM() , this$static.element), 'value');
}

function $getValue_1(this$static){
  try {
    return $getValueOrThrow(this$static);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 393)) {
      return null;
    }
     else 
      throw unwrap($e0);
  }
}

function $getValueOrThrow(this$static){
  var parseResult, text_0;
  text_0 = $getPropertyString(($clinit_DOM() , this$static.element), 'value');
  parseResult = this$static.parser.parse_0(text_0);
  if ($equals_5('', text_0)) {
    return null;
  }
  return parseResult;
}

function $selectAll(this$static){
  var length_0;
  length_0 = $getPropertyString(($clinit_DOM() , this$static.element), 'value').length;
  length_0 > 0 && $setSelectionRange(this$static, 0, length_0);
}

function $setName_1(this$static, name_0){
  $setPropertyString(($clinit_DOM() , this$static.element), 'name', name_0);
}

function $setReadOnly(this$static, readOnly){
  ($clinit_DOM() , this$static.element)['readOnly'] = readOnly;
  readOnly?$setStyleName_0(this$static, getStylePrimaryName(this$static.element) + '-' + 'readonly', true):$setStyleName_0(this$static, getStylePrimaryName(this$static.element) + '-' + 'readonly', false);
}

function $setSelectionRange(this$static, pos, length_0){
  if (!this$static.attached) {
    return;
  }
  if (length_0 < 0) {
    throw new IndexOutOfBoundsException_0('Length must be a positive integer. Length: ' + length_0);
  }
  if (pos < 0 || length_0 + pos > $getPropertyString(($clinit_DOM() , this$static.element), 'value').length) {
    throw new IndexOutOfBoundsException_0('From Index: ' + pos + '  To Index: ' + (pos + length_0) + '  Text Length: ' + $getPropertyString(($clinit_DOM() , this$static.element), 'value').length);
  }
  $setSelectionRange_0(($clinit_DOM() , this$static.element), pos, length_0);
}

function $setText_4(this$static, text_0){
  ($clinit_DOM() , this$static.element)['value'] = text_0 != null?text_0:'';
}

function $setValue_2(this$static, value_0){
  $setText_4(this$static, this$static.renderer.render(value_0));
}

function ValueBoxBase(elem, renderer, parser){
  $clinit_FocusWidget();
  FocusWidget.call(this, elem);
  $clinit_LocaleInfo();
  this.renderer = renderer;
  this.parser = parser;
}

defineClass(447, 334, $intern_41);
_.onBrowserEvent = function onBrowserEvent_4(event_0){
  var type_0;
  type_0 = ($clinit_DOM() , $eventGetTypeInt(event_0.type));
  if ((type_0 & 896) != 0) {
    this.currentEvent = event_0;
    $onBrowserEvent(this, event_0);
    this.currentEvent = null;
  }
   else {
    $onBrowserEvent(this, event_0);
  }
}
;
_.onLoad = function onLoad_5(){
}
;
_.valueChangeHandlerInitialized = false;
var Lcom_google_gwt_user_client_ui_ValueBoxBase_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ValueBoxBase', 447, Lcom_google_gwt_user_client_ui_FocusWidget_2_classLit);
function ValueBox(element, renderer, parser){
  ValueBoxBase.call(this, element, renderer, parser);
  $clinit_LocaleInfo();
}

defineClass(1416, 447, $intern_41);
var Lcom_google_gwt_user_client_ui_ValueBox_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ValueBox', 1416, Lcom_google_gwt_user_client_ui_ValueBoxBase_2_classLit);
function DoubleBox(){
  $clinit_FocusWidget();
  ValueBox.call(this, $createInputElement($doc, 'text'), (!INSTANCE_4 && (INSTANCE_4 = new DoubleRenderer) , INSTANCE_4), (!INSTANCE_3 && (INSTANCE_3 = new DoubleParser) , INSTANCE_3));
}

defineClass(1417, 1416, $intern_41, DoubleBox);
var Lcom_google_gwt_user_client_ui_DoubleBox_2_classLit = createForClass('com.google.gwt.user.client.ui', 'DoubleBox', 1417, Lcom_google_gwt_user_client_ui_ValueBox_2_classLit);
function $getCellElement(tbody, row, col){
  return tbody.rows[row].cells[col];
}

function $getRawElement(this$static, row, column){
  return $getCellElement(this$static.this$01.bodyElem, row, column);
}

function $setHeight_3(this$static, row, column, height){
  var elem;
  this$static.this$01.prepareCell(row, column);
  elem = $getCellElement(this$static.this$01.bodyElem, row, column);
  $setPropertyString(elem, 'height', height);
}

function $setHorizontalAlignment_1(this$static, row, column, align_0){
  var elem;
  this$static.this$01.prepareCell(row, column);
  elem = $getCellElement(this$static.this$01.bodyElem, row, column);
  $setPropertyString(elem, 'align', align_0.textAlignString);
}

function $setStyleName_1(this$static, row, column, styleName){
  this$static.this$01.prepareCell(row, column);
  $setClassName($getCellElement(this$static.this$01.bodyElem, row, column), styleName);
}

function $setStylePrimaryName_0(this$static, row, column, styleName){
  setStylePrimaryName($getCellElement(this$static.this$01.bodyElem, row, column), styleName);
}

function $setVerticalAlignment_1(this$static, row, column, align_0){
  this$static.this$01.prepareCell(row, column);
  $getCellElement(this$static.this$01.bodyElem, row, column).style['verticalAlign'] = align_0.verticalAlignString;
}

function $setWidth_4(this$static, row, column, width_0){
  this$static.this$01.prepareCell(row, column);
  $getCellElement(this$static.this$01.bodyElem, row, column)['width'] = width_0;
}

function HTMLTable$CellFormatter(this$0){
  this.this$01 = this$0;
}

defineClass(436, 1, {}, HTMLTable$CellFormatter);
var Lcom_google_gwt_user_client_ui_HTMLTable$CellFormatter_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HTMLTable/CellFormatter', 436, Ljava_lang_Object_2_classLit);
function $setColSpan(this$static, row){
  (this$static.this$01.prepareCell(row, 0) , $clinit_DOM() , $getCellElement(this$static.this$01.bodyElem, row, 0))['colSpan'] = 2;
}

function FlexTable$FlexCellFormatter(this$0){
  HTMLTable$CellFormatter.call(this, this$0);
}

defineClass(373, 436, {373:1}, FlexTable$FlexCellFormatter);
var Lcom_google_gwt_user_client_ui_FlexTable$FlexCellFormatter_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FlexTable/FlexCellFormatter', 373, Lcom_google_gwt_user_client_ui_HTMLTable$CellFormatter_2_classLit);
function $add_12(this$static, w){
  $add_3(this$static, w, ($clinit_DOM() , this$static.element));
}

function $clear_5(this$static){
  try {
    $doLogicalClear(this$static);
  }
   finally {
    $removeAllChildren(($clinit_DOM() , this$static.element));
  }
}

function FlowPanel(){
  ComplexPanel.call(this);
  $setElement(this, $doc.createElement('div'));
}

defineClass(294, 224, {20:1, 16:1, 19:1, 294:1, 17:1, 27:1, 67:1, 13:1, 15:1, 7:1}, FlowPanel);
_.add_2 = function add_19(w){
  $add_12(this, w);
}
;
_.clear_1 = function clear_29(){
  $clear_5(this);
}
;
_.insert = function insert_3(w, beforeIndex){
  $insert(this, w, ($clinit_DOM() , this.element), beforeIndex, true);
}
;
var Lcom_google_gwt_user_client_ui_FlowPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FlowPanel', 294, Lcom_google_gwt_user_client_ui_ComplexPanel_2_classLit);
function $fireSubmitEvent(this$static){
  var event_0;
  event_0 = new FormPanel$SubmitEvent;
  !!this$static.handlerManager && $fireEvent_0(this$static.handlerManager, event_0);
  return true;
}

function $setAction_0(this$static, url_0){
  $setAction(($clinit_DOM() , this$static.element), url_0);
}

function $setEncoding(this$static){
  $setEncoding_0(($clinit_DOM() , this$static.element), 'multipart/form-data');
}

function $setMethod(this$static){
  ($clinit_DOM() , this$static.element).method = 'post';
}

function $setTarget_1(this$static, target){
  $setTarget(($clinit_DOM() , this$static.element), target);
}

function $submit(this$static){
  if (!$fireSubmitEvent(this$static)) {
    return;
  }
  $submit_0(($clinit_DOM() , this$static.element), this$static.synthesizedFrame);
}

function FormPanel(){
  FormPanel_0.call(this, $doc.createElement('form'));
}

function FormPanel_0(element){
  SimplePanel_0.call(this, element);
  this.frameName = 'FormPanel_' + $moduleName + '_' + ++formId;
  $setTarget_1(this, this.frameName);
  this.eventsToSink == -1?sinkEvents_0(($clinit_DOM() , this.element), $intern_101 | (this.element.__eventBits || 0)):(this.eventsToSink |= $intern_101);
}

defineClass(197, 29, {20:1, 16:1, 19:1, 197:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1}, FormPanel);
_.onAttach = function onAttach_4(){
  var dummy;
  $onAttach(this);
  if (this.frameName != null) {
    dummy = $doc.createElement('div');
    $setInnerHTML(dummy, $get_11(this.frameName).html);
    this.synthesizedFrame = $getFirstChildElement(dummy);
    $appendChild($doc.body, this.synthesizedFrame);
  }
  $hookEvents(this.synthesizedFrame, ($clinit_DOM() , this.element), this);
}
;
_.onDetach = function onDetach_2(){
  $onDetach(this);
  $unhookEvents(this.synthesizedFrame, ($clinit_DOM() , this.element));
  if (this.synthesizedFrame) {
    $removeChild($doc.body, this.synthesizedFrame);
    this.synthesizedFrame = null;
  }
}
;
_.onFormSubmit = function onFormSubmit(){
  return $fireSubmitEvent(this);
}
;
_.onFrameLoad = function onFrameLoad(){
  $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new FormPanel$1(this));
}
;
var formId = 0;
var Lcom_google_gwt_user_client_ui_FormPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FormPanel', 197, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function FormPanel$1(this$0){
  this.this$01 = this$0;
}

defineClass(900, 1, {}, FormPanel$1);
_.execute = function execute_20(){
  $fireEvent(this.this$01, new FormPanel$SubmitCompleteEvent($getContents(this.this$01.synthesizedFrame)));
}
;
var Lcom_google_gwt_user_client_ui_FormPanel$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FormPanel/1', 900, Ljava_lang_Object_2_classLit);
function FormPanel$SubmitCompleteEvent(resultsHtml){
  this.resultHtml = resultsHtml;
}

defineClass(898, $intern_85, {}, FormPanel$SubmitCompleteEvent);
_.dispatch = function dispatch_29(handler){
  dynamicCast(handler, 522).onSubmitComplete_0(this);
}
;
_.getAssociatedType = function getAssociatedType_30(){
  return !TYPE_29 && (TYPE_29 = new GwtEvent$Type) , TYPE_29;
}
;
var TYPE_29;
var Lcom_google_gwt_user_client_ui_FormPanel$SubmitCompleteEvent_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FormPanel/SubmitCompleteEvent', 898, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function FormPanel$SubmitEvent(){
}

defineClass(899, $intern_85, {}, FormPanel$SubmitEvent);
_.dispatch = function dispatch_30(handler){
  dynamicCast(handler, 1459).onSubmit_0(this);
}
;
_.getAssociatedType = function getAssociatedType_31(){
  return !TYPE_30 && (TYPE_30 = new GwtEvent$Type) , TYPE_30;
}
;
var TYPE_30;
var Lcom_google_gwt_user_client_ui_FormPanel$SubmitEvent_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FormPanel/SubmitEvent', 899, Lcom_google_gwt_event_shared_GwtEvent_2_classLit);
function $get_11(arg0){
  var sb;
  sb = new StringBuilder;
  sb.string += "<iframe src=\"javascript:''\" name='";
  $append_6(sb, htmlEscape(arg0));
  sb.string += "' tabindex='-1' style='position:absolute;width:0;height:0;border:0'>";
  return new OnlyToBeUsedInGeneratedCodeStringBlessedAsSafeHtml(sb.string);
}

function FormSubmitCompleteEvent(source, resultHtml){
  EventObject.call(this, source);
  this.resultHtml = resultHtml;
}

defineClass(1418, 315, {}, FormSubmitCompleteEvent);
var Lcom_google_gwt_user_client_ui_FormSubmitCompleteEvent_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FormSubmitCompleteEvent', 1418, Ljava_util_EventObject_2_classLit);
function FormSubmitEvent(source){
  EventObject.call(this, source);
}

defineClass(1409, 315, {}, FormSubmitEvent);
var Lcom_google_gwt_user_client_ui_FormSubmitEvent_2_classLit = createForClass('com.google.gwt.user.client.ui', 'FormSubmitEvent', 1409, Ljava_util_EventObject_2_classLit);
function $setHTML(this$static, html){
  $setTextOrHtml(this$static.directionalTextHelper, html, true);
}

function HTML(){
  Label_0.call(this, $doc.createElement('div'));
  $setClassName(($clinit_DOM() , this.element), 'gwt-HTML');
}

function HTML_0(element){
  Label_0.call(this, element);
}

function HTML_1(html){
  HTML.call(this);
  $setTextOrHtml(this.directionalTextHelper, html, true);
}

function HTML_2(){
  HTML_1.call(this, '&nbsp;');
  ($clinit_DOM() , this.element).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'normal');
}

defineClass(42, 5, $intern_112, HTML, HTML_1, HTML_2);
var Lcom_google_gwt_user_client_ui_HTML_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HTML', 42, Lcom_google_gwt_user_client_ui_Label_2_classLit);
function $add_13(this$static, widget){
  $add_3(this$static, widget, ($clinit_DOM() , this$static.element));
}

function $add_14(this$static, widget, id_0){
  var elem;
  elem = $getElementById_0(this$static, id_0);
  if (!elem) {
    throw new NoSuchElementException_0(id_0);
  }
  $add_3(this$static, widget, ($clinit_DOM() , elem));
}

function $attachToDomAndGetElement(this$static, id_0){
  var child, origParent, origSibling;
  if (!hiddenDiv) {
    hiddenDiv = $doc.createElement('div');
    setVisible(hiddenDiv, false);
    $appendChild(getBodyElement(), hiddenDiv);
  }
  origParent = $getParentElement(($clinit_DOM() , this$static.element));
  origSibling = $getNextSiblingElement(this$static.element);
  $appendChild(hiddenDiv, this$static.element);
  child = $getElementById($doc, id_0);
  origParent?$insertBefore(origParent, this$static.element, origSibling):$removeChild(hiddenDiv, this$static.element);
  return child;
}

function $getElementById_0(this$static, id_0){
  var elem;
  elem = this$static.attached?$getElementById($doc, id_0):$attachToDomAndGetElement(this$static, id_0);
  return $clinit_DOM() , elem;
}

function HTMLPanel(elem){
  ComplexPanel.call(this);
  $setElement_0(this, ($clinit_DOM() , elem));
}

defineClass(430, 224, $intern_13, HTMLPanel);
_.add_2 = function add_20(widget){
  $add_13(this, widget);
}
;
var hiddenDiv;
var Lcom_google_gwt_user_client_ui_HTMLPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HTMLPanel', 430, Lcom_google_gwt_user_client_ui_ComplexPanel_2_classLit);
function $findNext(this$static){
  while (++this$static.nextIndex < this$static.widgetList.array.length) {
    if ($get(this$static.widgetList, this$static.nextIndex) != null) {
      return;
    }
  }
}

function $next_2(this$static){
  var result;
  if (this$static.nextIndex >= this$static.widgetList.array.length) {
    throw new NoSuchElementException;
  }
  result = dynamicCast($get(this$static.widgetList, this$static.nextIndex), 7);
  this$static.lastIndex_0 = this$static.nextIndex;
  $findNext(this$static);
  return result;
}

function HTMLTable$1(this$0){
  this.this$01 = this$0;
  this.widgetList = this.this$01.widgetMap.uiObjectList;
  $findNext(this);
}

defineClass(664, 1, $intern_56, HTMLTable$1);
_.hasNext = function hasNext_13(){
  return this.nextIndex < this.widgetList.array.length;
}
;
_.next_0 = function next_14(){
  return $next_2(this);
}
;
_.remove_2 = function remove_44(){
  var w;
  if (this.lastIndex_0 < 0) {
    throw new IllegalStateException;
  }
  w = dynamicCast($get(this.widgetList, this.lastIndex_0), 7);
  $removeFromParent(w);
  this.lastIndex_0 = -1;
}
;
_.lastIndex_0 = -1;
_.nextIndex = -1;
var Lcom_google_gwt_user_client_ui_HTMLTable$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HTMLTable/1', 664, Ljava_lang_Object_2_classLit);
function $prepareColumnGroup(this$static){
  if (!this$static.columnGroup) {
    this$static.columnGroup = ($clinit_DOM() , $doc.createElement('colgroup'));
    insertChild(this$static.this$01.tableElem, this$static.columnGroup, 0);
    $appendChild(this$static.columnGroup, resolve($doc.createElement('col')));
  }
}

function $resizeColumnGroup(this$static, columns, growOnly){
  var i, num;
  columns = columns > 1?columns:1;
  num = this$static.columnGroup.childNodes.length;
  if (num < columns) {
    for (i = num; i < columns; i++) {
      $appendChild(this$static.columnGroup, $doc.createElement('col'));
    }
  }
   else if (!growOnly && num > columns) {
    for (i = num; i > columns; i--) {
      $removeChild(this$static.columnGroup, this$static.columnGroup.lastChild);
    }
  }
}

function $setWidth_5(this$static){
  (this$static.this$01.prepareColumn(0) , $prepareColumnGroup(this$static) , $resizeColumnGroup(this$static, 1, true) , this$static.columnGroup.childNodes[0])['width'] = '150px';
}

function HTMLTable$ColumnFormatter(this$0){
  this.this$01 = this$0;
}

defineClass(437, 1, {}, HTMLTable$ColumnFormatter);
var Lcom_google_gwt_user_client_ui_HTMLTable$ColumnFormatter_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HTMLTable/ColumnFormatter', 437, Ljava_lang_Object_2_classLit);
function $getElement_0(this$static, row){
  $checkRowBounds(this$static.this$01, row);
  return $clinit_DOM() , $getRow(this$static.this$01.bodyElem, row);
}

function $getRow(tbody, row){
  return $getRow_0(($clinit_DOM() , tbody), row);
}

function $getRow_0(tbody, row){
  return $clinit_DOM() , tbody.rows[row];
}

function HTMLTable$RowFormatter(this$0){
  this.this$01 = this$0;
}

defineClass(438, 1, {}, HTMLTable$RowFormatter);
var Lcom_google_gwt_user_client_ui_HTMLTable$RowFormatter_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HTMLTable/RowFormatter', 438, Ljava_lang_Object_2_classLit);
function $clinit_HasHorizontalAlignment(){
  $clinit_HasHorizontalAlignment = emptyMethod;
  ALIGN_CENTER = new HasHorizontalAlignment$HorizontalAlignmentConstant(($clinit_Style$TextAlign() , 'center'));
  new HasHorizontalAlignment$HorizontalAlignmentConstant('justify');
  ALIGN_LEFT = new HasHorizontalAlignment$HorizontalAlignmentConstant('left');
  ALIGN_RIGHT = new HasHorizontalAlignment$HorizontalAlignmentConstant('right');
  ALIGN_LOCALE_START = ($clinit_LocaleInfo() , ALIGN_LEFT);
  ALIGN_DEFAULT = ALIGN_LOCALE_START;
}

var ALIGN_CENTER, ALIGN_DEFAULT, ALIGN_LEFT, ALIGN_LOCALE_START, ALIGN_RIGHT;
defineClass(1484, 1, {});
var Lcom_google_gwt_user_client_ui_HasHorizontalAlignment$AutoHorizontalAlignmentConstant_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HasHorizontalAlignment/AutoHorizontalAlignmentConstant', 1484, Ljava_lang_Object_2_classLit);
function HasHorizontalAlignment$HorizontalAlignmentConstant(textAlignString){
  this.textAlignString = textAlignString;
}

defineClass(328, 1484, {}, HasHorizontalAlignment$HorizontalAlignmentConstant);
var Lcom_google_gwt_user_client_ui_HasHorizontalAlignment$HorizontalAlignmentConstant_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HasHorizontalAlignment/HorizontalAlignmentConstant', 328, Lcom_google_gwt_user_client_ui_HasHorizontalAlignment$AutoHorizontalAlignmentConstant_2_classLit);
function $clinit_HasVerticalAlignment(){
  $clinit_HasVerticalAlignment = emptyMethod;
  ALIGN_BOTTOM = new HasVerticalAlignment$VerticalAlignmentConstant('bottom');
  ALIGN_MIDDLE = new HasVerticalAlignment$VerticalAlignmentConstant('middle');
  ALIGN_TOP = new HasVerticalAlignment$VerticalAlignmentConstant('top');
}

var ALIGN_BOTTOM, ALIGN_MIDDLE, ALIGN_TOP;
function HasVerticalAlignment$VerticalAlignmentConstant(verticalAlignString){
  this.verticalAlignString = verticalAlignString;
}

defineClass(370, 1, {}, HasVerticalAlignment$VerticalAlignmentConstant);
var Lcom_google_gwt_user_client_ui_HasVerticalAlignment$VerticalAlignmentConstant_2_classLit = createForClass('com.google.gwt.user.client.ui', 'HasVerticalAlignment/VerticalAlignmentConstant', 370, Ljava_lang_Object_2_classLit);
function $setName_2(this$static, name_0){
  if ($equals_5(name_0, '')) {
    throw new IllegalArgumentException_0('Name cannot be an empty string.');
  }
  $setName(($clinit_DOM() , this$static.element), name_0);
}

function Hidden(name_0){
  $setElement(this, $createInputElement($doc, 'hidden'));
  $setName_2(this, name_0);
  ($clinit_DOM() , this.element).value = '1';
}

defineClass(235, 7, $intern_12, Hidden);
var Lcom_google_gwt_user_client_ui_Hidden_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Hidden', 235, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $clinit_Hyperlink(){
  $clinit_Hyperlink = emptyMethod;
  $clinit_HyperlinkImplSafari();
}

function $setText_5(this$static, text_0){
  $setTextOrHtml(this$static.directionalTextHelper, text_0, false);
}

function Hyperlink(elem){
  this.anchorElem = ($clinit_DOM() , $doc.createElement('a'));
  if (!elem) {
    $setElement(this, this.anchorElem);
  }
   else {
    $setElement_0(this, elem);
    $appendChild(this.element, resolve(this.anchorElem));
  }
  this.eventsToSink == -1?sinkEvents_0(this.element, 1 | (this.element.__eventBits || 0)):(this.eventsToSink |= 1);
  $setClassName(this.element, 'gwt-Hyperlink');
  this.directionalTextHelper = new DirectionalTextHelper(this.anchorElem);
}

function Hyperlink_0(text_0){
  var hash;
  $clinit_Hyperlink();
  Hyperlink.call(this, ($clinit_DOM() , $doc.createElement('div')));
  $setTextOrHtml(this.directionalTextHelper, text_0, false);
  this.targetHistoryToken = '';
  hash = ($clinit_History() , $encodeHistoryToken(''));
  $setPropertyString(this.anchorElem, 'href', '#' + hash);
}

defineClass(199, 7, {45:1, 20:1, 16:1, 19:1, 17:1, 199:1, 13:1, 15:1, 7:1}, Hyperlink_0);
_.addClickHandler = function addClickHandler_3(handler){
  return $addHandler(this, handler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}
;
_.onBrowserEvent = function onBrowserEvent_5(event_0){
  var mouseButtons, alt_0, ctrl, meta, shift_0, middle, right, modifiers;
  $onBrowserEvent(this, event_0);
  $clinit_DOM();
  if ($eventGetTypeInt(event_0.type) == 1 && (mouseButtons = $eventGetButton(event_0) , alt_0 = $eventGetAltKey(event_0) , ctrl = $eventGetCtrlKey(event_0) , meta = $eventGetMetaKey(event_0) , shift_0 = $eventGetShiftKey(event_0) , middle = mouseButtons == 4 , right = mouseButtons == 2 , modifiers = alt_0 || ctrl || meta , shiftIsModifier && (modifiers = modifiers | shift_0) , !modifiers && !middle && !right)) {
    $clinit_History();
    newItem(this.targetHistoryToken, true);
    $eventPreventDefault(event_0);
  }
}
;
var Lcom_google_gwt_user_client_ui_Hyperlink_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Hyperlink', 199, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $clinit_Image(){
  $clinit_Image = emptyMethod;
  prefetchImages = new HashMap;
}

function $changeState(this$static, newState){
  this$static.state = newState;
}

function $getHeight(this$static){
  return this$static.state.getHeight(this$static);
}

function $getUrl_0(this$static){
  return this$static.state.getUrl(this$static).uri_0;
}

function $getWidth(this$static){
  return this$static.state.getWidth(this$static);
}

function $setResource(this$static, resource){
  resource?this$static.state.setUrlAndVisibleRect(this$static, resource.url_0, resource.left_0, resource.top_0, resource.width_0, resource.height_0):this$static.state.setUrl_0(this$static, null.nullField, null.nullField, null.nullField);
}

function $setUrl_0(this$static, url_0){
  this$static.state.setUrl(this$static, url_0);
}

function $setUrl_1(this$static, url_0){
  $setUrl_0(this$static, ($clinit_UriUtils() , new SafeUriString(url_0)));
}

function $setUrlAndVisibleRect(this$static, url_0, left, top_0, width_0, height){
  this$static.state.setUrlAndVisibleRect(this$static, url_0, left, top_0, width_0, height);
}

function Image_0(){
  $clinit_Image();
  $changeState(this, new Image$UnclippedState(this));
  $setClassName(($clinit_DOM() , this.element), 'gwt-Image');
}

function Image_1(resource){
  $clinit_Image();
  resource?$changeState(this, new Image$ClippedState(this, resource.url_0, resource.left_0, resource.top_0, resource.width_0, resource.height_0)):$changeState(this, new Image$UnclippedState_1(this, null.nullField, null.nullField, null.nullField));
  $setClassName(($clinit_DOM() , this.element), 'gwt-Image');
}

function Image_2(url_0){
  $changeState(this, new Image$UnclippedState_0(this, url_0));
  $setClassName(($clinit_DOM() , this.element), 'gwt-Image');
}

function Image_3(url_0, left, top_0, width_0, height){
  $clinit_Image();
  $changeState(this, new Image$ClippedState(this, url_0, left, top_0, width_0, height));
  $setClassName(($clinit_DOM() , this.element), 'gwt-Image');
}

function Image_4(url_0){
  $clinit_Image();
  Image_2.call(this, ($clinit_UriUtils() , new SafeUriString(url_0)));
}

function prefetch(url_0){
  $clinit_Image();
  var img;
  img = $doc.createElement('img');
  $setSrc_0(img, url_0);
  prefetchImages.put(url_0, img);
}

defineClass(43, 7, $intern_113, Image_0, Image_1, Image_3, Image_4);
_.addClickHandler = function addClickHandler_4(handler){
  return $addHandler(this, handler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}
;
_.addMouseDownHandler = function addMouseDownHandler_2(handler){
  return $addDomHandler(this, handler, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
}
;
_.addMouseOutHandler = function addMouseOutHandler_2(handler){
  return $addDomHandler(this, handler, ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
}
;
_.addMouseOverHandler = function addMouseOverHandler_2(handler){
  return $addDomHandler(this, handler, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
}
;
_.addTouchStartHandler = function addTouchStartHandler_2(handler){
  return $addDomHandler(this, handler, ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
}
;
_.onBrowserEvent = function onBrowserEvent_6(event_0){
  $clinit_DOM();
  if ($eventGetTypeInt(event_0.type) == $intern_101) {
    !!this.state && $setPropertyString(this.state.getImageElement(this), '__gwtLastUnhandledEvent', '');
    this.state.onLoadEvent(this);
  }
  $onBrowserEvent(this, event_0);
}
;
_.onLoad = function onLoad_6(){
  $onLoad(this.state, this);
}
;
var prefetchImages;
var Lcom_google_gwt_user_client_ui_Image_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Image', 43, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $onLoad(this$static, image){
  var unhandledEvent;
  unhandledEvent = $getPropertyString(this$static.getImageElement(image), '__gwtLastUnhandledEvent');
  $equals_5('load', unhandledEvent) && (this$static.syntheticEventCommand = new Image$State$1(this$static, image) , $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), this$static.syntheticEventCommand));
}

defineClass(432, 1, {});
_.onLoadEvent = function onLoadEvent(image){
}
;
_.syntheticEventCommand = null;
var Lcom_google_gwt_user_client_ui_Image$State_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Image/State', 432, Ljava_lang_Object_2_classLit);
function $clinit_Image$ClippedState(){
  $clinit_Image$ClippedState = emptyMethod;
  $clinit_ClippedImageImpl();
}

function Image$ClippedState(image, url_0, left, top_0, width_0, height){
  var tmp, builder;
  $clinit_Image$ClippedState();
  this.left_0 = left;
  this.top_0 = top_0;
  this.width_0 = width_0;
  this.height_0 = height;
  this.url_0 = url_0;
  $replaceElement(image, (tmp = $doc.createElement('span') , $setInnerHTML(tmp, (builder = new SafeStylesBuilder , $append($append($append(builder, new SafeStylesString('width:' + width_0 + ($clinit_Style$Unit() , 'px') + ';')), new SafeStylesString('height:' + height + 'px' + ';')), new SafeStylesString('background:' + ('url(' + url_0.uri_0 + ') ' + 'no-repeat ' + (-left + 'px ') + (-top_0 + 'px')) + ';')) , !template_0 && (template_0 = new ClippedImageImpl_TemplateImpl) , $image(clearImage, new SafeStylesString((new SafeStylesString(builder.sb.string)).css))).html) , $getFirstChildElement(tmp)));
  image.eventsToSink == -1?($clinit_DOM() , $sinkEvents_0(image.element, 133333119 | (image.element.__eventBits || 0))):(image.eventsToSink |= 133333119);
}

defineClass(372, 432, {}, Image$ClippedState);
_.getHeight = function getHeight(image){
  return this.height_0;
}
;
_.getImageElement = function getImageElement(image){
  return $clinit_DOM() , image.element;
}
;
_.getUrl = function getUrl(image){
  return this.url_0;
}
;
_.getWidth = function getWidth(image){
  return this.width_0;
}
;
_.onLoadEvent = function onLoadEvent_0(image){
  this.pendingNativeLoadEvent = false;
}
;
_.setUrl = function setUrl(image, url_0){
  $changeState(image, new Image$UnclippedState_0(image, url_0));
}
;
_.setUrl_0 = function setUrl_0(image, url_0, width_0, height){
  $changeState(image, new Image$UnclippedState_1(image, url_0, width_0, height));
}
;
_.setUrlAndVisibleRect = function setUrlAndVisibleRect(image, url_0, left, top_0, width_0, height){
  if (!$equals_4(this.url_0, url_0) || this.left_0 != left || this.top_0 != top_0 || this.width_0 != width_0 || this.height_0 != height) {
    this.url_0 = url_0;
    this.left_0 = left;
    this.top_0 = top_0;
    this.width_0 = width_0;
    this.height_0 = height;
    $adjust(($clinit_DOM() , image.element), url_0, left, top_0, width_0, height);
    this.pendingNativeLoadEvent || (this.syntheticEventCommand = new Image$State$1(this, image) , $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), this.syntheticEventCommand));
  }
}
;
_.height_0 = 0;
_.left_0 = 0;
_.pendingNativeLoadEvent = true;
_.top_0 = 0;
_.url_0 = null;
_.width_0 = 0;
var Lcom_google_gwt_user_client_ui_Image$ClippedState_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Image/ClippedState', 372, Lcom_google_gwt_user_client_ui_Image$State_2_classLit);
function Image$State$1(this$1, val$image){
  this.this$11 = this$1;
  this.val$image2 = val$image;
}

defineClass(433, 1, {}, Image$State$1);
_.execute = function execute_21(){
  var evt, evt_0;
  if (this.val$image2.state != this.this$11 || this != this.this$11.syntheticEventCommand) {
    return;
  }
  this.this$11.syntheticEventCommand = null;
  if (!this.val$image2.attached) {
    this.this$11.getImageElement(this.val$image2)['__gwtLastUnhandledEvent'] = 'load';
    return;
  }
  evt = (evt_0 = $doc.createEvent('HTMLEvents') , evt_0.initEvent('load', false, false) , evt_0);
  $dispatchEvent(this.this$11.getImageElement(this.val$image2), evt);
}
;
var Lcom_google_gwt_user_client_ui_Image$State$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Image/State/1', 433, Ljava_lang_Object_2_classLit);
function Image$UnclippedState(image){
  $replaceElement(image, $doc.createElement('img'));
  sinkEvents_1(($clinit_DOM() , image.element), $intern_101);
  image.eventsToSink == -1?$sinkEvents_0(image.element, 133398655 | (image.element.__eventBits || 0)):(image.eventsToSink |= 133398655);
}

function Image$UnclippedState_0(image, url_0){
  Image$UnclippedState.call(this, image);
  !!image.state && $setPropertyString(image.state.getImageElement(image), '__gwtLastUnhandledEvent', '');
  $setSrc_0(($clinit_DOM() , image.element), url_0.uri_0);
}

function Image$UnclippedState_1(image, url_0, width_0, height){
  Image$UnclippedState_0.call(this, image, url_0);
  $setWidth_3(($clinit_DOM() , image.element), width_0);
  $setHeight_2(image.element, height);
}

defineClass(225, 432, {}, Image$UnclippedState, Image$UnclippedState_0, Image$UnclippedState_1);
_.getHeight = function getHeight_0(image){
  return ($clinit_DOM() , image.element).height;
}
;
_.getImageElement = function getImageElement_0(image){
  return $clinit_DOM() , image.element;
}
;
_.getUrl = function getUrl_0(image){
  return $clinit_UriUtils() , new SafeUriString(($clinit_DOM() , image.element).src);
}
;
_.getWidth = function getWidth_0(image){
  return ($clinit_DOM() , image.element).width;
}
;
_.setUrl = function setUrl_1(image, url_0){
  !!image.state && $setPropertyString(image.state.getImageElement(image), '__gwtLastUnhandledEvent', '');
  $setSrc_0(($clinit_DOM() , image.element), url_0.uri_0);
}
;
_.setUrl_0 = function setUrl_2(image, url_0, width_0, height){
  !!image.state && $setPropertyString(image.state.getImageElement(image), '__gwtLastUnhandledEvent', '');
  $setSrc_0(($clinit_DOM() , image.element), null.nullField);
  $setWidth_3(image.element, width_0);
  $setHeight_2(image.element, height);
}
;
_.setUrlAndVisibleRect = function setUrlAndVisibleRect_0(image, url_0, left, top_0, width_0, height){
  $changeState(image, new Image$ClippedState(image, url_0, left, top_0, width_0, height));
}
;
var Lcom_google_gwt_user_client_ui_Image$UnclippedState_2_classLit = createForClass('com.google.gwt.user.client.ui', 'Image/UnclippedState', 225, Lcom_google_gwt_user_client_ui_Image$State_2_classLit);
function InlineHTML(html){
  HTML_0.call(this, $doc.createElement('span'));
  $setClassName(($clinit_DOM() , this.element), 'gwt-InlineHTML');
  $setTextOrHtml(this.directionalTextHelper, html, true);
}

defineClass(507, 42, $intern_112, InlineHTML);
var Lcom_google_gwt_user_client_ui_InlineHTML_2_classLit = createForClass('com.google.gwt.user.client.ui', 'InlineHTML', 507, Lcom_google_gwt_user_client_ui_HTML_2_classLit);
function $checkIndex(this$static, index_0){
  if (index_0 < 0 || index_0 >= ($clinit_DOM() , this$static.element).options.length) {
    throw new IndexOutOfBoundsException;
  }
}

function $getOptionText(option){
  var text_0;
  text_0 = option.text;
  option.hasAttribute('bidiwrapped') && text_0.length > 1 && (text_0 = $substring_0(text_0, 1, text_0.length - 1));
  return text_0;
}

function $getSelectElement(this$static){
  return $clinit_DOM() , this$static.element;
}

function $getSelectedItemText(this$static){
  var index_0;
  index_0 = ($clinit_DOM() , this$static.element).selectedIndex;
  return index_0 == -1?null:($checkIndex(this$static, index_0) , $getOptionText(this$static.element.options[index_0]));
}

function $getValue_2(this$static, index_0){
  $checkIndex(this$static, index_0);
  return ($clinit_DOM() , this$static.element).options[index_0].value;
}

function $insertItem(this$static, item_0){
  $insertItem_0(this$static, item_0, item_0, -1);
}

function $insertItem_0(this$static, item_0, value_0, index_0){
  var before, itemCount, option, select;
  select = ($clinit_DOM() , this$static.element);
  option = $doc.createElement('option');
  option.text = item_0;
  $removeAttribute(option, 'bidiwrapped');
  option.value = value_0;
  itemCount = select.options.length;
  (index_0 < 0 || index_0 > itemCount) && (index_0 = itemCount);
  if (index_0 == itemCount) {
    $selectAdd(select, option, null);
  }
   else {
    before = select.options[index_0];
    $selectAdd(select, option, before);
  }
}

function $setItemSelected_1(this$static, index_0){
  $checkIndex(this$static, index_0);
  ($clinit_DOM() , this$static.element).options[index_0].selected = true;
}

function ListBox(){
  $clinit_FocusWidget();
  FocusWidget.call(this, $doc.createElement('select'));
  $setClassName(($clinit_DOM() , this.element), 'gwt-ListBox');
}

defineClass(409, 334, $intern_41, ListBox);
var Lcom_google_gwt_user_client_ui_ListBox_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ListBox', 409, Lcom_google_gwt_user_client_ui_FocusWidget_2_classLit);
function ListenerWrapper(listener){
  BaseListenerWrapper.call(this, listener);
}

defineClass(290, 162, $intern_99);
var Lcom_google_gwt_user_client_ui_ListenerWrapper_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ListenerWrapper', 290, Lcom_google_gwt_user_client_BaseListenerWrapper_2_classLit);
function ListenerWrapper$WrappedClickListener(listener){
  ListenerWrapper.call(this, listener);
}

function add_21(source, listener){
  var rtn;
  rtn = new ListenerWrapper$WrappedClickListener(listener);
  $addDomHandler(source, rtn, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  return rtn;
}

defineClass(894, 290, {22:1, 6:1, 162:1}, ListenerWrapper$WrappedClickListener);
_.onClick = function onClick_11(event_0){
  dynamicCast(this.listener, 518).onClick_0(dynamicCast(event_0.source, 7));
}
;
var Lcom_google_gwt_user_client_ui_ListenerWrapper$WrappedClickListener_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ListenerWrapper/WrappedClickListener', 894, Lcom_google_gwt_user_client_ui_ListenerWrapper_2_classLit);
function ListenerWrapper$WrappedLoadListener(listener){
  ListenerWrapper.call(this, listener);
}

function add_22(source, listener){
  var l;
  l = new ListenerWrapper$WrappedLoadListener(listener);
  $addHandler(source, l, ($clinit_LoadEvent() , $clinit_LoadEvent() , TYPE_9));
  $addHandler(source, l, ($clinit_ErrorEvent() , $clinit_ErrorEvent() , TYPE_4));
  return l;
}

defineClass(893, 290, {361:1, 322:1, 6:1, 162:1}, ListenerWrapper$WrappedLoadListener);
_.onError_0 = function onError_2(event_0){
  $onError(dynamicCast(this.listener, 1457), dynamicCast(event_0.source, 7));
}
;
_.onLoad_0 = function onLoad_7(event_0){
  $onLoad_1(dynamicCast(this.listener, 1457), dynamicCast(event_0.source, 7));
}
;
var Lcom_google_gwt_user_client_ui_ListenerWrapper$WrappedLoadListener_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ListenerWrapper/WrappedLoadListener', 893, Lcom_google_gwt_user_client_ui_ListenerWrapper_2_classLit);
function ListenerWrapper$WrappedMouseListener(listener){
  ListenerWrapper.call(this, listener);
}

function add_23(source, listener){
  var handlers;
  handlers = new ListenerWrapper$WrappedMouseListener(listener);
  $addDomHandler(source, handlers, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
  $addDomHandler(source, handlers, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
  $addDomHandler(source, handlers, ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
  $addDomHandler(source, handlers, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
  $addDomHandler(source, handlers, ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_11));
  return handlers;
}

defineClass(895, 290, {85:1, 132:1, 122:1, 140:1, 96:1, 6:1, 162:1}, ListenerWrapper$WrappedMouseListener);
_.onMouseDown = function onMouseDown_5(event_0){
  dynamicCast(event_0.source, 7);
  $onMouseDown(dynamicCast(this.listener, 360), $getX(event_0), $getY(event_0));
}
;
_.onMouseMove = function onMouseMove_3(event_0){
  dynamicCast(event_0.source, 7);
  $onMouseMove(dynamicCast(this.listener, 360), $getX(event_0), $getY(event_0));
}
;
_.onMouseOut = function onMouseOut_5(event_0){
  dynamicCast(this.listener, 360);
  dynamicCast(event_0.source, 7);
}
;
_.onMouseOver = function onMouseOver_3(event_0){
  dynamicCast(this.listener, 360);
  dynamicCast(event_0.source, 7);
}
;
_.onMouseUp = function onMouseUp_6(event_0){
  dynamicCast(event_0.source, 7);
  $onMouseUp(dynamicCast(this.listener, 360), ($getX(event_0) , $getY(event_0)));
}
;
var Lcom_google_gwt_user_client_ui_ListenerWrapper$WrappedMouseListener_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ListenerWrapper/WrappedMouseListener', 895, Lcom_google_gwt_user_client_ui_ListenerWrapper_2_classLit);
function ListenerWrapper$WrappedOldFormHandler(listener){
  ListenerWrapper.call(this, listener);
}

function add_24(source, listener){
  var handlers;
  handlers = new ListenerWrapper$WrappedOldFormHandler(listener);
  $addHandler(source, handlers, (!TYPE_30 && (TYPE_30 = new GwtEvent$Type) , TYPE_30));
  $addHandler(source, handlers, (!TYPE_29 && (TYPE_29 = new GwtEvent$Type) , TYPE_29));
}

defineClass(896, 290, {6:1, 162:1, 522:1, 1459:1}, ListenerWrapper$WrappedOldFormHandler);
_.onSubmit_0 = function onSubmit(event_0){
  var fse;
  fse = new FormSubmitEvent(dynamicCast(event_0.source, 197));
  dynamicCast(this.listener, 420).onSubmit(fse);
}
;
_.onSubmitComplete_0 = function onSubmitComplete(event_0){
  dynamicCast(this.listener, 420).onSubmitComplete(new FormSubmitCompleteEvent(dynamicCast(event_0.source, 197), event_0.resultHtml));
}
;
var Lcom_google_gwt_user_client_ui_ListenerWrapper$WrappedOldFormHandler_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ListenerWrapper/WrappedOldFormHandler', 896, Lcom_google_gwt_user_client_ui_ListenerWrapper_2_classLit);
function ListenerWrapper$WrappedTabListener(listener){
  ListenerWrapper.call(this, listener);
}

function add_25(source, listener){
  var t;
  t = new ListenerWrapper$WrappedTabListener(listener);
  $addHandler(source, t, (!TYPE_21 && (TYPE_21 = new GwtEvent$Type) , TYPE_21));
  $addHandler(source, t, (!TYPE_25 && (TYPE_25 = new GwtEvent$Type) , TYPE_25));
}

defineClass(897, 290, {1541:1, 1454:1, 6:1, 162:1}, ListenerWrapper$WrappedTabListener);
_.onSelection = function onSelection(event_0){
  dynamicCast(this.listener, 520).onTabSelected(dynamicCast(event_0.source, 359), event_0.selectedItem.value_0);
}
;
var Lcom_google_gwt_user_client_ui_ListenerWrapper$WrappedTabListener_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ListenerWrapper/WrappedTabListener', 897, Lcom_google_gwt_user_client_ui_ListenerWrapper_2_classLit);
function $addItem_0(this$static, item_0){
  return $insertItem_1(this$static, item_0, this$static.allItems.array.length);
}

function $addItemElement(this$static, beforeIndex, tdElem){
  var tr;
  if (this$static.vertical) {
    tr = ($clinit_DOM() , $doc.createElement('tr'));
    insertChild(this$static.body_0, tr, beforeIndex);
    $appendChild(tr, resolve(tdElem));
  }
   else {
    tr = ($clinit_DOM() , $getChild(this$static.body_0, 0));
    $insertChild(tr, resolve(tdElem), beforeIndex);
  }
}

function $doItemAction(this$static, item_0, fireCommand){
  var cmd;
  if (!item_0.enabled) {
    return;
  }
  $selectItem(this$static, item_0);
  if (fireCommand && !!item_0.command) {
    $selectItem(this$static, null);
    $blur(($clinit_FocusPanel() , impl_1 , $clinit_DOM() , this$static.element));
    cmd = item_0.command;
    $scheduleFinally(($clinit_SchedulerImpl() , INSTANCE_2), new MenuBar$1(cmd));
  }
}

function $findItem(this$static, hItem){
  var item_0, item$iterator;
  for (item$iterator = new AbstractList$IteratorImpl(this$static.items); item$iterator.i < item$iterator.this$01_0.size_1();) {
    item_0 = (checkCriticalElement(item$iterator.i < item$iterator.this$01_0.size_1()) , dynamicCast(item$iterator.this$01_0.get_0(item$iterator.last = item$iterator.i++), 190));
    if ($isOrHasChild(($clinit_DOM() , item_0.element), hItem)) {
      return item_0;
    }
  }
  return null;
}

function $init_0(this$static, vertical){
  var outer, table, tr;
  table = ($clinit_DOM() , $doc.createElement('table'));
  this$static.body_0 = $doc.createElement('tbody');
  $appendChild(table, resolve(this$static.body_0));
  if (!vertical) {
    tr = $doc.createElement('tr');
    $appendChild(this$static.body_0, resolve(tr));
  }
  this$static.vertical = vertical;
  outer = ($clinit_FocusPanel() , createFocusable0(($clinit_FocusImpl() , focusHandler_0)?focusHandler_0:(focusHandler_0 = $createFocusHandler())));
  $appendChild(outer, resolve(table));
  $setElement_0(this$static, outer);
  $clinit_Roles();
  $set_0(MENUBAR, this$static.element);
  this$static.eventsToSink == -1?sinkEvents_0(this$static.element, 2225 | (this$static.element.__eventBits || 0)):(this$static.eventsToSink |= 2225);
  $setClassName(this$static.element, 'gwt-MenuBar');
  vertical?$setStyleName_0(this$static, getStylePrimaryName(this$static.element) + '-' + 'vertical', true):$setStyleName_0(this$static, getStylePrimaryName(this$static.element) + '-' + 'horizontal', true);
  this$static.element.style['outline'] = '0px';
  $setAttribute(this$static.element, 'hideFocus', 'true');
  $addDomHandler(this$static, new MenuBar$2(this$static), ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));
}

function $insertItem_1(this$static, item_0, beforeIndex){
  var i, itemsIndex;
  if (beforeIndex < 0 || beforeIndex > this$static.allItems.array.length) {
    throw new IndexOutOfBoundsException;
  }
  $add(this$static.allItems, beforeIndex, item_0);
  itemsIndex = 0;
  for (i = 0; i < beforeIndex; i++) {
    instanceOf($get(this$static.allItems, i), 190) && ++itemsIndex;
  }
  $add(this$static.items, itemsIndex, item_0);
  $addItemElement(this$static, beforeIndex, ($clinit_DOM() , item_0.element));
  $setStyleName_0(item_0, getStylePrimaryName(item_0.element) + '-' + 'selected', false);
  $updateSubmenuIcon(this$static, item_0);
  return item_0;
}

function $itemOver(this$static, item_0, focus_0){
  if (!!item_0 && !item_0.enabled) {
    return;
  }
  $selectItem(this$static, item_0);
  focus_0 && this$static.focusOnHover && $focus(($clinit_FocusPanel() , impl_1 , $clinit_DOM() , this$static.element));
  !!item_0 && this$static.autoOpen && $doItemAction(this$static, item_0, false);
}

function $moveSelectionDown(this$static){
  if ($selectFirstItemIfNoneSelected(this$static)) {
    return;
  }
  this$static.vertical && $selectNextItem(this$static);
}

function $moveSelectionUp(this$static){
  if ($selectFirstItemIfNoneSelected(this$static)) {
    return;
  }
  this$static.vertical?$selectPrevItem(this$static):undefined;
}

function $moveToNextItem(this$static){
  if ($selectFirstItemIfNoneSelected(this$static)) {
    return;
  }
  !this$static.vertical && $selectNextItem(this$static);
}

function $moveToPrevItem(this$static){
  if ($selectFirstItemIfNoneSelected(this$static)) {
    return;
  }
  this$static.vertical?undefined:$selectPrevItem(this$static);
}

function $selectFirstItemIfNoneSelected(this$static){
  var nextItem, nextItem$iterator;
  if (!this$static.selectedItem) {
    for (nextItem$iterator = new AbstractList$IteratorImpl(this$static.items); nextItem$iterator.i < nextItem$iterator.this$01_0.size_1();) {
      nextItem = (checkCriticalElement(nextItem$iterator.i < nextItem$iterator.this$01_0.size_1()) , dynamicCast(nextItem$iterator.this$01_0.get_0(nextItem$iterator.last = nextItem$iterator.i++), 190));
      if (nextItem.enabled) {
        $selectItem(this$static, nextItem);
        break;
      }
    }
    return true;
  }
  return false;
}

function $selectItem(this$static, item_0){
  var td, tr;
  if (item_0 == this$static.selectedItem) {
    return;
  }
  if (this$static.selectedItem) {
    $setSelectionStyle_0(this$static.selectedItem);
    if (this$static.vertical) {
      tr = ($clinit_DOM() , $getParentElement($getElement(this$static.selectedItem)));
      if ($getChildCount(tr) == 2) {
        td = $getChild(tr, 1);
        setStyleName(td, 'subMenuIcon-selected', false);
      }
    }
  }
  if (item_0) {
    $setStyleName_0(item_0, getStylePrimaryName(($clinit_DOM() , item_0.element)) + '-' + 'selected', true);
    if (this$static.vertical) {
      tr = $getParentElement(item_0.element);
      if ($getChildCount(tr) == 2) {
        td = $getChild(tr, 1);
        setStyleName(td, 'subMenuIcon-selected', true);
      }
    }
    $clinit_Roles();
    $setAriaActivedescendantProperty(this$static.element, new Id(item_0.element));
  }
  this$static.selectedItem = item_0;
}

function $selectNextItem(this$static){
  var firstIndex, index_0, itemToBeSelected;
  if (!this$static.selectedItem) {
    return;
  }
  index_0 = $indexOf_0(this$static.items, this$static.selectedItem, 0);
  firstIndex = index_0;
  while (true) {
    index_0 = index_0 + 1;
    index_0 == this$static.items.array.length && (index_0 = 0);
    if (index_0 == firstIndex) {
      itemToBeSelected = dynamicCast($get(this$static.items, firstIndex), 190);
      break;
    }
     else {
      itemToBeSelected = dynamicCast($get(this$static.items, index_0), 190);
      if (itemToBeSelected.enabled) {
        break;
      }
    }
  }
  $selectItem(this$static, itemToBeSelected);
}

function $selectPrevItem(this$static){
  var firstIndex, index_0, itemToBeSelected;
  if (!this$static.selectedItem) {
    return;
  }
  index_0 = $indexOf_0(this$static.items, this$static.selectedItem, 0);
  firstIndex = index_0;
  while (true) {
    index_0 = index_0 - 1;
    index_0 < 0 && (index_0 = this$static.items.array.length - 1);
    if (index_0 == firstIndex) {
      itemToBeSelected = dynamicCast($get(this$static.items, firstIndex), 190);
      break;
    }
     else {
      itemToBeSelected = dynamicCast($get(this$static.items, index_0), 190);
      if (itemToBeSelected.enabled) {
        break;
      }
    }
  }
  $selectItem(this$static, itemToBeSelected);
}

function $updateSubmenuIcon(this$static, item_0){
  var container, idx, tdCount, tr;
  if (!this$static.vertical) {
    return;
  }
  idx = $indexOf_0(this$static.allItems, item_0, 0);
  if (idx == -1) {
    return;
  }
  container = this$static.vertical?this$static.body_0:($clinit_DOM() , $getChild(this$static.body_0, 0));
  tr = ($clinit_DOM() , $getChild(container, idx));
  tdCount = $getChildCount(tr);
  tdCount == 2 && $removeChild(tr, $getChild(tr, 1));
  $setPropertyInt(item_0.element, 'colSpan', 2);
}

function MenuBar(){
  MenuBar_0.call(this, $clinit_MenuBar_Resources_default_StaticClientBundleGenerator());
}

function MenuBar_0(){
  this.allItems = new ArrayList;
  this.items = new ArrayList;
  $init_0(this, true, create_3(($clinit_MenuBar_Resources_default_StaticClientBundleGenerator$menuBarSubMenuIconInitializer() , $clinit_MenuBar_Resources_default_StaticClientBundleGenerator() , menuBarSubMenuIcon)));
}

defineClass(505, 7, $intern_12, MenuBar);
_.onBrowserEvent = function onBrowserEvent_7(event_0){
  var item_0, keyCode;
  item_0 = $findItem(this, ($clinit_DOM() , $eventGetTarget(event_0)));
  switch ($eventGetTypeInt(event_0.type)) {
    case 1:
      {
        $focus(($clinit_FocusPanel() , impl_1 , this.element));
        !!item_0 && $doItemAction(this, item_0, true);
        break;
      }

    case 16:
      {
        !!item_0 && $itemOver(this, item_0, true);
        break;
      }

    case 32:
      {
        !!item_0 && $itemOver(this, null, false);
        break;
      }

    case $intern_34:
      {
        $selectFirstItemIfNoneSelected(this);
        break;
      }

    case 128:
      {
        keyCode = $eventGetKeyCode(event_0);
        $clinit_LocaleInfo();
        keyCode = keyCode;
        switch (keyCode) {
          case 37:
            $moveToPrevItem(this);
            $eventStopPropagation(event_0);
            $eventPreventDefault(event_0);
            break;
          case 39:
            $moveToNextItem(this);
            $eventStopPropagation(event_0);
            $eventPreventDefault(event_0);
            break;
          case 38:
            $moveSelectionUp(this);
            $eventStopPropagation(event_0);
            $eventPreventDefault(event_0);
            break;
          case 40:
            $moveSelectionDown(this);
            $eventStopPropagation(event_0);
            $eventPreventDefault(event_0);
            break;
          case 27:
            $selectItem(this, null);
            $eventStopPropagation(event_0);
            $eventPreventDefault(event_0);
            break;
          case 9:
            $selectItem(this, null);
            break;
          case 13:
            if (!$selectFirstItemIfNoneSelected(this)) {
              $doItemAction(this, this.selectedItem, true);
              $eventStopPropagation(event_0);
              $eventPreventDefault(event_0);
            }

        }
        break;
      }

  }
  $onBrowserEvent(this, event_0);
}
;
_.onDetach = function onDetach_3(){
  $onDetach(this);
}
;
_.autoOpen = false;
_.focusOnHover = true;
_.vertical = false;
var Lcom_google_gwt_user_client_ui_MenuBar_2_classLit = createForClass('com.google.gwt.user.client.ui', 'MenuBar', 505, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function MenuBar$1(val$cmd){
  this.val$cmd2 = val$cmd;
}

defineClass(1362, 1, {}, MenuBar$1);
_.execute = function execute_22(){
  $execute_0(this.val$cmd2.val$runOnMenuClick2);
}
;
var Lcom_google_gwt_user_client_ui_MenuBar$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'MenuBar/1', 1362, Ljava_lang_Object_2_classLit);
function MenuBar$2(this$0){
  this.this$01 = this$0;
}

defineClass(1363, 1, $intern_30, MenuBar$2);
_.onBlur = function onBlur_1(event_0){
  $selectItem(this.this$01, null);
}
;
var Lcom_google_gwt_user_client_ui_MenuBar$2_2_classLit = createForClass('com.google.gwt.user.client.ui', 'MenuBar/2', 1363, Ljava_lang_Object_2_classLit);
function $clinit_MenuBar_Resources_default_StaticClientBundleGenerator(){
  $clinit_MenuBar_Resources_default_StaticClientBundleGenerator = emptyMethod;
  bundledImage_None_1 = $moduleBase + 'DF7764EEC1903CD03C9545B354D8D8E4.cache.png';
}

var bundledImage_None_1, menuBarSubMenuIcon;
function $clinit_MenuBar_Resources_default_StaticClientBundleGenerator$menuBarSubMenuIconInitializer(){
  $clinit_MenuBar_Resources_default_StaticClientBundleGenerator$menuBarSubMenuIconInitializer = emptyMethod;
  $clinit_MenuBar_Resources_default_StaticClientBundleGenerator();
  menuBarSubMenuIcon = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(($clinit_LocaleInfo() , bundledImage_None_1))), 0, 0, 5, 9);
}

function $setSelectionStyle_0(this$static){
  $setStyleName_0(this$static, getStylePrimaryName(($clinit_DOM() , this$static.element)) + '-' + 'selected', false);
}

function MenuItem(text_0, cmd){
  $setElement_0(this, ($clinit_DOM() , $doc.createElement('td')));
  $setStyleName_0(this, getStylePrimaryName(this.element) + '-' + 'selected', false);
  $setInnerHTML(this.element, text_0);
  $setClassName(this.element, 'gwt-MenuItem');
  $setAttribute(this.element, 'id', $createUniqueId($doc));
  $clinit_Roles();
  $set_0(MENUITEM, this.element);
  this.command = cmd;
}

defineClass(190, 15, {17:1, 190:1, 15:1}, MenuItem);
_.enabled = true;
var Lcom_google_gwt_user_client_ui_MenuItem_2_classLit = createForClass('com.google.gwt.user.client.ui', 'MenuItem', 190, Lcom_google_gwt_user_client_ui_UIObject_2_classLit);
function $clinit_TextBoxBase(){
  $clinit_TextBoxBase = emptyMethod;
  $clinit_FocusWidget();
  $clinit_ValueBoxBase$TextAlignment();
}

function $getValue_3(this$static){
  var raw;
  raw = dynamicCastToString($getValue_1(this$static));
  return raw == null?'':raw;
}

function TextBoxBase(elem){
  ValueBoxBase.call(this, elem, (!INSTANCE_6 && (INSTANCE_6 = new PassthroughRenderer) , INSTANCE_6), (!INSTANCE_5 && (INSTANCE_5 = new PassthroughParser) , INSTANCE_5));
}

defineClass(448, 447, $intern_41);
var Lcom_google_gwt_user_client_ui_TextBoxBase_2_classLit = createForClass('com.google.gwt.user.client.ui', 'TextBoxBase', 448, Lcom_google_gwt_user_client_ui_ValueBoxBase_2_classLit);
function TextBox(){
  $clinit_TextBoxBase();
  TextBox_0.call(this, $createInputElement($doc, 'text'), 'gwt-TextBox');
}

function TextBox_0(element, styleName){
  TextBoxBase.call(this, element);
  $setClassName(($clinit_DOM() , this.element), styleName);
}

defineClass(113, 448, $intern_41, TextBox);
var Lcom_google_gwt_user_client_ui_TextBox_2_classLit = createForClass('com.google.gwt.user.client.ui', 'TextBox', 113, Lcom_google_gwt_user_client_ui_TextBoxBase_2_classLit);
function PasswordTextBox(){
  $clinit_TextBoxBase();
  TextBox_0.call(this, $createInputElement($doc, 'password'), 'gwt-PasswordTextBox');
}

defineClass(264, 113, $intern_41, PasswordTextBox);
var Lcom_google_gwt_user_client_ui_PasswordTextBox_2_classLit = createForClass('com.google.gwt.user.client.ui', 'PasswordTextBox', 264, Lcom_google_gwt_user_client_ui_TextBox_2_classLit);
function $onResize(this$static){
  var height, style, width_0, winHeight, winWidth;
  style = this$static.this$01.glass.style;
  winWidth = $getClientWidth($doc);
  winHeight = $getClientHeight($doc);
  $setPropertyImpl(style, 'display', ($clinit_Style$Display() , 'none'));
  $setPropertyImpl(style, 'width', ($clinit_Style$Unit() , '0.0px'));
  $setPropertyImpl(style, 'height', '0.0px');
  width_0 = $getScrollWidth($doc);
  height = $getScrollHeight($doc);
  style['width'] = (width_0 > winWidth?width_0:winWidth) + 'px';
  style['height'] = (height > winHeight?height:winHeight) + 'px';
  $setPropertyImpl(style, 'display', 'block');
}

function PopupPanel$1(this$0){
  this.this$01 = this$0;
}

defineClass(620, 1, $intern_98, PopupPanel$1);
_.onResize = function onResize_1(event_0){
  $onResize(this);
}
;
var Lcom_google_gwt_user_client_ui_PopupPanel$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'PopupPanel/1', 620, Ljava_lang_Object_2_classLit);
function PopupPanel$2(this$0, val$target){
  this.this$01 = this$0;
  this.val$target2 = val$target;
}

defineClass(621, 1, {}, PopupPanel$2);
_.setPosition = function setPosition(offsetWidth, offsetHeight){
  $position(this.this$01, this.val$target2, offsetWidth, offsetHeight);
}
;
var Lcom_google_gwt_user_client_ui_PopupPanel$2_2_classLit = createForClass('com.google.gwt.user.client.ui', 'PopupPanel/2', 621, Ljava_lang_Object_2_classLit);
function PopupPanel$3(this$0){
  this.this$01 = this$0;
}

defineClass(622, 1, $intern_97, PopupPanel$3);
_.onPreviewNativeEvent = function onPreviewNativeEvent_1(event_0){
  $previewNativeEvent(this.this$01, event_0);
}
;
var Lcom_google_gwt_user_client_ui_PopupPanel$3_2_classLit = createForClass('com.google.gwt.user.client.ui', 'PopupPanel/3', 622, Ljava_lang_Object_2_classLit);
function PopupPanel$4(this$0){
  this.this$01 = this$0;
}

defineClass(623, 1, $intern_114, PopupPanel$4);
_.onValueChange = function onValueChange(event_0){
  this.this$01.autoHideOnHistoryEvents && this.this$01.hide();
}
;
var Lcom_google_gwt_user_client_ui_PopupPanel$4_2_classLit = createForClass('com.google.gwt.user.client.ui', 'PopupPanel/4', 623, Ljava_lang_Object_2_classLit);
function $clinit_PopupPanel$AnimationType(){
  $clinit_PopupPanel$AnimationType = emptyMethod;
  CENTER_0 = new PopupPanel$AnimationType('CENTER', 0);
  ONE_WAY_CORNER = new PopupPanel$AnimationType('ONE_WAY_CORNER', 1);
  ROLL_DOWN = new PopupPanel$AnimationType('ROLL_DOWN', 2);
}

function PopupPanel$AnimationType(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_22(name_0){
  $clinit_PopupPanel$AnimationType();
  return valueOf(($clinit_PopupPanel$AnimationType$Map() , $MAP_20), name_0);
}

function values_28(){
  $clinit_PopupPanel$AnimationType();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_PopupPanel$AnimationType_2_classLit, 1), $intern_1, 255, 0, [CENTER_0, ONE_WAY_CORNER, ROLL_DOWN]);
}

defineClass(255, 9, {255:1, 3:1, 21:1, 9:1}, PopupPanel$AnimationType);
var CENTER_0, ONE_WAY_CORNER, ROLL_DOWN;
var Lcom_google_gwt_user_client_ui_PopupPanel$AnimationType_2_classLit = createForEnum('com.google.gwt.user.client.ui', 'PopupPanel/AnimationType', 255, Ljava_lang_Enum_2_classLit, values_28, valueOf_22);
function $clinit_PopupPanel$AnimationType$Map(){
  $clinit_PopupPanel$AnimationType$Map = emptyMethod;
  $MAP_20 = createValueOfMap(($clinit_PopupPanel$AnimationType() , initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_PopupPanel$AnimationType_2_classLit, 1), $intern_1, 255, 0, [CENTER_0, ONE_WAY_CORNER, ROLL_DOWN])));
}

var $MAP_20;
function $maybeShowGlass(this$static){
  if (this$static.showing) {
    if (this$static.curPanel.isGlassEnabled) {
      $appendChild($doc.body, this$static.curPanel.glass);
      this$static.resizeRegistration = addResizeHandler(this$static.curPanel.glassResizer);
      $onResize(this$static.curPanel.glassResizer);
      this$static.glassShowing = true;
    }
  }
   else if (this$static.glassShowing) {
    $removeChild($doc.body, this$static.curPanel.glass);
    $removeHandler(this$static.resizeRegistration.real);
    this$static.resizeRegistration = null;
    this$static.glassShowing = false;
  }
}

function $onComplete(this$static){
  if (!this$static.showing) {
    $maybeShowGlass(this$static);
    this$static.isUnloading || $remove_6(($clinit_RootPanel() , get_14(null)), this$static.curPanel);
  }
  $setClip($getElement(this$static.curPanel), 'rect(auto, auto, auto, auto)');
  $setPropertyImpl($getElement(this$static.curPanel).style, 'overflow', 'visible');
}

function $onInstantaneousRun(this$static){
  $maybeShowGlass(this$static);
  if (this$static.showing) {
    $setPropertyImpl($getElement(this$static.curPanel).style, 'position', 'absolute');
    this$static.curPanel.topPosition != -1 && $setPopupPosition(this$static.curPanel, this$static.curPanel.leftPosition, this$static.curPanel.topPosition);
    $add_7(($clinit_RootPanel() , get_14(null)), this$static.curPanel);
  }
   else {
    this$static.isUnloading || $remove_6(($clinit_RootPanel() , get_14(null)), this$static.curPanel);
  }
  $setPropertyImpl($getElement(this$static.curPanel).style, 'overflow', 'visible');
}

function $onUpdate_1(this$static, progress){
  var bottom, height, left, right, top_0, width_0;
  this$static.showing || (progress = 1 - progress);
  top_0 = 0;
  left = 0;
  right = 0;
  bottom = 0;
  height = round_int(progress * this$static.offsetHeight_0);
  width_0 = round_int(progress * this$static.offsetWidth_0);
  switch (this$static.curPanel.animType.ordinal) {
    case 2:
      right = this$static.offsetWidth_0;
      bottom = height;
      break;
    case 0:
      top_0 = this$static.offsetHeight_0 - height >> 1;
      left = this$static.offsetWidth_0 - width_0 >> 1;
      right = left + width_0;
      bottom = top_0 + height;
      break;
    case 1:
      $clinit_LocaleInfo();
      right = width_0;
      bottom = height;
  }
  $setClip($getElement(this$static.curPanel), 'rect(' + top_0 + 'px, ' + right + 'px, ' + bottom + 'px, ' + left + 'px)');
}

function $setState_0(this$static, showing, isUnloading){
  var animate;
  this$static.isUnloading = isUnloading;
  $cancel_0(this$static);
  if (this$static.showTimer) {
    $cancel(this$static.showTimer);
    this$static.showTimer = null;
    $onComplete(this$static);
  }
  this$static.curPanel.showing = showing;
  $updateHandlers(this$static.curPanel);
  animate = !isUnloading && this$static.curPanel.isAnimationEnabled;
  this$static.curPanel.animType != ($clinit_PopupPanel$AnimationType() , CENTER_0) && !showing && (animate = false);
  this$static.showing = showing;
  if (animate) {
    if (showing) {
      $maybeShowGlass(this$static);
      $setPropertyImpl($getElement(this$static.curPanel).style, 'position', 'absolute');
      this$static.curPanel.topPosition != -1 && $setPopupPosition(this$static.curPanel, this$static.curPanel.leftPosition, this$static.curPanel.topPosition);
      $setClip($getElement(this$static.curPanel), 'rect(0px, 0px, 0px, 0px)');
      $add_7(($clinit_RootPanel() , get_14(null)), this$static.curPanel);
      this$static.showTimer = new PopupPanel$ResizeAnimation$1(this$static);
      $schedule(this$static.showTimer, 1);
    }
     else {
      $run_6(this$static, 200, now_1(), null);
    }
  }
   else {
    $onInstantaneousRun(this$static);
  }
}

function PopupPanel$ResizeAnimation(panel){
  Animation.call(this);
  this.curPanel = panel;
}

defineClass(618, 329, {}, PopupPanel$ResizeAnimation);
_.onComplete = function onComplete_2(){
  $onComplete(this);
}
;
_.onStart = function onStart_2(){
  this.offsetHeight_0 = $getOffsetHeight_0(this.curPanel);
  this.offsetWidth_0 = $getOffsetWidth_0(this.curPanel);
  $setPropertyImpl($getElement(this.curPanel).style, 'overflow', 'hidden');
  $onUpdate_1(this, (1 + cos_0($intern_73)) / 2);
}
;
_.onUpdate = function onUpdate_1(progress){
  $onUpdate_1(this, progress);
}
;
_.curPanel = null;
_.glassShowing = false;
_.isUnloading = false;
_.offsetHeight_0 = 0;
_.offsetWidth_0 = -1;
_.showing = false;
var Lcom_google_gwt_user_client_ui_PopupPanel$ResizeAnimation_2_classLit = createForClass('com.google.gwt.user.client.ui', 'PopupPanel/ResizeAnimation', 618, Lcom_google_gwt_animation_client_Animation_2_classLit);
function PopupPanel$ResizeAnimation$1(this$1){
  this.this$11 = this$1;
  Timer.call(this);
}

defineClass(619, 61, {}, PopupPanel$ResizeAnimation$1);
_.run = function run_21(){
  this.this$11.showTimer = null;
  $run_7(this.this$11, 200, null);
}
;
var Lcom_google_gwt_user_client_ui_PopupPanel$ResizeAnimation$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'PopupPanel/ResizeAnimation/1', 619, Lcom_google_gwt_user_client_Timer_2_classLit);
function $clinit_PotentialElement(){
  $clinit_PotentialElement = emptyMethod;
  declareShim();
}

function $setResolver(this$static, resolver){
  $clinit_PotentialElement();
  this$static.__gwt_resolve = buildResolveCallback(resolver);
}

function buildResolveCallback(resolver){
  return function(){
    this.__gwt_resolve = cannotResolveTwice;
    return resolver.resolvePotentialElement();
  }
  ;
}

function cannotResolveTwice(){
  throw 'A PotentialElement cannot be resolved twice.';
}

function declareShim(){
  var shim = function(){
  }
  ;
  shim.prototype = {className:'', clientHeight:0, clientWidth:0, dir:'', getAttribute:function(name_0, value_0){
    return this[name_0];
  }
  , href:'', id:'', lang:'', nodeType:1, removeAttribute:function(name_0, value_0){
    this[name_0] = undefined;
  }
  , setAttribute:function(name_0, value_0){
    this[name_0] = value_0;
  }
  , src:'', style:{}, title:''};
  $wnd.GwtPotentialElementShim = shim;
}

function $sinkEvents_1(this$static, eventBitsToAdd){
  if (this$static.eventsToSink == -1) {
    sinkEvents_1(this$static.inputElem, eventBitsToAdd | getEventsSunk(this$static.inputElem));
    sinkEvents_1(this$static.labelElem, eventBitsToAdd | getEventsSunk(this$static.labelElem));
  }
   else {
    this$static.eventsToSink == -1?sinkEvents_1(this$static.inputElem, eventBitsToAdd | getEventsSunk(this$static.inputElem)):this$static.eventsToSink == -1?sinkEvents_0(($clinit_DOM() , this$static.element), eventBitsToAdd | (this$static.element.__eventBits || 0)):(this$static.eventsToSink |= eventBitsToAdd);
  }
}

function RadioButton(name_0, label_0){
  $clinit_FocusWidget();
  CheckBox_0.call(this, ($clinit_DOM() , $createInputRadioElement($doc, name_0)));
  $setClassName(this.element, 'gwt-RadioButton');
  $sinkEvents_1(this, 1);
  $sinkEvents_1(this, 8);
  $sinkEvents_1(this, $intern_100);
  $sinkEvents_1(this, 128);
  $setTextOrHtml(this.directionalTextHelper, label_0, false);
}

defineClass(213, 103, $intern_41, RadioButton);
_.ensureDomEventHandlers = function ensureDomEventHandlers_0(){
}
;
_.onBrowserEvent = function onBrowserEvent_8(event_0){
  var target;
  switch ($clinit_DOM() , $eventGetTypeInt(event_0.type)) {
    case 8:
    case $intern_100:
    case 128:
      this.oldValue = this.attached?($clinit_Boolean() , $isChecked(this.inputElem)?TRUE_3:FALSE_2):($clinit_Boolean() , $isDefaultChecked(this.inputElem)?TRUE_3:FALSE_2);
      break;
    case 1:
      target = $eventGetTarget(event_0);
      if (is_1(target) && $isOrHasChild(this.labelElem, target)) {
        this.oldValue = this.attached?($clinit_Boolean() , $isChecked(this.inputElem)?TRUE_3:FALSE_2):($clinit_Boolean() , $isDefaultChecked(this.inputElem)?TRUE_3:FALSE_2);
        return;
      }

      $onBrowserEvent(this, event_0);
      fireIfNotEqual(this, this.oldValue, this.attached?($clinit_Boolean() , $isChecked(this.inputElem)?TRUE_3:FALSE_2):($clinit_Boolean() , $isDefaultChecked(this.inputElem)?TRUE_3:FALSE_2));
      return;
  }
  $onBrowserEvent(this, event_0);
}
;
_.setName = function setName_0(name_0){
  $replaceInputElement(this, ($clinit_DOM() , $createInputRadioElement($doc, name_0)));
}
;
_.sinkEvents = function sinkEvents_3(eventBitsToAdd){
  $sinkEvents_1(this, eventBitsToAdd);
}
;
var Lcom_google_gwt_user_client_ui_RadioButton_2_classLit = createForClass('com.google.gwt.user.client.ui', 'RadioButton', 213, Lcom_google_gwt_user_client_ui_CheckBox_2_classLit);
function $clinit_RootPanel(){
  $clinit_RootPanel = emptyMethod;
  maybeDetachCommand = new RootPanel$1;
  rootPanels = new HashMap;
  widgetsToDetach = new HashSet;
}

function RootPanel(elem){
  AbsolutePanel_0.call(this, elem);
  $onAttach(this);
}

function detachNow(widget){
  $clinit_RootPanel();
  try {
    widget.onDetach();
  }
   finally {
    $remove_21(widgetsToDetach, widget);
  }
}

function detachWidgets(){
  $clinit_RootPanel();
  try {
    tryCommand(widgetsToDetach, maybeDetachCommand);
  }
   finally {
    widgetsToDetach.map_0.clear_1();
    rootPanels.clear_1();
  }
}

function get_14(id_0){
  $clinit_RootPanel();
  var elem, rp;
  rp = dynamicCast(rootPanels.get_2(id_0), 287);
  elem = null;
  if (id_0 != null) {
    if (!(elem = $getElementById($doc, id_0))) {
      return null;
    }
  }
  if (rp) {
    if (!elem || ($clinit_DOM() , rp.element == elem)) {
      return rp;
    }
  }
  if (rootPanels.size_1() == 0) {
    addCloseHandler(new RootPanel$2);
    $clinit_LocaleInfo();
  }
  !elem?(rp = new RootPanel$DefaultRootPanel):(rp = new RootPanel(elem));
  rootPanels.put(id_0, rp);
  $add_21(widgetsToDetach, rp);
  return rp;
}

function getBodyElement(){
  $clinit_RootPanel();
  return $doc.body;
}

defineClass(287, 76, $intern_115, RootPanel);
var maybeDetachCommand, rootPanels, widgetsToDetach;
var Lcom_google_gwt_user_client_ui_RootPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'RootPanel', 287, Lcom_google_gwt_user_client_ui_AbsolutePanel_2_classLit);
function RootPanel$1(){
}

defineClass(806, 1, {}, RootPanel$1);
_.execute_2 = function execute_23(w){
  w.isAttached() && w.onDetach();
}
;
var Lcom_google_gwt_user_client_ui_RootPanel$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'RootPanel/1', 806, Ljava_lang_Object_2_classLit);
function RootPanel$2(){
}

defineClass(807, 1, {1452:1, 6:1}, RootPanel$2);
_.onClose = function onClose_0(closeEvent){
  detachWidgets();
}
;
var Lcom_google_gwt_user_client_ui_RootPanel$2_2_classLit = createForClass('com.google.gwt.user.client.ui', 'RootPanel/2', 807, Ljava_lang_Object_2_classLit);
function RootPanel$DefaultRootPanel(){
  RootPanel.call(this, getBodyElement());
}

defineClass(805, 287, $intern_115, RootPanel$DefaultRootPanel);
_.setWidgetPositionImpl = function setWidgetPositionImpl_0(w, left, top_0){
  left -= 0;
  top_0 -= 0;
  $setWidgetPositionImpl(w, left, top_0);
}
;
var Lcom_google_gwt_user_client_ui_RootPanel$DefaultRootPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'RootPanel/DefaultRootPanel', 805, Lcom_google_gwt_user_client_ui_RootPanel_2_classLit);
function $getMaximumHorizontalScrollPosition(scrollable){
  return $isRtl(scrollable)?0:($getSubPixelScrollWidth(scrollable) | 0) - (scrollable.clientWidth | 0);
}

function $getMinimumHorizontalScrollPosition(scrollable){
  return $isRtl(scrollable)?(scrollable.clientWidth | 0) - ($getSubPixelScrollWidth(scrollable) | 0):0;
}

function $isRtl(scrollable){
  var computedStyle = $doc.defaultView.getComputedStyle(scrollable, null);
  return computedStyle.getPropertyValue('direction') == 'rtl';
}

function ScrollImpl(){
}

defineClass(387, 1, {}, ScrollImpl);
var impl_5;
var Lcom_google_gwt_user_client_ui_ScrollImpl_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ScrollImpl', 387, Ljava_lang_Object_2_classLit);
function $getHorizontalScrollPosition(this$static){
  return $getScrollLeft_0(($clinit_DOM() , this$static.scrollableElem));
}

function $getMaximumHorizontalScrollPosition_0(this$static){
  return $getMaximumHorizontalScrollPosition((!impl_5 && (impl_5 = new ScrollImpl) , $clinit_DOM() , this$static.scrollableElem));
}

function $getMaximumVerticalScrollPosition(this$static){
  return ((($clinit_DOM() , this$static.scrollableElem).scrollHeight || 0) | 0) - (this$static.scrollableElem.clientHeight | 0);
}

function $getMinimumHorizontalScrollPosition_0(this$static){
  return $getMinimumHorizontalScrollPosition((!impl_5 && (impl_5 = new ScrollImpl) , $clinit_DOM() , this$static.scrollableElem));
}

function $getVerticalScrollPosition(this$static){
  return (($clinit_DOM() , this$static.scrollableElem).scrollTop || 0) | 0;
}

function $scrollToBottom(this$static){
  $setScrollPosition(this$static, ((($clinit_DOM() , this$static.scrollableElem).scrollHeight || 0) | 0) - (this$static.scrollableElem.clientHeight | 0));
}

function $setHeight_4(this$static, height){
  ($clinit_DOM() , this$static.element).style['height'] = height;
}

function $setHorizontalScrollPosition(this$static, position){
  $setScrollLeft(($clinit_DOM() , this$static.scrollableElem), position);
}

function $setScrollPosition(this$static, position){
  $setScrollTop(($clinit_DOM() , this$static.scrollableElem), position);
}

function $setSize_1(this$static, width_0, height){
  ($clinit_DOM() , this$static.element).style['width'] = width_0;
  this$static.element.style['height'] = height;
}

function $setTouchScrollingDisabled(this$static){
  var scroller, ua;
  if (this$static.touchScroller) {
    return false;
  }
  this$static.touchScroller = (scroller = (!isSupported_0 && (isSupported_0 = ($clinit_Boolean() , !impl_3 && (impl_3 = new TouchEvent$TouchSupportDetector) , impl_3.isSupported && !(ua = navigator.userAgent.toLowerCase() , /android ([3-9]+)\.([0-9]+)/.exec(ua) != null)?TRUE_3:FALSE_2)) , isSupported_0.value_0?new TouchScroller:null) , !!scroller && $setTargetWidget(scroller, this$static) , scroller);
  return !this$static.touchScroller;
}

function $setVerticalScrollPosition(this$static, position){
  $setScrollTop(($clinit_DOM() , this$static.scrollableElem), position);
}

function $setWidth_6(this$static, width_0){
  ($clinit_DOM() , this$static.element).style['width'] = width_0;
}

function ScrollPanel(){
  SimplePanel.call(this);
  this.scrollableElem = ($clinit_DOM() , this.element);
  this.containerElem = $doc.createElement('div');
  $appendChild(this.scrollableElem, this.containerElem);
  this.scrollableElem.style['overflow'] = ($clinit_Style$Overflow() , 'auto');
  this.scrollableElem.style['position'] = ($clinit_Style$Position() , 'relative');
  this.containerElem.style['position'] = 'relative';
  $setPropertyImpl(this.scrollableElem.style, 'zoom', '1');
  $setPropertyImpl(this.containerElem.style, 'zoom', '1');
  $setTouchScrollingDisabled(this);
  !impl_5 && (impl_5 = new ScrollImpl);
}

defineClass(161, 29, $intern_14, ScrollPanel);
_.getContainerElement = function getContainerElement_2(){
  return $clinit_DOM() , this.containerElem;
}
;
_.onAttach = function onAttach_5(){
  $onAttach(this);
  setEventListener(($clinit_DOM() , this.scrollableElem), this);
}
;
_.onDetach = function onDetach_4(){
  setEventListener(($clinit_DOM() , this.scrollableElem), null);
  $onDetach(this);
}
;
_.setHeight = function setHeight_1(height){
  $setHeight_4(this, height);
}
;
_.setSize = function setSize_1(width_0, height){
  $setSize_1(this, width_0, height);
}
;
_.setWidth = function setWidth_2(width_0){
  $setWidth_6(this, width_0);
}
;
var Lcom_google_gwt_user_client_ui_ScrollPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ScrollPanel', 161, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $next_3(this$static){
  if (!this$static.hasElement || !this$static.this$01.widget) {
    throw new NoSuchElementException;
  }
  this$static.hasElement = false;
  return this$static.returned = this$static.this$01.widget;
}

function SimplePanel$1(this$0){
  this.this$01 = this$0;
  this.hasElement = !!this.this$01.widget;
}

defineClass(624, 1, $intern_56, SimplePanel$1);
_.hasNext = function hasNext_14(){
  return this.hasElement;
}
;
_.next_0 = function next_15(){
  return $next_3(this);
}
;
_.remove_2 = function remove_45(){
  !!this.returned && $remove_1(this.this$01, this.returned);
}
;
_.hasElement = false;
_.returned = null;
var Lcom_google_gwt_user_client_ui_SimplePanel$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'SimplePanel/1', 624, Ljava_lang_Object_2_classLit);
function $add_15(this$static, w, stackText){
  $insert_4(this$static, w, this$static.children.size_0);
  $setStackText(this$static, this$static.children.size_0 - 1, stackText);
}

function $add_16(this$static, w, stackText){
  $insert_4(this$static, w, this$static.children.size_0);
  $setStackText(this$static, this$static.children.size_0 - 1, stackText);
}

function $findDividerIndex(this$static, elem){
  var expando, ownerHash;
  while (!!elem && elem != ($clinit_DOM() , this$static.element)) {
    expando = $getPropertyString(elem, '__index');
    if (expando != null) {
      ownerHash = $getPropertyInt(elem, '__owner');
      return ownerHash == getHashCode(this$static)?__parseAndValidateInt(expando, 10):-1;
    }
    elem = ($clinit_DOM() , $getParentElement(elem));
  }
  return -1;
}

function $insert_4(this$static, w, beforeIndex){
  var effectiveIndex, tdb, tdh, trb, trh;
  trh = ($clinit_DOM() , $doc.createElement('tr'));
  tdh = $doc.createElement('td');
  $appendChild(trh, resolve(tdh));
  $appendChild(tdh, resolve($doc.createElement('div')));
  trb = $doc.createElement('tr');
  tdb = $doc.createElement('td');
  $appendChild(trb, resolve(tdb));
  beforeIndex = $adjustIndex(this$static, w, beforeIndex);
  effectiveIndex = beforeIndex * 2;
  insertChild(this$static.body_0, trb, effectiveIndex);
  insertChild(this$static.body_0, trh, effectiveIndex);
  setStyleName(tdh, 'gwt-StackPanelItem', true);
  $setPropertyInt(tdh, '__owner', getHashCode(this$static));
  $setPropertyString(tdh, 'height', '1px');
  setStyleName(tdb, 'gwt-StackPanelContent', true);
  $setPropertyString(tdb, 'height', '100%');
  $setPropertyString(tdb, 'vAlign', 'top');
  $insert(this$static, w, tdb, beforeIndex, false);
  $updateIndicesFrom(this$static, beforeIndex);
  if (this$static.visibleStack == -1) {
    $showStack(this$static, 0);
  }
   else {
    $setStackVisible(this$static, beforeIndex, false);
    this$static.visibleStack >= beforeIndex && ++this$static.visibleStack;
    $setStackVisible(this$static, this$static.visibleStack, true);
  }
}

function $remove_16(this$static){
  return $remove_17(this$static, $get_12(this$static.children, 3), 3);
}

function $remove_17(this$static, child, index_0){
  var removed, rowIndex, tr;
  removed = $remove_4(this$static, child);
  if (removed) {
    rowIndex = 2 * index_0;
    tr = ($clinit_DOM() , $getChild(this$static.body_0, rowIndex));
    $removeChild(this$static.body_0, tr);
    tr = $getChild(this$static.body_0, rowIndex);
    $removeChild(this$static.body_0, tr);
    this$static.visibleStack == index_0?(this$static.visibleStack = -1):this$static.visibleStack > index_0 && --this$static.visibleStack;
    $updateIndicesFrom(this$static, index_0);
  }
  return removed;
}

function $setStackText(this$static, index_0, text_0){
  var headerElem, tdWrapper;
  if (index_0 >= this$static.children.size_0) {
    return;
  }
  tdWrapper = ($clinit_DOM() , $getChild($getChild(this$static.body_0, index_0 * 2), 0));
  headerElem = $getFirstChildElement(tdWrapper);
  $setInnerText(headerElem, text_0);
}

function $setStackVisible(this$static, index_0, visible){
  var td, tdNext, tr, trNext, tr_0;
  tr = ($clinit_DOM() , $getChild(this$static.body_0, index_0 * 2));
  if (!tr) {
    return;
  }
  td = $getFirstChildElement(tr);
  setStyleName(td, 'gwt-StackPanelItem-selected', visible);
  tr_0 = $getChild(this$static.body_0, index_0 * 2 + 1);
  setVisible(tr_0, visible);
  $get_12(this$static.children, index_0).setVisible(visible);
  trNext = $getChild(this$static.body_0, (index_0 + 1) * 2);
  if (trNext) {
    tdNext = $getFirstChildElement(trNext);
    setStyleName(tdNext, 'gwt-StackPanelItem-below-selected', visible);
  }
}

function $showStack(this$static, index_0){
  if (index_0 >= this$static.children.size_0 || index_0 < 0 || index_0 == this$static.visibleStack) {
    return;
  }
  this$static.visibleStack >= 0 && $setStackVisible(this$static, this$static.visibleStack, false);
  this$static.visibleStack = index_0;
  $setStackVisible(this$static, this$static.visibleStack, true);
}

function $updateIndicesFrom(this$static, beforeIndex){
  var c, childTD, childTR, i;
  for (i = beforeIndex , c = this$static.children.size_0; i < c; ++i) {
    childTR = ($clinit_DOM() , $getChild(this$static.body_0, i * 2));
    childTD = $getFirstChildElement(childTR);
    $setPropertyInt(childTD, '__index', i);
    beforeIndex == 0?setStyleName(childTD, 'gwt-StackPanelItem-first', true):setStyleName(childTD, 'gwt-StackPanelItem-first', false);
  }
}

function StackPanel(){
  var table;
  ComplexPanel.call(this);
  table = ($clinit_DOM() , $doc.createElement('table'));
  $setElement_0(this, table);
  this.body_0 = $doc.createElement('tbody');
  $appendChild(table, resolve(this.body_0));
  $setPropertyInt(table, 'cellSpacing', 0);
  $setPropertyInt(table, 'cellPadding', 0);
  $maybeInitializeEventSystem();
  $sinkEventsImpl(table, 1);
  $setClassName(this.element, 'gwt-StackPanel');
}

defineClass(384, 224, $intern_22, StackPanel);
_.add_2 = function add_26(w){
  $insert_4(this, w, this.children.size_0);
}
;
_.insert = function insert_4(w, beforeIndex){
  $insert_4(this, w, beforeIndex);
}
;
_.onBrowserEvent = function onBrowserEvent_9(event_0){
  var index_0, target;
  $clinit_DOM();
  if ($eventGetTypeInt(event_0.type) == 1) {
    target = $eventGetTarget(event_0);
    index_0 = $findDividerIndex(this, target);
    index_0 != -1 && $showStack(this, index_0);
  }
  $onBrowserEvent(this, event_0);
}
;
_.remove_1 = function remove_46(child){
  return $remove_17(this, child, $indexOf_1(this.children, child));
}
;
_.visibleStack = -1;
var Lcom_google_gwt_user_client_ui_StackPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'StackPanel', 384, Lcom_google_gwt_user_client_ui_ComplexPanel_2_classLit);
function TabBar$ClickDelegatePanel(this$0, child){
  var wrapperWidget;
  this.this$01 = this$0;
  this.focusablePanel = new SimplePanel_0(($clinit_FocusPanel() , createFocusable0(($clinit_FocusImpl() , focusHandler_0)?focusHandler_0:(focusHandler_0 = $createFocusHandler()))));
  this.focusablePanel.setWidget(child);
  wrapperWidget = this$0.this$01.createTabTextWrapper();
  if (!wrapperWidget) {
    $initWidget(this, this.focusablePanel);
  }
   else {
    $setWidget(wrapperWidget, this.focusablePanel);
    $initWidget(this, wrapperWidget);
  }
  this.eventsToSink == -1?($clinit_DOM() , $sinkEvents_0(this.element, 129 | (this.element.__eventBits || 0))):(this.eventsToSink |= 129);
}

defineClass(338, $intern_42, {45:1, 20:1, 16:1, 19:1, 17:1, 158:1, 13:1, 338:1, 15:1, 7:1}, TabBar$ClickDelegatePanel);
_.addClickHandler = function addClickHandler_5(handler){
  return $addHandler(this, handler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}
;
_.onBrowserEvent = function onBrowserEvent_10(event_0){
  if (!this.enabled) {
    return;
  }
  switch ($clinit_DOM() , $eventGetTypeInt(event_0.type)) {
    case 1:
      $selectTabByTabWidget(this.this$01, this);
      break;
    case 128:
      ($eventGetKeyCode(event_0) & $intern_31) == 13 && $selectTabByTabWidget(this.this$01, this);
      $eventGetKeyCode(event_0) & $intern_31;
      ($eventGetShiftKey(event_0)?1:0) | ($eventGetMetaKey(event_0)?8:0) | ($eventGetCtrlKey(event_0)?2:0) | ($eventGetAltKey(event_0)?4:0);
  }
  $onBrowserEvent(this, event_0);
  this.widget.onBrowserEvent(event_0);
}
;
_.enabled = true;
var Lcom_google_gwt_user_client_ui_TabBar$ClickDelegatePanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'TabBar/ClickDelegatePanel', 338, Lcom_google_gwt_user_client_ui_Composite_2_classLit);
function $insertProtected(this$static, w, tabText, beforeIndex){
  var idx;
  idx = $indexOf_1(this$static.children, w);
  if (idx != -1) {
    $remove_18(this$static, w);
    idx < beforeIndex && --beforeIndex;
  }
  $insertTab(this$static.tabBar, tabText, beforeIndex);
  $insert_2(this$static, w, beforeIndex);
}

function $remove_18(this$static, w){
  var idx;
  idx = $indexOf_1(this$static.children, w);
  if (idx != -1) {
    $removeTab(this$static.tabBar, idx);
    return $remove_12(this$static, w);
  }
  return false;
}

function TabPanel$TabbedDeckPanel(tabBar){
  DeckPanel.call(this);
  this.tabBar = tabBar;
}

defineClass(811, 261, $intern_109, TabPanel$TabbedDeckPanel);
_.add_2 = function add_27(w){
  throw new UnsupportedOperationException_0('Use TabPanel.add() to alter the DeckPanel');
}
;
_.clear_1 = function clear_30(){
  throw new UnsupportedOperationException_0('Use TabPanel.clear() to alter the DeckPanel');
}
;
_.insert = function insert_5(w, beforeIndex){
  throw new UnsupportedOperationException_0('Use TabPanel.insert() to alter the DeckPanel');
}
;
_.remove_1 = function remove_47(w){
  return $remove_18(this, w);
}
;
var Lcom_google_gwt_user_client_ui_TabPanel$TabbedDeckPanel_2_classLit = createForClass('com.google.gwt.user.client.ui', 'TabPanel/TabbedDeckPanel', 811, Lcom_google_gwt_user_client_ui_DeckPanel_2_classLit);
function TabPanel$UnmodifiableTabBar(this$0){
  var first, rest;
  this.this$01 = this$0;
  this.panel = new HorizontalPanel;
  $initWidget(this, this.panel);
  this.eventsToSink == -1?($clinit_DOM() , $sinkEvents_0(this.element, 1 | (this.element.__eventBits || 0))):(this.eventsToSink |= 1);
  $setClassName(($clinit_DOM() , this.element), 'gwt-TabBar');
  $clinit_Roles();
  $set_0(TABLIST, $getElement(this.panel));
  $setVerticalAlignment(this.panel, ($clinit_HasVerticalAlignment() , ALIGN_BOTTOM));
  first = new HTML_2;
  rest = new HTML_2;
  $setClassName(first.element, 'gwt-TabBarFirst');
  $setClassName(rest.element, 'gwt-TabBarRest');
  first.element.style['height'] = '100%';
  rest.element.style['height'] = '100%';
  $add_4(this.panel, first);
  $add_4(this.panel, rest);
  first.element.style['height'] = '100%';
  $setCellHeight(this.panel, first, '100%');
  $setCellWidth(this.panel, rest, '100%');
  $setClassName($getParentElement(first.element), 'gwt-TabBarFirst-wrapper');
  $setClassName($getParentElement(rest.element), 'gwt-TabBarRest-wrapper');
}

defineClass(813, 812, $intern_110, TabPanel$UnmodifiableTabBar);
var Lcom_google_gwt_user_client_ui_TabPanel$UnmodifiableTabBar_2_classLit = createForClass('com.google.gwt.user.client.ui', 'TabPanel/UnmodifiableTabBar', 813, Lcom_google_gwt_user_client_ui_TabBar_2_classLit);
function $getCursorPos(this$static){
  return $getCursorPos_0(($clinit_DOM() , this$static.element));
}

function $setVisibleLines(this$static){
  ($clinit_DOM() , this$static.element).rows = 1;
}

function TextArea_0(){
  $clinit_TextBoxBase();
  TextBoxBase.call(this, $doc.createElement('textarea'));
  $setClassName(($clinit_DOM() , this.element), 'gwt-TextArea');
}

defineClass(182, 448, {60:1, 45:1, 20:1, 16:1, 19:1, 17:1, 13:1, 182:1, 15:1, 7:1}, TextArea_0);
var Lcom_google_gwt_user_client_ui_TextArea_2_classLit = createForClass('com.google.gwt.user.client.ui', 'TextArea', 182, Lcom_google_gwt_user_client_ui_TextBoxBase_2_classLit);
function $onClick(this$static){
  var evt;
  $toggleDown(this$static);
  this$static.allowClick = true;
  evt = $createMouseEvent($doc, 'click', true, true, 1, 0, 0, 0, 0, false, false, false, false, 1, null);
  $dispatchEvent(($clinit_DOM() , this$static.element), evt);
  this$static.allowClick = false;
  fire_6(this$static, ($clinit_Boolean() , !this$static.curFace && $setCurrentFace_0(this$static, this$static.up) , (1 & this$static.curFace.val$faceID5) > 0?TRUE_3:FALSE_2));
}

function $setDown(this$static, down){
  down != (!this$static.curFace && $setCurrentFace_0(this$static, this$static.up) , (1 & this$static.curFace.val$faceID5) > 0) && $toggleDown(this$static);
}

function $setValue_3(this$static, value_0){
  !value_0 && (value_0 = ($clinit_Boolean() , FALSE_2));
  $setDown(this$static, value_0.value_0);
}

function ToggleButton(){
  $clinit_FocusWidget();
  ButtonBase.call(this, ($clinit_FocusPanel() , createFocusable0(($clinit_FocusImpl() , focusHandler_0)?focusHandler_0:(focusHandler_0 = $createFocusHandler()))));
  this.eventsToSink == -1?sinkEvents_0(($clinit_DOM() , this.element), 7165 | (this.element.__eventBits || 0)):(this.eventsToSink |= 7165);
  $setUpFace(this, new CustomButton$2(this, null, 'up', 0));
  $setClassName(($clinit_DOM() , this.element), 'gwt-CustomButton');
  $clinit_Roles();
  $set_0(BUTTON, this.element);
  $setText_3(this.up, '(Edit off)');
  $setText_3((!this.down && $setDownFace(this, new CustomButton$2(this, this.up, 'down', 1)) , this.down), '(Edit on)');
  $setStyleName(this, STYLENAME_DEFAULT);
}

defineClass(1405, 410, $intern_41, ToggleButton);
var STYLENAME_DEFAULT = 'gwt-ToggleButton';
var Lcom_google_gwt_user_client_ui_ToggleButton_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ToggleButton', 1405, Lcom_google_gwt_user_client_ui_CustomButton_2_classLit);
function ValueBoxBase$1(this$0){
  this.this$01 = this$0;
}

defineClass(844, 1, $intern_116, ValueBoxBase$1);
_.onChange = function onChange(event_0){
  fire_6(this.this$01, $getValue_3(this.this$01));
}
;
var Lcom_google_gwt_user_client_ui_ValueBoxBase$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'ValueBoxBase/1', 844, Ljava_lang_Object_2_classLit);
function $clinit_ValueBoxBase$TextAlignment(){
  $clinit_ValueBoxBase$TextAlignment = emptyMethod;
  CENTER_1 = new ValueBoxBase$TextAlignment$1;
  JUSTIFY_0 = new ValueBoxBase$TextAlignment$2;
  LEFT_0 = new ValueBoxBase$TextAlignment$3;
  RIGHT_0 = new ValueBoxBase$TextAlignment$4;
}

function ValueBoxBase$TextAlignment(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_23(name_0){
  $clinit_ValueBoxBase$TextAlignment();
  return valueOf(($clinit_ValueBoxBase$TextAlignment$Map() , $MAP_21), name_0);
}

function values_29(){
  $clinit_ValueBoxBase$TextAlignment();
  return initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment_2_classLit, 1), $intern_1, 172, 0, [CENTER_1, JUSTIFY_0, LEFT_0, RIGHT_0]);
}

defineClass(172, 9, $intern_117);
var CENTER_1, JUSTIFY_0, LEFT_0, RIGHT_0;
var Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment_2_classLit = createForEnum('com.google.gwt.user.client.ui', 'ValueBoxBase/TextAlignment', 172, Ljava_lang_Enum_2_classLit, values_29, valueOf_23);
function ValueBoxBase$TextAlignment$1(){
  ValueBoxBase$TextAlignment.call(this, 'CENTER', 0);
}

defineClass(840, 172, $intern_117, ValueBoxBase$TextAlignment$1);
var Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment$1_2_classLit = createForEnum('com.google.gwt.user.client.ui', 'ValueBoxBase/TextAlignment/1', 840, Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment_2_classLit, null, null);
function ValueBoxBase$TextAlignment$2(){
  ValueBoxBase$TextAlignment.call(this, 'JUSTIFY', 1);
}

defineClass(841, 172, $intern_117, ValueBoxBase$TextAlignment$2);
var Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment$2_2_classLit = createForEnum('com.google.gwt.user.client.ui', 'ValueBoxBase/TextAlignment/2', 841, Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment_2_classLit, null, null);
function ValueBoxBase$TextAlignment$3(){
  ValueBoxBase$TextAlignment.call(this, 'LEFT', 2);
}

defineClass(842, 172, $intern_117, ValueBoxBase$TextAlignment$3);
var Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment$3_2_classLit = createForEnum('com.google.gwt.user.client.ui', 'ValueBoxBase/TextAlignment/3', 842, Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment_2_classLit, null, null);
function ValueBoxBase$TextAlignment$4(){
  ValueBoxBase$TextAlignment.call(this, 'RIGHT', 3);
}

defineClass(843, 172, $intern_117, ValueBoxBase$TextAlignment$4);
var Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment$4_2_classLit = createForEnum('com.google.gwt.user.client.ui', 'ValueBoxBase/TextAlignment/4', 843, Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment_2_classLit, null, null);
function $clinit_ValueBoxBase$TextAlignment$Map(){
  $clinit_ValueBoxBase$TextAlignment$Map = emptyMethod;
  $MAP_21 = createValueOfMap(($clinit_ValueBoxBase$TextAlignment() , initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_ValueBoxBase$TextAlignment_2_classLit, 1), $intern_1, 172, 0, [CENTER_1, JUSTIFY_0, LEFT_0, RIGHT_0])));
}

var $MAP_21;
function $add_17(this$static, w){
  $insert_5(this$static, w, this$static.size_0);
}

function $get_12(this$static, index_0){
  if (index_0 < 0 || index_0 >= this$static.size_0) {
    throw new IndexOutOfBoundsException;
  }
  return this$static.array[index_0];
}

function $indexOf_1(this$static, w){
  var i;
  for (i = 0; i < this$static.size_0; ++i) {
    if (this$static.array[i] == w) {
      return i;
    }
  }
  return -1;
}

function $insert_5(this$static, w, beforeIndex){
  var i, i0, newArray;
  if (beforeIndex < 0 || beforeIndex > this$static.size_0) {
    throw new IndexOutOfBoundsException;
  }
  if (this$static.size_0 == this$static.array.length) {
    newArray = initDim(Lcom_google_gwt_user_client_ui_Widget_2_classLit, $intern_1, 7, this$static.array.length * 2, 0, 1);
    for (i0 = 0; i0 < this$static.array.length; ++i0) {
      setCheck(newArray, i0, this$static.array[i0]);
    }
    this$static.array = newArray;
  }
  ++this$static.size_0;
  for (i = this$static.size_0 - 1; i > beforeIndex; --i) {
    setCheck(this$static.array, i, this$static.array[i - 1]);
  }
  setCheck(this$static.array, beforeIndex, w);
}

function $remove_19(this$static, index_0){
  var i;
  if (index_0 < 0 || index_0 >= this$static.size_0) {
    throw new IndexOutOfBoundsException;
  }
  --this$static.size_0;
  for (i = index_0; i < this$static.size_0; ++i) {
    setCheck(this$static.array, i, this$static.array[i + 1]);
  }
  setCheck(this$static.array, this$static.size_0, null);
}

function $remove_20(this$static, w){
  var index_0;
  index_0 = $indexOf_1(this$static, w);
  if (index_0 == -1) {
    throw new NoSuchElementException;
  }
  $remove_19(this$static, index_0);
}

function WidgetCollection(parent_0){
  this.parent_0 = parent_0;
  this.array = initDim(Lcom_google_gwt_user_client_ui_Widget_2_classLit, $intern_1, 7, 4, 0, 1);
}

defineClass(456, 1, {}, WidgetCollection);
_.iterator = function iterator_36(){
  return new WidgetCollection$WidgetIterator(this);
}
;
_.size_0 = 0;
var Lcom_google_gwt_user_client_ui_WidgetCollection_2_classLit = createForClass('com.google.gwt.user.client.ui', 'WidgetCollection', 456, Ljava_lang_Object_2_classLit);
function $next_4(this$static){
  if (this$static.index_0 >= this$static.this$01.size_0) {
    throw new NoSuchElementException;
  }
  this$static.currentWidget = this$static.this$01.array[this$static.index_0];
  ++this$static.index_0;
  return this$static.currentWidget;
}

function WidgetCollection$WidgetIterator(this$0){
  this.this$01 = this$0;
}

defineClass(198, 1, $intern_56, WidgetCollection$WidgetIterator);
_.hasNext = function hasNext_15(){
  return this.index_0 < this.this$01.size_0;
}
;
_.next_0 = function next_16(){
  return $next_4(this);
}
;
_.remove_2 = function remove_48(){
  if (!this.currentWidget) {
    throw new IllegalStateException;
  }
  this.this$01.parent_0.remove_1(this.currentWidget);
  --this.index_0;
  this.currentWidget = null;
}
;
_.index_0 = 0;
var Lcom_google_gwt_user_client_ui_WidgetCollection$WidgetIterator_2_classLit = createForClass('com.google.gwt.user.client.ui', 'WidgetCollection/WidgetIterator', 198, Ljava_lang_Object_2_classLit);
function copyWidgetArray(widgets){
  var clone, i;
  clone = initDim(Lcom_google_gwt_user_client_ui_Widget_2_classLit, $intern_1, 7, widgets.length, 0, 1);
  for (i = 0; i < widgets.length; i++) {
    setCheck(clone, i, widgets[i]);
  }
  return clone;
}

function createWidgetIterator(container, contained){
  return new WidgetIterators$1(contained, container);
}

function $gotoNextIndex(this$static){
  ++this$static.index_0;
  while (this$static.index_0 < this$static.val$contained1.length) {
    if (this$static.val$contained1[this$static.index_0]) {
      return;
    }
    ++this$static.index_0;
  }
}

function $next_5(this$static){
  var w;
  if (this$static.index_0 >= this$static.val$contained1.length) {
    throw new NoSuchElementException;
  }
  this$static.last = this$static.index_0;
  w = this$static.val$contained1[this$static.index_0];
  $gotoNextIndex(this$static);
  return w;
}

function WidgetIterators$1(val$contained, val$container){
  this.val$contained1 = val$contained;
  this.val$container2 = val$container;
  this.widgets = this.val$contained1;
  $gotoNextIndex(this);
}

defineClass(929, 1, $intern_56, WidgetIterators$1);
_.hasNext = function hasNext_16(){
  return this.index_0 < this.val$contained1.length;
}
;
_.next_0 = function next_17(){
  return $next_5(this);
}
;
_.remove_2 = function remove_49(){
  if (this.last < 0) {
    throw new IllegalStateException;
  }
  if (!this.widgetsWasCopied) {
    this.widgets = copyWidgetArray(this.widgets);
    this.widgetsWasCopied = true;
  }
  $remove_15(this.val$container2, this.val$contained1[this.last]);
  this.last = -1;
}
;
_.index_0 = -1;
_.last = -1;
_.widgetsWasCopied = false;
var Lcom_google_gwt_user_client_ui_WidgetIterators$1_2_classLit = createForClass('com.google.gwt.user.client.ui', 'WidgetIterators/1', 929, Ljava_lang_Object_2_classLit);
function $clinit_ClippedImageImpl(){
  var global, key;
  $clinit_ClippedImageImpl = emptyMethod;
  clearImage = ($clinit_UriUtils() , new SafeUriString((key = '__gwtDevModeHook:' + $moduleName + ':moduleBase' , global = $wnd || self , global[key] || $moduleBase) + 'clear.cache.gif'));
}

function $adjust(img, url_0, left, top_0, width_0, height){
  var style;
  style = 'url("' + url_0.uri_0 + '") no-repeat ' + (-left + 'px ') + (-top_0 + 'px');
  $setPropertyImpl(img.style, 'background', style);
  img.style['width'] = width_0 + ($clinit_Style$Unit() , 'px');
  img.style['height'] = height + 'px';
}

var clearImage, template_0;
function $image(arg0, arg1){
  var sb;
  sb = new StringBuilder;
  sb.string += "<img onload='this.__gwtLastUnhandledEvent=\"load\";' src='";
  $append_6(sb, htmlEscape(arg0.uri_0));
  sb.string += "' style='";
  $append_6(sb, htmlEscape(arg1.css));
  sb.string += "' border='0'>";
  return new OnlyToBeUsedInGeneratedCodeStringBlessedAsSafeHtml(sb.string);
}

function ClippedImageImpl_TemplateImpl(){
}

defineClass(1150, 1, {}, ClippedImageImpl_TemplateImpl);
var Lcom_google_gwt_user_client_ui_impl_ClippedImageImpl_1TemplateImpl_2_classLit = createForClass('com.google.gwt.user.client.ui.impl', 'ClippedImageImpl_TemplateImpl', 1150, Ljava_lang_Object_2_classLit);
function $clinit_ClippedImagePrototype(){
  $clinit_ClippedImagePrototype = emptyMethod;
  $clinit_ClippedImageImpl();
}

function $applyTo(this$static, image){
  $setUrlAndVisibleRect(image, this$static.url_0, this$static.left_0, this$static.top_0, this$static.width_0, this$static.height_0);
}

function $createImage(this$static){
  return new Image_3(this$static.url_0, this$static.left_0, this$static.top_0, this$static.width_0, this$static.height_0);
}

function ClippedImagePrototype(url_0, left, top_0, width_0, height){
  $clinit_ClippedImagePrototype();
  this.url_0 = url_0;
  this.left_0 = left;
  this.top_0 = top_0;
  this.width_0 = width_0;
  this.height_0 = height;
}

defineClass(918, 46, {46:1}, ClippedImagePrototype);
_.height_0 = 0;
_.left_0 = 0;
_.top_0 = 0;
_.url_0 = null;
_.width_0 = 0;
var Lcom_google_gwt_user_client_ui_impl_ClippedImagePrototype_2_classLit = createForClass('com.google.gwt.user.client.ui.impl', 'ClippedImagePrototype', 918, Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit);
function $clinit_FocusImpl(){
  $clinit_FocusImpl = emptyMethod;
  implPanel = new FocusImplSafari;
  implWidget = implPanel?new FocusImpl:implPanel;
}

function FocusImpl(){
}

defineClass(919, 1, {}, FocusImpl);
_.blur_0 = function blur_0(elem){
  elem.blur();
}
;
_.focus_0 = function focus_1(elem){
  elem.focus();
}
;
var implPanel, implWidget;
var Lcom_google_gwt_user_client_ui_impl_FocusImpl_2_classLit = createForClass('com.google.gwt.user.client.ui.impl', 'FocusImpl', 919, Ljava_lang_Object_2_classLit);
function $createFocusHandler(){
  return function(evt){
    var div = this.parentNode;
    div.onfocus && $wnd.setTimeout(function(){
      div.focus();
    }
    , 0);
  }
  ;
}

function createFocusable0(focusHandler){
  $clinit_FocusImpl();
  var div = $doc.createElement('div');
  div.tabIndex = 0;
  var input_0 = $doc.createElement('input');
  input_0.type = 'text';
  input_0.tabIndex = -1;
  input_0.setAttribute('role', 'presentation');
  var style = input_0.style;
  style.opacity = 0;
  style.height = '1px';
  style.width = '1px';
  style.zIndex = -1;
  style.overflow = 'hidden';
  style.position = 'absolute';
  input_0.addEventListener('focus', focusHandler, false);
  div.appendChild(input_0);
  return div;
}

defineClass(1516, 919, {});
var focusHandler_0;
var Lcom_google_gwt_user_client_ui_impl_FocusImplStandard_2_classLit = createForClass('com.google.gwt.user.client.ui.impl', 'FocusImplStandard', 1516, Lcom_google_gwt_user_client_ui_impl_FocusImpl_2_classLit);
function $blur(elem){
  $wnd.setTimeout(function(){
    elem.blur();
  }
  , 0);
}

function $focus(elem){
  $wnd.setTimeout(function(){
    elem.focus();
  }
  , 0);
}

function FocusImplSafari(){
}

defineClass(951, 1516, {}, FocusImplSafari);
_.blur_0 = function blur_1(elem){
  $blur(elem);
}
;
_.focus_0 = function focus_2(elem){
  $focus(elem);
}
;
var Lcom_google_gwt_user_client_ui_impl_FocusImplSafari_2_classLit = createForClass('com.google.gwt.user.client.ui.impl', 'FocusImplSafari', 951, Lcom_google_gwt_user_client_ui_impl_FocusImplStandard_2_classLit);
function $getContents(iframe){
  try {
    if (!iframe.contentWindow || !iframe.contentWindow.document)
      return null;
    return iframe.contentWindow.document.body.innerHTML;
  }
   catch (e) {
    return null;
  }
}

function $hookEvents(iframe, form_0, listener){
  iframe && (iframe.onload = $entry(function(){
    if (!iframe.__formAction)
      return;
    listener.onFrameLoad();
  }
  ));
  form_0.onsubmit = $entry(function(){
    iframe && (iframe.__formAction = form_0.action);
    return listener.onFormSubmit();
  }
  );
}

function $setEncoding_0(form_0, encoding){
  form_0.enctype = encoding;
  form_0.encoding = encoding;
}

function $submit_0(form_0, iframe){
  iframe && (iframe.__formAction = form_0.action);
  form_0.submit();
}

function $unhookEvents(iframe, form_0){
  iframe && (iframe.onload = null);
  form_0.onsubmit = null;
}

function $clinit_HyperlinkImplSafari(){
  $clinit_HyperlinkImplSafari = emptyMethod;
  shiftIsModifier = navigator.userAgent.indexOf('Chrome') != -1;
}

var shiftIsModifier = false;
function $setClip(popup, rect){
  $setPropertyImpl(popup.style, 'clip', rect);
}

function $getCursorPos_0(elem){
  try {
    return elem.selectionStart;
  }
   catch (e) {
    return 0;
  }
}

function $setSelectionRange_0(elem, pos, length_0){
  try {
    elem.setSelectionRange(pos, pos + length_0);
  }
   catch (e) {
  }
}

function assertCompileTimeUserAgent(){
  var runtimeValue;
  runtimeValue = $getRuntimeValue();
  if (!$equals_5('safari', runtimeValue)) {
    throw new UserAgentAsserter$UserAgentAssertionError(runtimeValue);
  }
}

function Error_0(message, cause){
  Throwable.call(this, message, cause);
}

defineClass(366, 40, $intern_6);
var Ljava_lang_Error_2_classLit = createForClass('java.lang', 'Error', 366, Ljava_lang_Throwable_2_classLit);
function AssertionError(message){
  Error_0.call(this, '' + message, instanceOf(message, 40)?dynamicCast(message, 40):null);
}

defineClass(110, 366, $intern_6, AssertionError);
var Ljava_lang_AssertionError_2_classLit = createForClass('java.lang', 'AssertionError', 110, Ljava_lang_Error_2_classLit);
function UserAgentAsserter$UserAgentAssertionError(runtimeValue){
  AssertionError.call(this, 'Possible problem with your *.gwt.xml module file.\nThe compile time user.agent value (safari) does not match the runtime user.agent value (' + runtimeValue + ').\n' + 'Expect more errors.');
}

defineClass(529, 110, $intern_6, UserAgentAsserter$UserAgentAssertionError);
var Lcom_google_gwt_useragent_client_UserAgentAsserter$UserAgentAssertionError_2_classLit = createForClass('com.google.gwt.useragent.client', 'UserAgentAsserter/UserAgentAssertionError', 529, Ljava_lang_AssertionError_2_classLit);
function $getRuntimeValue(){
  var ua = navigator.userAgent.toLowerCase();
  var docMode = $doc.documentMode;
  if (function(){
    return ua.indexOf('webkit') != -1;
  }
  ())
    return 'safari';
  if (function(){
    return ua.indexOf('msie') != -1 && docMode >= 10 && docMode < 11;
  }
  ())
    return 'ie10';
  if (function(){
    return ua.indexOf('msie') != -1 && docMode >= 9 && docMode < 11;
  }
  ())
    return 'ie9';
  if (function(){
    return ua.indexOf('msie') != -1 && docMode >= 8 && docMode < 11;
  }
  ())
    return 'ie8';
  if (function(){
    return ua.indexOf('gecko') != -1 || docMode >= 11;
  }
  ())
    return 'gecko1_8';
  return 'unknown';
}

function $clinit_Color(){
  $clinit_Color = emptyMethod;
  new Color('rgba(0,0,0,0.3)');
  new Color('rgba(255,0,0,0.3)');
  new Color('#000000');
  new Color('#318ce0');
  new Color('#8a2be2');
  new Color('#5fa2e0');
  new Color('#23ef24');
  new Color('#a9a9a9');
  new Color('#eeeeee');
  new Color('#f88247');
  new Color('#ffd393');
  new Color('#ff00ff');
  new Color('#ff0000');
  new Color('#c6defa');
  new Color('#ffffff');
  new Color('yellow');
  new Color('#c44607');
  new Color('#fb5c0c');
  new Color('#0c6ac1');
}

function Color(colorStr){
  $clinit_Color();
  this.colorStr = colorStr;
}

defineClass(101, 1, {}, Color);
_.toString$ = function toString_54(){
  return this.colorStr;
}
;
_.colorStr = '';
var Lcom_google_gwt_widgetideas_graphics_client_Color_2_classLit = createForClass('com.google.gwt.widgetideas.graphics.client', 'Color', 101, Ljava_lang_Object_2_classLit);
function $clinit_GWTCanvas(){
  $clinit_GWTCanvas = emptyMethod;
  TRANSPARENT = new Color('');
}

function $clear_6(this$static){
  $clearRect_0(this$static.impl, 0, 0, this$static.coordWidth, this$static.coordHeight);
}

function $lineTo_0(this$static, x_0, y_0){
  $lineTo_1(this$static.impl, x_0, y_0);
}

function $moveTo_0(this$static, x_0, y_0){
  $moveTo_1(this$static.impl, x_0, y_0);
}

function $setBackgroundColor(this$static, color_0){
  $setBackgroundColor_0(($clinit_DOM() , this$static.element), color_0.colorStr);
}

function $setCoordSize(this$static){
  $setCoordWidth(($clinit_DOM() , this$static.element), 18);
  this$static.coordWidth = 18;
  $setCoordHeight(this$static.element, 10);
  this$static.coordHeight = 10;
}

function GWTCanvas(){
  $clinit_GWTCanvas();
  this.impl = new GWTCanvasImplDefault;
  $setElement_0(this, $createElement_1(this.impl));
  $setPixelWidth(($clinit_DOM() , this.element));
  $setPixelHeight(this.element);
  $setCoordWidth(this.element, 300);
  this.coordWidth = 300;
  $setCoordHeight(this.element, 150);
  this.coordHeight = 150;
}

defineClass(318, 7, $intern_12, GWTCanvas);
_.coordHeight = 0;
_.coordWidth = 0;
var TRANSPARENT;
var Lcom_google_gwt_widgetideas_graphics_client_GWTCanvas_2_classLit = createForClass('com.google.gwt.widgetideas.graphics.client', 'GWTCanvas', 318, Lcom_google_gwt_user_client_ui_Widget_2_classLit);
function $beginPath_0(this$static){
  this$static.canvasContext.beginPath();
}

function $clearRect_0(this$static, startX, startY, width_0, height){
  this$static.canvasContext.clearRect(startX, startY, width_0, height);
}

function $createElement_1(this$static){
  var e = $doc.createElement('CANVAS');
  this$static.setCanvasContext(e.getContext('2d'));
  return e;
}

function $lineTo_1(this$static, x_0, y_0){
  this$static.canvasContext.lineTo(x_0, y_0);
}

function $moveTo_1(this$static, x_0, y_0){
  this$static.canvasContext.moveTo(x_0, y_0);
}

function $setBackgroundColor_0(element, color_0){
  $clinit_DOM();
  $setPropertyImpl(element.style, 'backgroundColor', color_0);
}

function $setCoordHeight(elem, height){
  $clinit_DOM();
  $setPropertyString(elem, 'height', '' + height);
}

function $setCoordWidth(elem, width_0){
  $clinit_DOM();
  $setPropertyString(elem, 'width', '' + width_0);
}

function $setLineWidth_0(this$static, width_0){
  this$static.canvasContext.lineWidth = width_0;
}

function $setPixelHeight(elem){
  $clinit_DOM();
  $setPropertyImpl(elem.style, 'height', '150px');
}

function $setPixelWidth(elem){
  $clinit_DOM();
  $setPropertyImpl(elem.style, 'width', '300px');
}

function $stroke_0(this$static){
  this$static.canvasContext.stroke();
}

function GWTCanvasImplDefault(){
}

defineClass(1447, 1, {}, GWTCanvasImplDefault);
_.setCanvasContext = function setCanvasContext(ctx){
  this.canvasContext = ctx;
}
;
_.canvasContext = null;
var Lcom_google_gwt_widgetideas_graphics_client_impl_GWTCanvasImplDefault_2_classLit = createForClass('com.google.gwt.widgetideas.graphics.client.impl', 'GWTCanvasImplDefault', 1447, Ljava_lang_Object_2_classLit);
function $clearOnReadyStateChange(this$static){
  this$static.onreadystatechange = function(){
  }
  ;
}

function $open(this$static, httpMethod, url_0){
  this$static.open(httpMethod, url_0, true);
}

function $setOnReadyStateChange(this$static, handler){
  var _this = this$static;
  this$static.onreadystatechange = $entry(function(){
    handler.onReadyStateChange(_this);
  }
  );
}

function $setRequestHeader(this$static, header, value_0){
  this$static.setRequestHeader(header, value_0);
}

function $removeHandler(this$static){
  $doRemove_0(this$static.this$01, this$static.val$type2, this$static.val$source3, this$static.val$handler4);
}

function SimpleEventBus$1(this$0, val$type, val$handler){
  this.this$01 = this$0;
  this.val$type2 = val$type;
  this.val$source3 = null;
  this.val$handler4 = val$handler;
}

defineClass(803, 1, {}, SimpleEventBus$1);
var Lcom_google_web_bindery_event_shared_SimpleEventBus$1_2_classLit = createForClass('com.google.web.bindery.event.shared', 'SimpleEventBus/1', 803, Ljava_lang_Object_2_classLit);
function SimpleEventBus$2(this$0, val$type, val$handler){
  this.this$01 = this$0;
  this.val$type2 = val$type;
  this.val$source3 = null;
  this.val$handler4 = val$handler;
}

defineClass(804, 1, {1453:1}, SimpleEventBus$2);
_.execute = function execute_24(){
  $doAddNow(this.this$01, this.val$type2, this.val$source3, this.val$handler4);
}
;
var Lcom_google_web_bindery_event_shared_SimpleEventBus$2_2_classLit = createForClass('com.google.web.bindery.event.shared', 'SimpleEventBus/2', 804, Ljava_lang_Object_2_classLit);
function SimpleEventBus$3(this$0, val$type, val$source, val$handler){
  this.this$01 = this$0;
  this.val$type2 = val$type;
  this.val$source3 = val$source;
  this.val$handler4 = val$handler;
}

defineClass(442, 1, {1453:1}, SimpleEventBus$3);
_.execute = function execute_25(){
  $doRemoveNow(this.this$01, this.val$type2, this.val$source3, this.val$handler4);
}
;
var Lcom_google_web_bindery_event_shared_SimpleEventBus$3_2_classLit = createForClass('com.google.web.bindery.event.shared', 'SimpleEventBus/3', 442, Ljava_lang_Object_2_classLit);
function $clinit_AssArray(){
  $clinit_AssArray = emptyMethod;
  Log_26 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.AssArray'));
  lastVariablesUpdated = new LinkedList;
}

function $AddItem(this$static, newitem, newname){
  this$static.Items.add_0(newitem);
  this$static.Names.add_0(newname);
  $addLastUpdated(this$static, newname);
}

function $AddItemUniquely(this$static, newitem, newname){
  var indextoremove;
  if ($indexOf_0(this$static.Names, newname, 0) != -1) {
    indextoremove = $getItemIndex(this$static, newname);
    $set(this$static.Items, indextoremove, newitem);
    $info_1(Log_26, 'Setting existing variable ' + indextoremove + ' name=' + newname + ' value=' + newitem);
  }
   else {
    this$static.Items.add_0(newitem);
    this$static.Names.add_0(newname);
  }
  $addLastUpdated(this$static, newname);
}

function $GetAllItems(this$static, ItemName){
  var ItemsToReturn, currentItem, i, it;
  ItemsToReturn = new ArrayList;
  i = 0;
  for (it = new AbstractList$IteratorImpl(this$static.Names); it.i < it.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCastToString(it.this$01_0.get_0(it.last = it.i++)));
    compareTo_5(currentItem, ItemName) == 0 && ItemsToReturn.add_0(dynamicCastToString($get(this$static.Items, i)));
    i = i + 1;
  }
  return ItemsToReturn;
}

function $GetItem(this$static, ItemName){
  var Item, itemindex;
  itemindex = $getItemIndex(this$static, ItemName);
  itemindex > -1?(Item = dynamicCastToString($get(this$static.Items, itemindex))):(Item = '');
  return Item;
}

function $RemoveItem(this$static, removethisitem){
  var indextoremove;
  indextoremove = $getItemIndex(this$static, removethisitem);
  if (indextoremove > -1) {
    this$static.Items.remove_0(indextoremove);
    this$static.Names.remove_0(indextoremove);
  }
  $addLastUpdated(this$static, removethisitem);
}

function $TestForMatch(this$static, ItemName, TestAgainstThis){
  var currentItem, i, it, match_0, testthis;
  match_0 = false;
  i = 0;
  for (it = new AbstractList$IteratorImpl(this$static.Names); it.i < it.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCastToString(it.this$01_0.get_0(it.last = it.i++)));
    if (compareTo_5(currentItem, ItemName) == 0) {
      testthis = dynamicCastToString($get(this$static.Items, i));
      $equals_5(testthis, TestAgainstThis) && (match_0 = true);
    }
    i = i + 1;
  }
  return match_0;
}

function $addLastUpdated(this$static, lastVarName){
  if (this$static.maintainUpdateLog) {
    if (!$equals_5(lastVarName, this$static.lastVariableUpdatedName)) {
      $add_24(lastVariablesUpdated, lastVarName);
      this$static.lastVariableUpdatedName = lastVarName;
      lastVariablesUpdated.size_0 > 20 && $poll(lastVariablesUpdated);
    }
  }
  !!this$static.onUpdateRun && updateGlobalVariablelist();
}

function $getAllUniqueNames(this$static){
  var checkthis, currentItem, it, present, uniquenames, uniquenamesit;
  uniquenames = new ArrayList;
  for (it = new AbstractList$IteratorImpl(this$static.Names); it.i < it.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCastToString(it.this$01_0.get_0(it.last = it.i++)));
    present = false;
    for (uniquenamesit = new AbstractList$IteratorImpl(uniquenames); uniquenamesit.i < uniquenamesit.this$01_0.size_1();) {
      checkthis = (checkCriticalElement(uniquenamesit.i < uniquenamesit.this$01_0.size_1()) , dynamicCastToString(uniquenamesit.this$01_0.get_0(uniquenamesit.last = uniquenamesit.i++)));
      $equals_5(checkthis, currentItem) && (present = true);
    }
    present || uniquenames.add_0(currentItem);
  }
  return uniquenames;
}

function $getItemIndex(this$static, thisitem){
  var currentItem, i, index_0, it;
  i = 0;
  index_0 = -1;
  for (it = new AbstractList$IteratorImpl(this$static.Names); it.i < it.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCastToString(it.this$01_0.get_0(it.last = it.i++)));
    compareTo_5(currentItem, thisitem) == 0 && (index_0 = i);
    i = i + 1;
  }
  return index_0;
}

function $hasItem(this$static, ItemName){
  var itemindex;
  itemindex = $getItemIndex(this$static, ItemName);
  if (itemindex > -1) {
    return true;
  }
  return false;
}

function $serialise(this$static){
  var currentItemName, currentItemValue, data_0, i;
  data_0 = '';
  for (i = 0; i < this$static.Names.array.length; i++) {
    currentItemName = dynamicCastToString($get(this$static.Names, i));
    currentItemValue = dynamicCastToString($get(this$static.Items, i));
    data_0 = data_0 + currentItemName + '=' + currentItemValue + '&';
  }
  return data_0;
}

function $serialiseForSave(this$static){
  var currentItemName, currentItemValue, data_0, i;
  data_0 = '';
  for (i = 0; i < this$static.Names.array.length; i++) {
    currentItemName = dynamicCastToString($get(this$static.Names, i));
    currentItemValue = dynamicCastToString($get(this$static.Items, i));
    data_0 = data_0 + '- SetVariable = ' + currentItemName + ',' + currentItemValue + ' \n';
  }
  return data_0;
}

function $setOnUpdateRun(this$static, onUpdateRun){
  this$static.onUpdateRun = onUpdateRun;
}

function AssArray(){
  $clinit_AssArray();
  this.Items = new ArrayList;
  this.Names = new ArrayList;
}

defineClass(210, 1, {}, AssArray);
_.lastVariableUpdatedName = '';
_.maintainUpdateLog = true;
_.onUpdateRun = null;
var Log_26, lastVariablesUpdated;
var Lcom_lostagain_Jam_AssArray_2_classLit = createForClass('com.lostagain.Jam', 'AssArray', 210, Ljava_lang_Object_2_classLit);
function $clinit_MovementPath(){
  $clinit_MovementPath = emptyMethod;
  Log_27 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.MovementPath'));
}

function $$init_8(this$static){
  this$static.pathsName = '';
  this$static.PathLength = 0;
  this$static.commandStore = '';
  this$static.commandStoreMode = false;
  this$static.pathFindingBroke = false;
}

function $addAll_1(this$static, col){
  var movementWaypoint, movementWaypoint$iterator, result;
  result = true;
  for (movementWaypoint$iterator = col.iterator(); movementWaypoint$iterator.hasNext();) {
    movementWaypoint = dynamicCast(movementWaypoint$iterator.next_0(), 23);
    result = $addMovementWayPoint_0(this$static, movementWaypoint);
  }
  return result;
}

function $addMovementWayPoint(this$static, type_0, x_0, y_0){
  $add_0(this$static, new MovementWaypoint_1(x_0, y_0, type_0));
}

function $addMovementWayPoint_0(this$static, newwp){
  var dis, distancex, distancey, lastwaypoint;
  $info_1(Log_27, 'new svg waypoint=' + (newwp.type_0.svg_letter + ' to ' + $toString_12(newwp.pos)));
  if (this$static.array.length > 0) {
    lastwaypoint = dynamicCast($get(this$static, this$static.array.length - 1), 23);
    distancex = abs_1(lastwaypoint.pos.x_0 - newwp.pos.x_0);
    distancey = abs_1(lastwaypoint.pos.y_0 - newwp.pos.y_0);
    dis = round_int(Math.sqrt(distancex * distancex + distancey * distancey));
    this$static.PathLength = this$static.PathLength + dis;
  }
  return setCheck(this$static.array, this$static.array.length, newwp) , true;
}

function $getAsDisplacedSVGPath(this$static, dx, dy){
  var it, movementWaypoint, path, type_0;
  path = '';
  it = new AbstractList$IteratorImpl(this$static);
  while (it.i < it.this$01_0.size_1()) {
    movementWaypoint = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 23));
    type_0 = movementWaypoint.type_0;
    path = path + type_0.svg_letter;
    switch (type_0.ordinal) {
      case 2:
        path = path + ' z';
        break;
      case 9:
      case 5:
        path = path + ' ' + (movementWaypoint.midPoint1.x_0 + dx) + ',' + (movementWaypoint.midPoint1.y_0 + dy) + ' ' + (movementWaypoint.pos.x_0 + dx) + ',' + (movementWaypoint.pos.y_0 + dy);
        break;
      case 10:
      case 6:
        path = path + ' ' + (movementWaypoint.midPoint1.x_0 + dx) + ',' + (movementWaypoint.midPoint1.y_0 + dy) + ' ' + (movementWaypoint.midPoint2.x_0 + dx) + ',' + (movementWaypoint.midPoint2.y_0 + dy) + ' ' + (movementWaypoint.pos.x_0 + dx) + ',' + (movementWaypoint.pos.y_0 + dy);
        break;
      case 4:
      case 3:
        break;
      case 1:
      case 0:
      case 8:
      case 7:
      default:path = path + ' ' + (movementWaypoint.pos.x_0 + dx) + ',' + (movementWaypoint.pos.y_0 + dy);
    }
  }
  path = path + ' ';
  return $trim(path);
}

function $getAsSVGPath(this$static, insertzvalues){
  var it, movementWaypoint, movementtype, nextCommandString, path;
  path = '';
  it = new AbstractList$IteratorImpl(this$static);
  while (it.i < it.this$01_0.size_1()) {
    movementWaypoint = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 23));
    nextCommandString = '';
    movementtype = movementWaypoint.type_0;
    switch (movementtype.ordinal) {
      case 0:
      case 1:
      case 8:
      case 7:
        nextCommandString = ' ' + movementtype.svg_letter;
        break;
      case 9:
      case 5:
        nextCommandString = ' ' + movementtype.svg_letter + ' ' + movementWaypoint.midPoint1.x_0 + ',' + movementWaypoint.midPoint1.y_0 + ' ';
        break;
      case 10:
      case 6:
        nextCommandString = ' ' + movementtype.svg_letter + ' ' + movementWaypoint.midPoint1.x_0 + ',' + movementWaypoint.midPoint1.y_0 + ' ' + movementWaypoint.midPoint2.x_0 + ',' + movementWaypoint.midPoint2.y_0 + ' ';
    }
    path = path + nextCommandString;
    movementtype == ($clinit_MovementWaypoint$MovementType() , AbsoluteLoopToStart)?(path = path + ' z'):insertzvalues?(path = path + ' ' + movementWaypoint.pos.x_0 + ',' + movementWaypoint.pos.y_0 + ',' + movementWaypoint.pos.z_0):(path = path + ' ' + movementWaypoint.pos.x_0 + ',' + movementWaypoint.pos.y_0);
  }
  path = path + ' ';
  return $trim(path);
}

function $getCurrentLength(this$static){
  var dx, dy, lastX, lastY, length2, tit, vertex;
  length2 = 0;
  checkElementIndex(0, this$static.array.length);
  dynamicCast(this$static.array[0], 23);
  checkElementIndex(0, this$static.array.length);
  dynamicCast(this$static.array[0], 23);
  lastY = 0;
  lastX = 0;
  tit = new AbstractList$IteratorImpl(this$static);
  while (tit.i < tit.this$01_0.size_1()) {
    vertex = (checkCriticalElement(tit.i < tit.this$01_0.size_1()) , dynamicCast(tit.this$01_0.get_0(tit.last = tit.i++), 23));
    dy = abs_1(vertex.pos.y_0 - lastY);
    dx = abs_1(vertex.pos.x_0 - lastX);
    length2 = length2 + round_int(Math.sqrt(dx * dx + dy * dy));
    lastY = vertex.pos.y_0;
    lastX = vertex.pos.x_0;
  }
  this$static.PathLength = length2;
  return length2;
}

function $numberOfVertexs(this$static){
  if (dynamicCast($get(this$static, this$static.array.length - 1), 23).type_0 == ($clinit_MovementWaypoint$MovementType() , AbsoluteLoopToStart)) {
    return this$static.array.length - 1;
  }
  return this$static.array.length;
}

function $setPostAnimationCommands(this$static, runthese){
  this$static.postAnimationCommands = runthese;
}

function MovementPath(clonethispath){
  $clinit_MovementPath();
  ArrayList.call(this);
  $$init_8(this);
  this.pathsName = '_';
  this.pathFindingBroke = clonethispath.pathFindingBroke;
  $addAll_1(this, clonethispath);
}

function MovementPath_0(path, name_0){
  $clinit_MovementPath();
  var controllPoint1, controllPoint2, currentPoint, currentType, dest, i, len, wasrelative, waypointList;
  ArrayList.call(this);
  $$init_8(this);
  $info_1(Log_27, 'adding path:' + path);
  this.pathsName = name_0;
  waypointList = $split_0(path, ' ', 0);
  len = waypointList.length;
  i = 0;
  currentType = ($clinit_MovementWaypoint$MovementType() , RelativeLineTo);
  while (i < len) {
    currentPoint = $trim(waypointList[i]);
    ++i;
    if (currentPoint.length == 0) {
      continue;
    }
    if (currentPoint.length == 1 && !this.commandStoreMode) {
      currentType = getFromString(currentPoint);
      continue;
    }
    if ($equals_5(currentPoint.substr(0, 1), '[') && !this.commandStoreMode) {
      this.commandStore = __substr(currentPoint, 1, currentPoint.length - 1);
      this.commandStoreMode = true;
      continue;
    }
    if ($endsWith(currentPoint, ']') && this.commandStoreMode) {
      this.commandStore = this.commandStore + ' ' + $substring_0(currentPoint, 0, currentPoint.length - 1);
      this.commandStoreMode = false;
      $addMovementWayPoint_0(this, new MovementWaypoint_6(this.commandStore));
      continue;
    }
    if (this.commandStoreMode) {
      this.commandStore = this.commandStore + ' ' + currentPoint;
      continue;
    }
    if (!this.commandStoreMode) {
      switch (currentType.ordinal) {
        case 0:
        case 1:
        case 7:
        case 8:
          {
            dest = new Simple3DPoint_0(currentPoint);
            $addMovementWayPoint_0(this, new MovementWaypoint_2(currentType, dest));
            break;
          }

        case 9:
        case 5:
          {
            controllPoint1 = new Simple3DPoint_0(currentPoint);
            dest = new Simple3DPoint_0(waypointList[i]);
            ++i;
            $addMovementWayPoint_0(this, new MovementWaypoint_3(currentType, controllPoint1, dest));
            break;
          }

        case 10:
        case 6:
          {
            controllPoint1 = new Simple3DPoint_0(currentPoint);
            controllPoint2 = new Simple3DPoint_0(waypointList[i]);
            ++i;
            dest = new Simple3DPoint_0(waypointList[i]);
            ++i;
            $addMovementWayPoint_0(this, new MovementWaypoint_4(currentType, controllPoint1, controllPoint2, dest));
          }

      }
      if (currentType == AbsoluteMove || currentType == RelativeMove) {
        wasrelative = currentType.relativeMode;
        wasrelative?(currentType = RelativeLineTo):(currentType = AbsoluteLineTo);
      }
    }
  }
  $info_1(Log_27, '_________end of path type = ' + currentType);
  currentType == AbsoluteLoopToStart && $add_0(this, new MovementWaypoint_1(0, 0, AbsoluteLoopToStart));
}

defineClass(91, 18, {91:1, 3:1, 18:1, 25:1, 38:1, 68:1}, MovementPath, MovementPath_0);
_.add_0 = function add_28(newwp){
  return $addMovementWayPoint_0(this, dynamicCast(newwp, 23));
}
;
_.addAll = function addAll_5(col){
  return $addAll_1(this, col);
}
;
_.getAsDisplacedSVGPath = function getAsDisplacedSVGPath(dx, dy){
  return $getAsDisplacedSVGPath(this, dx, dy);
}
;
_.PathLength = 0;
_.commandStoreMode = false;
_.pathFindingBroke = false;
var Log_27;
var Lcom_lostagain_Jam_Movements_MovementPath_2_classLit = createForClass('com.lostagain.Jam.Movements', 'MovementPath', 91, Ljava_util_ArrayList_2_classLit);
function $clinit_Polygon(){
  $clinit_Polygon = emptyMethod;
  $clinit_MovementPath();
  allPolygons = new ArrayList;
}

function $generateOutSetPath(this$static){
  var num, outset, sideafter, sidebefore, vertex, vertex$iterator, vx, vy;
  this$static.outsetPath = new MovementPath_0('', this$static.pathsName + '_outset');
  num = 0;
  for (vertex$iterator = new AbstractList$IteratorImpl(this$static); vertex$iterator.i < vertex$iterator.this$01_0.size_1();) {
    vertex = (checkCriticalElement(vertex$iterator.i < vertex$iterator.this$01_0.size_1()) , dynamicCast(vertex$iterator.this$01_0.get_0(vertex$iterator.last = vertex$iterator.i++), 23));
    vx = vertex.pos.x_0;
    vy = vertex.pos.y_0;
    $info_1(($clinit_MovementPath() , Log_27), 'getting side:' + num);
    sidebefore = $getSide(this$static, num - 1, true);
    sideafter = $getSide(this$static, num, true);
    if (vertex.type_0 != ($clinit_MovementWaypoint$MovementType() , AbsoluteLoopToStart))
    ;
    else {
      $addMovementWayPoint(this$static.outsetPath, vertex.type_0, 0, 0);
      num = num + 1;
      continue;
    }
    outset = $insetCorner_0(sideafter.endPoint, sidebefore.endPoint, sidebefore.startPoint, outSetAmount);
    if (!outset) {
      $addMovementWayPoint(this$static.outsetPath, vertex.type_0, vx, vy);
      num = num + 1;
    }
     else {
      $addMovementWayPoint(this$static.outsetPath, vertex.type_0, outset.x_0, outset.y_0);
      num = num + 1;
    }
  }
  $info_1(($clinit_MovementPath() , Log_27), 'new path created:' + $getAsSVGPath(this$static.outsetPath, false));
}

function $getAsDisplacedSVGPath_0(this$static, dx, dy){
  if (this$static.incorporeal.value_0) {
    return $getAsDisplacedSVGPath(this$static, dx, dy);
  }
  return $getAsDisplacedSVGPath(this$static, dx, dy) + ' ' + this$static.outsetPath.getAsDisplacedSVGPath(dx, dy);
}

function $getNearestOutsidePoint(this$static, tx, ty){
  var distance, i, lastdistance, nearestpoint, point, side, sidecount;
  sidecount = $numberOfVertexs(this$static);
  lastdistance = 500000;
  nearestpoint = null;
  for (i = 0; i < sidecount; i++) {
    side = $getSide(this$static, i, false);
    point = $nearestPointOnThisTo(side, tx, ty);
    $info_1(($clinit_MovementPath() , Log_27), 'visually logging points');
    $addToSketch(dynamicCast(($clinit_SceneObjectDatabase() , currentScene_0).scenesCmap.get_1(), 73), 'M ' + point.pos.x_0 + ',' + point.pos.y_0 + ' L ' + (point.pos.x_0 + 1) + ',' + point.pos.y_0, 'ORANGE');
    distance = hypot(tx - point.pos.x_0, ty - point.pos.y_0);
    if (distance < lastdistance) {
      if (pointIsOutsideStageLimits(point.pos.x_0, point.pos.y_0)) {
        continue;
      }
      lastdistance = distance;
      nearestpoint = new SpiffyPolygonCollision(point.pos.x_0, point.pos.y_0, this$static, side, round_int(distance));
    }
  }
  return nearestpoint;
}

function $getOutsetWaypointX(this$static, i){
  return this$static.outsetPath?!this$static.sourceMap.associatedObject?dynamicCast($get(this$static.outsetPath, i), 23).pos.x_0:dynamicCast($get(this$static.outsetPath, i), 23).pos.x_0 + $getTopLeftBaseX(this$static.sourceMap.associatedObject):!this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.x_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.x_0 + $getTopLeftBaseX(this$static.sourceMap.associatedObject);
}

function $getOutsetWaypointY(this$static, i){
  return this$static.outsetPath?!this$static.sourceMap.associatedObject?dynamicCast($get(this$static.outsetPath, i), 23).pos.y_0:dynamicCast($get(this$static.outsetPath, i), 23).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject):!this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject);
}

function $getSide(this$static, SideNumber, relativeToAssociatedObject){
  var cur, dx, dy, end, start_0;
  SideNumber < 0 && (SideNumber = $numberOfVertexs(this$static) + SideNumber);
  SideNumber > $numberOfVertexs(this$static) && $info_1(($clinit_MovementPath() , Log_27), '_____________________****************____________getting side:' + SideNumber);
  dx = 0;
  dy = 0;
  if (!relativeToAssociatedObject) {
    if (this$static.sourceMap.associatedObject) {
      dx = $getTopLeftBaseX(this$static.sourceMap.associatedObject);
      dy = $getTopLeftBaseY(this$static.sourceMap.associatedObject);
    }
  }
  cur = (checkElementIndex(SideNumber, this$static.array.length) , dynamicCast(this$static.array[SideNumber], 23));
  start_0 = new Simple2DPoint(cur.pos.x_0 + dx, cur.pos.y_0 + dy);
  SideNumber + 1 > $numberOfVertexs(this$static) - 1?(cur = (checkElementIndex(0, this$static.array.length) , dynamicCast(this$static.array[0], 23))):(cur = (checkElementIndex(SideNumber + 1, this$static.array.length) , dynamicCast(this$static.array[SideNumber + 1], 23)));
  end = new Simple2DPoint(cur.pos.x_0 + dx, cur.pos.y_0 + dy);
  return new Polygon$PolySide_0(start_0, end, SideNumber);
}

function $getSideAsPath(this$static, C){
  var side, temp, x_0, x2, y_0, y2;
  $info_1(($clinit_MovementPath() , Log_27), 'MovementPath getting side as Path:' + C);
  side = $getSide(this$static, C, false);
  x_0 = side.startPoint.x_0;
  y_0 = side.startPoint.y_0;
  x2 = side.endPoint.x_0;
  y2 = side.endPoint.y_0;
  temp = new MovementPath_0('', 'tempside_' + C);
  $addMovementWayPoint_0(temp, new MovementWaypoint_1(x_0, y_0, ($clinit_MovementWaypoint$MovementType() , AbsoluteMove)));
  $addMovementWayPoint_0(temp, new MovementWaypoint_1(x2, y2, AbsoluteLineTo));
  return temp;
}

function $getWaypointX(this$static, i){
  return !this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.x_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.x_0 + $getTopLeftBaseX(this$static.sourceMap.associatedObject);
}

function $getWaypointY(this$static, i){
  return !this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject);
}

function $insetCorner(px, py, cx, cy, nx, ny, insetDist){
  var c1, c2, d1, d2, dx1, dx2, dy1, dy2, insectPoint, insetX, insetY, linedisnext, linedisprev;
  c1 = cx;
  d1 = cy;
  c2 = cx;
  d2 = cy;
  dx1 = cx - px;
  dy1 = cy - py;
  linedisprev = Math.sqrt(dx1 * dx1 + dy1 * dy1);
  dx2 = nx - cx;
  dy2 = ny - cy;
  linedisnext = Math.sqrt(dx2 * dx2 + dy2 * dy2);
  if (linedisprev == 0 || linedisnext == 0) {
    $info_1(($clinit_MovementPath() , Log_27), 'segments are zero length:' + linedisprev + ',' + linedisnext);
    return null;
  }
  insetX = dy1 / linedisprev * insetDist;
  px += insetX;
  c1 += insetX;
  insetY = -dx1 / linedisprev * insetDist;
  py += insetY;
  d1 += insetY;
  insetX = dy2 / linedisnext * insetDist;
  nx += insetX;
  c2 += insetX;
  insetY = -dx2 / linedisnext * insetDist;
  ny += insetY;
  d2 += insetY;
  if (c1 == c2 && d1 == d2) {
    return new Simple2DPoint(round_int(c1), round_int(d1));
  }
  insectPoint = lineIntersection(px, py, c1, d1, c2, d2, nx, ny);
  if (insectPoint) {
    return new Simple2DPoint(insectPoint.x_0, insectPoint.y_0);
  }
   else {
    $info_1(($clinit_MovementPath() , Log_27), 'line points:' + px + ',' + py + ' - ' + c1 + ',' + d1 + '   ' + c2 + ',' + d2 + ' - ' + nx + ',' + ny);
    $info_1(Log_27, 'no intersect point found');
  }
  return null;
}

function $insetCorner_0(previous, current, next, dis){
  return $insetCorner(previous.x_0, previous.y_0, current.x_0, current.y_0, next.x_0, next.y_0, dis);
}

function $isBoxInside(this$static, tlx, tly, brx, bry){
  var bottom, bottomleft, bottomright, left, right, top_0, topleft, topright;
  topleft = new Simple2DPoint(tlx, tly);
  topright = new Simple2DPoint(brx, tly);
  bottomleft = new Simple2DPoint(tlx, bry);
  bottomright = new Simple2DPoint(brx, bry);
  top_0 = new Polygon$PolySide(topleft, topright, 0);
  right = new Polygon$PolySide(topright, bottomright, 1);
  bottom = new Polygon$PolySide(bottomright, bottomleft, 2);
  left = new Polygon$PolySide(bottomleft, topleft, 3);
  if ($testForCollision(this$static, top_0.startPoint, top_0.endPoint)) {
    $info_1(($clinit_MovementPath() , Log_27), '___________________top collision');
    return true;
  }
  if ($testForCollision(this$static, right.startPoint, right.endPoint)) {
    $info_1(($clinit_MovementPath() , Log_27), '___________________right collision');
    return true;
  }
  if ($testForCollision(this$static, bottom.startPoint, bottom.endPoint)) {
    $info_1(($clinit_MovementPath() , Log_27), '___________________bottom collision');
    return true;
  }
  if ($testForCollision(this$static, left.startPoint, left.endPoint)) {
    $info_1(($clinit_MovementPath() , Log_27), '___________________left collision');
    return true;
  }
  if ($isPointInside(this$static, topleft.x_0, topleft.y_0)) {
    $info_1(($clinit_MovementPath() , Log_27), '___________________contained within');
    return true;
  }
  if ($isThisContainedBy(this$static, tlx, tly, brx, bry)) {
    $info_1(($clinit_MovementPath() , Log_27), '___________________topleft point collision');
    return true;
  }
  return false;
}

function $isLineTouching(this$static, linestart, lineend){
  var j, ourTotalSides, testagainst;
  ourTotalSides = $numberOfVertexs(this$static);
  for (j = 0; j < ourTotalSides; j++) {
    testagainst = $getSide(this$static, j, false);
    if (lineIntersect(testagainst.startPoint, testagainst.endPoint, linestart, lineend)) {
      return true;
    }
  }
  return false;
}

function $isPointInside(this$static, x_0, y_0){
  var i, j, oddNodes, polySides;
  polySides = $numberOfVertexs(this$static);
  j = $numberOfVertexs(this$static) - 1;
  oddNodes = false;
  for (i = 0; i < polySides; i++) {
    ((!this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject)) < y_0 && (!this$static.sourceMap.associatedObject?(checkElementIndex(j, this$static.array.length) , dynamicCast(this$static.array[j], 23)).pos.y_0:(checkElementIndex(j, this$static.array.length) , dynamicCast(this$static.array[j], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject)) >= y_0 || (!this$static.sourceMap.associatedObject?(checkElementIndex(j, this$static.array.length) , dynamicCast(this$static.array[j], 23)).pos.y_0:(checkElementIndex(j, this$static.array.length) , dynamicCast(this$static.array[j], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject)) < y_0 && (!this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject)) >= y_0) && (!this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.x_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.x_0 + $getTopLeftBaseX(this$static.sourceMap.associatedObject)) + (y_0 - (!this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject))) / ((!this$static.sourceMap.associatedObject?(checkElementIndex(j, this$static.array.length) , dynamicCast(this$static.array[j], 23)).pos.y_0:(checkElementIndex(j, this$static.array.length) , dynamicCast(this$static.array[j], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject)) - (!this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject))) * ((!this$static.sourceMap.associatedObject?(checkElementIndex(j, this$static.array.length) , dynamicCast(this$static.array[j], 23)).pos.x_0:(checkElementIndex(j, this$static.array.length) , dynamicCast(this$static.array[j], 23)).pos.x_0 + $getTopLeftBaseX(this$static.sourceMap.associatedObject)) - (!this$static.sourceMap.associatedObject?(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.x_0:(checkElementIndex(i, this$static.array.length) , dynamicCast(this$static.array[i], 23)).pos.x_0 + $getTopLeftBaseX(this$static.sourceMap.associatedObject))) < x_0 && (oddNodes = !oddNodes);
    j = i;
  }
  return oddNodes;
}

function $isPolygonTouching(this$static, testThis){
  var i, testThisSide, testingAgainstTotalSides, wasTouching;
  testingAgainstTotalSides = $numberOfVertexs(testThis);
  wasTouching = false;
  for (i = 0; i < testingAgainstTotalSides; i++) {
    testThisSide = $getSide(testThis, i, false);
    if ($isLineTouching(this$static, testThisSide.startPoint, testThisSide.endPoint)) {
      wasTouching = true;
      break;
    }
  }
  wasTouching?this$static.knownPolygons.put(testThis, ($clinit_Polygon$knownstate() , KnownAsTouching)):this$static.knownPolygons.put(testThis, ($clinit_Polygon$knownstate() , KnownAsNotTouching));
  return wasTouching;
}

function $isThisContainedBy(this$static, tlx, tly, brx, bry){
  var testX, testY;
  testX = !this$static.sourceMap.associatedObject?(checkElementIndex(0, this$static.array.length) , dynamicCast(this$static.array[0], 23)).pos.x_0:(checkElementIndex(0, this$static.array.length) , dynamicCast(this$static.array[0], 23)).pos.x_0 + $getTopLeftBaseX(this$static.sourceMap.associatedObject);
  testY = !this$static.sourceMap.associatedObject?(checkElementIndex(0, this$static.array.length) , dynamicCast(this$static.array[0], 23)).pos.y_0:(checkElementIndex(0, this$static.array.length) , dynamicCast(this$static.array[0], 23)).pos.y_0 + $getTopLeftBaseY(this$static.sourceMap.associatedObject);
  if (testX > tlx && testX < brx) {
    if (testY > tly && testY < bry) {
      return true;
    }
  }
  return false;
}

function $testForCollision(this$static, start_0, end){
  var currentNearestCollision, currentside, curside, distance, endEnclosed, hit, startEnclosed;
  if (this$static.incorporeal.value_0) {
    return null;
  }
  currentside = 0;
  currentNearestCollision = null;
  startEnclosed = $isPointInside(this$static, start_0.x_0, start_0.y_0);
  if (startEnclosed) {
    endEnclosed = $isPointInside(this$static, end.x_0, end.y_0);
    if (endEnclosed) {
      currentNearestCollision = new SpiffyPolygonCollision(start_0.x_0, start_0.y_0, this$static, null, 0);
      $info_1(($clinit_MovementPath() , Log_27), 'line:  ' + start_0 + '>>' + end + ' is fully enclosed by a polygon, returning a SpiffyPolygonCollision with null side');
      return currentNearestCollision;
    }
  }
  while (currentside <= $numberOfVertexs(this$static) - 1) {
    curside = $getSide(this$static, currentside, false);
    hit = lineIntersect(start_0, end, curside.startPoint, curside.endPoint);
    if (hit) {
      distance = round_int(hypot(abs_1(start_0.x_0 - hit.x_0), abs_1(start_0.y_0 - hit.y_0)));
      !currentNearestCollision && (currentNearestCollision = new SpiffyPolygonCollision(hit.x_0, hit.y_0, this$static, curside, distance));
      distance < currentNearestCollision.distance && (currentNearestCollision = new SpiffyPolygonCollision(hit.x_0, hit.y_0, this$static, curside, distance));
    }
    ++currentside;
  }
  return currentNearestCollision;
}

function Polygon(path, name_0, sourceMap, incorporeal){
  $clinit_Polygon();
  MovementPath_0.call(this, path, name_0);
  this.incorporeal = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  this.knownPolygons = ($clinit_Maps() , new HashMap);
  this.sourceMap = sourceMap;
  this.incorporeal = incorporeal;
  allPolygons.add_0(this);
}

function lineIntersect(line1start, line1end, line2start, line2end){
  return lineSegmentIntersect(line1start.x_0, line1start.y_0, line1end.x_0, line1end.y_0, line2start.x_0, line2start.y_0, line2end.x_0, line2end.y_0);
}

function lineIntersection(Ax, Ay, Bx, By, Cx, Cy, Dx, Dy){
  var ABpos, distAB, interX, interY, newX, theCos, theSin;
  if (Ax == Bx && Ay == By || Cx == Dx && Cy == Dy) {
    return null;
  }
  Bx -= Ax;
  By -= Ay;
  Cx -= Ax;
  Cy -= Ay;
  Dx -= Ax;
  Dy -= Ay;
  distAB = Math.sqrt(Bx * Bx + By * By);
  theCos = Bx / distAB;
  theSin = By / distAB;
  newX = Cx * theCos + Cy * theSin;
  Cy = Cy * theCos - Cx * theSin;
  Cx = newX;
  newX = Dx * theCos + Dy * theSin;
  Dy = Dy * theCos - Dx * theSin;
  if (Cy == Dy) {
    return null;
  }
  ABpos = newX + (Cx - newX) * Dy / (Dy - Cy);
  interX = Ax + ABpos * theCos;
  interY = Ay + ABpos * theSin;
  return new Simple2DPoint(round_int(interX), round_int(interY));
}

function lineSegmentIntersect(x1, y1, x2, y2, x3, y3, x4, y4){
  $clinit_Polygon();
  var denom, ua, ub;
  denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);
  if (denom == 0) {
    return null;
  }
  ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / denom;
  ub = ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) / denom;
  if (ua >= 0 && ua <= 1 && ub >= 0 && ub <= 1) {
    return new Simple2DPoint(round_int(x1 + ua * (x2 - x1)), round_int(y1 + ua * (y2 - y1)));
  }
  return null;
}

function pointIsOutsideStageLimits(x_0, y_0){
  if (x_0 < 0) {
    return true;
  }
  if (y_0 < 0) {
    return true;
  }
  if (x_0 > ($clinit_SceneObjectDatabase() , currentScene_0).scenesData.InternalSizeX) {
    return true;
  }
  if (y_0 > currentScene_0.scenesData.InternalSizeY) {
    return true;
  }
  return false;
}

function removeFromAllcaches(resetthese){
  $clinit_Polygon();
  var polygon, polygon$iterator, polytoremove, polytoremove$iterator;
  for (polygon$iterator = new AbstractList$IteratorImpl(allPolygons); polygon$iterator.i < polygon$iterator.this$01_0.size_1();) {
    polygon = (checkCriticalElement(polygon$iterator.i < polygon$iterator.this$01_0.size_1()) , dynamicCast(polygon$iterator.this$01_0.get_0(polygon$iterator.last = polygon$iterator.i++), 100));
    for (polytoremove$iterator = new AbstractList$IteratorImpl(resetthese); polytoremove$iterator.i < polytoremove$iterator.this$01_0.size_1();) {
      polytoremove = (checkCriticalElement(polytoremove$iterator.i < polytoremove$iterator.this$01_0.size_1()) , dynamicCast(polytoremove$iterator.this$01_0.get_0(polytoremove$iterator.last = polytoremove$iterator.i++), 100));
      polygon.knownPolygons.remove_3(polytoremove);
    }
  }
}

defineClass(100, 91, {100:1, 91:1, 3:1, 18:1, 25:1, 38:1, 68:1}, Polygon);
_.getAsDisplacedSVGPath = function getAsDisplacedSVGPath_0(dx, dy){
  return $getAsDisplacedSVGPath_0(this, dx, dy);
}
;
var allPolygons, outSetAmount = 32;
var Lcom_lostagain_Jam_CollisionMap_Polygon_2_classLit = createForClass('com.lostagain.Jam.CollisionMap', 'Polygon', 100, Lcom_lostagain_Jam_Movements_MovementPath_2_classLit);
function $$init_9(this$static){
}

function $nearestPointOnThisTo(this$static, targetX, targetY){
  var A, B, C, D, dot, len_sq, param, point, x1, x2, xx, y1, y2, yy;
  x1 = this$static.startPoint.x_0;
  y1 = this$static.startPoint.y_0;
  x2 = this$static.endPoint.x_0;
  y2 = this$static.endPoint.y_0;
  A = targetX - x1;
  B = targetY - y1;
  C = x2 - x1;
  D = y2 - y1;
  dot = A * C + B * D;
  len_sq = C * C + D * D;
  param = -1;
  len_sq != 0 && (param = dot / len_sq);
  if (param < 0) {
    xx = x1;
    yy = y1;
  }
   else if (param > 1) {
    xx = x2;
    yy = y2;
  }
   else {
    xx = x1 + param * C;
    yy = y1 + param * D;
  }
  point = new MovementWaypoint_1(round_int(xx), round_int(yy), ($clinit_MovementWaypoint$MovementType() , AbsoluteMove));
  return point;
}

function Polygon$PolySide(startPoint, endPoint, startVertexNumber){
  $$init_9(this);
  this.startPoint = startPoint;
  this.endPoint = endPoint;
  this.startVertexNumber = startVertexNumber;
}

function Polygon$PolySide_0(startPoint, endPoint, startVertexNumber){
  $$init_9(this);
  this.startPoint = startPoint;
  this.endPoint = endPoint;
  this.startVertexNumber = startVertexNumber;
}

defineClass(301, 1, {}, Polygon$PolySide, Polygon$PolySide_0);
_.toString$ = function toString_55(){
  return this.startPoint.x_0 + ',' + this.startPoint.y_0 + '-->' + this.endPoint.x_0 + ',' + this.endPoint.y_0;
}
;
_.startVertexNumber = -1;
var Lcom_lostagain_Jam_CollisionMap_Polygon$PolySide_2_classLit = createForClass('com.lostagain.Jam.CollisionMap', 'Polygon/PolySide', 301, Ljava_lang_Object_2_classLit);
function $clinit_Polygon$knownstate(){
  $clinit_Polygon$knownstate = emptyMethod;
  KnownAsTouching = new Polygon$knownstate('KnownAsTouching', 0);
  KnownAsNotTouching = new Polygon$knownstate('KnownAsNotTouching', 1);
}

function Polygon$knownstate(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_24(name_0){
  $clinit_Polygon$knownstate();
  return valueOf(($clinit_Polygon$knownstate$Map() , $MAP_22), name_0);
}

function values_30(){
  $clinit_Polygon$knownstate();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_CollisionMap_Polygon$knownstate_2_classLit, 1), $intern_1, 302, 0, [KnownAsTouching, KnownAsNotTouching]);
}

defineClass(302, 9, {302:1, 3:1, 21:1, 9:1}, Polygon$knownstate);
var KnownAsNotTouching, KnownAsTouching;
var Lcom_lostagain_Jam_CollisionMap_Polygon$knownstate_2_classLit = createForEnum('com.lostagain.Jam.CollisionMap', 'Polygon/knownstate', 302, Ljava_lang_Enum_2_classLit, values_30, valueOf_24);
function $clinit_Polygon$knownstate$Map(){
  $clinit_Polygon$knownstate$Map = emptyMethod;
  $MAP_22 = createValueOfMap(($clinit_Polygon$knownstate() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_CollisionMap_Polygon$knownstate_2_classLit, 1), $intern_1, 302, 0, [KnownAsTouching, KnownAsNotTouching])));
}

var $MAP_22;
function $clinit_PolygonCollisionMap(){
  $clinit_PolygonCollisionMap = emptyMethod;
  GreyLog = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.PolygonCollisionMap'));
}

function $checkWithinRegion(this$static, regionName, xToTest, yToTest){
  var isInside, poly, poly$iterator;
  isInside = false;
  for (poly$iterator = new AbstractList$IteratorImpl(this$static); poly$iterator.i < poly$iterator.this$01_0.size_1();) {
    poly = (checkCriticalElement(poly$iterator.i < poly$iterator.this$01_0.size_1()) , dynamicCast(poly$iterator.this$01_0.get_0(poly$iterator.last = poly$iterator.i++), 100));
    if ($equalsIgnoreCase(poly.pathsName, regionName)) {
      $info_1(GreyLog, 'testing region:' + regionName + ' contains ' + xToTest + ',' + yToTest);
      isInside = $isPointInside(poly, xToTest, yToTest);
    }
  }
  return isInside;
}

function $clearTouchingCache(this$static){
  var poly, poly$iterator;
  for (poly$iterator = new AbstractList$IteratorImpl(this$static); poly$iterator.i < poly$iterator.this$01_0.size_1();) {
    poly = (checkCriticalElement(poly$iterator.i < poly$iterator.this$01_0.size_1()) , dynamicCast(poly$iterator.this$01_0.get_0(poly$iterator.last = poly$iterator.i++), 100));
    poly.knownPolygons.clear_1();
  }
}

function $getPath(this$static){
  var Path_0, color_0, pit, polygon, object;
  Path_0 = '';
  pit = new AbstractList$IteratorImpl(this$static);
  while (pit.i < pit.this$01_0.size_1()) {
    polygon = (checkCriticalElement(pit.i < pit.this$01_0.size_1()) , dynamicCast(pit.this$01_0.get_0(pit.last = pit.i++), 100));
    polygon.incorporeal.value_0?(color_0 = 'rgba(5,65,5,0.5)'):(color_0 = 'rgba(65,5,5,0.5)');
    this$static.associatedObject?(Path_0 = Path_0 + '<path id="lineBC" d="' + (object = polygon.sourceMap.associatedObject , $getAsDisplacedSVGPath_0(polygon, $getTopLeftBaseX(object), $getTopLeftBaseY(object))) + '" stroke="' + this$static.PathColor + '" stroke-width="3" fill="' + color_0 + '" />'):(Path_0 = Path_0 + '<path id="lineBC" d="' + $getAsSVGPath(polygon, false) + '" stroke="' + this$static.PathColor + '" stroke-width="3" fill="rgba(45,5,25,0.5)" style="opacity:0.5" />');
  }
  return Path_0;
}

function $getSidesPath(this$static, PolygomNum, sidenumber){
  var Path_0;
  Path_0 = '<path id="linesSide" d="' + $getAsSVGPath($getSideAsPath((checkElementIndex(PolygomNum, this$static.array.length) , dynamicCast(this$static.array[PolygomNum], 100)), sidenumber), false) + '" stroke="' + 'green' + '" stroke-width="3" fill="rgba(5,65,5,0.5)" />';
  return Path_0;
}

function $isCollidingWith(this$static, map_0){
  var polygon, polygon$iterator, test_0, testpolygon, testpolygon$iterator;
  for (polygon$iterator = new AbstractList$IteratorImpl(this$static); polygon$iterator.i < polygon$iterator.this$01_0.size_1();) {
    polygon = (checkCriticalElement(polygon$iterator.i < polygon$iterator.this$01_0.size_1()) , dynamicCast(polygon$iterator.this$01_0.get_0(polygon$iterator.last = polygon$iterator.i++), 100));
    if (polygon.incorporeal.value_0) {
      continue;
    }
    for (testpolygon$iterator = new AbstractList$IteratorImpl(map_0); testpolygon$iterator.i < testpolygon$iterator.this$01_0.size_1();) {
      testpolygon = (checkCriticalElement(testpolygon$iterator.i < testpolygon$iterator.this$01_0.size_1()) , dynamicCast(testpolygon$iterator.this$01_0.get_0(testpolygon$iterator.last = testpolygon$iterator.i++), 100));
      if (testpolygon.incorporeal.value_0) {
        continue;
      }
      if ($isPointInside(polygon, !testpolygon.sourceMap.associatedObject?(checkElementIndex(0, testpolygon.array.length) , dynamicCast(testpolygon.array[0], 23)).pos.x_0:(checkElementIndex(0, testpolygon.array.length) , dynamicCast(testpolygon.array[0], 23)).pos.x_0 + $getTopLeftBaseX(testpolygon.sourceMap.associatedObject), !testpolygon.sourceMap.associatedObject?(checkElementIndex(0, testpolygon.array.length) , dynamicCast(testpolygon.array[0], 23)).pos.y_0:(checkElementIndex(0, testpolygon.array.length) , dynamicCast(testpolygon.array[0], 23)).pos.y_0 + $getTopLeftBaseY(testpolygon.sourceMap.associatedObject))) {
        return true;
      }
      if ($isPointInside(testpolygon, !polygon.sourceMap.associatedObject?(checkElementIndex(0, polygon.array.length) , dynamicCast(polygon.array[0], 23)).pos.x_0:(checkElementIndex(0, polygon.array.length) , dynamicCast(polygon.array[0], 23)).pos.x_0 + $getTopLeftBaseX(polygon.sourceMap.associatedObject), !polygon.sourceMap.associatedObject?(checkElementIndex(0, polygon.array.length) , dynamicCast(polygon.array[0], 23)).pos.y_0:(checkElementIndex(0, polygon.array.length) , dynamicCast(polygon.array[0], 23)).pos.y_0 + $getTopLeftBaseY(polygon.sourceMap.associatedObject))) {
        return true;
      }
      test_0 = $isPolygonTouching(polygon, testpolygon);
      if (test_0) {
        return true;
      }
    }
  }
  return false;
}

function $isCollidingWith_0(this$static, point){
  var polygon, polygon$iterator;
  for (polygon$iterator = new AbstractList$IteratorImpl(this$static); polygon$iterator.i < polygon$iterator.this$01_0.size_1();) {
    polygon = (checkCriticalElement(polygon$iterator.i < polygon$iterator.this$01_0.size_1()) , dynamicCast(polygon$iterator.this$01_0.get_0(polygon$iterator.last = polygon$iterator.i++), 100));
    if (polygon.incorporeal.value_0) {
      continue;
    }
    if ($isPointInside(polygon, point.x_0, point.y_0)) {
      return true;
    }
  }
  return false;
}

function $isCollidingWith_1(this$static, linestart, lineend){
  var polygon, polygon$iterator;
  for (polygon$iterator = new AbstractList$IteratorImpl(this$static); polygon$iterator.i < polygon$iterator.this$01_0.size_1();) {
    polygon = (checkCriticalElement(polygon$iterator.i < polygon$iterator.this$01_0.size_1()) , dynamicCast(polygon$iterator.this$01_0.get_0(polygon$iterator.last = polygon$iterator.i++), 100));
    if (polygon.incorporeal.value_0) {
      continue;
    }
    if ($isLineTouching(polygon, linestart, lineend)) {
      return true;
    }
     else {
      if ($isPointInside(polygon, linestart.x_0, linestart.y_0)) {
        return true;
      }
    }
  }
  return false;
}

function $isCollidingWith_2(this$static, ourbox){
  var bottomleft, bottomright, topRight, topleft;
  topleft = ourbox.topleft;
  bottomright = ourbox.bottomright;
  topRight = new Simple2DPoint(bottomright.x_0, topleft.y_0);
  bottomleft = new Simple2DPoint(topleft.x_0, bottomright.y_0);
  if ($isCollidingWith_1(this$static, topleft, topRight)) {
    return true;
  }
  if ($isCollidingWith_1(this$static, topRight, bottomright)) {
    return true;
  }
  if ($isCollidingWith_1(this$static, bottomright, bottomleft)) {
    return true;
  }
  if ($isCollidingWith_1(this$static, bottomleft, topleft)) {
    return true;
  }
  return false;
}

function PolygonCollisionMap(rawData, associatedObject){
  $clinit_PolygonCollisionMap();
  var DefaultPolygonName, ghost, line, line$index, line$max, lines, np, polyname;
  ArrayList.call(this);
  this.PathColor = 'red';
  this.associatedObject = null;
  this.currentPoly = 0;
  this.currentSide = 0;
  this.hasCoporalPart = false;
  this.associatedObject = associatedObject;
  DefaultPolygonName = 'sceneobject';
  !!associatedObject && (DefaultPolygonName = associatedObject.getObjectsCurrentState_1().ObjectsName);
  lines = $split_0($trim(rawData), '\r', 0);
  for (line$index = 0 , line$max = lines.length; line$index < line$max; ++line$index) {
    line = lines[line$index];
    if (line.length > 3) {
      polyname = DefaultPolygonName;
      ghost = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
      if (line.indexOf('=') != -1) {
        polyname = $trim($split_0(line, '=', 0)[0]);
        line = $split_0(line, '=', 0)[1];
        ghost = (null , TRUE_3);
      }
      np = new Polygon($trim(line), polyname, this, ghost);
      if (!np.incorporeal.value_0) {
        $generateOutSetPath(np);
        this.hasCoporalPart = true;
      }
      setCheck(this.array, this.array.length, np);
    }
  }
  !!associatedObject && $ObjectsLog_0(associatedObject, 'svg path is:' + $getPath(this), 'blue');
}

defineClass(94, 18, {94:1, 3:1, 18:1, 25:1, 38:1, 68:1}, PolygonCollisionMap);
_.currentPoly = 0;
_.currentSide = 0;
_.hasCoporalPart = false;
var GreyLog;
var Lcom_lostagain_Jam_CollisionMap_PolygonCollisionMap_2_classLit = createForClass('com.lostagain.Jam.CollisionMap', 'PolygonCollisionMap', 94, Ljava_util_ArrayList_2_classLit);
function $clinit_SceneCollisionMap(){
  $clinit_SceneCollisionMap = emptyMethod;
  Log_28 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneCollisionMap'));
  CollisionLogger = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
}

function $addToSketch(this$static, sketchSVGPath, color_0){
  this$static.CMapVisualiser.isPresent() && $addToSketch_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102), sketchSVGPath, color_0);
}

function $clearCalculatedPath(this$static){
  this$static.CMapVisualiser.isPresent() && $setHTML(dynamicCast(dynamicCast(this$static.CMapVisualiser.get_1(), 102), 217).svgCalculatedPath, '');
}

function $clearSketch(this$static){
  this$static.CMapVisualiser.isPresent() && $clearSketch_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102));
}

function $findFirstCollision(this$static, dx, dy, x_0, y_0){
  var cit, end, nc, pc, polygon, sit, so, soit, start_0;
  start_0 = new Simple2DPoint(dx, dy);
  end = new Simple2DPoint(x_0, y_0);
  sit = new AbstractList$IteratorImpl(this$static.scenesOwnMap);
  pc = null;
  while (sit.i < sit.this$01_0.size_1()) {
    polygon = (checkCriticalElement(sit.i < sit.this$01_0.size_1()) , dynamicCast(sit.this$01_0.get_0(sit.last = sit.i++), 100));
    nc = $testForCollision(polygon, start_0, end);
    if (nc) {
      if (!pc || nc.distance < pc.distance) {
        pc = nc;
        this$static.lastCollision = nc.collidingObject.sourceMap;
      }
    }
  }
  soit = new AbstractList$IteratorImpl(this$static.sourcescene.scenesData.scenesOriginalObjects);
  while (soit.i < soit.this$01_0.size_1()) {
    so = (checkCriticalElement(soit.i < soit.this$01_0.size_1()) , dynamicCast(soit.this$01_0.get_0(soit.last = soit.i++), 24));
    if (!so.isVisible()) {
      continue;
    }
    if (so.cmap.isPresent()) {
      cit = new AbstractList$IteratorImpl(dynamicCast(so.cmap.get_1(), 94));
      while (cit.i < cit.this$01_0.size_1()) {
        polygon = (checkCriticalElement(cit.i < cit.this$01_0.size_1()) , dynamicCast(cit.this$01_0.get_0(cit.last = cit.i++), 100));
        if (polygon.incorporeal.value_0) {
          $info_1(Log_28, 'skipping incoporal polygon');
          continue;
        }
        nc = $testForCollision(polygon, start_0, end);
        if (nc) {
          $info_1(Log_28, 'cf');
          if (!pc || nc.distance < pc.distance) {
            CollisionLogInfo('new collision = ......' + nc.distance);
            pc = nc;
            this$static.lastCollision = nc.collidingObject.sourceMap;
          }
        }
      }
    }
  }
  return pc;
}

function $findFirstCollision_0(this$static, dx, dy, x_0, y_0, BottomLeftofBB, Width){
  var CollisionSide, blend, blstart, brend, brstart, cit, end, nc, nc_left, nc_right, pc, polygon, sit, so, soit, start_0;
  CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , 'testing objects for scene collision.......'));
  end = new Simple2DPoint(dx, dy);
  start_0 = new Simple2DPoint(x_0, y_0);
  brend = new Simple2DPoint(dx + BottomLeftofBB.x_0 + Width, dy);
  brstart = new Simple2DPoint(x_0 + BottomLeftofBB.x_0 + Width, y_0);
  CollisionLogInfo('bottom right start is....................' + brend.x_0 + ',' + brend.y_0);
  $addToSketch(this$static, 'M ' + brstart.x_0 + ',' + brstart.y_0 + ' L ' + brend.x_0 + ',' + brend.y_0, 'black');
  blend = new Simple2DPoint(dx + BottomLeftofBB.x_0, dy);
  blstart = new Simple2DPoint(x_0 + BottomLeftofBB.x_0, y_0);
  CollisionLogInfo('bottom left start is....................' + blend.x_0 + ',' + blend.y_0);
  $addToSketch(this$static, 'M ' + blstart.x_0 + ',' + blstart.y_0 + ' L ' + blend.x_0 + ',' + blend.y_0, 'white');
  CollisionSide = 2;
  sit = new AbstractList$IteratorImpl(this$static.scenesOwnMap);
  pc = null;
  while (sit.i < sit.this$01_0.size_1()) {
    polygon = (checkCriticalElement(sit.i < sit.this$01_0.size_1()) , dynamicCast(sit.this$01_0.get_0(sit.last = sit.i++), 100));
    nc = $testForCollision(polygon, start_0, end);
    if (nc) {
      if (!pc || nc.distance < pc.distance) {
        pc = nc;
        this$static.lastCollision = nc.collidingObject.sourceMap;
        CollisionSide = 2;
      }
    }
    nc_left = $testForCollision(polygon, blstart, blend);
    if (nc_left) {
      if (!pc || nc_left.distance < pc.distance) {
        pc = nc_left;
        this$static.lastCollision = nc_left.collidingObject.sourceMap;
        CollisionSide = 0;
      }
    }
    nc_right = $testForCollision(polygon, brstart, brend);
    if (nc_right) {
      if (!pc || nc_right.distance < pc.distance) {
        pc = nc_right;
        this$static.lastCollision = nc_right.collidingObject.sourceMap;
        CollisionSide = 1;
      }
    }
  }
  soit = new AbstractList$IteratorImpl(this$static.sourcescene.scenesData.scenesOriginalObjects);
  while (soit.i < soit.this$01_0.size_1()) {
    so = (checkCriticalElement(soit.i < soit.this$01_0.size_1()) , dynamicCast(soit.this$01_0.get_0(soit.last = soit.i++), 24));
    if (so.cmap.isPresent()) {
      cit = new AbstractList$IteratorImpl(dynamicCast(so.cmap.get_1(), 94));
      while (cit.i < cit.this$01_0.size_1()) {
        polygon = (checkCriticalElement(cit.i < cit.this$01_0.size_1()) , dynamicCast(cit.this$01_0.get_0(cit.last = cit.i++), 100));
        if (polygon.incorporeal.value_0) {
          continue;
        }
        if (!$isVisible(polygon.sourceMap.associatedObject.internalFocusPanel)) {
          continue;
        }
        nc = $testForCollision(polygon, start_0, end);
        if (nc) {
          if (!pc || nc.distance < pc.distance) {
            CollisionLogInfo('new collision = ......' + nc.distance);
            pc = nc;
            this$static.lastCollision = nc.collidingObject.sourceMap;
            CollisionSide = 2;
          }
        }
        nc_left = $testForCollision(polygon, blstart, blend);
        if (nc_left) {
          if (!pc || nc_left.distance < pc.distance) {
            pc = nc_left;
            this$static.lastCollision = nc_left.collidingObject.sourceMap;
            $addToSketch(this$static, 'M ' + nc_left.X + ',' + nc_left.Y + ' l ' + 8 + ',' + 0, 'purple');
            CollisionSide = 0;
          }
        }
        nc_right = $testForCollision(polygon, brstart, brend);
        if (nc_right) {
          if (!pc || nc_right.distance < pc.distance) {
            pc = nc_right;
            this$static.lastCollision = nc_right.collidingObject.sourceMap;
            CollisionSide = 1;
            $addToSketch(this$static, 'M ' + nc_right.X + ',' + nc_right.Y + ' l ' + 8 + ',' + 0, 'cyan');
          }
        }
      }
    }
  }
  if (CollisionSide != 2) {
    CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , 'non central collision'));
    if (CollisionSide == 0) {
      $addToSketch(this$static, 'M ' + pc.X + ',' + pc.Y + ' l ' + 5 + ',' + 0, 'purple');
      pc.X = pc.X - BottomLeftofBB.x_0;
      pc.Y = pc.Y + BottomLeftofBB.y_0;
      CollisionLogInfo('adjusted left collision:' + pc.X + ',' + pc.Y);
      $addToSketch(this$static, 'M ' + pc.X + ',' + pc.Y + ' l ' + 5 + ',' + 0, 'purple');
    }
    if (CollisionSide == 1) {
      $addToSketch(this$static, 'M ' + pc.X + ',' + pc.Y + ' l ' + 5 + ',' + 0, 'cyan');
      pc.X = pc.X - (Width + BottomLeftofBB.x_0);
      pc.Y = pc.Y + BottomLeftofBB.y_0;
      $addToSketch(this$static, 'M ' + pc.X + ',' + pc.Y + ' l ' + 5 + ',' + 0, 'orange');
      CollisionLogInfo('adjusted right collision:' + pc.X + ',' + pc.Y);
    }
  }
  return pc;
}

function $findPathBetweenAndAddToExistingPath(this$static, dx, dy, np, direction, object, lastCollision){
  var fc, lowerLeft, nsp, possibilityOne, possibilityTwo, sx, sy;
  sx = dynamicCast($get(np, np.array.length - 1), 23).pos.x_0;
  sy = dynamicCast($get(np, np.array.length - 1), 23).pos.y_0;
  this$static.collision_margin = ~~(object.getObjectWidth() / 2) + 15;
  lowerLeft = object.getLowerLeftDisplacement();
  fc = $findFirstCollision_0(this$static, dx, dy, sx, sy, lowerLeft, object.getObjectWidth());
  if (fc) {
    CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , '__collision:'));
    CollisionLogInfo('__location of hit:' + fc.X + ',' + fc.Y + '  distance:' + fc.distance + ' ');
    if (fc.collidingObject.sourceMap.associatedObject) {
      CollisionLogInfo('__with object: ' + fc.collidingObject.sourceMap.associatedObject.getObjectsCurrentState_1().ObjectsName);
      if (lastCollision) {
        if (lastCollision.collidingObject != fc.collidingObject) {
          direction = 2;
          CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , '__direction reset to bidirection check_'));
        }
         else {
          CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , '__colliding object hasnt changed_'));
        }
      }
    }
    lastCollision = fc;
  }
  if (!fc) {
    $addMovementWayPoint_0(np, new MovementWaypoint_1(dx, dy, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
    $updatePath(this$static, np, this$static.lastCollision);
    return np;
  }
   else {
    if (np.array.length < this$static.maxpathNodes && object.objectsCurrentPathfindingIterator < totalIterationLimit) {
      ++object.objectsCurrentPathfindingIterator;
      nsp = $getPositionFromEndOfPath(sx, sy, fc.X, fc.Y, this$static.collision_margin);
      CollisionLogInfo('currently path has _' + np.array.length + '_ nodes');
      if ($equalsLocation(dynamicCast($get(np, np.array.length - 1), 23), nsp)) {
        CollisionLogger.isPresent() && $log_2((dynamicCast(CollisionLogger.get_1(), 87) , 'same location , so we abort this path'), 'FF0000');
        np.pathFindingBroke = true;
        $addMovementWayPoint_0(np, new MovementWaypoint_1(dx, dy, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
        return np;
      }
      $addMovementWayPoint_0(np, new MovementWaypoint_1(nsp.x_0, nsp.y_0, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
      CollisionLogInfo('currently path has _' + np.array.length + '_ nodes');
      CollisionLogger.isPresent() && $logPath((dynamicCast(CollisionLogger.get_1(), 87) , np));
      fc.collidingObject.sourceMap.currentPoly = $indexOf_0(fc.collidingObject.sourceMap, fc.collidingObject, 0);
      !!fc.side && (fc.collidingObject.sourceMap.currentSide = fc.side.startVertexNumber);
      this$static.CMapVisualiser.isPresent() && $clearSketch_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102));
      possibilityOne = new MovementPath_0('', '_internal_anticlockwise');
      possibilityTwo = new MovementPath_0('', '_internal_clockwise');
      if (direction != 0) {
        possibilityTwo = $walkAroundAntiClockwise(this$static, dx, dy, np, fc);
        CollisionLogInfo('_______________possibilityTwo length:' + possibilityTwo.PathLength + '(acs)');
        CollisionLogger.isPresent() && $logPath((dynamicCast(CollisionLogger.get_1(), 87) , possibilityTwo));
        possibilityTwo = $refinePath(this$static, possibilityTwo);
        CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , '__________________path after refine:(cs)'));
        CollisionLogger.isPresent() && $logPath((dynamicCast(CollisionLogger.get_1(), 87) , possibilityTwo));
        possibilityTwo = $findPathBetweenAndAddToExistingPath(this$static, dx, dy, possibilityTwo, 1, object, lastCollision);
      }
      if (direction != 1) {
        possibilityOne = $walkAroundClockwise(this$static, dx, dy, np, fc);
        CollisionLogInfo('__________________possibilityOne length:' + possibilityOne.PathLength + '(cs)');
        CollisionLogger.isPresent() && $logPath((dynamicCast(CollisionLogger.get_1(), 87) , possibilityOne));
        possibilityOne = $refinePath(this$static, possibilityOne);
        CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , '__________________path after refine:(cs)'));
        CollisionLogger.isPresent() && $logPath((dynamicCast(CollisionLogger.get_1(), 87) , possibilityOne));
        possibilityOne = $findPathBetweenAndAddToExistingPath(this$static, dx, dy, possibilityOne, 0, object, lastCollision);
      }
      if (direction == 1) {
        CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , 'anticlockwise searchonly'));
        return possibilityTwo;
      }
      if (direction == 0) {
        CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , 'clockwise searchonly'));
        return possibilityOne;
      }
      if (direction == 2) {
        CollisionLogInfo('___________comparing lengths:' + possibilityOne.PathLength + '(cw) to ' + possibilityTwo.PathLength + '(acs)');
        CollisionLogInfo('___________comparing lengths:' + $getCurrentLength(possibilityOne) + '(cw) to ' + $getCurrentLength(possibilityTwo) + '(acs)');
        if (possibilityOne.pathFindingBroke || possibilityOne.PathLength > possibilityTwo.PathLength && !possibilityTwo.pathFindingBroke) {
          $updatePath(this$static, possibilityTwo, this$static.lastCollision);
          return possibilityTwo;
        }
         else {
          $updatePath(this$static, possibilityOne, this$static.lastCollision);
          return possibilityOne;
        }
      }
    }
     else {
      CollisionLogger.isPresent() && $error((dynamicCast(CollisionLogger.get_1(), 87) , 'emergancy exit'));
      CollisionLogError('current it = ' + object.objectsCurrentPathfindingIterator);
      CollisionLogError('nodes = ' + np.array.length);
      $addMovementWayPoint_0(np, new MovementWaypoint_1(dx, dy, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
      $updatePath(this$static, np, this$static.lastCollision);
      np.pathFindingBroke = true;
      return np;
    }
    return null;
  }
}

function $findSafeEndpointOnLine(this$static, startx, starty, destinationx, destinationy, object){
  var EmergancyExit, destx, desty, distanceX, distanceY, disx, disy, pathWithSafeEnding, previousEndx, previousEndy, ratio, ratio2;
  pathWithSafeEnding = new ArrayList;
  destx = destinationx;
  desty = destinationy;
  distanceX = destinationx - startx < 0?-(destinationx - startx):destinationx - startx;
  distanceY = destinationy - starty < 0?-(destinationy - starty):destinationy - starty;
  EmergancyExit = 15;
  ratio = distanceX / (distanceY + distanceX);
  ratio2 = distanceY / (distanceX + distanceY);
  if (distanceX == 0) {
    ratio = 0;
    ratio2 = 1;
  }
  if (distanceY == 0) {
    ratio = 1;
    ratio2 = 0;
  }
  previousEndx = -1;
  previousEndy = -1;
  while ($isObjectColliding(this$static, object, destx, desty)) {
    disx = round_int(ratio * 40 * (destx - startx > 0?1:destx - startx < 0?-1:0));
    disy = round_int(ratio2 * 40 * (desty - starty > 0?1:desty - starty < 0?-1:0));
    $info_1(Log_28, 'move back by =' + disx + ',' + disy);
    previousEndx = destx;
    previousEndy = desty;
    destx = destx - disx;
    desty = desty - disy;
    $info_1(Log_28, 'new requested end set too:' + destx + ',' + desty);
    --EmergancyExit;
    if (EmergancyExit < 0) {
      $info_1(Log_28, '________________________________too many loops when finding safe spot');
      break;
    }
  }
  previousEndx != -1 && previousEndy != -1 && pathWithSafeEnding.add_0(new MovementWaypoint_1(previousEndx, previousEndy, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
  pathWithSafeEnding.add_0(new MovementWaypoint_1(destx, desty, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
  return pathWithSafeEnding;
}

function $getCMapPreviewWidget(this$static){
  if (this$static.CMapVisualiser.isPresent()) {
    return dynamicCast(dynamicCast(this$static.CMapVisualiser.get_1(), 102), 217).collisionMapPreviewWidget;
  }
  return null;
}

function $getPositionFromEndOfPath(startX, startY, dx, dy, Displacement){
  var distanceX, distanceY, disx, disy, nsp, ratio, ratio2;
  distanceX = dx - startX < 0?-(dx - startX):dx - startX;
  distanceY = dy - startY < 0?-(dy - startY):dy - startY;
  ratio = distanceX / (distanceY + distanceX);
  ratio2 = distanceY / (distanceX + distanceY);
  if (distanceX == 0) {
    ratio = 0;
    ratio2 = 1;
  }
  if (distanceY == 0) {
    ratio = 1;
    ratio2 = 0;
  }
  disx = round_int(ratio * Displacement * (dx - startX > 0?1:dx - startX < 0?-1:0));
  disy = round_int(ratio2 * Displacement * (dy - startY > 0?1:dy - startY < 0?-1:0));
  $info_1(Log_28, 'new end set too:' + (dx - disx) + ',' + (dy - disy));
  nsp = new Simple2DPoint(dx - disx, dy - disy);
  return nsp;
}

function $getSafePath(this$static, dx, dy, object){
  var NearestPointOutsideCollisionPolygon, diff_x, diff_y, dis_x, dis_y, dist, lineend, linestart, normX, normY, np, np0, objectCollisionAtDestination, pathWithSafeEnding, prevEndX, prevEndY, safepath, side, startx, starty, xPerp, yPerp;
  $info_1(Log_28, 'testing for safe path...');
  object.getLowerLeftDisplacement();
  this$static.CMapVisualiser.isPresent() && $addToSketch_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102), 'M ' + dx + ',' + dy + ' l 0 -5', 'purple');
  prevEndX = -1;
  prevEndY = -1;
  $info_1(Log_28, 'Testing for collisision at:' + dx + ',' + dy);
  objectCollisionAtDestination = $isPointColliding(this$static, dx, dy);
  if (objectCollisionAtDestination) {
    $info_1(Log_28, 'detected that requested point is inside a object');
    NearestPointOutsideCollisionPolygon = $getNearestOutsidePoint(objectCollisionAtDestination, dx, dy);
    prevEndX = NearestPointOutsideCollisionPolygon.X;
    prevEndY = NearestPointOutsideCollisionPolygon.Y;
    side = NearestPointOutsideCollisionPolygon.side;
    linestart = side.startPoint;
    lineend = side.endPoint;
    diff_x = linestart.x_0 - lineend.x_0;
    diff_y = linestart.y_0 - lineend.y_0;
    dist = Math.sqrt(diff_x * diff_x + diff_y * diff_y);
    normX = diff_x / dist;
    normY = diff_y / dist;
    xPerp = 35 * normX;
    yPerp = 35 * normY;
    dis_x = round_int(NearestPointOutsideCollisionPolygon.X + yPerp);
    dis_y = round_int(NearestPointOutsideCollisionPolygon.Y - xPerp);
    dx = dis_x;
    dy = dis_y;
    $addToSketch(dynamicCast(($clinit_SceneObjectDatabase() , currentScene_0).scenesCmap.get_1(), 73), 'M ' + NearestPointOutsideCollisionPolygon.X + ',' + NearestPointOutsideCollisionPolygon.Y + ' L ' + dis_x + ',' + dis_y, 'RED');
  }
  startx = $getTopLeftBaseX(object) + object.objectsCurrentState_2.PinPointX;
  starty = $getY_1(object);
  pathWithSafeEnding = $findSafeEndpointOnLine(this$static, startx, starty, dx, dy, object);
  if (pathWithSafeEnding.array.length > 1) {
    prevEndX = (checkElementIndex(0, pathWithSafeEnding.array.length) , dynamicCast(pathWithSafeEnding.array[0], 23)).pos.x_0;
    prevEndY = (checkElementIndex(0, pathWithSafeEnding.array.length) , dynamicCast(pathWithSafeEnding.array[0], 23)).pos.y_0;
    dx = (checkElementIndex(1, pathWithSafeEnding.array.length) , dynamicCast(pathWithSafeEnding.array[1], 23)).pos.x_0;
    dy = (checkElementIndex(1, pathWithSafeEnding.array.length) , dynamicCast(pathWithSafeEnding.array[1], 23)).pos.y_0;
  }
   else {
    dx = (checkElementIndex(0, pathWithSafeEnding.array.length) , dynamicCast(pathWithSafeEnding.array[0], 23)).pos.x_0;
    dy = (checkElementIndex(0, pathWithSafeEnding.array.length) , dynamicCast(pathWithSafeEnding.array[0], 23)).pos.y_0;
  }
  this$static.CMapVisualiser.isPresent() && $addToSketch_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102), 'M ' + dx + ',' + dy + ' l 0 -5', 'yellow');
  if ($isPointColliding(this$static, dx, dy)) {
    $info_1(Log_28, '__________________________________________collision at pin point found, canceling movement');
    np0 = new MovementPath_0('', '_internal error_');
    $addMovementWayPoint_0(np0, new MovementWaypoint_1(startx, starty, ($clinit_MovementWaypoint$MovementType() , AbsoluteMove)));
    np0.pathFindingBroke = true;
    return np0;
  }
  np = new MovementPath_0('', '_internal_');
  $addMovementWayPoint_0(np, new MovementWaypoint_1(startx, starty, ($clinit_MovementWaypoint$MovementType() , AbsoluteMove)));
  object.objectsCurrentPathfindingIterator = 0;
  safepath = $findPathBetweenAndAddToExistingPath(this$static, dx, dy, np, 2, object, null);
  safepath = $refinePath(this$static, safepath);
  if (prevEndX != -1 && prevEndY != -1) {
    prevEndX = round_int((prevEndX + dx) / 2);
    prevEndY = round_int((prevEndY + dy) / 2);
    $addMovementWayPoint_0(safepath, new MovementWaypoint_1(prevEndX, prevEndY, AbsoluteLineTo));
    $addMovementWayPoint_0(safepath, new MovementWaypoint_1(dx, dy, AbsoluteLineTo));
  }
  if (this$static.CMapVisualiser.isPresent()) {
    $svgSmoothPathUpdate(dynamicCast(this$static.CMapVisualiser.get_1(), 102), $getAsSVGPath(safepath, false));
    $generatePreviewWidget(dynamicCast(this$static.CMapVisualiser.get_1(), 102));
  }
  return safepath;
}

function $isBoxColliding(this$static, tlx, tly, brx, bry){
  var objectsToCheck;
  objectsToCheck = this$static.sourcescene.scenesData.scenesOriginalObjects;
  return $isBoxColliding_0(this$static, tlx, tly, brx, bry, false, objectsToCheck);
}

function $isBoxColliding_0(this$static, tlx, tly, brx, bry, returnHighestZindex, collisionCheckPool){
  var cit, col, npolygon, polygon, sit, so, soit;
  col = null;
  if (!this$static.scenesOwnMap) {
    $info_1(Log_28, 'no collision map set');
    return null;
  }
  sit = new AbstractList$IteratorImpl(this$static.scenesOwnMap);
  while (sit.i < sit.this$01_0.size_1()) {
    polygon = (checkCriticalElement(sit.i < sit.this$01_0.size_1()) , dynamicCast(sit.this$01_0.get_0(sit.last = sit.i++), 100));
    if (polygon.incorporeal.value_0) {
      continue;
    }
    if ($isBoxInside(polygon, tlx, tly, brx, bry)) {
      $info_1(Log_28, 'box is inside.');
      if (returnHighestZindex) {
        col = polygon;
      }
       else {
        return polygon;
      }
    }
  }
  soit = new AbstractList$IteratorImpl(collisionCheckPool);
  while (soit.i < soit.this$01_0.size_1()) {
    so = (checkCriticalElement(soit.i < soit.this$01_0.size_1()) , dynamicCast(soit.this$01_0.get_0(soit.last = soit.i++), 24));
    if (so.cmap.isPresent()) {
      cit = new AbstractList$IteratorImpl(dynamicCast(so.cmap.get_1(), 94));
      while (cit.i < cit.this$01_0.size_1()) {
        npolygon = (checkCriticalElement(cit.i < cit.this$01_0.size_1()) , dynamicCast(cit.this$01_0.get_0(cit.last = cit.i++), 100));
        if (npolygon.incorporeal.value_0) {
          continue;
        }
        if (!$isVisible(npolygon.sourceMap.associatedObject.internalFocusPanel)) {
          continue;
        }
        if ($isBoxInside(npolygon, tlx, tly, brx, bry)) {
          if (returnHighestZindex) {
            if (!col) {
              col = npolygon;
              $info_1(Log_28, 'first collision set');
              $info_1(Log_28, 'box is inside ' + npolygon.sourceMap.associatedObject.getObjectsCurrentState_1().ObjectsName);
            }
             else if (!col.sourceMap.associatedObject) {
              col = npolygon;
              $info_1(Log_28, 'first collision set');
              $info_1(Log_28, 'box is inside ' + npolygon.sourceMap.associatedObject.getObjectsCurrentState_1().ObjectsName);
            }
             else {
              $info_1(Log_28, 'testing for higher zindex');
              if ($getZindex(col.sourceMap.associatedObject) < $getZindex(dynamicCast(so.cmap.get_1(), 94).associatedObject)) {
                col = npolygon;
                $info_1(Log_28, 'box is inside!! ' + npolygon.sourceMap.associatedObject.getObjectsCurrentState_1().ObjectsName);
              }
            }
          }
           else {
            $info_1(Log_28, 'box is inside! ' + npolygon.sourceMap.associatedObject.getObjectsCurrentState_1().ObjectsName);
            return npolygon;
          }
        }
      }
    }
  }
  return col;
}

function $isCmapVisible(this$static){
  if (this$static.CMapVisualiser.isPresent()) {
    return $isVisible(dynamicCast(dynamicCast(this$static.CMapVisualiser.get_1(), 102), 217).collisionMapPreviewWidget);
  }
  return false;
}

function $isObjectColliding(this$static, object, pretendPositionX, pretendPositionY){
  var blx, bly, bottomrightX, bottomrightY, cbox, col, lowerLeftDisplacement, mode, topleftX, topleftY;
  mode = object.getObjectsCurrentState_1().boundaryType;
  lowerLeftDisplacement = object.getLowerLeftDisplacement();
  blx = pretendPositionX + lowerLeftDisplacement.x_0;
  bly = pretendPositionY + lowerLeftDisplacement.y_0;
  switch (mode.ordinal) {
    case 1:
      $info_1(Log_28, 'testing for collision using objects base line...');
      $addToSketch(this$static, 'M ' + blx + ',' + bly + ' L ' + (blx + object.getObjectWidth()) + ',' + bly, '#555');
      col = $findFirstCollision(this$static, blx, bly, blx + object.getObjectWidth(), bly);
      if (!col) {
        $info_1(Log_28, 'no collision found.');
        return null;
      }

      return col.collidingObject;
    case 2:
      if (mode.customCollisionBox.isPresent()) {
        $info_1(Log_28, 'testing for collision using objects custom collision box');
        cbox = dynamicCast(mode.customCollisionBox.get_1(), 270);
        topleftY = bly - object.getObjectHeight();
        topleftX = blx + cbox.topleft.x_0;
        topleftY = topleftY + cbox.topleft.y_0;
        bottomrightX = topleftX + cbox.topleft.x_0;
        bottomrightY = topleftY + cbox.topleft.y_0;
      }
       else {
        $info_1(Log_28, 'testing for collision using objects default collision box (which is the sprites own size/position)');
        topleftX = blx;
        topleftY = bly - object.getObjectHeight();
        bottomrightX = blx + object.getObjectHeight();
        bottomrightY = bly;
      }

      return $isBoxColliding(this$static, topleftX, topleftY, bottomrightX, bottomrightY);
    case 0:
      $info_1(Log_28, 'NOT testing for collisions - objects collision mode set to none');
      return null;
    case 3:
      $info_1(Log_28, 'testing for collision using objects pivot point');
      return $isPointColliding(this$static, $getTopLeftBaseX(object) + object.objectsCurrentState_2.PinPointX, $getY_1(object));
    default:$severe_0(Log_28, 'OBJECTS COLLISION MODE NOT RECOGNISED OR SUPPORTED:' + mode);
      return null;
  }
}

function $isPathVisible(this$static){
  if (this$static.CMapVisualiser.isPresent()) {
    return $isVisible(dynamicCast(dynamicCast(this$static.CMapVisualiser.get_1(), 102), 217).svgPathVisualisation);
  }
  return false;
}

function $isPointColliding(this$static, dx, dy){
  var cit, col, npolygon, polygon, sit, so, soit;
  col = null;
  sit = new AbstractList$IteratorImpl(this$static.scenesOwnMap);
  while (sit.i < sit.this$01_0.size_1()) {
    polygon = (checkCriticalElement(sit.i < sit.this$01_0.size_1()) , dynamicCast(sit.this$01_0.get_0(sit.last = sit.i++), 100));
    if (polygon.incorporeal.value_0) {
      continue;
    }
    $isPointInside(polygon, dx, dy) && (col = polygon);
  }
  soit = new AbstractList$IteratorImpl(this$static.sourcescene.scenesData.scenesOriginalObjects);
  while (soit.i < soit.this$01_0.size_1()) {
    so = (checkCriticalElement(soit.i < soit.this$01_0.size_1()) , dynamicCast(soit.this$01_0.get_0(soit.last = soit.i++), 24));
    if (so.cmap.isPresent()) {
      cit = new AbstractList$IteratorImpl(dynamicCast(so.cmap.get_1(), 94));
      while (cit.i < cit.this$01_0.size_1()) {
        npolygon = (checkCriticalElement(cit.i < cit.this$01_0.size_1()) , dynamicCast(cit.this$01_0.get_0(cit.last = cit.i++), 100));
        if (npolygon.incorporeal.value_0) {
          continue;
        }
        if (!$isVisible(npolygon.sourceMap.associatedObject.internalFocusPanel)) {
          continue;
        }
        if ($isPointInside(npolygon, dx, dy)) {
          $info_1(Log_28, 'is inside! ');
          col = npolygon;
        }
      }
    }
  }
  return col;
}

function $refinePath(this$static, p){
  var c, ex, ey, nodestart, sx, sy;
  if (refineDisabled) {
    return p;
  }
  nodestart = 0;
  $info_1(Log_28, 'new refining...');
  CollisionLogInfo('$*$*$*The NUMBER of NODES BEFORE REFINING:' + p.array.length);
  while (nodestart < p.array.length - 2) {
    sx = (checkElementIndex(nodestart, p.array.length) , dynamicCast(p.array[nodestart], 23)).pos.x_0;
    sy = (checkElementIndex(nodestart, p.array.length) , dynamicCast(p.array[nodestart], 23)).pos.y_0;
    ex = (checkElementIndex(nodestart + 2, p.array.length) , dynamicCast(p.array[nodestart + 2], 23)).pos.x_0;
    ey = (checkElementIndex(nodestart + 2, p.array.length) , dynamicCast(p.array[nodestart + 2], 23)).pos.y_0;
    c = $findFirstCollision(this$static, sx, sy, ex, ey);
    if (!c) {
      CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , 'No collisions found at node ' + nodestart));
      $remove(p, nodestart + 1);
    }
     else {
      nodestart = nodestart + 1;
    }
  }
  CollisionLogInfo('\uFFFD-\uFFFD-\uFFFD-The NUMBER of NODES IS NOW' + p.array.length);
  this$static.CMapVisualiser.isPresent() && $svgSmoothPathUpdate(dynamicCast(this$static.CMapVisualiser.get_1(), 102), $getAsSVGPath(p, false));
  $info_1(Log_28, 'now refined...');
  return p;
}

function $removeFromSketch(this$static, asSVGPath){
  this$static.CMapVisualiser.isPresent() && $removeFromSketch_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102), asSVGPath);
}

function $setCMapVisualiser(this$static, cMapVisualiser){
  this$static.CMapVisualiser = new Present(cMapVisualiser);
  if (this$static.CMapVisualiser.isPresent()) {
    $setupVisualiser(dynamicCast(this$static.CMapVisualiser.get_1(), 102), this$static.sourcescene, this$static.scenesOwnMap);
    $generatePreviewWidget(dynamicCast(this$static.CMapVisualiser.get_1(), 102));
  }
}

function $showCmap(this$static, b){
  this$static.CMapVisualiser.isPresent() && $showCmap_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102), b);
}

function $showPath(this$static, b){
  this$static.CMapVisualiser.isPresent() && $showPath_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102), b);
}

function $updatePath(this$static, np, lastCollision){
  this$static.CMapVisualiser.isPresent() && $updatePath_0(dynamicCast(this$static.CMapVisualiser.get_1(), 102), np, lastCollision);
}

function $walkAroundAntiClockwise(this$static, dx, dy, np, fc){
  var MovedOutX, MovedOutY, cornerpos, curVertex, emergancyexitcount, endAt, newname, nr, pathcopy, previously, startFrom;
  $info_1(Log_28, '------------------------------------------------------------------------------------(anticlockwise test)');
  newname = np.pathsName;
  pathcopy = new MovementPath(np);
  startFrom = fc.side.startVertexNumber;
  endAt = fc.side.startVertexNumber + 1;
  if (endAt > $numberOfVertexs(fc.collidingObject) - 1) {
    $info_1(Log_28, '------endAt too big:' + endAt);
    endAt = endAt - $numberOfVertexs(fc.collidingObject);
    $info_1(Log_28, '------endAt now:' + endAt);
  }
  if (startFrom > $numberOfVertexs(fc.collidingObject) - 1) {
    $info_1(Log_28, '------startFrom too big:' + startFrom);
    startFrom = startFrom - $numberOfVertexs(fc.collidingObject);
    $info_1(Log_28, '------startFrom now:' + startFrom);
  }
  $info_1(Log_28, '--ac--startFrom' + startFrom + ' at ' + $getWaypointX(fc.collidingObject, startFrom) + ',' + $getWaypointY(fc.collidingObject, startFrom));
  $info_1(Log_28, '------endAt' + endAt + ' at ' + $getWaypointX(fc.collidingObject, endAt) + ',' + $getWaypointY(fc.collidingObject, endAt));
  curVertex = startFrom;
  emergancyexitcount = 0;
  do {
    newname = newname + 'a';
    curVertex < 0 && (curVertex = $numberOfVertexs(fc.collidingObject) - 1);
    $info_1(Log_28, 'cur = ' + curVertex);
    ++emergancyexitcount;
    if (emergancyexitcount > 25) {
      break;
    }
    MovedOutX = $getOutsetWaypointX(fc.collidingObject, curVertex);
    MovedOutY = $getOutsetWaypointY(fc.collidingObject, curVertex);
    if (pathcopy.array.length > 0) {
      previously = dynamicCast($get(pathcopy, $numberOfVertexs(pathcopy) - 1), 23);
      cornerpos = $findFirstCollision(this$static, previously.pos.x_0, previously.pos.y_0, MovedOutX, MovedOutY);
      if (!!cornerpos && cornerpos.collidingObject != fc.collidingObject) {
        $info_1(Log_28, 'route to corner not safe, thus walking around');
        CollisionLogInfo('route to corner not safe, thus walking ac around from ' + cornerpos.X + ',' + cornerpos.Y);
        return $walkAroundAntiClockwise(this$static, dx, dy, pathcopy, cornerpos);
      }
    }
    $addMovementWayPoint_0(pathcopy, new MovementWaypoint_1(MovedOutX, MovedOutY, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
    nr = $testForCollision(fc.collidingObject, new Simple2DPoint(MovedOutX, MovedOutY), new Simple2DPoint(dx, dy));
    if (!nr) {
      pathcopy.pathsName = newname;
      return pathcopy;
    }
    --curVertex;
  }
   while (curVertex != endAt - 1);
  pathcopy.pathFindingBroke = true;
  return pathcopy;
}

function $walkAroundClockwise(this$static, dx, dy, np, fc){
  var MovedOutX, MovedOutY, cornerpos, curVertex, emergancyexitcount, endAt, newname, nr, pathcopy, previously, startFrom;
  $info_1(Log_28, '------------------------------------------------------------------------------------(clockwise test)');
  newname = np.pathsName;
  pathcopy = new MovementPath(np);
  startFrom = fc.side.startVertexNumber + 1;
  endAt = fc.side.startVertexNumber;
  if (endAt > $numberOfVertexs(fc.collidingObject) - 1) {
    $info_1(Log_28, '------endAt too big:' + endAt);
    endAt = endAt - $numberOfVertexs(fc.collidingObject);
    $info_1(Log_28, '------endAt now:' + endAt);
  }
  if (startFrom > $numberOfVertexs(fc.collidingObject) - 1) {
    $info_1(Log_28, '------startFrom too big:' + startFrom);
    startFrom = startFrom - $numberOfVertexs(fc.collidingObject);
    $info_1(Log_28, '------startFrom now:' + startFrom);
  }
  $info_1(Log_28, '------startFrom' + startFrom + ' at ' + $getWaypointX(fc.collidingObject, startFrom) + ',' + $getWaypointY(fc.collidingObject, startFrom));
  $info_1(Log_28, '------endAt' + endAt + ' at ' + $getWaypointX(fc.collidingObject, endAt) + ',' + $getWaypointY(fc.collidingObject, endAt));
  curVertex = startFrom;
  emergancyexitcount = 0;
  do {
    newname = newname + 'c';
    curVertex > $numberOfVertexs(fc.collidingObject) - 1 && (curVertex = 0);
    $info_1(Log_28, 'cur = ' + curVertex);
    ++emergancyexitcount;
    if (emergancyexitcount > 25) {
      break;
    }
    MovedOutX = $getOutsetWaypointX(fc.collidingObject, curVertex);
    MovedOutY = $getOutsetWaypointY(fc.collidingObject, curVertex);
    if (pathcopy.array.length > 0) {
      previously = dynamicCast($get(pathcopy, $numberOfVertexs(pathcopy) - 1), 23);
      cornerpos = $findFirstCollision(this$static, previously.pos.x_0, previously.pos.y_0, MovedOutX, MovedOutY);
      if (!!cornerpos && cornerpos.collidingObject != fc.collidingObject) {
        $info_1(Log_28, 'route to corner not safe, thus walking around antic');
        CollisionLogInfo('Route to corner not safe, thus walking antic around from ' + cornerpos.X + ',' + cornerpos.Y);
        return $walkAroundClockwise(this$static, dx, dy, pathcopy, cornerpos);
      }
    }
    $addMovementWayPoint_0(pathcopy, new MovementWaypoint_1(MovedOutX, MovedOutY, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
    nr = $testForCollision(fc.collidingObject, new Simple2DPoint(MovedOutX, MovedOutY), new Simple2DPoint(dx, dy));
    if (!nr) {
      pathcopy.pathsName = newname;
      break;
    }
    ++curVertex;
  }
   while (curVertex != endAt + 1);
  return pathcopy;
}

function CollisionLogError(error){
  CollisionLogger.isPresent() && $error((dynamicCast(CollisionLogger.get_1(), 87) , error));
}

function CollisionLogInfo(string){
  CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , string));
}

function CollisionLogLog(log_0){
  $clinit_SceneCollisionMap();
  CollisionLogger.isPresent() && $log_1((dynamicCast(CollisionLogger.get_1(), 87) , log_0));
}

function SceneCollisionMap(mapData, sourcescene){
  $clinit_SceneCollisionMap();
  this.CMapVisualiser = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  this.sourcescene = sourcescene;
  CollisionLogger.isPresent() && $info_0((dynamicCast(CollisionLogger.get_1(), 87) , 'creating cmap...............................'));
  this.scenesOwnMap = new PolygonCollisionMap(mapData, null);
}

function openLog(){
  $clinit_SceneCollisionMap();
  if (CollisionLogger.isPresent()) {
    $show(dynamicCast(CollisionLogger.get_1(), 87));
    $log_2((dynamicCast(CollisionLogger.get_1(), 87) , 'opening log'), '#00FF00');
    $info_1(Log_28, 'opened collision log');
  }
   else {
    $info_1(Log_28, 'no collision log present');
  }
}

function setCollisionLogger(collisionLogger){
  $clinit_SceneCollisionMap();
  CollisionLogger = new Present(collisionLogger);
}

defineClass(73, 1, {73:1}, SceneCollisionMap);
_.collision_margin = 32;
_.lastCollision = null;
_.maxpathNodes = 15;
_.sourcescene = null;
var CollisionLogger, Log_28, refineDisabled = true, totalIterationLimit = 30;
var Lcom_lostagain_Jam_CollisionMap_SceneCollisionMap_2_classLit = createForClass('com.lostagain.Jam.CollisionMap', 'SceneCollisionMap', 73, Ljava_lang_Object_2_classLit);
function SpiffyPolygonCollision(x_0, y_0, collidingObject, side, distance){
  this.X = x_0;
  this.Y = y_0;
  this.side = side;
  this.collidingObject = collidingObject;
  this.distance = distance;
}

defineClass(354, 1, {}, SpiffyPolygonCollision);
_.X = -1;
_.Y = -1;
_.distance = 0;
var Lcom_lostagain_Jam_CollisionMap_SpiffyPolygonCollision_2_classLit = createForClass('com.lostagain.Jam.CollisionMap', 'SpiffyPolygonCollision', 354, Ljava_lang_Object_2_classLit);
var lastclicked_x_0 = 0, lastclicked_y_0 = 0, lastclickedscreen_x = 0, lastclickedscreen_y = 0;
function $clinit_DialogueCollection(){
  $clinit_DialogueCollection = emptyMethod;
  Log_29 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.DialogueCollection'));
}

function $expandAbbreviations(parseString){
  var after, before, loc, middle, nextShortCut, nextShortCutEnd;
  loc = 0;
  while (loc < parseString.length) {
    nextShortCut = parseString.indexOf('<:', loc);
    nextShortCutEnd = parseString.indexOf('>', nextShortCut);
    if (nextShortCut == -1 || nextShortCutEnd == -1) {
      return parseString;
    }
    loc = nextShortCutEnd + 1;
    before = parseString.substr(0, nextShortCut);
    middle = parseString.substr(nextShortCut + 2, nextShortCutEnd - (nextShortCut + 2));
    after = $substring_0(parseString, nextShortCutEnd + 1, parseString.length);
    $endsWith(middle, ',false') || $endsWith(middle, ',true') || (middle = middle + ',false');
    $info_1(Log_29, 'commands found=' + middle);
    parseString = before + '<!--run: - SetParagraph = ' + middle + ' -->' + after;
  }
  return parseString;
}

function $getNumberOfParagraphs(this$static, paragraphSetName){
  if (this$static.collections.get_2(paragraphSetName) == null) {
    $info_1(Log_29, 'no paragraph of that name ..');
    return 0;
  }
  return dynamicCast(this$static.collections.get_2(paragraphSetName), 317).array.length;
}

function $getText_0(this$static, paragraphSetName, Position_0){
  var paragraphSet;
  paragraphSet = dynamicCast(this$static.collections.get_2(paragraphSetName), 18);
  if (!paragraphSet) {
    $severe_0(Log_29, 'no paragraphset of name ' + paragraphSetName + ' to get');
    return '';
  }
  if (paragraphSet.array.length <= Position_0) {
    $severe_0(Log_29, 'paragraphset contains only ' + paragraphSet.array.length + ' paragraphs, yet you asked for number ' + Position_0);
    return '';
  }
  if (Position_0 < 0) {
    $severe_0(Log_29, 'Why on earth you looking for negative numbers here? Theres no paragraph number: ' + Position_0);
    return '';
  }
  return dynamicCastToString($get(dynamicCast(this$static.collections.get_2(paragraphSetName), 317), Position_0));
}

function $storeData(this$static, parseString){
  var ParagraphSet, contents, endAtP, endAtS, lastID, lastnum, loc, nameAndNumber, nextParagraph, nextShortcut, num, number, paragraphID, params, parastart, startendat;
  loc = 0;
  lastID = '';
  lastnum = 0;
  while (loc < parseString.length) {
    $info_1(Log_29, '______Parsing from:' + loc);
    nextParagraph = parseString.indexOf('Paragraph=', loc);
    nextShortcut = parseString.indexOf('<p:>', loc);
    if (nextParagraph == -1 && nextShortcut == -1) {
      break;
    }
    nextShortcut < nextParagraph && nextShortcut != -1?(startendat = nextShortcut + 4):nextParagraph == -1?(startendat = nextShortcut + 4):(startendat = nextParagraph + 9);
    endAtP = parseString.indexOf('Paragraph=', startendat);
    endAtS = parseString.indexOf('<p:>', startendat);
    endAtP == -1 && endAtS == -1 && (endAtP = parseString.length);
    endAtP = minimumNonNegative(endAtP, endAtS);
    if (nextShortcut < nextParagraph && nextShortcut != -1 || nextParagraph == -1) {
      parastart = nextShortcut + 5;
      $info_1(Log_29, '______Paragraph shortcut starts at ' + parastart + ' and ends at ' + endAtP);
      paragraphID = lastID;
      number = lastnum + 1;
      lastnum = number;
      contents = $trim(parseString.substr(parastart + 1, endAtP - (parastart + 1)));
      loc = endAtP;
    }
     else {
      if (nextParagraph == -1) {
        $info_1(Log_29, 'nextParagraph ==-1');
        break;
      }
      parastart = parseString.indexOf(':', nextParagraph + 10);
      if (parastart == -1) {
        $info_1(Log_29, '______Paragraph missing end colon ');
        break;
      }
      $info_1(Log_29, '______Paragraph starts at ' + parastart + ' and ends at ' + endAtP);
      nameAndNumber = $trim(parseString.substr(nextParagraph + 10, parastart - (nextParagraph + 10)));
      $info_1(Log_29, '________nameAndNumber' + nameAndNumber);
      params = $split_0(nameAndNumber, ',', 0);
      paragraphID = $trim(params[0]);
      $info_1(Log_29, 'name:' + paragraphID);
      num = params[1];
      $info_1(Log_29, 'num0: ' + num);
      $info_1(Log_29, 'nameAndNumber length -1: ' + (nameAndNumber.length - 1));
      num = $trim($substring_0(num, 0, nameAndNumber.length - 1));
      $info_1(Log_29, 'num1: ' + num);
      lastID = paragraphID;
      number = __parseAndValidateInt(num, 10);
      lastnum = number;
      contents = $trim(parseString.substr(parastart + 1, endAtP - (parastart + 1)));
      if (endAtP < loc) {
        $info_1(Log_29, 'endAtP value wrong error ');
        break;
      }
      loc = endAtP;
    }
    contents = $expandAbbreviations(contents);
    $info_1(Log_29, 'adding:' + contents + ' as ' + paragraphID + '#' + number);
    if (this$static.collections.containsKey(paragraphID)) {
      $add(dynamicCast(this$static.collections.get_2(paragraphID), 317), number, contents);
      $info_1(Log_29, 'paragraph added to ' + paragraphID);
    }
     else {
      ParagraphSet = new DialogueCollection$Section;
      setCheck(ParagraphSet.array, ParagraphSet.array.length, contents);
      this$static.collections.put(paragraphID, ParagraphSet);
      $info_1(Log_29, 'paragraph created with ' + paragraphID);
    }
    $info_1(Log_29, 'paragraph added. Collection now has ' + this$static.collections.size_1() + ' entries');
  }
}

function DialogueCollection(parseString){
  $clinit_DialogueCollection();
  this.collections = new HashMap;
  $storeData(this, parseString);
}

function minimumNonNegative(wordIndex, wordIndex2){
  if (wordIndex < 0) {
    return wordIndex2;
  }
  if (wordIndex2 < 0) {
    return wordIndex;
  }
  return wordIndex < wordIndex2?wordIndex:wordIndex2;
}

defineClass(1420, 1, {}, DialogueCollection);
var Log_29;
var Lcom_lostagain_Jam_DialogueCollection_2_classLit = createForClass('com.lostagain.Jam', 'DialogueCollection', 1420, Ljava_lang_Object_2_classLit);
function DialogueCollection$Section(){
  ArrayList.call(this);
}

defineClass(317, 18, {317:1, 3:1, 18:1, 25:1, 38:1, 68:1}, DialogueCollection$Section);
var Lcom_lostagain_Jam_DialogueCollection$Section_2_classLit = createForClass('com.lostagain.Jam', 'DialogueCollection/Section', 317, Ljava_util_ArrayList_2_classLit);
function $clinit_JamMenuBar(){
  $clinit_JamMenuBar = emptyMethod;
  Log_30 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.JamMenuBar'));
}

function $addMenuItem(this$static, name_0, sourceObject){
  var runOnMenuClick, menuItem;
  runOnMenuClick = new JamMenuBar$runActions(name_0, sourceObject);
  menuItem = new MenuItem(name_0, new GwtMenuBar$1(runOnMenuClick));
  setStyleName(($clinit_DOM() , menuItem.element), 'popup-item', true);
  $addItem_0(this$static.visualRepresentation, menuItem);
}

defineClass(1193, 1, $intern_118);
_.CloseDefault = function CloseDefault(){
  $CloseDefault();
}
;
_.DRAGABLE = function DRAGABLE(){
  return false;
}
;
_.OpenDefault = function OpenDefault(){
  $OpenDefault(this.associatedMenu);
}
;
_.POPUPTYPE = function POPUPTYPE(){
  return null;
}
;
var Log_30;
var Lcom_lostagain_Jam_Factorys_JamMenuBar_2_classLit = createForClass('com.lostagain.Jam.Factorys', 'JamMenuBar', 1193, Ljava_lang_Object_2_classLit);
function $execute_0(this$static){
  $info_1(($clinit_JamMenuBar() , Log_30), 'GwtMenuBar  CloseDefault running;');
  ($clinit_SceneMenuWithPopUp() , currentMenu).visualRepresentation.CloseDefault();
  this$static.sourceobject.userActionTriggeredOnObject(this$static.useractionname);
}

function JamMenuBar$runActions(action, object){
  this.sourceobject = object;
  this.useractionname = action;
}

defineClass(1194, 1, {}, JamMenuBar$runActions);
var Lcom_lostagain_Jam_Factorys_JamMenuBar$runActions_2_classLit = createForClass('com.lostagain.Jam.Factorys', 'JamMenuBar/runActions', 1194, Ljava_lang_Object_2_classLit);
function $clinit_NamedActionSetTimer(){
  $clinit_NamedActionSetTimer = emptyMethod;
  Log_31 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.NamedActionSetTimer'));
}

function $cancel_2(this$static){
  $info_1(Log_31, 'canceling ' + this$static.RunnablesObject + '_' + this$static.RunnableName);
  $info_1(Log_31, 'hashcode ' + getHashCode(this$static.TimerImplementation));
  $cancel_3(this$static.TimerImplementation);
  ($clinit_JAMTimerController() , activeNamedActionSetTimers).remove_3(this$static.RunnablesObject + '_' + this$static.RunnableName);
  updateCurrentTimers();
  this$static.TimerImplementation = null;
}

function $createNewTimerImpl(this$static){
  if (!this$static.TimerImplementation) {
    $info_1(Log_31, 'creating timer implementation for ' + this$static.RunnablesObject + '_' + this$static.RunnableName);
    this$static.TimerImplementation = ($clinit_JAMTimerController() , new GWTJAMTimerController$1(new NamedActionSetTimer$1(this$static)));
  }
}

function $getTimeRemaining(this$static){
  return sub_0(fromInt(this$static.FuseLengthMS), ($clinit_System() , sub_0(fromDouble(now_1()), this$static.StartTime)));
}

function $isCanceled(this$static){
  if (!this$static.TimerImplementation) {
    return true;
  }
  return false;
}

function $schedule_0(this$static, delayMillis){
  $createNewTimerImpl(this$static);
  $schedule(this$static.TimerImplementation, delayMillis);
  this$static.FuseLengthMS = delayMillis;
  this$static.StartTime = ($clinit_System() , fromDouble(now_1()));
  ($clinit_JAMTimerController() , activeNamedActionSetTimers).put(this$static.RunnablesObject + '_' + this$static.RunnableName, this$static);
  $info_1(Log_31, 'added ' + this$static.RunnablesObject + '_' + this$static.RunnableName + ' to shedraled commands ');
  updateCurrentTimers();
}

function NamedActionSetTimer(runnableName, runnableObject){
  this.RunnableName = $trim(runnableName.toLowerCase());
  this.RunnablesObject = $trim(runnableObject.toLowerCase());
}

defineClass(164, 1, $intern_119);
_.run = function run_22(){
  $info_1(Log_31, ' (should be overriden) ');
}
;
_.FuseLengthMS = 0;
_.RunnableName = '';
_.RunnablesObject = '';
_.StartTime = {l:0, m:0, h:0};
var Log_31;
var Lcom_lostagain_Jam_Factorys_NamedActionSetTimer_2_classLit = createForClass('com.lostagain.Jam.Factorys', 'NamedActionSetTimer', 164, Ljava_lang_Object_2_classLit);
function NamedActionSetTimer$1(this$0){
  this.this$01 = this$0;
}

defineClass(945, 1, {}, NamedActionSetTimer$1);
_.run = function run_23(){
  $info_1(($clinit_NamedActionSetTimer() , Log_31), 'fireing timers runnable ' + getHashCode(this));
  this.this$01.run();
}
;
var Lcom_lostagain_Jam_Factorys_NamedActionSetTimer$1_2_classLit = createForClass('com.lostagain.Jam.Factorys', 'NamedActionSetTimer/1', 945, Ljava_lang_Object_2_classLit);
function $clinit_FeedbackHistoryCore(){
  $clinit_FeedbackHistoryCore = emptyMethod;
  messagehistory = new ArrayList;
  feebackHistoryVisualiser = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
}

function AddNewMessage(newMessage){
  $clinit_FeedbackHistoryCore();
  messagehistory.add_0(newMessage);
  feebackHistoryVisualiser.isPresent() && $addToVisualRepresentationOfHistory(dynamicCast(feebackHistoryVisualiser.get_1(), 332), newMessage);
  currentmessage = messagehistory.array.length;
}

function getlastmessage(Steps){
  $clinit_FeedbackHistoryCore();
  return dynamicCastToString($get(messagehistory, messagehistory.array.length - (Steps + 1)));
}

defineClass(332, 1, {332:1});
var currentmessage = 0, feebackHistoryVisualiser, messagehistory;
var Lcom_lostagain_Jam_FeedbackHistoryCore_2_classLit = createForClass('com.lostagain.Jam', 'FeedbackHistoryCore', 332, Ljava_lang_Object_2_classLit);
function $clinit_GameManagementClass(){
  $clinit_GameManagementClass = emptyMethod;
  Log_32 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GameManagementClass'));
  AllSceneAndPageSets = new ArrayList;
}

function clearAllGameData(){
  var TimeTakenStart, newresults, TimeTakenEnd;
  $clinit_GameManagementClass();
  var allObjects, set_0, set$iterator, so, so$iterator;
  $info_1(Log_32, 'Stopping all timers');
  stopUpdatingAllObjects();
  $clinit_OptionalImplementations();
  JamAudioControllerImplementation.isPresent() && (dynamicCast(dynamicCast(JamAudioControllerImplementation.get_1(), 150), 194) , stopAllTracks(false, ($clinit_JamAudioController$AudioType() , SoundEffect), null, -1));
  $info_1(Log_32, 'Clearing all game data');
  $clinit_SceneWidget();
  all_scenes.clear_1();
  $clinit_SceneObject();
  currentEditedObject = null;
  $clinit_SceneObjectDatabase();
  currentScene_0 = null;
  lastSceneObjectUpdated = null;
  lastSceneObjectClicked = null;
  lastDivObjectUpdated = null;
  lastInputObjectUpdated = null;
  lastInventoryObjectClickedOn = null;
  lastObjectThatTouchedAnother = null;
  lastSpriteObjectUpdated = null;
  lastTextObjectUpdated = null;
  lastDialogueObjectUpdated = null;
  lastVectorObjectUpdated = null;
  allObjects = ($info_1(DBLog, 'new db testt') , TimeTakenStart = ($clinit_System() , fromDouble(now_1())) , newresults = getAllGamesObjects() , TimeTakenEnd = fromDouble(now_1()) , $clinit_GameStatistics() , TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart)) , newresults);
  $info_1(Log_32, 'clearing all objects:' + allObjects.map_0.size_1() + ' to remove');
  for (so$iterator = $iterator_4(new AbstractMap$1(allObjects.map_0)); so$iterator.val$outerIter2.hasNext();) {
    so = dynamicCast($next_7(so$iterator), 147);
    so.removeObject(false);
  }
  $info_1(Log_32, 'clearing objects from global lists');
  $clinit_SceneObjectDatabase_newcore();
  object_database_table.backingMap.clear_1();
  $info_1(Log_32, 'Clearing all pages...');
  ($clinit_JAMcore() , CurrentScenesAndPages).OpenPagesInSet.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  CurrentScenesAndPages.PageCount = 0;
  $clear_4(CurrentScenesAndPages.visualContents);
  for (set$iterator = new AbstractList$IteratorImpl(AllSceneAndPageSets); set$iterator.i < set$iterator.this$01_0.size_1();) {
    set_0 = (checkCriticalElement(set$iterator.i < set$iterator.this$01_0.size_1()) , dynamicCast(set$iterator.this$01_0.get_0(set$iterator.last = set$iterator.i++), 230));
    set_0.OpenPagesInSet.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
    set_0.PageCount = 0;
    $clear_4(set_0.visualContents);
  }
  currentOpenPages.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  AllSceneAndPageSets.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  $info_1(Log_32, 'running StoryTabs.clear');
  $clear_4(GamesChaptersPanel.GamesChaptersPanel);
  clearInventorysAndVariables();
  $clinit_RequiredImplementations();
  BasicGameFunctionsImplemention.isPresent() && (dynamicCast(BasicGameFunctionsImplemention.get_1(), 519) , $info_1(($clinit_BasicGameFunctionsImp() , Log_68), 'clearing visual chapter list') , $clear(($clinit_JAM() , ChapterList_0).VTabPanel) , $clear(ChapterList_0) , $clinit_JAM() , ChapterList_0 = new VerticalTabs);
  AllSceneAndPageSets = new ArrayList;
}

function clearInventorysAndVariables(){
  var inventory, inventory$iterator;
  $info_1(Log_32, 'Clearing inventory');
  $ClearInventory(($clinit_InventoryPanelCore() , defaultInventory));
  for (inventory$iterator = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys))); inventory$iterator.val$outerIter2.hasNext();) {
    inventory = dynamicCast($next_8(inventory$iterator), 136);
    $ClearInventory(inventory);
    inventory != defaultInventory && $removeFromParent(inventory.InventorysButton);
  }
  allInventorys.clear_1();
  PlayersNotepad.LoadedPages.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  ($clinit_JAM() , PlayersNotepad_0).LoadedPages.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  $clear(playersClues.visualContents);
  $clinit_OptionalImplementations();
  CuypersCodeFunctionsImplementation.isPresent() && (dynamicCast(CuypersCodeFunctionsImplementation.get_1(), 416) , $clear(SecretPanel));
  usersCurrentLocation = '';
  AnswerBox.isPresent() && $setText_6(dynamicCast(AnswerBox.get_1(), 74), '');
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setCurrentFeedbackText((dynamicCast(interfaceVisualElements_0.get_1(), 123) , ''));
  $clinit_GameVariableManagement();
  GameVariables = new AssArray;
  allInventorys.put('Inventory Items', defaultInventory);
}

var AllSceneAndPageSets, Log_32;
function $clinit_GameStatistics(){
  $clinit_GameStatistics = emptyMethod;
  GameStatisticDisplayerImplementation = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  lastCommandsStack_0 = new LinkedList;
}

function addLastCommandToStack(lastcommand, style, tooltip){
  $clinit_GameStatistics();
  $add_24(lastCommandsStack_0, new GameStatistics$DebugElement(lastcommand, style, tooltip));
  lastCommandsStack_0.size_0 > 50 && $poll(lastCommandsStack_0);
  GameStatisticDisplayerImplementation.isPresent() && (dynamicCast(GameStatisticDisplayerImplementation.get_1(), 1544) , updateCommandList(($clinit_GameDataBox() , lastcommandstriggered), lastCommandsStack_0));
}

var GameStatisticDisplayerImplementation, TotalCollisionCheckTime = {l:0, m:0, h:0}, TotalConditionalCheckTime = {l:0, m:0, h:0}, TotalNewDatabaseLookupTime = {l:0, m:0, h:0}, TotalOldDatabaseLookupTime = {l:0, m:0, h:0}, TotalPropertyCheckCheckTime = {l:0, m:0, h:0}, lastCommandsStack_0;
function GameStatistics$DebugElement(debugstring, debugcolor, debugtooltip){
  this.debugstring = debugstring;
  this.debugstyle = debugcolor;
  this.debugtooltip = debugtooltip;
}

defineClass(391, 1, {391:1}, GameStatistics$DebugElement);
_.debugstring = '';
_.debugstyle = '';
_.debugtooltip = '';
var Lcom_lostagain_Jam_GameStatistics$DebugElement_2_classLit = createForClass('com.lostagain.Jam', 'GameStatistics/DebugElement', 391, Ljava_lang_Object_2_classLit);
function $clinit_GameTextDatabase(){
  $clinit_GameTextDatabase = emptyMethod;
  Log_33 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GameTextDatabase'));
  LanIDs = new ArrayList;
  textDatabases = new HashMap;
}

function addTextIntoDatabase(TextID, LanID, TextContent){
  var currentDatabase, newTextDatabase;
  if (TextID.length < 3) {
    return;
  }
  if (!textDatabases.containsKey(LanID)) {
    newTextDatabase = new HashMap;
    textDatabases.put(LanID, newTextDatabase);
  }
  currentDatabase = dynamicCast(textDatabases.get_2(LanID), 32);
  currentDatabase.put(TextID, TextContent);
}

function addTextLineIntoDatabase(line){
  $clinit_GameTextDatabase();
  var LanID, TextID, i, linebit, linebit$iterator, linebits;
  $info_1(Log_33, 'adding line:' + line);
  linebits = parseCsvLine(line, false);
  $info_1(Log_33, 'which has ' + linebits.array.length + ' bits');
  if (linebits.array.length - 1 < LanIDs.array.length) {
    return;
  }
  TextID = (checkElementIndex(0, linebits.array.length) , dynamicCastToString(linebits.array[0]));
  i = -2;
  for (linebit$iterator = new AbstractList$IteratorImpl(linebits); linebit$iterator.i < linebit$iterator.this$01_0.size_1();) {
    linebit = (checkCriticalElement(linebit$iterator.i < linebit$iterator.this$01_0.size_1()) , dynamicCastToString(linebit$iterator.this$01_0.get_0(linebit$iterator.last = linebit$iterator.i++)));
    ++i;
    if (i == -1) {
      continue;
    }
    LanID = dynamicCastToString($get(LanIDs, i));
    addTextIntoDatabase(TextID, LanID, linebit);
  }
}

function replaceIDsWithText(sourceString, languageExtension){
  $clinit_GameTextDatabase();
  var currentDatabase, textID, textID$iterator;
  currentDatabase = dynamicCast(textDatabases.get_2(languageExtension), 32);
  !currentDatabase && $info_1(Log_33, 'languageExtension:' + languageExtension + ' not found');
  $info_1(Log_33, 'replacing all TextIDs with text for selected language');
  for (textID$iterator = $iterator_4(new AbstractMap$1(currentDatabase)); textID$iterator.val$outerIter2.hasNext();) {
    textID = dynamicCastToString($next_7(textID$iterator));
    sourceString = $replaceAll(sourceString, textID, dynamicCastToString(currentDatabase.get_2(textID)));
  }
  return sourceString;
}

var LanIDs, Log_33, RunOnComplete, loaded = false, textDatabases;
function GameTextDatabase$1(){
}

defineClass(798, 1, {}, GameTextDatabase$1);
_.run_2 = function run_24(responseData, responseCode){
  var currentline, currentline$index, currentline$max, firstline, firstrowselements, lines, newID, newID$index, newID$max;
  $info_1(($clinit_GameTextDatabase() , Log_33), 'Text Database Recieved');
  $info_1(Log_33, 'Text Database:' + responseData);
  lines = $split_0(responseData, '\r?\n|\r', 0);
  firstrowselements = $split_0(lines[0], ',', 0);
  firstline = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  for (newID$index = 0 , newID$max = firstrowselements.length; newID$index < newID$max; ++newID$index) {
    newID = firstrowselements[newID$index];
    if (firstline.value_0) {
      firstline = (null , FALSE_2);
      continue;
    }
    LanIDs.add_0(newID);
  }
  $info_1(Log_33, 'Language ids listed:' + LanIDs.toString$());
  firstline = (null , TRUE_3);
  $info_1(Log_33, 'Language ids listed:' + LanIDs.toString$());
  for (currentline$index = 0 , currentline$max = lines.length; currentline$index < currentline$max; ++currentline$index) {
    currentline = lines[currentline$index];
    if (firstline.value_0) {
      firstline = (null , FALSE_2);
      continue;
    }
    if ($equals_5(currentline.substr(0, 1), '\\') || $equals_5(currentline.substr(0, 2), '//')) {
      continue;
    }
    addTextLineIntoDatabase(currentline);
  }
  loaded = true;
  $info_1(Log_33, 'GameTextDatabase loaded, running next bits if needed');
  if (RunOnComplete) {
    $info_1(Log_33, '...');
    $run_13(RunOnComplete);
  }
}
;
var Lcom_lostagain_Jam_GameTextDatabase$1_2_classLit = createForClass('com.lostagain.Jam', 'GameTextDatabase/1', 798, Ljava_lang_Object_2_classLit);
function GameTextDatabase$2(){
}

defineClass(799, 1, {}, GameTextDatabase$2);
_.run_1 = function run_25(errorData, exception){
}
;
var Lcom_lostagain_Jam_GameTextDatabase$2_2_classLit = createForClass('com.lostagain.Jam', 'GameTextDatabase/2', 799, Ljava_lang_Object_2_classLit);
function $clinit_GameVariableManagement(){
  $clinit_GameVariableManagement = emptyMethod;
  Log_34 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GameVariableManagement'));
  GameVariables = new AssArray;
}

function replaceGameVariablesWithValues_0(input_string, currentObject){
  $clinit_GameVariableManagement();
  var after, before, characterAfterStart, currentVarName, currentVarValue, isDigit, loc, loc_end, pos, potentialEquation, replacement, val, variableSpecification, varname;
  pos = 0;
  while (true) {
    loc = input_string.indexOf('<', pos);
    if (loc == -1) {
      $info_1(Log_34, 'no more open < found');
      break;
    }
    loc_end = findClosingBracket(input_string, loc - 1, 60, 62);
    variableSpecification = input_string.substr(loc + 1, loc_end - (loc + 1));
    pos = loc + 1;
    $info_1(Log_34, 'looking for variable specification:' + variableSpecification);
    if (isReservedVariable(variableSpecification)) {
      $info_1(Log_34, variableSpecification + ' IS RESERVED VARIABLE, so skipping further checks');
      continue;
    }
    if ($equals_5(variableSpecification.substr(0, 2), 'V:')) {
      varname = $split_0(variableSpecification, ':', 2)[1];
      currentVarName = varname.toLowerCase();
      currentVarValue = $GetItem(GameVariables, currentVarName);
      $info_1(Log_34, 'replacing global:' + currentVarName + ' with ' + currentVarValue);
      before = input_string.substr(0, loc);
      after = __substr(input_string, loc_end + 1, input_string.length - (loc_end + 1));
      input_string = before + currentVarValue + after;
      continue;
    }
     else {
      $info_1(Log_34, 'looking to get variable val:' + variableSpecification);
      replacement = getValue_2('<' + variableSpecification + '>', currentObject);
      if (replacement != null && !!replacement.length) {
        $info_1(Log_34, 'replacement = :' + replacement);
        before = input_string.substr(0, loc);
        after = __substr(input_string, loc_end + 1, input_string.length - (loc_end + 1));
        input_string = before + replacement + after;
      }
       else {
        $info_1(Log_34, 'none found, leaving variable as-is :');
      }
    }
  }
  if (input_string.indexOf('random()') != -1) {
    while (input_string.indexOf('random()') != -1) {
      input_string = $replace_0(input_string, 'random()', '' + random());
    }
  }
  pos = 0;
  while (true) {
    loc = input_string.indexOf('(', pos);
    if (loc == -1) {
      break;
    }
    loc_end = findClosingBracket(input_string, loc, 40, 41);
    potentialEquation = input_string.substr(loc + 1, loc_end - (loc + 1));
    pos = loc + 1;
    characterAfterStart = potentialEquation.charCodeAt(0);
    isDigit = $matches_1(new CharMatcher$Or(($clinit_CharMatcher() , DIGIT), dynamicCast(checkNotNull(is(45)), 58)), characterAfterStart);
    if (!isDigit) {
      continue;
    }
    if (isCalculation(potentialEquation)) {
      $info_1(Log_34, 'calculation detected :' + potentialEquation);
      val = AdvanceCalculation(potentialEquation);
      $info_1(Log_34, 'result is :' + val);
      before = input_string.substr(0, loc);
      after = __substr(input_string, loc_end + 1, input_string.length - (loc_end + 1));
      input_string = before + val + after;
    }
     else {
      continue;
    }
  }
  $info_1(Log_34, 'equation result is :' + input_string);
  return input_string;
}

var GameVariables, Log_34;
function $clinit_GameVariableManagement$reservedVariables(){
  $clinit_GameVariableManagement$reservedVariables = emptyMethod;
  DIV = new GameVariableManagement$reservedVariables('DIV', 0);
  BR = new GameVariableManagement$reservedVariables('BR', 1);
  SPAN = new GameVariableManagement$reservedVariables('SPAN', 2);
  A_0 = new GameVariableManagement$reservedVariables('A', 3);
  P = new GameVariableManagement$reservedVariables('P', 4);
  SCENE = new GameVariableManagement$reservedVariables('SCENE', 5);
  OBJECT = new GameVariableManagement$reservedVariables('OBJECT', 6);
  GLOBAL = new GameVariableManagement$reservedVariables('GLOBAL', 7);
  PROPERTY = new GameVariableManagement$reservedVariables_0;
  HELDITEM = new GameVariableManagement$reservedVariables('HELDITEM', 9);
}

function $$init_10(this$static){
}

function $matchs(this$static, testAgainst){
  if (this$static.startsWithMatch) {
    if ($startsWith(testAgainst.toUpperCase(), (this$static.name_0 != null?this$static.name_0:'' + this$static.ordinal) + ':')) {
      return true;
    }
  }
   else {
    if ($equalsIgnoreCase(this$static.name_0 != null?this$static.name_0:'' + this$static.ordinal, testAgainst)) {
      return true;
    }
  }
  return false;
}

function GameVariableManagement$reservedVariables(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
  $$init_10(this);
}

function GameVariableManagement$reservedVariables_0(){
  Enum.call(this, 'PROPERTY', 8);
  $$init_10(this);
  this.startsWithMatch = true;
}

function isReservedVariable(testThis){
  $clinit_GameVariableManagement$reservedVariables();
  var IndexOfColon, IndexOfSpace, testVar, testVar$array, testVar$index, testVar$max;
  if ($equals_5(testThis.substr(0, 1), '!') || $equals_5(testThis.substr(0, 1), '/') || $equals_5(testThis.substr(0, 1), '\\')) {
    return true;
  }
  IndexOfSpace = testThis.indexOf(' ');
  if (IndexOfSpace != -1) {
    IndexOfColon = testThis.indexOf(':');
    if (IndexOfSpace < IndexOfColon || IndexOfColon == -1) {
      return true;
    }
  }
  for (testVar$array = initValues(getClassLiteralForArray(Lcom_lostagain_Jam_GameVariableManagement$reservedVariables_2_classLit, 1), $intern_1, 143, 0, [DIV, BR, SPAN, A_0, P, SCENE, OBJECT, GLOBAL, PROPERTY, HELDITEM]) , testVar$index = 0 , testVar$max = testVar$array.length; testVar$index < testVar$max; ++testVar$index) {
    testVar = testVar$array[testVar$index];
    if ($matchs(testVar, testThis)) {
      return true;
    }
  }
  return false;
}

function valueOf_25(name_0){
  $clinit_GameVariableManagement$reservedVariables();
  return valueOf(($clinit_GameVariableManagement$reservedVariables$Map() , $MAP_23), name_0);
}

function values_31(){
  $clinit_GameVariableManagement$reservedVariables();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_GameVariableManagement$reservedVariables_2_classLit, 1), $intern_1, 143, 0, [DIV, BR, SPAN, A_0, P, SCENE, OBJECT, GLOBAL, PROPERTY, HELDITEM]);
}

defineClass(143, 9, {143:1, 3:1, 21:1, 9:1}, GameVariableManagement$reservedVariables, GameVariableManagement$reservedVariables_0);
_.startsWithMatch = false;
var A_0, BR, DIV, GLOBAL, HELDITEM, OBJECT, P, PROPERTY, SCENE, SPAN;
var Lcom_lostagain_Jam_GameVariableManagement$reservedVariables_2_classLit = createForEnum('com.lostagain.Jam', 'GameVariableManagement/reservedVariables', 143, Ljava_lang_Enum_2_classLit, values_31, valueOf_25);
function $clinit_GameVariableManagement$reservedVariables$Map(){
  $clinit_GameVariableManagement$reservedVariables$Map = emptyMethod;
  $MAP_23 = createValueOfMap(($clinit_GameVariableManagement$reservedVariables() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_GameVariableManagement$reservedVariables_2_classLit, 1), $intern_1, 143, 0, [DIV, BR, SPAN, A_0, P, SCENE, OBJECT, GLOBAL, PROPERTY, HELDITEM])));
}

var $MAP_23;
function $clinit_GamesInterfaceTextCore(){
  $clinit_GamesInterfaceTextCore = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'JAM.GamesInterfaceTextCore');
}

defineClass(665, 1, {});
var CluePanel_buy = 'buy', CluePanel_cancel = 'cancel', CluePanel_chapterheader = '', CluePanel_instructions = '', CluePanel_instructions2 = '', CluePanel_loading = 'Loading...', CluePanel_purchasedclue = '', ControllPanel_AnimationEffects = '', ControllPanel_Big = '', ControllPanel_ChangePassword = '', ControllPanel_ClickHereToLogOut = '', ControllPanel_ClickHereToSaveYourProgress = '', ControllPanel_ControllPanel = '', ControllPanel_CurrentMusic = 'Current Music:', ControllPanel_DataSaved = '', ControllPanel_Default = '', ControllPanel_IECantDoLongLinks = 'Note; InternetExplorer is unable to load savegames from links due to it lacking support for urls this long. If you wish to save this way, please load your links on browsers that do like Opera,Firefox,Chrome or Safari', ControllPanel_InterfaceSize = '', ControllPanel_LoadFromServer = '', ControllPanel_LoadFromText = '', ControllPanel_LoadOptions = '', ControllPanel_LoggedOut = '', ControllPanel_Medium = '', ControllPanel_QualitySetting = '', ControllPanel_SaveOptions = '', ControllPanel_Small = '', ControllPanel_SoundEffects = '', ControllPanel_loggingout = '', ControllPanel_loggingout2 = '', ControllPanel_off = '', ControllPanel_on = '', GameReset_Button = 'Start Game From Scratch', GameReset_Title = 'Reset Game', GameReset_Warning = '', Login_ClearCookies = '', Login_ForgotPassword = 'Forgot Password?', Login_GuestLogin = 'Login As Guest', Login_Password = 'Password:', Login_PleaseLogin = 'Please Login', Login_Rememberme = 'Remember me next time?', Login_SignUp = 'SignUp', Login_Username = '', Magnify_Magnify = '', MainGame_AsAWebLink = '', MainGame_AsText = '', MainGame_Charecter_Profiles = '', MainGame_ClickBelowToLoadYourGame = '', MainGame_CloseAlWindows = '', MainGame_Compressing = '', MainGame_EmailLinkToMe = '', MainGame_EmailSent = '', MainGame_FromServer = '', MainGame_FromText = '', MainGame_FromThisBrowser = '', MainGame_GeneralCancel = '', MainGame_GeneralConfirm = '', MainGame_GeneralOk = '', MainGame_Inventory = '', MainGame_LoadBoxDataIntoGame = '', MainGame_LoadDataPastedBelow = '', MainGame_LoadSavedGame = '', MainGame_Loading = '', MainGame_LoadingNewGame = '', MainGame_Mathsafterans = '..I think', MainGame_Mathsbeforeans = 'mm..thats..', MainGame_NotLoggedIn = '', MainGame_NoteThisWillSaveYourGameOnThisPCAndBrowserOnly = '', MainGame_OnServer = '', MainGame_ResetData = '', MainGame_ResetFirst = '', MainGame_SaveDataToBox = '', MainGame_SaveOrLoadYourGame = '', MainGame_SaveStateAsCompressedLink = '', MainGame_SaveYourGame = '', MainGame_Score_Awarded = 'ScoreAwarded', MainGame_Secrets_Found = '', MainGame_Sending = '', MainGame_StartANewGame = '', MainGame_StoryText_Loading = '', MainGame_Submit = '', MainGame_ThisBigStringContainsYourSavegame = '', MainGame_ToThisBrowser = '', MainGame_UpdateLinkFromBox = '', MainGame_UpdatingPleaseWait = '', MainGame_Welcome_Back = '', MainGame_WindowTitle_Loading = '', MainGame_YouAlreadyHaveThisItem = '', MainGame_is_on_chapter = '', MainGame_submit = '', Scene_GettingScenesData = '', Scene_LoadingLoadingTime = '', Scene_SettingUpScene = '';
var Lcom_lostagain_Jam_GamesInterfaceTextCore_2_classLit = createForClass('com.lostagain.Jam', 'GamesInterfaceTextCore', 665, Ljava_lang_Object_2_classLit);
function $clinit_ActionList(){
  $clinit_ActionList = emptyMethod;
  Log_35 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.ActionList'));
}

function $getActionsForTrigger(this$static, type_0, Parameter){
  var ActionListToReturn, actionSet, actionit;
  ActionListToReturn = new CommandList;
  actionit = new AbstractList$IteratorImpl(this$static);
  while (actionit.i < actionit.this$01_0.size_1()) {
    actionSet = (checkCriticalElement(actionit.i < actionit.this$01_0.size_1()) , dynamicCast(actionit.this$01_0.get_0(actionit.last = actionit.i++), 234));
    $hasTrigger(actionSet, type_0, Parameter) && $addAll_0(ActionListToReturn, actionSet.CommandsInSet);
  }
  return ActionListToReturn;
}

function $getCode(this$static){
  var contents, set_0, set$iterator;
  contents = '';
  for (set$iterator = new AbstractList$IteratorImpl(this$static); set$iterator.i < set$iterator.this$01_0.size_1();) {
    set_0 = (checkCriticalElement(set$iterator.i < set$iterator.this$01_0.size_1()) , dynamicCast(set$iterator.this$01_0.get_0(set$iterator.last = set$iterator.i++), 234));
    contents += $getCode_0(set_0) + ' \n';
  }
  contents += '';
  return contents;
}

function ActionList(){
  $clinit_ActionList();
  ArrayList.call(this);
}

function ActionList_0(sourceString){
  $clinit_ActionList();
  var EndOfSet, StartOfSet, actions, currentLoc, endOfTriggerLine, newset, startOfTriggerLine, triggerLine;
  ArrayList.call(this);
  $info_1(Log_35, 'converting string to action list:\n' + sourceString);
  currentLoc = 0;
  while (currentLoc < sourceString.length) {
    startOfTriggerLine = findNextTriggerLineStart(sourceString, currentLoc);
    if (startOfTriggerLine == -1) {
      break;
    }
    endOfTriggerLine = sourceString.indexOf(':', startOfTriggerLine + 1);
    if (endOfTriggerLine == -1) {
      $info_1(Log_35, 'no more trigger lines');
      break;
    }
    triggerLine = $trim(sourceString.substr(startOfTriggerLine, endOfTriggerLine - startOfTriggerLine));
    StartOfSet = endOfTriggerLine + 1;
    EndOfSet = findNextTriggerLineStart(sourceString, StartOfSet);
    EndOfSet == -1 && (EndOfSet = sourceString.length);
    actions = $trim(sourceString.substr(StartOfSet, EndOfSet - StartOfSet));
    $info_1(Log_35, '______________________________triggerLine:  ' + triggerLine);
    $info_1(Log_35, '______________________________actions: \n ' + actions);
    newset = new ActionSet(actions, triggerLine);
    setCheck(this.array, this.array.length, newset);
    currentLoc = EndOfSet;
  }
  $info_1(Log_35, 'number of actions=' + this.array.length);
}

function findNextTriggerLineStart(contents, currentLoc){
  $clinit_ActionList();
  var LocToTest, NextNewLine, TriggerLine, gapAfterColon, newlinebefore;
  newlinebefore = -1;
  while (currentLoc < contents.length) {
    LocToTest = contents.indexOf(':', currentLoc);
    if (LocToTest == -1) {
      $info_1(Log_35, 'no new triggers');
      return -1;
    }
    NextNewLine = contents.indexOf('\n', LocToTest);
    NextNewLine == -1 && (NextNewLine = contents.length);
    if (NextNewLine > LocToTest + 1) {
      gapAfterColon = contents.substr(LocToTest + 1, NextNewLine - (LocToTest + 1));
      if ($matchesAllOf(($clinit_CharMatcher() , WHITESPACE), gapAfterColon))
      ;
      else {
        currentLoc = LocToTest + 1;
        continue;
      }
    }
    newlinebefore = $lastIndexOf_0(contents, fromCodePoint(10), LocToTest);
    newlinebefore == -1?(newlinebefore = 0):(newlinebefore = newlinebefore + 1);
    TriggerLine = $trim(contents.substr(newlinebefore, LocToTest - newlinebefore));
    if (TriggerLine.indexOf('-') != -1 || TriggerLine.indexOf('(') != -1 || TriggerLine.length < 4 || $equals_5(TriggerLine.substr(0, 1), '\\') || $equals_5(TriggerLine.substr(0, 2), '//')) {
      currentLoc = LocToTest + 1;
      continue;
    }
     else {
      break;
    }
  }
  return newlinebefore;
}

defineClass(196, 18, $intern_5, ActionList, ActionList_0);
_.toString$ = function toString_56(){
  var contents, set_0, set$iterator;
  contents = '';
  for (set$iterator = new AbstractList$IteratorImpl(this); set$iterator.i < set$iterator.this$01_0.size_1();) {
    set_0 = (checkCriticalElement(set$iterator.i < set$iterator.this$01_0.size_1()) , dynamicCast(set$iterator.this$01_0.get_0(set$iterator.last = set$iterator.i++), 234));
    contents += $toString_6(set_0) + ' \n';
  }
  contents += '';
  return contents;
}
;
var Log_35;
var Lcom_lostagain_Jam_InstructionProcessing_ActionList_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'ActionList', 196, Ljava_util_ArrayList_2_classLit);
function $clinit_ActionSet(){
  $clinit_ActionSet = emptyMethod;
  Log_36 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.ActionSet'));
}

function $getCode_0(this$static){
  var str, triggerType;
  str = '';
  if (this$static.Triggers.array.length > 0) {
    triggerType = $name(dynamicCast($get(this$static.Triggers, 0), 57).triggertype);
    dynamicCast($get(this$static.Triggers, 0), 57).parameter != null && (triggerType = triggerType + '=' + dynamicCast($get(this$static.Triggers, 0), 57).parameter);
    str = triggerType + ':\n\n' + $getCode_1(this$static.CommandsInSet);
  }
  return str;
}

function $hasTrigger(this$static, type_0, Parameter){
  var tit, triggers;
  tit = new AbstractList$IteratorImpl(this$static.Triggers);
  while (tit.i < tit.this$01_0.size_1()) {
    triggers = (checkCriticalElement(tit.i < tit.this$01_0.size_1()) , dynamicCast(tit.this$01_0.get_0(tit.last = tit.i++), 57));
    if (triggers.triggertype == type_0) {
      if (Parameter != null) {
        if ($equalsIgnoreCase(triggers.parameter, Parameter)) {
          return true;
        }
      }
       else {
        return true;
      }
    }
  }
  return false;
}

function $setActions(this$static, ListOfActions){
  var actionStrings, i, len, line;
  actionStrings = $split_0(ListOfActions, '\r', 0);
  len = actionStrings.length;
  i = 0;
  while (i < len) {
    line = $trim(actionStrings[i]);
    if (line.length < 3) {
      ++i;
      continue;
    }
    if ($equals_5(line.substr(0, 2), '//')) {
      ++i;
      continue;
    }
     else {
      $add_18(this$static.CommandsInSet, new CommandLine_0(actionStrings[i]));
      ++i;
    }
  }
}

function $setTriggers(this$static, ListOfTriggers){
  var currentTrigger, currentTrigger$iterator, params, triggerstrings;
  triggerstrings = splitNotWithinBrackets(ListOfTriggers, ',');
  for (currentTrigger$iterator = new AbstractList$IteratorImpl(triggerstrings); currentTrigger$iterator.i < currentTrigger$iterator.this$01_0.size_1();) {
    currentTrigger = (checkCriticalElement(currentTrigger$iterator.i < currentTrigger$iterator.this$01_0.size_1()) , dynamicCastToString(currentTrigger$iterator.this$01_0.get_0(currentTrigger$iterator.last = currentTrigger$iterator.i++)));
    $equalsIgnoreCase(currentTrigger, 'MouseOverActions') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , MouseOverAction)));
    $equalsIgnoreCase(currentTrigger, 'MouseOutActions') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , MouseOutAction)));
    if ($equalsIgnoreCase(currentTrigger, 'MouseClickActions')) {
      $info_1(Log_36, 'setting mouse click action trigger');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , MouseClickAction)));
    }
    if ($equalsIgnoreCase(currentTrigger, 'BackgroundClickActions')) {
      $info_1(Log_36, 'setting BackgroundClick action trigger');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , BackgroundClickAction)));
    }
    if ($equalsIgnoreCase(currentTrigger, 'BackgroundRightClickActions')) {
      $info_1(Log_36, 'setting BackgroundRightClickActions action trigger');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , BackgroundRightClickActions)));
    }
    if ($equalsIgnoreCase(currentTrigger, 'SceneToFrontActions')) {
      $info_1(Log_36, 'setting SceneToFrontActions action trigger');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , SceneToFrontActions)));
    }
    if ($equalsIgnoreCase(currentTrigger, 'SceneDebut')) {
      $info_1(Log_36, 'setting SceneDebut action trigger');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , SceneDebut)));
    }
    if ($equalsIgnoreCase(currentTrigger, 'SceneToBackActions')) {
      $info_1(Log_36, 'setting SceneToBackActions action trigger');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , SceneToBackActions)));
    }
    $equalsIgnoreCase(currentTrigger, 'MouseRightClickActions') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , MouseRightClickAction)));
    if ($startsWith(currentTrigger.toLowerCase(), 'useractionused')) {
      params = $trim($split_0(currentTrigger, '=', 0)[1]);
      this$static.Triggers.add_0(new ActionSet$Trigger_0(($clinit_ActionSet$TriggerType() , UserActionUsed), params));
    }
    if ($startsWith(currentTrigger.toLowerCase(), 'propertyremovedactions')) {
      params = $trim($split_0(currentTrigger, '=', 0)[1]);
      this$static.Triggers.add_0(new ActionSet$Trigger_0(($clinit_ActionSet$TriggerType() , PropertyRemovedActions), params));
    }
    if ($startsWith(currentTrigger.toLowerCase(), 'propertyaddedactions')) {
      params = $trim($split_0(currentTrigger, '=', 0)[1]);
      this$static.Triggers.add_0(new ActionSet$Trigger_0(($clinit_ActionSet$TriggerType() , PropertyAddedActions), params));
    }
    $equalsIgnoreCase(currentTrigger, 'OnFirstLoad') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnFirstLoad)));
    $equalsIgnoreCase(currentTrigger, 'OnReload') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnReload)));
    $startsWith(currentTrigger.toLowerCase(), 'oncloned') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnCloned)));
    $equalsIgnoreCase(currentTrigger, 'OnTouchingChange') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnTouchingChange)));
    $equalsIgnoreCase(currentTrigger, 'UsedOnObject') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , UsedOnObject)));
    $equalsIgnoreCase(currentTrigger, 'OnDropped') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnDropped)));
    $equalsIgnoreCase(currentTrigger, 'OnItemOpen') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnItemOpen)));
    $equalsIgnoreCase(currentTrigger, 'OnItemClose') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnItemClose)));
    if ($startsWith(currentTrigger.toLowerCase(), 'ondirectionchanged')) {
      $info_1(Log_36, 'on direction changed:');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnDirectionChanged)));
    }
    if ($startsWith(currentTrigger.toLowerCase(), 'onkeypress')) {
      params = $trim($split_0(currentTrigger, '=', 0)[1]);
      $info_1(Log_36, 'onkeypress params:' + params);
      this$static.Triggers.add_0(new ActionSet$Trigger_0(($clinit_ActionSet$TriggerType() , OnKeyPress), params));
    }
    if ($startsWith(currentTrigger.toLowerCase(), 'onmessagestart')) {
      $info_1(Log_36, 'onmessagestart added');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnMessageStart)));
    }
    if ($startsWith(currentTrigger.toLowerCase(), 'onmessageend')) {
      $info_1(Log_36, 'onmessageend added');
      this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnMessageEnd)));
    }
    if ($startsWith(currentTrigger.toLowerCase(), 'onstep')) {
      params = $trim($split_0(currentTrigger, '=', 0)[1]);
      $info_1(Log_36, 'on step:' + params);
      this$static.Triggers.add_0(new ActionSet$Trigger_0(($clinit_ActionSet$TriggerType() , OnStep), params));
    }
    if ($startsWith(currentTrigger.toLowerCase(), 'onanimationend')) {
      params = $trim($split_0(currentTrigger, '=', 0)[1]);
      $info_1(Log_36, 'animation end params:' + params);
      this$static.Triggers.add_0(new ActionSet$Trigger_0(($clinit_ActionSet$TriggerType() , OnAnimationEnd), params));
    }
    $startsWith(currentTrigger.toLowerCase(), 'onmovementend') && this$static.Triggers.add_0(new ActionSet$Trigger(($clinit_ActionSet$TriggerType() , OnMovementEnd)));
    if ($startsWith(currentTrigger.toLowerCase(), 'namedactionset')) {
      params = $trim($split_0(currentTrigger, '=', 0)[1]);
      this$static.Triggers.add_0(new ActionSet$Trigger_0(($clinit_ActionSet$TriggerType() , NamedActionSet), params));
    }
    if ($startsWith(currentTrigger.toLowerCase(), 'defaultactionfor')) {
      params = $trim($split_0(currentTrigger, '=', 0)[1]);
      this$static.Triggers.add_0(new ActionSet$Trigger_0(($clinit_ActionSet$TriggerType() , DefaultActionFor), params));
    }
  }
}

function $toString_6(this$static){
  var str;
  str = '[no triggers]';
  this$static.Triggers.array.length > 0 && (str = dynamicCast($get(this$static.Triggers, 0), 57).triggertype + ' :\n ' + $toString_8(this$static.CommandsInSet));
  return str;
}

function ActionSet(Actions, Triggers){
  $clinit_ActionSet();
  this.CommandsInSet = new CommandList;
  this.Triggers = new ArrayList;
  $setActions(this, Actions);
  $setTriggers(this, Triggers);
}

defineClass(234, 1, {234:1}, ActionSet);
_.toString$ = function toString_57(){
  return $toString_6(this);
}
;
var Log_36;
var Lcom_lostagain_Jam_InstructionProcessing_ActionSet_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'ActionSet', 234, Ljava_lang_Object_2_classLit);
function $$init_11(this$static){
}

function ActionSet$Trigger(type_0){
  $$init_11(this);
  this.triggertype = type_0;
}

function ActionSet$Trigger_0(type_0, param){
  $$init_11(this);
  this.triggertype = type_0;
  this.parameter = param;
}

defineClass(57, 1, {57:1}, ActionSet$Trigger, ActionSet$Trigger_0);
_.parameter = null;
var Lcom_lostagain_Jam_InstructionProcessing_ActionSet$Trigger_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'ActionSet/Trigger', 57, Ljava_lang_Object_2_classLit);
function $clinit_ActionSet$TriggerType(){
  $clinit_ActionSet$TriggerType = emptyMethod;
  MouseClickAction = new ActionSet$TriggerType('MouseClickAction', 0);
  MouseRightClickAction = new ActionSet$TriggerType('MouseRightClickAction', 1);
  MouseOverAction = new ActionSet$TriggerType('MouseOverAction', 2);
  MouseOutAction = new ActionSet$TriggerType('MouseOutAction', 3);
  PropertyAddedActions = new ActionSet$TriggerType('PropertyAddedActions', 4);
  PropertyRemovedActions = new ActionSet$TriggerType('PropertyRemovedActions', 5);
  UserActionUsed = new ActionSet$TriggerType('UserActionUsed', 6);
  OnFirstLoad = new ActionSet$TriggerType('OnFirstLoad', 7);
  OnReload = new ActionSet$TriggerType('OnReload', 8);
  UsedOnObject = new ActionSet$TriggerType('UsedOnObject', 9);
  OnTouchingChange = new ActionSet$TriggerType('OnTouchingChange', 10);
  DefaultActionFor = new ActionSet$TriggerType('DefaultActionFor', 11);
  OnAnimationEnd = new ActionSet$TriggerType('OnAnimationEnd', 12);
  NamedActionSet = new ActionSet$TriggerType('NamedActionSet', 13);
  OnDropped = new ActionSet$TriggerType('OnDropped', 14);
  OnKeyPress = new ActionSet$TriggerType('OnKeyPress', 15);
  OnMessageStart = new ActionSet$TriggerType('OnMessageStart', 16);
  OnMessageEnd = new ActionSet$TriggerType('OnMessageEnd', 17);
  OnDirectionChanged = new ActionSet$TriggerType('OnDirectionChanged', 18);
  OnStep = new ActionSet$TriggerType('OnStep', 19);
  BackgroundClickAction = new ActionSet$TriggerType('BackgroundClickAction', 20);
  BackgroundRightClickActions = new ActionSet$TriggerType('BackgroundRightClickActions', 21);
  SceneToFrontActions = new ActionSet$TriggerType('SceneToFrontActions', 22);
  SceneDebut = new ActionSet$TriggerType('SceneDebut', 23);
  SceneToBackActions = new ActionSet$TriggerType('SceneToBackActions', 24);
  OnCloned = new ActionSet$TriggerType('OnCloned', 25);
  OnMovementEnd = new ActionSet$TriggerType('OnMovementEnd', 26);
  OnItemOpen = new ActionSet$TriggerType('OnItemOpen', 27);
  OnItemClose = new ActionSet$TriggerType('OnItemClose', 28);
}

function ActionSet$TriggerType(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_26(name_0){
  $clinit_ActionSet$TriggerType();
  return valueOf(($clinit_ActionSet$TriggerType$Map() , $MAP_24), name_0);
}

function values_32(){
  $clinit_ActionSet$TriggerType();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_InstructionProcessing_ActionSet$TriggerType_2_classLit, 1), $intern_1, 69, 0, [MouseClickAction, MouseRightClickAction, MouseOverAction, MouseOutAction, PropertyAddedActions, PropertyRemovedActions, UserActionUsed, OnFirstLoad, OnReload, UsedOnObject, OnTouchingChange, DefaultActionFor, OnAnimationEnd, NamedActionSet, OnDropped, OnKeyPress, OnMessageStart, OnMessageEnd, OnDirectionChanged, OnStep, BackgroundClickAction, BackgroundRightClickActions, SceneToFrontActions, SceneDebut, SceneToBackActions, OnCloned, OnMovementEnd, OnItemOpen, OnItemClose]);
}

defineClass(69, 9, {69:1, 3:1, 21:1, 9:1}, ActionSet$TriggerType);
var BackgroundClickAction, BackgroundRightClickActions, DefaultActionFor, MouseClickAction, MouseOutAction, MouseOverAction, MouseRightClickAction, NamedActionSet, OnAnimationEnd, OnCloned, OnDirectionChanged, OnDropped, OnFirstLoad, OnItemClose, OnItemOpen, OnKeyPress, OnMessageEnd, OnMessageStart, OnMovementEnd, OnReload, OnStep, OnTouchingChange, PropertyAddedActions, PropertyRemovedActions, SceneDebut, SceneToBackActions, SceneToFrontActions, UsedOnObject, UserActionUsed;
var Lcom_lostagain_Jam_InstructionProcessing_ActionSet$TriggerType_2_classLit = createForEnum('com.lostagain.Jam.InstructionProcessing', 'ActionSet/TriggerType', 69, Ljava_lang_Enum_2_classLit, values_32, valueOf_26);
function $clinit_ActionSet$TriggerType$Map(){
  $clinit_ActionSet$TriggerType$Map = emptyMethod;
  $MAP_24 = createValueOfMap(values_32());
}

var $MAP_24;
function Answer_0(Answer, Chapter, ScriptCodeBlock){
  this.Answer = Answer;
  this.Chapter = Chapter;
  this.ScriptCodeBlock = StringToCommandList(ScriptCodeBlock);
}

defineClass(265, 1, {265:1}, Answer_0);
var Lcom_lostagain_Jam_InstructionProcessing_Answer_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'Answer', 265, Ljava_lang_Object_2_classLit);
function $clinit_CommandLine(){
  $clinit_CommandLine = emptyMethod;
  Log_37 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.CommandLine'));
}

function $$init_12(this$static){
  this$static.TheCommand = ($clinit_CommandLine$GameCommands() , notarecognisedcommand);
}

function $toString_7(this$static){
  if (this$static.TheCommand == ($clinit_CommandLine$GameCommands() , CONDITIONAL)) {
    return this$static.TheParameters.rawParameterString;
  }
  if (!this$static.TheParameters) {
    return '- ' + $name(this$static.TheCommand);
  }
  return '- ' + $name(this$static.TheCommand) + ' = ' + this$static.TheParameters.rawParameterString;
}

function CommandLine(command, params){
  $clinit_CommandLine();
  $$init_12(this);
  this.TheCommand = command;
  this.TheParameters = new CommandParameterSet(params);
  this.TheParameters.isEmpty && $usesParameters(this.TheCommand) && $warning_0(Log_37, 'No parameters specified for ' + $name(this.TheCommand) + '. For a few things (NextParagraph..) this is fine, but most commands will have a parameter so if errors follow this statement this is probably why');
}

function CommandLine_0(basicCommandLine){
  $clinit_CommandLine();
  var stringCommand;
  $$init_12(this);
  basicCommandLine = $trim(basicCommandLine);
  if (basicCommandLine.length < 2) {
    $info_1(Log_37, 'Empty command line, ignoring');
    return;
  }
  if ($equals_5(basicCommandLine.substr(0, 1), '(') || $equals_5(basicCommandLine.substr(0, 2), '-(') || $equals_5(basicCommandLine.substr(0, 3), '- (')) {
    this.TheCommand = ($clinit_CommandLine$GameCommands() , CONDITIONAL);
    this.TheParameters = new CommandParameterSet(basicCommandLine);
    basicCommandLine = $trim($substring_0($trim(basicCommandLine), basicCommandLine.indexOf('(') + 1, basicCommandLine.lastIndexOf(')')));
    this.CONDITIONS = new ConditionalList(basicCommandLine);
    return;
  }
  if ($equals_5(basicCommandLine.substr(0, 1), '-')) {
    basicCommandLine = __substr(basicCommandLine, 1, basicCommandLine.length - 1);
    stringCommand = $trim(basicCommandLine);
    if (basicCommandLine.indexOf('=') != -1 && !$endsWith(basicCommandLine, '=')) {
      stringCommand = $trim($split_0(basicCommandLine, '=', 2)[0]);
      this.TheParameters = new CommandParameterSet($trim($split_0(basicCommandLine, '=', 2)[1]));
    }
     else {
      this.TheParameters = new CommandParameterSet('');
    }
    $endsWith(basicCommandLine, '=') && (stringCommand = $trim($split_0(basicCommandLine, '=', 2)[0]));
    try {
      this.TheCommand = dynamicCast(valueOf_0(Lcom_lostagain_Jam_InstructionProcessing_CommandLine$GameCommands_2_classLit, stringCommand.toLowerCase()), 10);
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 37)) {
        $info_1(Log_37, "not a recognised command '" + stringCommand.toLowerCase() + "' so we return");
        return;
      }
       else 
        throw unwrap($e0);
    }
    this.TheParameters.isEmpty && $usesParameters(this.TheCommand) && $warning_0(Log_37, 'No parameters specified for ' + basicCommandLine + '. For a few things (NextParagraph..) this is fine, but most commands will have a parameter so if errors follow this statement this is probably why');
  }
   else {
    $info_1(Log_37, 'Command not recognised. Maybe it didnt start with "-" ?');
    $info_1(Log_37, 'Command was ' + basicCommandLine);
  }
}

defineClass(184, 1, {184:1}, CommandLine, CommandLine_0);
_.toString$ = function toString_58(){
  return $toString_7(this);
}
;
_.CONDITIONS = null;
var Log_37;
var Lcom_lostagain_Jam_InstructionProcessing_CommandLine_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'CommandLine', 184, Ljava_lang_Object_2_classLit);
function $clinit_CommandLine$GameCommands(){
  $clinit_CommandLine$GameCommands = emptyMethod;
  exitactions = new CommandLine$GameCommands('exitactions', 0);
  notarecognisedcommand = new CommandLine$GameCommands('notarecognisedcommand', 1);
  CONDITIONAL = new CommandLine$GameCommands('CONDITIONAL', 2);
  sendclickto = new CommandLine$GameCommands('sendclickto', 3);
  sendrightclickto = new CommandLine$GameCommands('sendrightclickto', 4);
  clearlastsceneobject = new CommandLine$GameCommands('clearlastsceneobject', 5);
  displaymenu = new CommandLine$GameCommands('displaymenu', 6);
  applyaction = new CommandLine$GameCommands('applyaction', 7);
  toggleinventory = new CommandLine$GameCommands('toggleinventory', 8);
  toggleloadgame = new CommandLine$GameCommands('toggleloadgame', 9);
  displayinventorylist = new CommandLine$GameCommands('displayinventorylist', 10);
  bamfobject = new CommandLine$GameCommands('bamfobject', 11);
  bamfitem = new CommandLine$GameCommands('bamfitem', 12);
  settext = new CommandLine$GameCommands('settext', 13);
  setcurrenttext = new CommandLine$GameCommands('setcurrenttext', 14);
  settexturl = new CommandLine$GameCommands('settexturl', 15);
  setobjecturl = new CommandLine$GameCommands('setobjecturl', 16);
  addobjecttouching = new CommandLine$GameCommands('addobjecttouching', 17);
  removeobjecttouching = new CommandLine$GameCommands('removeobjecttouching', 18);
  setobjectpin = new CommandLine$GameCommands('setobjectpin', 19);
  setobjecttoscene = new CommandLine$GameCommands('setobjecttoscene', 20);
  setobjecttopositionof = new CommandLine$GameCommands('setobjecttopositionof', 21);
  setobjectcss = new CommandLine$GameCommands('setobjectcss', 22);
  addobjectcss = new CommandLine$GameCommands('addobjectcss', 23);
  removeobjectcss = new CommandLine$GameCommands('removeobjectcss', 24);
  filloptionbox = new CommandLine$GameCommands('filloptionbox', 25);
  addboxoptions = new CommandLine$GameCommands('addboxoptions', 26);
  moveobjectto = new CommandLine$GameCommands('moveobjectto', 27);
  moveobject = new CommandLine$GameCommands('moveobject', 28);
  droptofloor = new CommandLine$GameCommands('droptofloor', 29);
  droptoparentsbase = new CommandLine$GameCommands('droptoparentsbase', 30);
  addimpulse = new CommandLine$GameCommands('addimpulse', 31);
  addlink = new CommandLine$GameCommands('addlink', 32);
  removelink = new CommandLine$GameCommands('removelink', 33);
  cloneat = new CommandLine$GameCommands('cloneat', 34);
  setobjectposition = new CommandLine$GameCommands('setobjectposition', 35);
  setobjectzindex = new CommandLine$GameCommands('setobjectzindex', 36);
  linkzindex = new CommandLine$GameCommands('linkzindex', 37);
  addobjectproperty = new CommandLine$GameCommands('addobjectproperty', 38);
  removeobjectproperty = new CommandLine$GameCommands('removeobjectproperty', 39);
  removeallobjectproperties = new CommandLine$GameCommands('removeallobjectproperties', 40);
  swapobjectproperty = new CommandLine$GameCommands('swapobjectproperty', 41);
  saveobjectstate = new CommandLine$GameCommands('saveobjectstate', 42);
  restoreobjectstate = new CommandLine$GameCommands('restoreobjectstate', 43);
  gotoobjectmovement = new CommandLine$GameCommands('gotoobjectmovement', 44);
  chuckobjectat = new CommandLine$GameCommands('chuckobjectat', 45);
  chuckobjectintoinventory = new CommandLine$GameCommands('chuckobjectintoinventory', 46);
  setobjectmovement = new CommandLine$GameCommands('setobjectmovement', 47);
  stopobjectmovement = new CommandLine$GameCommands('stopobjectmovement', 48);
  previousparagraph = new CommandLine$GameCommands('previousparagraph', 49);
  setparagraph = new CommandLine$GameCommands('setparagraph', 50);
  settextcss = new CommandLine$GameCommands('settextcss', 51);
  addtextcss = new CommandLine$GameCommands('addtextcss', 52);
  removetextcss = new CommandLine$GameCommands('removetextcss', 53);
  nextparagraph = new CommandLine$GameCommands('nextparagraph', 54);
  setobjectframegap = new CommandLine$GameCommands('setobjectframegap', 55);
  setframegap = new CommandLine$GameCommands('setframegap', 56);
  subtractobjectvariable = new CommandLine$GameCommands('subtractobjectvariable', 57);
  addobjectvariable = new CommandLine$GameCommands('addobjectvariable', 58);
  setobjectvariable = new CommandLine$GameCommands('setobjectvariable', 59);
  setobjectstate = new CommandLine$GameCommands('setobjectstate', 60);
  setanimationmode = new CommandLine$GameCommands('setanimationmode', 61);
  setsceneposition = new CommandLine$GameCommands('setsceneposition', 62);
  scrollscenetoposition = new CommandLine$GameCommands('scrollscenetoposition', 63);
  setsceneshake = new CommandLine$GameCommands('setsceneshake', 64);
  setscenebackground = new CommandLine$GameCommands('setscenebackground', 65);
  savegame = new CommandLine$GameCommands('savegame', 66);
  setvectorstring = new CommandLine$GameCommands('setvectorstring', 67);
  loadscenedata = new CommandLine$GameCommands('loadscenedata', 68);
  loadscenestate = new CommandLine$GameCommands('loadscenestate', 69);
  savescenestate = new CommandLine$GameCommands('savescenestate', 70);
  setcurrentscenescroll = new CommandLine$GameCommands('setcurrentscenescroll', 71);
  cleargamedata = new CommandLine$GameCommands('cleargamedata', 72);
  resetscene = new CommandLine$GameCommands('resetscene', 73);
  resetobject = new CommandLine$GameCommands('resetobject', 74);
  fadeout = new CommandLine$GameCommands('fadeout', 75);
  fadein = new CommandLine$GameCommands('fadein', 76);
  objectvisible = new CommandLine$GameCommands('objectvisible', 77);
  removeobject = new CommandLine$GameCommands('removeobject', 78);
  runnamedcommandsafter = new CommandLine$GameCommands('runnamedcommandsafter', 79);
  stopnamedcommands = new CommandLine$GameCommands('stopnamedcommands', 80);
  runnamedcommandsevery = new CommandLine$GameCommands('runnamedcommandsevery', 81);
  runnamedcommands = new CommandLine$GameCommands('runnamedcommands', 82);
  setscenestaticoverlay = new CommandLine$GameCommands('setscenestaticoverlay', 83);
  setscenedynamicoverlay = new CommandLine$GameCommands('setscenedynamicoverlay', 84);
  setmouseimage = new CommandLine$GameCommands('setmouseimage', 85);
  setscore = new CommandLine$GameCommands('setscore', 86);
  addvariable = new CommandLine$GameCommands('addvariable', 87);
  subvariable = new CommandLine$GameCommands('subvariable', 88);
  setvariable = new CommandLine$GameCommands('setvariable', 89);
  setmessagedelay = new CommandLine$GameCommands('setmessagedelay', 90);
  previousmessage = new CommandLine$GameCommands('previousmessage', 91);
  message_0 = new CommandLine$GameCommands('message', 92);
  setlocation_0 = new CommandLine$GameCommands('setlocation', 93);
  enterans = new CommandLine$GameCommands('enterans', 94);
  setcluebox = new CommandLine$GameCommands('setcluebox', 95);
  addscore = new CommandLine$GameCommands('addscore', 96);
  pointsawardedfor = new CommandLine$GameCommands('pointsawardedfor', 97);
  setmessagespeed = new CommandLine$GameCommands('setmessagespeed', 98);
  addinventory = new CommandLine$GameCommands('addinventory', 99);
  pocketobject = new CommandLine$GameCommands('pocketobject', 100);
  additem = new CommandLine$GameCommands('additem', 101);
  holditem = new CommandLine$GameCommands('holditem', 102);
  unholditem = new CommandLine$GameCommands('unholditem', 103);
  clearinventory = new CommandLine$GameCommands('clearinventory', 104);
  removeitem = new CommandLine$GameCommands('removeitem', 105);
  specialeffect = new CommandLine$GameCommands('specialeffect', 106);
  loadscene = new CommandLine$GameCommands('loadscene', 107);
  loadscenesilently = new CommandLine$GameCommands('loadscenesilently', 108);
  gotoscene = new CommandLine$GameCommands('gotoscene', 109);
  storybox = new CommandLine$GameCommands('storybox', 110);
  selectscene = new CommandLine$GameCommands('selectscene', 111);
  selectscenesilently = new CommandLine$GameCommands('selectscenesilently', 112);
  selectpage = new CommandLine$GameCommands('selectpage', 113);
  removelocation = new CommandLine$GameCommands('removelocation', 114);
  openitem = new CommandLine$GameCommands('openitem', 115);
  setitemstate = new CommandLine$GameCommands('setitemstate', 116);
  openurl = new CommandLine$GameCommands('openurl', 117);
  newchapter = new CommandLine$GameCommands('newchapter', 118);
  addprofile = new CommandLine$GameCommands('addprofile', 119);
  settigitem = new CommandLine$GameCommands('settigitem', 120);
  checktig = new CommandLine$GameCommands('checktig', 121);
  disabletig = new CommandLine$GameCommands('disabletig', 122);
  tigmessage = new CommandLine$GameCommands('tigmessage', 123);
  popupmessage = new CommandLine$GameCommands('popupmessage', 124);
  popupadvert = new CommandLine$GameCommands('popupadvert', 125);
  popupimage = new CommandLine$GameCommands('popupimage', 126);
  stopsounds = new CommandLine$GameCommands('stopsounds', 127);
  setdefaultsound = new CommandLine$GameCommands('setdefaultsound', 128);
  stopobjectsound = new CommandLine$GameCommands('stopobjectsound', 129);
  playobjectsound = new CommandLine$GameCommands('playobjectsound', 130);
  playsound = new CommandLine$GameCommands('playsound', 131);
  cacheaudiotrack = new CommandLine$GameCommands('cacheaudiotrack', 132);
  cachemusictrack = new CommandLine$GameCommands('cachemusictrack', 133);
  addmusictrack = new CommandLine$GameCommands('addmusictrack', 134);
  playmusictrack = new CommandLine$GameCommands('playmusictrack', 135);
  setcurrentmusictrackvolume = new CommandLine$GameCommands('setcurrentmusictrackvolume', 136);
  addsecret = new CommandLine$GameCommands('addsecret', 137);
  openpanel = new CommandLine$GameCommands('openpanel', 138);
  sendemail = new CommandLine$GameCommands('sendemail', 139);
  setstorypagescrollbars = new CommandLine$GameCommands('setstorypagescrollbars', 140);
  setsoldiericon = new CommandLine$GameCommands('setsoldiericon', 141);
  setclockladyicon = new CommandLine$GameCommands('setclockladyicon', 142);
  setinventoryicon = new CommandLine$GameCommands('setinventoryicon', 143);
  setstoryboxbackgroundclass = new CommandLine$GameCommands('setstoryboxbackgroundclass', 144);
  removeclassfromelement = new CommandLine$GameCommands('removeclassfromelement', 145);
  addclasstoelement = new CommandLine$GameCommands('addclasstoelement', 146);
  setclassonelement = new CommandLine$GameCommands('setclassonelement', 147);
  showelement = new CommandLine$GameCommands('showelement', 148);
  hideelement = new CommandLine$GameCommands('hideelement', 149);
  fadeoutelement = new CommandLine$GameCommands('fadeoutelement', 150);
  fadeinelement = new CommandLine$GameCommands('fadeinelement', 151);
  setstyleonelement = new CommandLine$GameCommands('setstyleonelement', 152);
  replacediv = new CommandLine$GameCommands('replacediv', 153);
  setbackgroundclass = new CommandLine$GameCommands('setbackgroundclass', 154);
  setbackgroundimage = new CommandLine$GameCommands('setbackgroundimage', 155);
  setclockmode = new CommandLine$GameCommands('setclockmode', 156);
  debug_image_urls = new CommandLine$GameCommands('debug_image_urls', 157);
  setgamemode = new CommandLine$GameCommands('setgamemode', 158);
  currentparagraph = new CommandLine$GameCommands('currentparagraph', 159);
  clearmenu = new CommandLine$GameCommands('clearmenu', 160);
}

function $usesParameters(this$static){
  if (this$static == clearlastsceneobject || this$static == exitactions || this$static == unholditem || this$static == toggleloadgame || this$static == cleargamedata || this$static == loadscenestate || this$static == savegame) {
    return false;
  }
  return true;
}

function $usesRandomSplit(this$static){
  if (this$static == loadscenedata) {
    return false;
  }
  return true;
}

function $usesVariables(this$static){
  if (this$static == loadscenedata) {
    return false;
  }
  return true;
}

function CommandLine$GameCommands(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
  this.beforeCursor = (this.name_0 != null?this.name_0:'' + this.ordinal).toLowerCase();
}

function valueOf_27(name_0){
  $clinit_CommandLine$GameCommands();
  return valueOf(($clinit_CommandLine$GameCommands$Map() , $MAP_25), name_0);
}

function values_33(){
  $clinit_CommandLine$GameCommands();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_InstructionProcessing_CommandLine$GameCommands_2_classLit, 1), $intern_1, 10, 0, [exitactions, notarecognisedcommand, CONDITIONAL, sendclickto, sendrightclickto, clearlastsceneobject, displaymenu, applyaction, toggleinventory, toggleloadgame, displayinventorylist, bamfobject, bamfitem, settext, setcurrenttext, settexturl, setobjecturl, addobjecttouching, removeobjecttouching, setobjectpin, setobjecttoscene, setobjecttopositionof, setobjectcss, addobjectcss, removeobjectcss, filloptionbox, addboxoptions, moveobjectto, moveobject, droptofloor, droptoparentsbase, addimpulse, addlink, removelink, cloneat, setobjectposition, setobjectzindex, linkzindex, addobjectproperty, removeobjectproperty, removeallobjectproperties, swapobjectproperty, saveobjectstate, restoreobjectstate, gotoobjectmovement, chuckobjectat, chuckobjectintoinventory, setobjectmovement, stopobjectmovement, previousparagraph, setparagraph, settextcss, addtextcss, removetextcss, nextparagraph, setobjectframegap, setframegap, subtractobjectvariable, addobjectvariable, setobjectvariable, setobjectstate, setanimationmode, setsceneposition, scrollscenetoposition, setsceneshake, setscenebackground, savegame, setvectorstring, loadscenedata, loadscenestate, savescenestate, setcurrentscenescroll, cleargamedata, resetscene, resetobject, fadeout, fadein, objectvisible, removeobject, runnamedcommandsafter, stopnamedcommands, runnamedcommandsevery, runnamedcommands, setscenestaticoverlay, setscenedynamicoverlay, setmouseimage, setscore, addvariable, subvariable, setvariable, setmessagedelay, previousmessage, message_0, setlocation_0, enterans, setcluebox, addscore, pointsawardedfor, setmessagespeed, addinventory, pocketobject, additem, holditem, unholditem, clearinventory, removeitem, specialeffect, loadscene, loadscenesilently, gotoscene, storybox, selectscene, selectscenesilently, selectpage, removelocation, openitem, setitemstate, openurl, newchapter, addprofile, settigitem, checktig, disabletig, tigmessage, popupmessage, popupadvert, popupimage, stopsounds, setdefaultsound, stopobjectsound, playobjectsound, playsound, cacheaudiotrack, cachemusictrack, addmusictrack, playmusictrack, setcurrentmusictrackvolume, addsecret, openpanel, sendemail, setstorypagescrollbars, setsoldiericon, setclockladyicon, setinventoryicon, setstoryboxbackgroundclass, removeclassfromelement, addclasstoelement, setclassonelement, showelement, hideelement, fadeoutelement, fadeinelement, setstyleonelement, replacediv, setbackgroundclass, setbackgroundimage, setclockmode, debug_image_urls, setgamemode, currentparagraph, clearmenu]);
}

defineClass(10, 9, {1550:1, 10:1, 3:1, 21:1, 9:1}, CommandLine$GameCommands);
_.afterCursor = ' ';
_.beforeCursor = '';
_.description_0 = '.';
_.parameterSeperator = ',';
_.scriptMarkEnd = '\n';
_.scriptMarkStart = '-';
var CONDITIONAL, addboxoptions, addclasstoelement, addimpulse, addinventory, additem, addlink, addmusictrack, addobjectcss, addobjectproperty, addobjecttouching, addobjectvariable, addprofile, addscore, addsecret, addtextcss, addvariable, applyaction, bamfitem, bamfobject, cacheaudiotrack, cachemusictrack, checktig, chuckobjectat, chuckobjectintoinventory, cleargamedata, clearinventory, clearlastsceneobject, clearmenu, cloneat, currentparagraph, debug_image_urls, disabletig, displayinventorylist, displaymenu, droptofloor, droptoparentsbase, enterans, exitactions, fadein, fadeinelement, fadeout, fadeoutelement, filloptionbox, gotoobjectmovement, gotoscene, hideelement, holditem, linkzindex, loadscene, loadscenedata, loadscenesilently, loadscenestate, message_0, moveobject, moveobjectto, newchapter, nextparagraph, notarecognisedcommand, objectvisible, openitem, openpanel, openurl, playmusictrack, playobjectsound, playsound, pocketobject, pointsawardedfor, popupadvert, popupimage, popupmessage, previousmessage, previousparagraph, removeallobjectproperties, removeclassfromelement, removeitem, removelink, removelocation, removeobject, removeobjectcss, removeobjectproperty, removeobjecttouching, removetextcss, replacediv, resetobject, resetscene, restoreobjectstate, runnamedcommands, runnamedcommandsafter, runnamedcommandsevery, savegame, saveobjectstate, savescenestate, scrollscenetoposition, selectpage, selectscene, selectscenesilently, sendclickto, sendemail, sendrightclickto, setanimationmode, setbackgroundclass, setbackgroundimage, setclassonelement, setclockladyicon, setclockmode, setcluebox, setcurrentmusictrackvolume, setcurrentscenescroll, setcurrenttext, setdefaultsound, setframegap, setgamemode, setinventoryicon, setitemstate, setlocation_0, setmessagedelay, setmessagespeed, setmouseimage, setobjectcss, setobjectframegap, setobjectmovement, setobjectpin, setobjectposition, setobjectstate, setobjecttopositionof, setobjecttoscene, setobjecturl, setobjectvariable, setobjectzindex, setparagraph, setscenebackground, setscenedynamicoverlay, setsceneposition, setsceneshake, setscenestaticoverlay, setscore, setsoldiericon, setstoryboxbackgroundclass, setstorypagescrollbars, setstyleonelement, settext, settextcss, settexturl, settigitem, setvariable, setvectorstring, showelement, specialeffect, stopnamedcommands, stopobjectmovement, stopobjectsound, stopsounds, storybox, subtractobjectvariable, subvariable, swapobjectproperty, tigmessage, toggleinventory, toggleloadgame, unholditem;
var Lcom_lostagain_Jam_InstructionProcessing_CommandLine$GameCommands_2_classLit = createForEnum('com.lostagain.Jam.InstructionProcessing', 'CommandLine/GameCommands', 10, Ljava_lang_Enum_2_classLit, values_33, valueOf_27);
function $clinit_CommandLine$GameCommands$Map(){
  $clinit_CommandLine$GameCommands$Map = emptyMethod;
  $MAP_25 = createValueOfMap(values_33());
}

var $MAP_25;
function $clinit_CommandList(){
  $clinit_CommandList = emptyMethod;
  Log_38 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.CommandList'));
}

function $$init_13(this$static){
  this$static.loop_0 = new AbstractList$IteratorImpl(this$static);
}

function $add_18(this$static, newcommand){
  return !!newcommand && (setCheck(this$static.array, this$static.array.length, newcommand) , true);
}

function $getCode_1(this$static){
  var cline, cline$iterator, str;
  str = '';
  for (cline$iterator = new AbstractList$IteratorImpl(this$static); cline$iterator.i < cline$iterator.this$01_0.size_1();) {
    cline = (checkCriticalElement(cline$iterator.i < cline$iterator.this$01_0.size_1()) , dynamicCast(cline$iterator.this$01_0.get_0(cline$iterator.last = cline$iterator.i++), 184));
    str = str + $toString_7(cline) + '\n';
  }
  return str;
}

function $getNextConditional(this$static){
  var currentLine;
  while ($hasNext_1(this$static.loop_0)) {
    currentLine = dynamicCast($next_6(this$static.loop_0), 184);
    if (currentLine.TheCommand == ($clinit_CommandLine$GameCommands() , CONDITIONAL)) {
      return currentLine;
    }
  }
  return null;
}

function $toString_8(this$static){
  var cl, cl$iterator, string;
  string = '[';
  for (cl$iterator = new AbstractList$IteratorImpl(this$static); cl$iterator.i < cl$iterator.this$01_0.size_1();) {
    cl = (checkCriticalElement(cl$iterator.i < cl$iterator.this$01_0.size_1()) , dynamicCast(cl$iterator.this$01_0.get_0(cl$iterator.last = cl$iterator.i++), 184));
    string = string + $toString_7(cl) + '\n';
  }
  return string + ']';
}

function CommandList(){
  $clinit_CommandList();
  ArrayList.call(this);
  $$init_13(this);
}

function CommandList_0(list){
  $clinit_CommandList();
  var ListIT, i, line, nextLine, nexti;
  ArrayList.call(this);
  $$init_13(this);
  $info_1(Log_38, 'parsing command list:' + list);
  ListIT = $split_0(list, '\r?\n|\r', 0);
  for (i = 0; i < ListIT.length; i++) {
    line = ListIT[i];
    if ($equals_5(line.substr(0, 1), '\\') || !line.length || $equals_5(line.substr(0, 2), '//')) {
      continue;
    }
    for (nexti = i + 1; nexti < ListIT.length; nexti++) {
      nextLine = ListIT[nexti];
      if ($equals_5(nextLine.substr(0, 1), '\\') || $equals_5(nextLine.substr(0, 2), '//')) {
        continue;
      }
      if ($startsWith($trim(nextLine), '-') || $startsWith($trim(nextLine), '(')) {
        break;
      }
       else {
        i = nexti;
        line = line + nextLine;
      }
    }
    $trim(line).length > 2 && $add_18(this, new CommandLine_0(line));
  }
}

function CommandListToString(list){
  $clinit_CommandList();
  var ListIT, instructions, string;
  instructions = '';
  ListIT = new AbstractList$IteratorImpl(list);
  while (ListIT.i < ListIT.this$01_0.size_1()) {
    string = $toString_7((checkCriticalElement(ListIT.i < ListIT.this$01_0.size_1()) , dynamicCast(ListIT.this$01_0.get_0(ListIT.last = ListIT.i++), 184)));
    instructions = instructions + '\n\r' + string;
  }
  return $trim(instructions);
}

defineClass(233, 18, {233:1, 3:1, 18:1, 25:1, 38:1, 68:1}, CommandList, CommandList_0);
_.add_0 = function add_29(newcommand){
  return $add_18(this, dynamicCast(newcommand, 184));
}
;
_.toString$ = function toString_59(){
  return $toString_8(this);
}
;
var Log_38;
var Lcom_lostagain_Jam_InstructionProcessing_CommandList_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'CommandList', 233, Ljava_util_ArrayList_2_classLit);
function $clinit_CommandParameter(){
  $clinit_CommandParameter = emptyMethod;
  Log_39 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcoretest.CommandParameter'));
}

function $getAsInt(this$static){
  if (!this$static.parameterAsInt.isPresent()) {
    this$static.parameterAsInt = new Present(checkNotNull(valueOf_45(round_int(__parseAndValidateDouble(this$static.parameterString)))));
    this$static.parameterAsDouble = new Present(checkNotNull(new Double(__parseAndValidateDouble(this$static.parameterString))));
  }
  return dynamicCast(this$static.parameterAsInt.get_1(), 160).value_0;
}

function $getAsObjects(this$static, callingObject){
  if (!this$static.sceneObjects || this$static.containsVariables) {
    this$static.sceneObjects = getSceneObjectNEW(this$static.parameterString, callingObject, this$static.searchGlobal);
    (!this$static.sceneObjects || this$static.sceneObjects.size_1() == 0) && $severe_0(Log_39, 'no objects found called:' + this$static.parameterString);
  }
  return this$static.sceneObjects;
}

function $isNumber(this$static){
  var num;
  if (this$static.parameterAsInt.isPresent() || this$static.parameterAsDouble.isPresent()) {
    return true;
  }
  try {
    num = new Double(__parseAndValidateDouble(this$static.parameterString));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 105)) {
      num = null;
    }
     else 
      throw unwrap($e0);
  }
  if (num) {
    this$static.parameterAsInt = new Present(checkNotNull(valueOf_45(round_int(num.value_0))));
    this$static.parameterAsDouble = new Present(checkNotNull(num));
    return true;
  }
  return false;
}

function CommandParameter(string){
  $clinit_CommandParameter();
  this.parameterAsInt = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  this.parameterAsDouble = (null , INSTANCE);
  if ($equals_5(string.substr(0, 9), 'inscene__')) {
    string = __substr(string, 9, string.length - 9);
    this.searchGlobal = false;
  }
  this.parameterString = string;
  this.parameterString.indexOf('<') != -1?(this.containsVariables = true):(this.containsVariables = false);
}

defineClass(344, 1, {344:1}, CommandParameter);
_.containsVariables = false;
_.parameterString = '';
_.sceneObjects = null;
_.searchGlobal = true;
var Log_39;
var Lcom_lostagain_Jam_InstructionProcessing_CommandParameter_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'CommandParameter', 344, Ljava_lang_Object_2_classLit);
function $clinit_CommandParameterSet(){
  $clinit_CommandParameterSet = emptyMethod;
  Log_40 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMCore.CommandParameters'));
}

function $getProccessedSplit(this$static){
  var j, stringParams;
  if (this$static.isEmpty) {
    return null;
  }
   else {
    stringParams = initDim(Ljava_lang_String_2_classLit, $intern_11, 2, this$static.params.length, 4, 1);
    for (j = 0; j < this$static.params.length; j++) {
      stringParams[j] = this$static.params[j].parameterString;
    }
    return stringParams;
  }
}

function $prepareParameters(this$static, ObjectThatCalledThis, usesVariables, usesRandomSplit){
  var changed;
  changed = false;
  if (usesVariables && this$static.containsVariables || this$static.mightContainsMaths) {
    $info_1(Log_40, 'Potential vars or maths found in property ' + this$static.rawParameterString + ', replacing with values');
    this$static.proccessedParameterString = replaceGameVariablesWithValues_0(this$static.rawParameterString, ObjectThatCalledThis);
    changed = true;
  }
  if (usesRandomSplit && this$static.proccessedParameterString.indexOf('|') != -1) {
    $info_1(Log_40, 'random property set detected');
    this$static.proccessedParameterString = getRandomProperty(this$static.proccessedParameterString);
    $info_1(Log_40, 'CurrentProperty picked = ' + this$static.proccessedParameterString);
    changed = true;
  }
  changed && $splitParameters(this$static, this$static.proccessedParameterString);
}

function $splitParameters(this$static, proccessedParameterString){
  var parametersAsStrings, x_0;
  parametersAsStrings = $split_0(proccessedParameterString, ',', 0);
  this$static.params = initDim(Lcom_lostagain_Jam_InstructionProcessing_CommandParameter_2_classLit, $intern_1, 344, parametersAsStrings.length, 0, 1);
  for (x_0 = 0; x_0 < parametersAsStrings.length; x_0++) {
    $info_1(Log_40, 'storing parameter picked =' + parametersAsStrings[x_0]);
    this$static.params[x_0] = new CommandParameter($trim(parametersAsStrings[x_0]));
  }
}

function CommandParameterSet(rawParameterString){
  $clinit_CommandParameterSet();
  this.rawParameterString = rawParameterString;
  this.proccessedParameterString = rawParameterString;
  if (rawParameterString == null || $equals_5($trim(rawParameterString), '')) {
    this.containsVariables = false;
    this.mightContainsMaths = false;
    this.isEmpty = true;
    this.params = initDim(Lcom_lostagain_Jam_InstructionProcessing_CommandParameter_2_classLit, $intern_1, 344, 0, 0, 1);
    return;
  }
  $splitParameters(this, rawParameterString);
  rawParameterString.indexOf('<') != -1?(this.containsVariables = true):(this.containsVariables = false);
  rawParameterString.indexOf('(') != -1?(this.mightContainsMaths = true):(this.mightContainsMaths = false);
}

function getRandomProperty(currentProperty){
  var props, rnd;
  props = $split_0(currentProperty, '\\|', 0);
  rnd = toInt(fromDouble(round0(random() * (props.length - 1))));
  $info_1(Log_40, 'property picked =' + rnd);
  return props[rnd];
}

defineClass(343, 1, {}, CommandParameterSet);
_.toString$ = function toString_60(){
  return this.rawParameterString;
}
;
_.containsVariables = false;
_.isEmpty = false;
_.mightContainsMaths = false;
_.proccessedParameterString = '';
var Log_40;
var Lcom_lostagain_Jam_InstructionProcessing_CommandParameterSet_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'CommandParameterSet', 343, Ljava_lang_Object_2_classLit);
function $clinit_ConditionalLine(){
  $clinit_ConditionalLine = emptyMethod;
  Log_41 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.ConditionalLine'));
}

function $toString_9(this$static){
  if (this$static.conditionList) {
    return $toString_10(this$static.conditionList);
  }
  return $toString_1(this$static.specifiedCondition) + '=' + this$static.currentProperty;
}

function ConditionalLine(line){
  $clinit_ConditionalLine();
  var conditions, currentConditionType;
  if ($equals_5(line.substr(0, 1), '(')) {
    this.specifiedCondition = ($clinit_ConditionalLine$ConditionType() , CONDITIONLIST);
    conditions = $trim($substring_0($trim(line), line.indexOf('(') + 1, line.indexOf(')')));
    this.conditionList = new ConditionalList(conditions);
    this.currentProperty = '';
    return;
  }
  if (line.indexOf('=') != -1) {
    currentConditionType = $trim($split_0(line, '=', 0)[0]);
    this.currentProperty = $trim($split_0(line, '=', 0)[1]);
  }
   else {
    currentConditionType = $trim(line);
    this.currentProperty = '';
  }
  if ($equalsIgnoreCase(currentConditionType, 'TRUE')) {
    this.specifiedCondition = ($clinit_ConditionalLine$ConditionType() , TRUE_0);
    return;
  }
  try {
    this.specifiedCondition = dynamicCast(valueOf_0(Lcom_lostagain_Jam_InstructionProcessing_ConditionalLine$ConditionType_2_classLit, currentConditionType.toLowerCase()), 63);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      $info_1(Log_41, 'not a recognised conditional:' + currentConditionType);
      return;
    }
     else 
      throw unwrap($e0);
  }
}

function checkConditional(conditionalline, callingObject){
  $clinit_ConditionalLine();
  var CurrentParams, check, curobject, currentConditionAsString, currentProperty, cx, cy, dialogObject, dialogObjects, dis, distance, limit, object, objectname, paragraphname, paragraphposition, pn, pp, property, regionname, scene, scenename, textname, tx, ty;
  currentProperty = conditionalline.currentProperty;
  CurrentParams = null;
  currentProperty != null && !!currentProperty.length && (CurrentParams = $split_0(currentProperty, ',', 0));
  currentConditionAsString = $toString_1(conditionalline.specifiedCondition);
  $info_1(Log_41, 'currentConditionType   =   ' + currentConditionAsString + ' | currentProperty   =   ' + currentProperty);
  switch (conditionalline.specifiedCondition.ordinal) {
    case 0:
      return true;
    case 2:
      {
        return testForClassOnObject(callingObject, currentProperty, CurrentParams);
      }

    case 3:
      {
        return !testForClassOnObject(callingObject, currentProperty, CurrentParams);
      }

    case 4:
      {
        return testIfDivHasClass(CurrentParams);
      }

    case 5:
      {
        return !testIfDivHasClass(CurrentParams);
      }

    case 6:
      if (currentProperty.indexOf(',') != -1) {
        object = $trim(CurrentParams[0]);
        property = $trim(CurrentParams[1]);
        curobject = getSingleSceneObjectNEW(object, callingObject, true);
        if (!curobject) {
          return false;
        }
        if ($hasProperty_1(curobject.objectsCurrentState_2.objectsProperties, property)) {
          $info_1(Log_41, curobject.objectsCurrentState_2.ObjectsName + ' has property ' + property + ' so we continue running commands');
          return true;
        }
         else {
          $info_1(Log_41, curobject.objectsCurrentState_2.ObjectsName + ' does not have property ' + property + ' so we stop running commands');
          return false;
        }
      }
       else {
        if ($hasProperty_1(callingObject.objectsCurrentState_2.objectsProperties, currentProperty)) {
          $info_1(Log_41, 'has property ' + currentProperty + ' so we continue running commands');
          return true;
        }
         else {
          $info_1(Log_41, callingObject.getObjectsCurrentState_1().ObjectsName + ' does not have property ' + currentProperty + ' so we stop running commands');
          return false;
        }
      }

    case 7:
      if (currentProperty.indexOf(',') != -1) {
        object = $trim(CurrentParams[0]);
        property = $trim(CurrentParams[1]);
        curobject = getSingleSceneObjectNEW(object, callingObject, true);
        curobject?$info_1(Log_41, 'got object'):$info_1(Log_41, 'object is null');
        if ($hasProperty_1(curobject.objectsCurrentState_2.objectsProperties, property)) {
          $info_1(Log_41, curobject.objectsCurrentState_2.ObjectsName + 'does have property ' + property + ' so we stop running commands');
          return false;
        }
         else {
          $info_1(Log_41, curobject.objectsCurrentState_2.ObjectsName + 'has not got property ' + property + ' so we continue running commands');
          return true;
        }
      }
       else {
        if ($hasProperty_1(callingObject.objectsCurrentState_2.objectsProperties, currentProperty)) {
          $info_1(Log_41, callingObject.objectsCurrentState_2.ObjectsName + 'does have property ' + currentProperty + ' so we stop running commands');
          return false;
        }
         else {
          $info_1(Log_41, callingObject.objectsCurrentState_2.ObjectsName + ' has not got property ' + currentProperty + ' so we continue running commands');
          return true;
        }
      }

    case 8:
      {
        if (currentProperty.indexOf(',') != -1) {
          objectname = $trim(CurrentParams[0]);
          scenename = $trim(CurrentParams[1]);
          curobject = getSingleSceneObjectNEW(objectname, callingObject, true);
          if (!curobject) {
            return false;
          }
          scene = getSceneByName(scenename);
          return curobject.objectScene_0 == scene;
        }
         else {
          scenename = getSceneByName(currentProperty);
          return callingObject.objectScene_0 == scenename;
        }
      }

    case 9:
      $info_1(Log_41, 'checking for collision in:');
      $info_1(Log_41, ($clinit_SceneObjectDatabase() , currentScene_0).SceneFileName);
      return $TestForCollision(currentScene_0, lastclicked_x_0, lastclicked_y_0);
    case 10:
      $info_1(Log_41, 'checking for collision:');
      return !$TestForCollision(($clinit_SceneObjectDatabase() , currentScene_0), lastclicked_x_0, lastclicked_y_0);
    case 11:
      if (currentProperty.indexOf(',') != -1) {
        objectname = $trim(CurrentParams[0]);
        regionname = $trim(CurrentParams[1]);
        curobject = getSingleSceneObjectNEW(objectname, callingObject, true);
        if (!curobject) {
          $info_1(Log_41, 'no object on scene called:' + objectname);
          return false;
        }
        return $isWithinRegion(curobject, regionname);
      }
       else {
        return $isWithinRegion(callingObject, $trim(currentProperty));
      }

    case 12:
      if (currentProperty.indexOf(',') != -1) {
        objectname = $trim(CurrentParams[0]);
        regionname = $trim(CurrentParams[1]);
        curobject = getSingleSceneObjectNEW(objectname, callingObject, true);
        if (!curobject) {
          $info_1(Log_41, 'no object on scene called:' + objectname);
          return true;
        }
        return !$isWithinRegion(curobject, regionname);
      }
       else {
        return !$isWithinRegion(callingObject, $trim(currentProperty));
      }

    case 13:
      $info_1(Log_41, 'checking currentmovement');
      if (currentProperty.indexOf(',') != -1) {
        object = $trim(CurrentParams[0]);
        property = $trim(CurrentParams[1]);
        curobject = getSingleSceneObjectNEW(object, callingObject, true);
        curobject?$info_1(Log_41, 'got object'):$info_1(Log_41, 'object is null');
        if ($equalsIgnoreCase(curobject.currentPath.pathsName, property)) {
          $info_1(Log_41, ' movement=' + property + ' so we continue running commands');
          return true;
        }
         else {
          $info_1(Log_41, ' movement not= ' + property + ' so we stop running commands');
          return false;
        }
      }
       else {
        if (callingObject.objectsCurrentState_2.moveState.currentmovementtype == ($clinit_MovementState$MovementStateType() , None_0)) {
          $info_1(Log_41, ' no movement so we stop running commands');
          return false;
        }
        $info_1(Log_41, ' movement');
        if ($equalsIgnoreCase(callingObject.currentPath.pathsName, currentProperty)) {
          $info_1(Log_41, ' movement=' + currentProperty + ' so we continue running commands');
          return true;
        }
         else {
          $info_1(Log_41, ' movement not= ' + currentProperty + ' so we stop running commands');
          return false;
        }
      }

    case 14:
      if (currentProperty.indexOf(',') != -1) {
        object = $trim(CurrentParams[0]);
        property = $trim(CurrentParams[1]);
        curobject = getSingleSceneObjectNEW(object, callingObject, true);
        curobject?$info_1(Log_41, 'got object'):$info_1(Log_41, 'object is null');
        check = ($clinit_Boolean() , $equalsIgnoreCase('true', property));
        if (curobject.objectsCurrentState_2.moveState.currentmovementtype != ($clinit_MovementState$MovementStateType() , None_0) == check) {
          $info_1(Log_41, 'is moving ' + check + ' so we continue running commands');
          return true;
        }
         else {
          $info_1(Log_41, 'is not moving  ' + check + ' so we stop running commands');
          return false;
        }
      }
       else {
        check = ($clinit_Boolean() , $equalsIgnoreCase('true', currentProperty));
        if (callingObject.objectsCurrentState_2.moveState.currentmovementtype != ($clinit_MovementState$MovementStateType() , None_0) == check) {
          $info_1(Log_41, 'is moving ' + check + ' so we continue running commands');
          return true;
        }
         else {
          $info_1(Log_41, 'is not moving  ' + check + ' so we stop running commands');
          return false;
        }
      }

    case 15:
      {
        if (currentProperty.indexOf(',') != -1) {
          object = $trim(CurrentParams[0]);
          property = $trim(CurrentParams[1]);
          check = ($clinit_Boolean() , $equalsIgnoreCase('true', property));
          curobject = getSingleSceneObjectNEW(object, callingObject, true);
          if (!curobject) {
            return false;
          }
          if (curobject.isVisible() == check) {
            $info_1(Log_41, 'is visible ' + check + ' so we continue running commands');
            return true;
          }
           else {
            $info_1(Log_41, 'is not visible  ' + check + ' so we stop running commands');
            return false;
          }
        }
         else {
          check = ($clinit_Boolean() , $equalsIgnoreCase('true', currentProperty));
          if (callingObject.isVisible() == check) {
            $info_1(Log_41, 'is visible ' + check + ' so we continue running commands');
            return true;
          }
           else {
            $info_1(Log_41, 'is not visible  ' + check + ' so we stop running commands');
            return false;
          }
        }
      }

    case 16:
      {
        textname = $trim(CurrentParams[0]);
        paragraphname = $trim(CurrentParams[1]);
        pp = $trim(CurrentParams[2]);
        paragraphposition = __parseAndValidateInt(pp, 10);
        $info_1(Log_41, 'checking ' + textname + ' is on ' + paragraphname + ' at ' + paragraphposition);
        dialogObjects = getDialogueObjectNEW(textname, callingObject, true);
        dialogObjects.size_1() > 1 && $warning_0(Log_41, 'Warning: more then one object found for ' + textname + '. Condition checks for paragraph need to refer to a specific object NOT a set. Arbitarily choosing one to use now...');
        dialogObjects.size_1() == 0 && $severe_0(Log_41, 'Warning: no object found for ' + textname + '. Condition checks for paragraph need to refer to a specific object.');
        dialogObject = dynamicCast(dialogObjects.iterator().next_0(), 124);
        pn = dialogObject.objectsCurrentState.currentparagraphName;
        return $equalsIgnoreCase(pn, paragraphname) && paragraphposition == dialogObject.objectsCurrentState.currentParagraphPage;
      }

    case 17:
      if (playerHasItem(currentProperty)) {
        $info_1(Log_41, 'player has item ' + currentProperty + '(passed check)');
        return true;
      }
       else {
        return false;
      }

    case 18:
      if (playerHasItem(currentProperty)) {
        return false;
      }
       else {
        $info_1(Log_41, 'player dosnt have item ' + currentProperty + '(passed check)');
        return true;
      }

    case 19:
      {
        return playerholdstester(currentProperty);
      }

    case 20:
      {
        return !playerholdstester(currentProperty);
      }

    case 21:
      return isontester(currentProperty);
    case 22:
      return !isontester(currentProperty);
    case 23:
      {
        $info_1(Log_41, '______________________closertothan condition:');
        objectname = $trim(CurrentParams[0]).toLowerCase();
        distance = $trim(CurrentParams[1]).toLowerCase();
        limit = __parseAndValidateInt(distance, 10);
        object = getSingleSceneObjectNEW(objectname, callingObject, true);
        if (object) {
          tx = $getTopLeftBaseX(object) + object.objectsCurrentState_2.PinPointX;
          ty = $getY_1(object);
          cx = $getTopLeftBaseX(callingObject) + callingObject.objectsCurrentState_2.PinPointX;
          cy = $getY_1(callingObject);
          dis = Math.sqrt((tx - cx < 0?-(tx - cx):tx - cx) * (tx - cx < 0?-(tx - cx):tx - cx) + (ty - cy < 0?-(ty - cy):ty - cy) * (ty - cy < 0?-(ty - cy):ty - cy));
          $info_1(Log_41, '______________________Distance to object is:' + dis);
          $info_1(Log_41, '______________________testing if closer then:' + limit);
          if (dis < limit) {
            return true;
          }
           else {
            $info_1(Log_41, '______________________failed check');
            return false;
          }
        }
        break;
      }

    case 24:
      {
        $info_1(Log_41, '______________________furtherfromthan condition:');
        objectname = $trim(CurrentParams[0]).toLowerCase();
        distance = $trim(CurrentParams[1]).toLowerCase();
        limit = __parseAndValidateInt(distance, 10);
        object = getSingleSceneObjectNEW(objectname, callingObject, true);
        if (object) {
          tx = $getTopLeftBaseX(object) + object.objectsCurrentState_2.PinPointX;
          ty = $getY_1(object);
          cx = $getTopLeftBaseX(callingObject) + callingObject.objectsCurrentState_2.PinPointX;
          cy = $getY_1(callingObject);
          dis = Math.sqrt((tx - cx < 0?-(tx - cx):tx - cx) * (tx - cx < 0?-(tx - cx):tx - cx) + (ty - cy < 0?-(ty - cy):ty - cy) * (ty - cy < 0?-(ty - cy):ty - cy));
          $info_1(Log_41, '______________________Distance to object is:' + dis);
          $info_1(Log_41, '______________________testing if further then:' + limit);
          if (dis > limit) {
            return true;
          }
           else {
            $info_1(Log_41, '______________________failed check');
            return false;
          }
        }
      }

      break;
    case 25:
      return checkobjectvalue(callingObject, CurrentParams);
    case 26:
      return checkvalue(callingObject, CurrentParams);
    case 27:
      return !checkvalue(callingObject, CurrentParams);
    case 28:
      return ($clinit_JAMcore() , DebugMode).value_0;
    case 29:
      return issheduled(callingObject, CurrentParams);
    case 30:
      return !issheduled(callingObject, CurrentParams);
  }
  $info_1(Log_41, "condition type '" + $toString_1(conditionalline.specifiedCondition) + "' not recognised, so we continue assuming the check is passed");
  return true;
}

function checkobjectvalue(callingObject, CurrentParams){
  var equals, objectName, objectToTest, varName;
  objectToTest = null;
  varName = '';
  equals = '';
  if (CurrentParams.length == 3) {
    objectName = $trim(CurrentParams[0]).toLowerCase();
    varName = $trim(CurrentParams[1]).toLowerCase();
    equals = $trim(CurrentParams[2]).toLowerCase();
    objectToTest = getSingleSceneObjectNEW(objectName, callingObject, true);
  }
   else if (CurrentParams.length == 2) {
    objectToTest = callingObject;
    varName = $trim(CurrentParams[0]).toLowerCase();
    equals = $trim(CurrentParams[1]).toLowerCase();
  }
  if (!objectToTest) {
    return false;
  }
  if ($testValue(objectToTest.objectsCurrentState_2.ObjectRuntimeVariables, varName, equals)) {
    $info_1(Log_41, 'yup, it matchs');
    return true;
  }
   else {
    return false;
  }
}

function checkvalue(callingObject, CurrentParams){
  var evalue, evalue0, existingValue, intValueToCompare, nametocheck, tvalue, tvalue0, valueToCompareTo, valueToCompareTo2;
  nametocheck = $trim(CurrentParams[0]).toLowerCase();
  valueToCompareTo = $trim(CurrentParams[1]).toLowerCase();
  if ($equals_5(valueToCompareTo.substr(0, 1), '<')) {
    valueToCompareTo2 = $trim($substring_0(valueToCompareTo, 1, valueToCompareTo.length));
    evalue0 = getValue_2(nametocheck, callingObject);
    tvalue0 = getValue_2(valueToCompareTo2, callingObject);
    if (evalue0 == null) {
      $info_1(Log_41, 'Variable not found when looking for:' + nametocheck);
      return false;
    }
    if (tvalue0 == null) {
      $info_1(Log_41, 'Variable not found when looking for:' + valueToCompareTo2);
      return false;
    }
    if ($equals_5(evalue0, 'ERROR_cant find object') || $equals_5(tvalue0, 'ERROR_cant find object')) {
      $info_1(Log_41, 'object needed for the comparison not found, so returning false');
      return false;
    }
    existingValue = 0;
    !evalue0.length || (existingValue = __parseAndValidateDouble(evalue0));
    intValueToCompare = 0;
    !tvalue0.length || (intValueToCompare = __parseAndValidateDouble(tvalue0));
    return existingValue < intValueToCompare;
  }
  if ($equals_5(valueToCompareTo.substr(0, 1), '>')) {
    valueToCompareTo2 = $trim($substring_0(valueToCompareTo, 1, valueToCompareTo.length));
    evalue0 = getValue_2(nametocheck, callingObject);
    tvalue0 = getValue_2(valueToCompareTo2, callingObject);
    if (evalue0 == null) {
      $info_1(Log_41, 'Variable not found when looking for:' + nametocheck);
      return false;
    }
    if (tvalue0 == null) {
      $info_1(Log_41, 'Variable not found when looking for:' + valueToCompareTo2);
      return false;
    }
    if ($equals_5(evalue0, 'ERROR_cant find object') || $equals_5(tvalue0, 'ERROR_cant find object')) {
      $info_1(Log_41, 'object needed for comparison not found, so returning false');
      return false;
    }
    $info_1(Log_41, 'evalue=' + evalue0);
    $info_1(Log_41, 'tvalue=' + tvalue0);
    existingValue = 0;
    !evalue0.length || (existingValue = __parseAndValidateDouble(evalue0));
    intValueToCompare = 0;
    !tvalue0.length || (intValueToCompare = __parseAndValidateDouble(tvalue0));
    $info_1(Log_41, 'variable ' + existingValue + ' is greater then ' + intValueToCompare);
    if (existingValue > intValueToCompare) {
      $info_1(Log_41, 'yup, its greater then');
      return true;
    }
     else {
      $info_1(Log_41, "nope, it isn't greater then");
      return false;
    }
  }
  $info_1(Log_41, 'variable ' + nametocheck + ' does it have value ' + valueToCompareTo);
  evalue = getValue_2(nametocheck, callingObject);
  tvalue = getValue_2(valueToCompareTo, callingObject);
  if ($equalsIgnoreCase(evalue, tvalue)) {
    $info_1(Log_41, 'variable ' + nametocheck + ' has value ' + tvalue);
    return true;
  }
   else {
    $info_1(Log_41, 'no, ' + nametocheck + ' has value ' + getValue_2(nametocheck, callingObject));
    return false;
  }
}

function isontester(currentProperty){
  if ($equalsIgnoreCase(($clinit_JAMcore() , usersCurrentLocation), currentProperty)) {
    $info_1(Log_41, 'player is on location ' + currentProperty + '(passed check)');
    return true;
  }
   else {
    return false;
  }
}

function issheduled(callingObject, currentParams){
  var actionsetname, objectname;
  objectname = '';
  actionsetname = '';
  $info_1(Log_41, 'checking for sheduled command:' + currentParams.length + ' parameters');
  $info_1(Log_41, 'which are :' + currentParams);
  if (currentParams.length == 2) {
    objectname = $trim(currentParams[0]).toLowerCase();
    actionsetname = $trim(currentParams[1]).toLowerCase();
  }
  if (currentParams.length == 1) {
    objectname = callingObject.getObjectsCurrentState_1().ObjectsName;
    actionsetname = $trim(currentParams[0]).toLowerCase();
  }
  $info_1(Log_41, 'checking for sheduled command:' + objectname + '_' + actionsetname);
  return isNamedActionSetShreduled(objectname, actionsetname);
}

function playerholdstester(currentProperty){
  if (!($clinit_InventoryPanelCore() , currentlyHeldItem)) {
    $info_1(Log_41, 'currently held item is null. ie. nothing is held');
    return false;
  }
  if (currentProperty == null || !currentProperty.length) {
    $info_1(Log_41, 'no specific item specified, and we are holding:' + currentlyHeldItem.objectsCurrentState_2.ObjectsName + ' so thats good enough');
    return true;
  }
  if ($equalsIgnoreCase(currentlyHeldItem.objectsCurrentState_2.ObjectsName, currentProperty)) {
    $info_1(Log_41, 'player is holding ' + currentProperty + '');
    return true;
  }
   else {
    return false;
  }
}

function testForClassOnObject(callingObject, currentProperty, CurrentParams){
  var curobject, object, property;
  if (currentProperty.indexOf(',') != -1) {
    object = $trim(CurrentParams[0]);
    property = $trim(CurrentParams[1]);
    curobject = getSingleSceneObjectNEW(object, callingObject, true);
    if (!curobject) {
      return false;
    }
    if (!$isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , Div))) {
      return false;
    }
    if (dynamicCast(curobject, 109).hasClass(property)) {
      $info_1(Log_41, 'has class ' + property + ' so we continue running commands');
      return true;
    }
     else {
      $info_1(Log_41, 'does not have class ' + property + ' so we stop running commands');
      return false;
    }
  }
   else {
    if (!$isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , Div))) {
      return false;
    }
    if (dynamicCast(callingObject, 109).hasClass(currentProperty)) {
      $info_1(Log_41, 'has class ' + currentProperty + ' so we continue running commands');
      return true;
    }
     else {
      $info_1(Log_41, callingObject.getObjectsCurrentState_1().ObjectsName + ' does not have class ' + currentProperty + ' so we stop running commands');
      return false;
    }
  }
}

function testIfDivHasClass(CurrentParams){
  var classToLookFor, divWithThisIDToCheck;
  divWithThisIDToCheck = $trim(CurrentParams[0]);
  classToLookFor = $trim(CurrentParams[1]);
  if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
    return $testIfDivHasClass((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , divWithThisIDToCheck), classToLookFor);
  }
  return false;
}

defineClass(298, 1, {298:1}, ConditionalLine);
_.toString$ = function toString_61(){
  return $toString_9(this);
}
;
var Log_41;
var Lcom_lostagain_Jam_InstructionProcessing_ConditionalLine_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'ConditionalLine', 298, Ljava_lang_Object_2_classLit);
function $clinit_ConditionalLine$ConditionType(){
  $clinit_ConditionalLine$ConditionType = emptyMethod;
  TRUE_0 = new ConditionalLine$ConditionType('TRUE', 0);
  CONDITIONLIST = new ConditionalLine$ConditionType('CONDITIONLIST', 1);
  hasclass = new ConditionalLine$ConditionType('hasclass', 2);
  hasnotgotclass = new ConditionalLine$ConditionType('hasnotgotclass', 3);
  divhasclass = new ConditionalLine$ConditionType('divhasclass', 4);
  divhasnotgotclass = new ConditionalLine$ConditionType('divhasnotgotclass', 5);
  hasproperty = new ConditionalLine$ConditionType('hasproperty', 6);
  hasnotgotproperty = new ConditionalLine$ConditionType('hasnotgotproperty', 7);
  isonscene = new ConditionalLine$ConditionType('isonscene', 8);
  iscolliding = new ConditionalLine$ConditionType('iscolliding', 9);
  isnotcolliding = new ConditionalLine$ConditionType('isnotcolliding', 10);
  iswithin = new ConditionalLine$ConditionType('iswithin', 11);
  isnotwithin = new ConditionalLine$ConditionType('isnotwithin', 12);
  currentmovement_0 = new ConditionalLine$ConditionType('currentmovement', 13);
  ismoving = new ConditionalLine$ConditionType('ismoving', 14);
  isvisible = new ConditionalLine$ConditionType('isvisible', 15);
  checkparagraph = new ConditionalLine$ConditionType('checkparagraph', 16);
  playerhas = new ConditionalLine$ConditionType('playerhas', 17);
  playerdoesnothave = new ConditionalLine$ConditionType('playerdoesnothave', 18);
  playerholds = new ConditionalLine$ConditionType('playerholds', 19);
  playerdoesnothold = new ConditionalLine$ConditionType('playerdoesnothold', 20);
  ison = new ConditionalLine$ConditionType('ison', 21);
  isnoton = new ConditionalLine$ConditionType('isnoton', 22);
  closertothan = new ConditionalLine$ConditionType('closertothan', 23);
  furtherfromthan = new ConditionalLine$ConditionType('furtherfromthan', 24);
  checkobjectvalue_0 = new ConditionalLine$ConditionType('checkobjectvalue', 25);
  checkvalue_0 = new ConditionalLine$ConditionType('checkvalue', 26);
  checknotvalue = new ConditionalLine$ConditionType('checknotvalue', 27);
  ondebugmode = new ConditionalLine$ConditionType('ondebugmode', 28);
  isscheduled = new ConditionalLine$ConditionType('isscheduled', 29);
  isnotscheduled = new ConditionalLine$ConditionType('isnotscheduled', 30);
}

function ConditionalLine$ConditionType(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_28(name_0){
  $clinit_ConditionalLine$ConditionType();
  return valueOf(($clinit_ConditionalLine$ConditionType$Map() , $MAP_26), name_0);
}

function values_34(){
  $clinit_ConditionalLine$ConditionType();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_InstructionProcessing_ConditionalLine$ConditionType_2_classLit, 1), $intern_1, 63, 0, [TRUE_0, CONDITIONLIST, hasclass, hasnotgotclass, divhasclass, divhasnotgotclass, hasproperty, hasnotgotproperty, isonscene, iscolliding, isnotcolliding, iswithin, isnotwithin, currentmovement_0, ismoving, isvisible, checkparagraph, playerhas, playerdoesnothave, playerholds, playerdoesnothold, ison, isnoton, closertothan, furtherfromthan, checkobjectvalue_0, checkvalue_0, checknotvalue, ondebugmode, isscheduled, isnotscheduled]);
}

defineClass(63, 9, {63:1, 3:1, 21:1, 9:1}, ConditionalLine$ConditionType);
var CONDITIONLIST, TRUE_0, checknotvalue, checkobjectvalue_0, checkparagraph, checkvalue_0, closertothan, currentmovement_0, divhasclass, divhasnotgotclass, furtherfromthan, hasclass, hasnotgotclass, hasnotgotproperty, hasproperty, iscolliding, ismoving, isnotcolliding, isnoton, isnotscheduled, isnotwithin, ison, isonscene, isscheduled, isvisible, iswithin, ondebugmode, playerdoesnothave, playerdoesnothold, playerhas, playerholds;
var Lcom_lostagain_Jam_InstructionProcessing_ConditionalLine$ConditionType_2_classLit = createForEnum('com.lostagain.Jam.InstructionProcessing', 'ConditionalLine/ConditionType', 63, Ljava_lang_Enum_2_classLit, values_34, valueOf_28);
function $clinit_ConditionalLine$ConditionType$Map(){
  $clinit_ConditionalLine$ConditionType$Map = emptyMethod;
  $MAP_26 = createValueOfMap(values_34());
}

var $MAP_26;
function $toString_10(this$static){
  var conditionline, conditionline$iterator, conditions_as_string;
  conditions_as_string = '';
  for (conditionline$iterator = new AbstractList$IteratorImpl(this$static); conditionline$iterator.i < conditionline$iterator.this$01_0.size_1();) {
    conditionline = (checkCriticalElement(conditionline$iterator.i < conditionline$iterator.this$01_0.size_1()) , dynamicCast(conditionline$iterator.this$01_0.get_0(conditionline$iterator.last = conditionline$iterator.i++), 298));
    conditions_as_string = conditions_as_string + $toString_9(conditionline) + '\n';
  }
  return '(' + conditions_as_string + ')';
}

function ConditionalList(conditionalstatementlist){
  var conditionsArray, line, line$index, line$max, newLine;
  ArrayList.call(this);
  this.listsType = 0;
  if (conditionalstatementlist.indexOf('&&') != -1) {
    conditionsArray = $split_0(conditionalstatementlist, '&&', 0);
    this.listsType = 0;
  }
   else if (conditionalstatementlist.indexOf('||') != -1) {
    conditionsArray = $split_0(conditionalstatementlist, '\\|\\|', 0);
    this.listsType = 1;
  }
   else {
    conditionsArray = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, [conditionalstatementlist]);
  }
  for (line$index = 0 , line$max = conditionsArray.length; line$index < line$max; ++line$index) {
    line = conditionsArray[line$index];
    newLine = new ConditionalLine(line);
    setCheck(this.array, this.array.length, newLine);
  }
}

function checkConditionals(conditions, callingObject){
  var condition, condition$iterator, conditionalPassed;
  if (conditions.listsType == 0) {
    for (condition$iterator = new AbstractList$IteratorImpl(conditions); condition$iterator.i < condition$iterator.this$01_0.size_1();) {
      condition = (checkCriticalElement(condition$iterator.i < condition$iterator.this$01_0.size_1()) , dynamicCast(condition$iterator.this$01_0.get_0(condition$iterator.last = condition$iterator.i++), 298));
      conditionalPassed = ($clinit_Boolean() , checkConditional(condition, callingObject)?TRUE_3:FALSE_2);
      if (conditionalPassed.value_0) {
        continue;
      }
       else {
        return false;
      }
    }
    return true;
  }
  if (conditions.listsType == 1) {
    for (condition$iterator = new AbstractList$IteratorImpl(conditions); condition$iterator.i < condition$iterator.this$01_0.size_1();) {
      condition = (checkCriticalElement(condition$iterator.i < condition$iterator.this$01_0.size_1()) , dynamicCast(condition$iterator.this$01_0.get_0(condition$iterator.last = condition$iterator.i++), 298));
      conditionalPassed = ($clinit_Boolean() , checkConditional(condition, callingObject)?TRUE_3:FALSE_2);
      if (conditionalPassed.value_0) {
        return true;
      }
       else {
        continue;
      }
    }
    return false;
  }
  return true;
}

defineClass(461, 18, $intern_5, ConditionalList);
_.toString$ = function toString_62(){
  return $toString_10(this);
}
;
_.listsType = 0;
var Lcom_lostagain_Jam_InstructionProcessing_ConditionalList_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'ConditionalList', 461, Ljava_util_ArrayList_2_classLit);
function $clinit_GamesAnswerStore(){
  $clinit_GamesAnswerStore = emptyMethod;
  Log_42 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GamesAnswerStore'));
}

function $checkAns(this$static, AnsGiven, InChapter, isCalc){
  var code_0;
  AnsGiven = $trim(AnsGiven);
  code_0 = $checkForExactMatch(this$static, AnsGiven, InChapter);
  if (!code_0) {
    $info_1(Log_42, 'no exact match found for chapter, checking for regex matchs');
    code_0 = $checkForWildcardMatch(this$static, AnsGiven, InChapter);
  }
  if (!code_0) {
    $info_1(Log_42, 'checking non-specific chapter answers');
    code_0 = $checkForNonChapterSpecificAns(this$static, AnsGiven, InChapter);
  }
  $info_1(Log_42, 'checking for calc ');
  $info_1(Log_42, 'checking for calc ' + isCalc);
  if (isCalc) {
    $info_1(Log_42, 'is calculation, so skip default replys');
    return null;
  }
  if (!code_0) {
    $info_1(Log_42, 'no exact match found for non specifics, checking for default matchs');
    code_0 = $checkForDefaultAns(this$static, InChapter);
  }
  return code_0;
}

function $checkForDefaultAns(this$static, InChapter){
  var Ans, Ans$iterator;
  for (Ans$iterator = new AbstractList$IteratorImpl(this$static.AllAnswer); Ans$iterator.i < Ans$iterator.this$01_0.size_1();) {
    Ans = (checkCriticalElement(Ans$iterator.i < Ans$iterator.this$01_0.size_1()) , dynamicCast(Ans$iterator.this$01_0.get_0(Ans$iterator.last = Ans$iterator.i++), 265));
    if ($equalsIgnoreCase(Ans.Chapter, InChapter) && $equals_5(Ans.Answer, '{default}')) {
      return Ans.ScriptCodeBlock;
    }
  }
  return null;
}

function $checkForExactMatch(this$static, AnsGiven, InChapter){
  var Ans, Ans$iterator;
  $info_1(Log_42, 'checkForExactMatch (not case sensative)' + AnsGiven + ' in ' + InChapter + ' (total ans=' + this$static.AllAnswer.array.length + ')');
  for (Ans$iterator = new AbstractList$IteratorImpl(this$static.AllAnswer); Ans$iterator.i < Ans$iterator.this$01_0.size_1();) {
    Ans = (checkCriticalElement(Ans$iterator.i < Ans$iterator.this$01_0.size_1()) , dynamicCast(Ans$iterator.this$01_0.get_0(Ans$iterator.last = Ans$iterator.i++), 265));
    if ($equalsIgnoreCase(Ans.Chapter, InChapter) && $equalsIgnoreCase(AnsGiven, Ans.Answer)) {
      $info_1(Log_42, 'matched' + Ans.ScriptCodeBlock);
      return Ans.ScriptCodeBlock;
    }
  }
  return null;
}

function $checkForNonChapterSpecificAns(this$static, AnsGiven, InChapter){
  var Ans, Ans$iterator;
  $info_1(Log_42, 'Looking for checkForNonChapterSpecificAns ' + InChapter + ' ' + AnsGiven);
  for (Ans$iterator = new AbstractList$IteratorImpl(this$static.AllAnswer); Ans$iterator.i < Ans$iterator.this$01_0.size_1();) {
    Ans = (checkCriticalElement(Ans$iterator.i < Ans$iterator.this$01_0.size_1()) , dynamicCast(Ans$iterator.this$01_0.get_0(Ans$iterator.last = Ans$iterator.i++), 265));
    if ($equals_5(Ans.Chapter, '__any__') && $equalsIgnoreCase(Ans.Answer, AnsGiven)) {
      $info_1(Log_42, 'Ans.ScriptCodeBlock= ' + Ans.ScriptCodeBlock);
      return Ans.ScriptCodeBlock;
    }
    try {
      if ($equals_5(Ans.Chapter, '__any__') && $matches_2(AnsGiven, Ans.Answer)) {
        $info_1(Log_42, 'Ans.ScriptCodeBlock= ' + Ans.ScriptCodeBlock);
        return Ans.ScriptCodeBlock;
      }
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 37)) {
        $info_1(Log_42, 'not a regular expression, skipping');
      }
       else 
        throw unwrap($e0);
    }
  }
  $info_1(Log_42, 'none found ');
  return null;
}

function $checkForWildcardMatch(this$static, AnsGiven, InChapter){
  var Ans, Ans$iterator;
  for (Ans$iterator = new AbstractList$IteratorImpl(this$static.AllAnswer); Ans$iterator.i < Ans$iterator.this$01_0.size_1();) {
    Ans = (checkCriticalElement(Ans$iterator.i < Ans$iterator.this$01_0.size_1()) , dynamicCast(Ans$iterator.this$01_0.get_0(Ans$iterator.last = Ans$iterator.i++), 265));
    if ($equalsIgnoreCase(Ans.Chapter, InChapter) && $matches_2(AnsGiven, Ans.Answer)) {
      return Ans.ScriptCodeBlock;
    }
  }
  return null;
}

function GamesAnswerStore(IncomingScriptFile){
  $clinit_GamesAnswerStore();
  var AnsArray, AnsEnd, AnsEnd2, AnsLine, CurrentAns, CurrentAns$index, CurrentAns$max, CurrentChapter, CurrentCodeBlock, EndLoc, EndLoc0, Loc, StartLoc, StartLoc0, chapEndLoc, currentPosInScript, newAnswer;
  this.AllAnswer = new ArrayList;
  $info_1(Log_42, 'removing comments');
  IncomingScriptFile = IncomingScriptFile;
  currentPosInScript = 0;
  while (currentPosInScript <= IncomingScriptFile.length) {
    Loc = IncomingScriptFile.indexOf('ans=', currentPosInScript) + 4;
    if (Loc == -1) {
      break;
    }
    if (IncomingScriptFile.charCodeAt(Loc) == 58) {
      CurrentChapter = '__any__';
      chapEndLoc = Loc + 1;
    }
     else {
      chapEndLoc = $indexOf_3(IncomingScriptFile, fromCodePoint(58), Loc + 1);
      CurrentChapter = IncomingScriptFile.substr(Loc, chapEndLoc - Loc);
    }
    AnsEnd = IncomingScriptFile.indexOf('\r', chapEndLoc);
    AnsEnd2 = IncomingScriptFile.indexOf('\n', chapEndLoc);
    AnsEnd = smallestNonZero(initValues(getClassLiteralForArray(I_classLit, 1), $intern_53, 0, 7, [AnsEnd, AnsEnd2]));
    if (AnsEnd <= chapEndLoc) {
      $info_1(Log_42, 'no answer string specified. skipping to next codeblock if there is any');
      StartLoc0 = IncomingScriptFile.indexOf('- ', Loc + 1);
      if (StartLoc0 == -1) {
        break;
      }
       else {
        EndLoc0 = IncomingScriptFile.indexOf('ans=', StartLoc0);
        currentPosInScript = EndLoc0 - 1;
        continue;
      }
    }
    $info_1(Log_42, '(' + (chapEndLoc + 1) + ' to ' + AnsEnd + ')');
    AnsLine = IncomingScriptFile.substr(chapEndLoc + 1, AnsEnd - (chapEndLoc + 1));
    $info_1(Log_42, 'Answer line=' + AnsLine + ' (' + (chapEndLoc + 1) + ' to ' + AnsEnd + ')');
    AnsArray = $split_0(AnsLine, ',', 0);
    StartLoc = IncomingScriptFile.indexOf('- ', Loc + 1);
    if (StartLoc == -1) {
      break;
    }
    EndLoc = IncomingScriptFile.indexOf('ans=', StartLoc);
    CurrentCodeBlock = IncomingScriptFile.substr(StartLoc, EndLoc - StartLoc);
    for (CurrentAns$index = 0 , CurrentAns$max = AnsArray.length; CurrentAns$index < CurrentAns$max; ++CurrentAns$index) {
      CurrentAns = AnsArray[CurrentAns$index];
      newAnswer = new Answer_0($trim(CurrentAns), $trim(CurrentChapter), CurrentCodeBlock);
      this.AllAnswer.add_0(newAnswer);
    }
    currentPosInScript = EndLoc - 1;
  }
}

defineClass(946, 1, {}, GamesAnswerStore);
var Log_42;
var Lcom_lostagain_Jam_InstructionProcessing_GamesAnswerStore_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'GamesAnswerStore', 946, Ljava_lang_Object_2_classLit);
function $clinit_InstructionProcessor(){
  $clinit_InstructionProcessor = emptyMethod;
  Log_43 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.InstructionProcessor'));
  ChangedHtmlPageElement = new HashSet;
  MultiMessagePlace = new AssArray;
  globalActions = new ActionList;
}

function StringToCommandList(list){
  $clinit_InstructionProcessor();
  var newcommandList;
  newcommandList = new CommandList_0(list);
  return newcommandList;
}

function addItemToInventory(itemName, inventoryName, associatedObjectName){
  $clinit_InstructionProcessor();
  var inventoryTouse;
  $info_1(Log_43, 'adding object ' + itemName + ' to:' + inventoryName);
  if (inventoryName != null) {
    inventoryTouse = dynamicCast(($clinit_JAMcore() , allInventorys).get_2(inventoryName), 136);
    !inventoryTouse && (inventoryTouse = ($clinit_InventoryPanelCore() , defaultInventory));
  }
   else {
    inventoryTouse = ($clinit_InventoryPanelCore() , defaultInventory);
  }
  if ($inventoryContainsItem(inventoryTouse, itemName)) {
    setCurrentFeedbackText(($clinit_GamesInterfaceTextCore() , MainGame_YouAlreadyHaveThisItem));
  }
   else {
    $info_1(Log_43, 'Adding ' + itemName + ' to the inventory \n');
    !!inventoryTouse.InventorysButton && inventoryTouse.InventorysButton.setPlayForwardThenBack();
    $AddItem_0(inventoryTouse, itemName, false, associatedObjectName, null);
  }
}

function bringSceneToFront(sceneToFocus, silentmode){
  $clinit_InstructionProcessor();
  var scenename;
  $clinit_SceneObjectDatabase();
  currentScene_0 = sceneToFocus;
  $info_1(Log_43, 'current scene set to_:' + currentScene_0.SceneFileName);
  scenename = sceneToFocus.SceneFileName;
  $info_1(Log_43, ' selecting:' + scenename);
  $endsWith(scenename, '__scene') || (scenename = scenename + '__scene');
  $info_1(Log_43, ' selecting:' + scenename);
  $selectPage(($clinit_JAMcore() , CurrentScenesAndPages), scenename);
  $info_1(Log_43, ' setting size ');
  $resizeScene(sceneToFocus);
  setActiveScene(sceneToFocus, silentmode);
}

function bringSceneToFront_0(scenename, silentmode){
  $clinit_InstructionProcessor();
  var scene;
  scenename = scenename.toLowerCase();
  $info_1(Log_43, 'Bringing scene to front!' + scenename);
  scene = getSceneByName(scenename);
  bringSceneToFront(scene, silentmode);
}

function cancelNamedCommands(commandSourceObject, name_0, callingObject){
  var uniquename;
  if ($equals_5(commandSourceObject, '<GLOBAL>')) {
    uniquename = callingObject.objectsCurrentState_2.ObjectsName + '_' + name_0;
    $info_1(Log_43, 'canceling: ' + uniquename);
    cancelNamedActionSetTimer(commandSourceObject, uniquename);
  }
   else {
    $info_1(Log_43, 'canceling: ' + name_0 + ' on ' + commandSourceObject);
    cancelNamedActionSetTimer(commandSourceObject, name_0);
  }
}

function changeanimationstate(CurrentProperty, callingObject, lastSpriteObjectCalled, CurrentParams){
  var curobjectsos, objectToSet, objectToSet$iterator, objectsName, state;
  if (CurrentProperty.indexOf(',') != -1) {
    objectsName = CurrentParams[0];
    state = CurrentParams[1];
    curobjectsos = getSpriteObjectNEW(objectsName, callingObject, true);
    if (!curobjectsos)
    ;
    else {
      $info_1(Log_43, 'found ' + curobjectsos.size_1() + ' to change animation state of');
      for (objectToSet$iterator = curobjectsos.iterator(); objectToSet$iterator.hasNext();) {
        objectToSet = dynamicCast(objectToSet$iterator.next_0(), 166);
        objectToSet.setAnimationStatus(state);
      }
    }
  }
   else {
    lastSpriteObjectCalled.setAnimationStatus(CurrentProperty);
  }
}

function checkSceneRelatedCommands(currentCommand, theParameterString, Parameters, UniqueTriggerIndent, instructionset, callingObject, CurrentParams){
  var AtThis, ChuckThis, ChuckThisObject, Classac, Elementac, FromThis, ImgBamfurl, Inventorys, ItemToAdd, ItemToAddsName, ItemToRemove, ObjectToChuckAtInventory, PickScene, Scene, Speed, Speeds, ToThisInventory, ValueOf, ValueOfItem, Volume, VolumeString, X, XY, Xpos, Xs, Y, Ypos, Ys, actiontoapply, activateAfter, activateEveryHigh, activateEveryLow, addTheseObjects, addToChangedElements, after, arb, attachmentPointName, autoDisplay, autoPlay, autoPlayString, autorun, autorunstring, chuckthis, classestoset, co, co$iterator, commands, cssName, curdobjectsct, curobject, curobject$iterator, curobjectaa, curobjectaot, curobjectaov, curobjectfo, curobjectnp, curobjectpp, curobjectro, curobjectrot, curobjectrt, curobjects, curobjectsou, curobjectsov, curobjectsrnc, curobjectstu, curobjecttoget, curobjecttosetm, curobjecttosetm$iterator, curobjecttostopm, curobjecttostopm$iterator, detectCollision, dialoguename, dialogueobject, dialogueobject$iterator, difference, distance, divName, divObject, divToFillName, divname, duration, dx, dy, dz, elementsID, fadeDuration, fadeDurationItem, fadeOver, fadeOverStr, fadetime, filename, frames_0, frames_string, holdDuration, holdDurationItem, iconframes, iconloc, iconlocscl, iconsframes, imagepop, imagepop2, imagepopupcontainer, imagepopupcontainer2, impulseMag, interval, inventory, inventoryName, inventoryPanel, inventoryTouse, inventoryname, inventorynametodisplay, iposx, iposy, item_0, item_Name, itemnamesearch, itemsname, lastSpriteObjectCalled, lastTextObjectCalled, length_0, lengthString, locObject, location_0, locationname, matchingObjects, mode, movementsname, name_0, nameav, namesetv, namesv, newValue, newname, newtouchingname, newtouchingobjectsname, nexttextcontents, object, objectName, objectToBamf, objectToClone, objectToEffectsName, objectToPosition, objectaddtextcss, objectaov, objectfi, objectfo, objectname, objectname1, objectname2, objectnametoaddstyle, objectnametoremovestyle, objectnametosetstyle, objectosendactionstoo, objectov, objectrnc, objectrnca, objectrnce, objectro, objectrt, objects, objectsToBamf, objectsToDrop, objectsToEffect, objectsToPosition, objectsToSetMovementOn, objectsToStopMovementOn, objects_to_fade, objectsnc, objectsov, objectstoposition, objectstoset, objectstostopmovementstring, objecttoaddpropertytoo, objecttogotomovement, objecttomove, objecttopositionrelativeto, objecttoremoveproperty, objecttorestore, objecttosavestate, objecttoset, objecttosetmovement, objecttosetpara, objecttosetzindex, objecttoswapprops, oposx, oposy, options, optionsTabName, overwritePreviousAction, paragraphName, parameterOne, positionedRelativeToPoint, postionTo, px, py, pz, refObject, removeTheseObject, replaceThis, scene, sceneName, sceneObject, sceneObject$iterator, sceneToReset, scenename, scrollX_0, scrollY_0, secretname, secreturl, so, so$iterator, soundID, speed, sso, sso$iterator, startfrom, state, state0, stylename, stylenametoadd, styletoset, success, tabName, tarobject, tempList, tempsplit, textOptionPanelToAddToo, textname, textobject, textobject$iterator, thingsToChuck, time, topicsToAdd, touchingObject, trackName, tracknumber, tx, ty, url_0, value_0, valueav, valuepara, valuesetv, valuesv, variableValueFound, vectorobject, vectorstring, vol, volume, volumeString, widget, widget$iterator, withThis, x_0, xMovement, xpos, y_0, yMovement, ypos, z_0, zindex, zpos, TimeTakenStart, newresults, newresult, TimeTakenEnd, curobjectset, curobject_0, inventoryTouse_0, testpopup, newtimer, newPageLoadData;
  lastSpriteObjectCalled = null;
  lastTextObjectCalled = null;
  if (callingObject) {
    callingObject.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , Sprite) || callingObject.getObjectsCurrentState_1().objectsPrimaryType == InventoryIcon?(lastSpriteObjectCalled = dynamicCast(callingObject, 166)):(lastSpriteObjectCalled = ($clinit_SceneObjectDatabase() , lastSpriteObjectUpdated));
    callingObject.getObjectsCurrentState_1().objectsPrimaryType == DialogBox || callingObject.getObjectsCurrentState_1().objectsPrimaryType == Label_4?(lastTextObjectCalled = dynamicCast(callingObject, 159)):(lastTextObjectCalled = ($clinit_SceneObjectDatabase() , lastTextObjectUpdated));
  }
  switch (currentCommand.ordinal) {
    case 6:
      {
        triggerADisplayMenu(callingObject, CurrentParams);
        break;
      }

    case 160:
      {
        ($clinit_SceneMenuWithPopUp() , menuShowing).value_0 && $CloseDefault(currentMenu);
        break;
      }

    case 25:
      {
        divName = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        tabName = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
        tempsplit = $split_0(Parameters.proccessedParameterString, ',', 3);
        options = splitNotWithinBrackets(tempsplit[2], ';');
        $info_1(Log_43, 'triggering a display option box on div ' + divName + ' with ' + options.array.length + ' options');
        divObject = ($clinit_SceneObjectDatabase() , TimeTakenStart = ($clinit_System() , fromDouble(now_1())) , newresults = getObjects(($clinit_SceneObjectType() , Div), divName, callingObject, true) , newresult = null , !!newresults && (newresult = dynamicCast(newresults.iterator().next_0(), 109)) , TimeTakenEnd = fromDouble(now_1()) , $clinit_GameStatistics() , TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart)) , newresult);
        !divObject && $info_1(Log_43, 'DIV NOT FOUND:' + divName);
        tempList = new GwtTextOptionFlowPanel(options, callingObject, divName, tabName);
        $setSize(tempList.visualRepresenation, '100%', '100%');
        divObject.setDivsWidget(tempList.visualRepresenation);
      }

      break;
    case 26:
      {
        divToFillName = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        optionsTabName = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
        tempsplit = $split_0(Parameters.proccessedParameterString, ',', 3);
        topicsToAdd = splitNotWithinBrackets(tempsplit[2], ';');
        $info_1(Log_43, 'filling an option box on div ' + divToFillName + ' with options ' + optionsTabName);
        textOptionPanelToAddToo = dynamicCast(($clinit_TextOptionFlowPanelCore() , globalTextOptionsList).get_2(divToFillName), 395);
        !textOptionPanelToAddToo && $info_1(Log_43, 'ERROR:' + divToFillName + ' not found');
        $addOptions(textOptionPanelToAddToo, topicsToAdd, null, optionsTabName);
        break;
      }

    case 7:
      {
        if (Parameters.params.length > 1) {
          objectname = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          actiontoapply = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          curobjectaa = getSceneObjectNEW(objectname, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (sceneObject$iterator = curobjectaa.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 222);
            sceneObject.userActionTriggeredOnObject(actiontoapply);
          }
        }
         else {
          callingObject.userActionTriggeredOnObject(theParameterString);
        }
        break;
      }

    case 4:
      {
        if (Parameters.params.length > 0) {
          object = theParameterString;
          mode = '';
          if (Parameters.params.length == 2) {
            object = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
            mode = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          }
          triggerSendRightClickToObject(callingObject, object, mode);
        }
         else {
          $triggerContextClickOnObject(callingObject);
        }
        break;
      }

    case 3:
      {
        if (Parameters.params.length > 0) {
          object = theParameterString;
          mode = '';
          if (Parameters.params.length == 2) {
            object = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
            mode = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          }
          triggerSendClickToObject(callingObject, object, mode);
        }
         else {
          $triggerClickOnObject(callingObject);
        }
        break;
      }

    case 12:
      {
        item_Name = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        iposx = $getAsInt(($info_1(Log_40, 'getting 1') , Parameters.params[1]));
        iposy = $getAsInt(($info_1(Log_40, 'getting 2') , Parameters.params[2]));
        fadeDurationItem = $intern_10;
        holdDurationItem = $intern_10;
        Parameters.params.length >= 4 && (fadeDurationItem = $getAsInt(($info_1(Log_40, 'getting 3') , Parameters.params[3])));
        Parameters.params.length >= 5 && (holdDurationItem = $getAsInt(($info_1(Log_40, 'getting 4') , Parameters.params[4])));
        $info_1(Log_43, 'Bamfing an inventory item at ' + iposx + ',' + iposy + ' for 2x' + fadeDurationItem + '+' + holdDurationItem);
        ImgBamfurl = ($clinit_JAMcore() , homeurl) + 'InventoryItems/' + item_Name + '/thumb_' + item_Name + '.png';
        triggerBamf(ImgBamfurl, iposx, iposy, fadeDurationItem, holdDurationItem);
      }

      break;
    case 11:
      {
        objectName = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        oposx = $getAsInt(($info_1(Log_40, 'getting 1') , Parameters.params[1]));
        oposy = $getAsInt(($info_1(Log_40, 'getting 2') , Parameters.params[2]));
        fadeDuration = $intern_10;
        holdDuration = $intern_10;
        Parameters.params.length >= 4 && (fadeDuration = $getAsInt(($info_1(Log_40, 'getting 3') , Parameters.params[3])));
        Parameters.params.length >= 5 && (holdDuration = $getAsInt(($info_1(Log_40, 'getting 4') , Parameters.params[4])));
        $info_1(Log_43, 'Bamfing an object at ' + oposx + ',' + oposy + ' for 2x' + fadeDuration + '+' + holdDuration);
        objectsToBamf = getSpriteObjectNEW(objectName, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
        objectsToBamf.size_1() > 1 && $info_1(Log_43, 'Warning: more then one object found for ' + objectName + '. We can only however, bamf a single object at a time. So we choose one arbitarily');
        objectToBamf = dynamicCast(objectsToBamf.iterator().next_0(), 166);
        triggerBamf(objectToBamf.getObjectsCurrentState_2().ObjectsURL, oposx, oposy, fadeDuration, holdDuration);
        break;
      }

    case 9:
      {
        $info_1(Log_43, 'toggleloadgame');
        $clinit_RequiredImplementations();
        screenManager.isPresent()?(dynamicCast(screenManager.get_1(), 108) , ($clinit_JAM() , loadGamePopup).showing?($CloseDefault_0(loadGamePopup) , $clinit_JAMcore() , $clinit_JAMcore() , IgnoreKeyPresses = false):($OpenDefault_0(loadGamePopup) , $clinit_JAMcore() , $clinit_JAMcore() , IgnoreKeyPresses = true)):$severe_0(Log_50, 'Can not toggleLoadGamePopUp - screenManager not set');
        break;
      }

    case 8:
      inventoryname = Parameters.proccessedParameterString;
      inventory = dynamicCast(($clinit_JAMcore() , allInventoryFrames).get_2(inventoryname), 192);
      !!inventory && (inventory.isShowing()?inventory.CloseDefault():inventory.OpenDefault());
      break;
    case 10:
      {
        inventorynametodisplay = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        objectosendactionstoo = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
        $info_1(Log_43, 'triggering inventory list: ' + inventorynametodisplay + ' ' + objectosendactionstoo);
        curobjectset = getTextObjectNEW(objectosendactionstoo, callingObject, true);
        curobjectset.size_1() > 1 && $info_1(Log_43, 'Warning: more then one object found for ' + objectosendactionstoo + '. Inventory Lists should only have one object to send actions too specified');
        curobject_0 = dynamicCast(curobjectset.iterator().next_0(), 159);
        inventoryTouse_0 = dynamicCast(($clinit_JAMcore() , allInventorys).get_2(inventorynametodisplay), 136);
        !inventoryTouse_0 && $info_1(Log_43, 'inventory:null not found. Current Inventorys are:' + $toString_0(new AbstractMap$1(allInventorys)));
        testpopup = new SelectItemFromInventoryMenu(inventoryTouse_0, curobject_0);
        $info_1(Log_43, 'displaying menu at: ' + lastclickedscreen_x + ' ' + lastclickedscreen_y);
        $setZIndexTop(testpopup.visualRepresentation);
        $setPopupPositionAndShow_0(testpopup, new InstructionProcessor$6(testpopup));
      }

      break;
    case 13:
      {
        dialoguename = $split_0(theParameterString, ',', 2)[0];
        nexttextcontents = $split_0(theParameterString, ',', 2)[1];
        curdobjectsct = getTextObjectNEW(dialoguename, callingObject, ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).searchGlobal);
        for (so$iterator = curdobjectsct.iterator(); so$iterator.hasNext();) {
          so = dynamicCast(so$iterator.next_0(), 159);
          so.setText(nexttextcontents);
          $clinit_SceneObjectDatabase();
          lastTextObjectUpdated = so;
        }
        break;
      }

    case 14:
      {
        textname = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        curdobjectsct = getTextObjectNEW(textname, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
        for (so$iterator = curdobjectsct.iterator(); so$iterator.hasNext();) {
          so = dynamicCast(so$iterator.next_0(), 159);
          $clinit_SceneObjectDatabase();
          lastTextObjectUpdated = so;
        }
        break;
      }

    case 15:
      {
        if (CurrentParams.length == 2) {
          name_0 = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          url_0 = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          curobjectstu = getDialogueObjectNEW(name_0, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (dialogueobject$iterator = curobjectstu.iterator(); dialogueobject$iterator.hasNext();) {
            dialogueobject = dynamicCast(dialogueobject$iterator.next_0(), 124);
            $setURL_0(dialogueobject, url_0);
          }
        }
         else {
          url_0 = $trim(theParameterString);
          $isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , DialogBox))?$setURL_0(dynamicCast(callingObject, 124), url_0):$info_1(Log_43, 'no object specified for setting dialog url, and calling object is not dialogbox');
        }
      }

      break;
    case 16:
      {
        if (Parameters.params.length == 3) {
          object = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          url_0 = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          frames_0 = ($info_1(Log_40, 'getting 2') , Parameters.params[2]).parameterString;
          curobjectsou = getSpriteObjectNEW(object, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (so$iterator = curobjectsou.iterator(); so$iterator.hasNext();) {
            so = dynamicCast(so$iterator.next_0(), 166);
            so.setSpritesURL(url_0, __parseAndValidateInt(frames_0, 10));
          }
        }
         else if (Parameters.params.length == 2) {
          url_0 = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          frames_0 = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          lastSpriteObjectCalled.setSpritesURL(url_0, __parseAndValidateInt(frames_0, 10));
        }
         else {
          lastSpriteObjectCalled.setSpritesURL(theParameterString, 0);
        }
      }

      break;
    case 17:
      {
        if (Parameters.params.length > 1) {
          object = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          newtouchingname = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          touchingObject = getSingleSceneObjectNEW(newtouchingname, callingObject, ($info_1(Log_40, 'getting 1') , Parameters.params[1]).searchGlobal);
          curobjectaot = getSceneObjectNEW(object, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (so$iterator = curobjectaot.iterator(); so$iterator.hasNext();) {
            so = dynamicCast(so$iterator.next_0(), 24);
            $addTouchingProperty(so, touchingObject);
          }
        }
         else {
          touchingObject = getSingleSceneObjectNEW(($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          $addTouchingProperty(callingObject, touchingObject);
        }
        break;
      }

    case 18:
      {
        if (Parameters.params.length > 1) {
          object = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          newtouchingobjectsname = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          touchingObject = getSingleSceneObjectNEW(newtouchingobjectsname, callingObject, ($info_1(Log_40, 'getting 1') , Parameters.params[1]).searchGlobal);
          curobjectrot = getSceneObjectNEW(object, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (so$iterator = curobjectrot.iterator(); so$iterator.hasNext();) {
            so = dynamicCast(so$iterator.next_0(), 24);
            $removeTouchingProperty(so, touchingObject);
          }
        }
         else {
          touchingObject = getSingleSceneObjectNEW(($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          $removeTouchingProperty(callingObject, touchingObject);
        }
      }

      break;
    case 19:
      {
        if (CurrentParams.length >= 3) {
          $info_1(Log_43, 'setting objects pin');
          objectName = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          px = $getAsInt(($info_1(Log_40, 'getting 1') , Parameters.params[1]));
          py = $getAsInt(($info_1(Log_40, 'getting 2') , Parameters.params[2]));
          pz = 0;
          Parameters.params.length == 4 && (pz = $getAsInt(($info_1(Log_40, 'getting 3') , Parameters.params[3])));
          curobjects = getSceneObjectNEW(objectName, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (widget$iterator = curobjects.iterator(); widget$iterator.hasNext();) {
            widget = dynamicCast(widget$iterator.next_0(), 24);
            widget.objectsCurrentState_2.PinPointX = px;
            widget.objectsCurrentState_2.PinPointY = py;
            widget.objectsCurrentState_2.PinPointZ = pz;
            $updateThingsPositionedRelativeToThis(widget, true);
          }
        }
      }

      break;
    case 20:
      {
        objectname = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        scenename = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
        scene = getSceneByName(scenename);
        objectstoset = getSceneObjectNEW(objectname, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
        for (sceneObject$iterator = objectstoset.iterator(); sceneObject$iterator.hasNext();) {
          sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
          $info_1(Log_43, 'setting scene of ' + sceneObject.getObjectsCurrentState_1().ObjectsName + ' to: ' + scenename);
          $setObjectsScene(sceneObject, scene);
        }
      }

      break;
    case 21:
      {
        objectname1 = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        objectname2 = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
        objectstoposition = getSceneObjectNEW(objectname1, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
        refObject = getSingleSceneObjectNEW(objectname2, callingObject, ($info_1(Log_40, 'getting 1') , Parameters.params[1]).searchGlobal);
        $info_1(Log_43, ' setobjecttopositionof;' + objectstoposition.size_1() + ' objects to: ' + refObject.getObjectsCurrentState_1().ObjectsName);
        for (sceneObject$iterator = objectstoposition.iterator(); sceneObject$iterator.hasNext();) {
          sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
          $setPosition_1(sceneObject, $getTopLeftBaseX(refObject) + refObject.objectsCurrentState_2.PinPointX, $getY_1(refObject), $getTopLeftBaseZ(refObject) + refObject.objectsCurrentState_2.PinPointZ, true);
        }
      }

      break;
    case 67:
      {
        $info_1(Log_43, 'Changing a vector: ' + theParameterString);
        vectorobject = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        vectorstring = $split_0(Parameters.proccessedParameterString, ',', 2)[1];
        if (vectorstring.indexOf('<') != -1) {
          $info_1(Log_43, 'Replacing the variables in the vector string ');
          vectorstring = replaceVarValuesInString(vectorstring, callingObject);
        }
        objecttoset = getVectorObjectNEW(vectorobject, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
        for (sceneObject$iterator = objecttoset.iterator(); sceneObject$iterator.hasNext();) {
          sceneObject = dynamicCast(sceneObject$iterator.next_0(), 275);
          $info_1(Log_43, 'Replacing  ' + sceneObject.objectsCurrentState.ObjectsName + ' to: ' + vectorstring);
          $equals_5(vectorstring.substr(0, 1), '<')?$setInnerHTML($getElement(sceneObject.internalFocusPanel), '<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" version="1.1">' + vectorstring + '<\/svg>'):$setInnerHTML($getElement(sceneObject.internalFocusPanel), '<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" version="1.1"><path d="' + vectorstring + '"/>' + '<\/svg>');
          sceneObject.objectsCurrentState.objectsVectorString = vectorstring;
        }
      }

      break;
    case 22:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectnametosetstyle = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          stylename = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          objectstoset = getDivObjectNEW(objectnametosetstyle, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (sceneObject$iterator = objectstoset.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 109);
            sceneObject.setBoxCSS(stylename);
          }
        }
         else {
          $info_1(Log_43, 'setting style to: ' + theParameterString);
          $isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , Div)) && dynamicCast(callingObject, 109).setBoxCSS(theParameterString);
        }
      }

      break;
    case 23:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectnametoaddstyle = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          stylenametoadd = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          objectstoset = getDivObjectNEW(objectnametoaddstyle, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (sceneObject$iterator = objectstoset.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 109);
            sceneObject.addBoxCSS(stylenametoadd);
          }
        }
         else {
          $info_1(Log_43, 'setting style to: ' + theParameterString);
          $isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , Div)) && dynamicCast(callingObject, 109).addBoxCSS(theParameterString);
        }
      }

      break;
    case 24:
      {
        if (Parameters.params.length > 1) {
          objectnametoremovestyle = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          stylenametoadd = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          objectstoset = getDivObjectNEW(objectnametoremovestyle, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (sceneObject$iterator = objectstoset.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 109);
            sceneObject.removeBoxCSS(stylenametoadd);
          }
        }
         else {
          $info_1(Log_43, 'removing style : ' + theParameterString);
          $isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , Div)) && dynamicCast(callingObject, 109).removeBoxCSS(theParameterString);
        }
      }

      break;
    case 27:
      if (Parameters.params.length >= 3) {
        $info_1(Log_43, 'moving object too');
        objecttomove = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        tx = $getAsInt(($info_1(Log_40, 'getting 1') , Parameters.params[1]));
        ty = $getAsInt(($info_1(Log_40, 'getting 2') , Parameters.params[2]));
        speed = 300;
        Parameters.params.length >= 4 && (speed = $getAsInt(($info_1(Log_40, 'getting 3') , Parameters.params[3])));
        triggerMoveObjectsTo(objecttomove, tx, ty, speed, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
      }

      break;
    case 28:
      {
        $info_1(Log_43, 'moving object');
        objects = '';
        xpos = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        ypos = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
        zpos = '0';
        detectCollision = true;
        if (CurrentParams.length > 2) {
          objects = ($info_1(Log_40, 'getting 0') , Parameters.params[0]).parameterString;
          xpos = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          ypos = ($info_1(Log_40, 'getting 2') , Parameters.params[2]).parameterString;
          if (CurrentParams.length > 3) {
            detectCollision = ($clinit_Boolean() , $equalsIgnoreCase('true', ($info_1(Log_40, 'getting 3') , Parameters.params[3]).parameterString));
            CurrentParams.length > 4 && (zpos = ($info_1(Log_40, 'getting 4') , Parameters.params[4]).parameterString);
          }
        }
        dx = __parseAndValidateInt(xpos, 10);
        dy = __parseAndValidateInt(ypos, 10);
        dz = __parseAndValidateInt(zpos, 10);
        $info_1(Log_43, 'moving object..' + objects + ' to' + dx + ',' + dy);
        displaceObjects(objects, dx, dy, dz, detectCollision, callingObject);
      }

      break;
    case 29:
    case 30:
      {
        dropObjects(Parameters, callingObject, currentCommand);
        break;
      }

    case 31:
      {
        impulseMag = new SimpleVector3(0, 0, 0);
        objectname = '';
        if (Parameters.params.length == 3) {
          x_0 = __parseAndValidateDouble(CurrentParams[0]) / $intern_10;
          y_0 = __parseAndValidateDouble(CurrentParams[1]) / $intern_10;
          z_0 = __parseAndValidateDouble(CurrentParams[2]) / $intern_10;
          impulseMag = new SimpleVector3(x_0, y_0, z_0);
        }
         else if (Parameters.params.length == 4) {
          parameterOne = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          objectname = parameterOne;
          x_0 = __parseAndValidateDouble(CurrentParams[1]) / $intern_10;
          y_0 = __parseAndValidateDouble(CurrentParams[2]) / $intern_10;
          z_0 = __parseAndValidateDouble(CurrentParams[3]) / $intern_10;
          impulseMag = new SimpleVector3(x_0, y_0, z_0);
        }
        if (!objectname.length) {
          $info_1(Log_43, 'Adding impulse to object :' + (impulseMag.x_0 + ',' + impulseMag.y_0 + ',' + impulseMag.z_0));
          $addImpulse(callingObject, impulseMag);
        }
         else {
          objectsToDrop = getSceneObjectNEW(objectname, callingObject, true);
          if (objectsToDrop) {
            for (so$iterator = objectsToDrop.iterator(); so$iterator.hasNext();) {
              so = dynamicCast(so$iterator.next_0(), 24);
              $addImpulse(so, impulseMag);
            }
          }
        }
      }

      break;
    case 32:
      {
        $info_1(Log_43, 'linking relative object(/s)');
        addTheseObjects = getSceneObjectNEW(theParameterString, callingObject, true);
        for (sceneObject$iterator = addTheseObjects.iterator(); sceneObject$iterator.hasNext();) {
          sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
          $add_21(callingObject.relativeObjects, sceneObject);
          sceneObject.getObjectsCurrentState_1().positionedRelativeToo = callingObject;
        }
        break;
      }

    case 33:
      {
        $info_1(Log_43, 'unlinking specified relative object(/s)');
        removeTheseObject = getSceneObjectNEW(theParameterString, callingObject, true);
        for (sceneObject$iterator = removeTheseObject.iterator(); sceneObject$iterator.hasNext();) {
          sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
          $remove_21(callingObject.relativeObjects, sceneObject);
          sceneObject.getObjectsCurrentState_1().positionedRelativeToo = null;
        }
      }

      break;
    case 5:
      $clinit_SceneObjectDatabase();
      lastSceneObjectUpdated = null;
      break;
    case 34:
      if (CurrentParams.length == 4) {
        $info_1(Log_43, 'cloning object');
        objectToClone = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
        x_0 = $getAsInt(($info_1(Log_40, 'getting 1') , Parameters.params[1]));
        y_0 = $getAsInt(($info_1(Log_40, 'getting 2') , Parameters.params[2]));
        z_0 = 0;
        newname = $trim(CurrentParams[3]);
        if (Parameters.params.length == 5) {
          z_0 = $getAsInt(($info_1(Log_40, 'getting 3') , Parameters.params[3]));
          newname = ($info_1(Log_40, 'getting 4') , Parameters.params[4]).parameterString;
        }
        triggerCloneObject(callingObject, objectToClone, newname, x_0, y_0, z_0);
      }

      break;
    case 35:
      $info_1(Log_43, 'positioning object ' + Parameters.params.length + ' parameters:' + Parameters.proccessedParameterString);
      if ($isNumber(($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]))) {
        x_0 = $getAsInt(($info_1(Log_40, 'getting 0') , Parameters.params[0]));
        y_0 = $getAsInt(($info_1(Log_40, 'getting 1') , Parameters.params[1]));
        z_0 = 0;
        Parameters.params.length == 3 && (z_0 = $getAsInt(($info_1(Log_40, 'getting 2') , Parameters.params[2])));
        $info_1(Log_43, 'positioning calling object absolutely at ' + x_0 + ',' + y_0 + ',' + z_0);
        $StopCurrentMovement(callingObject);
        $setPosition_1(callingObject, x_0, y_0, z_0, true);
        return;
      }
       else {
        objectToPosition = ($info_1(Log_40, 'getting 0') , Parameters.params[0]).parameterString;
        $info_1(Log_43, 'Positioning object ' + objectToPosition + ' with ' + Parameters.params.length);
        if ($isNumber(($info_1(Log_40, 'getting 1') , Parameters.params[1]))) {
          x_0 = $getAsInt(($info_1(Log_40, 'getting 1') , Parameters.params[1]));
          y_0 = $getAsInt(($info_1(Log_40, 'getting 2') , Parameters.params[2]));
          z_0 = 0;
          Parameters.params.length == 4 && (z_0 = $getAsInt(($info_1(Log_40, 'getting 3') , Parameters.params[3])));
          objectsToPosition = $getAsObjects(($info_1(Log_40, 'getting 0') , Parameters.params[0]), callingObject);
          (!objectsToPosition || objectsToPosition.size_1() == 0) && $severe_0(Log_43, 'no objects found called:' + objectToPosition);
          $info_1(Log_43, 'total objects called ' + objectToPosition + ': ' + objectsToPosition.size_1());
          $info_1(Log_43, 'positioning them absolutely at ' + x_0 + ',' + y_0 + ',' + z_0);
          for (curobject$iterator = objectsToPosition.iterator(); curobject$iterator.hasNext();) {
            curobject = dynamicCast(curobject$iterator.next_0(), 24);
            $StopCurrentMovement(curobject);
            $detach(curobject);
            $setPosition_1(curobject, x_0, y_0, z_0, true);
          }
          return;
        }
         else {
          objectsToPosition = $getAsObjects(($info_1(Log_40, 'getting 0') , Parameters.params[0]), callingObject);
          objecttopositionrelativeto = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          x_0 = $getAsInt(($info_1(Log_40, 'getting 2') , Parameters.params[2]));
          y_0 = $getAsInt(($info_1(Log_40, 'getting 3') , Parameters.params[3]));
          z_0 = 0;
          Parameters.params.length == 5 && (z_0 = $getAsInt(($info_1(Log_40, 'getting 4') , Parameters.params[4])));
          $info_1(Log_43, 'positioning ' + ($info_1(Log_40, 'getting 0') , Parameters.params[0]).parameterString + ' relative to ' + objecttopositionrelativeto + ' at ' + x_0 + ',' + y_0 + ',' + z_0);
          positionedRelativeToPoint = '';
          if (objecttopositionrelativeto.indexOf('(') != -1) {
            $info_1(Log_43, 'attachment point found');
            attachmentPointName = $split_0(objecttopositionrelativeto, '\\(', 0)[1];
            attachmentPointName = $trim($substring_0(attachmentPointName, 0, attachmentPointName.length - 1));
            $info_1(Log_43, 'attachment point found=' + attachmentPointName);
            positionedRelativeToPoint = attachmentPointName;
            objecttopositionrelativeto = $split_0(objecttopositionrelativeto, '\\(', 0)[0];
          }
          postionTo = getSingleSceneObjectNEW(objecttopositionrelativeto, callingObject, ($info_1(Log_40, 'getting 1') , Parameters.params[1]).searchGlobal);
          $info_1(Log_43, 'positioning:' + objectsToPosition.size_1() + ' objects rel to ' + postionTo.getObjectsCurrentState_1().ObjectsName);
          $info_1(Log_43, 'which is on scene ' + postionTo.getObjectsCurrentState_1().ObjectsSceneName);
          for (so$iterator = objectsToPosition.iterator(); so$iterator.hasNext();) {
            so = dynamicCast(so$iterator.next_0(), 24);
            $info_1(Log_43, 'updating objects data');
            so.getObjectsCurrentState_1().relX = x_0;
            so.getObjectsCurrentState_1().relY = y_0;
            so.getObjectsCurrentState_1().relZ = z_0;
            so.getObjectsCurrentState_1().positionedRelativeToo = postionTo;
            so.getObjectsCurrentState_1().positionedRelativeToPoint = positionedRelativeToPoint;
            $info_1(Log_43, 'positioning:' + so.getObjectsCurrentState_1().ObjectsName);
            $add_21(postionTo.relativeObjects, so);
            $info_1(Log_43, 'testing objects are both in scene:' + postionTo.objectScene_0.SceneFileName);
            $info_1(Log_43, postionTo.getObjectsCurrentState_1().ObjectsName + 'is attached:' + $isObjectOnPanel(postionTo.objectScene_0, dynamicCast(postionTo, 137)));
            $info_1(Log_43, so.getObjectsCurrentState_1().ObjectsName + 'is attached:' + $isObjectOnPanel(postionTo.objectScene_0, dynamicCast(so, 137)));
            $updateRelativePosition(so, true);
            $updateThingsPositionedRelativeToThis(postionTo, true);
            $info_1(Log_43, 'updated objects relative positions');
          }
        }
      }

      break;
    case 36:
      {
        if (Parameters.params.length > 1) {
          objecttosetzindex = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          zindex = $getAsInt(($info_1(Log_40, 'getting 1') , Parameters.params[1]));
          curobjectaot = getSceneObjectNEW(objecttosetzindex, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          for (sceneObject$iterator = curobjectaot.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
            $setZIndex(sceneObject, zindex);
          }
        }
         else {
          zindex = __parseAndValidateInt(theParameterString, 10);
          $setZIndex(callingObject, zindex);
        }
        break;
      }

    case 37:
      {
        $info_1(Log_43, '____________linking z index');
        objectsToEffect = new HashSet;
        $add_21(objectsToEffect, callingObject);
        difference = '';
        CurrentParams.length == 1 && (difference = CurrentParams[0]);
        if (CurrentParams.length == 2) {
          objectToEffectsName = CurrentParams[0];
          objectsToEffect.map_0.clear_1();
          matchingObjects = getSceneObjectNEW(objectToEffectsName, callingObject, true);
          objectsToEffect.addAll(matchingObjects);
          difference = CurrentParams[1];
        }
        objectsToEffect.map_0.size_1() == 0 && $info_1(Log_43, 'objectsToEffect is empty. No objects match request ');
        $info_1(Log_43, 'linking ' + objectsToEffect.map_0.size_1() + 'objects to their parents (things they are positioned relative to. ');
        $info_1(Log_43, 'z index difference  ' + difference);
        for (sceneObject$iterator = $iterator_4(new AbstractMap$1(objectsToEffect.map_0)); sceneObject$iterator.val$outerIter2.hasNext();) {
          sceneObject = dynamicCast($next_7(sceneObject$iterator), 24);
          $info_1(Log_43, 'linking ' + sceneObject.getObjectsCurrentState_1().ObjectsName + ' zindex to ' + sceneObject.getObjectsCurrentState_1().positionedRelativeToo);
          sceneObject.getObjectsCurrentState_1().linkedZindex = true;
          sceneObject.getObjectsCurrentState_1().linkedZindexDifference = __parseAndValidateInt(difference, 10);
        }
      }

      break;
    case 38:
      {
        if (Parameters.params.length > 1) {
          objecttoaddpropertytoo = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          state0 = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          matchingObjects = getSceneObjectNEW(objecttoaddpropertytoo, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          if (!matchingObjects) {
            return;
          }
          for (so$iterator = matchingObjects.iterator(); so$iterator.hasNext();) {
            so = dynamicCast(so$iterator.next_0(), 24);
            $addProperty(so, state0);
          }
        }
         else {
          $addProperty(callingObject, ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString);
        }
      }

      break;
    case 39:
      {
        if (Parameters.params.length > 1) {
          objecttoremoveproperty = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          state0 = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
          matchingObjects = getSceneObjectNEW(objecttoremoveproperty, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          if (!matchingObjects) {
            return;
          }
          for (so$iterator = matchingObjects.iterator(); so$iterator.hasNext();) {
            so = dynamicCast(so$iterator.next_0(), 24);
            $removeProperty(so, state0);
          }
        }
         else {
          $removeProperty(callingObject, $trim(theParameterString));
        }
      }

      break;
    case 40:
      {
        if (Parameters.params.length > 0) {
          objecttoremoveproperty = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
          matchingObjects = getSceneObjectNEW(objecttoremoveproperty, callingObject, ($info_1(Log_40, 'getting 0') , Parameters.params[0]).searchGlobal);
          if (!matchingObjects) {
            return;
          }
          for (widget$iterator = matchingObjects.iterator(); widget$iterator.hasNext();) {
            widget = dynamicCast(widget$iterator.next_0(), 24);
            $removeAllPropertys(widget);
          }
        }
         else {
          $removeAllPropertys(callingObject);
        }
      }

      break;
    case 41:
      {
        if (Parameters.params.length > 2) {
          objecttoswapprops = CurrentParams[0];
          replaceThis = CurrentParams[1];
          withThis = $trim(CurrentParams[2]);
          matchingObjects = getSceneObjectNEW(objecttoswapprops, callingObject, ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).searchGlobal);
          for (widget$iterator = matchingObjects.iterator(); widget$iterator.hasNext();) {
            widget = dynamicCast(widget$iterator.next_0(), 24);
            $removeProperty(widget, replaceThis);
            $addProperty(widget, withThis);
          }
        }
         else {
          replaceThis = CurrentParams[0];
          withThis = CurrentParams[1];
          $removeProperty(callingObject, replaceThis);
          $addProperty(callingObject, withThis);
        }
      }

      break;
    case 42:
      {
        if (Parameters.params.length > 0) {
          objecttosavestate = $trim(theParameterString);
          curobject = getSceneObjectNEW(objecttosavestate, callingObject, true);
          for (sceneObject$iterator = curobject.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
            sceneObject.saveTempState();
          }
        }
         else {
          callingObject.saveTempState();
        }
      }

      break;
    case 43:
      {
        if (Parameters.params.length > 0) {
          objecttorestore = $trim(theParameterString);
          curobject = getSceneObjectNEW(objecttorestore, callingObject, true);
          for (sceneObject$iterator = curobject.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
            sceneObject.restoreTempState();
          }
        }
         else {
          callingObject.restoreTempState();
        }
      }

      break;
    case 44:
      {
        if (Parameters.params.length > 1) {
          objecttogotomovement = CurrentParams[0];
          movementsname = CurrentParams[1];
          duration = $intern_36;
          startfrom = -1;
          CurrentParams.length >= 3 && (duration = __parseAndValidateInt(CurrentParams[2], 10));
          if (CurrentParams.length == 4) {
            startfrom = __parseAndValidateInt(CurrentParams[3], 10) - 1;
            $info_1(Log_43, ' start from=' + startfrom);
          }
          curobjects = getSceneObjectNEW(objecttogotomovement, callingObject, true);
          for (so$iterator = curobjects.iterator(); so$iterator.hasNext();) {
            so = dynamicCast(so$iterator.next_0(), 24);
            $playMovement_0(so, movementsname, duration, startfrom, true);
          }
        }
         else {
          $playMovement_0(callingObject, theParameterString, $intern_36, -1, true);
        }
      }

      break;
    case 45:
      {
        ChuckThis = CurrentParams[0];
        FromThis = CurrentParams[1];
        AtThis = CurrentParams[2];
        thingsToChuck = getSceneObjectNEW(ChuckThis, callingObject, true);
        locObject = getSingleSceneObjectNEW(FromThis, callingObject, true);
        tarobject = getSingleSceneObjectNEW(AtThis, callingObject, true);
        for (curobject$iterator = thingsToChuck.iterator(); curobject$iterator.hasNext();) {
          curobject = dynamicCast(curobject$iterator.next_0(), 24);
          $chuckObject(curobject, locObject, tarobject);
        }
      }

      break;
    case 46:
      {
        ChuckThisObject = CurrentParams[0];
        ToThisInventory = CurrentParams[1];
        ObjectToChuckAtInventory = getSceneObjectNEW(ChuckThisObject, callingObject, true);
        if (!ObjectToChuckAtInventory) {
          return;
        }
        chuckthis = null;
        for (sso$iterator = ObjectToChuckAtInventory.iterator(); sso$iterator.hasNext();) {
          sso = dynamicCast(sso$iterator.next_0(), 24);
          if (sso.getObjectsCurrentState_1().objectsPrimaryType != ($clinit_SceneObjectType() , InventoryIcon)) {
            chuckthis = sso;
            $info_1(Log_43, 'got sprite to chuck ' + sso.getObjectsCurrentState_1().ObjectsFileName);
          }
        }
        $info_1(Log_43, 'chucking into inventory named:' + ToThisInventory);
        $chuckIntoInventory(chuckthis, ToThisInventory);
      }

      break;
    case 47:
      {
        if (Parameters.params.length > 1) {
          objecttosetmovement = CurrentParams[0];
          movementsname = CurrentParams[1];
          duration = $intern_36;
          startfrom = -1;
          CurrentParams.length >= 3 && (duration = __parseAndValidateInt(CurrentParams[2], 10));
          if (CurrentParams.length == 4) {
            startfrom = __parseAndValidateInt(CurrentParams[3], 10) - 1;
            $info_1(Log_43, ' start from=' + startfrom);
          }
          objectsToSetMovementOn = getSceneObjectNEW(objecttosetmovement, callingObject, true);
          for (curobjecttosetm$iterator = objectsToSetMovementOn.iterator(); curobjecttosetm$iterator.hasNext();) {
            curobjecttosetm = dynamicCast(curobjecttosetm$iterator.next_0(), 24);
            $playMovement_0(curobjecttosetm, movementsname, duration, startfrom, false);
          }
        }
         else {
          $playMovement_0(callingObject, theParameterString, $intern_36, -1, true);
        }
      }

      break;
    case 48:
      {
        if (Parameters.params.length > 0) {
          objectstostopmovementstring = CurrentParams[0];
          objectsToStopMovementOn = getSceneObjectNEW(objectstostopmovementstring, callingObject, true);
          for (curobjecttostopm$iterator = objectsToStopMovementOn.iterator(); curobjecttostopm$iterator.hasNext();) {
            curobjecttostopm = dynamicCast(curobjecttostopm$iterator.next_0(), 24);
            $StopCurrentMovement(curobjecttostopm);
          }
        }
         else {
          $StopCurrentMovement(callingObject);
        }
      }

      break;
    case 49:
      {
        if (theParameterString.length > 0) {
          curobjectpp = getDialogueObjectNEW(theParameterString, callingObject, true);
          for (textobject$iterator = curobjectpp.iterator(); textobject$iterator.hasNext();) {
            textobject = dynamicCast(textobject$iterator.next_0(), 124);
            $previousParagraph(textobject);
          }
        }
         else {
          $isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , DialogBox))?$previousParagraph(dynamicCast(callingObject, 124)):$info_1(Log_43, 'no object specified for setting dialog previousParagraph, and calling object is not dialogbox');
        }
        break;
      }

    case 159:
      {
        if (CurrentParams.length == 3) {
          objecttosetpara = $trim(CurrentParams[0]);
          paragraphName = $trim(CurrentParams[1]);
          value_0 = $trim(CurrentParams[2]);
          valuepara = __parseAndValidateInt(value_0, 10);
          curobjectpp = getDialogueObjectNEW(objecttosetpara, callingObject, true);
          if (curobjectpp) {
            $info_1(Log_43, 'changing paragraph # in this many objects:' + curobjectpp.size_1());
            for (textobject$iterator = curobjectpp.iterator(); textobject$iterator.hasNext();) {
              textobject = dynamicCast(textobject$iterator.next_0(), 124);
              $setParagraphName(textobject, paragraphName, true);
              $setParagraph(textobject, valuepara);
            }
          }
           else {
            $info_1(Log_43, 'no matching objects found:' + objecttosetpara);
          }
        }
         else {
          if ($isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , DialogBox))) {
            name_0 = $trim(CurrentParams[0]);
            value_0 = $trim(CurrentParams[1]);
            valuepara = __parseAndValidateInt(value_0, 10);
            $setParagraphName(dynamicCast(callingObject, 124), name_0, true);
            $setParagraph(dynamicCast(callingObject, 124), valuepara);
          }
           else {
            $warning_0(Log_43, 'no object specified for setting dialog currentparagraph, and calling object is not dialogbox');
          }
        }
      }

      break;
    case 50:
      if (theParameterString.indexOf(',') != -1) {
        objecttosetpara = $trim(CurrentParams[0]);
        name_0 = $trim(CurrentParams[1]);
        curobjectpp = getDialogueObjectNEW(objecttosetpara, callingObject, true);
        $info_1(Log_43, 'setting paragraph name in this many objects:' + curobjectpp.size_1());
        autorun = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
        if (CurrentParams.length >= 3) {
          autorunstring = $trim(CurrentParams[2]);
          arb = (null , $equalsIgnoreCase('true', autorunstring)?TRUE_3:FALSE_2);
          $info_1(Log_43, 'setting paragraph on ' + objecttosetpara + ' to ' + name_0 + ' with autorun set to ' + autorun);
          autorun = arb;
        }
         else {
          $info_1(Log_43, 'setting paragraph with autorun on because it was not specified to false');
        }
        for (textobject$iterator = curobjectpp.iterator(); textobject$iterator.hasNext();) {
          textobject = dynamicCast(textobject$iterator.next_0(), 124);
          $info_1(Log_43, 'setting paragraph on' + textobject.objectsCurrentState.ObjectsName + ' to ' + name_0);
          $setParagraphName(textobject, name_0, autorun.value_0);
          $ObjectsLog(textobject, '(setParagraphName ran:' + name_0 + ',' + autorun + ')', 1);
        }
      }
       else {
        if ($isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , DialogBox))) {
          $setParagraphName(dynamicCast(callingObject, 124), $trim(theParameterString), false);
          dynamicCast(callingObject, 124).ObjectsLog_0('(setParagraphName ran:' + theParameterString + ')');
        }
         else {
          $info_1(Log_43, 'no object specified for setting dialog setparagraph, and calling object is not dialogbox');
        }
      }

      break;
    case 51:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectaddtextcss = CurrentParams[0];
          state0 = CurrentParams[1];
          curobjecttoget = getTextObjectNEW(objectaddtextcss, callingObject, true);
          for (textobject$iterator = curobjecttoget.iterator(); textobject$iterator.hasNext();) {
            textobject = dynamicCast(textobject$iterator.next_0(), 159);
            textobject.setTextCSS(state0);
          }
        }
         else {
          $info_1(Log_43, 'setting text css');
          lastTextObjectCalled.setTextCSS(theParameterString);
          $info_1(Log_43, 'setting css on:' + lastTextObjectCalled.getObjectsCurrentState_0().ObjectsName);
        }
      }

      break;
    case 52:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectaddtextcss = CurrentParams[0];
          state0 = CurrentParams[1];
          curobjecttoget = getTextObjectNEW(objectaddtextcss, callingObject, true);
          if (curobjecttoget) {
            for (textobject$iterator = curobjecttoget.iterator(); textobject$iterator.hasNext();) {
              textobject = dynamicCast(textobject$iterator.next_0(), 159);
              textobject.addTextCSS(state0);
            }
          }
           else {
            $warning_0(Log_43, 'No object found to add CSS too:' + objectaddtextcss);
          }
        }
         else {
          $info_1(Log_43, 'adding css');
          lastTextObjectCalled.addTextCSS(theParameterString);
          $info_1(Log_43, 'added css to:' + lastTextObjectCalled.getObjectsCurrentState_0().ObjectsName);
        }
      }

      break;
    case 53:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectrt = CurrentParams[0];
          state0 = CurrentParams[1];
          curobjectrt = getTextObjectNEW(objectrt, callingObject, true);
          if (curobjectrt) {
            for (textobject$iterator = curobjectrt.iterator(); textobject$iterator.hasNext();) {
              textobject = dynamicCast(textobject$iterator.next_0(), 159);
              textobject.removeTextCSS(state0);
            }
          }
           else {
            $warning_0(Log_43, 'No object found to remove CSS from:' + objectrt);
          }
        }
         else {
          lastTextObjectCalled.removeTextCSS(theParameterString);
        }
      }

      break;
    case 54:
      {
        if (theParameterString.length > 0) {
          curobjectnp = getDialogueObjectNEW(theParameterString, callingObject, true);
          for (textobject$iterator = curobjectnp.iterator(); textobject$iterator.hasNext();) {
            textobject = dynamicCast(textobject$iterator.next_0(), 124);
            $info_1(Log_43, 'dialogue object to change to next paragraph:' + textobject.objectsCurrentState.ObjectsName);
            $nextParagraph(textobject);
          }
        }
         else {
          if ($isCompatibleWith(callingObject.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , DialogBox))) {
            $nextParagraph(dynamicCast(callingObject, 124));
            callingObject.ObjectsLog_1('(next paragraph run)', 1);
          }
           else {
            $info_1(Log_43, 'no object specified for setting dialog nextParagraph, and calling object is not dialogbox');
          }
        }
      }

      break;
    case 56:
    case 55:
      framegap(theParameterString, callingObject, lastSpriteObjectCalled, CurrentParams);
      break;
    case 57:
      if (CurrentParams.length == 3) {
        objectaov = CurrentParams[0];
        name_0 = CurrentParams[1];
        value_0 = CurrentParams[2];
        curobjectaov = getSceneObjectNEW(objectaov, callingObject, true);
        for (sceneObject$iterator = curobjectaov.iterator(); sceneObject$iterator.hasNext();) {
          sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
          $subtractkFromVariable(sceneObject, name_0, value_0);
        }
      }
       else {
        name_0 = CurrentParams[0];
        value_0 = CurrentParams[1];
        $subtractkFromVariable(callingObject, name_0, value_0);
      }

      break;
    case 58:
      {
        if (CurrentParams.length == 3) {
          objectaov = CurrentParams[0];
          name_0 = CurrentParams[1];
          value_0 = $trim(CurrentParams[2]);
          curobjectaov = getSceneObjectNEW(objectaov, callingObject, true);
          for (sceneObject$iterator = curobjectaov.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
            $addToVariable(sceneObject, name_0, value_0);
          }
        }
         else {
          name_0 = CurrentParams[0];
          value_0 = CurrentParams[1];
          $addToVariable(callingObject, name_0, value_0);
        }
      }

      break;
    case 59:
      {
        $info_1(Log_43, 'setting variable :' + theParameterString);
        if (CurrentParams.length == 3) {
          $info_1(Log_43, 'dividing params');
          objectsov = CurrentParams[0];
          name_0 = CurrentParams[1];
          value_0 = getValue_2($trim(CurrentParams[2]), callingObject);
          $info_1(Log_43, 'getting object:' + objectsov);
          curobjectsov = getSceneObjectNEW(objectsov, callingObject, true);
          $info_1(Log_43, 'setting variable ' + name_0 + ' to ' + value_0 + ' on object[s] ' + objectsov);
          for (sceneObject$iterator = curobjectsov.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
            $setVariable(sceneObject.objectsCurrentState_2.ObjectRuntimeVariables, name_0, value_0);
          }
        }
         else {
          name_0 = CurrentParams[0];
          value_0 = getValue_2($trim(CurrentParams[1]), callingObject);
          $info_1(Log_43, 'setting variable on last object : ' + name_0 + ' to ' + value_0);
          !callingObject && $info_1(Log_43, '__________________________null ');
          $setVariable(callingObject.objectsCurrentState_2.ObjectRuntimeVariables, name_0, value_0);
        }
      }

      break;
    case 60:
      changeanimationstate(theParameterString, callingObject, lastSpriteObjectCalled, CurrentParams);
      break;
    case 61:
      {
        changeanimationstate(theParameterString, callingObject, lastSpriteObjectCalled, CurrentParams);
        break;
      }

    case 63:
      {
        Xs = CurrentParams[0];
        Ys = CurrentParams[1];
        Speed = 75;
        if (CurrentParams.length == 3) {
          Speeds = CurrentParams[2];
          Speed = __parseAndValidateInt(getValue_2(Speeds, callingObject), 10);
        }
        Xpos = __parseAndValidateInt(getValue_2(Xs, callingObject), 10);
        Ypos = __parseAndValidateInt(getValue_2(Ys, callingObject), 10);
        $info_1(Log_43, '____________scrolling scene position to:' + Xs + ',' + Ys);
        !($clinit_SceneObjectDatabase() , currentScene_0) && $info_1(Log_43, ' currentScene is null');
        $scrollViewToPosition(currentScene_0, Xpos, Ypos, Speed);
        break;
      }

    case 64:
      {
        if (CurrentParams.length == 2) {
          duration = __parseAndValidateInt(CurrentParams[0], 10);
          distance = __parseAndValidateInt(CurrentParams[1], 10);
        }
         else {
          $info_1(Log_43, 'wrong number of params, assuming defualt shake');
          duration = 2000;
          distance = 50;
        }
        $info_1(Log_43, ' setting shake to:' + distance + ' for ' + duration);
        $shakeView(($clinit_SceneObjectDatabase() , currentScene_0), duration, distance);
        break;
      }

    case 62:
      {
        if (CurrentParams.length == 2) {
          Xs = CurrentParams[0];
          Ys = CurrentParams[1];
          Xpos = __parseAndValidateInt(Xs, 10);
          Ypos = __parseAndValidateInt(Ys, 10);
          $info_1(Log_43, '____________setting scene position to:' + Xs + ',' + Ys);
          !($clinit_SceneObjectDatabase() , currentScene_0) && $info_1(Log_43, ' currentScene is null');
          $setViewPosition(currentScene_0, Xpos, Ypos);
          break;
        }
         else if (CurrentParams.length == 3) {
          Scene = CurrentParams[0];
          Xs = CurrentParams[1];
          Ys = CurrentParams[2];
          Xpos = __parseAndValidateInt(Xs, 10);
          Ypos = __parseAndValidateInt(Ys, 10);
          PickScene = getSceneByName(Scene);
          $info_1(Log_43, '____________setting scene position to:' + Xs + ',' + Ys);
          !PickScene && $info_1(Log_43, ' currentScene is null');
          $setViewPosition(PickScene, Xpos, Ypos);
          break;
        }
         else {
          $warning_0(Log_43, 'SetScenePosition has an invalid number of parameters. Pick 2 for current scene ~ X,Y ~ and 3 if you wish to change the position of a different scene ~ Scene,X,Y');
        }
      }

    case 65:
      $info_1(Log_43, 'SetSceneBackground');
      !($clinit_SceneObjectDatabase() , currentScene_0) && $info_1(Log_43, ' currentScene is null');
      $setBackgroundUrl(currentScene_0, theParameterString);
      break;
    case 68:
      $info_1(Log_43, 'Loading scene data');
      $clinit_JAMcore();
      deseraliseAndRestoreStateFromString(Parameters.rawParameterString);
      break;
    case 69:
      $info_1(Log_43, 'LoadSceneState currentScene');
      !($clinit_SceneObjectDatabase() , currentScene_0) && $info_1(Log_43, ' currentScene is null');
      $loadSceneTempState(currentScene_0);
      break;
    case 66:
      {
        $info_1(Log_43, 'opening save game box');
        $clinit_RequiredImplementations();
        screenManager.isPresent()?(dynamicCast(screenManager.get_1(), 108) , $display(dynamicCast(saveManager.get_1(), 180))):$severe_0(Log_50, 'Can not set openSavePanel - screenManager not set');
        break;
      }

    case 70:
      $warning_0(Log_43, 'savescenestate not supported. You may, however, use savegame');
      break;
    case 71:
      $info_1(Log_43, 'setting SceneScroll');
      !($clinit_SceneObjectDatabase() , currentScene_0) && $info_1(Log_43, ' currentScene is null');
      scrollX_0 = CurrentParams[0];
      scrollY_0 = CurrentParams[1];
      xMovement = ($clinit_Boolean() , $equalsIgnoreCase('true', scrollX_0));
      yMovement = $equalsIgnoreCase('true', scrollY_0);
      $setScroll(currentScene_0, yMovement?TRUE_3:FALSE_2, xMovement?TRUE_3:FALSE_2);
      break;
    case 72:
      clearAllGameData();
      break;
    case 73:
      if (theParameterString.length > 1) {
        sceneName = $trim(CurrentParams[0]);
        sceneToReset = getSceneByName(sceneName);
        $resetScene(sceneToReset);
      }
       else {
        $info_1(Log_43, 'resetting currentScene');
        if (!($clinit_SceneObjectDatabase() , currentScene_0)) {
          $info_1(Log_43, ' currentScene is null');
          return;
        }
        $resetScene(currentScene_0);
      }

      break;
    case 74:
      if (theParameterString.length > 1) {
        curobjectsov = getSceneObjectNEW(theParameterString, callingObject, true);
        for (sceneObject$iterator = curobjectsov.iterator(); sceneObject$iterator.hasNext();) {
          sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
          sceneObject.resetObject();
        }
      }
       else {
        callingObject.resetObject();
      }

      break;
    case 75:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectfo = CurrentParams[0];
          fadetime = CurrentParams[1];
          curobjectfo = getSceneObjectNEW(objectfo, callingObject, true);
          time = __parseAndValidateInt(fadetime, 10);
          curobjectfo.size_1() == 0 && $warning_0(Log_43, 'NO OBJECTS FOUND TO FADE OUT:' + objectfo);
          for (sceneObject$iterator = curobjectfo.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
            $fadeOut(sceneObject, time);
          }
        }
         else {
          time = __parseAndValidateInt(theParameterString, 10);
          $fadeOut(callingObject, time);
        }
      }

      break;
    case 76:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectfi = CurrentParams[0];
          fadetime = CurrentParams[1];
          objects_to_fade = getSceneObjectNEW(objectfi, callingObject, true);
          time = __parseAndValidateInt(fadetime, 10);
          objects_to_fade.size_1() == 0 && $warning_0(Log_43, 'NO OBJECTS FOUND TO FADE IN:' + objectfi);
          for (sceneObject$iterator = objects_to_fade.iterator(); sceneObject$iterator.hasNext();) {
            sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
            $fadeIn(sceneObject, time);
          }
        }
         else {
          time = __parseAndValidateInt(theParameterString, 10);
          $fadeIn(callingObject, time);
        }
      }

      break;
    case 77:
      {
        $info_1(Log_43, 'setting objectvisible');
        if (theParameterString.indexOf(',') != -1) {
          objectov = CurrentParams[0];
          state0 = CurrentParams[1];
          curobjectaot = getSceneObjectNEW(objectov, callingObject, true);
          if (!curobjectaot || curobjectaot.size_1() == 0) {
            $warning_0(Log_43, 'NO OBJECTS FOUND TO SET VISIBLE:' + objectov);
            return;
          }
          for (co$iterator = curobjectaot.iterator(); co$iterator.hasNext();) {
            co = dynamicCast(co$iterator.next_0(), 24);
            $equalsIgnoreCase(state0, 'false')?co.setVisible(false):co.setVisible(true);
          }
        }
         else {
          $equalsIgnoreCase(theParameterString, 'false')?callingObject.setVisible(false):callingObject.setVisible(true);
        }
      }

      break;
    case 78:
      {
        objectro = CurrentParams[0];
        curobjectro = getSceneObjectNEW(objectro, callingObject, true);
        if (!curobjectro || curobjectro.size_1() == 0) {
          $warning_0(Log_43, 'NO OBJECTS FOUND TO remove:' + curobjectro);
          return;
        }
        for (co$iterator = curobjectro.iterator(); co$iterator.hasNext();) {
          co = dynamicCast(co$iterator.next_0(), 24);
          $removeObject(co, true);
        }
      }

      break;
    case 79:
      if (CurrentParams.length >= 3) {
        objectrnca = $trim(CurrentParams[0]);
        name_0 = $trim(CurrentParams[1]);
        after = $trim(CurrentParams[2]);
        overwritePreviousAction = false;
        CurrentParams.length == 4 && (overwritePreviousAction = ($clinit_Boolean() , $equalsIgnoreCase('true', $trim(CurrentParams[3]))));
        activateAfter = __parseAndValidateInt(after, 10);
        if ($equals_5(objectrnca, '<GLOBAL>')) {
          newtimer = new InstructionProcessor$1(name_0, name_0, callingObject);
          $schedule_0(newtimer, activateAfter);
          overwritePreviousAction && cancelNamedActionSetTimer('<GLOBAL>', name_0);
        }
         else {
          curobjects = getSceneObjectNEW(objectrnca, callingObject, true);
          triggerRunNamedActionSetAfter(curobjects, name_0, activateAfter, overwritePreviousAction);
        }
      }

      if (CurrentParams.length == 2) {
        name_0 = $trim(CurrentParams[0]);
        after = $trim(CurrentParams[1]);
        activateAfter = __parseAndValidateInt(after, 10);
        curobjects = new HashSet;
        $add_21(curobjects, callingObject);
        triggerRunNamedActionSetAfter(curobjects, name_0, activateAfter, false);
      }

      break;
    case 80:
      if (theParameterString.indexOf(',') != -1) {
        objectsnc = CurrentParams[0];
        name_0 = CurrentParams[1];
        cancelNamedCommands(objectsnc, name_0, callingObject);
      }

      break;
    case 81:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectrnce = CurrentParams[0];
          name_0 = CurrentParams[1];
          interval = $trim(CurrentParams[2]);
          if (interval.indexOf('-') != -1) {
            activateEveryLow = __parseAndValidateInt($split_0(interval, '-', 0)[0], 10);
            activateEveryHigh = __parseAndValidateInt($split_0(interval, '-', 0)[1], 10);
          }
           else {
            activateEveryLow = __parseAndValidateInt(interval, 10);
            activateEveryHigh = activateEveryLow;
          }
          overwritePreviousAction = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
          CurrentParams.length == 4 && (overwritePreviousAction = (null , $equalsIgnoreCase('true', CurrentParams[3])?TRUE_3:FALSE_2));
          triggerRunNamedCommandsEvery(objectrnce, name_0, activateEveryLow, activateEveryHigh, callingObject, overwritePreviousAction.value_0);
        }
      }

      break;
    case 82:
      {
        if (theParameterString.indexOf(',') != -1) {
          objectrnc = CurrentParams[0];
          name_0 = CurrentParams[1];
          if ($equals_5(objectrnc, '<GLOBAL>')) {
            testForGlobalActions(($clinit_ActionSet$TriggerType() , NamedActionSet), name_0, callingObject);
            return;
          }
          curobjectsrnc = getSceneObjectNEW(objectrnc, callingObject, true);
          curobjectsrnc.size_1() == 0 && $warning_0(Log_43, 'Attempted To Run ActionSet On Object ' + objectrnc + ' but object now found. Maybe not loaded yet?');
          for (so$iterator = curobjectsrnc.iterator(); so$iterator.hasNext();) {
            so = dynamicCast(so$iterator.next_0(), 24);
            $runNamedActionSet(so, name_0);
          }
        }
         else {
          $runNamedActionSet(callingObject, theParameterString);
        }
      }

      break;
    case 83:
      if (theParameterString.indexOf(',') != -1) {
        sceneName = CurrentParams[0];
        cssName = CurrentParams[1];
        $setStaticSceneOverlay(getSceneByName(sceneName), cssName);
      }
       else {
        $info_1(Log_43, '_________ adding overlay:' + theParameterString);
        $setStaticSceneOverlay(($clinit_SceneObjectDatabase() , currentScene_0), theParameterString);
      }

      break;
    case 84:
      {
        if (theParameterString.indexOf(',') != -1) {
          sceneName = CurrentParams[0];
          cssName = CurrentParams[1];
          $setDynamicSceneOverlay(getSceneByName(sceneName), cssName);
        }
         else {
          $info_1(Log_43, '_________ adding overlay:' + theParameterString);
          $setDynamicSceneOverlay(($clinit_SceneObjectDatabase() , currentScene_0), theParameterString);
        }
        break;
      }

    case 93:
      {
        if ($equals_5(theParameterString.substr(0, 1), '<') && $endsWith(theParameterString, '>')) {
          $info_1(Log_43, ' getting location name from variable named:' + theParameterString);
          theParameterString = getValue_2(theParameterString, callingObject);
          $info_1(Log_43, ' getting scene named:' + theParameterString);
          !theParameterString.length && $severe_0(Log_43, 'NO SCENE FOUND FOR VARIABLE');
        }
        $clinit_JAMcore();
        usersCurrentLocation = theParameterString;
        setWindowTitle(Username + ($clinit_GamesInterfaceTextCore() , MainGame_is_on_chapter) + usersCurrentLocation);
      }

      break;
    case 92:
      triggerMessage(theParameterString);
      break;
    case 91:
      setCurrentFeedbackText(getlastmessage(__parseAndValidateInt(theParameterString, 10)));
      break;
    case 90:
      setCurrentFeedbackTextDelay(__parseAndValidateInt(theParameterString, 10));
      break;
    case 89:
      namesetv = $trim(CurrentParams[0]).toLowerCase();
      valuesetv = $trim(CurrentParams[1]);
      $equals_5(valuesetv.substr(0, 1), '<') && $endsWith(valuesetv, '>') && (valuesetv = getValue_2(valuesetv, callingObject));
      $AddItemUniquely(($clinit_GameVariableManagement() , GameVariables), valuesetv, namesetv);
      break;
    case 88:
      namesv = $trim(CurrentParams[0]).toLowerCase();
      valuesv = $trim(CurrentParams[1]).toLowerCase();
      try {
        ValueOf = valueOf_45(__parseAndValidateInt(valuesv, 10)).value_0;
        ValueOfItem = valueOf_45(__parseAndValidateInt($GetItem(($clinit_GameVariableManagement() , GameVariables), namesv), 10)).value_0;
        newValue = ValueOfItem - ValueOf;
        $info_1(Log_43, 'subtract to ' + newValue);
        $AddItemUniquely(GameVariables, '' + newValue, namesv);
      }
       catch ($e0) {
        $e0 = wrap($e0);
        if (instanceOf($e0, 105)) {
          $info_1(Log_43, 'attempted to subtract  something not a number,or variable not set');
        }
         else 
          throw unwrap($e0);
      }

      break;
    case 87:
      nameav = $trim(CurrentParams[0]).toLowerCase();
      valueav = $trim(CurrentParams[1]).toLowerCase();
      try {
        ValueOf = valueOf_45(__parseAndValidateInt(valueav, 10)).value_0;
        variableValueFound = $GetItem(($clinit_GameVariableManagement() , GameVariables), nameav);
        variableValueFound == null || !variableValueFound.length?(ValueOfItem = 0):(ValueOfItem = valueOf_45(__parseAndValidateInt(variableValueFound, 10)).value_0);
        newValue = ValueOfItem + ValueOf;
        $info_1(Log_43, 'setting to ' + newValue);
        $AddItemUniquely(GameVariables, '' + newValue, nameav);
      }
       catch ($e1) {
        $e1 = wrap($e1);
        if (instanceOf($e1, 105)) {
          $severe_0(Log_43, 'attempted to add  something not a number');
        }
         else 
          throw unwrap($e1);
      }

      break;
    case 85:
      $clinit_OptionalImplementations();
      mouseCursorImplementation.isPresent() && $setMouseFromImage((dynamicCast(mouseCursorImplementation.get_1(), 207) , theParameterString));
      break;
    case 86:
      $SetScore(($clinit_JAMcore() , PlayersScore), __parseAndValidateInt(theParameterString, 10));
      $clinit_RequiredImplementations();
      interfaceVisualElements_0.isPresent() && $setCurrentFeedbackText((dynamicCast(interfaceVisualElements_0.get_1(), 123) , 'Current Score is:' + theParameterString));
      AddNewMessage('<div class="MyApplication.messagehistoryReplyStyle" >  Current Score is:' + theParameterString + '<\/div>');
      break;
    case 94:
      $info_1(Log_43, 'answer given by script:' + theParameterString + ' at location=' + ($clinit_JAMcore() , usersCurrentLocation));
      AnswerGiven(theParameterString);
      break;
    case 95:
      $LoadFromString(($clinit_JAMcore() , playersClues), $trim(theParameterString));
      break;
    case 96:
      if ($indexOf_2(ScoresAwarded, '|' + UniqueTriggerIndent + '|') == -1) {
        $AddScore(($clinit_JAMcore() , PlayersScore), __parseAndValidateInt(theParameterString, 10));
        setCurrentFeedbackText(($clinit_GamesInterfaceTextCore() , MainGame_Score_Awarded) + ' ' + theParameterString);
        AddNewMessage('<div class="MyApplication.messagehistoryReplyStyle" >  Score Awarded:' + theParameterString + '<\/div>');
        ScoresAwarded = ScoresAwarded + ' |' + UniqueTriggerIndent + '| ';
      }

      break;
    case 97:
      ScoresAwarded = theParameterString;
      break;
    case 98:
      setCurrentFeedbackTextSpeed(__parseAndValidateInt(theParameterString, 10));
      break;
    case 99:
      addInventory(theParameterString, CurrentParams);
      break;
    case 100:
      triggerPocketObject(CurrentParams, callingObject);
      break;
    case 101:
      $trim(theParameterString).length > 0 && (theParameterString.indexOf(',') != -1?addItemToInventory(CurrentParams[0], CurrentParams[1], ''):addItemToInventory(CurrentParams[0], null, ''));
      break;
    case 102:
      $info_1(Log_43, 'told to hold1: ' + theParameterString);
      holdItem(theParameterString);
      break;
    case 103:
      unholdItem();
      break;
    case 104:
      if (theParameterString.indexOf(',') != -1) {
        inventoryName = CurrentParams[1];
        inventoryTouse = dynamicCast(($clinit_JAMcore() , allInventorys).get_2(inventoryName), 136);
        !inventoryTouse && (inventoryTouse = ($clinit_InventoryPanelCore() , defaultInventory));
      }
       else {
        inventoryTouse = ($clinit_InventoryPanelCore() , defaultInventory);
      }

      $info_1(Log_43, 'clearing inventory');
      $ClearInventory(inventoryTouse);
      break;
    case 105:
      $info_1(Log_43, 'Removing ' + theParameterString + ' from the inventory \n');
      if ($equalsIgnoreCase(theParameterString, '<LASTINVENTORYITEM>')) {
        $info_1(Log_43, 'Removing last inventory item');
        ItemToRemove = ($clinit_SceneObjectDatabase() , lastInventoryObjectClickedOn);
        $RemoveItem_0(ItemToRemove.NativeInventoryPanel, ItemToRemove.objectsCurrentState_2.ObjectsName);
      }
       else if ($equalsIgnoreCase(theParameterString, '<HELDITEM>')) {
        ItemToRemove = ($clinit_InventoryPanelCore() , currentlyHeldItem);
        !ItemToRemove && $severe_0(Log_43, 'No Held Item, yet was asked to remove <HELDITEM> from inventory');
        $RemoveItem_0(ItemToRemove.NativeInventoryPanel, ItemToRemove.objectsCurrentState_2.ObjectsName);
      }
       else {
        Inventorys = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
        while (Inventorys.val$outerIter2.hasNext()) {
          inventoryPanel = dynamicCast($next_8(Inventorys), 136);
          if ($RemoveItem_0(inventoryPanel, theParameterString)) {
            return;
          }
        }
      }

      break;
    case 106:
      $info_1(Log_43, 'Setting special effect to ' + theParameterString + '');
      $info_1(Log_43, 'With post instructions; ' + CommandListToString(instructionset) + '');
      TriggerEffect(theParameterString, CommandListToString(instructionset));
      break;
    case 107:
      {
        name_0 = $trim(theParameterString);
        autoDisplay = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
        locationname = ($clinit_JAMcore() , usersCurrentLocation);
        if (CurrentParams.length > 1) {
          name_0 = $trim(CurrentParams[0]);
          CurrentParams.length == 2 && (autoDisplay = $equalsIgnoreCase('true', $trim(CurrentParams[1]))?TRUE_3:FALSE_2);
          if (CurrentParams.length == 3) {
            locationname = $trim(CurrentParams[1]);
            autoDisplay = $equalsIgnoreCase('true', $trim(CurrentParams[2]))?TRUE_3:FALSE_2;
          }
        }
        if ($equals_5(name_0.substr(0, 1), '<') && $endsWith(name_0, '>')) {
          $info_1(Log_43, ' getting scene name from variable named:' + name_0);
          name_0 = getValue_2(name_0, callingObject);
          $info_1(Log_43, ' getting scene named:' + name_0);
        }
        $equals_5(locationname.substr(0, 1), '<') && $endsWith(locationname, '>') && (locationname = getValue_2(locationname, callingObject));
        loadSceneIntoNewTab(name_0, locationname, autoDisplay.value_0, false);
        break;
      }

    case 108:
      {
        scenename = $trim(theParameterString);
        autoDisplay = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
        locationname = ($clinit_JAMcore() , usersCurrentLocation);
        if (CurrentParams.length > 1) {
          scenename = $trim(CurrentParams[0]);
          CurrentParams.length == 2 && (autoDisplay = $equalsIgnoreCase('true', $trim(CurrentParams[1]))?TRUE_3:FALSE_2);
          if (CurrentParams.length == 3) {
            locationname = $trim(CurrentParams[1]);
            autoDisplay = $equalsIgnoreCase('true', $trim(CurrentParams[2]))?TRUE_3:FALSE_2;
          }
        }
        loadSceneIntoNewTab(scenename, locationname, autoDisplay.value_0, true);
        break;
      }

    case 109:
      $clinit_JAMcore();
      triggerSelectCheck = false;
      pageToSelect = '';
      $equals_5(theParameterString.substr(0, 1), '<') && $endsWith(theParameterString, '>') && getValue_2(theParameterString, callingObject);
      bringSceneToFront_0(theParameterString, false);
      break;
    case 110:
      $equals_5(theParameterString, '1 Pierres aktetas.html') && (theParameterString = '10 Pierres aktetas.html');
      ($clinit_System() , out_0).print_0("Setting '" + theParameterString + "' to storybox \n");
      $clinit_JAMcore();
      triggerSelectCheck = false;
      pageToSelect = '';
      !!($clinit_TigItemCore() , lastclickedTig) && $setFeedbackText(lastclickedTig, '');
      $info_1(Log_46, 'story text:' + theParameterString + ' is queued to be loaded');
      newPageLoadData = new PageLoadingData(theParameterString, CurrentScenesAndPages);
      ($clinit_PageLoadingData() , PageLoadingQueue).add_0(newPageLoadData);
      CheckLoadingQueue();
      break;
    case 112:
      bringSceneToFront_0(theParameterString, true);
      break;
    case 111:
      bringSceneToFront_0(theParameterString, false);
      break;
    case 113:
      $clinit_SceneAndPageSet();
      $selectPageIfLoadedOrSceneStraightAwayImplementation(($clinit_JAMcore() , CurrentScenesAndPages), theParameterString);
      break;
    case 114:
      ($clinit_System() , out_0).print_0("Removing '" + theParameterString + "' from storybox \n");
      $removePageFromSet(($clinit_JAMcore() , CurrentScenesAndPages), theParameterString);
      break;
    case 116:
      {
        $info_1(Log_43, 'settings items state');
        itemsname = $trim(CurrentParams[0]);
        state0 = $trim(CurrentParams[1]);
        item_0 = getItemFromName(itemsname);
        if (item_0) {
          $info_1(Log_43, 'item:' + item_0.objectsCurrentState_2.ObjectsName + ' found loading state:' + state0);
          item_0.PopUp.loadState_0(state0);
        }
         else {
          $info_1(Log_43, 'item ' + itemsname + ' not found. It might still be loading so we add this command to the process when ready list');
          if (($clinit_JAMcore() , itemsLeftToLoad) > 0) {
            $info_1(Log_43, 'items left to load:' + itemsLeftToLoad);
            commands = new CommandList;
            $add_18(commands, new CommandLine(($clinit_CommandLine$GameCommands() , setitemstate), itemsname + ',' + state0));
            processInstructionsWhenReady(commands, UniqueTriggerIndent);
          }
           else {
            $info_1(Log_43, 'but nothing is loading!');
          }
        }
      }

      break;
    case 115:
      if ($equalsIgnoreCase(theParameterString, '<LASTINVENTORYITEM>')) {
        $triggerPopup(($clinit_SceneObjectDatabase() , lastInventoryObjectClickedOn));
      }
       else {
        if ($inventoryContainsItem(($clinit_InventoryPanelCore() , defaultInventory), theParameterString)) {
          $triggerItem(defaultInventory, theParameterString);
        }
         else {
          defaultInventory.InventorysButton.setPlayForwardThenBack();
          $AddItem_0(defaultInventory, theParameterString, true, '', null);
          $OpenDefault_1(defaultInventory);
        }
      }

      break;
    case 117:
      $clinit_OptionalImplementations();
      WebGameFunctionsImplementation.isPresent() && open_2((dynamicCast(WebGameFunctionsImplementation.get_1(), 1448) , theParameterString), '_blank', '');
      break;
    case 118:
      $clinit_JAMcore();
      triggerSelectCheck = false;
      pageToSelect = '';
      $info_1(Log_43, 'setting new chapter');
      $newchapter_specificImplementation(theParameterString);
      break;
    case 119:
      $equals_5(theParameterString, 'Thm45.html') && (theParameterString = 'Th0m45.html');
      $info_1(Log_43, 'adding profile');
      !($clinit_JAMcore() , PlayersNotepad) && $info_1(Log_43, 'PlayersNotepad is null');
      $AddPage(PlayersNotepad, theParameterString, $substring_0(theParameterString, 0, theParameterString.indexOf('.html')));
      PlayersNotepad.NotepadButton_0.setPlayForwardThenBack();
      break;
    case 120:
      itemnamesearch = CurrentParams[0];
      state = CurrentParams[1];
      $info_1(Log_43, '\n setting tig item..' + state);
      $setItemState(($clinit_TigItemCore() , lastclickedTig), itemnamesearch, state);
      break;
    case 121:
      $testCombination(($clinit_TigItemCore() , lastclickedTig));
      break;
    case 122:
      ($clinit_TigItemCore() , lastclickedTig).disabled_0 = true;
      break;
    case 123:
      tigMessage(theParameterString);
      break;
    case 124:
      $triggerPopUpMessage(($clinit_TigItemCore() , theParameterString));
      break;
    case 125:
      imagepop = $createNewImageWithAlphaItem_impl($trim(theParameterString));
      imagepopupcontainer = new TitledPopUpWithShadow_1(null, 'ADVERT', imagepop);
      imagepopupcontainer.OpenDefault();
      imagepopupcontainer.setPopupPosition(round_int(random() * ($clinit_RequiredImplementations() , BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage width- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , ~~($getClientWidth($doc) / 2))), round_int(random() * (BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage height- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , ~~($getClientHeight($doc) / 2))));
      break;
    case 126:
      imagepop2 = $createNewImageWithAlphaItem_impl($trim(theParameterString));
      imagepopupcontainer2 = new TitledPopUpWithShadow_1(null, 'Amuse', imagepop2);
      imagepopupcontainer2.OpenDefault();
      break;
    case 128:
      {
        soundID = $trim(CurrentParams[0]);
        trackName = $trim(CurrentParams[1]);
        $clinit_OptionalImplementations();
        JamAudioControllerImplementation.isPresent() && setDefaultSoundTrack(soundID, trackName);
      }

    case 127:
      {
        $clinit_OptionalImplementations();
        JamAudioControllerImplementation.isPresent() && (dynamicCast(dynamicCast(JamAudioControllerImplementation.get_1(), 150), 194) , stopAllTracks(false, ($clinit_JamAudioController$AudioType() , SoundEffect), null, -1));
      }

      break;
    case 129:
      {
        stopObjectsSound(theParameterString, CurrentParams, callingObject);
      }

      break;
    case 130:
      {
        playObjectsSound(theParameterString, CurrentParams, callingObject);
        break;
      }

    case 131:
      {
        Volume = 100;
        filename = theParameterString;
        if (theParameterString.indexOf(',') != -1) {
          filename = $trim(CurrentParams[0]);
          VolumeString = $trim(CurrentParams[1]);
          Volume = __parseAndValidateInt(VolumeString, 10);
        }
        $info_1(Log_43, '_______________playing filename: ' + filename);
        playAudioTrack(filename, Volume, false, ($clinit_JamAudioController$AudioType() , SoundEffect), -1);
      }

      break;
    case 132:
      $clinit_OptionalImplementations();
      JamAudioControllerImplementation.isPresent() && $cacheAudio((dynamicCast(JamAudioControllerImplementation.get_1(), 150) , theParameterString), false);
      break;
    case 133:
      $clinit_OptionalImplementations();
      JamAudioControllerImplementation.isPresent() && $cacheAudio((dynamicCast(JamAudioControllerImplementation.get_1(), 150) , theParameterString), true);
      break;
    case 134:
      {
        trackName = $trim(CurrentParams[0]);
        autoPlay = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
        volume = valueOf_45(100);
        fadeOver = -1;
        if (CurrentParams.length > 1) {
          autoPlayString = $trim(CurrentParams[1]).toLowerCase();
          autoPlay = (null , $equalsIgnoreCase('true', autoPlayString)?TRUE_3:FALSE_2);
          if (CurrentParams.length > 2) {
            volumeString = $trim(CurrentParams[2]).toLowerCase();
            volume = ($clinit_Ints() , tryParse(volumeString));
            if (CurrentParams.length > 3) {
              fadeOverStr = $trim(CurrentParams[3]).toLowerCase();
              fadeOver = tryParse(fadeOverStr).value_0;
            }
          }
        }
        $info_1(Log_43, 'adding track:' + trackName + ' autoplay:' + autoPlay + ' at ' + volume + ' volume and fading over:' + fadeOver);
        addMusicTrack(trackName, autoPlay.value_0, volume.value_0, fadeOver);
        break;
      }

    case 135:
      {
        tracknumber = ($clinit_Ints() , tryParse(theParameterString));
        if (tracknumber) {
          setAllMusicTrackPlayingLabelTo(tracknumber.value_0);
          $clinit_MusicBoxCore();
          playtrack(tracknumber.value_0, 100, -1);
        }
         else {
          $clinit_OptionalImplementations();
          JamAudioControllerImplementation.isPresent() && $playAudioTrack_implementation((dynamicCast(dynamicCast(JamAudioControllerImplementation.get_1(), 150), 194) , theParameterString), 100, true, ($clinit_JamAudioController$AudioType() , Music), -1);
        }
        break;
      }

    case 136:
      {
        volumeString = $trim(theParameterString).toLowerCase();
        vol = ($clinit_Ints() , tryParse(volumeString)).value_0;
        $clinit_OptionalImplementations();
        JamAudioControllerImplementation.isPresent() && $setCurrentMusicVolume((dynamicCast(JamAudioControllerImplementation.get_1(), 150) , vol));
      }

    case 137:
      secretname = CurrentParams[0];
      secreturl = CurrentParams[1];
      $clinit_OptionalImplementations();
      CuypersCodeFunctionsImplementation.isPresent() && $addSecret((dynamicCast(CuypersCodeFunctionsImplementation.get_1(), 416) , secretname), secreturl);
      break;
    case 138:
      X = 0;
      Y = 0;
      if (theParameterString.indexOf('@') > -1) {
        XY = $split_0(theParameterString, '@', 0)[1];
        theParameterString = $split_0(theParameterString, '@', 0)[0];
        $info_1(Log_43, 'xy = ' + XY);
        X = __parseAndValidateInt($split_0(XY, ',', 0)[0], 10);
        Y = __parseAndValidateInt($split_0(XY, ',', 0)[1], 10);
        $info_1(Log_43, 'x=' + X + ' Y=' + Y);
      }

      if ($equalsIgnoreCase(theParameterString, 'Control')) {
        if ($clinit_TigItemCore() , lastclickedTig) {
          dx = $getAbsoluteLeftOfImage(lastclickedTig);
          dy = $getAbsoluteTopOfImage(lastclickedTig);
          $setControlPanelPosition((dynamicCast(($clinit_RequiredImplementations() , screenManager).get_1(), 108) , X + dx), Y + dy);
          dynamicCast(screenManager.get_1(), 108);
          ($clinit_JAM() , ControllPanelShadows).showing?(dynamicCast(screenManager.get_1(), 108) , ControllPanelShadows.CloseDefault()):(dynamicCast(screenManager.get_1(), 108) , $setPlayForward(closeallwindows.animation) , ControllPanelShadows.OpenDefault());
        }
         else {
          dynamicCast(($clinit_RequiredImplementations() , screenManager).get_1(), 108);
          ($clinit_JAM() , ControllPanelShadows).showing?(dynamicCast(screenManager.get_1(), 108) , ControllPanelShadows.CloseDefault()):(dynamicCast(screenManager.get_1(), 108) , $setPlayForward(closeallwindows.animation) , ControllPanelShadows.OpenDefault());
        }
      }

      break;
    case 139:
      $clinit_OptionalImplementations();
      WebGameFunctionsImplementation.isPresent() && sendEmailTemplate((dynamicCast(WebGameFunctionsImplementation.get_1(), 1448) , theParameterString));
      break;
    case 140:
      $info_1(Log_43, 'setting scrollbars:');
      if ($equalsIgnoreCase(theParameterString, 'off')) {
        $info_1(Log_43, 'setting scrollbars off');
        SetStoryPageScrollbars = false;
        $setStoryPageScrollBar(($clinit_JAMcore() , GamesChaptersPanel), false);
      }
       else {
        $info_1(Log_43, 'setting scrollbars on');
        SetStoryPageScrollbars = true;
        $setStoryPageScrollBar(($clinit_JAMcore() , GamesChaptersPanel), true);
      }

      break;
    case 141:
      iconloc = CurrentParams[0];
      if (iconloc.length > 5) {
        iconframes = __parseAndValidateInt(CurrentParams[1], 10);
        Cuypers_SetSoldierURL('GameIcons/' + ($clinit_JAMcore() , iconsizestring) + '/' + iconloc, iconframes);
      }

      break;
    case 142:
      iconlocscl = CurrentParams[0];
      if (iconlocscl.length > 5) {
        iconframes = __parseAndValidateInt(CurrentParams[1], 10);
        Cuypers_StatueHeadUrl('GameIcons/' + ($clinit_JAMcore() , iconsizestring) + '/' + iconlocscl, iconframes);
      }

      break;
    case 143:
      location_0 = CurrentParams[0];
      frames_string = CurrentParams[1];
      iconsframes = __parseAndValidateInt(frames_string, 10);
      $setInventoryIconTo(($clinit_InventoryPanelCore() , defaultInventory).InventorysButton, location_0, iconsframes);
      break;
    case 144:
      $setstoryboxbackgroundclass(($clinit_JAMcore() , theParameterString));
      break;
    case 145:
      {
        if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
          elementsID = CurrentParams[0];
          classestoset = CurrentParams[1];
          $info_1(Log_43, 'set element ID  =' + elementsID);
          $info_1(Log_43, 'set set classes =' + classestoset);
          success = $removeCSSClassFromDomElement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , elementsID), classestoset);
          success && $add_21(ChangedHtmlPageElement, elementsID);
        }
      }

      break;
    case 147:
      {
        if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
          elementsID = CurrentParams[0];
          classestoset = CurrentParams[1];
          $info_1(Log_43, 'set element ID  =' + elementsID);
          $info_1(Log_43, 'set set classes =' + classestoset);
          success = $setCSSClassOnDomElement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , elementsID), classestoset);
          success && $add_21(ChangedHtmlPageElement, elementsID);
        }
      }

      break;
    case 146:
      if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
        Elementac = CurrentParams[0];
        Classac = CurrentParams[1];
        $info_1(Log_43, 'set element ID=' + Elementac);
        $info_1(Log_43, 'set class =' + Classac);
        success = $addCSSClassToDomElement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , Elementac), Classac);
        success && $add_21(ChangedHtmlPageElement, Elementac);
      }

      break;
    case 148:
      if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
        $info_1(Log_43, 'show element ID=' + theParameterString);
        addToChangedElements = $showelement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , theParameterString));
        addToChangedElements && $add_21(ChangedHtmlPageElement, theParameterString);
      }

      break;
    case 152:
      {
        if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
          elementsID = CurrentParams[0];
          styletoset = CurrentParams[1];
          $info_1(Log_43, 'set element ID=' + elementsID);
          $info_1(Log_43, 'set set inlinestyles =' + styletoset);
          success = $setStyleOnElement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , elementsID), styletoset);
          success && $add_21(ChangedHtmlPageElement, elementsID);
        }
      }

      break;
    case 151:
      if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
        success = false;
        elementsID = '';
        if (CurrentParams.length == 1) {
          elementsID = $trim(theParameterString);
          success = $fadeInHTMLElement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , elementsID), 1670);
        }
         else if (CurrentParams.length == 2) {
          elementsID = $trim(CurrentParams[0]);
          lengthString = $trim(CurrentParams[1]);
          length_0 = __parseAndValidateInt(lengthString, 10);
          success = $fadeInHTMLElement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , elementsID), length_0);
        }
        success && !$equalsIgnoreCase(elementsID, 'loadingdiv') && $add_21(ChangedHtmlPageElement, elementsID);
      }

      break;
    case 150:
      if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
        success = false;
        elementsID = '';
        if (CurrentParams.length == 1) {
          elementsID = $trim(theParameterString);
          success = $fadeOutHTMLElement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , elementsID), 1670);
        }
         else if (CurrentParams.length == 2) {
          elementsID = $trim(CurrentParams[0]);
          lengthString = $trim(CurrentParams[1]);
          length_0 = __parseAndValidateInt(lengthString, 10);
          success = $fadeOutHTMLElement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , elementsID), length_0);
        }
        success && !$equalsIgnoreCase(elementsID, 'loadingdiv') && $add_21(ChangedHtmlPageElement, elementsID);
      }

      break;
    case 149:
      if (($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent()) {
        $info_1(Log_43, 'show element ID=' + theParameterString);
        addToChangedElements = $hideelement((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , theParameterString));
        addToChangedElements && $add_21(ChangedHtmlPageElement, theParameterString);
      }

      break;
    case 153:
      divname = CurrentParams[0];
      ItemToAddsName = CurrentParams[1];
      $info_1(Log_43, 'replacing div=' + divname + ' with item ' + ItemToAddsName);
      ItemToAdd = $getItemPopUp(($clinit_InventoryPanelCore() , defaultInventory), ItemToAddsName);
      if (!ItemToAdd) {
        $info_1(Log_43, 'no item found under that name : ' + ItemToAddsName + ', thus cant add to div');
        return;
      }

      $clinit_RequiredImplementations();
      screenManager.isPresent()?$PositionByTag_0((dynamicCast(screenManager.get_1(), 108) , ItemToAdd), divname):$severe_0(Log_50, 'Can not place element by tag ' + divname + ': No screenManager was supplied during setup');
      break;
    case 154:
      ($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent() && $setBackgroundClass((dynamicCast(PageStyleCommandImplemention.get_1(), 157) , theParameterString));
      break;
    case 155:
      $clinit_RequiredImplementations();
      screenManager.isPresent()?$setBackgroundImage((dynamicCast(screenManager.get_1(), 108) , theParameterString)):$severe_0(Log_50, 'Can not set background - screenManager not set');
      break;
    case 156:
      $clinit_JamGlobalGameEffects();
      compareTo_5((dynamicCast(instance_2.reference, 260) , theParameterString), 'fast') == 0?$setModeFast(($clinit_JAM() , gwt_clock)):$setModeNormal(($clinit_JAM() , gwt_clock));
      break;
    case 157:
      $severe_0(Log_43, '_______________debug_image_url no longer supported. This command used to list all the image urls the game had used into this log');
      break;
    case 158:
      $clinit_JamGlobalGameEffects();
      compareTo_5(theParameterString, 'hacked') == 0?(dynamicCast(instance_2.reference, 260) , ($clinit_JAM() , EffectOverlay).attached || PositionByCoOrdinates(EffectOverlay, 0, 0) , $ProcessThisAfter(EffectOverlay, ' - SetBackgroundImage = GameTextures/hackedback.gif \n - SetClockMode = fast \n - PopUpAdvert = advert/Advert1.jpg \n - PopUpAdvert = advert/Advert2.jpg \n') , $Hacked_in(EffectOverlay) , $Hacked_out(EffectOverlay) , $setDirection_1(Feedback, ($clinit_HasDirection$Direction() , RTL)) , $setDirection(dynamicCast(messagehistory_0.MessageHistoryScroller.widget, 42), RTL) , $setURL(StatueHead, 'GameIcons/' + ($clinit_JAMcore() , iconsizestring) + '/' + 'ladyclocklonger0.png', 3) , $clinit_JAM() , Blinking = ($clinit_JAMTimerController() , new GWTJAMTimerController$1(new GwtGlobalGameEffects$1)) , $scheduleRepeating(Blinking, $intern_36) , $setURL(StatueFeat, 'GameIcons/' + iconsizestring + '/' + 'CCfeethacked0.png', 1) , $setURL(solider, 'GameIcons/' + iconsizestring + '/' + 'CCsoldier0.png', 5) , solider.mode = 1 , $clinit_JAM() , Cyclonish = new GWTJAMTimerController$1(new GwtGlobalGameEffects$2) , $scheduleRepeating(Cyclonish, $intern_36)):(dynamicCast(instance_2.reference, 260) , ($clinit_JAM() , EffectOverlay).attached || PositionByCoOrdinates(EffectOverlay, 0, 0) , $endsWith(CurrentBackground, 'hackedback.gif') && (CurrentBackground = 'GameTextures/CCmonMCdark.jpg') , $ProcessThisAfter(EffectOverlay, ' - SetBackgroundImage = ' + CurrentBackground + ' \n - SetClockMode = normal \n') , $Hacked_in(EffectOverlay) , $Hacked_out(EffectOverlay) , $setDirection_1(Feedback, ($clinit_HasDirection$Direction() , LTR)) , $setDirection(dynamicCast(messagehistory_0.MessageHistoryScroller.widget, 42), LTR) , $setURL(StatueFeat, 'GameIcons/' + ($clinit_JAMcore() , iconsizestring) + '/' + 'CCfeetb.png', 1) , $equals_5(iconsizestring, 'SMALL')?$setFrames(solider, ($clinit_JamImages() , SoldierSmall)):$equals_5(iconsizestring, 'MEDIUM')?$setFrames(solider, ($clinit_JamImages() , SoldierMid)):$setFrames(solider, ($clinit_JamImages() , SoldierBig)) , solider.mode = 1 , $cancel_3(Blinking) , $cancel_3(Cyclonish));
      break;
    case 1:
      {
        $severe_0(Log_43, '_________________*__ Note a Recognised Command:' + theParameterString);
      }

  }
}

function displaceObjects(objects, dx, dy, dz, detectCollision, callingObject){
  var brx, bry, curobjects, nx, ny, nz, object, object$iterator, tlx, tly;
  !objects.length?(curobjects = newHashSet(initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObject_2_classLit, 1), $intern_1, 24, 0, [callingObject]))):(curobjects = getSceneObjectNEW(objects, callingObject, true));
  for (object$iterator = curobjects.iterator(); object$iterator.hasNext();) {
    object = dynamicCast(object$iterator.next_0(), 24);
    nx = $getTopLeftBaseX(object) + object.objectsCurrentState_2.PinPointX + dx;
    ny = $getY_1(object) + dy;
    nz = $getTopLeftBaseZ(object) + object.objectsCurrentState_2.PinPointZ + dz;
    $info_1(Log_43, 'to ' + nx + ' ' + ny + ' ' + nz);
    if (detectCollision) {
      tlx = $getTopLeftBaseX(object) + dx;
      tly = $getTopLeftBaseY(object) + dy;
      brx = tlx + object.getObjectWidth();
      bry = tly + object.getObjectHeight();
      $TestForBoxCollision(object.objectScene_0, tlx, tly, brx, bry)?$info_1(Log_43, '(collision so no movement) '):$setPosition_1(object, nx, ny, nz, true);
    }
     else {
      $setPosition_1(object, nx, ny, nz, true);
    }
  }
}

function dropObjects(Parameters, callingObject, currentCommand){
  var bounce, objectname, objectsToDrop, parameterOne, parameterTwo, so, so$iterator;
  $info_1(Log_43, 'Dropping Object : (wip)' + (currentCommand.name_0 != null?currentCommand.name_0:'' + currentCommand.ordinal) + ' - ' + Parameters.proccessedParameterString);
  !callingObject && $warning_0(Log_43, 'calling object is null!');
  bounce = 0.5;
  objectname = '';
  if (Parameters.isEmpty) {
    $warning_0(Log_43, 'Parameters empty, assuming calling object which is:' + callingObject.objectsCurrentState_2.ObjectsName);
    currentCommand == ($clinit_CommandLine$GameCommands() , droptofloor)?(callingObject.ObjectsLog_2('(dropping to ground so clearing parentBeforeDropping)', 'red') , callingObject.parentBeforeDropping = null , $detach(callingObject) , callingObject.floor_height = 0 , $dropTo(callingObject, 0.5)):currentCommand == droptoparentsbase && (callingObject.parentBeforeDropping = callingObject.getObjectsCurrentState_1().positionedRelativeToo , !callingObject.getObjectsCurrentState_1().positionedRelativeToo && callingObject.ObjectsLog_1('(no parent to this object1)', 1) , !callingObject.parentBeforeDropping && callingObject.ObjectsLog_1('(no parent to this object2)', 1) , $detach(callingObject) , callingObject.floor_height = $getTopLeftBaseZ(callingObject.parentBeforeDropping) , callingObject.ObjectsLog_1('parentBeforeDropping=' + callingObject.parentBeforeDropping.objectsCurrentState_2.ObjectsName, 1) , $dropTo(callingObject, 0.5));
    return;
  }
   else if (Parameters.params.length == 1) {
    parameterOne = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
    if ($matches_2(parameterOne, '[0-9.-]*') && !!parameterOne.length) {
      bounce = __parseAndValidateDouble(parameterOne);
    }
     else {
      objectname = parameterOne;
      bounce = 0.5;
    }
  }
   else if (Parameters.params.length == 2) {
    parameterOne = ($info_1(($clinit_CommandParameterSet() , Log_40), 'getting 0') , Parameters.params[0]).parameterString;
    objectname = $trim(parameterOne);
    parameterTwo = ($info_1(Log_40, 'getting 1') , Parameters.params[1]).parameterString;
    bounce = __parseAndValidateDouble(parameterTwo);
  }
  if (!objectname.length) {
    currentCommand == ($clinit_CommandLine$GameCommands() , droptofloor)?(callingObject.ObjectsLog_2('(dropping to ground so clearing parentBeforeDropping)', 'red') , callingObject.parentBeforeDropping = null , $detach(callingObject) , callingObject.floor_height = 0 , $dropTo(callingObject, bounce)):currentCommand == droptoparentsbase && (callingObject.parentBeforeDropping = callingObject.getObjectsCurrentState_1().positionedRelativeToo , !callingObject.getObjectsCurrentState_1().positionedRelativeToo && callingObject.ObjectsLog_1('(no parent to this object1)', 1) , !callingObject.parentBeforeDropping && callingObject.ObjectsLog_1('(no parent to this object2)', 1) , $detach(callingObject) , callingObject.floor_height = $getTopLeftBaseZ(callingObject.parentBeforeDropping) , callingObject.ObjectsLog_1('parentBeforeDropping=' + callingObject.parentBeforeDropping.objectsCurrentState_2.ObjectsName, 1) , $dropTo(callingObject, bounce));
  }
   else {
    objectsToDrop = getSceneObjectNEW(objectname, callingObject, true);
    if (!!objectsToDrop && !objectsToDrop.isEmpty_0()) {
      for (so$iterator = objectsToDrop.iterator(); so$iterator.hasNext();) {
        so = dynamicCast(so$iterator.next_0(), 24);
        currentCommand == ($clinit_CommandLine$GameCommands() , droptofloor)?(so.ObjectsLog_2('(dropping to ground so clearing parentBeforeDropping)', 'red') , so.parentBeforeDropping = null , $detach(so) , so.floor_height = 0 , $dropTo(so, bounce)):currentCommand == droptoparentsbase && (so.parentBeforeDropping = so.getObjectsCurrentState_1().positionedRelativeToo , !so.getObjectsCurrentState_1().positionedRelativeToo && so.ObjectsLog_1('(no parent to this object1)', 1) , !so.parentBeforeDropping && so.ObjectsLog_1('(no parent to this object2)', 1) , $detach(so) , so.floor_height = $getTopLeftBaseZ(so.parentBeforeDropping) , so.ObjectsLog_1('parentBeforeDropping=' + so.parentBeforeDropping.objectsCurrentState_2.ObjectsName, 1) , $dropTo(so, bounce));
      }
    }
     else {
      $info_1(Log_43, 'Cant find object called:' + objectname);
    }
  }
}

function framegap(CurrentProperty, callingObject, lastSpriteObjectCalled, CurrentParams){
  var curobjectsfg, gap, objectsfg, sso, sso$iterator, state;
  if (CurrentProperty.indexOf(',') != -1) {
    objectsfg = CurrentParams[0];
    state = CurrentParams[1];
    gap = __parseAndValidateInt(state, 10);
    curobjectsfg = getSpriteObjectNEW(objectsfg, callingObject, true);
    for (sso$iterator = curobjectsfg.iterator(); sso$iterator.hasNext();) {
      sso = dynamicCast(sso$iterator.next_0(), 166);
      sso.setFrameGap(gap);
    }
  }
   else {
    gap = __parseAndValidateInt(CurrentProperty, 10);
    $info_1(Log_43, 'setting frame gap on object:' + lastSpriteObjectCalled.getObjectsCurrentState_2().ObjectsName);
    lastSpriteObjectCalled.setFrameGap(gap);
  }
}

function getValue_2(nametocheck, IscurrentObject){
  var pos;
  $clinit_InstructionProcessor();
  var currentObject, objectName, objectSpecified, ox, oy, oz, predicateToLookFor, val, value_0, valueName;
  currentObject = IscurrentObject;
  try {
    val = ($equalsIgnoreCase(nametocheck, '<LastObjectsX>')?(pos = $getTopLeftBaseX(IscurrentObject) + IscurrentObject.objectsCurrentState_2.PinPointX):$equalsIgnoreCase(nametocheck, '<LastObjectsY>')?(pos = $getY_1(IscurrentObject)):$equalsIgnoreCase(nametocheck, '<LastClickedX>')?(pos = lastclicked_x_0):$equalsIgnoreCase(nametocheck, '<LastClickedY>')?(pos = lastclicked_y_0):(pos = __parseAndValidateInt(nametocheck, 10)) , pos);
    return '' + val;
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (!instanceOf($e0, 105))
      throw unwrap($e0);
  }
  if (!$equals_5(nametocheck.substr(0, 1), '<')) {
    $info_1(Log_43, 'Value :' + nametocheck + ' is not a variable. If you meant to refer to a global variable, it should be in the style <V:#############> ');
    return nametocheck;
  }
  objectSpecified = false;
  if (nametocheck.indexOf(':') != -1) {
    objectSpecified = true;
    nametocheck = $substring_0(nametocheck, 1, nametocheck.length - 1);
    objectName = $trim($split_0(nametocheck, ':', 0)[0]);
    valueName = $trim($split_0(nametocheck, ':', 0)[1]);
    $info_1(Log_43, 'objectName:' + objectName);
    $info_1(Log_43, 'valueName:' + valueName);
    if ($equalsIgnoreCase(objectName, 'V')) {
      $info_1(Log_43, 'Getting global valueName:' + valueName);
      return $GetItem(($clinit_GameVariableManagement() , GameVariables), valueName.toLowerCase());
    }
    $info_1(Log_43, 'looking for variable using object ' + objectName);
    currentObject = getSingleSceneObjectNEW(objectName, null, true);
    if (!currentObject) {
      $warning_0(Log_43, 'Can not find :' + objectName + ' in object database, so cant check its variables');
      return 'ERROR_cant find object';
    }
    nametocheck = '<' + valueName + '>';
  }
  if ($equalsIgnoreCase(nametocheck, '<objectdirection>')) {
    return '' + toInt(fromDouble(round0(currentObject.FacingDirection)));
  }
  if ($equalsIgnoreCase(nametocheck, '<impactspeed>')) {
    $info_1(Log_43, currentObject.objectsCurrentState_2.ObjectsName + '.SpeedOfLastImpact =  ' + currentObject.SpeedOfLastImpact);
    return '' + currentObject.SpeedOfLastImpact;
  }
  if ($equalsIgnoreCase(nametocheck, '<objectX>')) {
    ox = round_0($getTopLeftBaseX(currentObject) + currentObject.objectsCurrentState_2.PinPointX);
    return '' + ox;
  }
  if ($equalsIgnoreCase(nametocheck, '<objectY>')) {
    oy = round_0($getY_1(currentObject));
    return '' + oy;
  }
  if ($equalsIgnoreCase(nametocheck, '<objectZ>')) {
    oz = round_0($getTopLeftBaseZ(currentObject) + currentObject.objectsCurrentState_2.PinPointZ);
    return '' + oz;
  }
  if ($equalsIgnoreCase(nametocheck, '<objectSizeX>')) {
    ox = round_0(currentObject.getObjectWidth());
    return '' + ox;
  }
  if ($equalsIgnoreCase(nametocheck, '<objectSizeY>')) {
    oy = round_0(currentObject.getObjectHeight());
    return '' + oy;
  }
  if ($equalsIgnoreCase(nametocheck, '<objectSizeZ>')) {
    oz = round_0($getSizeZ(currentObject));
    return '' + oz;
  }
  if ($equalsIgnoreCase(nametocheck, '<objectScreenX>')) {
    ox = round_0($getTopLeftBaseX(currentObject) + currentObject.objectsCurrentState_2.PinPointX);
    ox = ox + $getAbsoluteLeft(currentObject.objectScene_0.sceneBackground.dragableContents);
    return '' + ox;
  }
  if ($equalsIgnoreCase(nametocheck, '<objectScreenY>')) {
    oy = round_0($getY_1(currentObject));
    oy = oy + $getAbsoluteTop(currentObject.objectScene_0.sceneBackground.dragableContents);
    return '' + oy;
  }
  if ($equalsIgnoreCase(nametocheck, '<currentscenename>')) {
    if (!($clinit_SceneObjectDatabase() , currentScene_0)) {
      $info_1(Log_43, 'current scene not yet set');
      return 'NO CURRENT SCENE WAS SET WHEN THIS WAS LOADED';
    }
    return currentScene_0.SceneFileName;
  }
  if ($equalsIgnoreCase(nametocheck, '<currentobjectname>')) {
    if (!currentObject) {
      $info_1(Log_43, 'no current object');
      return 'NO CURRENT OBJECT WAS SET WHEN THIS VARIABLE WAS REQUESTED';
    }
    return currentObject.objectsCurrentState_2.ObjectsName;
  }
  if ($equalsIgnoreCase(nametocheck, '<currentlocationname>')) {
    return $clinit_JAMcore() , usersCurrentLocation;
  }
  if ($startsWith(nametocheck.toLowerCase(), '<propertyvalue(')) {
    predicateToLookFor = $substring_0(nametocheck, 15, nametocheck.length - 2);
    $equals_5(predicateToLookFor.substr(0, 1), '"') && (predicateToLookFor = $substring_0(predicateToLookFor, 1, predicateToLookFor.length - 1));
    $info_1(Log_43, 'Looking for semantic property value ' + predicateToLookFor + ' from object object: ' + currentObject.objectsCurrentState_2.ObjectsName);
    value_0 = ($info_1(SOLog, 'Getting value of predicate:' + predicateToLookFor + ' on object:' + currentObject.objectsCurrentState_2.ObjectsName) , $getValueForPredicate(currentObject.getObjectsCurrentState_1().objectsProperties, predicateToLookFor));
    value_0 == ($clinit_SSSNode() , NOTFOUND) && $info_1(Log_43, 'No semantic predicate of ' + predicateToLookFor + ' found on object');
    return value_0.PLabel;
  }
  if (objectSpecified && !!currentObject) {
    nametocheck = $substring_0(nametocheck, 1, nametocheck.length - 1);
    $info_1(Log_43, 'looking for variable using object ' + currentObject.objectsCurrentState_2.ObjectsName + ' var:' + nametocheck);
    return dynamicCastToString($getStringValue(currentObject.getObjectsCurrentState_1().ObjectRuntimeVariables, nametocheck));
  }
  $info_1(Log_43, 'defaulting to global variable check for var:' + nametocheck);
  if ($equals_5(nametocheck.substr(0, 1), '<') && $endsWith(nametocheck, '>')) {
    nametocheck = $substring_0(nametocheck, 1, nametocheck.length - 1);
    return $GetItem(($clinit_GameVariableManagement() , GameVariables), nametocheck);
  }
  return $GetItem(($clinit_GameVariableManagement() , GameVariables), nametocheck);
}

function loadSceneIntoNewTab(CurrentProperty, locationname, autopopUp, silentmode){
  var rawscenename;
  $clinit_InstructionProcessor();
  var newScene, smalldelay;
  $info_1(Log_43, 'Loading Scene ' + CurrentProperty + ' \n');
  if ($clinit_SceneWidget() , rawscenename = CurrentProperty.toLowerCase() , $endsWith(CurrentProperty, '__scene') && (rawscenename = $substring_0(CurrentProperty, 0, CurrentProperty.length - 7)) , all_scenes.containsKey(rawscenename)) {
    $info_1(Log_43, 'Scene already present:.');
    autopopUp && bringSceneToFront_0(CurrentProperty, silentmode);
  }
   else {
    $info_1(Log_43, 'Current  Loaded scenes ' + (new AbstractMap$1(all_scenes)).this$01.size_1() + '| ' + $toString_0(new AbstractMap$1(all_scenes)));
    $info_1(Log_43, 'Scene Not Loaded: creating new scene...');
    if (autopopUp) {
      $clinit_JAMcore();
      triggerSelectCheck = true;
      pageToSelect = CurrentProperty + '__scene';
    }
    newScene = new SceneWidgetVisual(CurrentProperty);
    newScene.loadingsilently = silentmode;
    if (autopopUp) {
      $info_1(Log_43, 'setting current scene to ' + newScene.SceneFileName);
      $clinit_SceneObjectDatabase();
      currentScene_0 = newScene;
      $info_1(Log_43, 'current scene set to_:' + currentScene_0.SceneFileName);
    }
    $addNewSceneToSet(($clinit_JAMcore() , CurrentScenesAndPages), newScene, CurrentProperty, locationname, autopopUp, silentmode);
    smalldelay = ($clinit_JAMTimerController() , new GWTJAMTimerController$1(new InstructionProcessor$9(newScene, autopopUp, silentmode)));
    $schedule(smalldelay, 500);
  }
}

function playObjectsSound(CurrentProperty, CurrentParams, callingObject){
  var curobject, object, resultobjects, so, so$iterator, soundFilename;
  if (CurrentProperty.indexOf(',') != -1) {
    object = $trim(CurrentParams[0]);
    soundFilename = $trim(CurrentParams[1]);
    curobject = getSceneObjectNEW(object, callingObject, true);
  }
   else {
    resultobjects = new HashSet;
    $add_21(resultobjects, callingObject);
    curobject = resultobjects;
    soundFilename = CurrentProperty;
  }
  for (so$iterator = curobject.iterator(); so$iterator.hasNext();) {
    so = dynamicCast(so$iterator.next_0(), 24);
    $setSound(so, (dynamicCast(($clinit_RequiredImplementations() , BasicGameInformationImplemention).get_1(), 89) , getHostPageBaseURL() + 'audio/' + soundFilename));
    so.ObjectsSound.newSoundImplementation.setLooping_0(true);
    so.ObjectsSound.newSoundImplementation.play_0();
  }
}

function processInstructions(commandsToRun, UniqueTriggerIndent, ObjectThatCalledThis){
  $clinit_InstructionProcessor();
  var CurrentProperty, TimeTakenEnd, TimeTakenStart, conditionalsPassed, currentCommandEnum, lastConditionalFailed, line, usesRandomSplit, usesVariables;
  if (!commandsToRun || commandsToRun.array.length == 0) {
    $info_1(Log_43, 'Commands empty or null triggerid was:' + UniqueTriggerIndent);
    return;
  }
  ObjectThatCalledThis?addLastCommandToStack(' [commands from:' + ObjectThatCalledThis.objectsCurrentState_2.ObjectsName + ']  ', 'color:grey;font-size:x-small', UniqueTriggerIndent):addLastCommandToStack(' [commands not from object]  ', 'color:grey;font-size:x-small', UniqueTriggerIndent);
  commandsToRun.loop_0 = new AbstractList$IteratorImpl(commandsToRun);
  lastConditionalFailed = false;
  while ($hasNext_1(commandsToRun.loop_0)) {
    if (lastConditionalFailed) {
      line = $getNextConditional(commandsToRun);
      if (!line) {
        $info_1(Log_43, 'skipped due to no new conditions ');
        return;
      }
      lastConditionalFailed = false;
    }
     else {
      line = dynamicCast($next_6(commandsToRun.loop_0), 184);
    }
    currentCommandEnum = line.TheCommand;
    CurrentProperty = line.TheParameters.rawParameterString;
    if (currentCommandEnum == ($clinit_CommandLine$GameCommands() , CONDITIONAL)) {
      TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
      conditionalsPassed = checkConditionals(line.CONDITIONS, ObjectThatCalledThis);
      TimeTakenEnd = fromDouble(now_1());
      $clinit_GameStatistics();
      TotalConditionalCheckTime = add_17(TotalConditionalCheckTime, sub_0(TimeTakenEnd, TimeTakenStart));
      if (conditionalsPassed) {
        lastConditionalFailed = false;
        addLastCommandToStack('   ' + $toString_10(line.CONDITIONS), 'color:GREEN;font-size:smaller', 'conditional passed');
        $info_1(Log_43, 'past conditions');
        continue;
      }
       else {
        lastConditionalFailed = true;
        addLastCommandToStack('   ' + $toString_10(line.CONDITIONS), 'color:RED;font-size:smaller', 'failed conditional');
        $info_1(Log_43, 'exit due to conditions not met, going to next condition');
        continue;
      }
    }
    usesVariables = $usesVariables(line.TheCommand);
    usesRandomSplit = $usesRandomSplit(line.TheCommand);
    $prepareParameters(line.TheParameters, ObjectThatCalledThis, usesVariables, usesRandomSplit);
    $info_1(Log_43, ' command recieved;' + (currentCommandEnum.name_0 != null?currentCommandEnum.name_0:'' + currentCommandEnum.ordinal) + '|Property:' + CurrentProperty + ' \n');
    if (currentCommandEnum == exitactions) {
      $info_1(Log_43, 'Exiting command list \n');
      return;
    }
    runCommand(currentCommandEnum, line.TheParameters, UniqueTriggerIndent, commandsToRun, ObjectThatCalledThis);
  }
}

function processInstructions_0(instructionset, UniqueTriggerIndent, ObjectThatCalledThis){
  $clinit_InstructionProcessor();
  var commandsToRun;
  commandsToRun = StringToCommandList(instructionset);
  commandsToRun.array.length > 0 && processInstructions(commandsToRun, UniqueTriggerIndent, ObjectThatCalledThis);
}

function replaceVarValuesInString(valueToWorkOut, currentObject){
  var i, match$index, match$max, parts, replacement, replacethis;
  parts = $split_0(' spacer ' + valueToWorkOut, '>|<', 0);
  i = 1;
  for (match$index = 0 , match$max = parts.length; match$index < match$max; ++match$index) {
    if (i % 2 == 0) {
      replacethis = '<' + parts[i - 1] + '>';
      replacement = getValue_2(replacethis, currentObject);
      $info_1(Log_43, 'replacing:' + replacethis + ' with ' + replacement);
      valueToWorkOut = $replace_0(valueToWorkOut, replacethis, replacement);
      $info_1(Log_43, 'new valueToWorkOut is :' + valueToWorkOut);
    }
    ++i;
  }
  return valueToWorkOut;
}

function runCommand(currentCommand, Parameters, UniqueTriggerIndent, instructionset, callingObject){
  var CurrentParams, theParameterString;
  if (currentCommand == ($clinit_CommandLine$GameCommands() , notarecognisedcommand)) {
    $info_1(Log_43, 'no recognised command specified');
    return;
  }
  CurrentParams = $getProccessedSplit(Parameters);
  theParameterString = Parameters.proccessedParameterString;
  $clinit_GameStatistics();
  addLastCommandToStack((currentCommand.name_0 != null?currentCommand.name_0:'' + currentCommand.ordinal) + ':' + theParameterString, '', '');
  checkSceneRelatedCommands(currentCommand, theParameterString, Parameters, UniqueTriggerIndent, instructionset, callingObject, CurrentParams);
}

function stopObjectsSound(CurrentProperty, CurrentParams, callingObject){
  var curobjectsos, object, resultobjects, so, so$iterator;
  if (CurrentProperty.indexOf(',') != -1) {
    object = $trim(CurrentParams[0]);
    curobjectsos = getSceneObjectNEW(object, callingObject, true);
  }
   else {
    resultobjects = new HashSet;
    $add_21(resultobjects, callingObject);
    curobjectsos = resultobjects;
  }
  if (curobjectsos) {
    for (so$iterator = curobjectsos.iterator(); so$iterator.hasNext();) {
      so = dynamicCast(so$iterator.next_0(), 147);
      so.clearObjectsSounds();
    }
  }
   else {
    $info_1(Log_43, 'failed to cancel sound, null object error');
  }
}

function testForGlobalActions(type_0, Parameter, sourceObject){
  $clinit_InstructionProcessor();
  var actions;
  actions = $getActionsForTrigger(globalActions, type_0, Parameter);
  if (actions.array.length > 0) {
    $info_1(($clinit_SceneWidget() , Log_54), 'global actions:' + $toString_8(actions));
    if (sourceObject) {
      if (type_0 == ($clinit_ActionSet$TriggerType() , MouseClickAction) || type_0 == MouseRightClickAction || type_0 == MouseOutAction || type_0 == MouseOverAction) {
        wasLastObjectUpdated(sourceObject);
        sourceObject.updateLastClickedLocation();
      }
      $info_1(Log_43, 'running global actions');
      sourceObject.objectScene_0?processInstructions(actions, 'FROM_' + sourceObject.objectScene_0.SceneFileName + '_' + sourceObject.objectsCurrentState_2.ObjectsName, sourceObject):processInstructions(actions, 'FROM_NoScene_' + sourceObject.objectsCurrentState_2.ObjectsName, sourceObject);
    }
     else {
      processInstructions(actions, 'FROM_no object', null);
    }
  }
   else {
    $info_1(($clinit_SceneWidget() , Log_54), 'no global actions');
  }
  return;
}

function tigMessage(CurrentProperty){
  var CurrentItem, selectthis, totalmessages;
  if (CurrentProperty.indexOf('>>') > -1) {
    !$GetItem(MultiMessagePlace, $trim($getPropertyString($getElement(dynamicCast(dynamicCast(($clinit_JAMcore() , AnswerBox).get_1(), 74), 135).widgetContents), 'value'))).length?(CurrentItem = 0):(CurrentItem = __parseAndValidateInt($GetItem(MultiMessagePlace, $getPropertyString($getElement(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents), 'value')), 10));
    totalmessages = $split_0(CurrentProperty, '(">>")|(" >> ")', 0).length;
    CurrentItem > totalmessages && (CurrentItem = 0);
    CurrentProperty = $split_0(CurrentProperty, '(">>")|(" >> ")', 0)[CurrentItem];
    CurrentItem = CurrentItem + 1;
    $RemoveItem(MultiMessagePlace, $trim($getPropertyString($getElement(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents), 'value')));
    $AddItem(MultiMessagePlace, '' + CurrentItem, $trim($getPropertyString($getElement(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents), 'value')));
  }
  if (CurrentProperty.indexOf('","') > -1) {
    totalmessages = $split_0(CurrentProperty, '","', 0).length;
    selectthis = round_int(random() * totalmessages);
    CurrentProperty = $split_0(CurrentProperty, '(",")|(" , ")', 0)[selectthis];
  }
  CurrentProperty = $replaceAll(CurrentProperty, '"', '');
  $setFeedbackText(($clinit_TigItemCore() , lastclickedTig), CurrentProperty);
}

function triggerADisplayMenu(callingObject, items){
  var testpopup;
  if (($clinit_SceneMenuWithPopUp() , menuShowing).value_0) {
    $info_1(Log_43, 'adding to menu');
    $addItems(currentMenu, items, callingObject);
    return;
  }
  !callingObject?(testpopup = new SceneMenuWithPopUp(items, ($clinit_SceneObjectDatabase() , lastInventoryObjectClickedOn))):(testpopup = new SceneMenuWithPopUp(items, callingObject));
  $info_1(Log_43, 'displaying menu at: ' + lastclickedscreen_x + ' ' + lastclickedscreen_y);
  $setZIndexTop(testpopup.visualRepresentation);
  $setPopupPositionAndShow_0(testpopup, new InstructionProcessor$7(testpopup));
  $info_1(Log_43, 'menuShowing: ' + menuShowing);
}

function triggerBamf(objectsURL, posx, posy, fadeDuration, holdDuration){
  var OpacityStepPerMS, bamfPop, fadeControll, holdAmount;
  bamfPop = new BamfImage(objectsURL);
  $cssSetOpacity(($clinit_DOM() , bamfPop.element).style, 0);
  bamfPop.element.style['display'] = ($clinit_Style$Display() , 'none');
  OpacityStepPerMS = 100 / fadeDuration;
  holdAmount = holdDuration;
  fadeControll = new InstructionProcessor$2(OpacityStepPerMS, bamfPop, holdAmount);
  $info_1(Log_43, 'starting fade in');
  $clinit_RequiredImplementations();
  screenManager.isPresent()?$PositionByCoOrdinates((dynamicCast(screenManager.get_1(), 108) , bamfPop), posx, posy):$severe_0(Log_50, 'Can not place element by co-ordinates: No screenManager was supplied during setup');
  addObjectToUpdateOnFrame(fadeControll);
}

function triggerCloneObject(callingobject, objectToClone, newname, dx, dy, dz){
  $clinit_InstructionProcessor();
  var curobject, newobject;
  curobject = getSingleSceneObjectNEW(objectToClone, callingobject, true);
  newobject = $returnCloneImplementation(curobject, newname);
  $setPosition_1(newobject, dx, dy, dz, true);
  $setZIndex(newobject, callingobject.getZindex() + 1);
  newobject.objectsCurrentState_0.spawningObject = callingobject;
  $add_21(newobject.objectScene_0.AllDynamicObjects, newobject);
  $triggerActionsToRunWhenCloned(newobject);
  $info_1(Log_43, 'cloned ' + objectToClone + 'object');
  $info_1(Log_43, 'cloned object should be on ' + newobject.objectScene_0.SceneFileName);
  $info_1(Log_43, 'testing if ' + newobject.objectsCurrentState_0.ObjectsName + ' is on that scene: ' + $isObjectOnPanel(newobject.objectScene_0, newobject));
  return newobject;
}

function triggerMessage(CurrentProperty){
  var CurrentItem, selectthis, totalmessages;
  if (CurrentProperty.indexOf('>>') > -1) {
    !$GetItem(MultiMessagePlace, $trim($getPropertyString($getElement(dynamicCast(dynamicCast(($clinit_JAMcore() , AnswerBox).get_1(), 74), 135).widgetContents), 'value'))).length?(CurrentItem = 0):(CurrentItem = __parseAndValidateInt($GetItem(MultiMessagePlace, $getPropertyString($getElement(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents), 'value')), 10));
    totalmessages = $split_0(CurrentProperty, '(">>")|(" >> ")', 0).length;
    CurrentItem > totalmessages && (CurrentItem = 0);
    CurrentProperty = $split_0(CurrentProperty, '(">>")|(" >> ")', 0)[CurrentItem];
    CurrentItem = CurrentItem + 1;
    $RemoveItem(MultiMessagePlace, $trim($getPropertyString($getElement(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents), 'value')));
    $AddItem(MultiMessagePlace, '' + CurrentItem, $trim($getPropertyString($getElement(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents), 'value')));
  }
  if (CurrentProperty.indexOf('","') > -1) {
    totalmessages = $split_0(CurrentProperty, '","', 0).length;
    selectthis = round_int(random() * totalmessages);
    CurrentProperty = $split_0(CurrentProperty, '(",")|(" , ")', 0)[selectthis];
  }
  CurrentProperty = $replaceAll(CurrentProperty, '"', '');
  AddNewMessage('<div class="MyApplication.messagehistoryReplyStyle" >  Score Awarded:' + CurrentProperty + '<\/div>');
  setCurrentFeedbackRunAfter(new InstructionProcessor$8);
  testForGlobalActions(($clinit_ActionSet$TriggerType() , OnMessageStart), null, null);
  !!($clinit_SceneObjectDatabase() , currentScene_0) && runForSceneActions(currentScene_0, OnMessageStart, null, null);
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setCurrentFeedbackText((dynamicCast(interfaceVisualElements_0.get_1(), 123) , CurrentProperty));
  return CurrentProperty;
}

function triggerMoveObjectsTo(object, tx, ty, speed, callingObject, searchGlobal){
  var curobjects, mp, so, so$iterator;
  curobjects = getSceneObjectNEW(object, callingObject, searchGlobal);
  for (so$iterator = curobjects.iterator(); so$iterator.hasNext();) {
    so = dynamicCast(so$iterator.next_0(), 24);
    $info_1(Log_43, 'setting ' + so.getObjectsCurrentState_1().ObjectsName + ' moving to ' + tx + ' ' + ty + ' using collisions on scene ' + so.objectScene_0.SceneFileName);
    mp = $getSafePath_0(so.objectScene_0, tx, ty, so);
    if (mp.pathFindingBroke && so.getObjectsCurrentState_1().pathfinding == ($clinit_SceneObjectState$pathfindingMode() , strict)) {
      $info_1(Log_43, 'pathfinding broke and object on strict mode ');
      return;
    }
    $playMovementAtFixedSpeed(so, mp, speed);
  }
}

function triggerPocketObject(CurrentParams, callingObject){
  var curobjectpo, objectNamepo, so, so$iterator;
  objectNamepo = $trim(CurrentParams[0]);
  curobjectpo = getSceneObjectNEW(objectNamepo, callingObject, true);
  for (so$iterator = curobjectpo.iterator(); so$iterator.hasNext();) {
    so = dynamicCast(so$iterator.next_0(), 24);
    $triggerPocketObject(so, CurrentParams[1], true);
  }
}

function triggerRunNamedActionSetAfter(requestedobjects, name_0, activateAfter, overwritePreviousAction){
  var newtimer, objectsName, widget, widget$iterator;
  for (widget$iterator = requestedobjects.iterator(); widget$iterator.hasNext();) {
    widget = dynamicCast(widget$iterator.next_0(), 24);
    objectsName = widget.getObjectsCurrentState_1().ObjectsName;
    newtimer = new InstructionProcessor$5(name_0, objectsName, widget, name_0);
    overwritePreviousAction && cancelNamedActionSetTimer(objectsName, name_0);
    $schedule_0(newtimer, activateAfter);
  }
}

function triggerRunNamedCommandsEvery(commandSourceObject, name_0, activatelow, activateEveryHigh, callingObject, overwritePreviousAction){
  var curobjects, newtimer, nextGap, range, so, so$iterator, uniquename;
  if ($equals_5(commandSourceObject, '<GLOBAL>')) {
    callingObject?(uniquename = callingObject.objectsCurrentState_2.ObjectsName + '_' + name_0):(uniquename = 'GLOBAL_' + name_0);
    newtimer = new InstructionProcessor$3(uniquename, commandSourceObject, name_0, callingObject, activateEveryHigh, activatelow);
    overwritePreviousAction && cancelNamedActionSetTimer(commandSourceObject, uniquename);
    range = activateEveryHigh - activatelow;
    nextGap = round_int(random() * range) + activatelow;
    $info_1(Log_43, 'sheduled action set');
    $schedule_0(newtimer, nextGap);
    return;
  }
  curobjects = getSceneObjectNEW(commandSourceObject, callingObject, true);
  for (so$iterator = curobjects.iterator(); so$iterator.hasNext();) {
    so = dynamicCast(so$iterator.next_0(), 24);
    newtimer = new InstructionProcessor$4(name_0, commandSourceObject, so, name_0, activateEveryHigh, activatelow);
    overwritePreviousAction && cancelNamedActionSetTimer(commandSourceObject, name_0);
    range = activateEveryHigh - activatelow;
    nextGap = round_int(random() * range) + activatelow;
    $schedule_0(newtimer, nextGap);
  }
}

function triggerSendClickToObject(callingObject, objectsname, mode){
  var clickHitsObject, curobjectaa, currentObject, currentObject$iterator;
  curobjectaa = getSceneObjectNEW(objectsname, callingObject, true);
  for (currentObject$iterator = curobjectaa.iterator(); currentObject$iterator.hasNext();) {
    currentObject = dynamicCast(currentObject$iterator.next_0(), 24);
    $info_1(Log_43, 'triggering click on ' + currentObject.getObjectsCurrentState_1().ObjectsName);
    if ($equalsIgnoreCase(mode, 'test')) {
      clickHitsObject = $testIfWithinObject(currentObject, lastclicked_x_0, lastclicked_y_0);
      clickHitsObject && $triggerClickOnObject(currentObject);
    }
     else {
      $triggerClickOnObject(currentObject);
    }
  }
}

function triggerSendRightClickToObject(callingObject, objectsname, mode){
  var clickHitsObject, curobjectaa, currentObject, currentObject$iterator;
  curobjectaa = getSceneObjectNEW(objectsname, callingObject, true);
  for (currentObject$iterator = curobjectaa.iterator(); currentObject$iterator.hasNext();) {
    currentObject = dynamicCast(currentObject$iterator.next_0(), 24);
    $info_1(Log_43, 'triggering context click on ' + currentObject.getObjectsCurrentState_1().ObjectsName);
    if ($equalsIgnoreCase(mode, 'test')) {
      clickHitsObject = ($clinit_Boolean() , $testIfWithinObject(currentObject, lastclicked_x_0, lastclicked_y_0)?TRUE_3:FALSE_2);
      clickHitsObject.value_0 && $triggerContextClickOnObject(currentObject);
    }
     else {
      $triggerContextClickOnObject(currentObject);
    }
  }
}

var ChangedHtmlPageElement, Log_43, MultiMessagePlace, globalActions;
function InstructionProcessor$1($anonymous0, val$name, val$callingObject){
  $clinit_NamedActionSetTimer();
  this.val$name3 = val$name;
  this.val$callingObject4 = val$callingObject;
  NamedActionSetTimer.call(this, $anonymous0, '<GLOBAL>');
}

defineClass(934, 164, $intern_119, InstructionProcessor$1);
_.run = function run_26(){
  testForGlobalActions(($clinit_ActionSet$TriggerType() , NamedActionSet), this.val$name3, this.val$callingObject4);
  ($clinit_JAMTimerController() , activeNamedActionSetTimers).remove_3(this.RunnablesObject + '_' + this.RunnableName);
  updateCurrentTimers();
}
;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$1_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/1', 934, Lcom_lostagain_Jam_Factorys_NamedActionSetTimer_2_classLit);
function InstructionProcessor$10(){
}

defineClass(943, 1, {}, InstructionProcessor$10);
_.run_2 = function run_27(responseData, responseCode){
  var globalactions;
  $info_1(($clinit_SceneWidget() , Log_54), 'loading global actions');
  globalactions = parseForLanguageSpecificExtension(responseData);
  globalactions = parseForTextIDs(globalactions);
  $clinit_InstructionProcessor();
  globalActions = new ActionList_0(globalactions);
}
;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$10_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/10', 943, Ljava_lang_Object_2_classLit);
function InstructionProcessor$11(){
}

defineClass(944, 1, {}, InstructionProcessor$11);
_.run_1 = function run_28(errorData, exception){
  $info_1(($clinit_SceneWidget() , Log_54), 'error loading global actions' + exception.detailMessage);
}
;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$11_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/11', 944, Ljava_lang_Object_2_classLit);
function InstructionProcessor$2(val$OpacityStepPerMS, val$bamfPop, val$holdAmount){
  this.val$OpacityStepPerMS1 = val$OpacityStepPerMS;
  this.val$bamfPop3 = val$bamfPop;
  this.val$holdAmount4 = val$holdAmount;
}

defineClass(935, 181, $intern_21, InstructionProcessor$2);
_.update_0 = function update_2(delta){
  var changeAmount;
  this.timeIntoCurrentState = this.timeIntoCurrentState + delta;
  switch (this.state) {
    case 0:
      if (this.timeIntoCurrentState > 0) {
        this.state = 1;
        this.timeIntoCurrentState = 0;
      }
       else {
        return;
      }

    case 1:
      changeAmount = this.val$OpacityStepPerMS1 * delta;
      this.Opacity = this.Opacity + changeAmount;
      if (this.Opacity >= 100) {
        this.Opacity = 100;
        this.state = 2;
        this.timeIntoCurrentState = 0;
      }

      $setOpacity(this.val$bamfPop3, this.Opacity);
      break;
    case 2:
      if (this.timeIntoCurrentState > this.val$holdAmount4) {
        this.state = 3;
        this.timeIntoCurrentState = 0;
      }
       else {
        return;
      }

      break;
    case 3:
      changeAmount = -(this.val$OpacityStepPerMS1 * delta);
      this.Opacity = this.Opacity + changeAmount;
      if (this.Opacity <= 0) {
        this.Opacity = 0;
        this.timeIntoCurrentState = 0;
        $setOpacity(this.val$bamfPop3, 0);
        $add_21(($clinit_DeltaTimerController() , objectsToUpdateOnFramePendingRemoveList), this);
        $remove_7(namedRunnables, this);
        return;
      }

      $setOpacity(this.val$bamfPop3, this.Opacity);
  }
}
;
_.Opacity = 0;
_.state = 0;
_.timeIntoCurrentState = 0;
_.val$OpacityStepPerMS1 = 0;
_.val$holdAmount4 = 0;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$2_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/2', 935, Lcom_darkflame_client_SpiffyCore_DeltaTimerController$DeltaRunnable_2_classLit);
function InstructionProcessor$3($anonymous0, $anonymous1, val$name, val$callingObject, val$activateEveryHigh, val$activatelow){
  $clinit_NamedActionSetTimer();
  this.val$name3 = val$name;
  this.val$callingObject4 = val$callingObject;
  this.val$activateEveryHigh5 = val$activateEveryHigh;
  this.val$activatelow6 = val$activatelow;
  NamedActionSetTimer.call(this, $anonymous0, $anonymous1);
}

defineClass(936, 164, $intern_119, InstructionProcessor$3);
_.run = function run_29(){
  var nextGap, range;
  testForGlobalActions(($clinit_ActionSet$TriggerType() , NamedActionSet), this.val$name3, this.val$callingObject4);
  if (!$isCanceled(this)) {
    range = this.val$activateEveryHigh5 - this.val$activatelow6;
    nextGap = round_int(random() * range) + this.val$activatelow6;
    $info_1(($clinit_InstructionProcessor() , Log_43), 'resheduleing action set: ' + this.RunnablesObject + '_' + this.RunnableName);
    $info_1(Log_43, 'hashcode ' + getHashCode(this.TimerImplementation));
    $schedule_0(this, nextGap);
  }
}
;
_.val$activateEveryHigh5 = 0;
_.val$activatelow6 = 0;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$3_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/3', 936, Lcom_lostagain_Jam_Factorys_NamedActionSetTimer_2_classLit);
function InstructionProcessor$4($anonymous0, $anonymous1, val$so, val$name, val$activateEveryHigh, val$activatelow){
  $clinit_NamedActionSetTimer();
  this.val$so3 = val$so;
  this.val$name4 = val$name;
  this.val$activateEveryHigh5 = val$activateEveryHigh;
  this.val$activatelow6 = val$activatelow;
  NamedActionSetTimer.call(this, $anonymous0, $anonymous1);
}

defineClass(937, 164, $intern_119, InstructionProcessor$4);
_.run = function run_30(){
  var nextGap, range;
  $runNamedActionSet(this.val$so3, this.val$name4);
  if (!$isCanceled(this)) {
    range = this.val$activateEveryHigh5 - this.val$activatelow6;
    nextGap = round_int(random() * range) + this.val$activatelow6;
    $schedule_0(this, nextGap);
  }
}
;
_.val$activateEveryHigh5 = 0;
_.val$activatelow6 = 0;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$4_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/4', 937, Lcom_lostagain_Jam_Factorys_NamedActionSetTimer_2_classLit);
function InstructionProcessor$5($anonymous0, $anonymous1, val$widget, val$name){
  $clinit_NamedActionSetTimer();
  this.val$widget3 = val$widget;
  this.val$name4 = val$name;
  NamedActionSetTimer.call(this, $anonymous0, $anonymous1);
}

defineClass(938, 164, $intern_119, InstructionProcessor$5);
_.run = function run_31(){
  $runNamedActionSet(this.val$widget3, this.val$name4);
  ($clinit_JAMTimerController() , activeNamedActionSetTimers).remove_3(this.RunnablesObject + '_' + this.RunnableName);
  updateCurrentTimers();
}
;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$5_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/5', 938, Lcom_lostagain_Jam_Factorys_NamedActionSetTimer_2_classLit);
function InstructionProcessor$6(val$testpopup){
  this.val$testpopup1 = val$testpopup;
}

defineClass(939, 1, {}, InstructionProcessor$6);
_.setPosition = function setPosition_0(offsetWidth, offsetHeight){
  $setPopupPosition_0(this.val$testpopup1, lastclickedscreen_x - ~~(offsetWidth / 2), lastclickedscreen_y);
}
;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$6_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/6', 939, Ljava_lang_Object_2_classLit);
function InstructionProcessor$7(val$testpopup){
  this.val$testpopup1 = val$testpopup;
}

defineClass(940, 1, {}, InstructionProcessor$7);
_.setPosition = function setPosition_1(offsetWidth, offsetHeight){
  $setPopupPosition_0(this.val$testpopup1, lastclickedscreen_x - ~~(offsetWidth / 2), lastclickedscreen_y - ~~(offsetHeight / 2));
}
;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$7_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/7', 940, Ljava_lang_Object_2_classLit);
function InstructionProcessor$8(){
}

defineClass(941, 1, {}, InstructionProcessor$8);
_.run = function run_32(){
  $clinit_JAMcore();
  testForGlobalActions(($clinit_ActionSet$TriggerType() , OnMessageEnd), null, null);
  !!($clinit_SceneObjectDatabase() , currentScene_0) && runForSceneActions(currentScene_0, OnMessageEnd, null, null);
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setCurrentFeedbackRunAfter((dynamicCast(interfaceVisualElements_0.get_1(), 123) , null));
}
;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$8_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/8', 941, Ljava_lang_Object_2_classLit);
function InstructionProcessor$9(val$newScene, val$autopopUp, val$silentmode){
  this.val$newScene1 = val$newScene;
  this.val$autopopUp2 = val$autopopUp;
  this.val$silentmode3 = val$silentmode;
}

defineClass(942, 1, {}, InstructionProcessor$9);
_.run = function run_33(){
  $intialize(this.val$newScene1);
  if (this.val$autopopUp2) {
    $info_1(($clinit_InstructionProcessor() , Log_43), '---------');
    $info_1(Log_43, 'bringSceneToFront:' + this.val$newScene1.SceneFileName);
    bringSceneToFront(this.val$newScene1, this.val$silentmode3);
    this.val$silentmode3 || $onSceneMadeCurrent(this.val$newScene1);
  }
}
;
_.val$autopopUp2 = false;
_.val$silentmode3 = false;
var Lcom_lostagain_Jam_InstructionProcessing_InstructionProcessor$9_2_classLit = createForClass('com.lostagain.Jam.InstructionProcessing', 'InstructionProcessor/9', 942, Ljava_lang_Object_2_classLit);
defineClass(1487, 1, {});
var SetStoryPageScrollbars = true;
var Lcom_lostagain_Jam_Interfaces_JamChapterControl_2_classLit = createForClass('com.lostagain.Jam.Interfaces', 'JamChapterControl', 1487, Ljava_lang_Object_2_classLit);
function $clinit_SceneMenuWithPopUp(){
  $clinit_SceneMenuWithPopUp = emptyMethod;
  Log_44 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneMenuPopUp'));
  menuShowing = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
}

function $CloseDefault(){
  $info_1(Log_44, 'running CloseDefault on menu popup');
  menuShowing = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  currentMenu = null;
}

function $OpenDefault(this$static){
  menuShowing = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  currentMenu = this$static;
}

function $addItems(this$static, items, sourceObject){
  var itemnum;
  itemnum = 0;
  while (itemnum < items.length) {
    $addMenuItem(this$static.popupMenuBar, $trim(items[itemnum]), sourceObject);
    ++itemnum;
  }
}

function $setPopupPosition_0(this$static, x_0, y_0){
  this$static.visualRepresentation.setPopupPosition(x_0, y_0);
}

function $setPopupPositionAndShow_0(this$static, callback){
  $setPopupPositionAndShow(this$static.visualRepresentation, new TitledPopUpWithShadow$4(callback));
  menuShowing = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  currentMenu = this$static;
}

function SceneMenuWithPopUp(items, sourceObject){
  $clinit_SceneMenuWithPopUp();
  this.popupMenuBar = new GwtMenuBar(this);
  this.visualRepresentation = new TitledPopUpWithShadow(this.popupMenuBar);
  this.visualRepresentation.setModal(true);
  this.visualRepresentation.setAutoHideEnabled(true);
  $addItems(this, items, sourceObject);
  this.visualRepresentation.setStyleName('menupopup');
  $setVisible(this.popupMenuBar.visualRepresentation, true);
  $addRunOnClose(this.visualRepresentation, new SceneMenuWithPopUp$1);
}

defineClass(396, 1, {}, SceneMenuWithPopUp);
_.CloseDefault = function CloseDefault_0(){
  $CloseDefault();
}
;
_.OpenDefault = function OpenDefault_0(){
  $OpenDefault(this);
}
;
_.getVisualRepresentation = function getVisualRepresentation(){
  return this.visualRepresentation;
}
;
var Log_44, currentMenu = null, menuShowing;
var Lcom_lostagain_Jam_Scene_SceneMenuWithPopUp_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneMenuWithPopUp', 396, Ljava_lang_Object_2_classLit);
function SelectItemFromInventoryMenu(panel, sourceobject){
  $clinit_SceneMenuWithPopUp();
  SceneMenuWithPopUp.call(this, $getArrayOfAllItemNames(panel), sourceobject);
}

defineClass(1158, 396, {}, SelectItemFromInventoryMenu);
var Lcom_lostagain_Jam_InventoryItems_SelectItemFromInventoryMenu_2_classLit = createForClass('com.lostagain.Jam.InventoryItems', 'SelectItemFromInventoryMenu', 1158, Lcom_lostagain_Jam_Scene_SceneMenuWithPopUp_2_classLit);
function $clinit_TigItemCore(){
  $clinit_TigItemCore = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'JAMcore.TigItemCore');
}

defineClass(1136, 1, {});
_.CoreName = '';
_.disabled_0 = false;
var lastclickedTig;
var Lcom_lostagain_Jam_InventoryItems_TigItemCore_2_classLit = createForClass('com.lostagain.Jam.InventoryItems', 'TigItemCore', 1136, Ljava_lang_Object_2_classLit);
function $clinit_InventoryPanelCore(){
  $clinit_InventoryPanelCore = emptyMethod;
  Log_45 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.InventoryPanelCore'));
  defaultActions_0 = new ActionList_0(' MouseClickActions: \n  - OpenItem = <LASTINVENTORYITEM> ');
  globalInventoryActions = new ActionList;
}

function $AddItemAndHold(this$static, ItemName){
  var holdafteruse;
  $severe_0(Log_45, 'AddItemAndHold triggered');
  $info_1(Log_45, 'AddItemAndHold triggered for: ' + ItemName);
  holdafteruse = new InventoryPanelCore$3(ItemName);
  $AddItem_0(this$static, ItemName, false, '', holdafteruse);
}

function $RemoveItem_0(this$static, ReItemName){
  var currentIcon, it;
  for (it = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems); it.i < it.this$01_0.size_1();) {
    currentIcon = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 178));
    if (compareTo_5(currentIcon.objectsCurrentState_2.ObjectsName, ReItemName) == 0) {
      $removeItem_1(this$static, currentIcon);
      return true;
    }
  }
  return false;
}

function $getArrayOfAllItemNames(this$static){
  var i, idc, idc$iterator, names;
  names = initDim(Ljava_lang_String_2_classLit, $intern_11, 2, this$static.inventorysCurrentItems.array.length, 4, 1);
  i = 0;
  for (idc$iterator = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems); idc$iterator.i < idc$iterator.this$01_0.size_1();) {
    idc = (checkCriticalElement(idc$iterator.i < idc$iterator.this$01_0.size_1()) , dynamicCast(idc$iterator.this$01_0.get_0(idc$iterator.last = idc$iterator.i++), 178));
    names[i] = idc.objectsCurrentState_2.ObjectsName;
    ++i;
  }
  return names;
}

function $getItem_1(this$static, ItemName){
  var currentItem, it;
  for (it = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems); it.i < it.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 178));
    if (compareTo_5(currentItem.objectsCurrentState_2.ObjectsName, ItemName) == 0) {
      return currentItem;
    }
  }
  return null;
}

function $getItemPopUp(this$static, ItemName){
  var currentItem, it;
  for (it = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems); it.i < it.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 178));
    if (compareTo_5(currentItem.objectsCurrentState_2.ObjectsName, ItemName) == 0) {
      return currentItem.PopUp;
    }
  }
  return null;
}

function $inventoryContainsItem(this$static, ItemName){
  var currentItem, hasitem, it;
  hasitem = false;
  for (it = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems); it.i < it.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 178));
    $equalsIgnoreCase(currentItem.objectsCurrentState_2.ObjectsName, ItemName) && (hasitem = true);
  }
  return hasitem;
}

function $setInventorysButton(this$static, inventorysButton){
  this$static.InventorysButton = inventorysButton;
}

function $triggerItem(this$static, ItemName){
  var currentItem, it;
  for (it = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems); it.i < it.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 178));
    if (compareTo_5(currentItem.objectsCurrentState_2.ObjectsName, ItemName) == 0) {
      $info_1(Log_45, 'found item to open..|' + currentItem.objectsCurrentState_2.ObjectsName + '|');
      $triggerPopup(currentItem);
    }
  }
}

function addInventory(CurrentProperty, CurrentParams){
  $clinit_InventoryPanelCore();
  var AniLen, Mode, ModeString, NewInventoryButton, anl, newInventoryFrame, newinventory;
  Mode = ($clinit_IsInventoryIcon$IconMode() , Image_5);
  AniLen = 6;
  if (CurrentParams.length > 1) {
    CurrentProperty = $trim(CurrentParams[0]);
    ModeString = $trim(CurrentParams[1]).toLowerCase();
    $equalsIgnoreCase(ModeString, 'text') && (Mode = Text_1);
    if (CurrentParams.length > 2) {
      anl = $trim(CurrentParams[2]);
      AniLen = __parseAndValidateInt(anl, 10);
    }
  }
  newinventory = new InventoryPanel(CurrentProperty, Mode);
  $info_1(Log_45, 'creating inventory');
  ($clinit_JAMcore() , allInventorys).put(CurrentProperty, newinventory);
  newInventoryFrame = new TitledPopUpWithShadow_1(null, CurrentProperty + ' ' + ($clinit_GamesInterfaceTextCore() , MainGame_Inventory), newinventory);
  allInventoryFrames.put(CurrentProperty, newInventoryFrame);
  NewInventoryButton = new GWTAnimatedIcon_0('GameIcons/BIG/' + CurrentProperty + '_inventory0.png', AniLen);
  newinventory.InventorysButton = NewInventoryButton;
  $addClickHandler(NewInventoryButton, new GWTAnimatedIcon$1(new InventoryPanelCore$6(newInventoryFrame)));
  $addMouseOverHandler(NewInventoryButton, new GWTAnimatedIcon$2(new InventoryPanelCore$7(NewInventoryButton)));
  $addMouseOutHandler(NewInventoryButton, new GWTAnimatedIcon$3(new InventoryPanelCore$8(newinventory, NewInventoryButton)));
  $info_1(Log_45, 'attaching to page = Inventory_' + CurrentProperty);
  $clinit_RequiredImplementations();
  screenManager.isPresent()?$PositionByTag_0((dynamicCast(screenManager.get_1(), 108) , NewInventoryButton), 'Inventory_' + CurrentProperty):$severe_0(Log_50, 'Can not place element by tag ' + ('Inventory_' + CurrentProperty) + ': No screenManager was supplied during setup');
}

function getCurrentItemBeingHeldOrDragged(){
  $clinit_InventoryPanelCore();
  if (isItemCurrentlyBeingHeld) {
    return currentlyHeldItem;
  }
  if (isItemCurrentlyBeingDragged) {
    return currentlyDraggedItem;
  }
  return null;
}

function getItemFromName(ItemName){
  $clinit_InventoryPanelCore();
  var currentinventoryPanel, inventorys;
  inventorys = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
  while (inventorys.val$outerIter2.hasNext()) {
    currentinventoryPanel = dynamicCast($next_8(inventorys), 136);
    if ($inventoryContainsItem(currentinventoryPanel, ItemName)) {
      return $getItem_1(currentinventoryPanel, ItemName);
    }
  }
  return null;
}

function holdItem(CurrentProperty){
  $clinit_InventoryPanelCore();
  var holdThis;
  $info_1(Log_45, 'told to hold: ' + CurrentProperty);
  $equalsIgnoreCase(CurrentProperty, '<LASTINVENTORYITEM>')?(holdThis = ($clinit_SceneObjectDatabase() , lastInventoryObjectClickedOn)):(holdThis = getItemFromName(CurrentProperty));
  if (holdThis) {
    isItemCurrentlyBeingHeld = true;
    currentlyHeldItem = holdThis;
    $clinit_OptionalImplementations();
    mouseCursorImplementation.isPresent()?$setMouseCursorToHolding((dynamicCast(mouseCursorImplementation.get_1(), 207) , holdThis)):$info_1(Log_49, 'no mouse cursor implementation supplied');
    $clinit_RequiredImplementations();
    interfaceVisualElements_0.isPresent() && $setHeldItemVisualiserVisible((dynamicCast(interfaceVisualElements_0.get_1(), 123) , true));
    interfaceVisualElements_0.isPresent() && $setHeldItemVisualisation((dynamicCast(interfaceVisualElements_0.get_1(), 123) , holdThis));
    screenManager.isPresent()?(dynamicCast(screenManager.get_1(), 108) , $setPlayForward(($clinit_JAM() , closeallwindows).animation) , closeAllWindows()):$severe_0(Log_50, 'Can not set closeAllOpenPopUps - screenManager not set');
  }
   else {
    $info_1(Log_45, 'item ' + CurrentProperty + ' not loaded, so attempting to load');
    $AddItemAndHold(defaultInventory, CurrentProperty);
  }
}

function isItemBeingHeldOrDragged(){
  $clinit_InventoryPanelCore();
  if (isItemCurrentlyBeingHeld) {
    return true;
  }
  if (isItemCurrentlyBeingDragged) {
    return true;
  }
  return false;
}

function playerHasItem(ItemName){
  $clinit_InventoryPanelCore();
  var currentinventoryPanel, inventorys;
  inventorys = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
  while (inventorys.val$outerIter2.hasNext()) {
    currentinventoryPanel = dynamicCast($next_8(inventorys), 136);
    if ($inventoryContainsItem(currentinventoryPanel, ItemName)) {
      return true;
    }
  }
  return false;
}

function removeItemFromAllInventorys(sceneObject){
  $clinit_InventoryPanelCore();
  var currentinventoryPanel, inventorys;
  $info_1(Log_45, 'removing item:' + sceneObject.objectsCurrentState_2.ObjectsName);
  inventorys = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
  while (inventorys.val$outerIter2.hasNext()) {
    currentinventoryPanel = dynamicCast($next_8(inventorys), 136);
    $removeItem_1(currentinventoryPanel, sceneObject);
  }
}

function unholdItem(){
  $clinit_InventoryPanelCore();
  var actions;
  if (currentlyHeldItem) {
    if (currentlyHeldItem.objectsActions) {
      actions = $getActionsForTrigger(currentlyHeldItem.objectsActions, ($clinit_ActionSet$TriggerType() , OnDropped), null);
      actions.array.length > 0 && processInstructions_1(actions, 'FROM_' + ($clinit_SceneObjectDatabase() , currentScene_0).SceneFileName + '_' + currentlyHeldItem.objectsCurrentState_2.ObjectsName, null);
    }
  }
  isItemCurrentlyBeingHeld = false;
  currentlyHeldItem = null;
  $clinit_OptionalImplementations();
  mouseCursorImplementation.isPresent() && (dynamicCast(mouseCursorImplementation.get_1(), 207) , setMouseImage_0(($clinit_SpiffyImageUtilitys() , smallArrowDataURL)));
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setHeldItemVisualiserVisible((dynamicCast(interfaceVisualElements_0.get_1(), 123) , false));
}

defineClass(136, 1, {64:1, 71:1, 136:1});
_.InventorysButton = null;
_.Title = 'Inventory default';
_.isOpen = false;
_.noduplicates = true;
var Log_45, currentlyDraggedItem = null, currentlyHeldItem = null, defaultActions_0, defaultInventory, globalInventoryActions, isItemCurrentlyBeingDragged = false, isItemCurrentlyBeingHeld = false, itemmixscript = '';
var Lcom_lostagain_Jam_InventoryPanelCore_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore', 136, Ljava_lang_Object_2_classLit);
function InventoryPanelCore$1(){
}

defineClass(815, 1, {}, InventoryPanelCore$1);
_.run_2 = function run_34(responseData, responseCode){
  var responsetext;
  if (responseCode != 200 && responseCode != 0) {
    $info_1(($clinit_InventoryPanelCore() , Log_45), 'no GlobalItemActions ini found');
    $info_1(Log_45, 'response code was:' + responseCode);
    globalInventoryActions = defaultActions_0;
    return;
  }
  responsetext = $trim(responseData);
  $clinit_InventoryPanelCore();
  globalInventoryActions = new ActionList_0(responsetext);
}
;
var Lcom_lostagain_Jam_InventoryPanelCore$1_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore/1', 815, Ljava_lang_Object_2_classLit);
function InventoryPanelCore$2(){
}

defineClass(816, 1, {}, InventoryPanelCore$2);
_.run_1 = function run_35(errorData, exception){
  $info_1(($clinit_InventoryPanelCore() , Log_45), 'http GlobalItemActions failed');
  globalInventoryActions = defaultActions_0;
}
;
var Lcom_lostagain_Jam_InventoryPanelCore$2_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore/2', 816, Ljava_lang_Object_2_classLit);
function $run_8(this$static){
  $info_1(($clinit_InventoryPanelCore() , Log_45), 'Inventory item loaded. Now running hold item');
  holdItem(this$static.val$ItemName2);
}

function InventoryPanelCore$3(val$ItemName){
  this.val$ItemName2 = val$ItemName;
}

defineClass(817, 1, {}, InventoryPanelCore$3);
_.run = function run_36(){
  $run_8(this);
}
;
var Lcom_lostagain_Jam_InventoryPanelCore$3_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore/3', 817, Ljava_lang_Object_2_classLit);
function InventoryPanelCore$4(){
}

defineClass(818, 1, {}, InventoryPanelCore$4);
_.run_2 = function run_37(responseData, responseCode){
  var responsetext;
  if (responseCode == 404) {
    $info_1(($clinit_InventoryPanelCore() , Log_45), 'no item mix script found');
    return;
  }
  responsetext = parseForLanguageSpecificExtension(responseData);
  $clinit_InventoryPanelCore();
  itemmixscript = responsetext;
}
;
var Lcom_lostagain_Jam_InventoryPanelCore$4_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore/4', 818, Ljava_lang_Object_2_classLit);
function InventoryPanelCore$5(){
}

defineClass(819, 1, {}, InventoryPanelCore$5);
_.run_1 = function run_38(errorData, exception){
  $info_1(($clinit_InventoryPanelCore() , Log_45), 'http failed when getting item mix script');
}
;
var Lcom_lostagain_Jam_InventoryPanelCore$5_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore/5', 819, Ljava_lang_Object_2_classLit);
function $run_9(this$static){
  $info_1(($clinit_InventoryPanelCore() , Log_45), 'opening added inventory');
  this$static.val$newInventoryFrame1.OpenDefault();
  $clinit_RequiredImplementations();
  screenManager.isPresent()?(dynamicCast(screenManager.get_1(), 108) , $setPlayForward(($clinit_JAM() , closeallwindows).animation)):$severe_0(Log_50, 'Can not set popupPanelOpened - screenManager not set');
}

function InventoryPanelCore$6(val$newInventoryFrame){
  this.val$newInventoryFrame1 = val$newInventoryFrame;
}

defineClass(820, 1, {}, InventoryPanelCore$6);
_.run = function run_39(){
  $run_9(this);
}
;
var Lcom_lostagain_Jam_InventoryPanelCore$6_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore/6', 820, Ljava_lang_Object_2_classLit);
function $run_10(this$static){
  $info_1(($clinit_InventoryPanelCore() , Log_45), 'mouse over  inventory');
  this$static.val$NewInventoryButton1.setPlayForward();
}

function InventoryPanelCore$7(val$NewInventoryButton){
  this.val$NewInventoryButton1 = val$NewInventoryButton;
}

defineClass(821, 1, {}, InventoryPanelCore$7);
_.run = function run_40(){
  $run_10(this);
}
;
var Lcom_lostagain_Jam_InventoryPanelCore$7_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore/7', 821, Ljava_lang_Object_2_classLit);
function $run_11(this$static){
  $info_1(($clinit_InventoryPanelCore() , Log_45), 'mouse out inventory');
  this$static.val$newinventory1.isOpen || this$static.val$NewInventoryButton2.setPlayBack();
}

function InventoryPanelCore$8(val$newinventory, val$NewInventoryButton){
  this.val$newinventory1 = val$newinventory;
  this.val$NewInventoryButton2 = val$NewInventoryButton;
}

defineClass(822, 1, {}, InventoryPanelCore$8);
_.run = function run_41(){
  $run_11(this);
}
;
var Lcom_lostagain_Jam_InventoryPanelCore$8_2_classLit = createForClass('com.lostagain.Jam', 'InventoryPanelCore/8', 822, Ljava_lang_Object_2_classLit);
function $clinit_JAMTimerController(){
  $clinit_JAMTimerController = emptyMethod;
  $clinit_DeltaTimerController();
  activeNamedActionSetTimers = new HashMap;
}

function cancelNamedActionSetTimer(objectname, actionsetname){
  $clinit_JAMTimerController();
  var timer;
  objectname = $trim(objectname.toLowerCase());
  actionsetname = $trim(actionsetname.toLowerCase());
  timer = dynamicCast(activeNamedActionSetTimers.get_2(objectname + '_' + actionsetname), 164);
  if (timer) {
    $cancel_2(timer);
    if (activeNamedActionSetTimers.get_2(objectname + '_' + actionsetname) != null) {
      $info_1(Log_2, ' still on list for some reason:' + activeNamedActionSetTimers.size_1());
      $info_1(Log_2, ' still on list for some reason:' + activeNamedActionSetTimers.toString$());
    }
     else {
      $info_1(Log_2, 'Canceled remaining:' + activeNamedActionSetTimers.toString$());
    }
  }
   else {
    $info_1(Log_2, 'could not find : ' + objectname + '_' + actionsetname);
  }
}

function isNamedActionSetShreduled(objectname, actionsetname){
  $clinit_JAMTimerController();
  objectname = $trim(objectname.toLowerCase());
  actionsetname = $trim(actionsetname.toLowerCase());
  return activeNamedActionSetTimers.containsKey(objectname + '_' + actionsetname);
}

function stopUpdatingAllObjects(){
  $clinit_JAMTimerController();
  var nas, timerWasFor;
  !!tickTimer && $cancel(tickTimer);
  TimerRunning = false;
  $stopFrameUpdates();
  $clear_2(namedRunnables);
  objectsToUpdateOnFramePendingRemoveList.map_0.clear_1();
  objectsToUpdateOnTick.map_0.clear_1();
  objectsToUpdateOnFramePendingAdd.map_0.clear_1();
  $info_1(Log_2, 'Stopping all NamedActionSetTimer timers');
  nas = $iterator_5(new AbstractMap$2(activeNamedActionSetTimers));
  while (nas.val$outerIter2.hasNext()) {
    timerWasFor = dynamicCast($next_8(nas), 164);
    $cancel_3(timerWasFor.TimerImplementation);
    timerWasFor.TimerImplementation = null;
    nas.val$outerIter2.remove_2();
  }
}

var activeNamedActionSetTimers;
function $clinit_JAMcore(){
  $clinit_JAMcore = emptyMethod;
  Log_46 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore'));
  DebugMode = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  allInventorys = new HashMap;
  CommandsToRunAfterLoadingArray = new ArrayList;
  CommandsToRunAfterLoadingArrayIDs = new ArrayList;
  allInventoryFrames = new HashMap;
  currentOpenPages = new ArrayList;
  locationpuzzlesActive = new ArrayList;
  AnswerBox = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  HeldKeys = new HashSet;
  EnterAns = (null , INSTANCE);
  rootlogger = (new LoggerImplRegular , $ensureLogger(getLogManager(), ''));
}

function AnswerGiven(Ans){
  var onSuccess, onError;
  $clinit_JAMcore();
  var RunCode, isCalc, result;
  if ($equals_5(Ans.substr(0, 3), 'SPC') && Ans.length == 12) {
    $info_1(Log_46, 'Special code entered');
    onSuccess = new JAMcore$2;
    onError = new JAMcore$3;
    $clinit_RequiredImplementations();
    GetTextFile('scripts/checkcode.php', onSuccess, onError, true, false);
    return;
  }
  EnterAns.isPresent() && $setText(dynamicCast(EnterAns.get_1(), 274), ($clinit_GamesInterfaceTextCore() , MainGame_Sending));
  Ans = $trim(Ans).toLowerCase();
  isCalc = isCalculation(Ans);
  RunCode = $checkAns(gamesAnswerStore, Ans, usersCurrentLocation.toLowerCase(), isCalc);
  if (RunCode) {
    $info_1(Log_46, 'processing instructions:' + RunCode);
    processInstructions(RunCode, Ans + 'Given@' + usersCurrentLocation.toLowerCase(), null);
    EnterAns.isPresent() && $setText(dynamicCast(EnterAns.get_1(), 274), ($clinit_GamesInterfaceTextCore() , MainGame_Submit));
    autoserversaveon && silentlySaveGameToServer();
    return;
  }
  if (isCalc) {
    result = '' + AdvanceCalculation(Ans);
    ($clinit_System() , out_0).println_0('-' + result + '-');
    $endsWith(result, '.0') && (result = $replaceFirst(result, '\\.0', ''));
    ($clinit_FeedbackHistoryCore() , feebackHistoryVisualiser).isPresent() && $AddNewMessage_notrecorded(dynamicCast(feebackHistoryVisualiser.get_1(), 332), '-- ' + Ans);
    setCurrentFeedbackText(($clinit_GamesInterfaceTextCore() , MainGame_Mathsbeforeans) + ' ' + result + ' ' + MainGame_Mathsafterans);
    AddNewMessage('<div class="MessageHistoryReplyStyle" >  ' + MainGame_Mathsbeforeans + result + MainGame_Mathsafterans + '<\/div>');
    EnterAns.isPresent() && $setText(dynamicCast(EnterAns.get_1(), 274), MainGame_Submit);
    return;
  }
}

function CheckLoadingQueue(){
  $clinit_JAMcore();
  var loadingQueueContents;
  $info_1(Log_46, 'checking loading queue');
  $info_1(Log_46, 'current contents of queue is;');
  loadingQueueContents = new AbstractList$IteratorImpl(($clinit_PageLoadingData() , PageLoadingQueue));
  while (loadingQueueContents.i < loadingQueueContents.this$01_0.size_1()) {
    $info_1(Log_46, '->' + (checkCriticalElement(loadingQueueContents.i < loadingQueueContents.this$01_0.size_1()) , dynamicCast(loadingQueueContents.this$01_0.get_0(loadingQueueContents.last = loadingQueueContents.i++), 350)).pageURL);
  }
  if (storyPageLoading) {
    return;
  }
   else {
    $info_1(Log_46, 'checking loading queue and loading next item');
    if (PageLoadingQueue.array.length > 0) {
      $info_1(Log_46, 'loading:' + $get(PageLoadingQueue, 0));
      $setNewPage((dynamicCast(($clinit_RequiredImplementations() , screenManager).get_1(), 108) , dynamicCast($get(PageLoadingQueue, 0), 350)));
    }
  }
}

function CorrectAnswerProcess(StartHere){
  $clinit_JAMcore();
  var CurrentAnsLine, NextAnsPos, endOfAnsLine, instructionset, posOfLastNewline;
  posOfLastNewline = $lastIndexOf_0(controllscript, 'ans=', StartHere);
  endOfAnsLine = $indexOf_3(controllscript, '\n', posOfLastNewline);
  CurrentAnsLine = $substring_0(controllscript, posOfLastNewline, endOfAnsLine);
  NextAnsPos = $indexOf_3(controllscript, 'ans=', StartHere);
  instructionset = $substring_0(controllscript, StartHere, NextAnsPos);
  processInstructions_0(instructionset, $trim(CurrentAnsLine), null);
  autoserversaveon && silentlySaveGameToServer();
  $info_1(Log_46, 'setting text pointlessly');
  EnterAns.isPresent() && $setText(dynamicCast(EnterAns.get_1(), 274), ($clinit_GamesInterfaceTextCore() , MainGame_Submit));
}

function SwapCustomWords(input_string, replaceGameVariablesWithValues){
  $clinit_JAMcore();
  var bookshelfendloc, bookshelfloc, starthere, stringafter, stringbefore, stringurl;
  if (loggedIn) {
    input_string = $replaceAll(input_string, '<USERNAME>', Username);
    input_string = $replaceAll(input_string, '<ORGANISATION>', Organisation);
  }
   else {
    input_string = $replaceAll(input_string, '<USERNAME>', 'Knuffelmans');
    input_string = $replaceAll(input_string, '<ORGANISATION>', '');
  }
  replaceGameVariablesWithValues && (input_string = ($clinit_GameVariableManagement() , replaceGameVariablesWithValues_0(input_string, null)));
  starthere = 0;
  while (input_string.indexOf('<bookshelf="', starthere) > 0) {
    starthere = starthere + 1;
    bookshelfloc = input_string.indexOf('<bookshelf="');
    bookshelfendloc = input_string.indexOf('">', bookshelfloc);
    stringbefore = input_string.substr(0, bookshelfloc);
    stringurl = input_string.substr(bookshelfloc + 12, bookshelfendloc - (bookshelfloc + 12));
    stringafter = __substr(input_string, bookshelfendloc + 2, input_string.length - (bookshelfendloc + 2));
    input_string = stringbefore + '<a style="height:32px" href="' + stringurl + '" target="_blank"><img height="29" width="32" border="0" class="bookshelf" src="blank.gif"/><\/a>' + stringafter;
  }
  return input_string;
}

function maingameloop(){
  $clinit_JAMcore();
  if (GamesAnsBoxSetup) {
    return;
  }
  GamesAnsBoxSetup = true;
  EnterAns.isPresent() && $addDomHandler(dynamicCast(dynamicCast(EnterAns.get_1(), 274), 375), new GWTAnswerButton$1(new JAMcore$4), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  ($clinit_OptionalImplementations() , gamesLoadMonitor).isPresent() && $advanceGameLoadingBar(dynamicCast(gamesLoadMonitor.get_1(), 177));
}

function parseForLanguageSpecificExtension(sourceString){
  $clinit_JAMcore();
  LanguageExtension_0.length > 1?(sourceString = $replaceAll(sourceString, '__LAN', '__' + LanguageExtension_0)):(sourceString = $replaceAll(sourceString, '__LAN', ''));
  return sourceString;
}

function parseForTextIDs(sourceString){
  $clinit_JAMcore();
  $clinit_GameTextDatabase();
  if (!loaded) {
    $severe_0(Log_46, 'TEXT DATABASE NOT LOADED YET ERROR when trying to swap:' + sourceString);
    return sourceString;
  }
  sourceString = replaceIDsWithText(sourceString, LanguageExtension_0);
  return sourceString;
}

function processInstructions_1(commandsToRun, UniqueTriggerIndent, ObjectThatCalledThis){
  $clinit_JAMcore();
  $clinit_InstructionProcessor();
  processInstructions(commandsToRun, UniqueTriggerIndent, ObjectThatCalledThis);
}

function processInstructionsWhenReady(commands, uniquetriggerstring){
  $clinit_JAMcore();
  if (itemsLeftToLoad == 0 && !BusyAddingDivs) {
    $clinit_InstructionProcessor();
    processInstructions(commands, uniquetriggerstring, null);
  }
   else {
    $info_1(Log_46, 'itemsLeftToLoad = ' + itemsLeftToLoad + ' ');
    $info_1(Log_46, 'adding commands to run after loading');
    CommandsToRunAfterLoadingArray.add_0(commands);
    CommandsToRunAfterLoadingArrayIDs.add_0(uniquetriggerstring);
  }
}

function processInstructionsWhenReady_0(commands, uniquetriggerstring){
  $clinit_JAMcore();
  var commandsToRun;
  commandsToRun = StringToCommandList(commands);
  processInstructionsWhenReady(commandsToRun, uniquetriggerstring);
}

function removeLanguageSpecificExtension(fileName){
  $clinit_JAMcore();
  LanguageExtension_0.length > 1 && (fileName = $replaceAll(fileName, '__' + LanguageExtension_0, ''));
  return fileName;
}

function setLoggingEnable(b){
  $clinit_JAMcore();
  $info_1(Log_46, 'setting JamCore log active:' + b);
  if (b) {
    $setLevel_1(rootlogger, ($clinit_Level() , INFO));
    $setLevel_1(Log_46, INFO);
    $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'sss')), OFF);
    $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.PropertySet')), OFF);
  }
   else {
    $info_1(Log_46, 'setting log off');
    $setLevel_1(rootlogger, ($clinit_Level() , OFF));
    $setLevel_1(Log_46, OFF);
    $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'SSS')), OFF);
  }
}

function setupEngineVariables(gamename, Homedirectory, LocalFolderLocation, LanguageExtension, RequiredLogin, HasServerSave, DisableAutoSave, Quality, DebugSetting){
  $clinit_JAMcore();
  homeurl = Homedirectory;
  defaultNSFolder = 'Semantics/';
  defaultNSFile = 'OnotologyIndex.ntlist';
  defaultNS_0 = homeurl + defaultNSFolder + defaultNSFile + '#';
  inventory_url = homeurl + 'InventoryItems/';
  GameName = gamename;
  LocalFolderLocation_0 = LocalFolderLocation;
  LanguageExtension_0 = LanguageExtension;
  RequiredLogin_0 = ($clinit_Boolean() , RequiredLogin?TRUE_3:FALSE_2);
  HasServerSave_0 = HasServerSave?TRUE_3:FALSE_2;
  DisableAutoSave_0 = DisableAutoSave?TRUE_3:FALSE_2;
  Quality_0 = Quality;
  DebugSetting_0 = DebugSetting;
  return null;
}

function silentlySaveGameToServer(){
  var saveGameData;
  saveGameData = $CreateSaveString(dynamicCast(($clinit_RequiredImplementations() , saveManager).get_1(), 180));
  ($clinit_OptionalImplementations() , StringCompressionMethod).isPresent()?CompressString((dynamicCast(StringCompressionMethod.get_1(), 1451) , saveGameData), new SaveGameManager$28, null):(dynamicCast(saveManager.get_1(), 180) , $severe_0(($clinit_JamSaveGameManager() , Log_51), 'No Server Storage Implementation Provided, so cant save via this method'));
}

function startGameFromControllFile(){
  var indexs, itemMixScriptControll, onSuccess, onError_0;
  $clinit_JAMcore();
  var onError, onResponse;
  try {
    $clinit_SuperSimpleSemantics();
    $clinit_RequiredImplementations();
    setJavaLogOn(javaLogOn);
    ensureDefaultNameSpacesSetUp();
    test_1('oak');
    test_1('plywood');
    setGlobalCallback(new SuperSimpleSemantics$1);
    $clinit_Boolean();
    preloadIndexs = true;
    indexs = new ArrayList;
    indexs.add_0(defaultNSFolder + defaultNSFile);
    $info_1(Log_46, 'loading semantics at:' + defaultNSFolder + defaultNSFile);
    loadIndexsAt(indexs);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      $info_1(Log_46, 'no semantic database found');
    }
     else 
      throw unwrap($e0);
  }
  try {
    $clinit_InventoryPanelCore();
    itemMixScriptControll = inventory_url + 'ItemControllScript.txt';
    $info_1(Log_45, 'loading mix script at:' + itemMixScriptControll);
    onSuccess = new InventoryPanelCore$4;
    onError_0 = new InventoryPanelCore$5;
    $clinit_RequiredImplementations();
    GetTextFile(itemMixScriptControll, onSuccess, onError_0, false, true);
  }
   catch ($e1) {
    $e1 = wrap($e1);
    if (instanceOf($e1, 37)) {
      $info_1(Log_46, 'item mix script file error');
    }
     else 
      throw unwrap($e1);
  }
  onResponse = new JAMcore$5;
  onError = new JAMcore$6;
  $info_1(Log_46, 'Retrieving control file');
  $clinit_RequiredImplementations();
  GetTextFile('Game Controll Script/Main_Game_Controll.txt', onResponse, onError, false, true);
}

function start_game_script_when_ready(){
  $clinit_JAMcore();
  var FirstBitsEnd, FirstBitsStart, instructionset;
  if (controllscript.length < 5 || ($clinit_GameTextDatabase() , !loaded) || StartOfScriptProcessed) {
    $info_1(Log_46, 'waiting for controllscript or GameTextDatabase to load.');
    $info_1(Log_46, 'controllscript length =' + controllscript.length);
    return;
  }
  StartOfScriptProcessed = true;
  dynamicCast(($clinit_RequiredImplementations() , BasicGameFunctionsImplemention).get_1(), 519);
  $updateLans(($clinit_JAM() , ControlPanel));
  $info_1(Log_46, 'Start_of_game_script triggered');
  if (($clinit_OptionalImplementations() , gamesLoadMonitor).isPresent()) {
    $setGameLoadStatus((dynamicCast(gamesLoadMonitor.get_1(), 177) , 'start of game script triggered'));
    $advanceGameLoadingBar(dynamicCast(gamesLoadMonitor.get_1(), 177));
  }
  $setCurrentFeedbackText((dynamicCast(interfaceVisualElements_0.get_1(), 123) , $clinit_GamesInterfaceTextCore() , MainGame_LoadingNewGame));
  $setCurrentFeedbackText_0((dynamicCast(interfaceVisualElements_0.get_1(), 123) , MainGame_LoadingNewGame + '...'));
  FirstBitsStart = controllscript.indexOf('Start:', 0) + 6;
  FirstBitsEnd = controllscript.indexOf('ans=', 0);
  instructionset = $substring_0(controllscript, FirstBitsStart, FirstBitsEnd);
  $info_1(Log_46, 'Startup instruction set : ' + instructionset + ' \n -instruction set- \n');
  GameLogger.log_1('Startup instruction set : ', 'green');
  GameLogger.info_0(instructionset);
  if (StartFromURL.length < 2) {
    processInstructions_0(instructionset, 'Start', null);
  }
   else {
    updateGameState(StartFromURL);
    StartFromURL = '';
  }
  maingameloop();
}

function updateGameState(GameUpdateString){
  $clinit_JAMcore();
  var GameData;
  $equals_5(GameUpdateString.substr(0, 5), 'DEBUG') && processInstructions_0('- AddItem = newspaper \n - AddItem = TextScrollTest \n - AddItem = whokilledhans \n - AddItem = magnifyingglass \n - AddItem = TigDemo2 \n - AddProfile = Pierre J H Cuypers.html \n - StoryBox = 1 Welkom.html \n - StoryBox = 1.1 Help.html \n - StoryBox = 1.2 Score.html \n - SelectPage = 1 Welkom.html', 'Debug', null);
  if ($equals_5(GameUpdateString.substr(0, 13), 'LoadGameData=')) {
    ($clinit_OptionalImplementations() , gamesLoadMonitor).isPresent() && $advanceGameLoadingBar(dynamicCast(gamesLoadMonitor.get_1(), 177));
    GameData = __substr(GameUpdateString, 13, GameUpdateString.length - 13);
    decompressAndLoad(GameData, true);
  }
   else {
    $info_1(Log_46, 'answer given from updatestatus');
    AnswerGiven(GameUpdateString);
  }
}

var AnswerBox, BusyAddingDivs = false, Client = '', CommandsToRunAfterLoadingArray, CommandsToRunAfterLoadingArrayIDs, CurrentScenesAndPages, DebugMode, DebugSetting_0, DisableAutoSave_0, EnterAns, GameLogger, GameName, GamesAnsBoxSetup = false, GamesChaptersPanel, HasServerSave_0, HeldKeys, IgnoreKeyPresses = false, InterfaceSize = 'Default', LanguageExtension_0, LocalFolderLocation_0, Log_46, NumberOfHTMLsLeftToLoad = 0, Organisation = '', PlayersInventoryFrame = null, PlayersNotepad, PlayersScore, Quality_0, RequiredLogin_0, StartFromURL = '', StartOfScriptProcessed = false, Username = 'The Player', allInventoryFrames, allInventorys, autoserversaveon = false, controllscript = '', currentOpenPages, defaultNS_0 = 'not correct', defaultNSFile = 'OnotologyIndex.ntlist', defaultNSFolder = 'Semantics/', gamesAnswerStore, homeurl = '', iconsizestring = '', inventory_url = 'InventoryItems/', itemsLeftToLoad = 0, locationpuzzlesActive, loggedIn = false, pageToSelect, playersClues, rootlogger, storyPageLoading = false, triggerSelectCheck = false, usersCurrentLocation = '', z_depth_max = 20000;
function JAMcore$2(){
}

defineClass(766, 1, {}, JAMcore$2);
_.run_2 = function run_42(responseData, responseCode){
  var AnswerIndex, searchfor;
  $info_1(($clinit_JAMcore() , Log_46), 'special response recieved');
  GameLogger.log_1('Response to special code check;' + responseData, 'green');
  if ($endsWith(responseData, 'VALID ID')) {
    searchfor = 'ans=' + usersCurrentLocation.toLowerCase() + ': {special code}';
    GameLogger.info_0('looking for ' + searchfor);
    AnswerIndex = $indexOf_2(controllscript.toLowerCase(), searchfor);
    if (AnswerIndex == -1) {
      GameLogger.info_0('not found ');
      return;
    }
    $info_1(Log_46, 'processing instructions:');
    CorrectAnswerProcess(AnswerIndex + 14 + usersCurrentLocation.length + 6);
  }
}
;
var Lcom_lostagain_Jam_JAMcore$2_2_classLit = createForClass('com.lostagain.Jam', 'JAMcore/2', 766, Ljava_lang_Object_2_classLit);
function JAMcore$3(){
}

defineClass(767, 1, {}, JAMcore$3);
_.run_1 = function run_43(errorData, exception){
  ($clinit_JAMcore() , GameLogger).info_0(' error checking special code');
}
;
var Lcom_lostagain_Jam_JAMcore$3_2_classLit = createForClass('com.lostagain.Jam', 'JAMcore/3', 767, Ljava_lang_Object_2_classLit);
function $run_12(){
  if ($getPropertyString($getElement(dynamicCast(dynamicCast(($clinit_JAMcore() , AnswerBox).get_1(), 74), 135).widgetContents), 'value').length > 1) {
    $info_1(Log_46, 'answer given from enter');
    AnswerGiven($getPropertyString($getElement(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents), 'value'));
  }
}

function JAMcore$4(){
}

defineClass(768, 1, {}, JAMcore$4);
_.run = function run_44(){
  $run_12();
}
;
var Lcom_lostagain_Jam_JAMcore$4_2_classLit = createForClass('com.lostagain.Jam', 'JAMcore/4', 768, Ljava_lang_Object_2_classLit);
function JAMcore$5(){
}

defineClass(769, 1, {}, JAMcore$5);
_.run_2 = function run_45(responseData, responseCode){
  var StartIndex, remainingSetup;
  $clinit_JAMcore();
  controllscript = responseData;
  if (($clinit_OptionalImplementations() , gamesLoadMonitor).isPresent()) {
    $setGameLoadStatus((dynamicCast(gamesLoadMonitor.get_1(), 177) , 'Preparing page'));
    $advanceGameLoadingBar(dynamicCast(gamesLoadMonitor.get_1(), 177));
  }
  StartIndex = controllscript.indexOf('Game Controll Starts Here:');
  if (StartIndex == -1) {
    $severe_0(Log_46, 'controll file not recieved;' + responseData);
    return;
  }
  controllscript = $substring_0(controllscript, StartIndex, controllscript.length);
  controllscript = parseForLanguageSpecificExtension(controllscript);
  $info_1(Log_46, 'swapping custome words in controllscript ');
  controllscript = SwapCustomWords(controllscript, false);
  remainingSetup = new JAMcore$5$1;
  $clinit_GameTextDatabase();
  if (loaded) {
    $info_1(Log_46, 'GameTextDatabase already loaded, continueing to setup answers');
    $run_13();
  }
   else {
    $info_1(Log_46, 'GameTextDatabase not loaded, waiting to setup answers');
    RunOnComplete = remainingSetup;
  }
}
;
var Lcom_lostagain_Jam_JAMcore$5_2_classLit = createForClass('com.lostagain.Jam', 'JAMcore/5', 769, Ljava_lang_Object_2_classLit);
function $run_13(){
  $clinit_JAMcore();
  controllscript = parseForTextIDs(controllscript);
  $info_1(Log_46, 'setting up answers');
  gamesAnswerStore = new GamesAnswerStore(controllscript);
  $info_1(Log_46, 'ans set up');
  if (($clinit_OptionalImplementations() , gamesLoadMonitor).isPresent()) {
    $setGameLoadStatus((dynamicCast(gamesLoadMonitor.get_1(), 177) , 'setup done'));
    $advanceGameLoadingBar(dynamicCast(gamesLoadMonitor.get_1(), 177));
  }
  $info_1(Log_46, 'start_game_script_when_ready');
  start_game_script_when_ready();
}

function JAMcore$5$1(){
}

defineClass(770, 1, {}, JAMcore$5$1);
_.run = function run_46(){
  $run_13();
}
;
var Lcom_lostagain_Jam_JAMcore$5$1_2_classLit = createForClass('com.lostagain.Jam', 'JAMcore/5/1', 770, Ljava_lang_Object_2_classLit);
function JAMcore$6(){
}

defineClass(771, 1, {}, JAMcore$6);
_.run_1 = function run_47(errorData, exception){
  ($clinit_System() , out_0).println_0('http failed');
}
;
var Lcom_lostagain_Jam_JAMcore$6_2_classLit = createForClass('com.lostagain.Jam', 'JAMcore/6', 771, Ljava_lang_Object_2_classLit);
defineClass(74, 1, {74:1});
var Lcom_lostagain_Jam_JamAnswerBox_2_classLit = createForClass('com.lostagain.Jam', 'JamAnswerBox', 74, Ljava_lang_Object_2_classLit);
function $ClueArrayAsString(this$static){
  var ClueArrayasString, ClueChapters, ClueChaptersit, ClueContents, ClueName, CluesForChapter, CluesForChapterit, cluetoadd, currentChapter;
  ClueChapters = $getAllUniqueNames(this$static.Clues);
  ClueArrayasString = '';
  for (ClueChaptersit = new AbstractList$IteratorImpl(ClueChapters); ClueChaptersit.i < ClueChaptersit.this$01_0.size_1();) {
    currentChapter = (checkCriticalElement(ClueChaptersit.i < ClueChaptersit.this$01_0.size_1()) , dynamicCastToString(ClueChaptersit.this$01_0.get_0(ClueChaptersit.last = ClueChaptersit.i++)));
    CluesForChapter = $GetAllItems(this$static.Clues, currentChapter);
    for (CluesForChapterit = new AbstractList$IteratorImpl(CluesForChapter); CluesForChapterit.i < CluesForChapterit.this$01_0.size_1();) {
      cluetoadd = (checkCriticalElement(CluesForChapterit.i < CluesForChapterit.this$01_0.size_1()) , dynamicCastToString(CluesForChapterit.this$01_0.get_0(CluesForChapterit.last = CluesForChapterit.i++)));
      ClueName = $trim($split_0(cluetoadd, ':', 2)[0]);
      ClueContents = $trim($split_0(cluetoadd, ':', 2)[1]);
      ClueArrayasString = ClueArrayasString + currentChapter + ',' + ClueName + ',' + ClueContents + '|';
    }
  }
  return ClueArrayasString;
}

function $LoadFromString(this$static, ArrayAsString){
  var Chapter, ClueName, ClueText, Pairs, i;
  Pairs = $split_0($trim(ArrayAsString), '\\|', 0);
  i = 0;
  while (i < Pairs.length) {
    if (Pairs[i].indexOf(',') != -1) {
      Chapter = $split_0(Pairs[i], ',', 0)[0];
      ClueName = $split_0(Pairs[i], ',', 0)[1];
      ClueText = $split_0(Pairs[i], ',', 0)[2];
      $AddClueImplementation(this$static, ClueText, ClueName, Chapter);
    }
    ++i;
  }
  return;
}

defineClass(779, 1, {});
var Lcom_lostagain_Jam_JamClueControll_2_classLit = createForClass('com.lostagain.Jam', 'JamClueControll', 779, Ljava_lang_Object_2_classLit);
function $clinit_JamGlobalGameEffects(){
  $clinit_JamGlobalGameEffects = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'JAMcore.JamGlobalGameEffects');
}

function TriggerEffect(EffectName, InstructionSet){
  $clinit_JamGlobalGameEffects();
  $TriggerEffectImplementation((dynamicCast(instance_2.reference, 260) , EffectName), InstructionSet);
}

function setJamGlobalGameEffectsFunctions(instance){
  $clinit_JamGlobalGameEffects();
  instance_2 = new Present(instance);
}

defineClass(260, 1, {260:1});
var instance_2;
var Lcom_lostagain_Jam_JamGlobalGameEffects_2_classLit = createForClass('com.lostagain.Jam', 'JamGlobalGameEffects', 260, Ljava_lang_Object_2_classLit);
function $elementAdded(this$static){
  ++this$static.size_0;
  structureChanged(this$static);
}

function $elementRemoved(this$static){
  --this$static.size_0;
  structureChanged(this$static);
}

function $getStringValue(this$static, key){
  return key == null?getEntryValueOrNull($getEntry(this$static.hashCodeMap, null)):this$static.stringMap.get_3(key);
}

function $putStringValue(this$static, key, value_0){
  return key == null?$put_2(this$static.hashCodeMap, null, value_0):this$static.stringMap.put_0(key, value_0);
}

function $reset(this$static){
  $clinit_InternalJsMapFactory$BackwardCompatibleJsMapFactory();
  this$static.hashCodeMap = delegate_11.createJsHashCodeMap();
  this$static.hashCodeMap.host = this$static;
  this$static.stringMap = delegate_11.createJsStringMap();
  this$static.stringMap.host = this$static;
  this$static.size_0 = 0;
  structureChanged(this$static);
}

defineClass(325, 1481, $intern_58);
_.clear_1 = function clear_31(){
  $reset(this);
}
;
_.containsKey = function containsKey_6(key){
  return isJavaString(key)?key == null?!!$getEntry(this.hashCodeMap, null):!(this.stringMap.get_3(key) === undefined):!!$getEntry(this.hashCodeMap, key);
}
;
_.containsValue = function containsValue_4(value_0){
  return this.stringMap.containsValue(value_0) || this.hashCodeMap.containsValue(value_0);
}
;
_.entrySet_0 = function entrySet_3(){
  return new AbstractHashMap$EntrySet(this);
}
;
_.get_2 = function get_15(key){
  return isJavaString(key)?$getStringValue(this, key):getEntryValueOrNull($getEntry(this.hashCodeMap, key));
}
;
_.put = function put_5(key, value_0){
  return isJavaString(key)?$putStringValue(this, key, value_0):$put_2(this.hashCodeMap, key, value_0);
}
;
_.remove_3 = function remove_50(key){
  return isJavaString(key)?key == null?$remove_24(this.hashCodeMap, null):this.stringMap.remove_4(key):$remove_24(this.hashCodeMap, key);
}
;
_.size_1 = function size_24(){
  return this.size_0;
}
;
_.size_0 = 0;
var Ljava_util_AbstractHashMap_2_classLit = createForClass('java.util', 'AbstractHashMap', 325, Ljava_util_AbstractMap_2_classLit);
function HashMap(){
  $reset(this);
}

function HashMap_0(ignored){
  checkCriticalArgument_0(ignored >= 0, 'Negative initial capacity');
  checkCriticalArgument_0(true, 'Non-positive load factor');
  $reset(this);
}

defineClass(32, 325, $intern_120, HashMap, HashMap_0);
_.equals = function equals_38(value1, value2){
  return maskUndefined(value1) === maskUndefined(value2) || value1 != null && equals_Ljava_lang_Object__Z__devirtual$(value1, value2);
}
;
_.getHashCode = function getHashCode_0(key){
  var hashCode;
  hashCode = hashCode__I__devirtual$(key);
  return ~~hashCode;
}
;
var Ljava_util_HashMap_2_classLit = createForClass('java.util', 'HashMap', 32, Ljava_util_AbstractHashMap_2_classLit);
function $clinit_MovementList(){
  $clinit_MovementList = emptyMethod;
  Log_47 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'MovementList'));
}

function MovementList(newMovementList){
  $clinit_MovementList();
  var PathMovement, PathName, currentPath, currentline, i, len, param, paths, pathsData, pdlength, pdp, value_0;
  HashMap.call(this);
  $info_1(Log_47, 'processing movement: ' + newMovementList);
  paths = $split_0(newMovementList, '-Path', 0);
  i = 0;
  len = paths.length;
  while (i < len) {
    currentPath = $trim(paths[i]);
    ++i;
    PathMovement = null;
    PathName = null;
    pathsData = $split_0(currentPath, '\n', 0);
    pdp = 0;
    pdlength = pathsData.length;
    while (pdp < pdlength) {
      currentline = $trim(pathsData[pdp]);
      ++pdp;
      if (currentline.length < 2) {
        continue;
      }
      param = $trim($split_0(currentline, '=', 2)[0]);
      value_0 = $trim($split_0(currentline, '=', 2)[1]);
      $equalsIgnoreCase(param, 'name') && (PathName = value_0);
      $equalsIgnoreCase(param, 'movement') && (PathMovement = value_0);
    }
    PathName != null && PathMovement != null && $putStringValue(this, PathName, new MovementPath_0(PathMovement, PathName));
  }
}

defineClass(473, 32, $intern_120, MovementList);
var Log_47;
var Lcom_lostagain_Jam_Movements_MovementList_2_classLit = createForClass('com.lostagain.Jam.Movements', 'MovementList', 473, Ljava_util_HashMap_2_classLit);
function $$init_14(this$static){
  this$static.currentmovementtype = ($clinit_MovementState$MovementStateType() , None_0);
  this$static.movement_current_pos = new Simple3DPoint(-1, -1, -1);
  this$static.movement_vel = new SimpleVector3(0, 0, 0);
  this$static.movement_dest = new Simple3DPoint(-1, -1, -1);
  this$static.movement_SC = new SimpleVector3(-1, -1, -1);
  this$static.movement_CC = new SimpleVector3(-1, -1, -1);
  this$static.movement_acc = new SimpleVector3(0, 0, 0);
}

function $addVelocity(this$static, impulseMag){
  $add_19(this$static.movement_vel, impulseMag);
}

function $clearMovements(this$static){
  this$static.currentmovementtype = ($clinit_MovementState$MovementStateType() , None_0);
  this$static.movement_current_pos = new Simple3DPoint(-1, -1, -1);
  this$static.movement_vel = new SimpleVector3(0, 0, 0);
  this$static.movement_acc = new SimpleVector3(0, 0, 0);
  this$static.movement_dest = new Simple3DPoint(-1, -1, -1);
  this$static.currentmovementpath = '';
  this$static.movement_currentWaypoint = -1;
  this$static.movement_SC.x_0 = -1;
  this$static.movement_SC.y_0 = -1;
  this$static.movement_SC.z_0 = -1;
  this$static.movement_CC.x_0 = -1;
  this$static.movement_CC.y_0 = -1;
  this$static.movement_CC.z_0 = -1;
  this$static.movement_speed = -1;
  this$static.movement_curveTime = 0;
  this$static.movement_curveTimeStep = 0;
  this$static.bounceEnergyRetention = 1;
}

function $copy(this$static){
  var newcopy;
  newcopy = new MovementState_0(this$static.currentmovementpath, this$static.currentmovementtype, this$static.movement_currentWaypoint, this$static.movement_SC, this$static.movement_CC, this$static.movement_dest, this$static.movement_vel, this$static.movement_acc, this$static.movement_current_pos, this$static.movement_speed, this$static.movement_curveTime, this$static.movement_curveTimeStep, this$static.bounceEnergyRetention);
  return newcopy;
}

function $getAllFieldsAsArrayList(this$static){
  var fieldList;
  fieldList = new ArrayList;
  fieldList.add_0($name(this$static.currentmovementtype));
  if (this$static.currentmovementtype != ($clinit_MovementState$MovementStateType() , None_0)) {
    fieldList.add_0(this$static.currentmovementpath);
    fieldList.add_0(valueOf_45(this$static.movement_currentWaypoint));
    fieldList.add_0(new Double(this$static.movement_SC.x_0));
    fieldList.add_0(new Double(this$static.movement_SC.y_0));
    fieldList.add_0(new Double(this$static.movement_SC.z_0));
    fieldList.add_0(new Double(this$static.movement_CC.x_0));
    fieldList.add_0(new Double(this$static.movement_CC.y_0));
    fieldList.add_0(new Double(this$static.movement_CC.z_0));
    fieldList.add_0(valueOf_45(this$static.movement_dest.x_0));
    fieldList.add_0(valueOf_45(this$static.movement_dest.y_0));
    fieldList.add_0(valueOf_45(this$static.movement_dest.z_0));
    fieldList.add_0(new Double(this$static.movement_vel.x_0));
    fieldList.add_0(new Double(this$static.movement_vel.y_0));
    fieldList.add_0(new Double(this$static.movement_vel.z_0));
    fieldList.add_0(new Double(this$static.movement_acc.x_0));
    fieldList.add_0(new Double(this$static.movement_acc.y_0));
    fieldList.add_0(new Double(this$static.movement_acc.z_0));
    fieldList.add_0(valueOf_45(this$static.movement_current_pos.x_0));
    fieldList.add_0(valueOf_45(this$static.movement_current_pos.y_0));
    fieldList.add_0(valueOf_45(this$static.movement_current_pos.z_0));
    fieldList.add_0(valueOf_45(round_int(this$static.movement_speed * 10000)));
    fieldList.add_0(new Double(this$static.bounceEnergyRetention));
  }
  return fieldList;
}

function $loadParameters(this$static, incomingdata){
  this$static.currentmovementtype = valueOf_29(dynamicCastToString(incomingdata.next_0()));
  if (this$static.currentmovementtype == ($clinit_MovementState$MovementStateType() , None_0)) {
    return;
  }
  this$static.currentmovementpath = dynamicCastToString(incomingdata.next_0());
  this$static.movement_currentWaypoint = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_SC.x_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_SC.y_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_SC.z_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_CC.x_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_CC.y_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_CC.z_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_dest.x_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_dest.y_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_dest.z_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_vel.x_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_vel.y_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_vel.z_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_acc.x_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_acc.y_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_acc.z_0 = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
  this$static.movement_current_pos.x_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_current_pos.y_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_current_pos.z_0 = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.movement_speed = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.bounceEnergyRetention = __parseAndValidateDouble(dynamicCastToString(incomingdata.next_0()));
}

function $setAcceleration(this$static){
  this$static.movement_acc.x_0 = 0;
  this$static.movement_acc.y_0 = 0;
  this$static.movement_acc.z_0 = -9.81E-4;
}

function $setBounceEnergyRetention(this$static, bounceEnergyRetention){
  this$static.bounceEnergyRetention = bounceEnergyRetention;
}

function $setPosition_0(this$static, x_0, y_0, z_0){
  this$static.movement_current_pos.x_0 = x_0;
  this$static.movement_current_pos.y_0 = y_0;
  this$static.movement_current_pos.z_0 = z_0;
}

function $setTo(this$static, moveState){
  this$static.currentmovementpath = moveState.currentmovementpath;
  this$static.currentmovementtype = moveState.currentmovementtype;
  this$static.movement_currentWaypoint = moveState.movement_currentWaypoint;
  this$static.movement_SC = $copy_1(moveState.movement_SC);
  this$static.movement_CC = $copy_1(moveState.movement_CC);
  this$static.movement_dest = $copy_0(moveState.movement_dest);
  this$static.movement_vel = $copy_1(moveState.movement_vel);
  this$static.movement_acc = $copy_1(moveState.movement_acc);
  this$static.movement_current_pos = moveState.movement_current_pos;
  this$static.movement_speed = moveState.movement_speed;
  this$static.movement_curveTime = moveState.movement_curveTime;
  this$static.movement_curveTimeStep = moveState.movement_curveTimeStep;
  this$static.bounceEnergyRetention = moveState.bounceEnergyRetention;
}

function $setVelocity(this$static){
  this$static.movement_vel.x_0 = 0;
  this$static.movement_vel.y_0 = 0;
  this$static.movement_vel.z_0 = 0;
}

function $toString_11(this$static){
  return 'movementState [, currentMovementType=' + this$static.currentmovementtype + ', currentmovementpath=' + this$static.currentmovementpath + ', movement_currentWaypoint=' + this$static.movement_currentWaypoint + ', movement_current_pos=' + $toString_12(this$static.movement_current_pos) + ', movement_SX=' + $toString_13(this$static.movement_SC) + ', movement_CX=' + $toString_13(this$static.movement_CC) + ', movement_dest' + $toString_12(this$static.movement_dest) + ', movement_vel=' + $toString_13(this$static.movement_vel) + ', movement_speed=' + this$static.movement_speed + ', movement_curveTime=' + this$static.movement_curveTime + ', movement_curveTimeStep=' + this$static.movement_curveTimeStep + ']';
}

function $updateVelocity(this$static, deltatime){
  this$static.movement_vel.x_0 = this$static.movement_vel.x_0 + this$static.movement_acc.x_0 * deltatime;
  this$static.movement_vel.y_0 = this$static.movement_vel.y_0 + this$static.movement_acc.y_0 * deltatime;
  this$static.movement_vel.z_0 = this$static.movement_vel.z_0 + this$static.movement_acc.z_0 * deltatime;
}

function MovementState(){
  $$init_14(this);
}

function MovementState_0(currentmovement, currentmovementtype, movement_currentWaypoint, movement_SC, movement_CC, movement_dest, movement_vel, movement_acc, movement_current, movement_speed, movement_curveTime, movement_curveTimeStep, bounceEnergyRetention){
  $$init_14(this);
  this.currentmovementpath = currentmovement;
  this.currentmovementtype = currentmovementtype;
  this.movement_currentWaypoint = movement_currentWaypoint;
  this.movement_SC = movement_SC;
  this.movement_CC = movement_CC;
  this.movement_dest = movement_dest;
  this.movement_vel = movement_vel;
  this.movement_acc = movement_acc;
  this.movement_current_pos = movement_current;
  this.movement_speed = movement_speed;
  this.movement_curveTime = movement_curveTime;
  this.movement_curveTimeStep = movement_curveTimeStep;
  this.bounceEnergyRetention = bounceEnergyRetention;
}

defineClass(472, 1, {}, MovementState, MovementState_0);
_.toString$ = function toString_63(){
  return $toString_11(this);
}
;
_.bounceEnergyRetention = 1;
_.currentmovementpath = '';
_.movement_currentWaypoint = -1;
_.movement_curveTime = 0;
_.movement_curveTimeStep = 0;
_.movement_speed = -1;
var Lcom_lostagain_Jam_Movements_MovementState_2_classLit = createForClass('com.lostagain.Jam.Movements', 'MovementState', 472, Ljava_lang_Object_2_classLit);
function $clinit_MovementState$MovementStateType(){
  $clinit_MovementState$MovementStateType = emptyMethod;
  None_0 = new MovementState$MovementStateType('None', 0);
  PhysicsBased = new MovementState$MovementStateType('PhysicsBased', 1);
  OnLinePath = new MovementState$MovementStateType('OnLinePath', 2);
  OnCurvePath = new MovementState$MovementStateType('OnCurvePath', 3);
}

function MovementState$MovementStateType(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_29(name_0){
  $clinit_MovementState$MovementStateType();
  return valueOf(($clinit_MovementState$MovementStateType$Map() , $MAP_27), name_0);
}

function values_35(){
  $clinit_MovementState$MovementStateType();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_Movements_MovementState$MovementStateType_2_classLit, 1), $intern_1, 244, 0, [None_0, PhysicsBased, OnLinePath, OnCurvePath]);
}

defineClass(244, 9, {244:1, 3:1, 21:1, 9:1}, MovementState$MovementStateType);
var None_0, OnCurvePath, OnLinePath, PhysicsBased;
var Lcom_lostagain_Jam_Movements_MovementState$MovementStateType_2_classLit = createForEnum('com.lostagain.Jam.Movements', 'MovementState/MovementStateType', 244, Ljava_lang_Enum_2_classLit, values_35, valueOf_29);
function $clinit_MovementState$MovementStateType$Map(){
  $clinit_MovementState$MovementStateType$Map = emptyMethod;
  $MAP_27 = createValueOfMap(($clinit_MovementState$MovementStateType() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_Movements_MovementState$MovementStateType_2_classLit, 1), $intern_1, 244, 0, [None_0, PhysicsBased, OnLinePath, OnCurvePath])));
}

var $MAP_27;
function $clinit_MovementWaypoint(){
  $clinit_MovementWaypoint = emptyMethod;
  Log_48 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.MovementWaypoint'));
}

function $$init_15(this$static){
  this$static.pos = new Simple3DPoint(0, 0, 0);
  this$static.midPoint1 = new Simple3DPoint(0, 0, 0);
  this$static.midPoint2 = new Simple3DPoint(0, 0, 0);
}

function $equalsLocation(this$static, nsp){
  if (nsp.x_0 == this$static.pos.x_0) {
    if (nsp.y_0 == this$static.pos.y_0) {
      return true;
    }
  }
  return false;
}

function MovementWaypoint(x_0, y_0, mx, my){
  $clinit_MovementWaypoint();
  $$init_15(this);
  this.pos.x_0 = x_0;
  this.pos.y_0 = y_0;
  this.midPoint1.x_0 = mx;
  this.midPoint1.y_0 = my;
  this.type_0 = ($clinit_MovementWaypoint$MovementType() , RelativeQCurveToo);
}

function MovementWaypoint_0(x_0, y_0, z_0, type_0){
  $clinit_MovementWaypoint();
  $$init_15(this);
  this.pos.x_0 = x_0;
  this.pos.y_0 = y_0;
  this.pos.z_0 = z_0;
  this.type_0 = type_0;
}

function MovementWaypoint_1(x_0, y_0, type_0){
  $clinit_MovementWaypoint();
  MovementWaypoint_0.call(this, x_0, y_0, 0, type_0);
}

function MovementWaypoint_2(currentType, targetpos){
  $clinit_MovementWaypoint();
  $$init_15(this);
  this.pos = new Simple3DPoint(targetpos.x_0, targetpos.y_0, targetpos.z_0);
  this.type_0 = currentType;
}

function MovementWaypoint_3(currentType, cp1, targetpos){
  $clinit_MovementWaypoint();
  $$init_15(this);
  this.pos = new Simple3DPoint(targetpos.x_0, targetpos.y_0, targetpos.z_0);
  this.midPoint1 = new Simple3DPoint(cp1.x_0, cp1.y_0, cp1.z_0);
  this.type_0 = currentType;
}

function MovementWaypoint_4(currentType, cp1, cp2, targetpos){
  $clinit_MovementWaypoint();
  $$init_15(this);
  this.midPoint1 = new Simple3DPoint(cp1.x_0, cp1.y_0, cp1.z_0);
  this.midPoint2 = new Simple3DPoint(cp2.x_0, cp2.y_0, cp2.z_0);
  this.pos = new Simple3DPoint(targetpos.x_0, targetpos.y_0, targetpos.z_0);
  this.type_0 = currentType;
}

function MovementWaypoint_5(command){
  $clinit_MovementWaypoint();
  $$init_15(this);
  this.pos.x_0 = 0;
  this.pos.y_0 = 0;
  this.InternalRunnable = command;
  this.type_0 = ($clinit_MovementWaypoint$MovementType() , InternalRunnable);
}

function MovementWaypoint_6(Command){
  $clinit_MovementWaypoint();
  $$init_15(this);
  this.pos.x_0 = 0;
  this.pos.y_0 = 0;
  this.Command = StringToCommandList(Command);
  this.type_0 = ($clinit_MovementWaypoint$MovementType() , Command_0);
}

defineClass(23, 1, {23:1}, MovementWaypoint, MovementWaypoint_0, MovementWaypoint_1, MovementWaypoint_2, MovementWaypoint_3, MovementWaypoint_4, MovementWaypoint_5, MovementWaypoint_6);
_.toString$ = function toString_64(){
  return this.type_0.svg_letter + ' to ' + $toString_12(this.pos);
}
;
var Log_48;
var Lcom_lostagain_Jam_Movements_MovementWaypoint_2_classLit = createForClass('com.lostagain.Jam.Movements', 'MovementWaypoint', 23, Ljava_lang_Object_2_classLit);
function $clinit_MovementWaypoint$MovementType(){
  $clinit_MovementWaypoint$MovementType = emptyMethod;
  AbsoluteMove = new MovementWaypoint$MovementType_0('AbsoluteMove', 0, 'M');
  AbsoluteLineTo = new MovementWaypoint$MovementType_0('AbsoluteLineTo', 1, 'L');
  AbsoluteLoopToStart = new MovementWaypoint$MovementType_0('AbsoluteLoopToStart', 2, 'Z');
  Command_0 = new MovementWaypoint$MovementType('Command', 3);
  InternalRunnable = new MovementWaypoint$MovementType('InternalRunnable', 4);
  AbsoluteQCurveToo = new MovementWaypoint$MovementType_0('AbsoluteQCurveToo', 5, 'Q');
  AbsoluteCCurveToo = new MovementWaypoint$MovementType_0('AbsoluteCCurveToo', 6, 'C');
  RelativeMove = new MovementWaypoint$MovementType_1('RelativeMove', 7, 'm');
  RelativeLineTo = new MovementWaypoint$MovementType_1('RelativeLineTo', 8, 'l');
  RelativeQCurveToo = new MovementWaypoint$MovementType_1('RelativeQCurveToo', 9, 'q');
  RelativeCCurveToo = new MovementWaypoint$MovementType_1('RelativeCCurveToo', 10, 'c');
}

function $$init_16(this$static){
}

function MovementWaypoint$MovementType(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
  $$init_16(this);
  this.svg_letter = '';
}

function MovementWaypoint$MovementType_0(enum$name, enum$ordinal, letter){
  Enum.call(this, enum$name, enum$ordinal);
  $$init_16(this);
  this.svg_letter = letter;
  this.relativeMode = false;
}

function MovementWaypoint$MovementType_1(enum$name, enum$ordinal, letter){
  Enum.call(this, enum$name, enum$ordinal);
  $$init_16(this);
  this.svg_letter = letter;
  this.relativeMode = true;
}

function getFromString(letter){
  $clinit_MovementWaypoint$MovementType();
  var newmovementtype;
  switch (letter) {
    case 'M':
      newmovementtype = AbsoluteMove;
      break;
    case 'L':
      newmovementtype = AbsoluteLineTo;
      break;
    case 'z':
    case 'Z':
      newmovementtype = AbsoluteLoopToStart;
      break;
    case 'Q':
      newmovementtype = AbsoluteQCurveToo;
      break;
    case 'C':
      newmovementtype = AbsoluteCCurveToo;
      break;
    case 'm':
      newmovementtype = RelativeMove;
      break;
    case 'l':
      newmovementtype = RelativeLineTo;
      break;
    case 'q':
      newmovementtype = RelativeQCurveToo;
      break;
    case 'c':
      newmovementtype = RelativeCCurveToo;
      break;
    default:$severe_0(($clinit_MovementWaypoint() , Log_48), 'not recgonised svg letter:' + letter);
      newmovementtype = AbsoluteMove;
  }
  $info_1(($clinit_MovementWaypoint() , Log_48), 'parsed svg string letter ' + letter + ' as ' + (newmovementtype.name_0 != null?newmovementtype.name_0:'' + newmovementtype.ordinal));
  return newmovementtype;
}

function valueOf_30(name_0){
  $clinit_MovementWaypoint$MovementType();
  return valueOf(($clinit_MovementWaypoint$MovementType$Map() , $MAP_28), name_0);
}

function values_36(){
  $clinit_MovementWaypoint$MovementType();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_Movements_MovementWaypoint$MovementType_2_classLit, 1), $intern_1, 152, 0, [AbsoluteMove, AbsoluteLineTo, AbsoluteLoopToStart, Command_0, InternalRunnable, AbsoluteQCurveToo, AbsoluteCCurveToo, RelativeMove, RelativeLineTo, RelativeQCurveToo, RelativeCCurveToo]);
}

defineClass(152, 9, {152:1, 3:1, 21:1, 9:1}, MovementWaypoint$MovementType, MovementWaypoint$MovementType_0, MovementWaypoint$MovementType_1);
_.relativeMode = false;
_.svg_letter = '';
var AbsoluteCCurveToo, AbsoluteLineTo, AbsoluteLoopToStart, AbsoluteMove, AbsoluteQCurveToo, Command_0, InternalRunnable, RelativeCCurveToo, RelativeLineTo, RelativeMove, RelativeQCurveToo;
var Lcom_lostagain_Jam_Movements_MovementWaypoint$MovementType_2_classLit = createForEnum('com.lostagain.Jam.Movements', 'MovementWaypoint/MovementType', 152, Ljava_lang_Enum_2_classLit, values_36, valueOf_30);
function $clinit_MovementWaypoint$MovementType$Map(){
  $clinit_MovementWaypoint$MovementType$Map = emptyMethod;
  $MAP_28 = createValueOfMap(values_36());
}

var $MAP_28;
function Simple2DPoint(x_0, y_0){
  this.x_0 = x_0;
  this.y_0 = y_0;
}

defineClass(66, 1, {}, Simple2DPoint);
_.toString$ = function toString_65(){
  return this.x_0 + ',' + this.y_0;
}
;
_.x_0 = 0;
_.y_0 = 0;
var Lcom_lostagain_Jam_Movements_Simple2DPoint_2_classLit = createForClass('com.lostagain.Jam.Movements', 'Simple2DPoint', 66, Ljava_lang_Object_2_classLit);
function $copy_0(this$static){
  return new Simple3DPoint(this$static.x_0, this$static.y_0, this$static.z_0);
}

function $toString_12(this$static){
  return this$static.x_0 + ',' + this$static.y_0 + ',' + this$static.z_0;
}

function Simple3DPoint(x_0, y_0, z_0){
  this.x_0 = x_0;
  this.y_0 = y_0;
  this.z_0 = z_0;
}

function Simple3DPoint_0(commaSeperatedCoOrdinates){
  var cparray, cx, cy, cz;
  cparray = $split_0(commaSeperatedCoOrdinates, ',', 0);
  cx = cparray[0];
  cy = cparray[1];
  this.x_0 = __parseAndValidateInt(cx, 10);
  this.y_0 = __parseAndValidateInt(cy, 10);
  if (cparray.length == 3) {
    cz = cparray[2];
    this.z_0 = __parseAndValidateInt(cz, 10);
  }
   else {
    this.z_0 = 0;
  }
}

defineClass(99, 1, {}, Simple3DPoint, Simple3DPoint_0);
_.toString$ = function toString_66(){
  return $toString_12(this);
}
;
_.x_0 = 0;
_.y_0 = 0;
_.z_0 = 0;
var Lcom_lostagain_Jam_Movements_Simple3DPoint_2_classLit = createForClass('com.lostagain.Jam.Movements', 'Simple3DPoint', 99, Ljava_lang_Object_2_classLit);
function $add_19(this$static, val){
  this$static.x_0 = this$static.x_0 + val.x_0;
  this$static.y_0 = this$static.y_0 + val.y_0;
  this$static.z_0 = this$static.y_0 + val.z_0;
}

function $copy_1(this$static){
  return new SimpleVector3(this$static.x_0, this$static.y_0, this$static.z_0);
}

function $toString_13(this$static){
  return this$static.x_0 + ',' + this$static.y_0 + ',' + this$static.z_0;
}

function SimpleVector3(x_0, y_0, z_0){
  this.x_0 = x_0;
  this.y_0 = y_0;
  this.z_0 = z_0;
}

defineClass(185, 1, {}, SimpleVector3);
_.toString$ = function toString_67(){
  return $toString_13(this);
}
;
_.x_0 = 0;
_.y_0 = 0;
_.z_0 = 0;
var Lcom_lostagain_Jam_Movements_SimpleVector3_2_classLit = createForClass('com.lostagain.Jam.Movements', 'SimpleVector3', 185, Ljava_lang_Object_2_classLit);
function $clinit_OptionalImplementations(){
  $clinit_OptionalImplementations = emptyMethod;
  Log_49 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JamCore.OptionalImplementations'));
  mouseCursorImplementation = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  WebGameFunctionsImplementation = (null , INSTANCE);
  CuypersCodeFunctionsImplementation = (null , INSTANCE);
  JamAudioControllerImplementation = (null , INSTANCE);
  StringCompressionMethod = (null , INSTANCE);
  gamesLoadMonitor = (null , INSTANCE);
  ImagePreloader = (null , INSTANCE);
  PageStyleCommandImplemention = (null , INSTANCE);
}

function Cuypers_SetSoldierURL(iconloc, iconframes){
  $clinit_OptionalImplementations();
  CuypersCodeFunctionsImplementation.isPresent() && $setSoldierURL((dynamicCast(CuypersCodeFunctionsImplementation.get_1(), 416) , iconloc), iconframes);
}

function Cuypers_StatueHeadUrl(iconloc, iconframes){
  $clinit_OptionalImplementations();
  CuypersCodeFunctionsImplementation.isPresent() && $setStatueHeadUrl((dynamicCast(CuypersCodeFunctionsImplementation.get_1(), 416) , iconloc), iconframes);
}

function SetAudioControllerFunctions(impl){
  $clinit_OptionalImplementations();
  JamAudioControllerImplementation = new Present(checkNotNull(impl));
}

function SetCompressionSystemFunctions(impl){
  $clinit_OptionalImplementations();
  StringCompressionMethod = new Present(checkNotNull(impl));
}

function SetCuypersCodeSpecificFunctions(impl){
  $clinit_OptionalImplementations();
  CuypersCodeFunctionsImplementation = new Present(checkNotNull(impl));
}

function SetImagePreloadFunctions(impl){
  $clinit_OptionalImplementations();
  ImagePreloader = new Present(checkNotNull(impl));
}

function SetMouseVisualImplementation(mouseImplementation){
  $clinit_OptionalImplementations();
  mouseCursorImplementation = new Present(checkNotNull(mouseImplementation));
}

function SetWebGameFunctionality(impl){
  $clinit_OptionalImplementations();
  WebGameFunctionsImplementation = new Present(checkNotNull(impl));
}

function addMusicTrack(trackname, autoPlay, Volume, fadeOver){
  $clinit_OptionalImplementations();
  JamAudioControllerImplementation.isPresent() && $addMusicTrack_implementation((dynamicCast(dynamicCast(JamAudioControllerImplementation.get_1(), 150), 194) , trackname), autoPlay, Volume, fadeOver);
}

function playAudioTrack(ThisTrackName, targetVolume, fadeInAndOut, audiotype, FadeOver){
  $clinit_OptionalImplementations();
  JamAudioControllerImplementation.isPresent() && $playAudioTrack_implementation((dynamicCast(dynamicCast(JamAudioControllerImplementation.get_1(), 150), 194) , ThisTrackName), targetVolume, fadeInAndOut, audiotype, FadeOver);
}

function playDefaultSound(type_0){
  $clinit_OptionalImplementations();
  JamAudioControllerImplementation.isPresent() && $playDefaultSound((dynamicCast(JamAudioControllerImplementation.get_1(), 150) , type_0));
}

function setPageStyleCommandImplemention(pageStyleCommandImplemention){
  $clinit_OptionalImplementations();
  PageStyleCommandImplemention = new Present(checkNotNull(pageStyleCommandImplemention));
  $clinit_SceneObjectState();
  THIS_IS_A_HTML_GAME = true;
}

var CuypersCodeFunctionsImplementation, ImagePreloader, JamAudioControllerImplementation, Log_49, PageStyleCommandImplemention, StringCompressionMethod, WebGameFunctionsImplementation, gamesLoadMonitor, mouseCursorImplementation;
function $clinit_PageLoadingData(){
  $clinit_PageLoadingData = emptyMethod;
  PageLoadingQueue = new ArrayList;
}

function PageLoadingData(pageURL, chapterToPlaceItOn){
  $clinit_PageLoadingData();
  this.pageURL = pageURL;
  this.chapterToPlaceItOn = chapterToPlaceItOn;
}

defineClass(350, 1, {350:1}, PageLoadingData);
var PageLoadingQueue;
var Lcom_lostagain_Jam_PageLoadingData_2_classLit = createForClass('com.lostagain.Jam', 'PageLoadingData', 350, Ljava_lang_Object_2_classLit);
defineClass(781, 1, {});
_.NotepadOpen = false;
var Lcom_lostagain_Jam_PlayersNotebookCore_2_classLit = createForClass('com.lostagain.Jam', 'PlayersNotebookCore', 781, Ljava_lang_Object_2_classLit);
function $clinit_RequiredImplementations(){
  $clinit_RequiredImplementations = emptyMethod;
  Log_50 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.RequiredImplementations'));
  BasicGameInformationImplemention = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  BasicGameFunctionsImplemention = (null , INSTANCE);
  interfaceVisualElements_0 = (null , INSTANCE);
  screenManager = (null , INSTANCE);
  saveManager = (null , INSTANCE);
}

function PositionByCoOrdinates(placeThis, x_0, y_0){
  $clinit_RequiredImplementations();
  screenManager.isPresent()?$PositionByCoOrdinates((dynamicCast(screenManager.get_1(), 108) , placeThis), x_0, y_0):$severe_0(Log_50, 'Can not place element by co-ordinates: No screenManager was supplied during setup');
}

function PositionByTag(placeThis, atThisTag){
  $clinit_RequiredImplementations();
  screenManager.isPresent()?$PositionByTag((dynamicCast(screenManager.get_1(), 108) , placeThis)):$severe_0(Log_50, 'Can not place sceneobject by tag ' + atThisTag + ': No screenManager was supplied during setup');
}

function PositionByTag_0(placeThis, atThisTag){
  $clinit_RequiredImplementations();
  screenManager.isPresent()?$PositionByTag_0((dynamicCast(screenManager.get_1(), 108) , placeThis), atThisTag):$severe_0(Log_50, 'Can not place element by tag ' + atThisTag + ': No screenManager was supplied during setup');
}

function setAllRequiredImplementations(interfaceVisualElements, screenManagerImplementation, BasicGameFunctionsImp, savemanager, chapterControll){
  $clinit_RequiredImplementations();
  interfaceVisualElements_0 = new Present(interfaceVisualElements);
  screenManager = new Present(checkNotNull(screenManagerImplementation));
  BasicGameFunctionsImplemention = new Present(checkNotNull(BasicGameFunctionsImp));
  $clinit_JAMcore();
  GameLogger = new SpiffyLogBox;
  saveManager = !savemanager?($clinit_Absent() , $clinit_Absent() , INSTANCE):new Present(savemanager);
  GamesChaptersPanel = chapterControll;
  return null;
}

function setBasicGameInformationImplemention(basicGameInformationImplemention){
  $clinit_RequiredImplementations();
  BasicGameInformationImplemention = new Present(checkNotNull(basicGameInformationImplemention));
  setupEngineVariables((dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $get_9(($clinit_BasicGameInformationImp() , theme), 'gamename')), (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , getHostPageBaseURL()), (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $get_9(theme, 'localloc')), (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $get_9(theme, 'language')), (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $clinit_Boolean() , $equalsIgnoreCase('true', $get_9(theme, 'requirelogin'))), (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $equalsIgnoreCase('true', $get_9(theme, 'hasserversave'))), (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $equalsIgnoreCase('true', $get_9(theme, 'disableautosave'))), (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $get_9(theme, 'quality')), (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $get_9(theme, 'debug')));
  return null;
}

function setCurrentFeedbackRunAfter(runnable){
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setCurrentFeedbackRunAfter((dynamicCast(interfaceVisualElements_0.get_1(), 123) , runnable));
}

function setCurrentFeedbackText(text_0){
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setCurrentFeedbackText((dynamicCast(interfaceVisualElements_0.get_1(), 123) , text_0));
}

function setCurrentFeedbackTextDelay(delay){
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setCurrentFeedbackTextDelay((dynamicCast(interfaceVisualElements_0.get_1(), 123) , delay));
}

function setCurrentFeedbackTextSpeed(parseInt_0){
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setCurrentFeedbackTextSpeed((dynamicCast(interfaceVisualElements_0.get_1(), 123) , parseInt_0));
}

function setFeedbackKeyBeep(trackName){
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setFeedbackKeyBeep((dynamicCast(interfaceVisualElements_0.get_1(), 123) , trackName));
}

function setFeedbackSpaceKeyBeep(trackName){
  $clinit_RequiredImplementations();
  interfaceVisualElements_0.isPresent() && $setFeedbackSpaceKeyBeep((dynamicCast(interfaceVisualElements_0.get_1(), 123) , trackName));
}

function setWindowTitle(string){
  $clinit_RequiredImplementations();
  BasicGameFunctionsImplemention.isPresent() && setTitle((dynamicCast(BasicGameFunctionsImplemention.get_1(), 519) , string));
}

var BasicGameFunctionsImplemention, BasicGameInformationImplemention, Log_50, interfaceVisualElements_0, saveManager, screenManager;
function $clinit_JamSaveGameManager(){
  $clinit_JamSaveGameManager = emptyMethod;
  Log_51 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMCore.SaveGameManager'));
}

function decompressAndLoad(totalGameData, ClearGameFirst){
  $clinit_JamSaveGameManager();
  var runwhendone;
  totalGameData = $replaceAll(totalGameData, '\\r\\n|\\r|\\n', ' ');
  $info_1(Log_51, 'loading:' + totalGameData);
  if ($equals_5(totalGameData.substr(0, 13), 'LoadGameData=')) {
    $info_1(Log_51, 'removing:LoadGameData= from save string');
    totalGameData = __substr(totalGameData, 13, totalGameData.length - 13);
  }
  if (!$endsWith(totalGameData, '__end')) {
    $severe_0(Log_51, 'Save game data incomplete, no end marker found.');
    $severe_0(Log_51, 'Last characters in save string was:   ' + $substring_0(totalGameData, totalGameData.length - 15, totalGameData.length));
    return;
  }
  totalGameData = $substring_0(totalGameData, 0, totalGameData.indexOf('__end'));
  runwhendone = new JamSaveGameManager$1(ClearGameFirst);
  if (($clinit_OptionalImplementations() , StringCompressionMethod).isPresent()) {
    $info_1(Log_51, 'decompressing string');
    DecompressString((dynamicCast(StringCompressionMethod.get_1(), 1451) , totalGameData), new SaveGameManager$29(runwhendone));
  }
   else {
    $info_1(Log_51, 'no decompression system found, assuming game doesnt use compression for its saves');
    $displayAndLoadDecompressedString((dynamicCast(($clinit_RequiredImplementations() , saveManager).get_1(), 180) , totalGameData), runwhendone.val$ClearGameFirst1);
  }
}

defineClass(180, 1, {180:1});
var Log_51;
var Lcom_lostagain_Jam_SaveMangement_JamSaveGameManager_2_classLit = createForClass('com.lostagain.Jam.SaveMangement', 'JamSaveGameManager', 180, Ljava_lang_Object_2_classLit);
function $gotResult(this$static, result){
  $displayAndLoadDecompressedString((dynamicCast(($clinit_RequiredImplementations() , saveManager).get_1(), 180) , result), this$static.val$ClearGameFirst1);
}

function JamSaveGameManager$1(val$ClearGameFirst){
  this.val$ClearGameFirst1 = val$ClearGameFirst;
}

defineClass(613, 1, {}, JamSaveGameManager$1);
_.val$ClearGameFirst1 = false;
var Lcom_lostagain_Jam_SaveMangement_JamSaveGameManager$1_2_classLit = createForClass('com.lostagain.Jam.SaveMangement', 'JamSaveGameManager/1', 613, Ljava_lang_Object_2_classLit);
function $clinit_SceneData(){
  $clinit_SceneData = emptyMethod;
  Log_52 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMCore.SceneData'));
}

function $addToScenesObjects(this$static, object){
  if ($indexOf_0(this$static.scenesCurrentObjects, object, 0) != -1) {
    return true;
  }
  return this$static.scenesCurrentObjects.add_0(object);
}

function $allScenesCurrentObjects(this$static){
  !this$static.unmodifableListOfScenesCurrentObjects && (this$static.unmodifableListOfScenesCurrentObjects = unmodifiableList(this$static.scenesCurrentObjects));
  return this$static.unmodifableListOfScenesCurrentObjects;
}

function $extractAllImageURLs(this$static, allactions, defaultItemUrl, defaultObject){
  var advanceLoading, baseURL, bframeName, currentNum, currentObject, imageURL, itemURL, locStart, nextComa, nextComaEnd, nextImageEnd, nextImageStart, nextImageStartb, nfs, numFrames, objectName, objectURLisAppliedtoo, pos, successfullyAddedToLoading;
  defaultItemUrl == null && (defaultItemUrl = '');
  defaultItemUrl.indexOf('.') != -1 && (defaultItemUrl = $split_0(defaultItemUrl, '0\\.', 0)[0]);
  if (allactions.length < 4) {
    return;
  }
  pos = 0;
  advanceLoading = new SceneData$1(this$static);
  objectURLisAppliedtoo = null;
  while (pos < allactions.length) {
    itemURL = defaultItemUrl;
    nextImageEnd = allactions.indexOf('.png', pos);
    if (nextImageEnd == -1) {
      break;
    }
    nextImageStart = allactions.lastIndexOf('=', nextImageEnd) + 1;
    nextImageStartb = allactions.lastIndexOf(',', nextImageEnd) + 1;
    nextImageEnd = nextImageEnd + 4;
    if (nextImageStartb > nextImageStart) {
      nextImageStart = nextImageStartb;
      locStart = allactions.lastIndexOf('=', nextImageStartb) + 1;
      objectName = $trim(allactions.substr(locStart, nextImageStartb - 1 - locStart));
      $info_1(Log_52, 'preloader itemname is for:' + objectName);
      objectURLisAppliedtoo = getSingleSceneObjectNEW(objectName, null, true);
      if (!objectURLisAppliedtoo) {
        $info_1(Log_52, 'cant find object ' + objectName + ' that is going to have its url set (in a statement in object ' + defaultItemUrl + '');
        $info_1(Log_52, 'dont panic, this just means your likely going to get some 404 and the frames wont be cached before loading. This can happen if a scene does stuff to a scene not yet loaded');
        $info_1(Log_52, 'which should be avoided');
      }
       else {
        itemURL = objectURLisAppliedtoo.folderName;
      }
    }
    $info_1(Log_52, '_nextImageStart:' + nextImageStart);
    imageURL = $trim(allactions.substr(nextImageStart, nextImageEnd - nextImageStart));
    $info_1(Log_52, '_Image url found:' + imageURL);
    nextComa = allactions.indexOf(',', nextImageEnd);
    if (nextComa == -1) {
      pos = nextImageEnd + 1;
      continue;
    }
    nextComa = nextComa + 1;
    nextComaEnd = allactions.indexOf('\n', nextImageEnd);
    if (nextComaEnd == -1) {
      nextComaEnd = allactions.length;
      $info_1(Log_52, 'comma end set to length:' + nextComaEnd);
    }
    if (nextComaEnd < nextComa) {
      pos = nextImageEnd + 1;
      continue;
    }
    pos = nextComaEnd + 1;
    nfs = $trim(allactions.substr(nextComa, nextComaEnd - nextComa));
    try {
      numFrames = __parseAndValidateInt(nfs, 10);
      $info_1(Log_52, '_numFrames:' + numFrames);
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 105)) {
        $info_1(Log_52, 'no frame number found:' + pos);
        continue;
      }
       else 
        throw unwrap($e0);
    }
    bframeName = $split_0(imageURL, '0\\.', 0)[0];
    currentObject = defaultObject;
    !!objectURLisAppliedtoo && (currentObject = objectURLisAppliedtoo);
    $info_1(Log_52, '__frameName:' + imageURL + '__itemURL:' + itemURL + ' objectname:' + currentObject.getObjectsCurrentState_1().ObjectsName);
    baseURL = 'Game Scenes/' + currentObject.getInitialState_2().ObjectsSceneName + '/Objects/' + itemURL + '/';
    if (currentObject.getObjectsCurrentState_1().hasAttachmentPointFile) {
      $info_1(Log_52, 'Loading attachment points named:' + baseURL + bframeName + '.glu');
      $loadAttachmentPoints(currentObject, baseURL + bframeName + '.glu', ($clinit_Boolean() , $clinit_Boolean() , FALSE_2));
    }
    currentNum = 0;
    if (!($clinit_OptionalImplementations() , ImagePreloader).isPresent()) {
      return;
    }
    while (currentNum < numFrames) {
      successfullyAddedToLoading = addToLoading_0((dynamicCast(ImagePreloader.get_1(), 417) , baseURL + bframeName + currentNum + '.png'), advanceLoading);
      if (successfullyAddedToLoading) {
        $info_1(Log_52, '__added to loading::' + baseURL + bframeName + currentNum + '.png');
        $addToLoading(this$static.scenesWidget);
      }
       else {
        $info_1(Log_52, '__did not add to loading::' + baseURL + bframeName + currentNum + '.png probably because its already in the preloaders list');
      }
      ++currentNum;
    }
    $info_1(Log_52, 'starting  preloader if its not alreading running');
    dynamicCast(ImagePreloader.get_1(), 417);
    preloadList();
  }
  return;
}

function $extractItems(this$static, itemsourcefile){
  var ItemData, Parameters, actions, actionsFirstLine, allactionstring, atachmentPointUrl, currentItemData, currentObjectToCacheFrom, currentObjectToCacheFrom$iterator, datacomponants, itemnum, linebeforeColon, newObject, newobjectdata;
  if (itemsourcefile.indexOf('Item:') == -1) {
    $info_1(Log_52, '__________empty scene file__________');
    ($clinit_OptionalImplementations() , ImagePreloader).isPresent() && (dynamicCast(ImagePreloader.get_1(), 417) , preloadList());
    return;
  }
  ItemData = $split_0(itemsourcefile, '-Item:|[\n\r]Item:', 0);
  $info_1(Log_52, 'Total items found:' + ItemData.length);
  itemnum = 0;
  while (itemnum < ItemData.length) {
    currentItemData = $trim(ItemData[itemnum]);
    ++itemnum;
    if (currentItemData.length < 2) {
      continue;
    }
    if (currentItemData.indexOf('=') == -1) {
      continue;
    }
    $info_1(Log_52, 'extracting data from:\r' + currentItemData);
    actions = null;
    allactionstring = '';
    datacomponants = $split_0(currentItemData, ':[\\s]*\\n', 2);
    if (datacomponants.length == 1) {
      Parameters = currentItemData;
    }
     else {
      Parameters = $trim(datacomponants[0]);
      allactionstring = datacomponants[1];
      linebeforeColon = $lastIndexOf(Parameters, fromCodePoint(10));
      actionsFirstLine = __substr(Parameters, linebeforeColon, Parameters.length - linebeforeColon);
      Parameters = Parameters.substr(0, linebeforeColon);
      allactionstring = actionsFirstLine + ':\n' + allactionstring;
      actions = new ActionList_0(allactionstring);
    }
    newobjectdata = new SceneObjectState_2(Parameters);
    $info_1(Log_52, 'extractData done');
    if (newobjectdata.DONT_USE_THIS_OBJECT) {
      $info_1(Log_52, '(Not creating object due to games html quality setting not enough to support it');
      continue;
    }
    newobjectdata.ObjectsSceneName = this$static.scenesWidget.SceneFileName;
    if (newobjectdata.zindex == -1) {
      $info_1(Log_52, 'setting auto zindex based on element number, later ones are thus higher');
      newobjectdata.zindex = itemnum;
    }
    newObject = $createNewObjectImplementation(actions, newobjectdata, this$static.scenesWidget);
    !newObject && $severe_0(Log_52, 'Object type:' + newobjectdata.objectsPrimaryType + ' could not be constructed. Does it have a factory method?');
    $info_1(Log_52, 'adding new objects to lists');
    this$static.scenesCurrentObjects.add_0(newObject);
    this$static.scenesOriginalObjects.add_0(newObject);
    if (newobjectdata.positionedRelativeToo) {
      $ObjectsLog(newObject, 'assigning position relative to:' + newobjectdata.positionedRelativeToo.objectsCurrentState_2.ObjectsName, 1);
      $add_21(newobjectdata.positionedRelativeToo.relativeObjects, newObject);
    }
     else {
      $ObjectsLog(newObject, 'no object to position relative to present yet or set', 1);
      $ObjectsLog(newObject, 'positionRelativeToOnceLoaded:' + newobjectdata.positionRelativeToOnceLoaded, 1);
    }
    if (newobjectdata.hasAttachmentPointFile && newobjectdata.objectsPrimaryType != ($clinit_SceneObjectType() , Sprite)) {
      atachmentPointUrl = 'Game Scenes/' + newobjectdata.ObjectsSceneName + '/Objects/' + newObject.folderName + '/' + newObject.getObjectsCurrentState().ObjectsName + '.glu';
      $info_1(Log_52, 'Loading attachment Points for non-sprite object');
      $getAttachmentPointMovements(newObject, atachmentPointUrl);
    }
    this$static.rawObjectData.put(newObject, allactionstring);
  }
  for (currentObjectToCacheFrom$iterator = $iterator_4(new AbstractMap$1(this$static.rawObjectData)); currentObjectToCacheFrom$iterator.val$outerIter2.hasNext();) {
    currentObjectToCacheFrom = dynamicCast($next_7(currentObjectToCacheFrom$iterator), 24);
    $info_1(Log_52, 'starting to cache dynamicly changed images from:' + currentObjectToCacheFrom.getObjectsCurrentState_1().ObjectsName);
    $info_1(Log_52, 'objects file name is:' + currentObjectToCacheFrom.getObjectsCurrentState_1().ObjectsFileName);
    $info_1(Log_52, 'objects folder name is:' + currentObjectToCacheFrom.folderName);
    $extractAllImageURLs(this$static, dynamicCastToString(this$static.rawObjectData.get_2(currentObjectToCacheFrom)), currentObjectToCacheFrom.folderName, currentObjectToCacheFrom);
  }
  ($clinit_OptionalImplementations() , ImagePreloader).isPresent() && (dynamicCast(ImagePreloader.get_1(), 417) , preloadList());
}

function $extractParams(this$static, sourceParam){
  var currentline, i, len, param, sourceArray, value_0;
  sourceArray = $split_0(sourceParam, '\r', 0);
  len = sourceArray.length;
  i = 0;
  while (i < len) {
    currentline = $trim(sourceArray[i]);
    ++i;
    if (currentline.length < 1 || currentline.indexOf('=') == -1) {
      continue;
    }
    param = $trim($split_0(currentline, '=', 0)[0]);
    value_0 = $trim($split_0(currentline, '=', 0)[1]);
    $equals_5(value_0.substr(0, 1), '"') && (value_0 = $substring_0(value_0, 1, value_0.length - 1));
    $equals_5(value_0.substr(0, 1), "'") && (value_0 = $substring_0(value_0, 1, value_0.length - 1));
    $info_1(Log_52, 'param=' + param);
    $info_1(Log_52, 'value=' + value_0);
    if ($equalsIgnoreCase(param, 'Description')) {
      this$static.Description = value_0;
      $info_1(Log_52, 'Description=' + this$static.Description);
    }
    if ($equalsIgnoreCase(param, 'Title')) {
      this$static.Title = value_0;
      $info_1(Log_52, 'Title =' + this$static.Title);
    }
    if ($equalsIgnoreCase(param, 'ContainerBackground')) {
      this$static.containerBackground = value_0;
      $info_1(Log_52, 'ContainerBackground =' + this$static.containerBackground);
    }
    if ($equalsIgnoreCase(param, 'BackgroundRepeat')) {
      this$static.currentBackgroundRepeat = value_0;
      $info_1(Log_52, 'ContainerBackgroundRepeat =' + this$static.currentBackgroundRepeat);
    }
    if ($equalsIgnoreCase(param, 'Location')) {
      this$static.currentState.PosX = __parseAndValidateInt($trim($split_0(value_0, ',', 0)[0]), 10);
      this$static.currentState.PosY = __parseAndValidateInt($trim($split_0(value_0, ',', 0)[1]), 10);
      $info_1(Log_52, 'Got Loc =' + this$static.currentState.PosX + ',' + this$static.currentState.PosY);
    }
    if ($equalsIgnoreCase(param, 'Size')) {
      this$static.InternalSizeX = __parseAndValidateInt($trim($split_0(value_0, ',', 0)[0]), 10);
      this$static.InternalSizeY = __parseAndValidateInt($trim($split_0(value_0, ',', 0)[1]), 10);
      $info_1(Log_52, 'Got Size =' + this$static.InternalSizeX + ',' + this$static.InternalSizeY);
    }
    if ($equalsIgnoreCase(param, 'Pan')) {
      if ($equalsIgnoreCase(value_0, 'y')) {
        this$static.PanX = false;
        this$static.PanY = true;
      }
      if ($equalsIgnoreCase(value_0, 'x')) {
        this$static.PanX = true;
        this$static.PanY = false;
      }
      if ($equalsIgnoreCase(value_0, 'none')) {
        this$static.PanX = false;
        this$static.PanY = false;
      }
      $info_1(Log_52, 'Got Pan =' + value_0);
    }
    if ($equalsIgnoreCase(param, 'MovementLimits')) {
      this$static.MovementLimitsSX = __parseAndValidateInt($trim($split_0(value_0, ',', 0)[0]), 10);
      this$static.MovementLimitsSY = __parseAndValidateInt($trim($split_0(value_0, ',', 0)[1]), 10);
      this$static.MovementLimitsEX = __parseAndValidateInt($trim($split_0(value_0, ',', 0)[2]), 10);
      this$static.MovementLimitsEY = __parseAndValidateInt($trim($split_0(value_0, ',', 0)[3]), 10);
      $info_1(Log_52, 'MovementLimits start =' + this$static.MovementLimitsSX + ',' + this$static.MovementLimitsSY);
      $info_1(Log_52, 'MovementLimits end =' + this$static.MovementLimitsEX + ',' + this$static.MovementLimitsEY);
    }
  }
}

function $getScenesCurrentObjectsOfType(this$static, type_0){
  var allScenesObjects, results, sceneObject, sceneObject$iterator;
  results = new HashSet;
  allScenesObjects = (!this$static.unmodifableListOfScenesCurrentObjects && (this$static.unmodifableListOfScenesCurrentObjects = unmodifiableList(this$static.scenesCurrentObjects)) , this$static.unmodifableListOfScenesCurrentObjects);
  for (sceneObject$iterator = new Collections$UnmodifiableCollectionIterator(allScenesObjects.coll.iterator()); sceneObject$iterator.it.hasNext();) {
    sceneObject = dynamicCast(sceneObject$iterator.it.next_0(), 24);
    sceneObject.getObjectsCurrentState_1().objectsPrimaryType == type_0 && $add_21(results, sceneObject);
  }
  return results;
}

function $getScenesCurrentObjectsOfTypeNew(this$static, type_0){
  var allScenesObjects, results, sceneObject, sceneObject$iterator;
  results = new HashSet;
  allScenesObjects = (!this$static.unmodifableListOfScenesCurrentObjects && (this$static.unmodifableListOfScenesCurrentObjects = unmodifiableList(this$static.scenesCurrentObjects)) , this$static.unmodifableListOfScenesCurrentObjects);
  for (sceneObject$iterator = new Collections$UnmodifiableCollectionIterator(allScenesObjects.coll.iterator()); sceneObject$iterator.it.hasNext();) {
    sceneObject = dynamicCast(sceneObject$iterator.it.next_0(), 24);
    (!type_0 || sceneObject.getObjectsCurrentState_1().objectsPrimaryType == type_0) && $add_21(results, sceneObject);
  }
  return results;
}

function $removeFromScenesObjects(this$static, object){
  return $remove_0(this$static.scenesCurrentObjects, object);
}

function SceneData_0(mainsourcefile, Itemssourcefile, scenesWidget, State){
  $clinit_SceneData();
  var Parameters, allactions, firstLocOfFirstActions;
  this.scenesCurrentObjects = new ArrayList;
  this.scenesOriginalObjects = new ArrayList;
  this.rawObjectData = new HashMap;
  this.currentState = State;
  this.itemssourcefile = Itemssourcefile;
  this.SceneFolderName = scenesWidget.SceneFileName;
  this.scenesWidget = scenesWidget;
  this.currentState.currentBackground = scenesWidget.SceneFolderLocation + '/' + scenesWidget.SceneFileName + '.jpg';
  $info_1(Log_52, 'Background recieved:' + this.currentState.currentBackground);
  firstLocOfFirstActions = findNextTriggerLineStart(mainsourcefile, 0);
  $info_1(Log_52, 'firstLocOfFirstActions recieved:' + firstLocOfFirstActions);
  allactions = '';
  if (firstLocOfFirstActions == -1) {
    Parameters = mainsourcefile;
  }
   else {
    Parameters = mainsourcefile.substr(0, firstLocOfFirstActions - 1);
    allactions = __substr(mainsourcefile, firstLocOfFirstActions, mainsourcefile.length - firstLocOfFirstActions);
  }
  $info_1(Log_52, 'Scene Parameters recieved:\n' + Parameters);
  $extractParams(this, Parameters);
  $info_1(Log_52, 'Scene actions recieved:\n' + allactions);
  this.sceneActions = new ActionList_0(allactions);
}

defineClass(1159, 1, {}, SceneData_0);
_.InternalSizeX = 0;
_.InternalSizeY = 0;
_.MovementLimitsEX = -1;
_.MovementLimitsEY = -1;
_.MovementLimitsSX = -1;
_.MovementLimitsSY = -1;
_.PanX = true;
_.PanY = true;
_.containerBackground = '000000';
_.currentBackgroundRepeat = 'no-repeat';
var Log_52;
var Lcom_lostagain_Jam_Scene_SceneData_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneData', 1159, Ljava_lang_Object_2_classLit);
function SceneData$1(this$0){
  this.this$01 = this$0;
}

defineClass(1160, 1, {363:1}, SceneData$1);
var Lcom_lostagain_Jam_Scene_SceneData$1_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneData/1', 1160, Ljava_lang_Object_2_classLit);
function $run_14(){
  $info_1(($clinit_SceneMenuWithPopUp() , Log_44), 'running run on close...');
  menuShowing = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  currentMenu = null;
}

function SceneMenuWithPopUp$1(){
}

defineClass(1135, 1, {}, SceneMenuWithPopUp$1);
_.run = function run_48(){
  $run_14();
}
;
var Lcom_lostagain_Jam_Scene_SceneMenuWithPopUp$1_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneMenuWithPopUp/1', 1135, Ljava_lang_Object_2_classLit);
function $clinit_SceneStatus(){
  $clinit_SceneStatus = emptyMethod;
  Log_53 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneStatus'));
}

function $$init_17(this$static){
  this$static.dependantSceneNames = new HashSet;
}

function $addSceneDependancy(this$static, SceneFileName){
  $add_21(this$static.dependantSceneNames, SceneFileName);
}

function $allDependancysLoaded(this$static){
  var sceneName, sceneName$iterator, sceneToTest;
  if (this$static.dependantSceneNames.map_0.size_1() == 0) {
    return true;
  }
  for (sceneName$iterator = $iterator_4(new AbstractMap$1(this$static.dependantSceneNames.map_0)); sceneName$iterator.val$outerIter2.hasNext();) {
    sceneName = dynamicCastToString($next_7(sceneName$iterator));
    sceneToTest = getSceneByName(sceneName);
    if (!sceneToTest || sceneToTest.Loading) {
      $info_1(Log_53, 'scene dependancy for ' + this$static.SceneName + ' not loaded:' + sceneToTest.SceneFileName);
      return false;
    }
  }
  return true;
}

function $removeSceneDependancy(this$static, objectScene){
  $remove_21(this$static.dependantSceneNames, objectScene.SceneFileName);
}

function $seralise(this$static){
  var data_0, serialised, string, string$index, string$max;
  $info_1(Log_53, '_____________________________________________________serialising scene data');
  data_0 = initDim(Ljava_lang_String_2_classLit, $intern_11, 2, 9, 4, 1);
  data_0[0] = this$static.SceneName;
  data_0[1] = '' + this$static.PosX;
  data_0[2] = '' + this$static.PosY;
  data_0[3] = '' + this$static.NumOfTimesPlayerHasBeenHere;
  data_0[4] = this$static.currentBackground;
  data_0[5] = this$static.DynamicOverlayCSS;
  data_0[6] = this$static.StaticOverlayCSS;
  data_0[7] = '' + this$static.hasNotBeenCurrentYet;
  data_0[8] = $toString_0(new AbstractMap$1(this$static.dependantSceneNames.map_0));
  serialised = '';
  for (string$index = 0 , string$max = data_0.length; string$index < string$max; ++string$index) {
    string = data_0[string$index];
    string != null?(serialised = serialised + string + '_#_'):(serialised = serialised + '_#_');
  }
  return serialised;
}

function SceneStatus(){
  $clinit_SceneStatus();
  $$init_17(this);
}

function SceneStatus_0(sceneData){
  var data_0;
  $clinit_SceneStatus();
  $$init_17(this);
  data_0 = $split_0(sceneData, '_#_', 0);
  this.SceneName = data_0[0];
  this.PosX = __parseAndValidateInt(data_0[1], 10);
  this.PosY = __parseAndValidateInt(data_0[2], 10);
  this.NumOfTimesPlayerHasBeenHere = __parseAndValidateInt(data_0[3], 10);
  this.currentBackground = data_0[4];
  this.DynamicOverlayCSS = data_0[5];
  this.StaticOverlayCSS = data_0[6];
  this.hasNotBeenCurrentYet = ($clinit_Boolean() , $equalsIgnoreCase('true', data_0[7]));
}

function SceneStatus_1(SceneName, PosX, PosY, numOfTimesPlayerHasBeenHere, currentBackground, dynamicOverlayCSS, staticOverlayCSS, hasNotBeenMadeCurrent){
  $clinit_SceneStatus();
  $$init_17(this);
  this.SceneName = SceneName;
  this.PosX = PosX;
  this.PosY = PosY;
  this.NumOfTimesPlayerHasBeenHere = numOfTimesPlayerHasBeenHere;
  this.currentBackground = currentBackground;
  this.DynamicOverlayCSS = dynamicOverlayCSS;
  this.StaticOverlayCSS = staticOverlayCSS;
  this.hasNotBeenCurrentYet = hasNotBeenMadeCurrent;
}

defineClass(349, 1, {}, SceneStatus, SceneStatus_0, SceneStatus_1);
_.DynamicOverlayCSS = 'OFF';
_.NumOfTimesPlayerHasBeenHere = 0;
_.PosX = -1;
_.PosY = -1;
_.StaticOverlayCSS = 'OFF';
_.hasNotBeenCurrentYet = true;
var Log_53;
var Lcom_lostagain_Jam_Scene_SceneStatus_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneStatus', 349, Ljava_lang_Object_2_classLit);
function $clinit_SceneWidget(){
  $clinit_SceneWidget = emptyMethod;
  Log_54 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.SceneWidget'));
  all_scenes = new HashMap;
}

function $LoadComplete(this$static){
  var allScenesCurrentObjects;
  $info_1(Log_54, '_____________________________________________________________Scene load complete');
  this$static.Loading = false;
  allScenesCurrentObjects = $allScenesCurrentObjects(this$static.scenesData);
  $ScenesLog(this$static, 'Scenes load complete. Total Objects:' + allScenesCurrentObjects.size_1());
  this$static.ScenesLog.log_1('loading scene complete', 'green');
  if ($clinit_JAMcore() , triggerSelectCheck) {
    if ($startsWith(pageToSelect, this$static.SceneFileName.toLowerCase())) {
      $info_1(Log_54, '____________________________________________>> setting page too :' + pageToSelect + ':');
      bringSceneToFront_0(pageToSelect, this$static.loadingsilently);
    }
  }
  if (($clinit_SceneObjectDatabase() , currentScene_0) == this$static) {
    $info_1(Log_54, 'testing for scene debut after load');
    this$static.loadingsilently || $onSceneMadeCurrent(this$static);
  }
  if (!this$static.StateToLoad) {
    this$static.ScenesLog.log_1('recheckRelativeandSpawnedObjectsThenUpdateTouchingData', 'blue');
    $recheckRelativeandSpawnedObjectsThenUpdateTouchingData(this$static);
  }
  checkAllScenesStillWaitingToLoadStates();
}

function $TestForBoxCollision(this$static, tlx, tly, brx, bry){
  if (this$static.scenesCmap.isPresent()) {
    return !!$isBoxColliding(dynamicCast(this$static.scenesCmap.get_1(), 73), tlx, tly, brx, bry);
  }
   else {
    $info_1(Log_54, 'cmap not set');
    return false;
  }
}

function $TestForCollision(this$static, x_0, y_0){
  var bol;
  if (!this$static.scenesCmap.isPresent()) {
    $info_1(Log_54, 'cmap not set');
    return false;
  }
  bol = false;
  !!$isPointColliding(dynamicCast(this$static.scenesCmap.get_1(), 73), x_0, y_0) && (bol = true);
  return bol;
}

function $addObjectToScene(this$static, objectToAttach){
  var x_0, y_0, z_0;
  x_0 = objectToAttach.getObjectsCurrentState_1().X;
  y_0 = objectToAttach.getObjectsCurrentState_1().Y;
  z_0 = objectToAttach.getObjectsCurrentState_1().Z;
  objectToAttach.ObjectsLog_2('Adding object to scene at ' + x_0 + ',' + y_0 + ',' + z_0, 'green');
  $attachObjectToSceneIMPL(this$static, objectToAttach, x_0, y_0, z_0);
}

function $addSceneDependancy_0(this$static, objectSceneFileName){
  if (objectSceneFileName == this$static.SceneFileName) {
    return;
  }
  $info_1(Log_54, 'addSceneDependancy:' + objectSceneFileName);
  $addSceneDependancy(this$static.currentState, objectSceneFileName);
}

function $addToGlobalGameLog(message){
  $clinit_GameStatistics();
  addLastCommandToStack(message, '', '');
}

function $advanceLoading(this$static){
  if (this$static.Loading) {
    this$static.ObjectsLeftTooLoad = this$static.ObjectsLeftTooLoad - 1;
    $info_1(Log_54, '_____________________________________________________' + this$static.SceneFileName + '_  Left to load=' + this$static.ObjectsLeftTooLoad);
    this$static.ObjectsLeftTooLoad <= 0 && this$static.Loading && $LoadComplete_0(this$static);
  }
   else {
    $info_1(Log_54, 'not currently loading');
  }
}

function $fetchSceneData(this$static, SceneFileName){
  var onError, onResponse;
  onResponse = new SceneWidget$5(this$static, SceneFileName);
  onError = new SceneWidget$6;
  $info_1(Log_54, 'getting scene file:' + this$static.SceneFileLocation);
  $clinit_RequiredImplementations();
  $getText_1(this$static.SceneFileLocation, onResponse, onError, false);
}

function $findSafeEndpointOnLine_0(this$static, cx, cy, tx, ty, sceneObject){
  var pathWithSafeEnding;
  if (this$static.scenesCmap.isPresent()) {
    return $findSafeEndpointOnLine(dynamicCast(this$static.scenesCmap.get_1(), 73), cx, cy, tx, ty, sceneObject);
  }
   else {
    pathWithSafeEnding = new ArrayList;
    pathWithSafeEnding.add_0(new MovementWaypoint_1(tx, ty, ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo)));
    return pathWithSafeEnding;
  }
}

function $getAllSceneObjectData(this$static){
  var allSData, allSceneObjects, i, objectIT, sceneObject, sceneObjectAsSprite;
  $info_1(Log_54, 'saving scene object states for scene:' + this$static.scenesData.SceneFolderName);
  allSceneObjects = $allScenesCurrentObjects(this$static.scenesData);
  allSData = initDim(Lcom_lostagain_Jam_SceneObjects_SceneObjectState_2_classLit, $intern_121, 112, allSceneObjects.size_1(), 0, 1);
  objectIT = allSceneObjects.iterator();
  i = 0;
  while (objectIT.hasNext()) {
    sceneObject = dynamicCast(objectIT.next_0(), 24);
    $info_1(Log_54, '___________saving object state:' + sceneObject.getObjectsCurrentState_1().ObjectsName);
    if (sceneObject.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , Sprite)) {
      sceneObjectAsSprite = dynamicCast(sceneObject, 166);
      sceneObjectAsSprite.getSerialisedAnimationState();
      sceneObjectAsSprite.getCurrentFrame();
    }
    $info_1(Log_54, 'null checks:');
    !sceneObject.getObjectsCurrentState_1() && $info_1(Log_54, 'current state null');
    !sceneObject.getInitialState_2() && $info_1(Log_54, 'initial state null');
    if (!sceneObject.getObjectsCurrentState_1().clonedFrom && $sameStateAs(sceneObject.getObjectsCurrentState_1(), sceneObject.getInitialState_2())) {
      $info_1(Log_54, 'skipping object as its unchanged:' + sceneObject.getObjectsCurrentState_1().ObjectsName);
      sceneObject.ObjectsLog_2('Object Is Unchanged, so not saving', 'red');
      continue;
    }
    setCheck(allSData, i, sceneObject.getObjectsCurrentState_1());
    if (!allSData[i]) {
      $info_1(Log_54, 'failed to save:' + sceneObject.getObjectsCurrentState_1().ObjectsName);
      sceneObject.ObjectsLog_2('Failed to save', 'RED');
    }
    ++i;
  }
  return allSData;
}

function $getCollisionData(this$static, SceneFileName){
  var SceneItemFileLocation, onError, onResponse;
  SceneItemFileLocation = 'Game Scenes/' + SceneFileName + '/' + SceneFileName + '_vmap.ini';
  $info_1(Log_54, '________getting cmap at:' + SceneItemFileLocation);
  onResponse = new SceneWidget$1(this$static);
  onError = new SceneWidget$2(this$static);
  $clinit_RequiredImplementations();
  GetTextFile(SceneItemFileLocation, onResponse, onError, false, true);
}

function $getItemData(this$static, SceneFileName, SceneData){
  var SceneItemFileLocation, onError, onResponse;
  $setLoadingMessage(this$static.sceneBackground, 'Getting Object data....');
  SceneItemFileLocation = 'Game Scenes/' + SceneFileName + '/' + SceneFileName + '_items.jam';
  onResponse = new SceneWidget$3(this$static, SceneData);
  onError = new SceneWidget$4;
  $clinit_RequiredImplementations();
  GetTextFile(SceneItemFileLocation, onResponse, onError, false, true);
}

function $getSafePath_0(this$static, dx, dy, object){
  var np;
  if (!this$static.scenesCmap.isPresent() || object.getObjectsCurrentState_1().boundaryType == ($clinit_CollisionType() , none)) {
    $info_1(Log_54, 'collision map not set  or object has collisions set to none, so we assume we can go in a straight line');
    np = new MovementPath_0('', '_internal_');
    $addMovementWayPoint_0(np, new MovementWaypoint_1($getTopLeftBaseX(object) + object.objectsCurrentState_2.PinPointX, $getY_1(object), ($clinit_MovementWaypoint$MovementType() , AbsoluteMove)));
    $addMovementWayPoint_0(np, new MovementWaypoint_1(dx, dy, AbsoluteLineTo));
    return np;
  }
  return $getSafePath(dynamicCast(this$static.scenesCmap.get_1(), 73), dx, dy, object);
}

function $leftclickortouch(this$static, x_0, y_0){
  var backgroundActionsFound, sceneActionsFound;
  lastclicked_x_0 = x_0;
  lastclicked_y_0 = y_0;
  $info_1(Log_54, 'scene clicked at ' + x_0 + ' , ' + y_0);
  lastclickedscreen_x = x_0;
  lastclickedscreen_y = y_0;
  backgroundActionsFound = runForSceneActions(this$static, ($clinit_ActionSet$TriggerType() , BackgroundClickAction), null, null);
  sceneActionsFound = runForSceneActions(this$static, MouseClickAction, null, null);
  if ($clinit_InventoryPanelCore() , currentlyHeldItem) {
    if (!backgroundActionsFound && !sceneActionsFound) {
      $info_1(Log_54, 'no actions found so unholding');
      unholdItem();
      return;
    }
    if (!($clinit_SceneMenuWithPopUp() , menuShowing).value_0 && currentlyHeldItem.keepheld != ($clinit_IsInventoryIcon$KeepHeldMode() , onuse)) {
      $info_1(Log_54, '_________unholdItem after processInstructions ');
      unholdItem();
    }
     else {
      $info_1(Log_54, '_________menu showing, so we keep holding');
    }
  }
}

function $loadSceneState(this$static, sceneState, objectsCurrentState){
  var dependancysLoaded;
  dependancysLoaded = $allDependancysLoaded(sceneState);
  if (this$static.Loading || !dependancysLoaded) {
    $info_1(Log_54, 'waiting till loaded scene to update data' + sceneState.SceneName);
    $info_1(Log_54, 'dependancysLoaded:' + dependancysLoaded);
    this$static.ScenesLog.log_0('waiting till loaded scene to update data');
    this$static.ScenesLog.log_0('dependancysLoaded:' + dependancysLoaded);
    this$static.StateToLoad = true;
    this$static.sceneStateToLoad = sceneState;
    this$static.objectsCurrentStateToLoad = objectsCurrentState;
  }
   else {
    $info_1(Log_54, '_______________________<<<<<________________restoring scene ' + this$static.scenesData.SceneFolderName + ' from data');
    this$static.ScenesLog.log_0('sceneloaded now loading its state');
    $loadSceneStateInternal(this$static, sceneState, objectsCurrentState);
    $info_1(Log_54, 'rechecking all relatively positioned objects to make sure they are linked and correctly positioned');
    this$static.ScenesLog.log_0('rechecking all relatively positioned objects to make sure they are linked and correctly positioned');
    $recheckRelativeandSpawnedObjectsThenUpdateTouchingData(this$static);
  }
}

function $loadSceneStateInternal(this$static, sceneState, objectsCurrentState){
  var actions, cloneFromName, clonedFromSet, dynamicObjects, dynamicObjects$iterator, newObject, object, objectName, sceneObjectData, sceneObjectData$index, sceneObjectData$max;
  $info_1(Log_54, 'loading SceneState from data supplied:' + $seralise(sceneState));
  this$static.ScenesLog.log_0('loading scene state.');
  $info_1(Log_54, 'restoring scene object from datas');
  this$static.StateToLoad = false;
  this$static.sceneStateToLoad = null;
  this$static.objectsCurrentStateToLoad = null;
  $info_1(($clinit_SceneWidgetVisual() , Log_95), 'adding static overlay with css:OFF');
  $setStaticOverlayCSS(this$static.sceneBackground, 'OFF');
  $info_1(Log_95, 'adding dynamic overlay with css:OFF');
  $setDynamicOverlayCSS(this$static.sceneBackground, 'OFF');
  for (dynamicObjects$iterator = $iterator_4(new AbstractMap$1(this$static.AllDynamicObjects.map_0)); dynamicObjects$iterator.val$outerIter2.hasNext();) {
    dynamicObjects = dynamicCast($next_7(dynamicObjects$iterator), 24);
    $removeObject(dynamicObjects, true);
  }
  $info_1(Log_54, 'removed dynamic objects');
  this$static.AllDynamicObjects.map_0.clear_1();
  $info_1(Log_54, 'Updating ' + objectsCurrentState.length + ' objects');
  $ScenesLog(this$static, 'Updating ' + objectsCurrentState.length + ' objects');
  for (sceneObjectData$index = 0 , sceneObjectData$max = objectsCurrentState.length; sceneObjectData$index < sceneObjectData$max; ++sceneObjectData$index) {
    sceneObjectData = objectsCurrentState[sceneObjectData$index];
    objectName = sceneObjectData.ObjectsName;
    $info_1(Log_54, 'Updating object named:' + objectName + ' Type:' + sceneObjectData.objectsPrimaryType);
    object = getSingleObjectOfType(objectName, sceneObjectData.objectsPrimaryType);
    $info_1(Log_54, '(searched for object)');
    if (!object || !!object.getObjectsCurrentState_1().clonedFrom || object.getObjectsCurrentState_1().clonedFromOnceLoaded.length > 1) {
      $info_1(Log_54, '__________________________object doesnt exist or is clone:' + sceneObjectData.ObjectsName + '');
      if (object) {
        !!object.getObjectsCurrentState_1().clonedFrom && $info_1(Log_54, '__________________________object.objectsCurrentState.clonedFrom:' + object.getObjectsCurrentState_1().clonedFrom);
        object.getObjectsCurrentState_1().clonedFromOnceLoaded != null && $info_1(Log_54, '__________________________object.objectsCurrentState.clonedFromOnceLoaded:' + object.getObjectsCurrentState_1().clonedFromOnceLoaded);
        $info_1(Log_54, 'object is null:' + sceneObjectData.ObjectsName);
      }
      actions = null;
      if (sceneObjectData.clonedFrom) {
        $info_1(Log_54, 'loading actions from parent ');
        actions = sceneObjectData.clonedFrom.objectsActions;
        $info_1(Log_54, actions.array.length + ' actions loaded');
      }
       else {
        if (sceneObjectData.clonedFromOnceLoaded != null && !!sceneObjectData.clonedFromOnceLoaded.length) {
          cloneFromName = sceneObjectData.clonedFromOnceLoaded;
          $info_1(Log_54, 'loading actions from parent (' + cloneFromName + ')');
          clonedFromSet = getSceneObjectNEW(cloneFromName, null, true);
          clonedFromSet.size_1() > 1 && $info_1(Log_54, 'Warning: more then one object found for ' + cloneFromName + '. clonedFromOnceLoaded should only have one specific object');
          sceneObjectData.clonedFrom = dynamicCast(clonedFromSet.iterator().next_0(), 24);
          if (sceneObjectData.clonedFrom) {
            actions = sceneObjectData.clonedFrom.objectsActions;
            $info_1(Log_54, actions.array.length + ' actions loaded');
          }
        }
      }
      newObject = $createObjectFromExistingDataImplementation(sceneObjectData, actions, this$static);
      newObject.alreadyLoaded = true;
      $addToScenesObjects(this$static.scenesData, newObject);
      $add_21(this$static.AllDynamicObjects, newObject);
      !!newObject.getObjectsCurrentState().positionedRelativeToo && $add_21(newObject.getObjectsCurrentState().positionedRelativeToo.relativeObjects, newObject);
      $info_1(Log_54, 'object created:' + newObject.initialObjectState.ObjectsName + ' at-' + newObject.getObjectsCurrentState().X + ',' + newObject.getObjectsCurrentState().Y);
      $info_1(Log_54, 'with zindex:' + newObject.getObjectsCurrentState().zindex);
      $info_1(Log_54, 'from data with zindex:' + newObject.getObjectsCurrentState().zindex);
      continue;
    }
    $info_1(Log_54, '(object already exists:' + object.getObjectsCurrentState_1().ObjectsName + ')');
    $info_1(Log_54, '(object is type::' + $toString_1(object.getObjectsCurrentState_1().objectsPrimaryType) + ')');
    $info_1(Log_54, '(data is type::' + $toString_1(sceneObjectData.objectsPrimaryType) + ')');
    switch (object.getObjectsCurrentState_1().objectsPrimaryType.ordinal) {
      case 0:
        if (sceneObjectData.objectsPrimaryType == ($clinit_SceneObjectType() , Sprite)) {
          dynamicCast(object, 166).updateState_1(dynamicCast(sceneObjectData, 106), true, true);
          $info_1(Log_54, 'updated object:' + object.getObjectsCurrentState_1().ObjectsName);
        }

        break;
      case 2:
        $info_1(Log_54, 'updating object label:' + object.getObjectsCurrentState_1().ObjectsName);
        $info_1(Log_54, 'type is:' + sceneObjectData.objectsPrimaryType);
        if (sceneObjectData.objectsPrimaryType == ($clinit_SceneObjectType() , Label_4) || sceneObjectData.objectsPrimaryType == DialogBox) {
          dynamicCast(object, 159).updateState_0(dynamicCast(sceneObjectData, 119), true, true);
          $info_1(Log_54, 'updated object label:' + object.getObjectsCurrentState_1().ObjectsName);
        }

        break;
      case 1:
        $info_1(Log_54, 'updating object dialogue:' + object.getObjectsCurrentState_1().ObjectsName);
        $info_1(Log_54, 'type is:' + sceneObjectData.objectsPrimaryType);
        if (sceneObjectData.objectsPrimaryType == ($clinit_SceneObjectType() , DialogBox) || sceneObjectData.objectsPrimaryType == Label_4) {
          $updateState_4(dynamicCast(object, 124), dynamicCast(sceneObjectData, 145), true);
          $info_1(Log_54, 'updated object dialogue:' + object.getObjectsCurrentState_1().ObjectsName);
        }

        break;
      case 3:
        if (sceneObjectData.objectsPrimaryType == ($clinit_SceneObjectType() , Div)) {
          dynamicCast(object, 109).updateState(dynamicCast(sceneObjectData, 78), true, true);
          $info_1(Log_54, 'updated div dialogue:' + object.getObjectsCurrentState_1().ObjectsName);
        }

        break;
      case 6:
        if (sceneObjectData.objectsPrimaryType == ($clinit_SceneObjectType() , Vector)) {
          $updateState_6(dynamicCast(object, 275), dynamicCast(sceneObjectData, 144), true);
          $info_1(Log_54, 'updated Vector :' + object.getObjectsCurrentState_1().ObjectsName);
        }

        break;
      case 4:
        if (sceneObjectData.objectsPrimaryType == ($clinit_SceneObjectType() , Input_0)) {
          $updateState_5(dynamicCast(object, 364), dynamicCast(sceneObjectData, 146), true);
          $info_1(Log_54, 'updated Input :' + object.getObjectsCurrentState_1().ObjectsName);
        }

        break;
      case 5:
        $severe_0(Log_54, 'InventoryIcon state update not supported yet :');
    }
  }
  $setToSceneState(this$static, sceneState);
}

function $loadSceneTempState(this$static){
  var objectIT, sceneObject;
  $info_1(Log_54, 'restoring scene');
  $info_1(($clinit_SceneWidgetVisual() , Log_95), 'adding static overlay with css:OFF');
  $setStaticOverlayCSS(this$static.sceneBackground, 'OFF');
  $info_1(Log_95, 'adding dynamic overlay with css:OFF');
  $setDynamicOverlayCSS(this$static.sceneBackground, 'OFF');
  $info_1(Log_54, 'restoring scene objects');
  objectIT = $allScenesCurrentObjects(this$static.scenesData).iterator();
  while (objectIT.hasNext()) {
    sceneObject = dynamicCast(objectIT.next_0(), 24);
    $info_1(Log_54, '___________restoring object:' + sceneObject.getObjectsCurrentState_1().ObjectsName);
    sceneObject.restoreTempState();
  }
  $setToSceneState(this$static, this$static.tempState);
}

function $onSceneMadeCurrent(this$static){
  var hadActions;
  this$static.ScenesLog.log_0('onSceneMadeCurrent');
  $resumeAllSceneSounds(this$static);
  hadActions = runForSceneActions(this$static, ($clinit_ActionSet$TriggerType() , SceneToFrontActions), null, null);
  this$static.ScenesLog.log_0('SceneToFrontActions ran:' + hadActions);
  $testForSceneDebut(this$static);
}

function $onSceneNoLongerCurrent(this$static){
  $pauseAllSceneSounds(this$static);
  runForSceneActions(this$static, ($clinit_ActionSet$TriggerType() , SceneToBackActions), null, null);
}

function $pauseAllSceneSounds(this$static){
  var sprite, sprite$iterator, sprites;
  sprites = getAllObjectsOnScene(this$static);
  for (sprite$iterator = new Collections$UnmodifiableCollectionIterator(sprites.coll.iterator()); sprite$iterator.it.hasNext();) {
    sprite = dynamicCast(sprite$iterator.it.next_0(), 24);
    !!sprite.ObjectsSound && sprite.ObjectsSound.newSoundImplementation.stop_0();
  }
}

function $recheckRelativeandSpawnedObjectsThenUpdateTouchingData(this$static){
  var objectname, oit, so, so$iterator, so$iterator0, spawnedFrom, spawnedFromObj;
  oit = $allScenesCurrentObjects(this$static.scenesData);
  for (so$iterator0 = new Collections$UnmodifiableCollectionIterator(oit.coll.iterator()); so$iterator0.it.hasNext();) {
    so = dynamicCast(so$iterator0.it.next_0(), 24);
    $recheckRelativePositioningSetup(so);
    if (so.getObjectsCurrentState_1().spawningObjectFromOnceLoaded.length > 1) {
      objectname = so.getObjectsCurrentState_1().spawningObjectFromOnceLoaded;
      spawnedFromObj = getSceneObjectNEW(objectname, null, true);
      spawnedFromObj.size_1() > 1 && $info_1(Log_54, 'spawnedFromObj name is ambigious, refers to more then one object ' + objectname);
      spawnedFrom = dynamicCast(spawnedFromObj.iterator().next_0(), 24);
      if (spawnedFrom) {
        so.getObjectsCurrentState_1().spawningObject = spawnedFrom;
        so.getObjectsCurrentState_1().spawningObjectFromOnceLoaded = '';
      }
    }
  }
  $ScenesLog(this$static, '(now updating touching data on all ' + oit.size_1() + ' objects)');
  for (so$iterator = new Collections$UnmodifiableCollectionIterator(oit.coll.iterator()); so$iterator.it.hasNext();) {
    so = dynamicCast(so$iterator.it.next_0(), 24);
    $cacheObjectSet(so.getObjectsCurrentState_1().touching);
    so.getObjectsCurrentState_1();
    if (so.getObjectsCurrentState_1().boundaryType != ($clinit_CollisionType() , none)) {
      so.ObjectsLog_2('(auto updated touching data after load)', 'blue');
      $updateTouchingAutomatically(so);
    }
  }
}

function $removeSceneDependancyIfSafe(this$static, objectScene){
  var objects, safeToRemove, sceneObject, sceneObject$iterator;
  $info_1(Log_54, 'removeing SceneDependancy:' + objectScene.SceneFileName);
  safeToRemove = true;
  objects = $allScenesCurrentObjects(this$static.scenesData);
  for (sceneObject$iterator = new Collections$UnmodifiableCollectionIterator(objects.coll.iterator()); sceneObject$iterator.it.hasNext();) {
    sceneObject = dynamicCast(sceneObject$iterator.it.next_0(), 24);
    if ($equalsIgnoreCase(sceneObject.getInitialState_2().ObjectsSceneName, objectScene.SceneFileName)) {
      safeToRemove = false;
      $info_1(Log_54, 'not safe to remove, object from that scene still exists : ' + sceneObject.getObjectsCurrentState_1().ObjectsName);
    }
  }
  if (safeToRemove) {
    $removeSceneDependancy(this$static.currentState, objectScene);
    $info_1(Log_54, 'removed SceneDependancy success');
  }
}

function $resetScene(this$static){
  var dynamicObjects, dynamicObjects$iterator, objectIT, sceneObject;
  $info_1(Log_54, 'resetting scene :' + this$static.SceneFolderLocation);
  $ScenesLog(this$static, 'resetting scene :' + this$static.SceneFolderLocation);
  $info_1(($clinit_SceneWidgetVisual() , Log_95), 'adding static overlay with css:OFF');
  $setStaticOverlayCSS(this$static.sceneBackground, 'OFF');
  $info_1(Log_95, 'adding dynamic overlay with css:OFF');
  $setDynamicOverlayCSS(this$static.sceneBackground, 'OFF');
  for (dynamicObjects$iterator = $iterator_4(new AbstractMap$1(this$static.AllDynamicObjects.map_0)); dynamicObjects$iterator.val$outerIter2.hasNext();) {
    dynamicObjects = dynamicCast($next_7(dynamicObjects$iterator), 24);
    $removeObject(dynamicObjects, true);
  }
  $info_1(Log_54, 'removed dynamic objects : ' + this$static.AllDynamicObjects.map_0.size_1());
  this$static.AllDynamicObjects.map_0.clear_1();
  $info_1(Log_54, 'resetting scene state');
  $setToSceneState(this$static, this$static.defaultState);
  $info_1(Log_54, 'resetting scene objects');
  objectIT = new AbstractList$IteratorImpl(this$static.scenesData.scenesOriginalObjects);
  $info_1(Log_54, 'total objects = ' + this$static.scenesData.scenesOriginalObjects.array.length);
  while (objectIT.i < objectIT.this$01_0.size_1()) {
    sceneObject = (checkCriticalElement(objectIT.i < objectIT.this$01_0.size_1()) , dynamicCast(objectIT.this$01_0.get_0(objectIT.last = objectIT.i++), 24));
    $info_1(Log_54, '___________resetting object:' + sceneObject.getObjectsCurrentState_1().ObjectsName);
    sceneObject.relativeObjects.map_0.clear_1();
    sceneObject.resetObject();
  }
  ($clinit_SceneObjectDatabase() , currentScene_0) == this$static && $onSceneMadeCurrent(this$static);
}

function $resumeAllSceneSounds(this$static){
  var object, object$iterator, objects;
  if (this$static.Loading || this$static.PreparingLoading) {
    $info_1(Log_54, 'scene still loading, so we wont resume sounds');
    return;
  }
  objects = getAllObjectsOnScene(this$static);
  if (objects) {
    for (object$iterator = new Collections$UnmodifiableCollectionIterator(objects.coll.iterator()); object$iterator.it.hasNext();) {
      object = dynamicCast(object$iterator.it.next_0(), 147);
      object.resumeObjectsSounds();
    }
  }
   else {
    $severe_0(Log_54, 'ERROR resuming sounds on scene ' + this$static.SceneFileName + ' but there was no objects returned');
  }
}

function $rightclickortouch(this$static, x_0, y_0){
  var backgroundActionsFound, sceneActionsFound;
  lastclicked_x_0 = x_0;
  lastclicked_y_0 = y_0;
  $info_1(Log_54, 'scene clicked at ' + x_0 + ' , ' + y_0);
  lastclickedscreen_x = x_0;
  lastclickedscreen_y = y_0;
  backgroundActionsFound = runForSceneActions(this$static, ($clinit_ActionSet$TriggerType() , BackgroundRightClickActions), null, null);
  sceneActionsFound = runForSceneActions(this$static, MouseRightClickAction, null, null);
  if ($clinit_InventoryPanelCore() , currentlyHeldItem) {
    if (!backgroundActionsFound && !sceneActionsFound) {
      $info_1(Log_54, 'no right click  actions found so unholding');
      unholdItem();
      return;
    }
    if (!($clinit_SceneMenuWithPopUp() , menuShowing).value_0 && currentlyHeldItem.keepheld != ($clinit_IsInventoryIcon$KeepHeldMode() , onuse)) {
      $info_1(Log_54, '_________unholdItem after processInstructions ');
      unholdItem();
    }
     else {
      $info_1(Log_54, '_________menu showing, so we keep holding');
    }
  }
}

function $scrollViewToPosition(this$static, centerX, centerY, speed){
  $info_1(($clinit_SceneWidgetVisual() , Log_95), 'scrolling view to:' + centerX + ',' + centerY + ' at speed ' + speed);
  $scrollViewToPos(this$static.sceneBackground, centerX, centerY, ($clinit_Boolean() , speed));
  this$static.currentState.PosX = centerX;
  this$static.currentState.PosY = centerY;
}

function $setBackgroundUrl(this$static, url_0){
  this$static.currentState.currentBackground = this$static.SceneFolderLocation + '/' + url_0;
  $setDraggableBackground(this$static.sceneBackground, this$static.currentState.currentBackground);
}

function $setScenesData(this$static, scenesData){
  this$static.scenesData = scenesData;
}

function $setToSceneState(this$static, setToThisState){
  $ScenesLog_0(this$static, 'Setting to supplied scene state:' + $seralise(setToThisState));
  this$static.currentState.NumOfTimesPlayerHasBeenHere = setToThisState.NumOfTimesPlayerHasBeenHere;
  this$static.currentState.hasNotBeenCurrentYet = setToThisState.hasNotBeenCurrentYet;
  this$static.currentState.currentBackground = setToThisState.currentBackground;
  $setDraggableBackground(this$static.sceneBackground, this$static.currentState.currentBackground);
  this$static.currentState.DynamicOverlayCSS = setToThisState.DynamicOverlayCSS;
  $setDynamicSceneOverlay(this$static, this$static.currentState.DynamicOverlayCSS);
  this$static.currentState.StaticOverlayCSS = setToThisState.StaticOverlayCSS;
  $setStaticSceneOverlay(this$static, this$static.currentState.StaticOverlayCSS);
  this$static.currentState.PosX = setToThisState.PosX;
  this$static.currentState.PosY = setToThisState.PosY;
  $info_1(Log_54, 'resetting scene to the position:' + setToThisState.PosX + ',' + setToThisState.PosY);
  $setViewPosition(this$static, setToThisState.PosX, setToThisState.PosY);
  this$static.ScenesLog.log_0('(done)');
}

function $setUpScene(this$static, scenedata){
  var sceneObject, sceneobjectit;
  sceneobjectit = new AbstractList$IteratorImpl(scenedata.scenesOriginalObjects);
  $info_1(Log_54, '_____setting up scene background;');
  scenedata.MovementLimitsSX == -1 && (scenedata.MovementLimitsSX = 0);
  scenedata.MovementLimitsSY == -1 && (scenedata.MovementLimitsSY = 0);
  scenedata.MovementLimitsEX == -1 && (scenedata.MovementLimitsEX = scenedata.InternalSizeX);
  scenedata.MovementLimitsEY == -1 && (scenedata.MovementLimitsEY = scenedata.InternalSizeY);
  $setSize(this$static.sceneBackground, '100%', '100%');
  $info_1(Log_95, '_____setting size:' + scenedata.InternalSizeX + ',' + scenedata.InternalSizeY);
  $setInternalSize(this$static.sceneBackground, scenedata.InternalSizeX, scenedata.InternalSizeY);
  $setMovementLimits(this$static.sceneBackground, scenedata.MovementLimitsSX, scenedata.MovementLimitsSY, scenedata.MovementLimitsEX, scenedata.MovementLimitsEY);
  $info_1(Log_95, ' setting styles ');
  $setBackgroundColour(this$static.sceneBackground, scenedata.containerBackground);
  $setDraggableBackground(this$static.sceneBackground, this$static.currentState.currentBackground);
  $setDraggableBackgroundRepeat(this$static.sceneBackground, scenedata.currentBackgroundRepeat);
  $info_1(Log_95, ' setting mouse over and scene position ');
  $setMouseOverEventsOnOverlays(this$static.sceneBackground);
  $info_1(Log_54, '_____setting up scene objects;');
  while (sceneobjectit.i < sceneobjectit.this$01_0.size_1()) {
    sceneObject = (checkCriticalElement(sceneobjectit.i < sceneobjectit.this$01_0.size_1()) , dynamicCast(sceneobjectit.this$01_0.get_0(sceneobjectit.last = sceneobjectit.i++), 24));
    $addObjectToScene(this$static, sceneObject);
  }
  $info_1(Log_54, 'Objects loaded');
  $info_1(Log_54, '_____setting up scene actions;');
  this$static.sceneActions = scenedata.sceneActions;
  !scenedata.sceneActions && $info_1(Log_54, '_____no scene actions');
  $ScenesLog(this$static, '__setting up scene location status;' + scenedata.currentState.PosX + ',' + scenedata.currentState.PosY);
  this$static.currentState.PosX = scenedata.currentState.PosX;
  this$static.currentState.PosY = scenedata.currentState.PosY;
  $setViewPosition(this$static, this$static.currentState.PosX, this$static.currentState.PosY);
  $setScroll(this$static, ($clinit_Boolean() , scenedata.PanX?TRUE_3:FALSE_2), scenedata.PanY?TRUE_3:FALSE_2);
  $info_1(Log_54, ' scene set up done so we add to the list ');
  this$static.PreparingLoading = false;
  if ($getScenesCurrentObjectsOfType(scenedata, ($clinit_SceneObjectType() , Sprite)).map_0.size_1() == 0) {
    $info_1(Log_54, 'no sprite objects in scene so we check if we are loaded straight away');
    this$static.ObjectsLeftTooLoad <= 0 && this$static.Loading && $LoadComplete_0(this$static);
  }
}

function $testForSceneDebut(this$static){
  $info_1(Log_54, 'scene ' + this$static.SceneFileName + ' loading=' + this$static.Loading + ' PreparingLoading=' + this$static.PreparingLoading);
  if (this$static.currentState.hasNotBeenCurrentYet && !this$static.Loading && !this$static.PreparingLoading) {
    $info_1(Log_54, 'scene ' + this$static.SceneFileName + ' made current for first time');
    $addToGlobalGameLog('___GONE TO SCENE:' + this$static.SceneFileName + ' FOR FIRST TIME');
    runForSceneActions(this$static, ($clinit_ActionSet$TriggerType() , SceneDebut), null, null);
    this$static.currentState.hasNotBeenCurrentYet = false;
  }
   else {
    $info_1(Log_54, 'scene ' + this$static.SceneFileName + ' has already been current');
    $addToGlobalGameLog('___GONE TO SCENE:' + this$static.SceneFileName);
  }
}

function $toggleCmap(this$static){
  this$static.scenesCmap.isPresent() && $showCmap(dynamicCast(this$static.scenesCmap.get_1(), 73), !$isCmapVisible(dynamicCast(this$static.scenesCmap.get_1(), 73)));
}

function $togglePath(this$static){
  this$static.scenesCmap.isPresent() && $showPath(dynamicCast(this$static.scenesCmap.get_1(), 73), !$isPathVisible(dynamicCast(this$static.scenesCmap.get_1(), 73)));
}

function SceneWidget(SceneFileName){
  var onResponse, onError;
  $clinit_SceneWidget();
  this.scenesCmap = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  this.currentState = new SceneStatus;
  this.AllDynamicObjects = new HashSet;
  all_scenes.put(SceneFileName.toLowerCase(), this);
  $info_1(Log_54, 'Loading scene: ' + SceneFileName);
  this.SceneFileName = SceneFileName;
  this.SceneFolderLocation = 'Game Scenes/' + SceneFileName;
  this.SceneFileLocation = this.SceneFolderLocation + '/' + SceneFileName + '.jam';
  if (firstLoadOfAnyScene) {
    $info_1(Log_54, ' loading global actions ');
    $clinit_InstructionProcessor();
    onResponse = new InstructionProcessor$10;
    onError = new InstructionProcessor$11;
    $clinit_RequiredImplementations();
    GetTextFile('Game Scenes/GlobalActions.jam', onResponse, onError, false, true);
    firstLoadOfAnyScene = false;
  }
}

function checkAllScenesStillWaitingToLoadStates(){
  var scenetoCheck, scenetoCheck$iterator;
  $info_1(Log_54, 'Rechecking all scenes in case they have states to load ');
  for (scenetoCheck$iterator = $iterator_5(new AbstractMap$2(all_scenes)); scenetoCheck$iterator.val$outerIter2.hasNext();) {
    scenetoCheck = dynamicCast($next_8(scenetoCheck$iterator), 239);
    if (scenetoCheck.StateToLoad) {
      $info_1(Log_54, 'retesting ' + scenetoCheck.SceneFileName + ' as its waiting to load a state');
      $loadSceneState(scenetoCheck, scenetoCheck.sceneStateToLoad, scenetoCheck.objectsCurrentStateToLoad);
    }
  }
}

function getSceneByName(scenename){
  $clinit_SceneWidget();
  var rawscenename, scene;
  rawscenename = scenename.toLowerCase();
  $endsWith(scenename, '__scene') && (rawscenename = $substring_0(scenename, 0, scenename.length - 7));
  scene = dynamicCast(all_scenes.get_2(rawscenename), 239);
  if (!scene) {
    $info_1(Log_54, 'Scene not present or still loading');
    $info_1(Log_54, 'current number of scenes:' + all_scenes.size_1());
    $info_1(Log_54, 'was looking for:' + rawscenename);
    return null;
  }
   else {
    $info_1(Log_54, 'Scene found');
  }
  return scene;
}

function runForSceneActions(scene, type_0, Parameter, sourceObject){
  $clinit_SceneWidget();
  var actions, sceneActions, sourceObjectName;
  sceneActions = scene.sceneActions;
  if (!sceneActions) {
    scene.ScenesLog.log_0('(scene sceneActions is null! maybe not loaded yet? ');
    $info_1(Log_54, 'scene sceneActions is null! Thats really mega wrong :(');
    return false;
  }
  actions = $getActionsForTrigger(sceneActions, type_0, Parameter);
  if (actions.array.length > 0) {
    $info_1(Log_54, 'scene actions:' + actions);
    sourceObjectName = 'NoSourceObject_';
    if (sourceObject) {
      (type_0 == ($clinit_ActionSet$TriggerType() , MouseClickAction) || type_0 == MouseRightClickAction) && ($clinit_SceneObjectDatabase() , $clinit_SceneObjectDatabase() , lastSceneObjectClicked = sourceObject);
      if (type_0 == MouseClickAction || type_0 == MouseRightClickAction || type_0 == MouseOutAction || type_0 == MouseOverAction) {
        wasLastObjectUpdated(sourceObject);
        sourceObject.updateLastClickedLocation();
        sourceObject.objectScene_0?(sourceObjectName = sourceObject.objectScene_0.SceneFileName + '_' + sourceObject.objectsCurrentState_2.ObjectsName):(sourceObjectName = sourceObject.objectsCurrentState_2.ObjectsName);
      }
    }
    $clinit_JAMcore();
    $clinit_InstructionProcessor();
    processInstructions(actions, 'FROM_' + sourceObjectName, sourceObject);
    return true;
  }
   else {
    $info_1(Log_54, 'no scene actions  for trigger ' + (type_0.name_0 != null?type_0.name_0:'' + type_0.ordinal));
  }
  return false;
}

function setActiveScene(scene, silentmode){
  $clinit_SceneWidget();
  if (($clinit_SceneObjectDatabase() , currentScene_0) != scene) {
    $info_1(Log_54, '____scene changed too:' + scene.SceneFolderLocation);
    !!currentScene_0 && $onSceneNoLongerCurrent(currentScene_0);
    currentScene_0 = scene;
    silentmode || $onSceneMadeCurrent(scene);
  }
   else {
    $info_1(Log_54, '____current active scene is already:' + currentScene_0.SceneFileName);
    silentmode || $onSceneMadeCurrent(scene);
  }
}

defineClass(239, 1, {239:1});
_.Loading = true;
_.ObjectsLeftTooLoad = 0;
_.PreparingLoading = true;
_.StateToLoad = false;
_.loadingsilently = false;
_.scenesData = null;
var LoadingBackground = '', Log_54, all_scenes, firstLoadOfAnyScene = true;
var Lcom_lostagain_Jam_Scene_SceneWidget_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneWidget', 239, Ljava_lang_Object_2_classLit);
function SceneWidget$1(this$0){
  this.this$01 = this$0;
}

defineClass(1129, 1, {}, SceneWidget$1);
_.run_2 = function run_49(responseData, responseCode){
  if (responseCode == 404 || responseCode == 204) {
    $info_1(($clinit_SceneWidget() , Log_54), '________no cmap file recieved (' + responseCode + '):\n');
    return;
  }
  $info_1(($clinit_SceneWidget() , Log_54), '________________________________________________________vmap data recieved:');
  $info_1(Log_54, 'collision data recieved:' + responseData);
  if (responseData.length < 3) {
    $info_1(Log_54, 'collision data too short error');
    return;
  }
  this.this$01.scenesCmap = new Present(checkNotNull(new SceneCollisionMap(responseData, this.this$01)));
}
;
var Lcom_lostagain_Jam_Scene_SceneWidget$1_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneWidget/1', 1129, Ljava_lang_Object_2_classLit);
function SceneWidget$2(this$0){
  this.this$01 = this$0;
}

defineClass(1130, 1, {}, SceneWidget$2);
_.run_1 = function run_50(errorData, exception){
  $info_1(($clinit_SceneWidget() , Log_54), 'error or nocmap recieved:' + exception.detailMessage);
  this.this$01.scenesCmap = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
}
;
var Lcom_lostagain_Jam_Scene_SceneWidget$2_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneWidget/2', 1130, Ljava_lang_Object_2_classLit);
function SceneWidget$3(this$0, val$SceneData){
  this.this$01 = this$0;
  this.val$SceneData2 = val$SceneData;
}

defineClass(1131, 1, {}, SceneWidget$3);
_.run_2 = function run_51(responseData, responseCode){
  var itemsData, sceneData;
  $setLoadingMessage_0(this.this$01, 'Got Object data....');
  if (responseCode == 404) {
    $info_1(($clinit_SceneWidget() , Log_54), '________no items file recieved (404):\n');
    return;
  }
  $ScenesLog(this.this$01, 'loading scenes items...');
  itemsData = parseForLanguageSpecificExtension(responseData);
  itemsData = parseForTextIDs(itemsData);
  $setLoadingBackground(this.this$01.sceneBackground, ($clinit_SceneWidget() , LoadingBackground));
  $setLoadingMessages_1(this.this$01);
  $setLoadingMessage_0(this.this$01, 'Processing Object data....');
  $warning_0(Log_54, 'Processing Object data for scene....' + this.this$01.currentState.SceneName);
  sceneData = new SceneData_0(this.val$SceneData2, itemsData, this.this$01, this.this$01.currentState);
  $setScenesData(this.this$01, sceneData);
  $setLoadingMessage_0(this.this$01, 'Processed Object data.......');
  $warning_0(Log_54, 'scene data loaded for ' + this.this$01.scenesData.SceneFolderName);
  this.this$01.currentState.SceneName = this.this$01.scenesData.SceneFolderName;
  this.this$01.defaultState = new SceneStatus_1(this.this$01.currentState.SceneName, this.this$01.currentState.PosX, this.this$01.currentState.PosY, this.this$01.currentState.NumOfTimesPlayerHasBeenHere, this.this$01.currentState.currentBackground, this.this$01.currentState.DynamicOverlayCSS, this.this$01.currentState.StaticOverlayCSS, this.this$01.currentState.hasNotBeenCurrentYet);
  $info_1(($clinit_SceneData() , Log_52), 'dealing with objects:' + sceneData.itemssourcefile);
  $extractItems(sceneData, sceneData.itemssourcefile);
  $setUpScene_0(this.this$01, this.this$01.scenesData);
}
;
var Lcom_lostagain_Jam_Scene_SceneWidget$3_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneWidget/3', 1131, Ljava_lang_Object_2_classLit);
function SceneWidget$4(){
}

defineClass(1132, 1, {}, SceneWidget$4);
_.run_1 = function run_52(errorData, exception){
  $info_1(($clinit_SceneWidget() , Log_54), 'error recieved:' + exception.detailMessage);
}
;
var Lcom_lostagain_Jam_Scene_SceneWidget$4_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneWidget/4', 1132, Ljava_lang_Object_2_classLit);
function SceneWidget$5(this$0, val$SceneFileName){
  this.this$01 = this$0;
  this.val$SceneFileName2 = val$SceneFileName;
}

defineClass(1133, 1, {}, SceneWidget$5);
_.run_2 = function run_53(responseData, responseCode){
  var SceneData;
  $setLoadingMessage_0(this.this$01, 'Processing Scenes Data....');
  SceneData = parseForLanguageSpecificExtension(responseData);
  SceneData = parseForTextIDs(SceneData);
  $info_1(($clinit_SceneWidget() , Log_54), 'Text recieved: ' + SceneData);
  $getItemData(this.this$01, this.val$SceneFileName2, SceneData);
  $info_1(Log_54, 'getting cmap data');
  $getCollisionData(this.this$01, this.val$SceneFileName2);
}
;
var Lcom_lostagain_Jam_Scene_SceneWidget$5_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneWidget/5', 1133, Ljava_lang_Object_2_classLit);
function SceneWidget$6(){
}

defineClass(1134, 1, {}, SceneWidget$6);
_.run_1 = function run_54(errorData, exception){
  $info_1(($clinit_SceneWidget() , Log_54), 'error recieved:' + exception.detailMessage);
}
;
var Lcom_lostagain_Jam_Scene_SceneWidget$6_2_classLit = createForClass('com.lostagain.Jam.Scene', 'SceneWidget/6', 1134, Ljava_lang_Object_2_classLit);
function $clinit_TextOptionFlowPanelCore(){
  $clinit_TextOptionFlowPanelCore = emptyMethod;
  globalTextOptionsList = new HashMap;
}

defineClass(395, 1, {395:1});
var globalTextOptionsList;
var Lcom_lostagain_Jam_Scene_TextOptionFlowPanelCore_2_classLit = createForClass('com.lostagain.Jam.Scene', 'TextOptionFlowPanelCore', 395, Ljava_lang_Object_2_classLit);
function $clinit_SceneAndPageSet(){
  $clinit_SceneAndPageSet = emptyMethod;
  Log_55 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneAndPageSet'));
}

function $addNewSceneToSet(this$static, scene, name_0, location_0, makeactive, silentmode){
  var container;
  this$static.PageCount = this$static.PageCount + 1;
  $endsWith(name_0, '__scene') || (name_0 = name_0 + '__scene');
  this$static.OpenPagesInSet.add_0(name_0);
  $info_1(Log_55, 'adding to active location puzzle list:' + name_0);
  ($clinit_JAMcore() , currentOpenPages).add_0(name_0);
  locationpuzzlesActive.add_0(location_0);
  if (AnswerBox.isPresent()) {
    $setEnabled_1(dynamicCast(AnswerBox.get_1(), 74), true);
    $setFocus(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents, true);
    $setText_6(dynamicCast(AnswerBox.get_1(), 74), '');
  }
  container = new SimplePanel_1(scene.sceneBackground);
  ($clinit_DOM() , container.element).style['backgroundColor'] = '#000';
  container.setSize('100%', '100%');
  $add_10(this$static.visualContents, scene.sceneBackground, name_0);
  if (makeactive) {
    $info_1(Log_55, ' tab selected ');
    setActiveScene(scene, silentmode);
  }
}

function $getPageNumber(this$static, pageName){
  var TabCount, cindex;
  TabCount = this$static.PageCount;
  $info_1(Log_55, 'searching for:' + pageName + ' out of:' + TabCount);
  cindex = 0;
  while (cindex < TabCount) {
    $info_1(Log_55, 'testing:' + dynamicCastToString($get(($clinit_JAMcore() , currentOpenPages), cindex)));
    if ($equalsIgnoreCase(dynamicCastToString($get(currentOpenPages, cindex)), pageName)) {
      return cindex;
    }
    ++cindex;
  }
  return -1;
}

function $removePageFromSet(this$static, PageName){
  var PageNum;
  PageNum = $getPageNumber(this$static, PageName);
  this$static.OpenPagesInSet.remove_0(PageNum);
  ($clinit_JAMcore() , currentOpenPages).remove_0(PageNum);
  locationpuzzlesActive.remove_0(PageNum);
  this$static.PageCount = this$static.PageCount - 1;
  $remove_13(this$static.visualContents, PageNum);
}

function $selectPage(this$static, scenename){
  var PageNum;
  PageNum = $getPageNumber(this$static, scenename);
  PageNum != -1 && $selectTab_0(this$static.visualContents, PageNum);
}

function $selectPageIfLoadedOrSceneStraightAwayImplementation(this$static, NewMessageURL){
  var index_0;
  $info_1(Log_55, 'Trying to set page to :' + NewMessageURL + ':');
  if ($endsWith(NewMessageURL, '__scene')) {
    $info_1(Log_55, 'Scene detected :' + NewMessageURL + ':');
    bringSceneToFront_0(($clinit_JAMcore() , pageToSelect), false);
    return;
  }
  if (($clinit_JAMcore() , NumberOfHTMLsLeftToLoad) == 0) {
    index_0 = NewMessageURL.indexOf('.html');
    index_0 > 0 && (NewMessageURL = NewMessageURL.substr(0, index_0));
    $selectPage(this$static, NewMessageURL);
    triggerSelectCheck = false;
    pageToSelect = '';
  }
   else {
    $info_1(Log_55, '/n -=-=-=-');
    $info_1(Log_55, '/n -=-=-=- Page has to be brought to front, but there is still stuff left to load');
    triggerSelectCheck = true;
    pageToSelect = NewMessageURL;
  }
}

function selectPageIfLoadedOrSceneStraightAway(currentProperty){
  $clinit_SceneAndPageSet();
  $selectPageIfLoadedOrSceneStraightAwayImplementation(($clinit_JAMcore() , CurrentScenesAndPages), currentProperty);
}

defineClass(230, 1, {230:1});
_.PageCount = 0;
var Log_55;
var Lcom_lostagain_Jam_SceneAndPageSet_2_classLit = createForClass('com.lostagain.Jam', 'SceneAndPageSet', 230, Ljava_lang_Object_2_classLit);
function $getPointsFor(this$static, attachementName, FrameNumber){
  var wp;
  wp = dynamicCast($getStringValue(this$static.attachmentPointLists, attachementName), 91);
  return wp?(checkElementIndex(FrameNumber, wp.array.length) , dynamicCast(wp.array[FrameNumber], 23)):null;
}

function $serialise_0(this$static){
  var movementPath, movementPath$iterator, points, test_0;
  test_0 = '';
  points = new AbstractMap$2(this$static.attachmentPointLists);
  for (movementPath$iterator = $iterator_5(points); movementPath$iterator.val$outerIter2.hasNext();) {
    movementPath = dynamicCast($next_8(movementPath$iterator), 91);
    test_0 = test_0 + '\n' + movementPath.pathsName + '\n' + $getAsSVGPath(movementPath, true);
  }
  test_0 = $replace_0(test_0, 'l', '');
  test_0 = $replace_0(test_0, 'm', '');
  test_0 = $replace_0(test_0, 'z', '');
  test_0 = $replace_0(test_0, 'L', '');
  test_0 = $replace_0(test_0, 'M', '');
  test_0 = $replace_0(test_0, 'Z', '');
  return test_0;
}

function AttachmentList(SerialisedPoints){
  SerialisedPoints = $replace_0(SerialisedPoints, '-Points', '-Path');
  this.attachmentPointLists = new MovementList(SerialisedPoints);
}

defineClass(403, 1, {403:1}, AttachmentList);
var Lcom_lostagain_Jam_SceneObjects_AttachmentList_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'AttachmentList', 403, Ljava_lang_Object_2_classLit);
function $$init_18(this$static){
  this$static.topleft = new Simple2DPoint(0, 0);
  this$static.bottomright = new Simple2DPoint(0, 0);
}

function $toString_14(this$static){
  return this$static.topleft.x_0 + ',' + this$static.topleft.y_0 + ',' + this$static.bottomright.x_0 + ',' + this$static.bottomright.y_0;
}

function CollisionBox(topleft, bottomright){
  $$init_18(this);
  this.topleft = topleft;
  this.bottomright = bottomright;
}

function CollisionBox_0(parameters){
  var coordinates;
  $$init_18(this);
  coordinates = $split_0(parameters, ',', 0);
  this.topleft.x_0 = __parseAndValidateInt(coordinates[0], 10);
  this.topleft.y_0 = __parseAndValidateInt(coordinates[1], 10);
  this.bottomright.x_0 = __parseAndValidateInt(coordinates[2], 10);
  this.bottomright.y_0 = __parseAndValidateInt(coordinates[3], 10);
}

defineClass(270, 1, {270:1}, CollisionBox, CollisionBox_0);
_.toString$ = function toString_68(){
  return $toString_14(this);
}
;
var Lcom_lostagain_Jam_SceneObjects_CollisionBox_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'CollisionBox', 270, Ljava_lang_Object_2_classLit);
function $clinit_CollisionType(){
  $clinit_CollisionType = emptyMethod;
  none = new CollisionType('none', 0);
  bottomline = new CollisionType('bottomline', 1);
  box_0 = new CollisionType('box', 2);
  point_0 = new CollisionType('point', 3);
  Log_56 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.CollisionType'));
}

function $toString_15(this$static){
  return this$static.customCollisionBox.isPresent()?(this$static.name_0 != null?this$static.name_0:'' + this$static.ordinal) + '(' + $toString_14(dynamicCast(this$static.customCollisionBox.get_1(), 270)) + ')':this$static.name_0 != null?this$static.name_0:'' + this$static.ordinal;
}

function CollisionType(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
  this.customCollisionBox = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
}

function parseString_0(specifiedCollisionType){
  $clinit_CollisionType();
  var mode, parameters, pieces, type_0;
  pieces = $split_0(specifiedCollisionType, '\\(', 0);
  mode = $trim(pieces[0]);
  type_0 = dynamicCast(valueOf(($clinit_CollisionType$Map() , $MAP_29), mode), 216);
  if (pieces.length > 1) {
    parameters = $trim(pieces[1]);
    parameters = $substring_0(parameters, 0, parameters.length - 1);
    switch (type_0.ordinal) {
      case 1:
        $info_1(Log_56, 'parameters supplied, but bottomline mode doesnt use them:' + parameters);
        break;
      case 2:
        $info_1(Log_56, 'parameters supplied for box collision:' + parameters);
        type_0.customCollisionBox = new Present(checkNotNull(new CollisionBox_0(parameters)));
        break;
      case 0:
        $info_1(Log_56, 'parameters supplied, but "none" mode doesnt use them:' + parameters);
        break;
      case 3:
        $info_1(Log_56, 'parameters supplied, but point mode doesnt use them:' + parameters);
    }
  }
  return type_0;
}

function valueOf_31(name_0){
  $clinit_CollisionType();
  return valueOf(($clinit_CollisionType$Map() , $MAP_29), name_0);
}

function values_37(){
  $clinit_CollisionType();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_CollisionType_2_classLit, 1), $intern_1, 216, 0, [none, bottomline, box_0, point_0]);
}

defineClass(216, 9, {216:1, 3:1, 21:1, 9:1}, CollisionType);
_.toString$ = function toString_69(){
  return $toString_15(this);
}
;
var Log_56, bottomline, box_0, none, point_0;
var Lcom_lostagain_Jam_SceneObjects_CollisionType_2_classLit = createForEnum('com.lostagain.Jam.SceneObjects', 'CollisionType', 216, Ljava_lang_Enum_2_classLit, values_37, valueOf_31);
function $clinit_CollisionType$Map(){
  $clinit_CollisionType$Map = emptyMethod;
  $MAP_29 = createValueOfMap(($clinit_CollisionType() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_CollisionType_2_classLit, 1), $intern_1, 216, 0, [none, bottomline, box_0, point_0])));
}

var $MAP_29;
function $clinit_IsInventoryIcon$IconMode(){
  $clinit_IsInventoryIcon$IconMode = emptyMethod;
  Image_5 = new IsInventoryIcon$IconMode('Image', 0);
  Text_1 = new IsInventoryIcon$IconMode('Text', 1);
  CaptionedImage = new IsInventoryIcon$IconMode('CaptionedImage', 2);
}

function IsInventoryIcon$IconMode(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_32(name_0){
  $clinit_IsInventoryIcon$IconMode();
  return valueOf(($clinit_IsInventoryIcon$IconMode$Map() , $MAP_30), name_0);
}

function values_38(){
  $clinit_IsInventoryIcon$IconMode();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_Interfaces_IsInventoryIcon$IconMode_2_classLit, 1), $intern_1, 259, 0, [Image_5, Text_1, CaptionedImage]);
}

defineClass(259, 9, {259:1, 3:1, 21:1, 9:1}, IsInventoryIcon$IconMode);
var CaptionedImage, Image_5, Text_1;
var Lcom_lostagain_Jam_SceneObjects_Interfaces_IsInventoryIcon$IconMode_2_classLit = createForEnum('com.lostagain.Jam.SceneObjects.Interfaces', 'IsInventoryIcon/IconMode', 259, Ljava_lang_Enum_2_classLit, values_38, valueOf_32);
function $clinit_IsInventoryIcon$IconMode$Map(){
  $clinit_IsInventoryIcon$IconMode$Map = emptyMethod;
  $MAP_30 = createValueOfMap(($clinit_IsInventoryIcon$IconMode() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_Interfaces_IsInventoryIcon$IconMode_2_classLit, 1), $intern_1, 259, 0, [Image_5, Text_1, CaptionedImage])));
}

var $MAP_30;
function $clinit_IsInventoryIcon$KeepHeldMode(){
  $clinit_IsInventoryIcon$KeepHeldMode = emptyMethod;
  never = new IsInventoryIcon$KeepHeldMode('never', 0);
  onuse = new IsInventoryIcon$KeepHeldMode('onuse', 1);
}

function IsInventoryIcon$KeepHeldMode(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_33(name_0){
  $clinit_IsInventoryIcon$KeepHeldMode();
  return valueOf(($clinit_IsInventoryIcon$KeepHeldMode$Map() , $MAP_31), name_0);
}

function values_39(){
  $clinit_IsInventoryIcon$KeepHeldMode();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_Interfaces_IsInventoryIcon$KeepHeldMode_2_classLit, 1), $intern_1, 258, 0, [never, onuse]);
}

defineClass(258, 9, {258:1, 3:1, 21:1, 9:1}, IsInventoryIcon$KeepHeldMode);
var never, onuse;
var Lcom_lostagain_Jam_SceneObjects_Interfaces_IsInventoryIcon$KeepHeldMode_2_classLit = createForEnum('com.lostagain.Jam.SceneObjects.Interfaces', 'IsInventoryIcon/KeepHeldMode', 258, Ljava_lang_Enum_2_classLit, values_39, valueOf_33);
function $clinit_IsInventoryIcon$KeepHeldMode$Map(){
  $clinit_IsInventoryIcon$KeepHeldMode$Map = emptyMethod;
  $MAP_31 = createValueOfMap(($clinit_IsInventoryIcon$KeepHeldMode() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_Interfaces_IsInventoryIcon$KeepHeldMode_2_classLit, 1), $intern_1, 258, 0, [never, onuse])));
}

var $MAP_31;
function $clinit_SceneObjectState(){
  $clinit_SceneObjectState = emptyMethod;
  Log_57 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneObjectState'));
}

function $$init_19(this$static){
  this$static.objectsPrimaryType = ($clinit_SceneObjectType() , Sprite);
  this$static.objectsCapabilities = new HashSet;
  this$static.pathfinding = ($clinit_SceneObjectState$pathfindingMode() , normal);
  this$static.boundaryType = ($clinit_CollisionType() , none);
  this$static.moveState = new MovementState;
  this$static.objectsProperties = new PropertySet;
  this$static.ObjectRuntimeVariables = new VariableSet;
  this$static.touching = new SceneObjectSet;
}

function $deserialise(this$static, serialised){
  var data_0, incomingdata, incomingdatalist;
  data_0 = $split_0(serialised, '_#_', -1);
  $info_1(Log_57, '__________________________________Deserialising :' + data_0.length);
  incomingdatalist = new Arrays$ArrayList(data_0);
  incomingdata = new AbstractList$IteratorImpl(incomingdatalist);
  this$static.loadParameters(incomingdata);
}

function $extractData(this$static, Parameters){
  var X, Y, Z, attachmentPointName, currentParamType, currentline, currentlinenum, div, fh, firstparam, gamequality, glue, itemslines, mov, param, params, positionRelativeToThisString, propertys, val, value_0, value1, value2, value3, xRelString, yRelString, zRelString;
  $info_1(Log_57, 'extracting universal object data from:\r' + Parameters);
  itemslines = $split_0(Parameters, '\n', 0);
  $info_1(Log_57, ' itemslines:' + itemslines.length);
  this$static.ObjectsParamatersFromFile = itemslines;
  currentlinenum = 0;
  while (currentlinenum < itemslines.length) {
    currentline = $trim(itemslines[currentlinenum]);
    ++currentlinenum;
    if (currentline.length < 3 || $equals_5(currentline.substr(0, 2), '//')) {
      continue;
    }
    param = $trim($split_0(currentline, '=', 0)[0]);
    value_0 = $trim($split_0(currentline, '=', 0)[1]);
    try {
      currentParamType = valueOf_35(param.toLowerCase());
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 44)) {
        continue;
      }
       else 
        throw unwrap($e0);
    }
    if (currentParamType == ($clinit_SceneObjectState$SceneObjectParamTypes() , minquality)) {
      $info_1(Log_57, 'Item specifies quality of :' + value_0);
      val = __parseAndValidateInt(value_0, 10);
      gamequality = __parseAndValidateInt(($clinit_JAMcore() , Quality_0), 10);
      if (gamequality < val) {
        $info_1(Log_57, 'Game quality too low for this item');
        this$static.DONT_USE_THIS_OBJECT = true;
        return;
      }
    }
    params = $split_0(value_0, ',', 0);
    switch (currentParamType.ordinal) {
      case 1:
        this$static.ObjectsName = value_0;
        $info_1(Log_57, 'Objects name set to:' + this$static.ObjectsName);
        break;
      case 2:
        {
          if ($trim(value_0).length > 2) {
            value_0 = ($clinit_JAMcore() , SwapCustomWords(value_0, true));
            value_0 = parseForTextIDs(value_0);
            this$static.Title = value_0;
            $info_1(Log_57, 'Objects Title set to:' + this$static.Title);
          }
          break;
        }

      case 3:
        this$static.CurrentBoxCSS = value_0;
        $info_1(Log_57, 'Objects css set to:' + this$static.CurrentBoxCSS);
        break;
      case 4:
        this$static.CurrentBoxCSS = value_0;
        $info_1(Log_57, 'Objects CurrentBoxCSS set to:' + this$static.CurrentBoxCSS);
        break;
      case 5:
        this$static.BackgroundString = value_0;
        $info_1(Log_57, 'Objects BackgroundString set to:' + value_0);
        break;
      case 6:
        this$static.ObjectRuntimeVariables = new VariableSet_1(value_0);
        $info_1(Log_57, 'Objects variables set to:' + $replace_0($serialise_1(this$static.ObjectRuntimeVariables), '&', ','));
        break;
      case 7:
        {
          propertys = $split_0(value_0.toLowerCase(), ',', 0);
          this$static.objectsProperties = new PropertySet_2(propertys);
          $info_1(Log_57, 'Objects Properties set to:' + propertys.length);
          break;
        }

      case 8:
        {
          $fromNameCollection(this$static.touching, params);
          $info_1(Log_57, 'Objects touching set to:' + this$static.touching.tempObjectnames);
          break;
        }

      case 9:
        {
          $equalsIgnoreCase(value_0, 'TextBox')?$setObjectsPrimaryType(this$static, ($clinit_SceneObjectType() , DialogBox)):$equalsIgnoreCase(value_0, 'Text') || $equalsIgnoreCase(value_0, 'Label')?$setObjectsPrimaryType(this$static, ($clinit_SceneObjectType() , Label_4)):$equalsIgnoreCase(value_0, 'Div')?$setObjectsPrimaryType(this$static, ($clinit_SceneObjectType() , Div)):$equalsIgnoreCase(value_0, 'Vector')?$setObjectsPrimaryType(this$static, ($clinit_SceneObjectType() , Vector)):$equalsIgnoreCase(value_0, 'Input')?$setObjectsPrimaryType(this$static, ($clinit_SceneObjectType() , Input_0)):$setObjectsPrimaryType(this$static, ($clinit_SceneObjectType() , Sprite));
          $info_1(Log_57, 'Objects Type set to:' + $toString_1(this$static.objectsPrimaryType));
          break;
        }

      case 10:
        {
          fh = __parseAndValidateInt(value_0, 10);
          this$static.Z = fh;
          $info_1(Log_57, 'Objects FakeHeight set to:' + this$static.Z);
          break;
        }

      case 11:
        {
          glue = ($clinit_Boolean() , $clinit_Boolean() , $equalsIgnoreCase('true', value_0)?TRUE_3:FALSE_2);
          this$static.hasAttachmentPointFile = glue.value_0;
          $info_1(Log_57, 'Objects attachment point use:' + this$static.hasAttachmentPointFile);
          break;
        }

      case 12:
        {
          mov = ($clinit_Boolean() , $clinit_Boolean() , $equalsIgnoreCase('true', value_0)?TRUE_3:FALSE_2);
          this$static.hasMovementFile = mov.value_0;
          $info_1(Log_57, 'Objects movement file use:' + this$static.hasMovementFile);
          break;
        }

      case 13:
        {
          value1 = params[0];
          value2 = params[1];
          X = __parseAndValidateInt(value1, 10);
          Y = __parseAndValidateInt(value2, 10);
          this$static.PinPointX = X;
          this$static.PinPointY = Y;
          this$static.PinPointZ = 0;
          if (value_0.length == 3) {
            value3 = params[2];
            Z = __parseAndValidateInt(value3, 10);
            this$static.PinPointZ = Z;
          }
          $info_1(Log_57, 'Objects pin set to:' + this$static.PinPointX + ',' + this$static.PinPointY + ',' + this$static.PinPointZ);
        }

        break;
      case 14:
        this$static.ignoreSceneActions = ($clinit_Boolean() , $equalsIgnoreCase('true', value_0));
        $info_1(Log_57, 'ignore scene actions set to:' + this$static.ignoreSceneActions);
        break;
      case 15:
        this$static.ignorePointerEvents = ($clinit_Boolean() , $equalsIgnoreCase('true', value_0));
        $info_1(Log_57, 'ignorePointerEvents set to:' + this$static.ignorePointerEvents);
        break;
      case 23:
        this$static.forceReceiveActions = ($clinit_Boolean() , $equalsIgnoreCase('true', value_0));
        $info_1(Log_57, 'ignorePointerEvents set to:' + this$static.forceReceiveActions);
        break;
      case 16:
        {
          if (params.length == 1) {
            this$static.variableZindex = false;
            this$static.zindex = __parseAndValidateInt($trim(params[0]), 10);
            $info_1(Log_57, 'zindex set too--' + this$static.zindex);
          }
          if (params.length == 3) {
            this$static.lowerZindex = __parseAndValidateInt($trim(params[0]), 10);
            this$static.upperZindex = __parseAndValidateInt($trim(params[1]), 10);
            div = __parseAndValidateInt($trim(params[2]), 10);
            this$static.stepZindex = toInt(fromDouble(round0((this$static.upperZindex - this$static.lowerZindex) / div)));
            this$static.variableZindex = true;
            $info_1(Log_57, 'Got zindex =' + this$static.lowerZindex + '>' + this$static.upperZindex + ' ' + this$static.stepZindex);
          }
        }

        break;
      case 17:
        this$static.linkedZindex = true;
        this$static.linkedZindexDifference = __parseAndValidateInt($trim(value_0), 10);
        $info_1(Log_57, 'linking ' + this$static.ObjectsName + ' to ' + this$static.positionedRelativeToo);
        $info_1(Log_57, 'zindex different =  ' + this$static.linkedZindexDifference);
        break;
      case 18:
        {
          $info_1(Log_57, 'Value is ' + param + ' with ' + params.length + ' s');
          firstparam = ($clinit_Ints() , tryParse(params[0]));
          if (firstparam) {
            $info_1(Log_57, '(positioning absolutely)');
            yRelString = params[1];
            this$static.X = firstparam.value_0;
            this$static.Y = __parseAndValidateInt(yRelString, 10);
            if (params.length == 3) {
              zRelString = params[2];
              this$static.Z = __parseAndValidateInt(zRelString, 10);
            }
          }
           else {
            if (params.length <= 1) {
              this$static.attachToHTMLDiv = $trim(value_0);
              $info_1(Log_57, 'Objects Location set to a div:' + this$static.attachToHTMLDiv);
            }
             else {
              positionRelativeToThisString = params[0];
              if (positionRelativeToThisString.indexOf('(') != -1) {
                $info_1(Log_57, 'attachment point found');
                attachmentPointName = $split_0(positionRelativeToThisString, '\\(', 0)[1];
                attachmentPointName = $trim($substring_0(attachmentPointName, 0, attachmentPointName.length - 1));
                $info_1(Log_57, 'attachment point found=' + attachmentPointName);
                this$static.positionedRelativeToPoint = attachmentPointName;
                positionRelativeToThisString = $split_0(positionRelativeToThisString, '\\(', 0)[0];
              }
              this$static.positionedRelativeToo = getSingleSceneObjectNEW(positionRelativeToThisString, null, true);
              xRelString = params[1];
              yRelString = params[2];
              this$static.relX = __parseAndValidateInt(xRelString, 10);
              this$static.relY = __parseAndValidateInt(yRelString, 10);
              this$static.relZ = 0;
              if (params.length == 4) {
                zRelString = params[3];
                this$static.relZ = __parseAndValidateInt(zRelString, 10);
              }
              if (!this$static.positionedRelativeToo) {
                $warning_0(Log_57, 'object' + positionRelativeToThisString + ' to position relative too not found');
                $warning_0(Log_57, 'assigning values to position later (untested)');
                this$static.positionRelativeToOnceLoaded = positionRelativeToThisString;
              }
            }
          }
        }

        break;
      case 21:
        this$static.pathfinding = ($clinit_SceneObjectState$pathfindingMode() , dynamicCast(valueOf(($clinit_SceneObjectState$pathfindingMode$Map() , $MAP_35), value_0), 263));
        $info_1(Log_57, 'pathfinding  set to:' + this$static.pathfinding);
        break;
      case 20:
        this$static.boundaryType = parseString_0(value_0);
        $info_1(Log_57, 'collisiontype  set to:' + this$static.boundaryType);
        break;
      case 19:
        this$static.currentlyVisible = ($clinit_Boolean() , $equalsIgnoreCase('true', value_0));
        $info_1(Log_57, 'Visibility  set to:' + this$static.currentlyVisible);
        break;
      case 22:
        this$static.PropagateVisibility = ($clinit_Boolean() , $equalsIgnoreCase('true', value_0));
        $info_1(Log_57, 'Objects PropagateVisibility  set to:' + this$static.PropagateVisibility);
    }
  }
  $info_1(Log_57, 'setting up RelativePosition data');
  $setupRelativePosition(this$static);
}

function $getAllFieldsAsArrayList_0(this$static){
  var fieldList;
  fieldList = new ArrayList;
  $info_1(Log_57, 'getting global object fields.');
  fieldList.add_0(this$static.objectsPrimaryType);
  fieldList.add_0(this$static.ObjectsSceneName);
  fieldList.add_0(this$static.ObjectsName);
  fieldList.add_0(this$static.Title);
  fieldList.add_0(this$static.CurrentBoxCSS);
  fieldList.add_0(this$static.BackgroundString);
  fieldList.add_0(valueOf_45(this$static.X));
  fieldList.add_0(valueOf_45(this$static.Y));
  fieldList.add_0(valueOf_45(this$static.Z));
  fieldList.add_0(($clinit_Boolean() , this$static.restrictPositionToScreen?TRUE_3:FALSE_2));
  fieldList.add_0(this$static.attachToHTMLDiv);
  fieldList.add_0(valueOf_45(this$static.PinPointX));
  fieldList.add_0(valueOf_45(this$static.PinPointY));
  fieldList.add_0(valueOf_45(this$static.PinPointZ));
  fieldList.addAll($getAllFieldsAsArrayList(this$static.moveState));
  fieldList.add_0(this$static.currentlyVisible?TRUE_3:FALSE_2);
  fieldList.add_0(valueOf_45(this$static.zindex));
  fieldList.add_0(valueOf_45(this$static.lowerZindex));
  fieldList.add_0(valueOf_45(this$static.upperZindex));
  fieldList.add_0(valueOf_45(this$static.stepZindex));
  fieldList.add_0(this$static.variableZindex?TRUE_3:FALSE_2);
  fieldList.add_0(this$static.linkedZindex?TRUE_3:FALSE_2);
  fieldList.add_0(valueOf_45(this$static.linkedZindexDifference));
  if (!this$static.positionedRelativeToo && this$static.positionRelativeToOnceLoaded.length > 2) {
    fieldList.add_0(this$static.positionRelativeToOnceLoaded);
  }
   else {
    $info_1(Log_57, '________________________adding to field list:' + this$static.positionedRelativeToo);
    fieldList.add_0(this$static.positionedRelativeToo);
  }
  fieldList.add_0(valueOf_45(this$static.relX));
  fieldList.add_0(valueOf_45(this$static.relY));
  fieldList.add_0(valueOf_45(this$static.relZ));
  fieldList.add_0(this$static.clonedFrom);
  fieldList.add_0(this$static.spawningObject);
  !!this$static.clonedFrom && $info_1(Log_57, '________________________getting clonedFrom field..' + this$static.clonedFrom.getObjectsCurrentState_1().ObjectsName);
  !!this$static.objectsProperties && this$static.objectsProperties.objectsProperties.map_0.size_1() != 0?fieldList.add_0(this$static.objectsProperties):fieldList.add_0(null);
  !!this$static.ObjectRuntimeVariables && this$static.ObjectRuntimeVariables.size_0 != 0?fieldList.add_0(this$static.ObjectRuntimeVariables):fieldList.add_0(null);
  !!this$static.touching && this$static.touching.map_0.size_1() != 0?fieldList.add_0(this$static.touching):fieldList.add_0(null);
  $info_1(Log_57, 'got all ' + fieldList.array.length + ' global object fields.');
  return fieldList;
}

function $getCapabilitiesAsString(this$static){
  var capabilitiesString, capability, capability$iterator;
  capabilitiesString = '';
  for (capability$iterator = $iterator_4(new AbstractMap$1(this$static.objectsCapabilities.map_0)); capability$iterator.val$outerIter2.hasNext();) {
    capability = dynamicCast($next_7(capability$iterator), 114);
    capabilitiesString = capabilitiesString + capability + ',';
  }
  return capabilitiesString;
}

function $getParameterCodeLine(param, Value){
  var paramline;
  if (Value != null && Value.length < 1) {
    return '';
  }
  paramline = (param.name_0 != null?param.name_0:'' + param.ordinal) + ' = ' + Value + '\n';
  return paramline;
}

function $getParametersAsCode(this$static){
  var GenericParameters;
  GenericParameters = '\n';
  $isCompatibleWith(this$static, ($clinit_SceneObjectType() , Sprite)) || (GenericParameters = GenericParameters + $getParameterCodeLine(($clinit_SceneObjectState$SceneObjectParamTypes() , type_1), $toString_1(this$static.objectsPrimaryType)));
  GenericParameters = GenericParameters + $getParameterCodeLine(($clinit_SceneObjectState$SceneObjectParamTypes() , title_1), this$static.Title);
  GenericParameters = GenericParameters + $getParameterCodeLine(name_2, this$static.ObjectsName);
  GenericParameters = GenericParameters + $getParameterCodeLine(background, this$static.BackgroundString);
  GenericParameters = GenericParameters + $getParameterCodeLine(variables, $replace_0($serialise_1(this$static.ObjectRuntimeVariables), '&', ','));
  GenericParameters = GenericParameters + $getParameterCodeLine(properties_0, $toString_16(this$static.objectsProperties));
  this$static.Z != 0 && (GenericParameters = GenericParameters + $getParameterCodeLine(fakeheight, '' + this$static.Z));
  this$static.hasAttachmentPointFile && (GenericParameters = GenericParameters + $getParameterCodeLine(hasglufile, '' + this$static.hasAttachmentPointFile));
  this$static.hasMovementFile && (GenericParameters = GenericParameters + $getParameterCodeLine(hasmovementfile, '' + this$static.hasMovementFile));
  (this$static.PinPointX != 0 || this$static.PinPointY != 0 || this$static.PinPointZ != 0) && (GenericParameters = GenericParameters + $getParameterCodeLine(pin, this$static.PinPointX + ',' + this$static.PinPointY + ',' + this$static.PinPointZ));
  this$static.ignoreSceneActions && (GenericParameters = GenericParameters + $getParameterCodeLine(actionoveride, '' + this$static.ignoreSceneActions));
  this$static.ignorePointerEvents && (GenericParameters = GenericParameters + $getParameterCodeLine(pointertransparent, '' + this$static.ignorePointerEvents));
  this$static.forceReceiveActions && (GenericParameters = GenericParameters + $getParameterCodeLine(captureinteractions, '' + this$static.forceReceiveActions));
  this$static.pathfinding != ($clinit_SceneObjectState$pathfindingMode() , normal) && (GenericParameters = GenericParameters + $getParameterCodeLine(pathfinding, '' + this$static.pathfinding));
  this$static.boundaryType != ($clinit_CollisionType() , bottomline) && (GenericParameters = GenericParameters + $getParameterCodeLine(collisiontype, '' + $toString_15(this$static.boundaryType)));
  GenericParameters = GenericParameters + $getParameterCodeLine(zindex_0, '' + this$static.zindex);
  this$static.linkedZindex && (GenericParameters = GenericParameters + $getParameterCodeLine(linkedzindex, '' + this$static.linkedZindex));
  GenericParameters = GenericParameters + $getParameterCodeLine(located, ' (broken) ' + this$static.X + ',' + this$static.Y + ',' + this$static.Z);
  this$static.PropagateVisibility && (GenericParameters = GenericParameters + $getParameterCodeLine(propagatevisibility, '' + this$static.PropagateVisibility));
  return GenericParameters;
}

function $getX_0(this$static){
  return this$static.X + this$static.PinPointX;
}

function $getY_0(this$static){
  return this$static.Y + this$static.PinPointY;
}

function $getZ(this$static){
  return this$static.Z + this$static.PinPointZ;
}

function $isCompatibleWith(this$static, thisType){
  return $contains_0(this$static.objectsCapabilities, thisType);
}

function $loadParameters_0(this$static, incomingdata){
  var newobjectsProperties, newobjectsVaaribles, newtouching, objectClonedFrom, objectSpawnedFrom, objectToPosRelativeToo, objectsPropertiesArray, prop, prop$index, prop$max;
  incomingdata.next_0();
  $info_1(Log_57, 'loading global object data');
  this$static.ObjectsSceneName = dynamicCastToString(incomingdata.next_0());
  this$static.ObjectsName = dynamicCastToString(incomingdata.next_0());
  this$static.Title = dynamicCastToString(incomingdata.next_0());
  this$static.CurrentBoxCSS = dynamicCastToString(incomingdata.next_0());
  this$static.BackgroundString = dynamicCastToString(incomingdata.next_0());
  this$static.X = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.Y = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.Z = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.restrictPositionToScreen = ($clinit_Boolean() , $equalsIgnoreCase('true', dynamicCastToString(incomingdata.next_0())));
  this$static.attachToHTMLDiv = dynamicCastToString(incomingdata.next_0());
  this$static.PinPointX = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.PinPointY = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.PinPointZ = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  $loadParameters(this$static.moveState, incomingdata);
  this$static.currentlyVisible = $equalsIgnoreCase('true', dynamicCastToString(incomingdata.next_0()));
  this$static.zindex = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.lowerZindex = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.upperZindex = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.stepZindex = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.variableZindex = $equalsIgnoreCase('true', dynamicCastToString(incomingdata.next_0()));
  this$static.linkedZindex = $equalsIgnoreCase('true', dynamicCastToString(incomingdata.next_0()));
  this$static.linkedZindexDifference = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  objectToPosRelativeToo = dynamicCastToString(incomingdata.next_0());
  if (objectToPosRelativeToo.length > 2) {
    this$static.positionedRelativeToo = getSingleSceneObjectNEW(objectToPosRelativeToo, null, true);
    this$static.positionRelativeToOnceLoaded = '';
    if (!this$static.positionedRelativeToo) {
      $info_1(Log_57, 'waiting to position relative to:' + objectToPosRelativeToo);
      this$static.positionRelativeToOnceLoaded = objectToPosRelativeToo;
    }
  }
  this$static.relX = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.relY = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this$static.relZ = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  objectClonedFrom = dynamicCastToString(incomingdata.next_0());
  if (objectClonedFrom.length > 2) {
    $info_1(Log_57, 'Cloned from..' + objectClonedFrom);
    this$static.clonedFrom = getSingleSceneObjectNEW(objectClonedFrom, null, true);
    if (!this$static.clonedFrom) {
      $info_1(Log_57, 'Cloned source not found (' + objectClonedFrom + ') setting cloneFromOnceLoaded string to finnish the job latter');
      this$static.clonedFromOnceLoaded = objectClonedFrom;
    }
  }
  objectSpawnedFrom = dynamicCastToString(incomingdata.next_0());
  if (objectSpawnedFrom.length > 2) {
    $info_1(Log_57, 'Spawned from..' + objectSpawnedFrom);
    this$static.spawningObject = getSingleSceneObjectNEW(objectSpawnedFrom, null, true);
    !this$static.spawningObject && (this$static.spawningObjectFromOnceLoaded = objectSpawnedFrom);
  }
  newobjectsProperties = dynamicCastToString(incomingdata.next_0());
  $info_1(Log_57, ' New Properties: ' + newobjectsProperties);
  if (newobjectsProperties.length) {
    newobjectsProperties = $substring_0(newobjectsProperties, 0, newobjectsProperties.length);
    objectsPropertiesArray = $split_0(newobjectsProperties, ',', 0);
    $info_1(Log_57, objectsPropertiesArray.length + ' properties ');
    !this$static.objectsProperties && (this$static.objectsProperties = new PropertySet);
    this$static.objectsProperties.objectsProperties.map_0.clear_1();
    for (prop$index = 0 , prop$max = objectsPropertiesArray.length; prop$index < prop$max; ++prop$index) {
      prop = objectsPropertiesArray[prop$index];
      $info_1(Log_57, 'prop = ' + $trim(prop));
      $add_20(this$static.objectsProperties, $trim(prop));
    }
    $info_1(Log_57, 'properties added ');
  }
  newobjectsVaaribles = dynamicCastToString(incomingdata.next_0());
  $info_1(Log_57, 'newobjectsVaribles = ' + newobjectsVaaribles);
  !newobjectsVaaribles.length || (this$static.ObjectRuntimeVariables = new VariableSet_1(newobjectsVaaribles));
  newtouching = dynamicCastToString(incomingdata.next_0());
  $fromSerialisedString(this$static.touching, newtouching);
}

function $sameStateAs(this$static, compareToThis){
  var co, compareToIt, fieldListToCompare, ta, thisIT, thisObjectsFieldsList;
  $info_1(Log_57, 'comparing:' + this$static.ObjectsName + ' to ' + compareToThis.ObjectsName);
  $info_1(Log_57, 'testing all fields in object against all fields in other object');
  fieldListToCompare = compareToThis.getAllFieldsAsArrayList();
  thisObjectsFieldsList = this$static.getAllFieldsAsArrayList();
  if (this$static.positionedRelativeToo) {
    $info_1(Log_57, 'object positioned relatively, so ignoring x/y/z position in comparison');
    $remove_0(fieldListToCompare, valueOf_45(this$static.X));
    $remove_0(thisObjectsFieldsList, valueOf_45(compareToThis.X));
    $remove_0(fieldListToCompare, valueOf_45(this$static.Y));
    $remove_0(thisObjectsFieldsList, valueOf_45(compareToThis.Y));
    $remove_0(fieldListToCompare, valueOf_45(this$static.Z));
    $remove_0(thisObjectsFieldsList, valueOf_45(compareToThis.Z));
  }
  if (fieldListToCompare.array.length != thisObjectsFieldsList.array.length) {
    $severe_0(Log_57, 'miss-matched comparison lengths when checking states are identical. Its likely that unchanged objects will now save making save files bigger then needed');
    return false;
  }
  compareToIt = new AbstractList$IteratorImpl(fieldListToCompare);
  thisIT = new AbstractList$IteratorImpl(thisObjectsFieldsList);
  $info_1(Log_57, 'starting to test fields against eachother');
  while (thisIT.i < thisIT.this$01_0.size_1()) {
    co = (checkCriticalElement(thisIT.i < thisIT.this$01_0.size_1()) , thisIT.this$01_0.get_0(thisIT.last = thisIT.i++));
    ta = (checkCriticalElement(compareToIt.i < compareToIt.this$01_0.size_1()) , compareToIt.this$01_0.get_0(compareToIt.last = compareToIt.i++));
    if (co == null && ta != null) {
      $severe_0(Log_57, 'Warning: Asymetrical Nullness Error!');
      return false;
    }
    if (co != null && ta == null) {
      $severe_0(Log_57, 'Warning: Asymetrical Nullness Error!!');
      return false;
    }
    if (co == null && ta == null) {
      continue;
    }
    if (getClass__Ljava_lang_Class___devirtual$(co) != getClass__Ljava_lang_Class___devirtual$(ta)) {
      $severe_0(Log_57, 'Warning: Types dont match when testing if states match');
      return false;
    }
    if (equals_Ljava_lang_Object__Z__devirtual$(co, ta)) {
      continue;
    }
     else {
      $info_1(Log_57, 'field:' + toString__Ljava_lang_String___devirtual$(co) + ' is different from field ' + toString__Ljava_lang_String___devirtual$(ta));
      return false;
    }
  }
  $info_1(Log_57, 'compared:' + this$static.ObjectsName + ' to ' + compareToThis.ObjectsName);
  $info_1(Log_57, '(states seem identical between objects: ' + this$static.ObjectsName + ' and ' + compareToThis.ObjectsName + ')');
  return true;
}

function $serialiseToString(this$static){
  var fieldList, serialised;
  fieldList = this$static.getAllFieldsAsArrayList();
  serialised = serialiseTheseFields(fieldList);
  $info_1(Log_57, '__________________________________serialised as:' + serialised);
  return serialised;
}

function $serilisationHelperString(this$static){
  var helperString;
  helperString = 'currentType,ObjectsSceneName,ObjectsName,Title,CurrentBoxCSS,BackgroundString,X,Y,Z,restrictPositionToScreen,attachToDiv,PinPointX,PinPointY,PinPointZ,moveState.currentmovement,moveState.movement_currentWaypoint,moveState.movement_SX,moveState.movement_SY,moveState.movement_CX,moveState.movement_CY,moveState.movement_DX,moveState.movement_DY,moveState.movement_StepX,moveState.movement_StepY,moveState.movement_currentX,moveState.movement_currentY,moveState.movement_currentZ,moveState.movement_speed,currentlyVisible,zindex,lowerZindex,upperZindex,stepZindex,variableZindex,linkedZindex,linkedZindexDifference';
  !this$static.positionedRelativeToo && this$static.positionRelativeToOnceLoaded.length > 2?(helperString = helperString + 'positionRelativeToOnceLoaded'):(helperString = helperString + 'positionedRelativeToo');
  helperString = helperString + 'relX' + ',' + 'relY' + ',' + 'relZ' + ',' + 'clonedFrom' + ',' + 'spawningObject';
  !!this$static.objectsProperties && this$static.objectsProperties.objectsProperties.map_0.size_1() != 0?(helperString = helperString + 'objectsProperties'):(helperString = helperString + 'null');
  !!this$static.ObjectRuntimeVariables && this$static.ObjectRuntimeVariables.size_0 != 0?(helperString = helperString + 'ObjectRuntimeVariables'):(helperString = helperString + 'null');
  !!this$static.touching && this$static.touching.map_0.size_1() != 0?(helperString = helperString + 'Touching objects'):(helperString = helperString + 'null');
  return helperString;
}

function $setGenericObjectData(this$static, sourceData){
  this$static.ObjectsName = sourceData.ObjectsName;
  this$static.ObjectsSceneName = sourceData.ObjectsSceneName;
  this$static.ObjectsFileName = sourceData.ObjectsFileName;
  this$static.Title = sourceData.Title;
  this$static.X = sourceData.X;
  this$static.Y = sourceData.Y;
  this$static.Z = sourceData.Z;
  this$static.CurrentBoxCSS = sourceData.CurrentBoxCSS;
  this$static.BackgroundString = sourceData.BackgroundString;
  this$static.positionedRelativeToo = sourceData.positionedRelativeToo;
  this$static.positionedRelativeToPoint = sourceData.positionedRelativeToPoint;
  this$static.PropagateVisibility = sourceData.PropagateVisibility;
  $info_1(Log_57, 'sourceData of ' + this$static.ObjectsName + ' has visibility:' + sourceData.currentlyVisible);
  this$static.currentlyVisible = sourceData.currentlyVisible;
  $info_1(Log_57, this$static.ObjectsName + 's original data for currentlyVisible1:' + this$static.currentlyVisible);
  this$static.ignoreSceneActions = sourceData.ignoreSceneActions;
  this$static.ignorePointerEvents = sourceData.ignorePointerEvents;
  this$static.forceReceiveActions = sourceData.forceReceiveActions;
  this$static.pathfinding = sourceData.pathfinding;
  this$static.boundaryType = sourceData.boundaryType;
  this$static.relX = sourceData.relX;
  this$static.relY = sourceData.relY;
  this$static.relZ = sourceData.relZ;
  this$static.attachToHTMLDiv = sourceData.attachToHTMLDiv;
  this$static.objectsPrimaryType = sourceData.objectsPrimaryType;
  this$static.restrictPositionToScreen = sourceData.restrictPositionToScreen;
  this$static.hasAttachmentPointFile = sourceData.hasAttachmentPointFile;
  this$static.hasMovementFile = sourceData.hasMovementFile;
  this$static.PinPointX = sourceData.PinPointX;
  this$static.PinPointY = sourceData.PinPointY;
  this$static.PinPointZ = sourceData.PinPointZ;
  this$static.variableZindex = sourceData.variableZindex;
  this$static.lowerZindex = sourceData.lowerZindex;
  this$static.upperZindex = sourceData.upperZindex;
  this$static.stepZindex = sourceData.stepZindex;
  this$static.zindex = sourceData.zindex;
  this$static.stepZindex = sourceData.stepZindex;
  this$static.upperZindex = sourceData.upperZindex;
  this$static.lowerZindex = sourceData.lowerZindex;
  this$static.linkedZindex = sourceData.linkedZindex;
  this$static.linkedZindexDifference = sourceData.linkedZindexDifference;
  $info_1(Log_57, 'storing zindex as:' + this$static.zindex);
  this$static.moveState = sourceData.moveState;
  this$static.objectsProperties = sourceData.objectsProperties;
  this$static.ObjectRuntimeVariables = sourceData.ObjectRuntimeVariables;
  this$static.moveState.movement_current_pos.x_0 = this$static.X;
  this$static.moveState.movement_current_pos.y_0 = this$static.Y;
  this$static.moveState.movement_current_pos.z_0 = this$static.Z;
  this$static.touching = sourceData.touching;
  $info_1(Log_57, this$static.ObjectsName + 's currentlyVisible1:' + this$static.currentlyVisible);
  this$static.ObjectsParamatersFromFile = sourceData.ObjectsParamatersFromFile;
}

function $setObjectsPrimaryType(this$static, objectsNewType){
  this$static.objectsPrimaryType = objectsNewType;
  $add_21(this$static.objectsCapabilities, objectsNewType);
}

function $setupRelativePosition(this$static){
  var RX, RY, RZ, glueToo, posTo;
  if (this$static.positionedRelativeToo) {
    $info_1(Log_57, 'Setting relative to :::' + this$static.positionedRelativeToo.getObjectsCurrentState_1().ObjectsName + ':' + this$static.positionedRelativeToPoint);
    posTo = this$static.positionedRelativeToPoint;
    if (!posTo.length) {
      RX = $getX_1(this$static.positionedRelativeToo);
      RY = $getY_1(this$static.positionedRelativeToo);
      RZ = $getZ_0(this$static.positionedRelativeToo);
    }
     else {
      glueToo = this$static.positionedRelativeToo.getAttachmentPointsFor(posTo);
      if (glueToo) {
        RX = $getTopLeftBaseX(this$static.positionedRelativeToo) + glueToo.pos.x_0;
        RY = $getTopLeftBaseY(this$static.positionedRelativeToo) + glueToo.pos.y_0;
        RZ = $getTopLeftBaseZ(this$static.positionedRelativeToo) + glueToo.pos.z_0;
      }
       else {
        RX = $getX_1(this$static.positionedRelativeToo);
        RY = $getY_1(this$static.positionedRelativeToo);
        RZ = $getZ_0(this$static.positionedRelativeToo);
      }
    }
    this$static.X = RX + this$static.relX - this$static.PinPointX;
    this$static.Y = RY + this$static.relY - this$static.PinPointY;
    this$static.Z = RZ + this$static.relZ - this$static.PinPointZ;
  }
   else {
    this$static.X = this$static.X - this$static.PinPointX;
    this$static.Y = this$static.Y - this$static.PinPointY;
    this$static.Z = this$static.Z - this$static.PinPointZ;
  }
}

function SceneObjectState(){
  $clinit_SceneObjectState();
  $$init_19(this);
}

function SceneObjectState_0(sourceData){
  $clinit_SceneObjectState();
  $$init_19(this);
  $setGenericObjectData(this, sourceData);
}

function SceneObjectState_1(objectsName, objectsFileName, objectsSceneName, title_0, cssname, backgroundstring, x_0, y_0, z_0, restrictPositionToScreen, usesAttachmentPointFile, usesMovementFile, pinPointX, pinPointY, pinPointZ, currentlyVisible, PropagateVisibility, ignoreSceneActions, ignorePointerEvents, forceReceiveActions, boundaryType, currentType, zindex, variableZindex, zIndexLower, zIndexUpper, zIndexStep, linkedZindex, linkedZindexDifference, positionedRelativeToo, positionedRelativeToPoint, relX, relY, relZ, ms, objectsProperties, ObjectRuntimeVariables, touching){
  $$init_19(this);
  this.ObjectsFileName = objectsFileName;
  this.ObjectsName = objectsName;
  this.ObjectsSceneName = objectsSceneName;
  this.Title = title_0;
  this.CurrentBoxCSS = cssname;
  this.BackgroundString = backgroundstring;
  this.X = x_0;
  this.Y = y_0;
  this.Z = z_0;
  this.restrictPositionToScreen = restrictPositionToScreen;
  this.hasAttachmentPointFile = usesAttachmentPointFile;
  this.hasMovementFile = usesMovementFile;
  this.PinPointX = pinPointX;
  this.PinPointY = pinPointY;
  this.PinPointZ = pinPointZ;
  this.currentlyVisible = currentlyVisible;
  this.PropagateVisibility = PropagateVisibility;
  this.ignoreSceneActions = ignoreSceneActions;
  this.ignorePointerEvents = ignorePointerEvents;
  this.forceReceiveActions = forceReceiveActions;
  this.boundaryType = boundaryType;
  this.objectsPrimaryType = currentType;
  $add_21(this.objectsCapabilities, currentType);
  this.zindex = zindex;
  this.variableZindex = variableZindex;
  this.lowerZindex = zIndexLower;
  this.upperZindex = zIndexUpper;
  this.stepZindex = zIndexStep;
  this.linkedZindex = linkedZindex;
  this.linkedZindexDifference = linkedZindexDifference;
  this.positionedRelativeToo = positionedRelativeToo;
  this.positionedRelativeToPoint = positionedRelativeToPoint;
  this.relX = relX;
  this.relY = relY;
  this.relZ = relZ;
  this.moveState = ms;
  this.objectsProperties = objectsProperties;
  $info_1(Log_57, 'setting new variables for ' + this.ObjectsName + ' of which there are:' + ObjectRuntimeVariables.size_0 + '');
  this.ObjectRuntimeVariables = ObjectRuntimeVariables;
  this.touching = touching;
}

function SceneObjectState_2(parametersFromFile){
  $clinit_SceneObjectState();
  $$init_19(this);
  $extractData(this, parametersFromFile);
}

function serialiseTheseFields(fieldList){
  var field, object, object$iterator, serialised, testclass;
  serialised = '';
  for (object$iterator = new AbstractList$IteratorImpl(fieldList); object$iterator.i < object$iterator.this$01_0.size_1();) {
    object = (checkCriticalElement(object$iterator.i < object$iterator.this$01_0.size_1()) , object$iterator.this$01_0.get_0(object$iterator.last = object$iterator.i++));
    field = '';
    if (object == null) {
      serialised = serialised + '_#_';
      continue;
    }
    testclass = getClass__Ljava_lang_Class___devirtual$(object);
    while (testclass) {
      if (testclass == Lcom_lostagain_Jam_SceneObjects_SceneObject_2_classLit) {
        field = dynamicCast(object, 24).getObjectsCurrentState_1().ObjectsName;
        break;
      }
      testclass = testclass.superclass;
    }
    if (field.length) {
      serialised = serialised + field + '_#_';
      continue;
    }
    getClass__Ljava_lang_Class___devirtual$(object) == Lcom_lostagain_Jam_SceneObjects_PropertySet_2_classLit?(field = toString__Ljava_lang_String___devirtual$(object)):getClass__Ljava_lang_Class___devirtual$(object) == Lcom_lostagain_Jam_SceneObjects_SceneObjectSet_2_classLit?(field = $toSerialisedString(dynamicCast(object, 289))):getClass__Ljava_lang_Class___devirtual$(object) == Lcom_lostagain_Jam_SceneObjects_SceneObjectState$sString_2_classLit?(field = throwClassCastExceptionUnlessNull(object).nullField):getClass__Ljava_lang_Class___devirtual$(object) == Ljava_util_HashSet_2_classLit?(field = toString__Ljava_lang_String___devirtual$(object)):getClass__Ljava_lang_Class___devirtual$(object) == Ljava_lang_Boolean_2_classLit?(field = ($clinit_Boolean() , '' + dynamicCast(object, 111).value_0)):(field = '' + object);
    field != null && (serialised = serialised + field + '_#_');
  }
  return serialised;
}

defineClass(112, 1, {112:1}, SceneObjectState_1, SceneObjectState_2);
_.getAllFieldsAsArrayList = function getAllFieldsAsArrayList(){
  return $getAllFieldsAsArrayList_0(this);
}
;
_.BackgroundString = '';
_.CurrentBoxCSS = '';
_.DONT_USE_THIS_OBJECT = false;
_.ObjectsName = '';
_.ObjectsParamatersFromFile = null;
_.ObjectsSceneName = '';
_.PinPointX = 0;
_.PinPointY = 0;
_.PinPointZ = 0;
_.PropagateVisibility = false;
_.Title = '';
_.X = -2000;
_.Y = -2000;
_.Z = 0;
_.attachToHTMLDiv = '';
_.clonedFrom = null;
_.clonedFromOnceLoaded = '';
_.currentlyVisible = true;
_.forceReceiveActions = false;
_.hasAttachmentPointFile = false;
_.hasMovementFile = false;
_.ignorePointerEvents = false;
_.ignoreSceneActions = false;
_.linkedZindex = false;
_.linkedZindexDifference = 0;
_.lowerZindex = 0;
_.positionRelativeToOnceLoaded = '';
_.positionedRelativeToPoint = '';
_.relX = 0;
_.relY = 0;
_.relZ = 0;
_.restrictPositionToScreen = false;
_.spawningObject = null;
_.spawningObjectFromOnceLoaded = '';
_.stepZindex = 10;
_.upperZindex = 100;
_.variableZindex = false;
_.zindex = -1;
var Log_57, THIS_IS_A_HTML_GAME = false;
var Lcom_lostagain_Jam_SceneObjects_SceneObjectState_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObjectState', 112, Ljava_lang_Object_2_classLit);
function $clinit_SceneDivObjectState(){
  $clinit_SceneDivObjectState = emptyMethod;
  $clinit_SceneObjectState();
  Log_58 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneDivObjectData'));
}

function $$init_20(this$static){
  this$static.sizeX = '';
  this$static.sizeY = '';
}

function $assignDivObjectTypeSpecificParameters(this$static, itemslines){
  var currentline, currentlinenum, param, value_0, value1, value2;
  currentlinenum = 0;
  while (currentlinenum < itemslines.length) {
    currentline = $trim(itemslines[currentlinenum]);
    ++currentlinenum;
    if (currentline.length < 2 || $equals_5(currentline.substr(0, 2), '//')) {
      continue;
    }
    $info_1(Log_58, 'processing line:' + currentline);
    param = $trim($split_0(currentline, '=', 0)[0]);
    value_0 = $trim($split_0(currentline, '=', 0)[1]);
    if ($equalsIgnoreCase(param, 'Size')) {
      value1 = $split_0(value_0, ',', 0)[0];
      value2 = $split_0(value_0, ',', 0)[1];
      value1 = ensureSizeIsRealCss(value1);
      value2 = ensureSizeIsRealCss(value2);
      this$static.sizeX = value1;
      this$static.sizeY = value2;
      $info_1(Log_58, 'div Objects ' + this$static.ObjectsName + 'size set to:' + this$static.sizeX + ' x ' + this$static.sizeY);
    }
    $equalsIgnoreCase(param, 'RestrictToScreen') && ($equalsIgnoreCase(value_0, 'true')?(this$static.restrictPositionToScreen = true):(this$static.restrictPositionToScreen = false));
  }
  $info_1(Log_58, '__assigned div ObjectTypeSpecificParameters to object ' + this$static.ObjectsName + ' ___');
}

function $assignObjectTypeSpecificParametersNew(this$static, objectsParamatersFromFile2){
  $info_1(($clinit_SceneObjectState() , Log_57), 'Assigning generic object parameters (placeholder, as theres none');
  $info_1(Log_58, 'SETTING UP DIV SPECIFIC PARAMETERS');
  $assignDivObjectTypeSpecificParameters(this$static, objectsParamatersFromFile2);
}

function $copy_2(this$static){
  var genericCopy, tempObjectData;
  genericCopy = new SceneObjectState_1(this$static.ObjectsName, this$static.ObjectsFileName, this$static.ObjectsSceneName, this$static.Title, this$static.CurrentBoxCSS, this$static.BackgroundString, this$static.X, this$static.Y, this$static.Z, this$static.restrictPositionToScreen, this$static.hasAttachmentPointFile, this$static.hasMovementFile, this$static.PinPointX, this$static.PinPointY, this$static.PinPointZ, this$static.currentlyVisible, this$static.PropagateVisibility, this$static.ignoreSceneActions, this$static.ignorePointerEvents, this$static.forceReceiveActions, this$static.boundaryType, this$static.objectsPrimaryType, this$static.zindex, this$static.variableZindex, this$static.lowerZindex, this$static.upperZindex, this$static.stepZindex, this$static.linkedZindex, this$static.linkedZindexDifference, this$static.positionedRelativeToo, this$static.positionedRelativeToPoint, this$static.relX, this$static.relY, this$static.relZ, $copy(this$static.moveState), new PropertySet_0(this$static.objectsProperties), new VariableSet_0(this$static.ObjectRuntimeVariables), new SceneObjectSet_0(this$static.touching));
  tempObjectData = new SceneDivObjectState_2(genericCopy, this$static.sizeX, this$static.sizeY);
  return tempObjectData;
}

function $getAllFieldsAsArrayList_1(this$static){
  var fieldList;
  fieldList = $getAllFieldsAsArrayList_0(this$static);
  $info_1(Log_58, 'getting div specific fields. But theres just two; size');
  fieldList.add_0(this$static.sizeX);
  fieldList.add_0(this$static.sizeY);
  $info_1(Log_58, 'got div fields');
  return fieldList;
}

function $loadParameters_1(this$static, incomingdata){
  $loadParameters_0(this$static, incomingdata);
  this$static.sizeX = dynamicCastToString(incomingdata.next_0());
  this$static.sizeY = dynamicCastToString(incomingdata.next_0());
}

function SceneDivObjectState(){
  $clinit_SceneDivObjectState();
  SceneObjectState.call(this);
  $$init_20(this);
  THIS_IS_A_HTML_GAME && $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Div));
}

function SceneDivObjectState_0(state){
  $clinit_SceneDivObjectState();
  SceneObjectState_0.call(this, state);
  $$init_20(this);
  THIS_IS_A_HTML_GAME && $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Div));
  this.sizeX = state.sizeX;
  this.sizeY = state.sizeY;
}

function SceneDivObjectState_1(state){
  $clinit_SceneDivObjectState();
  SceneObjectState_0.call(this, state);
  $$init_20(this);
  THIS_IS_A_HTML_GAME && $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Div));
  this.sizeX = '';
  this.sizeY = '';
}

function SceneDivObjectState_2(state, SizeX, SizeY){
  SceneObjectState_0.call(this, state);
  $$init_20(this);
  ($clinit_SceneObjectState() , THIS_IS_A_HTML_GAME) && $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Div));
  this.sizeX = SizeX;
  this.sizeY = SizeY;
}

function SceneDivObjectState_3(serialised){
  $clinit_SceneDivObjectState();
  SceneObjectState.call(this);
  $$init_20(this);
  THIS_IS_A_HTML_GAME && $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Div));
  $deserialise(this, serialised);
}

function ensureSizeIsRealCss(value_0){
  if ($equalsIgnoreCase(value_0, 'auto')) {
    return 'auto';
  }
  if ($equalsIgnoreCase(value_0, 'inherit')) {
    return 'inherit';
  }
  if ($equalsIgnoreCase(value_0, 'initial')) {
    return 'initial';
  }
  return $endsWith(value_0, 'px')?value_0:$endsWith(value_0, 'em')?value_0:$endsWith(value_0, 'ex')?value_0:$endsWith(value_0, '%')?value_0:$endsWith(value_0, 'px')?value_0:$endsWith(value_0, 'mm')?value_0:$endsWith(value_0, 'cm')?value_0:$endsWith(value_0, 'in')?value_0:$endsWith(value_0, 'pt')?value_0:$endsWith(value_0, 'pc')?value_0:$endsWith(value_0, 'ch')?value_0:$endsWith(value_0, 'rem')?value_0:value_0 + 'px';
}

defineClass(78, 112, {78:1, 112:1}, SceneDivObjectState_1, SceneDivObjectState_2, SceneDivObjectState_3);
_.assignObjectTypeSpecificParametersNew = function assignObjectTypeSpecificParametersNew(objectsParamatersFromFile2){
  $assignObjectTypeSpecificParametersNew(this, objectsParamatersFromFile2);
}
;
_.copy = function copy_0(){
  return $copy_2(this);
}
;
_.getAllFieldsAsArrayList = function getAllFieldsAsArrayList_0(){
  return $getAllFieldsAsArrayList_1(this);
}
;
_.loadParameters = function loadParameters(incomingdata){
  $loadParameters_1(this, incomingdata);
}
;
var Log_58;
var Lcom_lostagain_Jam_SceneObjects_SceneDivObjectState_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneDivObjectState', 78, Lcom_lostagain_Jam_SceneObjects_SceneObjectState_2_classLit);
function $clinit_SceneSpriteObjectState(){
  $clinit_SceneSpriteObjectState = emptyMethod;
  $clinit_SceneDivObjectState();
  Log_59 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneSpriteObjectState'));
}

function $$init_21(this$static){
  this$static.currentFrame = 0;
  this$static.currentNumberOfFrames = -1;
  this$static.currentlyAnimationState = '';
}

function $assignSpriteObjectTypeSpecificParameters(this$static, itemslines){
  var currentline, currentlinenum, folderName, param, sourceFolder, value_0;
  if (this$static.ObjectsFileName != null) {
    folderName = $split_0(this$static.ObjectsFileName, '0\\.', 0)[0];
    $info_1(Log_59, 'foldername = ' + folderName + ' name=' + this$static.ObjectsName);
  }
  currentlinenum = 0;
  while (currentlinenum < itemslines.length) {
    currentline = $trim(itemslines[currentlinenum]);
    ++currentlinenum;
    if ($equals_5(currentline, '')) {
      continue;
    }
    if (currentline.length < 3 || $equals_5(currentline.substr(0, 2), '//')) {
      continue;
    }
    param = $trim($split_0(currentline, '=', 0)[0]);
    value_0 = $trim($split_0(currentline, '=', 0)[1]);
    if ($equalsIgnoreCase(param, 'Name')) {
      this$static.ObjectsName = value_0;
      this$static.ObjectsFileName = value_0;
      $info_1(Log_59, 'Objects file name set by default to:' + this$static.ObjectsFileName);
    }
    if ($equalsIgnoreCase(param, 'FileName')) {
      this$static.ObjectsFileName = value_0;
      $info_1(Log_59, 'Objects file name specificly set to:' + this$static.ObjectsFileName);
    }
    if ($equalsIgnoreCase(param, 'Frames')) {
      this$static.currentNumberOfFrames = __parseAndValidateInt(value_0, 10);
      $info_1(Log_59, 'Objects Frame count set to:' + value_0);
    }
  }
  this$static.objectsPrimaryType == ($clinit_SceneObjectType() , InventoryIcon)?(sourceFolder = 'InventoryItems'):(sourceFolder = 'Game Scenes/' + this$static.ObjectsSceneName);
  if (this$static.ObjectsName.indexOf('.') != -1) {
    this$static.ObjectsName = $substring_0(this$static.ObjectsName, 0, this$static.ObjectsName.indexOf('.'));
    $endsWith(this$static.ObjectsName, '0') && (this$static.ObjectsName = $substring_0(this$static.ObjectsName, 0, this$static.ObjectsName.length - 1));
  }
  if ($startsWith(this$static.ObjectsFileName, '<')) {
    this$static.ObjectsURL = this$static.ObjectsFileName;
    this$static.ObjectsName.length < 3 && (this$static.ObjectsName = $trim(this$static.ObjectsFileName));
    $info_1(Log_59, '______________________currentObjectState.ObjectsName:' + this$static.ObjectsName + ':');
  }
   else {
    folderName = $split_0(this$static.ObjectsFileName, '0\\.', 0)[0];
    $info_1(Log_59, 'foldername = ' + folderName + ' name=' + this$static.ObjectsName);
    if (this$static.objectsPrimaryType == InventoryIcon) {
      $info_1(Log_59, 'setting up location for inventory icon ');
      this$static.ObjectsURL = sourceFolder + '/' + this$static.ObjectsName + '/' + this$static.ObjectsFileName;
    }
     else {
      $info_1(Log_59, 'setting up location for sprite ');
      if (folderName.indexOf('\\') != -1 || folderName.indexOf('/') != -1) {
        $info_1(Log_59, 'setting up location for sprite with full path ');
        this$static.ObjectsURL = this$static.ObjectsFileName;
      }
       else {
        this$static.ObjectsURL = sourceFolder + '/Objects/' + folderName + '/' + this$static.ObjectsFileName;
        $info_1(Log_59, 'using default path  :' + this$static.ObjectsURL);
      }
    }
  }
  $info_1(Log_59, '__assigned sprite ObjectTypeSpecificParameters to object ' + this$static.ObjectsName + ' ___');
}

function $copy_3(this$static){
  var genericCopy, newObject;
  genericCopy = $copy_2(this$static);
  newObject = new SceneSpriteObjectState(genericCopy, this$static.ObjectsURL, this$static.currentlyAnimationState, this$static.currentNumberOfFrames, this$static.currentFrame);
  return newObject;
}

function SceneSpriteObjectState(state, ObjectsURL, currentlyAnimationState, currentNumberOfFrames, currentFrame){
  SceneDivObjectState_0.call(this, state);
  $$init_21(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Sprite));
  this.ObjectsURL = ObjectsURL;
  this.currentlyAnimationState = currentlyAnimationState;
  $info_1(Log_59, ' storing movement state :');
  this.currentNumberOfFrames = currentNumberOfFrames;
  this.currentFrame = currentFrame;
}

function SceneSpriteObjectState_0(state){
  $clinit_SceneSpriteObjectState();
  SceneDivObjectState_1.call(this, state);
  $$init_21(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Sprite));
  this.ObjectsURL = null;
  this.currentlyAnimationState = '';
  $info_1(Log_59, ' storing movement state :');
  this.currentNumberOfFrames = 1;
  this.currentFrame = 0;
}

function SceneSpriteObjectState_1(serialised){
  $clinit_SceneSpriteObjectState();
  SceneDivObjectState.call(this);
  $$init_21(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Sprite));
  this.ObjectsName == null && $info_1(Log_59, 'object name is null');
  $deserialise(this, serialised);
}

defineClass(106, 78, {78:1, 112:1, 106:1}, SceneSpriteObjectState, SceneSpriteObjectState_0, SceneSpriteObjectState_1);
_.assignObjectTypeSpecificParametersNew = function assignObjectTypeSpecificParametersNew_0(objectsParamatersFromFile2){
  $assignObjectTypeSpecificParametersNew(this, objectsParamatersFromFile2);
  $info_1(Log_59, 'SETTING UP SPRITE SPECIFIC PARAMETERS');
  $assignSpriteObjectTypeSpecificParameters(this, objectsParamatersFromFile2);
}
;
_.copy = function copy_1(){
  return $copy_3(this);
}
;
_.getAllFieldsAsArrayList = function getAllFieldsAsArrayList_1(){
  var fieldList;
  fieldList = $getAllFieldsAsArrayList_1(this);
  $info_1(Log_59, 'getting sprite specific fields.');
  fieldList.add_0(this.ObjectsURL);
  fieldList.add_0(this.ObjectsFileName);
  fieldList.add_0(valueOf_45(this.currentNumberOfFrames));
  fieldList.add_0(valueOf_45(this.currentFrame));
  fieldList.add_0(this.currentlyAnimationState);
  $info_1(Log_59, 'got fields');
  return fieldList;
}
;
_.loadParameters = function loadParameters_0(incomingdata){
  $loadParameters_1(this, incomingdata);
  $info_1(Log_59, 'loading sprite specific object data');
  this.ObjectsURL = dynamicCastToString(incomingdata.next_0());
  this.ObjectsFileName = dynamicCastToString(incomingdata.next_0());
  this.currentNumberOfFrames = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this.currentFrame = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this.currentlyAnimationState = dynamicCastToString(incomingdata.next_0());
  $info_1(Log_59, 'got fields');
}
;
_.currentFrame = 0;
_.currentNumberOfFrames = 0;
var Log_59;
var Lcom_lostagain_Jam_SceneObjects_SceneSpriteObjectState_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneSpriteObjectState', 106, Lcom_lostagain_Jam_SceneObjects_SceneDivObjectState_2_classLit);
function InventoryObjectState(state){
  $clinit_SceneSpriteObjectState();
  SceneSpriteObjectState_0.call(this, state);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , InventoryIcon));
}

defineClass(408, 106, {408:1, 78:1, 112:1, 106:1}, InventoryObjectState);
var Lcom_lostagain_Jam_SceneObjects_InventoryObjectState_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'InventoryObjectState', 408, Lcom_lostagain_Jam_SceneObjects_SceneSpriteObjectState_2_classLit);
function $clinit_PropertySet(){
  $clinit_PropertySet = emptyMethod;
  Log_60 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.PropertySet'));
  magnetic = createSSSNode_0('Magnetic', 'Internal/magnetic', ($clinit_JAMcore() , defaultNS_0), initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, []));
  conductive = createSSSNode_0('Conductive', 'Internal/conductive', defaultNS_0, initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, []));
  metal = createSSSNode_0('Metal', 'Internal/metal', defaultNS_0, initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [conductive]));
  ferrismetal = createSSSNode_0('ferris metal', 'Internal/ferrismetal', defaultNS_0, initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [magnetic, metal]));
  createSSSNode_0('iron', 'Internal/iron', defaultNS_0, initValues(getClassLiteralForArray(Lcom_darkflame_client_semantic_SSSNode_2_classLit, 1), $intern_55, 55, 0, [ferrismetal]));
}

function $$init_22(this$static){
  this$static.objectsProperties = new HashSet;
}

function $add_20(this$static, property){
  var newProp, spred, spredicate, svalue, value_0;
  spredicate = ($clinit_SSSNode() , SubClassOf).PURI;
  $info_1(Log_60, '_________________adding property ' + property);
  if (property.indexOf(';') != -1) {
    spredicate = $split_0(property, ';', 0)[0];
    svalue = $split_0(property, ';', 0)[1];
  }
   else {
    svalue = property;
  }
  value_0 = createSSSNode_0(svalue, svalue, ($clinit_JAMcore() , defaultNS_0), null);
  $info_1(Log_60, '_________________adding property with value__' + value_0.PURI);
  $info_1(Log_60, '_________________adding property with predicate string__' + spredicate);
  spred = createSSSNode_0(spredicate, spredicate, defaultNS_0, null);
  $info_1(Log_60, '_________________adding property with predicate__' + spred.PURI);
  if ($hasProperty_2(this$static, spred.PURI, value_0.PURI)) {
    return false;
  }
  newProp = new SSSProperty(spred, value_0);
  $info_1(Log_60, '_________________adding property: ' + newProp.pred.PLabel);
  $info_1(Log_60, '_________________adding value: ' + newProp.value_0.PLabel);
  return $add_21(this$static.objectsProperties, newProp);
}

function $getAllDirectPropertysAsStrings(this$static){
  var allprops, property, property$iterator;
  allprops = new ArrayList;
  for (property$iterator = $iterator_4(new AbstractMap$1(this$static.objectsProperties.map_0)); property$iterator.val$outerIter2.hasNext();) {
    property = dynamicCast($next_7(property$iterator), 81);
    allprops.add_0(property.value_0.PLabel);
  }
  return allprops;
}

function $getValueForPredicate(this$static, predicateToLookFor){
  var cur_property, opit;
  opit = $iterator_4(new AbstractMap$1(this$static.objectsProperties.map_0));
  while (opit.val$outerIter2.hasNext()) {
    cur_property = dynamicCast($next_7(opit), 81);
    if ($hasLabel_0(cur_property.pred, predicateToLookFor)) {
      return cur_property.value_0;
    }
  }
  return $clinit_SSSNode() , NOTFOUND;
}

function $hasProperty(this$static, value_0){
  return $hasProperty_0(this$static, ($clinit_SSSNode() , SubClassOf), value_0);
}

function $hasProperty_0(this$static, pred, val){
  var cur_property, opit;
  opit = $iterator_4(new AbstractMap$1(this$static.objectsProperties.map_0));
  while (opit.val$outerIter2.hasNext()) {
    cur_property = dynamicCast($next_7(opit), 81);
    $info_1(Log_60, 'testing properties (predicate):' + cur_property.pred.PURI + ' (val):' + cur_property.value_0.PURI);
    $info_1(Log_60, 'against predicate :' + pred + ' value :' + val);
    if ($isOrHasParentClass(cur_property.pred, pred)) {
      if ($isOrHasParentClass(cur_property.value_0, val)) {
        return true;
      }
    }
  }
  return false;
}

function $hasProperty_1(this$static, valUri){
  var PropsPredURI, TimeTakenEnd, TimeTakenStart, hasp;
  TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
  PropsPredURI = ($clinit_SSSNode() , SubClassOf).PURI;
  hasp = ($clinit_Boolean() , $hasProperty_2(this$static, PropsPredURI, valUri)?TRUE_3:FALSE_2);
  TimeTakenEnd = fromDouble(now_1());
  $clinit_GameStatistics();
  TotalPropertyCheckCheckTime = add_17(TotalPropertyCheckCheckTime, sub_0(TimeTakenEnd, TimeTakenStart));
  return hasp.value_0;
}

function $hasProperty_2(this$static, predURI, valUri){
  var cur_property, opit;
  valUri = $trim(valUri);
  valUri.indexOf('#') != -1 || (valUri = ($clinit_JAMcore() , defaultNS_0) + valUri);
  opit = $iterator_4(new AbstractMap$1(this$static.objectsProperties.map_0));
  while (opit.val$outerIter2.hasNext()) {
    cur_property = dynamicCast($next_7(opit), 81);
    $info_1(Log_60, 'testing properties (predicate):' + cur_property.pred.PURI + ' (val):' + cur_property.value_0.PURI);
    $info_1(Log_60, 'against predicate :' + predURI + ' value :' + valUri);
    if ($isOrHasParentClass_0(cur_property.pred, predURI)) {
      if ($isOrHasParentClass_0(cur_property.value_0, valUri)) {
        return true;
      }
    }
  }
  return false;
}

function $removeproperty(this$static, PropsURI){
  var PropsPredURI, cur_property, opit;
  PropsURI.indexOf('#') != -1 || (PropsURI = ($clinit_JAMcore() , defaultNS_0) + PropsURI);
  opit = $iterator_4(new AbstractMap$1(this$static.objectsProperties.map_0));
  PropsPredURI = ($clinit_SSSNode() , SubClassOf).PURI;
  while (opit.val$outerIter2.hasNext()) {
    cur_property = dynamicCast($next_7(opit), 81);
    if ($equalsIgnoreCase(cur_property.pred.PURI, $trim(PropsPredURI))) {
      if ($equalsIgnoreCase(cur_property.value_0.PURI, $trim(PropsURI))) {
        $remove_21(this$static.objectsProperties, cur_property);
        return true;
      }
    }
  }
  return false;
}

function $toString_16(this$static){
  var acit, allclasss, it, propertyLists, sssProp;
  it = $iterator_4(new AbstractMap$1(this$static.objectsProperties.map_0));
  propertyLists = '';
  allclasss = new HashSet;
  while (it.val$outerIter2.hasNext()) {
    sssProp = dynamicCast($next_7(it), 81);
    $add_21(allclasss, sssProp);
    sssProp.pred == ($clinit_SSSNode() , SubClassOf) && $addAll(allclasss, $getAllClassesThisBelongsToAsPropertys(sssProp.value_0));
  }
  acit = $iterator_4(new AbstractMap$1(allclasss.map_0));
  while (acit.val$outerIter2.hasNext()) {
    sssProp = dynamicCast($next_7(acit), 81);
    sssProp.pred == ($clinit_SSSNode() , SubClassOf)?(propertyLists = propertyLists + sssProp.value_0.PLabel + ','):(propertyLists = propertyLists + sssProp.pred.PLabel + ';' + sssProp.value_0.PLabel + ',');
  }
  return propertyLists;
}

function PropertySet(){
  $clinit_PropertySet();
  $$init_22(this);
}

function PropertySet_0(objectsProperties2){
  $clinit_PropertySet();
  $$init_22(this);
  this.objectsProperties = objectsProperties2.objectsProperties.clone();
}

function PropertySet_1(objectsProperties2){
  $clinit_PropertySet();
  $$init_22(this);
  this.objectsProperties = objectsProperties2.clone();
}

function PropertySet_2(propertys){
  $clinit_PropertySet();
  var stringp, stringp$index, stringp$max;
  $$init_22(this);
  for (stringp$index = 0 , stringp$max = propertys.length; stringp$index < stringp$max; ++stringp$index) {
    stringp = propertys[stringp$index];
    $add_20(this, stringp);
  }
}

defineClass(232, 1, {232:1}, PropertySet, PropertySet_0, PropertySet_1, PropertySet_2);
_.equals$ = function equals_39(obj){
  var other;
  if (this === obj)
    return true;
  if (obj == null)
    return false;
  if (Lcom_lostagain_Jam_SceneObjects_PropertySet_2_classLit != getClass__Ljava_lang_Class___devirtual$(obj))
    return false;
  other = dynamicCast(obj, 232);
  if (!$equals_3(this.objectsProperties, other.objectsProperties))
    return false;
  return true;
}
;
_.hashCode$ = function hashCode_36(){
  var result;
  result = 31 + hashCode_45(this.objectsProperties);
  return result;
}
;
_.toString$ = function toString_70(){
  return $toString_16(this);
}
;
var Log_60, conductive, ferrismetal, magnetic, metal;
var Lcom_lostagain_Jam_SceneObjects_PropertySet_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'PropertySet', 232, Ljava_lang_Object_2_classLit);
function $clinit_SceneLabelObjectState(){
  $clinit_SceneLabelObjectState = emptyMethod;
  $clinit_SceneDivObjectState();
  Log_61 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneLabelObjectState'));
}

function $$init_23(this$static){
  this$static.CSSname = '';
  this$static.cursorVisible = ($clinit_SceneLabelObjectState$cursorVisibleOptions() , DEFAULT_0);
  this$static.TypedText = ($clinit_SceneObjectState$TrueFalseOrDefault() , DEFAULT_1);
  this$static.Custom_Key_Beep = null;
  this$static.Custom_Space_Beep = null;
}

function $assignObjectLabelTypeSpecificParameters(this$static, itemslines){
  var currentline, currentlinenum, param, value_0;
  currentlinenum = 0;
  while (currentlinenum < itemslines.length) {
    currentline = $trim(itemslines[currentlinenum]);
    ++currentlinenum;
    if (currentline.length < 2 || $equals_5(currentline.substr(0, 2), '//')) {
      continue;
    }
    $info_1(Log_61, 'processing line:' + currentline);
    param = $trim($split_0(currentline, '=', 0)[0]);
    value_0 = $trim($split_0(currentline, '=', 0)[1]);
    if ($equalsIgnoreCase(param, 'BoxCSS')) {
      this$static.CurrentBoxCSS = value_0;
      $info_1(Log_61, 'Objects CurrentBoxCSS set to:' + this$static.CurrentBoxCSS);
    }
    if ($equalsIgnoreCase(param, 'CSSname')) {
      this$static.CSSname = value_0;
      $info_1(Log_61, 'Objects CSSname set to:' + this$static.CSSname);
    }
    if ($equalsIgnoreCase(param, 'CursorVisible')) {
      this$static.cursorVisible = valueOf_34(value_0.toUpperCase());
      $info_1(Log_61, '_______________________________________Objects visibility set to:' + this$static.cursorVisible);
    }
    if ($equalsIgnoreCase(param, 'TypeText')) {
      this$static.TypedText = valueOf_36(value_0.toUpperCase());
      $info_1(Log_61, this$static.ObjectsName + '_____________Objects TypedText set to:' + this$static.TypedText);
    }
    if ($equalsIgnoreCase(param, 'KeyBeep')) {
      this$static.Custom_Key_Beep = value_0;
      $info_1(Log_61, this$static.ObjectsName + '_____________Objects Custom_Key_Beep set to:' + this$static.Custom_Key_Beep);
    }
    if ($equalsIgnoreCase(param, 'SpaceKeyBeep')) {
      this$static.Custom_Space_Beep = value_0;
      $info_1(Log_61, this$static.ObjectsName + '_____________Objects SpaceKeyBeep set to:' + this$static.Custom_Space_Beep);
    }
    if ($equalsIgnoreCase(param, 'DefaultText')) {
      this$static.ObjectsCurrentText = value_0;
      $info_1(Log_61, 'Objects ObjectsCurrentText set to:' + this$static.ObjectsCurrentText);
    }
  }
}

function $assignObjectTypeSpecificParametersNew_0(this$static, objectsParamatersFromFile2){
  $assignObjectTypeSpecificParametersNew(this$static, objectsParamatersFromFile2);
  $info_1(Log_61, 'SETTING UP LABEL SPECIFIC PARAMETERS');
  $assignObjectLabelTypeSpecificParameters(this$static, objectsParamatersFromFile2);
}

function $copy_4(this$static){
  var genericCopy, newObject;
  genericCopy = $copy_2(this$static);
  newObject = new SceneLabelObjectState(genericCopy, this$static.ObjectsCurrentText, this$static.CSSname, this$static.cursorVisible, this$static.TypedText, this$static.Custom_Key_Beep, this$static.Custom_Space_Beep);
  return newObject;
}

function $getAllFieldsAsArrayList_2(this$static){
  var fieldList;
  fieldList = $getAllFieldsAsArrayList_1(this$static);
  $info_1(Log_61, 'getting label specific fields for object ' + this$static.ObjectsName);
  this$static.ObjectsCurrentText == null && $severe_0(Log_61, 'Text is null at this point..is there a previous error? It could be the text contains characters the paragraph object doesnt support.');
  fieldList.add_0($replaceAll(this$static.ObjectsCurrentText, '\n', '_ESCAPENL_'));
  fieldList.add_0(this$static.CSSname);
  return fieldList;
}

function $loadParameters_2(this$static, incomingdata){
  $loadParameters_1(this$static, incomingdata);
  this$static.ObjectsCurrentText = $replaceAll(dynamicCastToString(incomingdata.next_0()), '_ESCAPENL_', '\n');
  this$static.CSSname = dynamicCastToString(incomingdata.next_0());
  $info_1(Log_61, '__________________________________CSSname set to :' + this$static.CSSname);
}

function SceneLabelObjectState(genericState, objectsText, cSSname, cursorVisible, typedText, Custom_Key_Beep, Custom_Space_Beep){
  SceneDivObjectState_0.call(this, genericState);
  $$init_23(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Label_4));
  this.ObjectsCurrentText = objectsText;
  this.CSSname = cSSname;
  this.cursorVisible = cursorVisible;
  this.TypedText = typedText;
  this.Custom_Key_Beep = Custom_Key_Beep;
  this.Custom_Space_Beep = Custom_Space_Beep;
}

function SceneLabelObjectState_0(state){
  $clinit_SceneLabelObjectState();
  SceneDivObjectState_1.call(this, state);
  $$init_23(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Label_4));
  this.CurrentBoxCSS = '';
}

function SceneLabelObjectState_1(serialised){
  $clinit_SceneLabelObjectState();
  SceneDivObjectState.call(this);
  $$init_23(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Label_4));
  $deserialise(this, serialised);
}

defineClass(119, 78, {78:1, 119:1, 112:1}, SceneLabelObjectState, SceneLabelObjectState_0, SceneLabelObjectState_1);
_.assignObjectTypeSpecificParametersNew = function assignObjectTypeSpecificParametersNew_1(objectsParamatersFromFile2){
  $assignObjectTypeSpecificParametersNew_0(this, objectsParamatersFromFile2);
}
;
_.copy = function copy_2(){
  return this.copy_0();
}
;
_.copy_0 = function copy_3(){
  return $copy_4(this);
}
;
_.getAllFieldsAsArrayList = function getAllFieldsAsArrayList_2(){
  return $getAllFieldsAsArrayList_2(this);
}
;
_.loadParameters = function loadParameters_1(incomingdata){
  $loadParameters_2(this, incomingdata);
}
;
var Log_61;
var Lcom_lostagain_Jam_SceneObjects_SceneLabelObjectState_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneLabelObjectState', 119, Lcom_lostagain_Jam_SceneObjects_SceneDivObjectState_2_classLit);
function $clinit_SceneDialogObjectState(){
  $clinit_SceneDialogObjectState = emptyMethod;
  $clinit_SceneLabelObjectState();
  Log_62 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneDialogObjectState'));
}

function $$init_24(this$static){
  this$static.currentparagraphName = 'default';
  this$static.currentParagraphPage = 0;
  this$static.currentNumberOfParagraphs = -5;
  this$static.NextParagraphObject = '';
}

function $assignDialogueObjectTypeSpecificParameters(this$static, itemslines){
  var currentline, currentlinenum, param, value_0;
  currentlinenum = 0;
  while (currentlinenum < itemslines.length) {
    currentline = $trim(itemslines[currentlinenum]);
    ++currentlinenum;
    if (currentline.length < 2 || $equals_5(currentline.substr(0, 2), '//')) {
      continue;
    }
    $info_1(Log_62, 'processing line:' + currentline);
    param = $trim($split_0(currentline, '=', 0)[0]);
    value_0 = $trim($split_0(currentline, '=', 0)[1]);
    if ($equalsIgnoreCase(param, 'BoxCSS')) {
      this$static.CurrentBoxCSS = value_0;
      $info_1(Log_62, 'Objects CurrentBoxCSS set to:' + this$static.CurrentBoxCSS);
    }
    if ($equalsIgnoreCase(param, 'CSSname')) {
      this$static.CSSname = value_0;
      $info_1(Log_62, 'Objects CSSname set to:' + this$static.CSSname);
    }
    if ($equalsIgnoreCase(param, 'DefaultURL')) {
      this$static.ObjectsCurrentURL = value_0;
      $info_1(Log_62, 'Objects ObjectsCurrentURL set to:' + this$static.ObjectsCurrentURL);
    }
    if ($equalsIgnoreCase(param, 'NextParagraphObject')) {
      this$static.NextParagraphObject = value_0;
      $info_1(Log_62, 'Objects NextParagraphObject set to:' + this$static.NextParagraphObject);
    }
  }
}

function SceneDialogObjectState(genericLabelState, objectsCurrentURL, currentparagraphName, currentNumberOfParagraphs, currentParagraphPage, nextParagraphObject){
  $clinit_SceneLabelObjectState();
  SceneDivObjectState_0.call(this, genericLabelState);
  $$init_23(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Label_4));
  this.ObjectsCurrentText = genericLabelState.ObjectsCurrentText;
  this.CSSname = genericLabelState.CSSname;
  this.cursorVisible = genericLabelState.cursorVisible;
  this.TypedText = genericLabelState.TypedText;
  this.Custom_Key_Beep = genericLabelState.Custom_Key_Beep;
  this.Custom_Space_Beep = genericLabelState.Custom_Space_Beep;
  $$init_24(this);
  $setObjectsPrimaryType(this, DialogBox);
  this.ObjectsCurrentURL = objectsCurrentURL;
  this.currentparagraphName = currentparagraphName;
  this.currentNumberOfParagraphs = currentNumberOfParagraphs;
  this.currentParagraphPage = currentParagraphPage;
  this.NextParagraphObject = nextParagraphObject;
}

function SceneDialogObjectState_0(state){
  $clinit_SceneDialogObjectState();
  SceneLabelObjectState_0.call(this, state);
  $$init_24(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , DialogBox));
  this.CurrentBoxCSS = '';
}

function SceneDialogObjectState_1(serialised){
  $clinit_SceneDialogObjectState();
  SceneDivObjectState.call(this);
  $$init_23(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Label_4));
  $$init_24(this);
  $setObjectsPrimaryType(this, DialogBox);
  $deserialise(this, serialised);
}

defineClass(145, 119, {145:1, 78:1, 119:1, 112:1}, SceneDialogObjectState, SceneDialogObjectState_0, SceneDialogObjectState_1);
_.assignObjectTypeSpecificParametersNew = function assignObjectTypeSpecificParametersNew_2(objectsParamatersFromFile2){
  $assignObjectTypeSpecificParametersNew_0(this, objectsParamatersFromFile2);
  $info_1(Log_62, 'SETTING UP DIALOG SPECIFIC PARAMETERS');
  $assignDialogueObjectTypeSpecificParameters(this, objectsParamatersFromFile2);
}
;
_.copy_0 = function copy_4(){
  var genericCopy;
  return genericCopy = $copy_4(this) , new SceneDialogObjectState(genericCopy, this.ObjectsCurrentURL, this.currentparagraphName, this.currentNumberOfParagraphs, this.currentParagraphPage, this.NextParagraphObject);
}
;
_.getAllFieldsAsArrayList = function getAllFieldsAsArrayList_3(){
  var fieldList;
  fieldList = $getAllFieldsAsArrayList_2(this);
  $info_1(Log_62, 'getting dialogue specific fields for object ' + this.ObjectsName);
  fieldList.add_0(this.currentparagraphName);
  fieldList.add_0(valueOf_45(this.currentParagraphPage));
  fieldList.add_0(valueOf_45(this.currentNumberOfParagraphs));
  fieldList.add_0(this.NextParagraphObject);
  return fieldList;
}
;
_.loadParameters = function loadParameters_2(incomingdata){
  $loadParameters_2(this, incomingdata);
  this.currentparagraphName = dynamicCastToString(incomingdata.next_0());
  this.currentParagraphPage = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this.currentNumberOfParagraphs = __parseAndValidateInt(dynamicCastToString(incomingdata.next_0()), 10);
  this.NextParagraphObject = dynamicCastToString(incomingdata.next_0());
  $info_1(Log_62, '__________________________________currentlyVisible set to :' + this.currentlyVisible);
}
;
_.currentNumberOfParagraphs = 0;
_.currentParagraphPage = 0;
var Log_62;
var Lcom_lostagain_Jam_SceneObjects_SceneDialogObjectState_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneDialogObjectState', 145, Lcom_lostagain_Jam_SceneObjects_SceneLabelObjectState_2_classLit);
function $clinit_SceneInputObjectState(){
  $clinit_SceneInputObjectState = emptyMethod;
  $clinit_SceneDivObjectState();
  Log_63 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneInputObjectData'));
}

function $$init_25(this$static){
  this$static.ReadOnly = false;
  this$static.maxcharacters = 200;
}

function $assignInputObjectTypeSpecificParameters(this$static, itemslines){
  var currentline, currentlinenum, param, value_0;
  currentlinenum = 0;
  while (currentlinenum < itemslines.length) {
    currentline = $trim(itemslines[currentlinenum]);
    ++currentlinenum;
    if (currentline.length < 2 || $equals_5(currentline.substr(0, 2), '//')) {
      continue;
    }
    $info_1(Log_63, 'processing line:' + currentline);
    param = $trim($split_0(currentline, '=', 0)[0]);
    value_0 = $trim($split_0(currentline, '=', 0)[1]);
    if ($equalsIgnoreCase(param, 'MaxCharacters')) {
      this$static.maxcharacters = __parseAndValidateInt(value_0, 10);
      $info_1(Log_63, 'maxcharacters set to:' + this$static.maxcharacters);
    }
  }
}

function SceneInputObjectState(state, ReadOnly){
  SceneDivObjectState_0.call(this, state);
  $$init_25(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Input_0));
  this.ReadOnly = ReadOnly;
}

function SceneInputObjectState_0(state){
  $clinit_SceneInputObjectState();
  SceneDivObjectState_1.call(this, state);
  $$init_25(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Input_0));
  this.ReadOnly = false;
}

function SceneInputObjectState_1(serialised){
  $clinit_SceneInputObjectState();
  SceneDivObjectState.call(this);
  $$init_25(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Input_0));
  $deserialise(this, serialised);
}

defineClass(146, 78, {78:1, 146:1, 112:1}, SceneInputObjectState, SceneInputObjectState_0, SceneInputObjectState_1);
_.assignObjectTypeSpecificParametersNew = function assignObjectTypeSpecificParametersNew_3(objectsParamatersFromFile2){
  $assignObjectTypeSpecificParametersNew(this, objectsParamatersFromFile2);
  $info_1(Log_63, 'SETTING UP INPUT SPECIFIC PARAMETERS');
  $assignInputObjectTypeSpecificParameters(this, objectsParamatersFromFile2);
}
;
_.copy = function copy_5(){
  var genericCopy;
  return genericCopy = $copy_2(this) , new SceneInputObjectState(genericCopy, this.ReadOnly);
}
;
_.getAllFieldsAsArrayList = function getAllFieldsAsArrayList_4(){
  var fieldList;
  fieldList = $getAllFieldsAsArrayList_1(this);
  $info_1(Log_63, 'getting input specific fields. (just one, its read only state)');
  fieldList.add_0(($clinit_Boolean() , this.ReadOnly?TRUE_3:FALSE_2));
  $info_1(Log_63, 'got input specific fields');
  return fieldList;
}
;
_.loadParameters = function loadParameters_3(incomingdata){
  $loadParameters_1(this, incomingdata);
  this.ReadOnly = ($clinit_Boolean() , $equalsIgnoreCase('true', dynamicCastToString(incomingdata.next_0())));
}
;
_.ReadOnly = false;
_.maxcharacters = 0;
var Log_63;
var Lcom_lostagain_Jam_SceneObjects_SceneInputObjectState_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneInputObjectState', 146, Lcom_lostagain_Jam_SceneObjects_SceneDivObjectState_2_classLit);
function $clinit_SceneLabelObjectState$cursorVisibleOptions(){
  $clinit_SceneLabelObjectState$cursorVisibleOptions = emptyMethod;
  TRUE_1 = new SceneLabelObjectState$cursorVisibleOptions('TRUE', 0);
  FALSE_0 = new SceneLabelObjectState$cursorVisibleOptions('FALSE', 1);
  WHENTYPING = new SceneLabelObjectState$cursorVisibleOptions('WHENTYPING', 2);
  DEFAULT_0 = new SceneLabelObjectState$cursorVisibleOptions('DEFAULT', 3);
}

function SceneLabelObjectState$cursorVisibleOptions(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_34(name_0){
  $clinit_SceneLabelObjectState$cursorVisibleOptions();
  return valueOf(($clinit_SceneLabelObjectState$cursorVisibleOptions$Map() , $MAP_32), name_0);
}

function values_40(){
  $clinit_SceneLabelObjectState$cursorVisibleOptions();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneLabelObjectState$cursorVisibleOptions_2_classLit, 1), $intern_1, 240, 0, [TRUE_1, FALSE_0, WHENTYPING, DEFAULT_0]);
}

defineClass(240, 9, {240:1, 3:1, 21:1, 9:1}, SceneLabelObjectState$cursorVisibleOptions);
var DEFAULT_0, FALSE_0, TRUE_1, WHENTYPING;
var Lcom_lostagain_Jam_SceneObjects_SceneLabelObjectState$cursorVisibleOptions_2_classLit = createForEnum('com.lostagain.Jam.SceneObjects', 'SceneLabelObjectState/cursorVisibleOptions', 240, Ljava_lang_Enum_2_classLit, values_40, valueOf_34);
function $clinit_SceneLabelObjectState$cursorVisibleOptions$Map(){
  $clinit_SceneLabelObjectState$cursorVisibleOptions$Map = emptyMethod;
  $MAP_32 = createValueOfMap(($clinit_SceneLabelObjectState$cursorVisibleOptions() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneLabelObjectState$cursorVisibleOptions_2_classLit, 1), $intern_1, 240, 0, [TRUE_1, FALSE_0, WHENTYPING, DEFAULT_0])));
}

var $MAP_32;
function $clinit_SceneObject(){
  $clinit_SceneObject = emptyMethod;
  SOLog = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.SceneObject'));
  attachmentPointCache = new HashMap;
}

function $StopCurrentMovement(this$static){
  removeObjectToUpdateOnFrame(this$static);
  this$static.objectsCurrentState_2.moveState.currentmovementtype = ($clinit_MovementState$MovementStateType() , None_0);
  $clearMovements(this$static.objectsCurrentState_2.moveState);
  $wasJustMoved(this$static, true);
  this$static.updateDebugInfo();
}

function $TriggeringNaboursOnTouchingChange(this$static){
  var so, touchingObjects, touching_objects_it;
  this$static.ObjectsLog_1('TriggeringNaboursOnTouchingChange', 1);
  if (this$static.getObjectsCurrentState_1().touching.map_0.size_1() > 0) {
    $info_1(SOLog, '_______running OnTouchingChangeActions for the objects touching:' + this$static.objectsCurrentState_2.ObjectsName);
    touchingObjects = this$static.getObjectsCurrentState_1().touching;
    touching_objects_it = $iterator_4(new AbstractMap$1(touchingObjects.map_0));
    while (touching_objects_it.val$outerIter2.hasNext()) {
      so = dynamicCast($next_7(touching_objects_it), 24);
      if (so) {
        $info_1(SOLog, '_______running OnTouchingChangeActions for' + so.objectsCurrentState_2.ObjectsName);
        $runOnTouchingChangeActions(so, this$static);
        $info_1(SOLog, '_______ranOnTouchingChange_' + so.objectsCurrentState_2.ObjectsName);
      }
       else {
        $info_1(SOLog, '_invalid or object in touching list');
      }
    }
  }
}

function $addImpulse(this$static, impulseMag){
  $info_1(SOLog, 'Adding a impulse to this object :' + (impulseMag.x_0 + ',' + impulseMag.y_0 + ',' + impulseMag.z_0));
  this$static.objectsCurrentState_2.moveState.currentmovementtype = ($clinit_MovementState$MovementStateType() , PhysicsBased);
  $addVelocity(this$static.objectsCurrentState_2.moveState, impulseMag);
  $setPosition_0(this$static.objectsCurrentState_2.moveState, $getX_0(this$static.getObjectsCurrentState_1()), $getY_0(this$static.getObjectsCurrentState_1()), $getZ(this$static.getObjectsCurrentState_1()));
  addObjectToUpdateOnFrame(this$static);
  this$static.collisionCheckPool = null;
  this$static.ObjectsLog_1('Added impulse of ' + impulseMag + ' now:' + $toString_13(this$static.objectsCurrentState_2.moveState.movement_vel), 1);
}

function $addProperty(this$static, addThis){
  var actions;
  addThis = addThis.toLowerCase();
  this$static.ObjectsLog_1('adding property:' + addThis, 1);
  if ($add_20(this$static.getObjectsCurrentState_1().objectsProperties, addThis)) {
    this$static.updateDebugInfo();
    $testAndRunSceneAndGlobalActions(this$static, ($clinit_ActionSet$TriggerType() , PropertyAddedActions), addThis);
    if (this$static.objectsActions) {
      actions = $getActionsForTrigger(this$static.objectsActions, PropertyAddedActions, addThis);
      this$static.ObjectsLog_1('property change actions found: \n' + $toString_8(actions), 1);
      this$static.objectScene_0?processInstructions_1(actions, 'FROM_' + this$static.objectScene_0.SceneFileName + '_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static):processInstructions_1(actions, 'FROM_NoScene_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static);
    }
    $info_1(SOLog, ' (propertys changed on ' + this$static.objectsCurrentState_2.ObjectsName + ',telling the nabourghs) ');
    $TriggeringNaboursOnTouchingChange(this$static);
    this$static.updateDebugInfo();
  }
   else {
    this$static.ObjectsLog_1('property ' + addThis + ' already on item ' + this$static.objectsCurrentState_2.ObjectsName, 1);
    $info_1(SOLog, 'property already on item ' + addThis);
  }
}

function $addToVariable(this$static, name_0, value_0){
  var val;
  $info_1(SOLog, 'adding = ' + value_0);
  val = round_int(__parseAndValidateDouble(value_0));
  $addToVariable_0(this$static.objectsCurrentState_2.ObjectRuntimeVariables, name_0, val);
}

function $addTouchingProperty(this$static, touchingObject){
  var changed;
  changed = $add_21(this$static.getObjectsCurrentState_1().touching, touchingObject);
  this$static.ObjectsLog_1('-adding touching:' + touchingObject.objectsCurrentState_2.ObjectsName + ' to ' + this$static.objectsCurrentState_2.ObjectsName + ' changed:' + changed, 1);
  $warning_0(SOLog, '-adding touching:' + touchingObject.objectsCurrentState_2.ObjectsName + ' to ' + this$static.objectsCurrentState_2.ObjectsName + ' changed:' + changed);
  if (changed) {
    $runOnTouchingChangeActions(this$static, touchingObject);
    $addTouchingProperty(touchingObject, this$static);
  }
   else {
    this$static.ObjectsLog_1('no change, had touching property already', 1);
    $warning_0(SOLog, 'no change, had touching property already');
  }
}

function $advanceOnStepActions(this$static, disX, disY){
  var dis;
  if (this$static.actionsToRunOnStep) {
    dis = round_int(Math.sqrt(disX * disX + disY * disY));
    this$static.currentStep = this$static.currentStep + dis;
    if (this$static.currentStep >= this$static.stepActionIterval) {
      this$static.currentStep = 0;
      processInstructions_1(this$static.actionsToRunOnStep.CommandsInSet, 'FROM_' + this$static.objectScene_0.SceneFileName + '_' + this$static.objectsCurrentState_2.ObjectsName, this$static);
    }
  }
}

function $attachTo(this$static, newParent){
  this$static.ObjectsLog_2('attaching to parent object:' + newParent.objectsCurrentState_2.ObjectsName, 'green');
  this$static.getObjectsCurrentState_1().relX = $getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX - ($getTopLeftBaseX(newParent) + newParent.objectsCurrentState_2.PinPointX);
  this$static.getObjectsCurrentState_1().relY = $getY_1(this$static) - $getY_1(newParent);
  this$static.getObjectsCurrentState_1().relZ = $getTopLeftBaseZ(this$static) + this$static.objectsCurrentState_2.PinPointZ - ($getTopLeftBaseZ(newParent) + newParent.objectsCurrentState_2.PinPointZ);
  this$static.ObjectsLog_2(this$static.getObjectsCurrentState_1().relX + ' = ' + ($getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX) + ' - ' + ($getTopLeftBaseX(newParent) + newParent.objectsCurrentState_2.PinPointX), 'yellow');
  this$static.ObjectsLog_2(this$static.getObjectsCurrentState_1().relY + ' = ' + $getY_1(this$static) + ' - ' + $getY_1(newParent), 'yellow');
  this$static.ObjectsLog_2(this$static.getObjectsCurrentState_1().relZ + ' = ' + ($getTopLeftBaseZ(this$static) + this$static.objectsCurrentState_2.PinPointZ) + ' - ' + ($getTopLeftBaseZ(newParent) + newParent.objectsCurrentState_2.PinPointZ), 'yellow');
  $add_21(newParent.relativeObjects, this$static);
  this$static.getObjectsCurrentState_1().positionedRelativeToo = newParent;
  this$static.getObjectsCurrentState_1().positionedRelativeToPoint = '';
}

function $chuckIntoInventory(this$static, toThisInventory){
  var destX, destXabs, destY, destYabs, inventory, oldVariableZindex, oldZindex, startXabs, startYabs, trajectory;
  $makeAbsolute(this$static);
  inventory = dynamicCast(($clinit_JAMcore() , allInventorys).get_2(toThisInventory), 136);
  destXabs = inventory.InventorysButton.getAbsoluteLeft();
  destYabs = inventory.InventorysButton.getAbsoluteTop();
  startXabs = this$static.getAbsoluteLeft();
  startYabs = this$static.getAbsoluteTop();
  $info_1(SOLog, '_from x abs _' + startXabs);
  $info_1(SOLog, '_from y abs _' + startYabs);
  $info_1(SOLog, '_to inventory x abs_' + destXabs);
  $info_1(SOLog, '_to inventory y abs _' + destYabs);
  destX = destXabs - startXabs;
  destY = destYabs - startYabs;
  $info_1(SOLog, '_which is _' + destX);
  $info_1(SOLog, '_which is _' + destY);
  trajectory = new MovementPath_0('', 'trajectory');
  $addMovementWayPoint_0(trajectory, new MovementWaypoint_1(0, 0, ($clinit_MovementWaypoint$MovementType() , RelativeMove)));
  $addMovementWayPoint_0(trajectory, new MovementWaypoint(destX, destY, ~~(destX / 2), ~~(destY / 2) - 150));
  this$static.setVisible(true);
  oldVariableZindex = this$static.getObjectsCurrentState_1().variableZindex;
  oldZindex = this$static.getObjectsCurrentState_1().zindex;
  this$static.getObjectsCurrentState_1().variableZindex = false;
  $setZIndex(this$static, 10500);
  $info_1(SOLog, 'setting post animation commands');
  $setPostAnimationCommands(trajectory, new SceneObject$8(this$static, oldVariableZindex, oldZindex));
  $info_1(SOLog, ' playing chuck to inventory ');
  $playMovementAtFixedSpeed(this$static, trajectory, 100);
}

function $chuckObject(this$static, fromThis, atThis){
  var command_manually_addImpactSpeed, curve, cx, cy, cz, manuallySetImpactSpeed, pathWithSafeEnding, realDestHeight, realStartHeight, trajectory, tx, ty, tz;
  this$static.objectScene_0 != atThis.objectScene_0 && $setCurrentlyStoredInInventory(this$static, false);
  realStartHeight = this$static.getObjectHeight();
  cx = round_0(fromThis.objectsCurrentState_2.X + ~~(fromThis.getObjectWidth() / 2));
  cy = round_0(fromThis.objectsCurrentState_2.Y + ~~(fromThis.getObjectHeight() / 2));
  cz = round_0(fromThis.objectsCurrentState_2.Z + ~~(realStartHeight / 2));
  realDestHeight = atThis.getObjectHeight();
  tx = round_0($getTopLeftBaseX(atThis) + ~~(atThis.getObjectWidth() / 2));
  ty = round_0($getTopLeftBaseY(atThis) + atThis.getObjectHeight());
  tz = round_0($getTopLeftBaseZ(atThis) + ~~(realDestHeight / 2));
  tx = round_0(tx - ~~(this$static.getObjectWidth() / 2));
  ty = round_0(ty - ~~(this$static.getObjectHeight() / 2));
  tz = round_0(tz);
  this$static.ObjectsLog_1('(testing target location new method): ' + tx + ',' + ty + ',' + tz, 1);
  pathWithSafeEnding = $findSafeEndpointOnLine_0(this$static.objectScene_0, cx, cy, tx, ty, this$static);
  tx = dynamicCast($get(pathWithSafeEnding, pathWithSafeEnding.array.length - 1), 23).pos.x_0;
  ty = dynamicCast($get(pathWithSafeEnding, pathWithSafeEnding.array.length - 1), 23).pos.y_0;
  this$static.ObjectsLog_1(' Chucking object at middle of ' + atThis.objectsCurrentState_2.ObjectsName + ' object: ' + tx + ',' + ty + ',' + tz, 1);
  trajectory = new MovementPath_0('', 'trajectory');
  $addMovementWayPoint_0(trajectory, new MovementWaypoint_0(cx, cy, cz, ($clinit_MovementWaypoint$MovementType() , AbsoluteMove)));
  curve = new MovementWaypoint_0(tx, ty, tz, AbsoluteQCurveToo);
  curve.midPoint1.x_0 = Math.round(~~((cx + tx) / 2));
  curve.midPoint1.y_0 = Math.round(~~((cy + ty) / 2));
  curve.midPoint1.z_0 = Math.round(~~((cz + tz) / 2)) + 400;
  $addMovementWayPoint_0(trajectory, curve);
  manuallySetImpactSpeed = new SceneObject$5(this$static, atThis);
  command_manually_addImpactSpeed = new MovementWaypoint_5(manuallySetImpactSpeed);
  $addMovementWayPoint_0(trajectory, command_manually_addImpactSpeed);
  $addMovementWayPoint_0(trajectory, new MovementWaypoint_0(tx, ty, 0, AbsoluteLineTo));
  this$static.ObjectsLog_1('Made Chuck Path', 1);
  $detach(this$static);
  $info_1(SOLog, '~~~~~setting starting position :');
  $setPosition_1(this$static, cx, cy, cz, false);
  this$static.setVisible(true);
  $playMovementAtFixedSpeed(this$static, trajectory, 100);
}

function $detach(this$static){
  if (this$static.getObjectsCurrentState_1().positionedRelativeToo) {
    $info_1(SOLog, 'detaching from:' + this$static.getObjectsCurrentState_1().positionedRelativeToo.objectsCurrentState_2.ObjectsName);
    $remove_21(this$static.getObjectsCurrentState_1().positionedRelativeToo.relativeObjects, this$static);
    this$static.getObjectsCurrentState_1().positionedRelativeToo = null;
    this$static.getObjectsCurrentState_1().positionedRelativeToPoint = '';
    this$static.getObjectsCurrentState_1().linkedZindex = false;
    this$static.getObjectsCurrentState_1().relX = 0;
    this$static.getObjectsCurrentState_1().relY = 0;
    this$static.getObjectsCurrentState_1().relZ = 0;
  }
}

function $dropTo(this$static, bounceEnergyRetention){
  $info_1(SOLog, 'dropping object:' + this$static.objectsCurrentState_2.ObjectsName);
  $clearMovements(this$static.objectsCurrentState_2.moveState);
  if ($getTopLeftBaseZ(this$static) + this$static.objectsCurrentState_2.PinPointZ == this$static.floor_height) {
    this$static.ObjectsLog_2('(object already on ground at ' + this$static.floor_height + ')', 'yellow');
    if (this$static.parentBeforeDropping) {
      this$static.ObjectsLog_1('Reattaching parent object', 1);
      $attachTo(this$static, this$static.parentBeforeDropping);
    }
    return;
  }
  this$static.objectsCurrentState_2.moveState.currentmovementtype = ($clinit_MovementState$MovementStateType() , PhysicsBased);
  $setBounceEnergyRetention(this$static.objectsCurrentState_2.moveState, bounceEnergyRetention);
  $setVelocity(this$static.objectsCurrentState_2.moveState);
  $setAcceleration(this$static.objectsCurrentState_2.moveState);
  $setPosition_0(this$static.objectsCurrentState_2.moveState, $getX_0(this$static.getObjectsCurrentState_1()), $getY_0(this$static.getObjectsCurrentState_1()), $getZ(this$static.getObjectsCurrentState_1()));
  addObjectToUpdateOnFrame(this$static);
  this$static.collisionCheckPool = null;
  $info_1(SOLog, 'starting drop:' + this$static.objectsCurrentState_2.ObjectsName);
  this$static.ObjectsLog_1('Dropping object:' + $toString_13(this$static.objectsCurrentState_2.moveState.movement_vel) + ' - acc:' + $toString_13(this$static.objectsCurrentState_2.moveState.movement_acc) + ' - bounce:' + this$static.objectsCurrentState_2.moveState.bounceEnergyRetention + ' -floor:' + this$static.floor_height, 1);
}

function $fadeIn(this$static, time){
  this$static.ObjectsLog_1('fading in......' + this$static.objectsCurrentState_2.ObjectsName, 1);
  this$static.currentFade = 1;
  this$static.setOpacityImplementation(0);
  this$static.Opacity = 0;
  this$static.objectsCurrentState_2.currentlyVisible = false;
  this$static.stepPerMS = 100 / time;
  this$static.ObjectsLog_1('fading in with ' + this$static.stepPerMS + ' change in opacity per ms', 1);
  this$static.setVisibleImplementation(true);
  addObjectToUpdateOnFrame(this$static);
}

function $fadeOut(this$static, time){
  this$static.ObjectsLog_1('fading out......' + this$static.objectsCurrentState_2.ObjectsName, 1);
  this$static.setOpacityImplementation(100);
  this$static.Opacity = 100;
  this$static.currentFade = 2;
  this$static.stepPerMS = 100 / time;
  this$static.setVisibleImplementation(true);
  this$static.ObjectsLog_1('fading out with step change:' + this$static.stepPerMS, 1);
  addObjectToUpdateOnFrame(this$static);
  this$static.objectsCurrentState_2.currentlyVisible = true;
}

function $getAttachmentPointMovements(this$static, atachmentPointUrl){
  var cacheTest;
  this$static.attachmentPoints = null;
  cacheTest = dynamicCast(attachmentPointCache.get_2(atachmentPointUrl), 403);
  if (cacheTest) {
    $info_1(SOLog, 'attachment points found in cache');
    this$static.attachmentPoints = cacheTest;
    return;
  }
  $info_1(SOLog, 'getting attachmet points from url ' + atachmentPointUrl);
  $loadAttachmentPoints(this$static, atachmentPointUrl, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
}

function $getCollisionPath(this$static){
  var objectsPath, ourLowerLineEnd, ourLowerLineStart, pinpoint, svgCode;
  objectsPath = '';
  pinpoint = $getPinAndAttachmentsAsAVG(this$static);
  if (this$static.cmap.isPresent()) {
    objectsPath = objectsPath + $getPath(dynamicCast(this$static.cmap.get_1(), 94));
    return objectsPath + pinpoint;
  }
  switch (this$static.getObjectsCurrentState_1().boundaryType.ordinal) {
    case 1:
      ourLowerLineStart = this$static.getLowerLeft();
      ourLowerLineEnd = this$static.getLowerRight();
      objectsPath = 'M ' + ourLowerLineStart + ' L ' + ourLowerLineEnd;
      break;
    case 2:
      $warning_0(SOLog, 'preview for box boundary type not implemented yet');
      break;
    case 0:
      return '';
    case 3:
      objectsPath = 'M ' + ($getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX) + ',' + $getY_1(this$static) + '';
  }
  svgCode = '<path id="lineBC" d="' + objectsPath + '" stroke="' + 'RED' + '" stroke-width="3" fill="rgba(45,5,25,0.5)" style="opacity:0.5" />';
  return svgCode + pinpoint;
}

function $getPinAndAttachmentsAsAVG(this$static){
  var attachmentPoint, attachmentPoint$iterator, attachpoint, attachx, attachy, attachz, currentFrame, loc, pinpoint, pinx, piny, pinz;
  pinx = $getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX;
  piny = $getY_1(this$static);
  pinz = $getTopLeftBaseZ(this$static) + this$static.objectsCurrentState_2.PinPointZ;
  piny = piny - pinz;
  pinpoint = '<rect width="3" height="3" style="stroke-width:1;stroke:rgb(255,255,255)" x="' + pinx + '" y="' + piny + '"><\/rect>';
  if (this$static.getObjectsCurrentState_1().hasAttachmentPointFile) {
    for (attachmentPoint$iterator = $iterator_5(new AbstractMap$2(this$static.attachmentPoints.attachmentPointLists)); attachmentPoint$iterator.val$outerIter2.hasNext();) {
      attachmentPoint = dynamicCast($next_8(attachmentPoint$iterator), 91);
      currentFrame = 0;
      $isCompatibleWith(this$static.getObjectsCurrentState_1(), ($clinit_SceneObjectType() , Sprite)) && (currentFrame = dynamicCast(this$static.getObjectsCurrentState_1(), 106).currentFrame);
      loc = (checkElementIndex(currentFrame, attachmentPoint.array.length) , dynamicCast(attachmentPoint.array[currentFrame], 23)).pos;
      attachx = loc.x_0 + $getTopLeftBaseX(this$static);
      attachy = loc.y_0 + $getTopLeftBaseY(this$static);
      attachz = loc.z_0 + $getTopLeftBaseZ(this$static);
      attachy = attachy - attachz;
      attachpoint = '<rect width="3" height="3" style="stroke-width:1;stroke:rgb(5,205,5)" x="' + attachx + '" y="' + attachy + '"><\/rect>';
      pinpoint = pinpoint + attachpoint;
    }
  }
  return pinpoint;
}

function $getSizeZ(this$static){
  if (this$static.getObjectsCurrentState_1().boundaryType) {
    return this$static.getObjectsCurrentState_1() , 0;
  }
  return 0;
}

function $getTopLeftBaseX(this$static){
  var RX, glueToo, posTo;
  if (this$static.objectsCurrentState_2.positionedRelativeToo) {
    RX = $getX_1(this$static.objectsCurrentState_2.positionedRelativeToo);
    posTo = this$static.objectsCurrentState_2.positionedRelativeToPoint;
    if (posTo.length) {
      glueToo = this$static.objectsCurrentState_2.positionedRelativeToo.getAttachmentPointsFor(posTo);
      !!glueToo && (RX = $getTopLeftBaseX(this$static.objectsCurrentState_2.positionedRelativeToo) + glueToo.pos.x_0);
    }
    return RX + this$static.objectsCurrentState_2.relX - this$static.objectsCurrentState_2.PinPointX;
  }
  return this$static.objectsCurrentState_2.X;
}

function $getTopLeftBaseY(this$static){
  var RY, glueToo, posTo;
  if (this$static.objectsCurrentState_2.positionedRelativeToo) {
    RY = $getY_1(this$static.objectsCurrentState_2.positionedRelativeToo);
    posTo = this$static.objectsCurrentState_2.positionedRelativeToPoint;
    if (posTo.length) {
      glueToo = this$static.objectsCurrentState_2.positionedRelativeToo.getAttachmentPointsFor(posTo);
      !!glueToo && (RY = $getTopLeftBaseY(this$static.objectsCurrentState_2.positionedRelativeToo) + glueToo.pos.y_0);
    }
    return RY + this$static.objectsCurrentState_2.relY - this$static.objectsCurrentState_2.PinPointY;
  }
  return this$static.objectsCurrentState_2.Y;
}

function $getTopLeftBaseZ(this$static){
  var RZ, glueToo, posTo;
  if (this$static.objectsCurrentState_2.positionedRelativeToo) {
    RZ = $getZ_0(this$static.objectsCurrentState_2.positionedRelativeToo);
    posTo = this$static.objectsCurrentState_2.positionedRelativeToPoint;
    if (posTo.length) {
      glueToo = this$static.objectsCurrentState_2.positionedRelativeToo.getAttachmentPointsFor(posTo);
      !!glueToo && (RZ = $getTopLeftBaseZ(this$static.objectsCurrentState_2.positionedRelativeToo) + glueToo.pos.z_0);
    }
    return RZ + this$static.objectsCurrentState_2.relZ - this$static.objectsCurrentState_2.PinPointZ;
  }
  return this$static.objectsCurrentState_2.Z;
}

function $getX_1(this$static){
  return $getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX;
}

function $getY_1(this$static){
  if (this$static.tempYOverride.isPresent()) {
    return dynamicCast(this$static.tempYOverride.get_1(), 160).value_0;
  }
  return $getTopLeftBaseY(this$static) + this$static.objectsCurrentState_2.PinPointY;
}

function $getZ_0(this$static){
  return $getTopLeftBaseZ(this$static) + this$static.objectsCurrentState_2.PinPointZ;
}

function $initialiseAndAddToDatabase(this$static){
  if (this$static.getObjectsCurrentState().objectsPrimaryType == ($clinit_SceneObjectType() , InventoryIcon))
  ;
  else {
    $startLoadingCmap(this$static, this$static.getObjectsCurrentState());
  }
  addObjectToDatabase(this$static);
}

function $isBoxTouching(this$static, ourbox){
  if (this$static.cmap.isPresent()) {
    return $isCollidingWith_2(dynamicCast(this$static.cmap.get_1(), 94), ourbox);
  }
  switch (this$static.getObjectsCurrentState_1().boundaryType.ordinal) {
    case 1:
      $severe_0(SOLog, 'box collision type test against line type not yet supported ');
      this$static.getLowerLeft();
      this$static.getLowerRight();
      break;
    case 2:
      $severe_0(SOLog, 'box collision type test against box type not yet supported ');
      break;
    case 0:
      return false;
    case 3:
      $severe_0(SOLog, 'box collision type test against point type not yet supported ');
  }
  return false;
}

function $isLineTouching_0(this$static, start_0, end){
  var ourLowerLeft, ourLowerLineEnd, ourLowerLineStart, ourLowerRight, ourUpperLeft, ourUpperRight;
  if (this$static.cmap.isPresent()) {
    this$static.ObjectsLog_2('testing for line against collision map:' + (start_0.x_0 + ',' + start_0.y_0) + '-->' + (end.x_0 + ',' + end.y_0), 'orange');
    return $isCollidingWith_1(dynamicCast(this$static.cmap.get_1(), 94), start_0, end);
  }
   else {
    switch (this$static.getObjectsCurrentState_1().boundaryType.ordinal) {
      case 1:
        ourLowerLineStart = this$static.getLowerLeft();
        ourLowerLineEnd = this$static.getLowerRight();
        {
          $clinit_Polygon();
          if (lineSegmentIntersect(ourLowerLineStart.x_0, ourLowerLineStart.y_0, ourLowerLineEnd.x_0, ourLowerLineEnd.y_0, start_0.x_0, start_0.y_0, end.x_0, end.y_0)) {
            return true;
          }
        }

        break;
      case 2:
        if (this$static.getObjectsCurrentState_1().boundaryType.customCollisionBox.isPresent()) {
          $severe_0(SOLog, 'testing for custom bounding box against  line (NOT IMPLEMENTED YET)');
        }
         else {
          ourUpperLeft = this$static.getUpperLeft();
          ourUpperRight = this$static.getUpperRight();
          ourLowerLeft = this$static.getLowerLeft();
          ourLowerRight = this$static.getLowerRight();
          $clinit_Polygon();
          if (lineSegmentIntersect(ourUpperLeft.x_0, ourUpperLeft.y_0, ourUpperRight.x_0, ourUpperRight.y_0, start_0.x_0, start_0.y_0, end.x_0, end.y_0)) {
            return true;
          }
          if (lineSegmentIntersect(ourUpperRight.x_0, ourUpperRight.y_0, ourLowerRight.x_0, ourLowerRight.y_0, start_0.x_0, start_0.y_0, end.x_0, end.y_0)) {
            return true;
          }
          if (lineSegmentIntersect(ourLowerRight.x_0, ourLowerRight.y_0, ourLowerLeft.x_0, ourLowerLeft.y_0, start_0.x_0, start_0.y_0, end.x_0, end.y_0)) {
            return true;
          }
          if (lineSegmentIntersect(ourLowerLeft.x_0, ourLowerLeft.y_0, ourUpperLeft.x_0, ourUpperLeft.y_0, start_0.x_0, start_0.y_0, end.x_0, end.y_0)) {
            return true;
          }
          return false;
        }

        break;
      case 0:
        return false;
      case 3:
        $severe_0(SOLog, 'testing for line against pivot point (NOT IMPLEMENTED YET)');
        break;
      default:$info_1(SOLog, 'BOUNDARY MODE NOT RECOGNISED:' + $toString_15(this$static.getObjectsCurrentState_1().boundaryType));
    }
  }
  return false;
}

function $isObjectTouching(this$static, testAgainst){
  var boundarytype, ourLowerLineEnd, ourLowerLineStart, ourbox, ourUpperLeft, ourLowerRight;
  boundarytype = this$static.getObjectsCurrentState_1().boundaryType;
  if (boundarytype == ($clinit_CollisionType() , none)) {
    return false;
  }
  if (this$static.cmap.isPresent() && dynamicCast(this$static.cmap.get_1(), 94).hasCoporalPart) {
    if (!testAgainst.cmap.isPresent() || !dynamicCast(testAgainst.cmap.get_1(), 94).hasCoporalPart) {
      return $isObjectTouching(testAgainst, this$static);
    }
  }
  if (this$static.cmap.isPresent() && dynamicCast(this$static.cmap.get_1(), 94).hasCoporalPart && testAgainst.cmap.isPresent() && dynamicCast(testAgainst.cmap.get_1(), 94).hasCoporalPart) {
    $info_1(SOLog, '(using both collision maps to compare)');
    return $isCollidingWith(dynamicCast(this$static.cmap.get_1(), 94), dynamicCast(testAgainst.cmap.get_1(), 94));
  }
  switch (boundarytype.ordinal) {
    case 1:
      ourLowerLineStart = this$static.getLowerLeft();
      ourLowerLineEnd = this$static.getLowerRight();
      testAgainst.ObjectsLog_1('Testing ' + this$static.objectsCurrentState_2.ObjectsName + ' for baseline collision on object:' + testAgainst.objectsCurrentState_2.ObjectsName, 1);
      testAgainst.ObjectsLog_1('our size is: ' + testAgainst.getObjectHeight() + ' ,' + testAgainst.getObjectWidth(), 1);
      this$static.ObjectsLog_1('Testing ' + this$static.objectsCurrentState_2.ObjectsName + ' for baseline collision on object:' + testAgainst.objectsCurrentState_2.ObjectsName, 1);
      this$static.ObjectsLog_1('our size is: ' + this$static.getObjectHeight() + ' ,' + this$static.getObjectWidth(), 1);
      return $isLineTouching_0(testAgainst, ourLowerLineStart, ourLowerLineEnd);
    case 2:
      ourbox = (ourUpperLeft = this$static.getUpperLeft() , ourLowerRight = this$static.getLowerRight() , new CollisionBox(ourUpperLeft, ourLowerRight));
      this$static.getObjectsCurrentState_1().boundaryType.customCollisionBox.isPresent() && (ourbox = dynamicCast(this$static.getObjectsCurrentState_1().boundaryType.customCollisionBox.get_1(), 270));
      return $isBoxTouching(testAgainst, ourbox);
    case 0:
      return false;
    case 3:
      return $isPointTouching(testAgainst, $getX_0(this$static.getObjectsCurrentState_1()), $getY_0(this$static.getObjectsCurrentState_1()));
    default:$severe_0(SOLog, 'this objects collision type not recognised' + this$static.getObjectsCurrentState_1().boundaryType);
      return false;
  }
}

function $isPointTouching(this$static, pinPointX, pinPointY){
  if (this$static.cmap.isPresent()) {
    return $isCollidingWith_0(dynamicCast(this$static.cmap.get_1(), 94), new Simple2DPoint(pinPointX, pinPointY));
  }
   else {
    switch (this$static.getObjectsCurrentState_1().boundaryType.ordinal) {
      case 1:
        $severe_0(SOLog, 'testing for point against  bottomline not yet supported ');
        break;
      case 2:
        $severe_0(SOLog, 'testing for point against  box not yet supported ');
        break;
      case 0:
        return false;
      case 3:
        $severe_0(SOLog, 'testing for point against  point not yet supported ');
    }
  }
  return false;
}

function $isWithinRegion(this$static, regionSpecified){
  var cmapToTest, objectName, regionname, testerobject, wellIsItInside;
  $info_1(SOLog, 'testing ' + this$static.objectsCurrentState_2.ObjectsName + ' is within region:' + regionSpecified);
  if (regionSpecified.indexOf('<') != -1) {
    regionname = $split_0(regionSpecified, '\\<', 0)[1];
    regionname = $trim($substring_0(regionname, 0, regionname.length - 1));
    $info_1(SOLog, 'regionname found=' + regionname);
    objectName = $split_0(regionSpecified, '\\<', 0)[0];
    $info_1(SOLog, 'objectname found=' + objectName);
    testerobject = getSingleSceneObjectNEW(objectName, null, true);
    if (!testerobject) {
      $info_1(SOLog, 'no object found to get region from:' + objectName + ', so assuming not in region');
      return false;
    }
    if (testerobject.objectScene_0 != this$static.objectScene_0) {
      $info_1(SOLog, 'was testing for collision map on object, but objects arnt even on the same scene thus cant be intersecting');
      return false;
    }
    if (!testerobject.cmap.isPresent()) {
      $info_1(SOLog, 'specified object has no cmap');
      return false;
    }
    cmapToTest = dynamicCast(testerobject.cmap.get_1(), 94);
  }
   else {
    if (($clinit_SceneObjectDatabase() , currentScene_0).scenesCmap.isPresent()) {
      cmapToTest = dynamicCast(currentScene_0.scenesCmap.get_1(), 73).scenesOwnMap;
    }
     else {
      $info_1(SOLog, 'no collision map present on scene but also no object specified, so we are returning false');
      return false;
    }
    regionname = regionSpecified;
  }
  wellIsItInside = ($clinit_Boolean() , $checkWithinRegion(cmapToTest, regionname, $getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX, $getY_1(this$static))?TRUE_3:FALSE_2);
  return wellIsItInside.value_0;
}

function $loadAttachmentPoints(this$static, atachmentPointUrl, setAsCurrentUsedPoints){
  var onError, onResponse;
  onResponse = new SceneObject$1(this$static, setAsCurrentUsedPoints, atachmentPointUrl);
  onError = new SceneObject$2;
  $clinit_RequiredImplementations();
  GetTextFile(atachmentPointUrl, onResponse, onError, false, false);
}

function $makeAbsolute(this$static){
  var xpos, ypos, zpos;
  if (!this$static.objectsCurrentState_2.positionedRelativeToo) {
    return;
  }
  xpos = $getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX;
  ypos = $getY_1(this$static);
  zpos = $getTopLeftBaseZ(this$static) + this$static.objectsCurrentState_2.PinPointZ;
  $remove_21(this$static.objectsCurrentState_2.positionedRelativeToo.relativeObjects, this$static);
  this$static.objectsCurrentState_2.positionedRelativeToo = null;
  $setPosition_1(this$static, xpos, ypos, zpos, true);
}

function $movementFrameUpdate(this$static, DELTA_TIME){
  var atAWayPoint, cp, dis, distancebetweenpointsX, distancebetweenpointsY, distancebetweenpointsZ, inverseTime, newX, newY, newZ, prevDX, prevDY, prevDZ, speed, stepX, stepY, stepZ, timeItshouldHaveTakenToGetThere;
  if (this$static.objectsCurrentState_2.moveState.currentmovementtype == ($clinit_MovementState$MovementStateType() , PhysicsBased)) {
    $movementPhysicsBasedUpdate(this$static, DELTA_TIME);
    this$static.objectsCurrentState_2.moveState.currentmovementtype == PhysicsBased && $setPosition_1(this$static, this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0, this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0, this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0, false);
    return;
  }
   else if (this$static.objectsCurrentState_2.moveState.currentmovementtype == None_0) {
    return;
  }
  atAWayPoint = $testIfWeAreWithinThresholdOfWaypoint(this$static, DELTA_TIME);
  while (atAWayPoint) {
    $info_1(SOLog, 'at waypoint:' + this$static.objectsCurrentState_2.moveState.movement_currentWaypoint);
    this$static.ObjectsLog_2('at waypoint' + this$static.objectsCurrentState_2.moveState.movement_currentWaypoint, 'grey');
    this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 = this$static.objectsCurrentState_2.moveState.movement_dest.x_0;
    this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 = this$static.objectsCurrentState_2.moveState.movement_dest.y_0;
    this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 = this$static.objectsCurrentState_2.moveState.movement_dest.z_0;
    this$static.objectsCurrentState_2.moveState.currentmovementtype = OnLinePath;
    this$static.objectsCurrentState_2.moveState.movement_SC.x_0 = -1;
    this$static.objectsCurrentState_2.moveState.movement_SC.y_0 = -1;
    this$static.objectsCurrentState_2.moveState.movement_SC.z_0 = -1;
    this$static.remainderX = 0;
    this$static.remainderY = 0;
    this$static.remainderZ = 0;
    this$static.objectsCurrentState_2.moveState.movement_currentWaypoint = this$static.objectsCurrentState_2.moveState.movement_currentWaypoint + 1;
    if (this$static.objectsCurrentState_2.moveState.movement_currentWaypoint < this$static.currentPath.array.length) {
      prevDX = this$static.objectsCurrentState_2.moveState.movement_dest.x_0;
      prevDY = this$static.objectsCurrentState_2.moveState.movement_dest.y_0;
      prevDZ = this$static.objectsCurrentState_2.moveState.movement_dest.z_0;
      this$static.ObjectsLog_1('last waypoint was ' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_current_pos), 1);
      cp = $setNextWayPointMovement(this$static);
      if (cp.type_0 == ($clinit_MovementWaypoint$MovementType() , Command_0)) {
        return;
      }
      atAWayPoint = $testIfWeAreWithinThresholdOfWaypoint(this$static, DELTA_TIME);
      if (atAWayPoint) {
        distancebetweenpointsX = abs_1(prevDX - this$static.objectsCurrentState_2.moveState.movement_dest.x_0);
        distancebetweenpointsY = abs_1(prevDY - this$static.objectsCurrentState_2.moveState.movement_dest.y_0);
        distancebetweenpointsZ = abs_1(prevDZ - this$static.objectsCurrentState_2.moveState.movement_dest.z_0);
        dis = sqrt_0(pow_0(distancebetweenpointsX, 2) + pow_0(distancebetweenpointsY, 2) + pow_0(distancebetweenpointsZ, 2));
        dis < 1 && (dis = 1);
        speed = this$static.objectsCurrentState_2.moveState.movement_speed;
        timeItshouldHaveTakenToGetThere = dis / speed;
        DELTA_TIME = DELTA_TIME - timeItshouldHaveTakenToGetThere;
        DELTA_TIME < 1 && (DELTA_TIME = 1);
      }
      continue;
    }
     else {
      $info_1(SOLog, 'end of movement path');
      this$static.ObjectsLog_2('___end of movement path, last Delta was ' + DELTA_TIME, 'purple');
      $setPosition_1(this$static, this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0, this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0, this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0, false);
      this$static.remainderX = 0;
      this$static.remainderY = 0;
      this$static.remainderZ = 0;
      $StopCurrentMovement(this$static);
      this$static.currentPath.postAnimationCommands?$run_16(this$static.currentPath.postAnimationCommands):$info_1(SOLog, 'no post animation commands found');
      return;
    }
  }
  if (!this$static.telePortFlag && this$static.objectsCurrentState_2.moveState.currentmovementtype != OnCurvePath) {
    if (this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 != this$static.objectsCurrentState_2.moveState.movement_dest.x_0) {
      stepX = this$static.objectsCurrentState_2.moveState.movement_vel.x_0 * DELTA_TIME;
      newX = this$static.remainderX + (this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 + stepX);
      this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 = round_int(newX);
      this$static.remainderX = newX - this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0;
      this$static.ObjectsLog_2('newX=' + newX + ' stepX was=' + stepX + ' Delta was ' + DELTA_TIME, 'purple');
    }
    if (this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 != this$static.objectsCurrentState_2.moveState.movement_dest.y_0) {
      stepY = this$static.objectsCurrentState_2.moveState.movement_vel.y_0 * DELTA_TIME;
      newY = this$static.remainderY + (this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 + stepY);
      this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 = round_int(newY);
      this$static.remainderY = newY - this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0;
      this$static.ObjectsLog_2('newY=' + newY + '  stepY was=' + stepY + ' Delta was ' + DELTA_TIME, 'purple');
    }
    if (this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 != this$static.objectsCurrentState_2.moveState.movement_dest.z_0) {
      stepZ = this$static.objectsCurrentState_2.moveState.movement_vel.z_0 * DELTA_TIME;
      newZ = this$static.remainderZ + (this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 + stepZ);
      this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 = round_int(newZ);
      this$static.remainderZ = newZ - this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0;
      this$static.ObjectsLog_2('newZ=' + newZ + '  stepZ was=' + stepZ + ' Delta was ' + DELTA_TIME, 'purple');
    }
    $advanceOnStepActions(this$static, this$static.objectsCurrentState_2.moveState.movement_vel.x_0 * DELTA_TIME, this$static.objectsCurrentState_2.moveState.movement_vel.y_0 * DELTA_TIME);
  }
  if (this$static.objectsCurrentState_2.moveState.currentmovementtype == OnCurvePath) {
    inverseTime = 1 - this$static.objectsCurrentState_2.moveState.movement_curveTime;
    newX = round_int(pow_0(inverseTime, 2) * this$static.objectsCurrentState_2.moveState.movement_SC.x_0 + 2 * inverseTime * this$static.objectsCurrentState_2.moveState.movement_curveTime * this$static.objectsCurrentState_2.moveState.movement_CC.x_0 + pow_0(this$static.objectsCurrentState_2.moveState.movement_curveTime, 2) * this$static.objectsCurrentState_2.moveState.movement_dest.x_0);
    newY = round_int(pow_0(inverseTime, 2) * this$static.objectsCurrentState_2.moveState.movement_SC.y_0 + 2 * inverseTime * this$static.objectsCurrentState_2.moveState.movement_curveTime * this$static.objectsCurrentState_2.moveState.movement_CC.y_0 + pow_0(this$static.objectsCurrentState_2.moveState.movement_curveTime, 2) * this$static.objectsCurrentState_2.moveState.movement_dest.y_0);
    newZ = round_int(pow_0(inverseTime, 2) * this$static.objectsCurrentState_2.moveState.movement_SC.z_0 + 2 * inverseTime * this$static.objectsCurrentState_2.moveState.movement_curveTime * this$static.objectsCurrentState_2.moveState.movement_CC.z_0 + pow_0(this$static.objectsCurrentState_2.moveState.movement_curveTime, 2) * this$static.objectsCurrentState_2.moveState.movement_dest.z_0);
    this$static.objectsCurrentState_2.moveState.movement_curveTime = this$static.objectsCurrentState_2.moveState.movement_curveTime + this$static.objectsCurrentState_2.moveState.movement_curveTimeStep * DELTA_TIME;
    $advanceOnStepActions(this$static, abs_1(this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 - newX), abs_1(this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 - newY));
    this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 = newX;
    this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 = newY;
    this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 = newZ;
  }
  $setPosition_1(this$static, this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0, this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0, this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0, false);
}

function $movementPhysicsBasedUpdate(this$static, deltatime){
  var currentMoveState, newspeed;
  currentMoveState = this$static.getObjectsCurrentState_1().moveState;
  currentMoveState.movement_current_pos.x_0 = round_int(currentMoveState.movement_current_pos.x_0 + currentMoveState.movement_vel.x_0 * deltatime);
  currentMoveState.movement_current_pos.y_0 = round_int(currentMoveState.movement_current_pos.y_0 + currentMoveState.movement_vel.y_0 * deltatime);
  currentMoveState.movement_current_pos.z_0 = round_int(currentMoveState.movement_current_pos.z_0 + currentMoveState.movement_vel.z_0 * deltatime);
  currentMoveState.movement_current_pos.x_0 = round_int(currentMoveState.movement_current_pos.x_0 + currentMoveState.movement_acc.x_0 * deltatime * 0.5);
  currentMoveState.movement_current_pos.y_0 = round_int(currentMoveState.movement_current_pos.y_0 + currentMoveState.movement_acc.y_0 * deltatime * 0.5);
  currentMoveState.movement_current_pos.z_0 = round_int(currentMoveState.movement_current_pos.z_0 + currentMoveState.movement_acc.z_0 * deltatime * 0.5);
  this$static.ObjectsLog_1('pos:' + $toString_12(currentMoveState.movement_current_pos), 1);
  if (currentMoveState.movement_current_pos.z_0 < this$static.floor_height) {
    newspeed = -currentMoveState.movement_vel.z_0 * currentMoveState.bounceEnergyRetention;
    this$static.ObjectsLog_2('oldspeed:' + currentMoveState.movement_vel.z_0 + ' newspeed:' + newspeed, 'blue');
    this$static.SpeedOfLastImpact = abs_0(currentMoveState.movement_vel.z_0);
    this$static.ObjectsLog_2('ImpactSpeed=' + this$static.SpeedOfLastImpact, 'blue');
    $runOnTouchingChangeActions(this$static, this$static);
    this$static.SpeedOfLastImpact = 0;
    if (newspeed < 0.05) {
      this$static.ObjectsLog_1('Speed under 0.05 so stopping', 1);
      currentMoveState.movement_current_pos.z_0 = this$static.floor_height;
      if (!this$static.parentBeforeDropping) {
        this$static.ObjectsLog_1('No parent object', 1);
      }
       else {
        this$static.ObjectsLog_1('Reattaching parent object', 1);
        $attachTo(this$static, this$static.parentBeforeDropping);
      }
      $StopCurrentMovement(this$static);
    }
     else {
      currentMoveState.movement_current_pos.z_0 = this$static.floor_height;
      currentMoveState.movement_vel.z_0 = newspeed;
      $updateVelocity(currentMoveState, deltatime);
    }
  }
   else {
    $updateVelocity(currentMoveState, deltatime);
  }
}

function $playMovement(this$static, path, Duration, FromNode, gotopos){
  var speedInMs;
  if (this$static.objectsCurrentState_2.moveState.currentmovementtype != ($clinit_MovementState$MovementStateType() , None_0)) {
    $info_1(SOLog, 'Movement :' + this$static.currentPath.pathsName + ' was playing on ' + this$static.getObjectsCurrentState_1().ObjectsName + ', so we are stopping it');
    $StopCurrentMovement(this$static);
  }
  this$static.skipFirstJump = gotopos;
  this$static.currentPath = path;
  this$static.objectsCurrentState_2.moveState.currentmovementtype = OnLinePath;
  this$static.objectsCurrentState_2.moveState.movement_curveTime = 0;
  this$static.objectsCurrentState_2.moveState.movement_curveTimeStep = 0;
  this$static.objectsCurrentState_2.moveState.currentmovementpath = this$static.currentPath.pathsName;
  this$static.objectsCurrentState_2.moveState.movement_currentWaypoint = FromNode;
  this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 = $getX_0(this$static.objectsCurrentState_2);
  this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 = $getY_0(this$static.objectsCurrentState_2);
  this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 = $getZ(this$static.objectsCurrentState_2);
  this$static.objectsCurrentState_2.moveState.movement_dest.x_0 = this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0;
  this$static.objectsCurrentState_2.moveState.movement_dest.y_0 = this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0;
  this$static.objectsCurrentState_2.moveState.movement_dest.z_0 = this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0;
  this$static.objectsCurrentState_2.moveState.movement_vel.x_0 = 5;
  this$static.objectsCurrentState_2.moveState.movement_vel.y_0 = 5;
  this$static.objectsCurrentState_2.moveState.movement_vel.z_0 = 5;
  speedInMs = path.PathLength / Duration;
  this$static.objectsCurrentState_2.moveState.movement_speed = speedInMs;
  $info_1(SOLog, '__________running path waypoint total:' + this$static.currentPath.array.length);
  $info_1(SOLog, '__________running path :' + $getAsSVGPath(this$static.currentPath, true));
  $info_1(SOLog, '__________running pathlength :' + this$static.currentPath.PathLength);
  $info_1(SOLog, '__________movement_speed:' + this$static.objectsCurrentState_2.moveState.movement_speed);
  $info_1(SOLog, '__________speedInMs:' + speedInMs);
  $info_1(SOLog, '__________movement_Dest:' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_dest));
  $info_1(SOLog, '__________movement_current position:' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_current_pos));
  $info_1(SOLog, '__________getX:' + ($getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX) + '_______getY:' + $getY_1(this$static) + '_______getZ:' + ($getTopLeftBaseZ(this$static) + this$static.objectsCurrentState_2.PinPointZ));
  $info_1(SOLog, '__________FromNode:' + this$static.objectsCurrentState_2.moveState.movement_currentWaypoint);
  addObjectToUpdateOnFrame(this$static);
  this$static.collisionCheckPool = null;
}

function $playMovement_0(this$static, MovementName, Duration, FromNode, gotopos){
  if (!this$static.movementsLoaded) {
    $info_1(SOLog, 'attempted to play, but movements arnt loaded');
    return;
  }
  this$static.currentPath = dynamicCast($getStringValue(this$static.objectsMovements, MovementName), 91);
  $playMovement(this$static, this$static.currentPath, Duration, FromNode, gotopos);
}

function $playMovementAtFixedSpeed(this$static, path, speed){
  var Distance, Duration;
  $info_1(SOLog, '_______________________playing path:' + $getAsSVGPath(path, false));
  Distance = path.PathLength;
  $info_1(SOLog, '_______________________________________________________Distance :' + Distance);
  $info_1(SOLog, 'current speed=' + speed);
  Duration = round_int(Distance / (speed / $intern_10));
  $info_1(SOLog, 'current Duration=' + Duration);
  $playMovement(this$static, path, Duration, -1, false);
}

function $recheckRelativePositioningSetup(this$static){
  var posRel;
  posRel = this$static.objectsCurrentState_2.positionRelativeToOnceLoaded;
  if (this$static.objectsCurrentState_2.positionRelativeToOnceLoaded.length > 2) {
    $info_1(SOLog, 'position relative to once loaded == ' + posRel);
    this$static.ObjectsLog_1('________rechecking rel pos: ' + this$static.objectsCurrentState_2.ObjectsName, 1);
    this$static.ObjectsLog_1('__________________with pos: ' + posRel, 1);
    this$static.objectsCurrentState_2.positionedRelativeToo = getSingleSceneObjectNEW(posRel, null, true);
    if (this$static.objectsCurrentState_2.positionedRelativeToo) {
      this$static.objectsCurrentState_2.positionRelativeToOnceLoaded = '';
      this$static.objectsCurrentState_2.X = $getX_1(this$static.objectsCurrentState_2.positionedRelativeToo) + this$static.objectsCurrentState_2.relX;
      this$static.objectsCurrentState_2.Y = $getY_1(this$static.objectsCurrentState_2.positionedRelativeToo) + this$static.objectsCurrentState_2.relY;
      this$static.objectsCurrentState_2.Z = $getZ_0(this$static.objectsCurrentState_2.positionedRelativeToo) + this$static.objectsCurrentState_2.relZ;
    }
     else {
      $warning_0(SOLog, 'could not find ' + posRel);
    }
    $add_21(this$static.objectsCurrentState_2.positionedRelativeToo.relativeObjects, this$static);
  }
}

function $removeAllPropertys(this$static){
  var propertyIT, propertyStrings, removeThis;
  propertyStrings = $getAllDirectPropertysAsStrings(this$static.getObjectsCurrentState_1().objectsProperties);
  $info_1(SOLog, 'Propertys to remove:' + propertyStrings.toString$());
  propertyIT = new AbstractList$IteratorImpl(propertyStrings);
  while (propertyIT.i < propertyIT.this$01_0.size_1()) {
    removeThis = (checkCriticalElement(propertyIT.i < propertyIT.this$01_0.size_1()) , dynamicCastToString(propertyIT.this$01_0.get_0(propertyIT.last = propertyIT.i++)));
    $removeProperty(this$static, removeThis);
  }
}

function $removeObject(this$static, removeFromLists){
  var TimeTakenStart, TimeTakenEnd;
  if (!this$static.objectScene_0) {
    $info_1(SOLog, 'objects scene is null,so cant remove it');
    return;
  }
  if (!this$static.objectsCurrentState_2) {
    $info_1(SOLog, 'object data null error');
    return;
  }
  if (this$static.objectsCurrentState_2.objectsPrimaryType == ($clinit_SceneObjectType() , InventoryIcon)) {
    removeItemFromAllInventorys(dynamicCast(this$static, 178));
  }
   else {
    $info_1(SOLog, 'removing this object from its scene lists: ' + this$static.objectsCurrentState_2.ObjectsName);
    $removeFromScenesObjects(this$static.objectScene_0.scenesData, this$static);
    if (removeFromLists) {
      $info_1(SOLog, 'removing this object from all global object lists: ' + this$static.objectsCurrentState_2.ObjectsName);
      $clinit_SceneObjectDatabase();
      $info_1(DBLog, 'new db testt');
      TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
      removeObjectFromAllLists(this$static);
      TimeTakenEnd = fromDouble(now_1());
      $clinit_GameStatistics();
      TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart));
    }
    $info_1(SOLog, 'removing this object from background: ' + this$static.objectsCurrentState_2.ObjectsName);
    this$static.removeThisObjectFromItsSceneImplementation();
  }
}

function $removeProperty(this$static, removeThis){
  var actions;
  if ($removeproperty(this$static.getObjectsCurrentState_1().objectsProperties, removeThis)) {
    this$static.ObjectsLog_1(removeThis + ' was removed from ' + this$static.getObjectsCurrentState_1().ObjectsName, 1);
    this$static.updateDebugInfo();
    $testAndRunSceneAndGlobalActions(this$static, ($clinit_ActionSet$TriggerType() , PropertyRemovedActions), removeThis);
    if (this$static.objectsActions) {
      actions = $getActionsForTrigger(this$static.objectsActions, PropertyRemovedActions, removeThis);
      this$static.ObjectsLog_1('property remove actions found: \n' + $toString_8(actions), 1);
      processInstructions_1(actions, 'FROM_' + this$static.objectScene_0.SceneFileName + '_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static);
    }
    $TriggeringNaboursOnTouchingChange(this$static);
    this$static.updateDebugInfo();
    return true;
  }
  return false;
}

function $removeTouchingProperty(this$static, touchingObject){
  var changed;
  this$static.ObjectsLog_1('-removing touching:' + touchingObject.objectsCurrentState_2.ObjectsName + ' to ' + this$static.getObjectsCurrentState_1().ObjectsName, 1);
  changed = $remove_21(this$static.getObjectsCurrentState_1().touching, touchingObject);
  if (changed) {
    $runOnTouchingChangeActions(this$static, touchingObject);
    $removeTouchingProperty(touchingObject, this$static);
  }
   else {
    this$static.ObjectsLog_1('no change, did not have property', 1);
  }
}

function $replaceTouchingPropertys(this$static, replacements){
  var newAdditions, newSubtractions, touchingObject, touchingObject$iterator, touchingObject$iterator0;
  this$static.ObjectsLog_1('- Setting touching:' + replacements.array.length + ' to ' + this$static.objectsCurrentState_2.ObjectsName, 1);
  newAdditions = new ArrayList_1(replacements);
  $removeAll(newAdditions, this$static.getObjectsCurrentState_1().touching);
  newSubtractions = new ArrayList_1(this$static.getObjectsCurrentState_1().touching);
  $removeAll(newSubtractions, replacements);
  this$static.getObjectsCurrentState_1().touching.map_0.clear_1();
  $addAll(this$static.getObjectsCurrentState_1().touching, replacements);
  for (touchingObject$iterator0 = new AbstractList$IteratorImpl(newAdditions); touchingObject$iterator0.i < touchingObject$iterator0.this$01_0.size_1();) {
    touchingObject = (checkCriticalElement(touchingObject$iterator0.i < touchingObject$iterator0.this$01_0.size_1()) , dynamicCast(touchingObject$iterator0.this$01_0.get_0(touchingObject$iterator0.last = touchingObject$iterator0.i++), 24));
    $runOnTouchingChangeActions(this$static, touchingObject);
    $addTouchingProperty(touchingObject, this$static);
  }
  for (touchingObject$iterator = new AbstractList$IteratorImpl(newSubtractions); touchingObject$iterator.i < touchingObject$iterator.this$01_0.size_1();) {
    touchingObject = (checkCriticalElement(touchingObject$iterator.i < touchingObject$iterator.this$01_0.size_1()) , dynamicCast(touchingObject$iterator.this$01_0.get_0(touchingObject$iterator.last = touchingObject$iterator.i++), 24));
    $runOnTouchingChangeActions(this$static, touchingObject);
    $removeTouchingProperty(touchingObject, this$static);
  }
  this$static.ObjectsLog_1('-updating  touching list Changed', 1);
}

function $resetObject(this$static){
  var DefaultMovementPath;
  $info_1(SOLog, 'resetObject triggered');
  if (this$static.movementsLoaded) {
    DefaultMovementPath = dynamicCast($getStringValue(this$static.objectsMovements, 'default'), 91);
    this$static.ObjectsLog_1('got DefaultMovementPath', 1);
    if (DefaultMovementPath) {
      this$static.ObjectsLog_1('running objects movements again', 1);
      $info_1(SOLog, 'running default movements again');
      $playMovement(this$static, DefaultMovementPath, $intern_36, -1, false);
    }
  }
  this$static.updateDebugInfo();
}

function $runNamedActionSet(this$static, name_0){
  var actions;
  $info_1(SOLog, 'running action set named ' + name_0 + ' on ' + this$static.objectsCurrentState_2.ObjectsName);
  if (this$static.objectsActions) {
    actions = $getActionsForTrigger(this$static.objectsActions, ($clinit_ActionSet$TriggerType() , NamedActionSet), name_0);
    actions.array.length == 0 && this$static.ObjectsLog_2('Attempted To Run Action Set:' + name_0 + ' but no actions called that found on this object', 'red');
    $clinit_JAMcore();
    $clinit_InstructionProcessor();
    processInstructions(actions, 'nas_' + name_0, this$static);
  }
   else {
    this$static.ObjectsLog_2('Attempted To Run Action Set:' + name_0 + ' but this object has no actions!', 'red');
  }
}

function $runOnDirectionChangeActions(this$static){
  var actions;
  if (this$static.actionsToRunOnDirectionChange) {
    actions = this$static.actionsToRunOnDirectionChange.CommandsInSet;
    $info_1(SOLog, 'ondirectionchanged actions found: \n' + $toString_8(actions));
    processInstructions_1(actions, 'FROM_' + this$static.objectScene_0.SceneFileName + '_' + this$static.objectsCurrentState_2.ObjectsName, this$static);
  }
}

function $runOnTouchingChangeActions(this$static, sourceObject){
  wasLastObjectUpdated(this$static);
  $clinit_SceneObjectDatabase();
  lastSceneObjectUpdated = this$static;
  lastObjectThatTouchedAnother = sourceObject;
  $info_1(SOLog, 'testing for global touching actions');
  $clinit_JAMcore();
  testForGlobalActions(($clinit_ActionSet$TriggerType() , OnTouchingChange), null, this$static);
  if (this$static.actionsToRunForWhenATouchingObjectChanges) {
    lastSceneObjectUpdated = this$static;
    lastObjectThatTouchedAnother = sourceObject;
    $info_1(SOLog, 'last object clicked on set to:' + this$static.getObjectsCurrentState_1().ObjectsName);
    processInstructions_1(this$static.actionsToRunForWhenATouchingObjectChanges.CommandsInSet, 'nc_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static);
  }
}

function $setCurrentlyStoredInInventory(this$static, bool){
  this$static.ObjectsLog_1('Setting as stored in inventory:' + bool, 1);
  if (bool) {
    $info_1(SOLog, '--- Removing from scene (physical) ');
    $removeObject(this$static, false);
    $info_1(SOLog, '--- Removing From Scene (setting variable to null)');
    this$static.setObjectsSceneVariable(null);
  }
   else {
    $setObjectsScene(this$static, ($clinit_SceneObjectDatabase() , currentScene_0));
  }
}

function $setNextWayPointMovement(this$static){
  var StepX, StepY, StepZ, TotalLength, Xdistance, Xratio, Ydistance, Yratio, Zdistance, Zratio, cp, currenttype;
  cp = dynamicCast($get(this$static.currentPath, this$static.objectsCurrentState_2.moveState.movement_currentWaypoint), 23);
  currenttype = cp.type_0;
  if (this$static.skipFirstJump) {
    currenttype = ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo);
    this$static.skipFirstJump = false;
  }
  if (cp.pos.x_0 == this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0) {
    if (cp.pos.y_0 == this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0) {
      if (cp.pos.z_0 == this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0) {
        $info_1(SOLog, 'already at destination');
        currenttype = ($clinit_MovementWaypoint$MovementType() , AbsoluteMove);
      }
    }
  }
  if (currenttype == ($clinit_MovementWaypoint$MovementType() , AbsoluteLineTo) || currenttype == RelativeLineTo) {
    this$static.objectsCurrentState_2.moveState.movement_dest.x_0 = cp.pos.x_0;
    this$static.objectsCurrentState_2.moveState.movement_dest.y_0 = cp.pos.y_0;
    this$static.objectsCurrentState_2.moveState.movement_dest.z_0 = cp.pos.z_0;
    if (cp.type_0.relativeMode) {
      this$static.objectsCurrentState_2.moveState.movement_dest.x_0 = cp.pos.x_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0;
      this$static.objectsCurrentState_2.moveState.movement_dest.y_0 = cp.pos.y_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0;
      this$static.objectsCurrentState_2.moveState.movement_dest.z_0 = cp.pos.z_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0;
      $info_1(SOLog, this$static.objectsCurrentState_2.ObjectsName + ' taking relative movement line to:' + this$static.objectsCurrentState_2.moveState.movement_dest.x_0 + ',' + this$static.objectsCurrentState_2.moveState.movement_dest.y_0);
      this$static.ObjectsLog_2('next waypoint (' + this$static.objectsCurrentState_2.moveState.movement_currentWaypoint + ') sets a relative line :', 'grey');
      this$static.ObjectsLog_2(' ' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_current_pos) + '--(' + cp.pos.x_0 + ',' + cp.pos.y_0 + ',' + cp.pos.z_0 + ')-->' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_dest), 'green');
    }
     else {
      this$static.ObjectsLog_2('next waypoint (' + this$static.objectsCurrentState_2.moveState.movement_currentWaypoint + ') sets a absolute line :', 'grey');
      this$static.ObjectsLog_2(' ' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_current_pos) + '---->' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_dest), 'green');
    }
    $updateObjectsDirection(this$static, this$static.objectsCurrentState_2.moveState.movement_dest.x_0, this$static.objectsCurrentState_2.moveState.movement_dest.y_0);
    Xdistance = this$static.objectsCurrentState_2.moveState.movement_dest.x_0 - this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0;
    Ydistance = this$static.objectsCurrentState_2.moveState.movement_dest.y_0 - this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0;
    Zdistance = this$static.objectsCurrentState_2.moveState.movement_dest.z_0 - this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0;
    TotalLength = (Ydistance < 0?-Ydistance:Ydistance) + (Xdistance < 0?-Xdistance:Xdistance) + (Zdistance < 0?-Zdistance:Zdistance);
    Xratio = Xdistance / TotalLength;
    Yratio = Ydistance / TotalLength;
    Zratio = Zdistance / TotalLength;
    StepX = Xratio * this$static.objectsCurrentState_2.moveState.movement_speed;
    this$static.objectsCurrentState_2.moveState.movement_vel.x_0 = StepX;
    StepY = Yratio * this$static.objectsCurrentState_2.moveState.movement_speed;
    this$static.objectsCurrentState_2.moveState.movement_vel.y_0 = StepY;
    StepZ = Zratio * this$static.objectsCurrentState_2.moveState.movement_speed;
    this$static.objectsCurrentState_2.moveState.movement_vel.z_0 = StepZ;
    this$static.ObjectsLog_1(' Per-ms step XYZ=' + $toString_13(this$static.objectsCurrentState_2.moveState.movement_vel), 1);
    this$static.telePortFlag = false;
  }
   else if (currenttype == AbsoluteMove || currenttype == RelativeMove) {
    if (cp.type_0.relativeMode) {
      this$static.ObjectsLog_1('relative move', 1);
      this$static.objectsCurrentState_2.moveState.movement_dest.x_0 = cp.pos.x_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0;
      this$static.objectsCurrentState_2.moveState.movement_dest.y_0 = cp.pos.y_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0;
      this$static.objectsCurrentState_2.moveState.movement_dest.z_0 = cp.pos.z_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0;
    }
     else {
      this$static.objectsCurrentState_2.moveState.movement_dest.x_0 = cp.pos.x_0;
      this$static.objectsCurrentState_2.moveState.movement_dest.y_0 = cp.pos.y_0;
      this$static.objectsCurrentState_2.moveState.movement_dest.z_0 = cp.pos.z_0;
    }
    this$static.ObjectsLog_2('Next waypoint is to move to ' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_dest), 'green');
    this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 = this$static.objectsCurrentState_2.moveState.movement_dest.x_0;
    this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 = this$static.objectsCurrentState_2.moveState.movement_dest.y_0;
    this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 = this$static.objectsCurrentState_2.moveState.movement_dest.z_0;
    this$static.telePortFlag = true;
  }
   else if (currenttype == AbsoluteQCurveToo || currenttype == RelativeQCurveToo) {
    this$static.objectsCurrentState_2.moveState.movement_dest.x_0 = cp.pos.x_0;
    this$static.objectsCurrentState_2.moveState.movement_dest.y_0 = cp.pos.y_0;
    this$static.objectsCurrentState_2.moveState.movement_dest.z_0 = cp.pos.z_0;
    this$static.objectsCurrentState_2.moveState.movement_CC.x_0 = cp.midPoint1.x_0;
    this$static.objectsCurrentState_2.moveState.movement_CC.y_0 = cp.midPoint1.y_0;
    this$static.objectsCurrentState_2.moveState.movement_CC.z_0 = cp.midPoint1.z_0;
    this$static.objectsCurrentState_2.moveState.movement_SC.x_0 = this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0;
    this$static.objectsCurrentState_2.moveState.movement_SC.y_0 = this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0;
    this$static.objectsCurrentState_2.moveState.movement_SC.z_0 = this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0;
    if (cp.type_0.relativeMode) {
      this$static.objectsCurrentState_2.moveState.movement_dest.x_0 = cp.pos.x_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0;
      this$static.objectsCurrentState_2.moveState.movement_dest.y_0 = cp.pos.y_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0;
      this$static.objectsCurrentState_2.moveState.movement_dest.z_0 = cp.pos.z_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0;
      this$static.objectsCurrentState_2.moveState.movement_CC.x_0 = cp.midPoint1.x_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0;
      this$static.objectsCurrentState_2.moveState.movement_CC.y_0 = cp.midPoint1.y_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0;
      this$static.objectsCurrentState_2.moveState.movement_CC.z_0 = cp.midPoint1.z_0 + this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0;
      this$static.ObjectsLog_1('relative curve to ' + this$static.objectsCurrentState_2.moveState.movement_dest.x_0 + ',' + this$static.objectsCurrentState_2.moveState.movement_dest.y_0, 1);
      this$static.ObjectsLog_1('via ' + $toString_13(this$static.objectsCurrentState_2.moveState.movement_CC), 1);
    }
     else {
      this$static.ObjectsLog_2('next waypoint (' + this$static.objectsCurrentState_2.moveState.movement_currentWaypoint + ') sets a absolute curve :', 'grey');
      this$static.ObjectsLog_2(' ' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_current_pos) + '-->' + $toString_13(this$static.objectsCurrentState_2.moveState.movement_CC) + '-->' + $toString_12(this$static.objectsCurrentState_2.moveState.movement_dest), 'green');
    }
    this$static.objectsCurrentState_2.moveState.currentmovementtype = ($clinit_MovementState$MovementStateType() , OnCurvePath);
    this$static.objectsCurrentState_2.moveState.movement_curveTime = 0;
    this$static.objectsCurrentState_2.moveState.movement_curveTimeStep = 0.01 * this$static.objectsCurrentState_2.moveState.movement_speed;
    this$static.ObjectsLog_1(' time step=' + this$static.objectsCurrentState_2.moveState.movement_curveTimeStep + ' ', 1);
    if (this$static.objectsCurrentState_2.moveState.movement_curveTimeStep < 1.0E-4) {
      this$static.ObjectsLog_1(this$static.objectsCurrentState_2.moveState.movement_curveTimeStep + ' is under minimum curve speed setting it to:' + 1.0E-4, 1);
      this$static.objectsCurrentState_2.moveState.movement_curveTimeStep = 1.0E-4;
    }
    this$static.objectsCurrentState_2.moveState.movement_vel.y_0 = 10;
    this$static.objectsCurrentState_2.moveState.movement_vel.x_0 = 10;
    this$static.objectsCurrentState_2.moveState.movement_vel.z_0 = 10;
  }
   else if (currenttype == AbsoluteLoopToStart) {
    this$static.ObjectsLog_1('(looping to start)', 1);
    this$static.objectsCurrentState_2.moveState.movement_currentWaypoint = -1;
    this$static.telePortFlag = true;
  }
   else if (currenttype == Command_0) {
    this$static.ObjectsLog_1('(running mid movement command)', 1);
    $triggerMidMovementCommand(this$static, cp.Command);
  }
   else if (currenttype == InternalRunnable) {
    this$static.ObjectsLog_1('(running mid movement runnable)', 1);
    $run_15(cp.InternalRunnable);
  }
   else {
    this$static.telePortFlag = false;
  }
  return cp;
}

function $setObjectsScene(this$static, newScene){
  var objectsInitialSceneName, relObject, relObject$iterator, relObject$iterator0;
  objectsInitialSceneName = this$static.getInitialState_2().ObjectsSceneName;
  if (!newScene) {
    $info_1(SOLog, 'requested to put object on null scene, so instead we just remove it from anywhere it is and update the variable');
    $removeObject(this$static, true);
    this$static.setObjectsSceneVariable(null);
    for (relObject$iterator0 = $iterator_4(new AbstractMap$1(this$static.relativeObjects.map_0)); relObject$iterator0.val$outerIter2.hasNext();) {
      relObject = dynamicCast($next_7(relObject$iterator0), 24);
      relObject.ObjectsLog_1('parent is being removed from all scenes, so we do too!', 1);
      $setObjectsScene(relObject, null);
      if (!$equalsIgnoreCase(this$static.objectsCurrentState_2.ObjectsSceneName, '[no scene]')) {
        this$static.ObjectsLog_1('object was non-native so testing previous scene if old scenes dependancy can be removed..', 1);
        $removeSceneDependancyIfSafe(this$static.objectScene_0, null);
      }
    }
    $info_1(SOLog, '(object now on null scene)');
    return;
  }
  if (this$static.objectScene_0 == newScene && ($isObjectOnPanel(newScene, dynamicCast(this$static, 137)) || this$static.objectsCurrentState_2.attachToHTMLDiv != '')) {
    this$static.ObjectsLog_2('object already on correct scene', 'yellow');
    return;
  }
  !!this$static.objectScene_0 && this$static.ObjectsLog_1('removing from current scene (' + this$static.objectScene_0.SceneFileName + ')', 1);
  $removeObject(this$static, true);
  this$static.ObjectsLog_2('adding to scene' + newScene.SceneFileName, 'RED');
  $addObjectToScene(newScene, this$static);
  $addSceneDependancy_0(newScene, objectsInitialSceneName);
  if (!$equalsIgnoreCase(this$static.objectsCurrentState_2.ObjectsSceneName, '[no scene]')) {
    if (!$equalsIgnoreCase(this$static.objectsCurrentState_2.ObjectsSceneName, objectsInitialSceneName)) {
      this$static.ObjectsLog_1('object was non-native so testing previous scene if old scenes dependancy can be removed..', 1);
      $removeSceneDependancyIfSafe(this$static.objectScene_0, newScene);
    }
  }
  this$static.ObjectsLog_1('removing from old lists and adding to new lists', 1);
  $info_1(SOLog, 'removing from old and adding to new lists...');
  !!this$static.objectScene_0 && $removeFromScenesObjects(this$static.objectScene_0.scenesData, this$static);
  $addToScenesObjects(newScene.scenesData, this$static);
  addObjectToDatabase(this$static);
  $info_1(SOLog, 'setting object to new scene');
  this$static.setObjectsSceneVariable(newScene);
  this$static.objectsCurrentState_2.ObjectsSceneName = newScene.SceneFileName;
  $info_1(SOLog, 'positioning relative stuff to this, if any');
  for (relObject$iterator = $iterator_4(new AbstractMap$1(this$static.relativeObjects.map_0)); relObject$iterator.val$outerIter2.hasNext();) {
    relObject = dynamicCast($next_7(relObject$iterator), 24);
    relObject.ObjectsLog_1('parent is changing scene, so we do too!', 1);
    $setObjectsScene(relObject, newScene);
  }
  this$static.ObjectsLog_2('setUpVariableZindex', 'green');
  $info_1(SOLog, 'setUpVariableZindex');
  $setUpVariableZindex(this$static);
  this$static.updateDebugInfo();
}

function $setObjectsSceneVariable(this$static, scene){
  this$static.objectScene_0 = scene;
  !scene && $info_1(SOLog, 'scene Has Been Set To Null');
  !this$static.objectScene_0?$info_1(SOLog, 'Objects Scene Has Been Set To Null'):$info_1(SOLog, 'Objects Scene Has Been Set To ' + scene.SceneFileName);
  if (this$static.getObjectsCurrentState_1()) {
    $info_1(SOLog, 'setting filename');
    if (this$static.objectScene_0) {
      $info_1(SOLog, 'setting object to new scene:' + scene.SceneFileName);
      this$static.getObjectsCurrentState_1().ObjectsSceneName = this$static.objectScene_0.SceneFileName;
    }
     else {
      $info_1(SOLog, 'setting object to [no scene]');
      this$static.getObjectsCurrentState_1().ObjectsSceneName = '[no scene]';
    }
  }
}

function $setPosition_1(this$static, x_0, y_0, z_0, updateTouching){
  if (!this$static.objectsCurrentState_2.positionedRelativeToo) {
    $setPosition_2(this$static, x_0, y_0, z_0, true, true, updateTouching);
  }
   else {
    this$static.objectsCurrentState_2.relX = x_0;
    this$static.objectsCurrentState_2.relY = y_0;
    this$static.objectsCurrentState_2.relZ = z_0;
    $updateRelativePosition(this$static, updateTouching);
  }
}

function $setPosition_2(this$static, x_0, y_0, z_0, byPin, ifOverLappingBringToFront, updateTouching){
  var RX, RY, RZ, glueToo, posTo;
  this$static.ObjectsLog_1('Positioning:' + x_0 + ',' + y_0 + ',' + z_0 + '  bypin=' + byPin + ' pin is:' + this$static.objectsCurrentState_2.PinPointX + ',' + this$static.objectsCurrentState_2.PinPointY + ',' + this$static.objectsCurrentState_2.PinPointZ + ' UpdateTouching=' + updateTouching, 1);
  if (this$static.objectsCurrentState_2.attachToHTMLDiv.length > 1) {
    this$static.ObjectsLog_1('cant position by location, as its set to a DIV', 4);
    return;
  }
  if (byPin) {
    this$static.objectsCurrentState_2.X = x_0 - this$static.objectsCurrentState_2.PinPointX;
    this$static.objectsCurrentState_2.Y = y_0 - this$static.objectsCurrentState_2.PinPointY;
    this$static.objectsCurrentState_2.Z = z_0 - this$static.objectsCurrentState_2.PinPointZ;
  }
   else {
    this$static.objectsCurrentState_2.X = x_0;
    this$static.objectsCurrentState_2.Y = y_0;
    this$static.objectsCurrentState_2.Z = z_0;
  }
  if (this$static.objectsCurrentState_2.positionedRelativeToo) {
    this$static.ObjectsLog_1('positioning relatively to:' + this$static.objectsCurrentState_2.positionedRelativeToo.folderName, 1);
    posTo = this$static.objectsCurrentState_2.positionedRelativeToPoint;
    if (posTo.length == 0) {
      RX = $getX_1(this$static.objectsCurrentState_2.positionedRelativeToo);
      RY = $getY_1(this$static.objectsCurrentState_2.positionedRelativeToo);
      RZ = $getZ_0(this$static.objectsCurrentState_2.positionedRelativeToo);
    }
     else {
      $info_1(SOLog, 'positioning to:' + posTo);
      glueToo = this$static.objectsCurrentState_2.positionedRelativeToo.getAttachmentPointsFor(posTo);
      if (glueToo) {
        RX = $getTopLeftBaseX(this$static.objectsCurrentState_2.positionedRelativeToo) + glueToo.pos.x_0;
        RY = $getTopLeftBaseY(this$static.objectsCurrentState_2.positionedRelativeToo) + glueToo.pos.y_0;
        RZ = $getTopLeftBaseZ(this$static.objectsCurrentState_2.positionedRelativeToo) + glueToo.pos.z_0;
      }
       else {
        RX = $getX_1(this$static.objectsCurrentState_2.positionedRelativeToo);
        RY = $getY_1(this$static.objectsCurrentState_2.positionedRelativeToo);
        RZ = $getZ_0(this$static.objectsCurrentState_2.positionedRelativeToo);
      }
    }
    this$static.ObjectsLog_1('positioning relatively :' + this$static.objectsCurrentState_2.X + ',' + this$static.objectsCurrentState_2.Y + ',' + this$static.objectsCurrentState_2.Z + ' + ' + RX + ',' + RY + ',' + RZ, 1);
    this$static.objectsCurrentState_2.X = this$static.objectsCurrentState_2.X + RX;
    this$static.objectsCurrentState_2.Y = this$static.objectsCurrentState_2.Y + RY;
    this$static.objectsCurrentState_2.Z = this$static.objectsCurrentState_2.Z + RZ;
  }
  ifOverLappingBringToFront && $setZIndexByPosition(this$static, this$static.objectsCurrentState_2.Y);
  this$static.setPositionOnItsScene(this$static.objectsCurrentState_2.X, this$static.objectsCurrentState_2.Y, this$static.objectsCurrentState_2.Z, this$static.objectsCurrentState_2.restrictPositionToScreen);
  $updateThingsPositionedRelativeToThis(this$static, updateTouching);
  updateTouching && $wasJustMoved(this$static, false);
}

function $setSound(this$static, soundFileName){
  this$static.ObjectsSound = new GwtSoundObject(soundFileName);
}

function $setSpritesURL(this$static, URL_0, Frames){
  var atachmentPointUrl, ourStateAsSprite, ourselvesAsSprite;
  if (!$isCompatibleWith(this$static.objectsCurrentState_2, ($clinit_SceneObjectType() , Sprite))) {
    return;
  }
  ourselvesAsSprite = dynamicCast(this$static, 166);
  ourStateAsSprite = dynamicCast(this$static.objectsCurrentState_2, 106);
  if (URL_0.indexOf('\\') != -1 || URL_0.indexOf('/') != -1) {
    this$static.ObjectsLog_1('setting up location for sprite with full path ' + URL_0, 1);
    ourStateAsSprite.ObjectsURL = URL_0;
  }
   else {
    this$static.ObjectsLog_1('setting up defaultlocation from url: ' + URL_0, 1);
    ourStateAsSprite.ObjectsURL = 'Game Scenes/' + this$static.initialObjectState.ObjectsSceneName + '/Objects/' + this$static.folderName + '/' + URL_0;
  }
  this$static.ObjectsLog_1('Objects default scene is:' + this$static.initialObjectState.ObjectsSceneName, 1);
  ourStateAsSprite.currentNumberOfFrames = Frames;
  ourStateAsSprite.ObjectsFileName = URL_0;
  ourStateAsSprite.currentFrame = 0;
  this$static.ObjectsLog_1('Objects url set to:' + ourStateAsSprite.ObjectsURL + ' with ' + ourStateAsSprite.currentNumberOfFrames, 1);
  if (ourStateAsSprite.hasAttachmentPointFile) {
    atachmentPointUrl = $subSequence(ourStateAsSprite.ObjectsURL, 0, ourStateAsSprite.ObjectsURL.lastIndexOf('.') - 1) + '.glu';
    $getAttachmentPointMovements(this$static, atachmentPointUrl);
  }
  ourselvesAsSprite.setURLPhysically();
}

function $setUpVariableZindex(this$static){
  this$static.numberOfDivisions = round_0(~~((this$static.objectsCurrentState_2.upperZindex - this$static.objectsCurrentState_2.lowerZindex) / this$static.objectsCurrentState_2.stepZindex));
  this$static.ObjectsLog_1('numberOfDivisions' + this$static.numberOfDivisions, 1);
  this$static.ObjectsLog_1('scenes Y size = ' + this$static.objectScene_0.scenesData.InternalSizeY, 1);
  this$static.pixelstep = round_0(~~(this$static.objectScene_0.scenesData.InternalSizeY / this$static.numberOfDivisions));
  this$static.ObjectsLog_1('pixel step=' + this$static.pixelstep, 1);
}

function $setVisible_0(this$static, status_0){
  var so, so$iterator;
  this$static.ObjectsLog_1('(sov) setting ' + this$static.objectsCurrentState_2.ObjectsName + ' visiblity to:' + status_0, 1);
  $info_1(SOLog, 'setting ' + this$static.objectsCurrentState_2.ObjectsName + ' visiblity to:' + status_0);
  if (this$static.objectsCurrentState_2.PropagateVisibility) {
    $info_1(SOLog, 'propergating visibility to relatively positioned objects');
    for (so$iterator = $iterator_4(new AbstractMap$1(this$static.relativeObjects.map_0)); so$iterator.val$outerIter2.hasNext();) {
      so = dynamicCast($next_7(so$iterator), 24);
      so.setVisible(status_0);
    }
  }
  $setVisibleSecretly(this$static, status_0);
}

function $setVisibleSecretly(this$static, status_0){
  this$static.ObjectsLog_1('(so) setting ' + this$static.objectsCurrentState_2.ObjectsName + ' visible secretly:' + status_0, 1);
  if (status_0) {
    this$static.objectsCurrentState_2.currentlyVisible = true;
    this$static.Opacity = 100;
    this$static.setOpacityImplementation(1);
  }
   else {
    this$static.objectsCurrentState_2.currentlyVisible = false;
    this$static.Opacity = 0;
    this$static.setOpacityImplementation(0);
  }
  this$static.updateDebugInfo();
  this$static.setVisibleImplementation(status_0);
}

function $setZIndex(this$static, newzindex){
  if (this$static.objectsCurrentState_2.variableZindex) {
    this$static.ObjectsLog_1('____setting ZIndex by Y position', 1);
    $setZIndexByPosition(this$static, $getY_1(this$static));
  }
   else {
    this$static.ObjectsLog_1('____setting ZIndex to:' + newzindex, 1);
    this$static.setZIndexImplementation(newzindex);
    this$static.ObjectsLog_1('____updating relatively zindex linked objects:', 1);
    $updateRelativelyZIndexedObjects(this$static, newzindex);
  }
}

function $setZIndexByPosition(this$static, Y){
  var TimeTakenEnd, TimeTakenStart, box, currentfloor, newzindex, polygon;
  if (this$static.objectsCurrentState_2.variableZindex) {
    this$static.numberOfDivisions == -1 && $setUpVariableZindex(this$static);
    this$static.ObjectsLog_1('testing Y, its currently...' + Y, 1);
    if (Y > this$static.nextThreshold || Y < this$static.prevThreshhold) {
      currentfloor = floor_0(~~(Y / this$static.pixelstep));
      this$static.prevThreshhold = round_int(currentfloor) * this$static.pixelstep;
      this$static.nextThreshold = round_int(currentfloor + 1) * this$static.pixelstep;
      this$static.ObjectsLog_1('currentfloor===' + currentfloor, 1);
      this$static.ObjectsLog_1('nextThreshold===' + this$static.nextThreshold, 1);
      this$static.objectsCurrentState_2.zindex = round_int(currentfloor * this$static.objectsCurrentState_2.stepZindex + this$static.objectsCurrentState_2.lowerZindex);
      this$static.ObjectsLog_1('zindex set too...' + this$static.objectsCurrentState_2.zindex, 1);
      this$static.setZIndexImplementation(this$static.objectsCurrentState_2.zindex);
    }
  }
  if (!this$static.objectScene_0) {
    return;
  }
  if (this$static.objectScene_0.scenesCmap.isPresent()) {
    TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
    if (!this$static.collisionCheckPool) {
      this$static.collisionCheckPool = new ArrayList_1($allScenesCurrentObjects(this$static.objectScene_0.scenesData));
      $removeAll(this$static.collisionCheckPool, this$static.relativeObjects);
      $remove_0(this$static.collisionCheckPool, this$static);
    }
    polygon = $isBoxColliding_0(dynamicCast(this$static.objectScene_0.scenesCmap.get_1(), 73), this$static.objectsCurrentState_2.X + 10, this$static.objectsCurrentState_2.Y, this$static.objectsCurrentState_2.X + this$static.getObjectWidth() - 10, this$static.objectsCurrentState_2.Y + this$static.getObjectHeight() - 30, true, this$static.collisionCheckPool);
    TimeTakenEnd = fromDouble(now_1());
    $clinit_GameStatistics();
    TotalCollisionCheckTime = add_17(TotalCollisionCheckTime, sub_0(TimeTakenEnd, TimeTakenStart));
    if (polygon) {
      box = polygon.sourceMap;
      if (box.associatedObject) {
        if (this$static.getZindex() < $getZindex(box.associatedObject)) {
          newzindex = $getZindex(box.associatedObject) + 10;
          this$static.ObjectsLog_1('Box is over ' + box.associatedObject.objectsCurrentState_2.ObjectsName + ' setting zindex to:' + newzindex, 1);
          this$static.setZIndexImplementation(newzindex);
          $updateRelativelyZIndexedObjects(this$static, newzindex);
        }
      }
    }
  }
}

function $startLoadingCmap(this$static, stateObject){
  var onError, onResponse, url_0;
  url_0 = this$static.objectScene_0.SceneFolderLocation + '/Objects/' + this$static.folderName + '/' + this$static.folderName + '_vmap.ini';
  $info_1(SOLog, 'getting cmap file...' + url_0);
  this$static.cmapStillLoading = true;
  onResponse = new SceneObject$3(this$static, stateObject, this$static);
  onError = new SceneObject$4;
  $clinit_RequiredImplementations();
  GetTextFile(url_0, onResponse, onError, false, true);
}

function $startLoadingMovementAnimations(this$static){
  var url_0, onResponse, onError;
  if (this$static.objectsCurrentState_2.hasMovementFile) {
    $info_1(SOLog, 'getting ' + this$static.getObjectsCurrentState().ObjectsName + ' movement file...');
    url_0 = this$static.objectScene_0.SceneFolderLocation + '/Objects/' + this$static.getObjectsCurrentState().ObjectsName + '/movements.ini';
    onResponse = new SceneObject$6(this$static);
    onError = new SceneObject$7(this$static);
    $clinit_RequiredImplementations();
    GetTextFile(url_0, onResponse, onError, false, true);
  }
   else {
    this$static.movementsLoaded = false;
  }
}

function $subtractkFromVariable(this$static, name_0, value_0){
  var val;
  $info_1(SOLog, 'subtracting = ' + value_0);
  val = round_int(__parseAndValidateDouble(value_0));
  $addToVariable_0(this$static.objectsCurrentState_2.ObjectRuntimeVariables, name_0, -val);
}

function $testAndRunSceneAndGlobalActions(this$static, trigger, param){
  $clinit_JAMcore();
  testForGlobalActions(trigger, param, this$static);
  !!this$static.objectScene_0 && runForSceneActions(this$static.objectScene_0, trigger, param, this$static);
  return;
}

function $testIfWeAreWithinThresholdOfWaypoint(this$static, DELTA_TIME){
  var withinX, withinY, withinZ;
  if (this$static.objectsCurrentState_2.moveState.currentmovementtype == ($clinit_MovementState$MovementStateType() , OnCurvePath)) {
    withinX = false;
    withinY = false;
    withinZ = false;
    if (this$static.objectsCurrentState_2.moveState.movement_curveTime + this$static.objectsCurrentState_2.moveState.movement_curveTimeStep * DELTA_TIME > 1) {
      this$static.ObjectsLog_1(' movement on curve within tolerance of destiniation. Tolerance was: ' + this$static.objectsCurrentState_2.moveState.movement_curveTimeStep * DELTA_TIME, 1);
      withinX = true;
      withinY = true;
      withinZ = true;
    }
  }
   else {
    if (abs_1(this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 - this$static.objectsCurrentState_2.moveState.movement_dest.x_0) < abs_0(this$static.objectsCurrentState_2.moveState.movement_vel.x_0 * DELTA_TIME) + 1) {
      withinX = true;
      this$static.objectsCurrentState_2.moveState.movement_current_pos.x_0 = this$static.objectsCurrentState_2.moveState.movement_dest.x_0;
      this$static.objectsCurrentState_2.moveState.movement_vel.x_0 = 0;
    }
     else {
      withinX = false;
    }
    if (abs_1(this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 - this$static.objectsCurrentState_2.moveState.movement_dest.y_0) < abs_0(this$static.objectsCurrentState_2.moveState.movement_vel.y_0 * DELTA_TIME) + 1) {
      withinY = true;
      this$static.objectsCurrentState_2.moveState.movement_current_pos.y_0 = this$static.objectsCurrentState_2.moveState.movement_dest.y_0;
      this$static.objectsCurrentState_2.moveState.movement_vel.y_0 = 0;
    }
     else {
      withinY = false;
    }
    if (abs_1(this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 - this$static.objectsCurrentState_2.moveState.movement_dest.z_0) < abs_0(this$static.objectsCurrentState_2.moveState.movement_vel.z_0 * DELTA_TIME) + 1) {
      withinZ = true;
      this$static.objectsCurrentState_2.moveState.movement_current_pos.z_0 = this$static.objectsCurrentState_2.moveState.movement_dest.z_0;
      this$static.objectsCurrentState_2.moveState.movement_vel.z_0 = 0;
    }
     else {
      withinZ = false;
    }
  }
  return withinY && withinX && withinZ;
}

function $testIfWithinObject(this$static, lastclicked_x, lastclicked_y){
  var bottomrightX, bottomrightY, topleftX, topleftY;
  $info_1(SOLog, 'testing if:' + lastclicked_x + ',' + lastclicked_y + ' is overlapping with object');
  topleftX = $getTopLeftBaseX(this$static);
  topleftY = $getTopLeftBaseY(this$static);
  bottomrightX = topleftX + this$static.getObjectWidth();
  bottomrightY = topleftY + this$static.getObjectHeight();
  if (lastclicked_x > topleftX && lastclicked_x < bottomrightX) {
    if (lastclicked_y > topleftY && lastclicked_y < bottomrightY) {
      $info_1(SOLog, 'its overlaping!');
      return true;
    }
  }
  $info_1(SOLog, 'its not overlaping!');
  return false;
}

function $triggerActionsToRunWhenCloned(this$static){
  if (this$static.actionsToRunWhenCloned) {
    wasLastObjectUpdated(this$static);
    processInstructions_1(this$static.actionsToRunWhenCloned.CommandsInSet, 'fl_' + this$static.objectsCurrentState_0.ObjectsName, this$static);
    $info_1(SOLog, '__________onClone actions ran');
  }
}

function $triggerClickOnObject(this$static){
  var actions;
  $info_1(SOLog, 'TriggerClickOnObject is triggered. Item is currently held yes/no:' + ($clinit_InventoryPanelCore() , isItemCurrentlyBeingHeld));
  $clinit_SceneObjectDatabase();
  lastSceneObjectClicked = this$static;
  if (isItemCurrentlyBeingHeld) {
    $info_1(SOLog, '_________actionsToRunForMouseClick while object held ');
    wasLastObjectUpdated(this$static);
    this$static.updateLastClickedLocation();
    if (currentlyHeldItem.objectsActions) {
      actions = $getActionsForTrigger(currentlyHeldItem.objectsActions, ($clinit_ActionSet$TriggerType() , UsedOnObject), null);
      processInstructions_1(actions, 'useditem_' + this$static.getObjectsCurrentState_1().ObjectsName + currentlyHeldItem.objectsCurrentState_2.ObjectsName, this$static);
      if (currentlyHeldItem) {
        if (!($clinit_SceneMenuWithPopUp() , menuShowing).value_0 && currentlyHeldItem.keepheld != ($clinit_IsInventoryIcon$KeepHeldMode() , onuse)) {
          $info_1(SOLog, '_________unholdItem after processInstructions ');
          unholdItem();
        }
         else {
          $info_1(SOLog, '_________menu showing or set to hold on use and uses were found, so we keep holding');
        }
      }
    }
  }
   else {
    wasLastObjectUpdated(this$static);
    this$static.updateLastClickedLocation();
    $clinit_JAMcore();
    testForGlobalActions(($clinit_ActionSet$TriggerType() , MouseClickAction), null, this$static);
    !this$static.objectScene_0 && $info_1(SOLog, 'scene object is null! Thats really mega wrong :(');
    this$static.getObjectsCurrentState_1().ignoreSceneActions?this$static.ObjectsLog_1('scene actions ignored (set ignoreSceneActions to false to make this work)', 1):runForSceneActions(this$static.objectScene_0, MouseClickAction, null, this$static);
    if (this$static.actionsToRunForMouseClick) {
      $info_1(SOLog, '_________actionsToRunForMouseClick ');
      processInstructions_1(this$static.actionsToRunForMouseClick.CommandsInSet, 'c_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static);
    }
  }
}

function $triggerContextClickOnObject(this$static){
  $info_1(SOLog, '_________________Event.ONCONTEXTMENU');
  $clinit_SceneObjectDatabase();
  lastSceneObjectClicked = this$static;
  $clinit_JAMcore();
  testForGlobalActions(($clinit_ActionSet$TriggerType() , MouseRightClickAction), null, this$static);
  this$static.getObjectsCurrentState_1().ignoreSceneActions || runForSceneActions(this$static.objectScene_0, MouseRightClickAction, null, this$static);
  if (this$static.actionsToRunForMouseRightClick) {
    wasLastObjectUpdated(this$static);
    this$static.updateLastClickedLocation();
    processInstructions_1(this$static.actionsToRunForMouseRightClick.CommandsInSet, 'rc_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static);
  }
}

function $triggerMidMovementCommand(this$static, Command){
  $info_1(SOLog, 'running command :' + $getCode_1(Command));
  processInstructions(Command, 'movec_' + this$static.objectsCurrentState_2.ObjectsName, this$static);
}

function $triggerMovementEndCommands(this$static){
  var CurrentObjectName, actions;
  if (this$static.objectsActions) {
    actions = $getActionsForTrigger(this$static.objectsActions, ($clinit_ActionSet$TriggerType() , OnMovementEnd), null);
    if (actions.array.length != 0) {
      CurrentObjectName = this$static.objectsCurrentState_2.ObjectsName;
      $info_1(SOLog, '____________________' + CurrentObjectName + ' __movement end actions found: \n' + $toString_8(actions));
      processInstructions_1(actions, 'FROMMoveEnd_' + this$static.objectScene_0.SceneFileName + '_' + CurrentObjectName, this$static);
    }
  }
}

function $triggerPocketObject(this$static, inventory, unlinkFromParent){
  var attachedObject, attachedObject$iterator, objectNamepo;
  $info_1(SOLog, 'Trigger Pocket Object');
  removeObjectToUpdateOnFrame(this$static);
  this$static.objectsCurrentState_2.moveState.currentmovementtype = ($clinit_MovementState$MovementStateType() , None_0);
  unlinkFromParent && $detach(this$static);
  objectNamepo = this$static.objectsCurrentState_2.ObjectsName;
  $setCurrentlyStoredInInventory(this$static, true);
  addItemToInventory('INV_' + objectNamepo, inventory, objectNamepo);
  if (this$static.relativeObjects.map_0.size_1() > 0) {
    $info_1(SOLog, 'pocketing attached objects');
    for (attachedObject$iterator = $iterator_4(new AbstractMap$1(this$static.relativeObjects.map_0)); attachedObject$iterator.val$outerIter2.hasNext();) {
      attachedObject = dynamicCast($next_7(attachedObject$iterator), 24);
      $info_1(($clinit_InstructionProcessor() , Log_43), 'pocketing attached object:' + attachedObject.getObjectsCurrentState_1().ObjectsName);
      $triggerPocketObject(attachedObject, inventory, false);
    }
  }
   else {
    $info_1(SOLog, 'No attached Objects');
  }
}

function $updateFade(this$static, currentDelta){
  var fadeChangeAmount;
  fadeChangeAmount = this$static.stepPerMS * currentDelta;
  switch (this$static.currentFade) {
    case 0:
      return;
    case 1:
      this$static.Opacity = this$static.Opacity + fadeChangeAmount;
      {
        if (this$static.Opacity >= 100) {
          this$static.setVisible(true);
          this$static.currentFade = 0;
        }
      }

      break;
    case 2:
      this$static.Opacity = this$static.Opacity - fadeChangeAmount;
      {
        if (this$static.Opacity <= 0) {
          this$static.setVisible(false);
          this$static.currentFade = 0;
        }
      }

  }
  this$static.setOpacityImplementation(this$static.Opacity / 100);
}

function $updateHandlersToMatchActions(this$static){
  var actionSet, actionsIt, trigger, triggerIT, triggers;
  actionsIt = new AbstractList$IteratorImpl(this$static.objectsActions);
  $info_1(SOLog, 'updateHandlersToMatchActions on text box');
  while (actionsIt.i < actionsIt.this$01_0.size_1()) {
    actionSet = (checkCriticalElement(actionsIt.i < actionsIt.this$01_0.size_1()) , dynamicCast(actionsIt.this$01_0.get_0(actionsIt.last = actionsIt.i++), 234));
    triggers = actionSet.Triggers;
    triggerIT = new AbstractList$IteratorImpl(triggers);
    while (triggerIT.i < triggerIT.this$01_0.size_1()) {
      trigger = (checkCriticalElement(triggerIT.i < triggerIT.this$01_0.size_1()) , dynamicCast(triggerIT.this$01_0.get_0(triggerIT.last = triggerIT.i++), 57));
      if (trigger.triggertype == ($clinit_ActionSet$TriggerType() , MouseOverAction)) {
        this$static.actionsToRunForMouseOver = actionSet;
        $info_1(SOLog, 'mouse over set1' + $toString_8(actionSet.CommandsInSet));
      }
      trigger.triggertype == MouseOutAction && (this$static.actionsToRunForMouseOut = actionSet);
      if (trigger.triggertype == MouseClickAction) {
        this$static.actionsToRunForMouseClick = actionSet;
        $info_1(SOLog, 'action set added with contents ' + $toString_8(actionSet.CommandsInSet));
      }
      trigger.triggertype == MouseRightClickAction && (this$static.actionsToRunForMouseRightClick = actionSet);
      trigger.triggertype == OnTouchingChange && (this$static.actionsToRunForWhenATouchingObjectChanges = actionSet);
      trigger.triggertype == OnDirectionChanged && (this$static.actionsToRunOnDirectionChange = actionSet);
      if (trigger.triggertype == OnStep) {
        this$static.actionsToRunOnStep = actionSet;
        $info_1(SOLog, 'step action interval set too' + trigger.parameter);
        this$static.stepActionIterval = __parseAndValidateInt(trigger.parameter, 10);
      }
      if (trigger.triggertype == OnFirstLoad) {
        $info_1(SOLog, '__________actionsToRunOnFirstLoad');
        $info_1(SOLog, '__________actionsToRunOnFirstLoad = :' + $toString_8(actionSet.CommandsInSet));
        this$static.actionsToRunOnFirstLoad = actionSet;
      }
      if (trigger.triggertype == OnCloned) {
        $info_1(SOLog, '__________actionsToRunWhenCloned');
        $info_1(SOLog, '__________actionsToRunWhenCloned = :' + $toString_8(actionSet.CommandsInSet));
        this$static.actionsToRunWhenCloned = actionSet;
      }
      if (trigger.triggertype == OnReload) {
        $info_1(SOLog, '__________actionsToRunOnReload');
        $info_1(SOLog, '__________actionsToRunOnReload = :' + $toString_8(actionSet.CommandsInSet));
      }
    }
  }
}

function $updateObjectsDirection(this$static, DX, DY){
  var ang, differenceX, differenceY, sx, sy;
  sx = $getTopLeftBaseX(this$static) + this$static.objectsCurrentState_2.PinPointX;
  sy = $getY_1(this$static);
  differenceX = sx - DX;
  differenceY = sy - DY;
  ang = atan2_0(differenceY, differenceX);
  ang = ang * 57.29577951308232;
  this$static.FacingDirection = ang - 90;
  this$static.FacingDirection < 0 && (this$static.FacingDirection = 360 + this$static.FacingDirection);
  this$static.FacingDirection > 360 && (this$static.FacingDirection = this$static.FacingDirection - 360);
  this$static.ObjectsLog_1('angle =' + this$static.FacingDirection, 1);
  $runOnDirectionChangeActions(this$static);
}

function $updatePositionData(this$static, x_0, y_0, z_0){
  $info_1(SOLog, 'updatePositionData');
  this$static.objectsCurrentState_2.X = x_0;
  this$static.objectsCurrentState_2.Y = y_0;
  this$static.objectsCurrentState_2.Z = z_0;
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $updateRealtivePositionData(this$static, x_0, y_0, z_0){
  $info_1(SOLog, 'updateRealtivePositionData');
  this$static.objectsCurrentState_2.relX = x_0;
  this$static.objectsCurrentState_2.relY = y_0;
  this$static.objectsCurrentState_2.relZ = z_0;
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $updateRelativePosition(this$static, updateTouching){
  var ox, oy, oz;
  ox = this$static.objectsCurrentState_2.relX;
  oy = this$static.objectsCurrentState_2.relY;
  oz = this$static.objectsCurrentState_2.relZ;
  $setPosition_2(this$static, ox, oy, oz, true, false, updateTouching);
}

function $updateRelativelyZIndexedObjects(this$static, newzindex){
  var so, so$iterator;
  $info_1(SOLog, '~~~~~setting relative zindexs to:' + this$static.objectsCurrentState_2.ObjectsName);
  for (so$iterator = $iterator_4(new AbstractMap$1(this$static.relativeObjects.map_0)); so$iterator.val$outerIter2.hasNext();) {
    so = dynamicCast($next_7(so$iterator), 24);
    so.objectsCurrentState_2.linkedZindex && $setZIndex(so, newzindex + so.objectsCurrentState_2.linkedZindexDifference);
  }
}

function $updateState_0(this$static, newState){
  var sw;
  removeObjectToUpdateOnFrame(this$static);
  this$static.objectsCurrentState_2.moveState.currentmovementtype = ($clinit_MovementState$MovementStateType() , None_0);
  $clearMovements(this$static.objectsCurrentState_2.moveState);
  $ObjectsLog_0(this$static, 'Updating SceneObjectVisual state to-' + $serialiseToString(newState), 'blue');
  sw = getSceneByName(newState.ObjectsSceneName);
  !sw && $ObjectsLog(this$static, 'scene name not recognised:' + newState.ObjectsSceneName, 1);
  $setObjectsScene(this$static, sw);
  newState.ObjectsName != null && (this$static.getObjectsCurrentState().ObjectsName = newState.ObjectsName);
  if (newState.X != -1) {
    this$static.getObjectsCurrentState().X = newState.X;
    this$static.getObjectsCurrentState().moveState.movement_current_pos.x_0 = this$static.getObjectsCurrentState().X;
  }
  if (newState.Y != -1) {
    this$static.getObjectsCurrentState().Y = newState.Y;
    this$static.getObjectsCurrentState().moveState.movement_current_pos.y_0 = this$static.getObjectsCurrentState().Y;
  }
  if (newState.Z != -1) {
    this$static.getObjectsCurrentState().Z = newState.Z;
    this$static.getObjectsCurrentState().moveState.movement_current_pos.z_0 = this$static.getObjectsCurrentState().Z;
  }
  if (newState.positionedRelativeToo) {
    this$static.getObjectsCurrentState().positionedRelativeToo = newState.positionedRelativeToo;
  }
   else if (newState.positionRelativeToOnceLoaded.length > 2) {
    this$static.getObjectsCurrentState().positionRelativeToOnceLoaded = newState.positionRelativeToOnceLoaded;
  }
   else {
    !!this$static.getObjectsCurrentState().positionedRelativeToo && $remove_21(this$static.getObjectsCurrentState().positionedRelativeToo.relativeObjects, this$static);
    this$static.getObjectsCurrentState().positionedRelativeToo = null;
    this$static.getObjectsCurrentState().positionRelativeToOnceLoaded = '';
  }
  if (!!newState.positionedRelativeToo || newState.positionRelativeToOnceLoaded.length > 2) {
    this$static.getObjectsCurrentState().relX = newState.relX;
    this$static.getObjectsCurrentState().relY = newState.relY;
    this$static.getObjectsCurrentState().relZ = newState.relZ;
  }
  if (newState.zindex != -1) {
    this$static.getObjectsCurrentState().zindex = newState.zindex;
    $ObjectsLog(this$static, 'objectsData.zindex=' + this$static.getObjectsCurrentState().zindex, 1);
    this$static.getObjectsCurrentState().zindex = this$static.getObjectsCurrentState().zindex;
  }
  this$static.getObjectsCurrentState().variableZindex = newState.variableZindex;
  newState.lowerZindex != -1 && (this$static.getObjectsCurrentState().lowerZindex = newState.lowerZindex);
  newState.upperZindex != -1 && (this$static.getObjectsCurrentState().upperZindex = newState.upperZindex);
  newState.stepZindex != -1 && (this$static.getObjectsCurrentState().stepZindex = newState.stepZindex);
  this$static.getObjectsCurrentState().linkedZindex = newState.linkedZindex;
  this$static.getObjectsCurrentState().linkedZindexDifference = newState.linkedZindexDifference;
  newState.moveState.movement_currentWaypoint != -1 && (this$static.getObjectsCurrentState().moveState.movement_currentWaypoint = newState.moveState.movement_currentWaypoint);
  $ObjectsLog(this$static, 'setting objects data to newState d', 1);
  newState.moveState.movement_SC.x_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_SC.x_0 = newState.moveState.movement_SC.x_0);
  newState.moveState.movement_SC.y_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_SC.y_0 = newState.moveState.movement_SC.y_0);
  newState.moveState.movement_SC.z_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_SC.z_0 = newState.moveState.movement_SC.z_0);
  newState.moveState.movement_CC.x_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_CC.x_0 = newState.moveState.movement_CC.x_0);
  newState.moveState.movement_CC.y_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_CC.y_0 = newState.moveState.movement_CC.y_0);
  newState.moveState.movement_CC.z_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_CC.z_0 = newState.moveState.movement_CC.z_0);
  newState.moveState.movement_dest.x_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_dest.x_0 = newState.moveState.movement_dest.x_0);
  newState.moveState.movement_dest.y_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_dest.y_0 = newState.moveState.movement_dest.y_0);
  newState.moveState.movement_dest.z_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_dest.z_0 = newState.moveState.movement_dest.z_0);
  newState.moveState.movement_vel.x_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_vel.x_0 = newState.moveState.movement_vel.x_0);
  newState.moveState.movement_vel.y_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_vel.y_0 = newState.moveState.movement_vel.y_0);
  newState.moveState.movement_vel.z_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_vel.z_0 = newState.moveState.movement_vel.z_0);
  newState.moveState.movement_acc.x_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_acc.x_0 = newState.moveState.movement_acc.x_0);
  newState.moveState.movement_acc.y_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_acc.y_0 = newState.moveState.movement_acc.y_0);
  newState.moveState.movement_acc.z_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_acc.z_0 = newState.moveState.movement_acc.z_0);
  newState.moveState.movement_current_pos.x_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_current_pos.x_0 = newState.moveState.movement_current_pos.x_0);
  newState.moveState.movement_current_pos.y_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_current_pos.y_0 = newState.moveState.movement_current_pos.y_0);
  newState.moveState.movement_current_pos.z_0 != -1 && (this$static.getObjectsCurrentState().moveState.movement_current_pos.z_0 = newState.moveState.movement_current_pos.z_0);
  newState.moveState.movement_speed != -1 && (this$static.getObjectsCurrentState().moveState.movement_speed = newState.moveState.movement_speed);
  newState.moveState.bounceEnergyRetention != 1 && (this$static.getObjectsCurrentState().moveState.bounceEnergyRetention = newState.moveState.bounceEnergyRetention);
  $ObjectsLog(this$static, 'setting objects movement', 1);
  $ObjectsLog(this$static, 'newState.currentmovement:' + newState.moveState.currentmovementpath, 1);
  if (newState.moveState.currentmovementpath != '' && !$startsWith(newState.moveState.currentmovementpath, '_internal_')) {
    if (this$static.objectsMovements) {
      this$static.currentPath = dynamicCast($getStringValue(this$static.objectsMovements, newState.moveState.currentmovementpath), 91);
      !this$static.currentPath && $ObjectsLog(this$static, '_cant find:' + newState.moveState.currentmovementpath, 4);
    }
  }
  $ObjectsLog(this$static, 'Setting movement to:' + $toString_11(newState.moveState), 1);
  $setTo(this$static.getObjectsCurrentState().moveState, newState.moveState);
  $ObjectsLog(this$static, '_____________________________________________________animationRunner is a go!', 1);
  this$static.getObjectsCurrentState().moveState.currentmovementtype != None_0 && (addObjectToUpdateOnFrame(this$static) , this$static.collisionCheckPool = null);
  $ObjectsLog(this$static, 'setting objects data to newState e', 1);
  if (!!newState.objectsProperties && !!newState.objectsProperties) {
    $ObjectsLog(this$static, 'Setting objects Properties. Num of new props = ' + newState.objectsProperties.objectsProperties.map_0.size_1(), 1);
    this$static.getObjectsCurrentState().objectsProperties = new PropertySet_1(newState.objectsProperties.objectsProperties.clone());
  }
  if (!!newState.ObjectRuntimeVariables && !!newState.ObjectRuntimeVariables) {
    $ObjectsLog(this$static, 'Setting RuntimeVariables. Num of new vars = ' + newState.ObjectRuntimeVariables.size_0, 1);
    this$static.getObjectsCurrentState().ObjectRuntimeVariables = $clone(newState.ObjectRuntimeVariables);
  }
  if (newState.touching) {
    $ObjectsLog(this$static, 'setting touching data', 1);
    this$static.getObjectsCurrentState().touching = new SceneObjectSet_0(newState.touching);
    $ObjectsLog(this$static, 'setting touching data' + this$static.getObjectsCurrentState().touching.map_0.size_1(), 1);
  }
   else {
    $ObjectsLog(this$static, 'touching data null, so we ignore', 1);
  }
  if (this$static.objectScene_0) {
    if (this$static.getObjectsCurrentState().attachToHTMLDiv.length < 1 && !this$static.getObjectsCurrentState().positionedRelativeToo) {
      $ObjectsLog(this$static, 'setting position non-relative', 1);
      $setPosition_2(this$static, this$static.getObjectsCurrentState().X, this$static.getObjectsCurrentState().Y, this$static.getObjectsCurrentState().Z, false, false, true);
      $setZIndex(this$static, this$static.getObjectsCurrentState().zindex);
      $ObjectsLog(this$static, 'set position too:' + this$static.getObjectsCurrentState().X + ',' + this$static.getObjectsCurrentState().Y + ' ' + this$static.getObjectsCurrentState().Z + '(Z INDEX ' + this$static.getObjectsCurrentState().zindex + ')', 1);
    }
     else if (this$static.getObjectsCurrentState().positionedRelativeToo) {
      $ObjectsLog(this$static, 'setting position RelativeToo: ' + this$static.getObjectsCurrentState().positionedRelativeToo.getObjectsCurrentState_1().ObjectsName, 1);
      $ObjectsLog(this$static, 'which is at: ' + this$static.getObjectsCurrentState().positionedRelativeToo.getObjectsCurrentState_1().X + ',' + this$static.getObjectsCurrentState().positionedRelativeToo.getObjectsCurrentState_1().Y, 1);
      $add_21(this$static.getObjectsCurrentState().positionedRelativeToo.relativeObjects, this$static);
      $updateRelativePosition(this$static, true);
      $setZIndex(this$static, this$static.getObjectsCurrentState().zindex);
      $ObjectsLog(this$static, 'set position too:' + this$static.getObjectsCurrentState().X + ',' + this$static.getObjectsCurrentState().Y, 1);
    }
     else if (this$static.getObjectsCurrentState().attachToHTMLDiv.length > 1) {
      $info_1(SOLog, 'setting position into html div with id: ' + this$static.getObjectsCurrentState().attachToHTMLDiv);
      $ObjectsLog(this$static, 'Setting Position into html with id:' + this$static.getObjectsCurrentState().attachToHTMLDiv, 1);
      PositionByTag(this$static, this$static.getObjectsCurrentState().attachToHTMLDiv);
    }
  }
  $ObjectsLog(this$static, 'currentObjectState.zindex is ' + this$static.getObjectsCurrentState().zindex, 1);
  $ObjectsLog(this$static, 'setting Visible:' + newState.currentlyVisible, 1);
  $setVisible_1(this$static, newState.currentlyVisible, false);
  $ObjectsLog(this$static, 'Objects title setting to:' + this$static.getObjectsCurrentState().Title, 1);
  $ObjectsLog(this$static, 'Objects propertysChanged', 1);
  $TriggeringNaboursOnTouchingChange(this$static);
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $updateThingsPositionedRelativeToThis(this$static, updateTouching){
  var so, so$iterator;
  for (so$iterator = $iterator_4(new AbstractMap$1(this$static.relativeObjects.map_0)); so$iterator.val$outerIter2.hasNext();) {
    so = dynamicCast($next_7(so$iterator), 24);
    if (!so.isAttached()) {
      $severe_0(SOLog, this$static.objectsCurrentState_2.ObjectsName + ' attempted to update position of ' + so.objectsCurrentState_2.ObjectsName + ' but its not attached to the page');
      continue;
    }
    $updateRelativePosition(so, updateTouching);
    if (so.objectsCurrentState_2.linkedZindex) {
      $setZIndex(so, this$static.getZindex() + so.objectsCurrentState_2.linkedZindexDifference);
      $info_1(SOLog, 'setting zindex based on object to ' + this$static.getZindex() + ' + ' + so.objectsCurrentState_2.linkedZindexDifference);
    }
  }
}

function $updateTouchingAutomatically(this$static){
  var new_touching, objects, testagainst, testagainst$iterator;
  if (this$static.getObjectsCurrentState_1().boundaryType == ($clinit_CollisionType() , none)) {
    this$static.getObjectsCurrentState_1().touching.map_0.clear_1();
    return;
  }
  objects = $allScenesCurrentObjects(this$static.objectScene_0.scenesData);
  this$static.ObjectsLog_2('Updating collisions: total objects to check for collisions=' + objects.size_1(), 'blue');
  new_touching = new ArrayList;
  for (testagainst$iterator = new Collections$UnmodifiableCollectionIterator(objects.coll.iterator()); testagainst$iterator.it.hasNext();) {
    testagainst = dynamicCast(testagainst$iterator.it.next_0(), 24);
    if (!testagainst.isVisible() || testagainst == this$static) {
      continue;
    }
    if ($isObjectTouching(this$static, testagainst)) {
      $info_1(SOLog, 'Was touching!');
      new_touching.add_0(testagainst);
      this$static.ObjectsLog_2(' touching:' + testagainst.objectsCurrentState_2.ObjectsName, 'green');
    }
     else {
      this$static.ObjectsLog_2(' not touching:' + testagainst.objectsCurrentState_2.ObjectsName, 'grey');
      testagainst.cmapStillLoading && this$static.ObjectsLog_2(' (cmap still loading) ', 'red');
    }
  }
  this$static.ObjectsLog_1(' new_touching #=' + new_touching.array.length, 1);
  $replaceTouchingPropertys(this$static, new_touching);
  this$static.updateDebugInfo();
}

function $wasJustMoved(this$static, fromAnimation){
  if (this$static.cmap.isPresent()) {
    $clearTouchingCache(dynamicCast(this$static.cmap.get_1(), 94));
    removeFromAllcaches(dynamicCast(this$static.cmap.get_1(), 18));
  }
  this$static.getObjectsCurrentState_1();
  $updateTouchingAutomatically(this$static);
  fromAnimation && $triggerMovementEndCommands(this$static);
}

function SceneObject(actions, StateObject, sceneItsOn){
  $clinit_SceneObject();
  this.objectsActions = new ActionList;
  this.tempYOverride = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  this.cmap = (null , INSTANCE);
  this.relativeObjects = new HashSet;
  !!sceneItsOn && this.setObjectsSceneVariable(sceneItsOn);
  $info_1(SOLog, '_________setting objectsCurrentState object on ' + StateObject.ObjectsName + '________________');
  this.objectsCurrentState_2 = StateObject;
  if (!this.folderName.length) {
    this.folderName = $split_0(StateObject.ObjectsName, '0\\.', 0)[0];
    $info_1(SOLog, 'foldername defaults to: ' + this.folderName);
  }
  if (StateObject.ObjectsParamatersFromFile != null) {
    $info_1(SOLog, '_________assignObjectTypeSpecificParametersNew________________');
    this.objectsCurrentState_2.assignObjectTypeSpecificParametersNew(StateObject.ObjectsParamatersFromFile);
  }
  this.setObjectsInitialState(this.objectsCurrentState_2.copy());
  if (actions) {
    this.objectsActions = actions;
    $updateHandlersToMatchActions(this);
    $info_1(SOLog, 'actions loaded');
  }
}

function setAnimationsStatusHelper(animationsStatus, sprite, animationController){
  $clinit_SceneObject();
  var objectState, targetFrame, targetFrameStr;
  objectState = sprite.objectsCurrentState_0;
  $ObjectsLog(sprite, 'Setting :' + objectState.ObjectsFileName + ' to ' + animationsStatus + ' with ' + objectState.currentNumberOfFrames + ' frames', 1);
  if (objectState.currentNumberOfFrames == 1) {
    $ObjectsLog(sprite, 'only 1 frame, so not bothering to change states and setting animation to paused', 1);
    $info_1(SOLog, 'only 1 frame, so not bothering to change states and setting animation to paused');
    $pauseAnimation(animationController);
    return;
  }
  if ($equalsIgnoreCase(animationsStatus, 'PlayForward')) {
    $ObjectsLog(sprite, 'playing forward', 1);
    $setPlayForward(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'PlayBounceLoop')) {
    $info_1(SOLog, '____________________play bounce loop set');
    $setPlayForwardThenBackLoop(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'PlayBounce')) {
    $setPlayForwardThenBack(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'PlayBack')) {
    $setPlayBack(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'Pause')) {
    $pauseAnimation(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'PlayLoop')) {
    $setPlayLoop(animationController);
  }
   else if ($startsWith(animationsStatus.toLowerCase(), 'gotoframe')) {
    targetFrameStr = __substr(animationsStatus, 9, animationsStatus.length - 9);
    targetFrame = __parseAndValidateInt(targetFrameStr, 10);
    $info_1(SOLog, 'Setting frame to:' + targetFrame);
    $gotoFrame(animationController, targetFrame);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'NextFrameLoop')) {
    $nextFrameLoop(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'PrevFrameLoop')) {
    $prevFrameLoop(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'NextFrame')) {
    $nextFrame(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'PrevFrame')) {
    $prevFrame(animationController);
  }
   else if ($equalsIgnoreCase(animationsStatus, 'PlayForwardXframes'))
  ;
  else {
    $info_1(SOLog, 'Not a recognised animation state:' + animationsStatus);
    return;
  }
  objectState.currentFrame = animationController.currentframe;
  objectState.currentlyAnimationState = $serialiseAnimationState(animationController);
}

defineClass(24, 1, {97:1, 147:1, 222:1, 24:1});
_.ObjectsLog_0 = function ObjectsLog(contents){
  this.ObjectsLog_1(contents, 1);
}
;
_.ObjectsLog_1 = function ObjectsLog_0(contents, level){
  switch (level) {
    case 4:
    case 5:
      $severe_0(SOLog, contents);
      break;
    case 3:
    case 2:
      $warning_0(SOLog, contents);
      break;
    case 1:
      $info_1(SOLog, contents);
      break;
    case 0:
      $finest_0(SOLog, contents);
  }
}
;
_.ObjectsLog_2 = function ObjectsLog_1(contents, colour){
  $info_1(SOLog, contents);
}
;
_.clearObjectsSounds = function clearObjectsSounds(){
  !!this.ObjectsSound && this.ObjectsSound.newSoundImplementation.stop_0();
  this.ObjectsSound = null;
  return;
}
;
_.getAttachmentPointsFor = function getAttachmentPointsFor(atachmentPointName){
  var points;
  points = this.attachmentPoints;
  if (points) {
    return $getPointsFor(points, atachmentPointName, 0);
  }
   else {
    $info_1(SOLog, 'no attachment points found');
  }
  return null;
}
;
_.getInitialState_2 = function getInitialState(){
  return this.initialObjectState;
}
;
_.getLowerLeft = function getLowerLeft(){
  var X, Y;
  X = this.objectsCurrentState_2.X;
  Y = this.objectsCurrentState_2.Y + this.getObjectHeight();
  return new Simple2DPoint(X, Y);
}
;
_.getLowerLeftDisplacement = function getLowerLeftDisplacement(){
  var brdx, brdy, dis;
  brdy = this.getObjectHeight() - this.objectsCurrentState_2.PinPointY;
  brdx = -this.objectsCurrentState_2.PinPointX;
  dis = new Simple2DPoint(brdx, brdy);
  return dis;
}
;
_.getLowerRight = function getLowerRight(){
  var X, Y;
  X = this.objectsCurrentState_2.X + this.getObjectWidth();
  Y = this.objectsCurrentState_2.Y + this.getObjectHeight();
  return new Simple2DPoint(X, Y);
}
;
_.getObjectsCurrentState_1 = function getObjectsCurrentState(){
  return this.objectsCurrentState_2;
}
;
_.getUpperLeft = function getUpperLeft(){
  var X, Y;
  X = this.objectsCurrentState_2.X;
  Y = this.objectsCurrentState_2.Y;
  return new Simple2DPoint(X, Y);
}
;
_.getUpperRight = function getUpperRight(){
  var X, Y;
  X = this.objectsCurrentState_2.X + this.getObjectWidth();
  Y = this.objectsCurrentState_2.Y;
  return new Simple2DPoint(X, Y);
}
;
_.hasProperty = function hasProperty(testThis){
  return $hasProperty(this.objectsCurrentState_2.objectsProperties, testThis);
}
;
_.hasProperty_0 = function hasProperty_0(testThis){
  return $hasProperty_1(this.objectsCurrentState_2.objectsProperties, testThis);
}
;
_.isVisible = function isVisible(){
  return this.objectsCurrentState_2.currentlyVisible;
}
;
_.removeObject = function removeObject(removeFromLists){
  $removeObject(this, removeFromLists);
}
;
_.resetObject = function resetObject(){
  $resetObject(this);
}
;
_.restoreTempState = function restoreTempState(){
}
;
_.resumeObjectsSounds = function resumeObjectsSounds(){
  !!this.ObjectsSound && this.ObjectsSound.newSoundImplementation.play_0();
  return;
}
;
_.saveTempState = function saveTempState(){
}
;
_.setObjectsInitialState = function setObjectsInitialState(objectsInitialState){
  this.initialObjectState = objectsInitialState;
}
;
_.setObjectsSceneVariable = function setObjectsSceneVariable(scene){
  $setObjectsSceneVariable(this, scene);
}
;
_.setSpritesURL = function setSpritesURL(URL_0, Frames){
  $setSpritesURL(this, URL_0, Frames);
}
;
_.setVisible = function setVisible_2(status_0){
  this.setVisible_0(status_0, true);
}
;
_.setVisible_0 = function setVisible_3(status_0, byPin){
  $setVisible_0(this, status_0);
}
;
_.update_0 = function update_3(delta){
  if (this.objectsCurrentState_2.moveState.currentmovementtype == ($clinit_MovementState$MovementStateType() , None_0) && this.currentFade == 0) {
    removeObjectToUpdateOnFrame(this);
    return;
  }
  this.objectsCurrentState_2.moveState.currentmovementtype != None_0 && $movementFrameUpdate(this, delta);
  this.currentFade != 0 && $updateFade(this, delta);
}
;
_.userActionTriggeredOnObject = function userActionTriggeredOnObject(actionname){
  var actions, defaultActions;
  $info_1(SOLog, 'action triggered:' + actionname);
  $testAndRunSceneAndGlobalActions(this, ($clinit_ActionSet$TriggerType() , UserActionUsed), actionname);
  if (this.objectsActions) {
    actions = $getActionsForTrigger(this.objectsActions, UserActionUsed, actionname);
    $info_1(SOLog, '..actions found: \n' + $toString_8(actions));
    if (actions.array.length > 0) {
      $info_1(SOLog, 'actions found:' + actions.array.length);
      processInstructions_1(actions, 'FROM_' + this.objectScene_0.SceneFileName + '_' + this.getObjectsCurrentState_1().ObjectsName, this);
      !!($clinit_InventoryPanelCore() , currentlyHeldItem) && $justUsedSpecificActionsFound(currentlyHeldItem);
    }
     else {
      if ($clinit_InventoryPanelCore() , currentlyHeldItem) {
        $info_1(SOLog, ' running default held actions ');
        defaultActions = $getActionsForTrigger(currentlyHeldItem.objectsActions, DefaultActionFor, actionname);
        processInstructions_1(defaultActions, 'FROM_' + this.objectScene_0.SceneFileName + '_' + currentlyHeldItem.objectsCurrentState_2.ObjectsName, this);
        defaultActions.array.length == 0?$justUsedButNoActionsFound($clinit_InventoryPanelCore()):currentlyHeldItem;
      }
    }
  }
   else if ($clinit_InventoryPanelCore() , isItemCurrentlyBeingHeld) {
    $info_1(SOLog, 'itemCurrentlyBeingHeld - looking for default action ' + actionname + ' \n');
    if (currentlyHeldItem.objectsActions) {
      defaultActions = $getActionsForTrigger(currentlyHeldItem.objectsActions, DefaultActionFor, actionname);
      processInstructions_1(defaultActions, 'FROM_' + this.objectScene_0.SceneFileName + '_' + currentlyHeldItem.objectsCurrentState_2.ObjectsName, this);
      defaultActions.array.length == 0?$justUsedButNoActionsFound($clinit_InventoryPanelCore()):currentlyHeldItem;
    }
  }
  if ($clinit_InventoryPanelCore() , currentlyHeldItem) {
    if (!($clinit_SceneMenuWithPopUp() , menuShowing).value_0 && currentlyHeldItem.keepheld != ($clinit_IsInventoryIcon$KeepHeldMode() , onuse)) {
      $info_1(SOLog, '_________unholdItem after user action triggered ');
      unholdItem();
    }
     else {
      $info_1(SOLog, '_________menu  still showing or on keepheld onuse mode , so we keep holding');
    }
  }
}
;
_.FacingDirection = 0;
_.Opacity = 100;
_.SpeedOfLastImpact = 0;
_.alreadyLoaded = false;
_.cmapStillLoading = true;
_.collisionCheckPool = null;
_.currentFade = 0;
_.currentPath = null;
_.currentStep = 0;
_.floor_height = 0;
_.folderName = '';
_.movementsLoaded = false;
_.nextThreshold = -1;
_.numberOfDivisions = -1;
_.objectsCurrentPathfindingIterator = 0;
_.parentBeforeDropping = null;
_.pixelstep = -1;
_.prevThreshhold = -1;
_.remainderX = 0;
_.remainderY = 0;
_.remainderZ = 0;
_.skipFirstJump = false;
_.stepActionIterval = -1;
_.stepPerMS = 0;
_.telePortFlag = false;
var SOLog, attachmentPointCache, currentEditedObject = null, editMode = false;
var Lcom_lostagain_Jam_SceneObjects_SceneObject_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject', 24, Ljava_lang_Object_2_classLit);
function SceneObject$1(this$0, val$setAsCurrentUsedPoints, val$atachmentPointUrl){
  this.this$01 = this$0;
  this.val$setAsCurrentUsedPoints2 = val$setAsCurrentUsedPoints;
  this.val$atachmentPointUrl3 = val$atachmentPointUrl;
}

defineClass(884, 1, {}, SceneObject$1);
_.run_2 = function run_55(responseData, responseCode){
  var newAttachmentPoints;
  if (responseCode == 404) {
    $info_1(($clinit_SceneObject() , SOLog), 'no attachment points found');
    return;
  }
  $info_1(($clinit_SceneObject() , SOLog), 'got attachmet points from url ' + responseData);
  newAttachmentPoints = new AttachmentList(responseData);
  if (this.val$setAsCurrentUsedPoints2.value_0) {
    this.this$01.attachmentPoints = newAttachmentPoints;
    $info_1(SOLog, 'processed points.' + this.this$01.attachmentPoints.attachmentPointLists.size_0 + ' sets found,cached, and set as current');
  }
   else {
    $info_1(SOLog, 'processed points.' + newAttachmentPoints.attachmentPointLists.size_0 + ' sets found and added to cache ready for use latter');
  }
  attachmentPointCache.put(this.val$atachmentPointUrl3, newAttachmentPoints);
}
;
var Lcom_lostagain_Jam_SceneObjects_SceneObject$1_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject/1', 884, Ljava_lang_Object_2_classLit);
function SceneObject$2(){
}

defineClass(885, 1, {}, SceneObject$2);
_.run_1 = function run_56(errorData, exception){
  $info_1(($clinit_SceneObject() , SOLog), 'error getting attachmet points from url ');
}
;
var Lcom_lostagain_Jam_SceneObjects_SceneObject$2_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject/2', 885, Ljava_lang_Object_2_classLit);
function SceneObject$3(this$0, val$stateObject, val$thisObject){
  this.this$01 = this$0;
  this.val$stateObject2 = val$stateObject;
  this.val$thisObject3 = val$thisObject;
}

defineClass(886, 1, {}, SceneObject$3);
_.run_2 = function run_57(responseData, responseCode){
  this.this$01.cmapStillLoading = false;
  if (responseCode == 404 || responseCode == 204) {
    $info_1(($clinit_SceneObject() , SOLog), '________no cmap file recieved (' + responseCode + '):\n');
    return;
  }
  $info_1(($clinit_SceneObject() , SOLog), '______' + this.val$stateObject2.ObjectsName + '__cmap recieved:\n' + responseData);
  $info_1(SOLog, '______');
  !this.val$stateObject2 && $info_1(SOLog, '_____SSState not yet set...hmm');
  $info_1(SOLog, '______' + this.val$stateObject2.ObjectsName);
  this.this$01.cmap = new Present(checkNotNull(new PolygonCollisionMap(responseData, this.val$thisObject3)));
  this.val$stateObject2.boundaryType == ($clinit_CollisionType() , none) && (this.val$stateObject2.boundaryType = bottomline);
}
;
var Lcom_lostagain_Jam_SceneObjects_SceneObject$3_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject/3', 886, Ljava_lang_Object_2_classLit);
function SceneObject$4(){
}

defineClass(887, 1, {}, SceneObject$4);
_.run_1 = function run_58(errorData, exception){
  $info_1(($clinit_SceneObject() , SOLog), 'no file found (so no cmap set)');
}
;
var Lcom_lostagain_Jam_SceneObjects_SceneObject$4_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject/4', 887, Ljava_lang_Object_2_classLit);
function $run_15(this$static){
  this$static.this$01.SpeedOfLastImpact = 0.1;
  $info_1(($clinit_SceneObject() , SOLog), 'Mid-chuck impact:' + this$static.this$01.SpeedOfLastImpact + ' between ' + this$static.this$01.objectsCurrentState_2.ObjectsName + ' and ' + this$static.val$atThis2.objectsCurrentState_2.ObjectsName);
  $addTouchingProperty(this$static.this$01, this$static.val$atThis2);
  this$static.this$01.SpeedOfLastImpact = 0;
  $removeTouchingProperty(this$static.this$01, this$static.val$atThis2);
}

function SceneObject$5(this$0, val$atThis){
  this.this$01 = this$0;
  this.val$atThis2 = val$atThis;
}

defineClass(888, 1, {}, SceneObject$5);
_.run = function run_59(){
  $run_15(this);
}
;
var Lcom_lostagain_Jam_SceneObjects_SceneObject$5_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject/5', 888, Ljava_lang_Object_2_classLit);
function SceneObject$6(this$0){
  this.this$01 = this$0;
}

defineClass(889, 1, {}, SceneObject$6);
_.run_2 = function run_60(responseData, responseCode){
  var DefaultMovementPath;
  if (responseCode == 404) {
    $info_1(($clinit_SceneObject() , SOLog), '________no movement file recieved (404):\n');
    this.this$01.movementsLoaded = false;
    return;
  }
  $info_1(($clinit_SceneObject() , SOLog), '________movement recieved:\n' + responseData);
  if (responseData.indexOf('-Path') == -1) {
    this.this$01.movementsLoaded = false;
    $info_1(SOLog, '________no movement file recieved :\n');
    return;
  }
  this.this$01.objectsMovements = new MovementList(responseData);
  this.this$01.movementsLoaded = true;
  DefaultMovementPath = dynamicCast($getStringValue(this.this$01.objectsMovements, 'default'), 91);
  !!DefaultMovementPath && $playMovement(this.this$01, DefaultMovementPath, $intern_36, -1, false);
}
;
var Lcom_lostagain_Jam_SceneObjects_SceneObject$6_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject/6', 889, Ljava_lang_Object_2_classLit);
function SceneObject$7(this$0){
  this.this$01 = this$0;
}

defineClass(890, 1, {}, SceneObject$7);
_.run_1 = function run_61(errorData, exception){
  $info_1(($clinit_SceneObject() , SOLog), 'no file found (so no movements set)');
  this.this$01.movementsLoaded = false;
}
;
var Lcom_lostagain_Jam_SceneObjects_SceneObject$7_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject/7', 890, Ljava_lang_Object_2_classLit);
function $run_16(this$static){
  var pocketObject;
  pocketObject = new CommandList_0('- pocketobject = ' + this$static.this$01.getObjectsCurrentState_1().ObjectsName);
  processInstructions(pocketObject, 'EndOfChuckToInventory_for' + this$static.this$01.objectsCurrentState_2.ObjectsName, this$static.this$01);
  $info_1(($clinit_SceneObject() , SOLog), ' resetting zindex data to before chucktoinventory ');
  this$static.this$01.getObjectsCurrentState_1().variableZindex = this$static.val$oldVariableZindex2;
  this$static.this$01.getObjectsCurrentState_1().zindex = this$static.val$oldZindex3;
  $setZIndex(this$static.this$01, this$static.this$01.getObjectsCurrentState_1().zindex);
}

function SceneObject$8(this$0, val$oldVariableZindex, val$oldZindex){
  this.this$01 = this$0;
  this.val$oldVariableZindex2 = val$oldVariableZindex;
  this.val$oldZindex3 = val$oldZindex;
}

defineClass(891, 1, {}, SceneObject$8);
_.run = function run_62(){
  $run_16(this);
}
;
_.val$oldVariableZindex2 = false;
_.val$oldZindex3 = 0;
var Lcom_lostagain_Jam_SceneObjects_SceneObject$8_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObject/8', 891, Ljava_lang_Object_2_classLit);
function $clinit_SceneObjectDatabase(){
  $clinit_SceneObjectDatabase = emptyMethod;
  DBLog = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneObjectDatabase'));
}

function addObjectToDatabase(sceneObject){
  $clinit_SceneObjectDatabase();
  var supportedtype, supportedtype$iterator;
  for (supportedtype$iterator = $iterator_4(new AbstractMap$1(sceneObject.getObjectsCurrentState_1().objectsCapabilities.map_0)); supportedtype$iterator.val$outerIter2.hasNext();) {
    supportedtype = dynamicCast($next_7(supportedtype$iterator), 114);
    $info_1(DBLog, 'Adding to Database as:' + supportedtype);
    addObjectToDatabase_0(sceneObject, supportedtype);
  }
}

function getAllObjectsOnScene(sceneWidgetVisual){
  $clinit_SceneObjectDatabase();
  var results;
  results = $allScenesCurrentObjects(sceneWidgetVisual.scenesData);
  return results;
}

function getDialogueObjectNEW(search, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase();
  var results;
  results = getObjects(($clinit_SceneObjectType() , DialogBox), search, callingObject, searchGlobal);
  return results;
}

function getDivObjectNEW(search, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase();
  var TimeTakenEnd, TimeTakenStart, newresults;
  $info_1(DBLog, 'New db test');
  TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
  newresults = getObjects(($clinit_SceneObjectType() , Div), search, callingObject, searchGlobal);
  TimeTakenEnd = fromDouble(now_1());
  $clinit_GameStatistics();
  TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart));
  return newresults;
}

function getSceneObjectNEW(name_0, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase();
  var TimeTakenEnd, TimeTakenStart, newresults;
  TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
  newresults = getSceneObject(name_0, null, callingObject, searchGlobal);
  TimeTakenEnd = fromDouble(now_1());
  $clinit_GameStatistics();
  TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart));
  return newresults;
}

function getSingleObjectOfType(objectName, type_0){
  var results;
  $clinit_SceneObjectDatabase();
  var TimeTakenEnd, TimeTakenStart, newresult;
  $info_1(DBLog, 'new db testt');
  TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
  newresult = ($clinit_SceneObjectDatabase_newcore() , results = getSceneObject(objectName, type_0, null, true) , !!results && !results.isEmpty_0()?dynamicCast(results.iterator().next_0(), 24):null);
  TimeTakenEnd = fromDouble(now_1());
  $clinit_GameStatistics();
  TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart));
  return newresult;
}

function getSingleSceneObjectNEW(search, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase();
  var newresult, results;
  results = getSceneObjectNEW(search, callingObject, searchGlobal);
  newresult = null;
  !!results && !results.isEmpty_0()?(newresult = dynamicCast(results.iterator().next_0(), 24)):$info_1(DBLog, 'no results found for' + search);
  return newresult;
}

function getSpriteObjectNEW(search, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase();
  var TimeTakenEnd, TimeTakenStart, newresults;
  TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
  newresults = getObjects(($clinit_SceneObjectType() , Sprite), search, callingObject, searchGlobal);
  TimeTakenEnd = fromDouble(now_1());
  $clinit_GameStatistics();
  TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart));
  return newresults;
}

function getTextObjectNEW(search, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase();
  var TimeTakenEnd, TimeTakenStart, newresults;
  TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
  $info_1(DBLog, 'new db test');
  newresults = getObjects(($clinit_SceneObjectType() , Label_4), search, callingObject, searchGlobal);
  $info_1(DBLog, 'new db test..');
  TimeTakenEnd = fromDouble(now_1());
  $clinit_GameStatistics();
  TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart));
  return newresults;
}

function getVectorObjectNEW(search, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase();
  var TimeTakenEnd, TimeTakenStart, newresults;
  TimeTakenStart = ($clinit_System() , fromDouble(now_1()));
  newresults = getObjects(($clinit_SceneObjectType() , Vector), search, callingObject, searchGlobal);
  TimeTakenEnd = fromDouble(now_1());
  $clinit_GameStatistics();
  TotalNewDatabaseLookupTime = add_17(TotalNewDatabaseLookupTime, sub_0(TimeTakenEnd, TimeTakenStart));
  return newresults;
}

function wasLastObjectUpdated(lastupdated){
  $clinit_SceneObjectDatabase();
  var type_0, type$iterator, types;
  $info_1(DBLog, '============last clicked on setting to:' + lastupdated.getObjectsCurrentState_1().ObjectsName + '(type is a' + $name(lastupdated.getObjectsCurrentState_1().objectsPrimaryType) + ')');
  lastSceneObjectUpdated = lastupdated;
  types = lastupdated.getObjectsCurrentState_1().objectsCapabilities;
  for (type$iterator = $iterator_4(new AbstractMap$1(types.map_0)); type$iterator.val$outerIter2.hasNext();) {
    type_0 = dynamicCast($next_7(type$iterator), 114);
    switch (type_0.ordinal) {
      case 0:
        lastSpriteObjectUpdated = dynamicCast(lastupdated, 166);
        break;
      case 1:
        lastTextObjectUpdated = dynamicCast(lastupdated, 159);
        lastDialogueObjectUpdated = dynamicCast(lastupdated, 124);
        break;
      case 2:
        lastTextObjectUpdated = dynamicCast(lastupdated, 159);
        break;
      case 3:
        lastDivObjectUpdated = dynamicCast(lastupdated, 109);
        break;
      case 6:
        lastVectorObjectUpdated = dynamicCast(lastupdated, 275);
        break;
      case 4:
        lastInputObjectUpdated = dynamicCast(lastupdated, 364);
        break;
      case 5:
        lastInventoryObjectClickedOn = dynamicCast(lastupdated, 178);
    }
  }
  ($clinit_JAMcore() , DebugMode).value_0 && lastupdated.updateDebugGlobalVariableInfo();
}

var DBLog, currentScene_0 = null, lastDialogueObjectUpdated = null, lastDivObjectUpdated = null, lastInputObjectUpdated = null, lastInventoryObjectClickedOn = null, lastObjectThatTouchedAnother = null, lastSceneObjectClicked = null, lastSceneObjectUpdated = null, lastSpriteObjectUpdated = null, lastTextObjectUpdated = null, lastVectorObjectUpdated = null;
function $clinit_SceneObjectDatabase_newcore(){
  $clinit_SceneObjectDatabase_newcore = emptyMethod;
  DBncLog = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneObjectDatabase_newcore'));
  object_database_table = new HashBasedTable(new HashMap, new HashBasedTable$Factory);
}

function addObjectToDatabase_0(object, asType){
  $clinit_SceneObjectDatabase_newcore();
  var ObjectCollection, name_0;
  name_0 = object.getObjectsCurrentState_1().ObjectsName.toLowerCase();
  ObjectCollection = dynamicCast($get_6(object_database_table, asType, name_0), 30);
  if (ObjectCollection) {
    $info_1(DBncLog, 'adding object to existing set of similiarly named:' + name_0);
    $add_21(ObjectCollection, object);
  }
   else {
    ObjectCollection = new HashSet;
    $add_21(ObjectCollection, object);
    $info_1(DBncLog, 'adding object to new set of similiarly named:' + name_0);
    $put_0(object_database_table, asType, name_0, ObjectCollection);
  }
}

function getAllGamesObjects(){
  $clinit_SceneObjectDatabase_newcore();
  var allOfType, objects, objects$iterator, results, typetoget, typetoget$array, typetoget$index, typetoget$max;
  results = new HashSet;
  for (typetoget$array = ($clinit_SceneObjectType() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectType_2_classLit, 1), $intern_1, 114, 0, [Sprite, DialogBox, Label_4, Div, Input_0, InventoryIcon, Vector])) , typetoget$index = 0 , typetoget$max = typetoget$array.length; typetoget$index < typetoget$max; ++typetoget$index) {
    typetoget = typetoget$array[typetoget$index];
    allOfType = new StandardTable$Row(object_database_table, typetoget);
    for (objects$iterator = $iterator_3($values_0(allOfType)); objects$iterator.backingIterator.hasNext();) {
      objects = dynamicCast($transform(objects$iterator, objects$iterator.backingIterator.next_0()), 30);
      $addAll(results, objects);
    }
  }
  return results;
}

function getAllObjectsOfType(type_0, searchGlobal){
  var AllObjects, AllObjectsOfType, AllObjectsOfTypeMap, objectsWithSameName, objectsWithSameName$iterator, results, sceneObject, sceneObject$iterator;
  results = new HashSet;
  if (searchGlobal) {
    !object_database_table && $severe_0(DBncLog, 'object_database_table is null!:');
    if (!type_0) {
      $info_1(DBncLog, 'type is null so returning all objects as IsSceneObject!');
      AllObjects = getAllGamesObjects();
      return AllObjects;
    }
    $severe_0(DBncLog, 'Getting objets of type:' + type_0);
    AllObjectsOfTypeMap = new StandardTable$Row(object_database_table, type_0);
    $severe_0(DBncLog, 'Getting objets of type...');
    if ($entrySet_0(AllObjectsOfTypeMap).size_1() == 0) {
      $severe_0(DBncLog, 'No objects found of type:' + type_0);
    }
     else {
      AllObjectsOfType = $values_0(AllObjectsOfTypeMap);
      for (objectsWithSameName$iterator = ($clinit_Maps() , transform_0(AllObjectsOfType.map_0.entrySet_0().iterator(), ($clinit_Maps$EntryFunction() , VALUE))); objectsWithSameName$iterator.backingIterator.hasNext();) {
        objectsWithSameName = dynamicCast($transform(objectsWithSameName$iterator, objectsWithSameName$iterator.backingIterator.next_0()), 30);
        for (sceneObject$iterator = $iterator_4(new AbstractMap$1(objectsWithSameName.map_0)); sceneObject$iterator.val$outerIter2.hasNext();) {
          sceneObject = dynamicCast($next_7(sceneObject$iterator), 24);
          $add_21(results, sceneObject);
        }
      }
    }
    return results;
  }
   else {
    $severe_0(DBncLog, 'Getting objets of type: ' + type_0 + ' on current scene');
    results = $getScenesCurrentObjectsOfTypeNew(($clinit_SceneObjectDatabase() , currentScene_0).scenesData, type_0);
    return results;
  }
}

function getObjects(type_0, name_0, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase_newcore();
  var optionalResult, results, searchPool, t, t$iterator;
  name_0 = $trim(name_0.toLowerCase());
  if (name_0.indexOf('<') != -1) {
    results = new HashSet;
    new Present(checkNotNull(results));
    optionalResult = testSceneObjectReturningVariables(name_0, type_0, callingObject);
    $info_1(DBncLog, '(sceneoobject vars tested)');
    if (!!optionalResult && optionalResult.isPresent()) {
      return dynamicCast(optionalResult.get_1(), 41);
    }
    switch (type_0.ordinal) {
      case 3:
        results = getResultsOfDivVar(name_0, searchGlobal);
        break;
      case 1:
      case 2:
        results = getResultsOfLabelVar(name_0, searchGlobal);
        break;
      case 6:
        results = getResultsOfVectorVar(name_0, searchGlobal);
        break;
      case 4:
        results = getResultsOfInputVar(name_0, searchGlobal);
        break;
      case 5:
        results = getResultsOfIInventoryVar(name_0);
        break;
      case 0:
        results = getResultsOfSpriteVar(name_0);
        break;
      default:$info_1(DBncLog, 'type not recognised type:' + (type_0.name_0 != null?type_0.name_0:'' + type_0.ordinal));
    }
    if (!!results && results.map_0.size_1() != 0) {
      return results;
    }
    searchPool = getAllObjectsOfType(type_0, searchGlobal);
    results = getObjectsFromVariableNew(name_0, searchPool);
    if (!!results && results.map_0.size_1() > 0) {
      $info_1(DBncLog, 'specific variable check found results for:' + name_0 + ' global:' + searchGlobal);
      return results;
    }
     else if (results) {
      $warning_0(DBncLog, 'specific variable check found no results for:' + name_0 + ' global:' + searchGlobal);
      return results;
    }
    $info_1(DBncLog, 'No variable checks found at all for:' + name_0);
  }
   else {
    if (searchGlobal) {
      results = dynamicCast($get_6(object_database_table, type_0, name_0), 30).clone();
      return results;
    }
     else {
      searchPool = getAllObjectsOfType(type_0, false);
      results = new HashSet;
      for (t$iterator = $iterator_4(new AbstractMap$1(searchPool.map_0)); t$iterator.val$outerIter2.hasNext();) {
        t = dynamicCast($next_7(t$iterator), 147);
        $equalsIgnoreCase(t.getObjectsCurrentState_1().ObjectsName, name_0) && $add_21(results, t);
      }
      return results;
    }
  }
  return null;
}

function getObjectsFromVariableNew(name_0, searchWithinTheseObjects){
  var propertyString;
  name_0 = name_0.toLowerCase();
  if (searchWithinTheseObjects.map_0.size_1() == 0) {
    $info_1(DBncLog, 'No objects in search list so returning a zero length set');
    return searchWithinTheseObjects;
  }
  if ($equalsIgnoreCase(name_0, '<allobjects>')) {
    return searchWithinTheseObjects;
  }
   else if ($equals_5(name_0.substr(0, 10), '<property:')) {
    propertyString = $substring_0(name_0, 10, name_0.length - 1);
    $info_1(DBncLog, 'Getting all Objects with property:' + propertyString + ' new method');
    return getObjectsWithPropertyNEW(propertyString, searchWithinTheseObjects);
  }
  return null;
}

function getObjectsWithPropertyNEW(propertyString, searchThese){
  var array, properties, query, queryResults, results, results0, semanticQuery, resultNodes;
  if ($equals_5(propertyString.substr(0, 1), '"')) {
    query = $substring_0(propertyString, 0, propertyString.length - 1);
    $info_1(DBncLog, 'Getting all Objects with semantic query:' + query + '(slower then other GetObject functions)');
    propertyString = $substring_0(propertyString, 1, propertyString.length - 1);
    queryResults = ($info_1(DBncLog, 'creating semantic query from:' + propertyString) , semanticQuery = ($clinit_Query() , createQuerySafely(propertyString)) , resultNodes = processQueryNOW(semanticQuery, ($clinit_Boolean() , $clinit_Boolean() , FALSE_2)) , new HashSet_1(resultNodes));
    array = dynamicCast($toArray(queryResults, initDim(Lcom_darkflame_client_semantic_SSSNode_2_classLit, $intern_55, 55, queryResults.map_0.size_1(), 0, 1)), 179);
    results0 = getObjectsWithThesePropertys_NEW(searchThese, array);
    searchThese.retainAll(results0);
    return searchThese;
  }
  properties = $split_0(propertyString, '\\|\\|', 0);
  $info_1(DBncLog, 'looking for ' + properties.length + ' properties.');
  $info_1(DBncLog, 'first property is ' + properties[0]);
  results = getObjectsWithThesePropertys_NEW_0(searchThese, properties);
  $info_1(DBncLog, 'found ' + results.map_0.size_1() + ' objects with any of those properties.');
  return results;
}

function getObjectsWithThesePropertys_NEW(searchThese, properties){
  var property, property$index, property$max, results, so, so$iterator;
  results = new HashSet;
  for (so$iterator = $iterator_4(new AbstractMap$1(searchThese.map_0)); so$iterator.val$outerIter2.hasNext();) {
    so = dynamicCast($next_7(so$iterator), 147);
    for (property$index = 0 , property$max = properties.length; property$index < property$max; ++property$index) {
      property = properties[property$index];
      so.hasProperty(property) && $add_21(results, so);
    }
  }
  return results;
}

function getObjectsWithThesePropertys_NEW_0(searchThese, properties){
  var property, property$index, property$max, results, so, so$iterator;
  results = new HashSet;
  for (so$iterator = $iterator_4(new AbstractMap$1(searchThese.map_0)); so$iterator.val$outerIter2.hasNext();) {
    so = dynamicCast($next_7(so$iterator), 147);
    for (property$index = 0 , property$max = properties.length; property$index < property$max; ++property$index) {
      property = properties[property$index];
      so.hasProperty_0(property) && $add_21(results, so);
    }
  }
  return results;
}

function getResultsOfDivVar(name_0, searchGlobal){
  var results;
  if ($equalsIgnoreCase(name_0, '<LASTDIVUPDATED>')) {
    results = new HashSet;
    $add_21(results, ($clinit_SceneObjectDatabase() , lastDivObjectUpdated));
    return results;
  }
   else if ($equalsIgnoreCase(name_0, '<ALLDIVOBJECTS>')) {
    $info_1(DBncLog, 'returning all div objects');
    return getAllObjectsOfType(($clinit_SceneObjectType() , Div), searchGlobal);
  }
  return null;
}

function getResultsOfIInventoryVar(name_0){
  var results;
  if ($equalsIgnoreCase(name_0, '<LASTINVENTORYITEM>')) {
    if (!($clinit_SceneObjectDatabase() , lastInventoryObjectClickedOn)) {
      $info_1(DBncLog, 'LASTINVENTORYITEM was asked for, but its not set (null) so we can only return null ');
      return null;
    }
    results = new HashSet;
    $add_21(results, lastInventoryObjectClickedOn);
    return results;
  }
  return null;
}

function getResultsOfInputVar(name_0, searchGlobal){
  var results;
  if ($equalsIgnoreCase(name_0, '<LASTINPUTUPDATED>')) {
    results = new HashSet;
    $add_21(results, ($clinit_SceneObjectDatabase() , lastInputObjectUpdated));
    return results;
  }
   else if ($equalsIgnoreCase(name_0, '<ALLINPUTOBJECTS>')) {
    $info_1(DBncLog, 'returning all label objects');
    return getAllObjectsOfType(($clinit_SceneObjectType() , Input_0), searchGlobal);
  }
  return null;
}

function getResultsOfLabelVar(name_0, searchGlobal){
  var results;
  if ($equalsIgnoreCase(name_0, '<LASTTEXTUPDATED>')) {
    results = new HashSet;
    $add_21(results, ($clinit_SceneObjectDatabase() , lastTextObjectUpdated));
    return results;
  }
   else if ($equalsIgnoreCase(name_0, '<ALLLABELOBJECTS>')) {
    $info_1(DBncLog, 'returning all label objects');
    return getAllObjectsOfType(($clinit_SceneObjectType() , Label_4), searchGlobal);
  }
  return null;
}

function getResultsOfSpriteVar(name_0){
  var results;
  if ($equalsIgnoreCase(name_0, '<LASTSPRITEITEM>')) {
    if (!($clinit_SceneObjectDatabase() , lastSpriteObjectUpdated)) {
      $info_1(DBncLog, 'LASTSPRITEITEM was asked for, but its not set (null) so we can only return a zero length set ');
      results = new HashSet;
      return results;
    }
    results = new HashSet;
    $add_21(results, lastSpriteObjectUpdated);
    $info_1(DBncLog, 'last scene item clicked :' + lastSpriteObjectUpdated.getObjectsCurrentState_2().ObjectsName);
    return results;
  }
  return null;
}

function getResultsOfVectorVar(name_0, searchGlobal){
  var results;
  if ($equalsIgnoreCase(name_0, '<LASTVECTORUPDATED>')) {
    results = new HashSet;
    $add_21(results, ($clinit_SceneObjectDatabase() , lastVectorObjectUpdated));
    return results;
  }
   else if ($equalsIgnoreCase(name_0, '<ALLVECTOROBJECTS>')) {
    $info_1(DBncLog, 'returning all label objects');
    return getAllObjectsOfType(($clinit_SceneObjectType() , Vector), searchGlobal);
  }
  return null;
}

function getSceneObject(name_0, limitToType, callingObject, searchGlobal){
  $clinit_SceneObjectDatabase_newcore();
  var optionalResult, results, searchPool;
  if (name_0.indexOf('<') != -1) {
    results = new HashSet;
    optionalResult = testSceneObjectReturningVariables(name_0, limitToType, callingObject);
    if (!!optionalResult && optionalResult.isPresent()) {
      return dynamicCast(optionalResult.get_1(), 41);
    }
    if (!limitToType) {
      results = getResultsOfDivVar(name_0, searchGlobal);
      if (!!results && !results.isEmpty_0()) {
        return results;
      }
      results = getResultsOfSpriteVar(name_0);
      if (!!results && !results.isEmpty_0()) {
        return results;
      }
      results = getResultsOfLabelVar(name_0, searchGlobal);
      if (!!results && !results.isEmpty_0()) {
        return results;
      }
      results = getResultsOfVectorVar(name_0, searchGlobal);
      if (!!results && !results.isEmpty_0()) {
        return results;
      }
      results = getResultsOfInputVar(name_0, searchGlobal);
      if (!!results && !results.isEmpty_0()) {
        return results;
      }
      results = getResultsOfIInventoryVar(name_0);
      if (!!results && !results.isEmpty_0()) {
        return results;
      }
    }
     else {
      switch (limitToType.ordinal) {
        case 3:
          results = getResultsOfDivVar(name_0, searchGlobal);
          break;
        case 0:
          results = getResultsOfSpriteVar(name_0);
          break;
        case 1:
        case 2:
          results = getResultsOfLabelVar(name_0, searchGlobal);
          break;
        case 6:
          results = getResultsOfVectorVar(name_0, searchGlobal);
          break;
        case 4:
          results = getResultsOfInputVar(name_0, searchGlobal);
          break;
        case 5:
          results = getResultsOfIInventoryVar(name_0);
          break;
        default:$info_1(DBncLog, 'type not recognised  type:' + (limitToType.name_0 != null?limitToType.name_0:'' + limitToType.ordinal));
      }
      if (!!results && !results.isEmpty_0()) {
        return results;
      }
    }
    $info_1(DBncLog, 'variable found, but requires all objects of type:' + limitToType + ' so gathering them first');
    searchPool = getAllObjectsOfType(limitToType, searchGlobal);
    results = getObjectsFromVariableNew(name_0, searchPool);
  }
   else {
    results = getSceneObject_novar(name_0, limitToType, searchGlobal);
  }
  return results;
}

function getSceneObject_novar(oname, limitToType, searchGlobal){
  var results, typesToCheck, typetocheck, typetocheck$index, typetocheck$max;
  oname = oname.toLowerCase();
  if (searchGlobal) {
    if (!limitToType) {
      typesToCheck = ($clinit_SceneObjectType() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectType_2_classLit, 1), $intern_1, 114, 0, [Sprite, DialogBox, Label_4, Div, Input_0, InventoryIcon, Vector]));
    }
     else {
      typesToCheck = initDim(Lcom_lostagain_Jam_SceneObjects_SceneObjectType_2_classLit, $intern_1, 114, 1, 0, 1);
      typesToCheck[1] = limitToType;
    }
    for (typetocheck$index = 0 , typetocheck$max = typesToCheck.length; typetocheck$index < typetocheck$max; ++typetocheck$index) {
      typetocheck = typesToCheck[typetocheck$index];
      results = dynamicCast($get_6(object_database_table, typetocheck, oname), 30);
      if (!!results && results.map_0.size_1() != 0) {
        return $clinit_Collections() , new Collections$UnmodifiableSet(results);
      }
    }
    $warning_0(DBncLog, 'no object found for (newdb):' + oname);
  }
   else {
    $info_1(DBncLog, 'scene specific search for objects not yet supported');
  }
  return null;
}

function getSingleSceneObject_novar(oname){
  var results;
  oname = oname.toLowerCase();
  results = getSceneObject_novar(oname, null, true);
  return !!results && !results.isEmpty_0()?dynamicCast(results.iterator().next_0(), 147):null;
}

function removeObjectFromAllLists(removeThis){
  $clinit_SceneObjectDatabase_newcore();
  var objectssharingname, objectstypes, type_0, type$iterator;
  objectstypes = removeThis.getObjectsCurrentState_1().objectsCapabilities;
  for (type$iterator = $iterator_4(new AbstractMap$1(objectstypes.map_0)); type$iterator.val$outerIter2.hasNext();) {
    type_0 = dynamicCast($next_7(type$iterator), 114);
    objectssharingname = dynamicCast($get_6(object_database_table, type_0, removeThis.getObjectsCurrentState_1().ObjectsName.toLowerCase()), 30);
    if (objectssharingname) {
      objectssharingname.map_0.remove_3(removeThis) != null;
      objectssharingname.map_0.size_1() == 0 && $remove_11(object_database_table, type_0, objectssharingname);
    }
  }
}

function testSceneObjectReturningVariables(name_0, limitToType, callingobject){
  var LASTCLICKEDSCREATOR, TOUCHER, assocatedObject, iitem, oname, resultobjects, so, so$iterator;
  resultobjects = new HashSet;
  switch (name_0.toUpperCase()) {
    case '<LASTSCENEOBJECT>':
      {
        if (!($clinit_SceneObjectDatabase() , lastSceneObjectUpdated)) {
          $info_1(DBncLog, 'LASTSCENEITEM was asked for, but its not set (null) so we can only return null ');
          return $clinit_Absent() , $clinit_Absent() , INSTANCE;
        }
        if (!limitToType || lastSceneObjectUpdated.getObjectsCurrentState_1().objectsPrimaryType == limitToType) {
          $add_21(resultobjects, lastSceneObjectUpdated);
          $info_1(DBncLog, 'last scene item Found :' + lastSceneObjectUpdated.objectsCurrentState_2.ObjectsName);
        }
      }

      return new Present(checkNotNull(resultobjects));
    case '<LASTCLICKEDON>':
      {
        if (!($clinit_SceneObjectDatabase() , lastSceneObjectClicked)) {
          $info_1(DBncLog, 'LASTCLICKEDON was asked for, but its not set (null) so we can only return null ');
          return $clinit_Absent() , $clinit_Absent() , INSTANCE;
        }
        if (!limitToType || lastSceneObjectClicked.getObjectsCurrentState_1().objectsPrimaryType == limitToType) {
          $add_21(resultobjects, lastSceneObjectClicked);
          $info_1(DBncLog, 'last scene item Found :' + lastSceneObjectClicked.objectsCurrentState_2.ObjectsName);
        }
        return new Present(checkNotNull(resultobjects));
      }

    case '<CALLINGOBJECT>':
      if (!callingobject) {
        $info_1(DBncLog, 'There is no calling object');
        return $clinit_Absent() , $clinit_Absent() , INSTANCE;
      }

      if (!limitToType || callingobject.getObjectsCurrentState_1().objectsPrimaryType == limitToType) {
        $add_21(resultobjects, callingobject);
        $info_1(DBncLog, 'Returning ' + callingobject.objectsCurrentState_2.ObjectsName + 'as calling object');
      }
       else {
        return $clinit_Absent() , $clinit_Absent() , INSTANCE;
      }

      return new Present(checkNotNull(resultobjects));
    case '<HELDITEM>':
      iitem = ($clinit_InventoryPanelCore() , currentlyHeldItem);
      if (!iitem) {
        $info_1(DBncLog, 'no held item. Maybe the keepheld setting on the item is wrong?');
        return $clinit_Absent() , $clinit_Absent() , INSTANCE;
      }

      if (iitem.associatedSceneObject != null) {
        $info_1(DBncLog, 'an associated sprite object is set for this inventory item, so we return that instead');
        oname = iitem.associatedSceneObject;
        assocatedObject = getSingleSceneObject_novar(oname);
        if (!assocatedObject) {
          $severe_0(DBncLog, 'no assocated item called:' + oname + ' found.');
          return $clinit_Absent() , $clinit_Absent() , INSTANCE;
        }
        (!limitToType || assocatedObject.getObjectsCurrentState_1().objectsPrimaryType == limitToType) && $add_21(resultobjects, assocatedObject);
        return new Present(checkNotNull(resultobjects));
      }
       else {
        $info_1(DBncLog, 'associatedSceneObject is null so we return the iventory item directly');
        (!limitToType || iitem.objectsCurrentState_0.objectsPrimaryType == limitToType) && $add_21(resultobjects, iitem);
        return new Present(checkNotNull(resultobjects));
      }

    case '<LASTCLICKEDSCREATOR>':
      LASTCLICKEDSCREATOR = ($clinit_SceneObjectDatabase() , lastSceneObjectUpdated).getObjectsCurrentState_1().spawningObject;
      (!limitToType || LASTCLICKEDSCREATOR.getObjectsCurrentState_1().objectsPrimaryType == limitToType) && $add_21(resultobjects, LASTCLICKEDSCREATOR);
      return new Present(checkNotNull(resultobjects));
    case '<TOUCHER>':
      TOUCHER = ($clinit_SceneObjectDatabase() , lastObjectThatTouchedAnother);
      (!limitToType || TOUCHER.getObjectsCurrentState_1().objectsPrimaryType == limitToType) && $add_21(resultobjects, TOUCHER);
      $info_1(DBncLog, 'got touching object ' + TOUCHER.getObjectsCurrentState_1().ObjectsName);
      return new Present(checkNotNull(resultobjects));
    case '<CHILDREN>':
      $info_1(DBncLog, 'returning objects <CHILDREN>:' + callingobject.relativeObjects.map_0.size_1());
      for (so$iterator = $iterator_4(new AbstractMap$1(callingobject.relativeObjects.map_0)); so$iterator.val$outerIter2.hasNext();) {
        so = dynamicCast($next_7(so$iterator), 24);
        (!limitToType || so.getObjectsCurrentState_1().objectsPrimaryType == limitToType) && $add_21(resultobjects, so);
      }

      $info_1(DBncLog, 'number of <CHILDREN>=' + resultobjects.map_0.size_1());
      return new Present(checkNotNull(resultobjects));
  }
  return null;
}

var DBncLog, object_database_table;
function $add_21(this$static, o){
  var old;
  old = this$static.map_0.put(o, this$static);
  return old == null;
}

function $contains_0(this$static, o){
  return this$static.map_0.containsKey(o);
}

function $remove_21(this$static, o){
  return this$static.map_0.remove_3(o) != null;
}

function HashSet(){
  this.map_0 = new HashMap;
}

function HashSet_0(initialCapacity){
  this.map_0 = new HashMap_0(initialCapacity);
}

function HashSet_1(c){
  this.map_0 = new HashMap_0(c.size_1());
  $addAll(this, c);
}

function HashSet_2(map_0){
  this.map_0 = map_0;
}

defineClass(30, 1483, $intern_122, HashSet, HashSet_0, HashSet_1);
_.add_0 = function add_30(o){
  return $add_21(this, o);
}
;
_.clear_1 = function clear_32(){
  this.map_0.clear_1();
}
;
_.clone = function clone_1(){
  return new HashSet_1(this);
}
;
_.contains_0 = function contains_23(o){
  return $contains_0(this, o);
}
;
_.isEmpty_0 = function isEmpty_14(){
  return this.map_0.size_1() == 0;
}
;
_.iterator = function iterator_37(){
  return $iterator_4(new AbstractMap$1(this.map_0));
}
;
_.remove = function remove_51(o){
  return $remove_21(this, o);
}
;
_.size_1 = function size_25(){
  return this.map_0.size_1();
}
;
_.toString$ = function toString_71(){
  return $toString_0(new AbstractMap$1(this.map_0));
}
;
var Ljava_util_HashSet_2_classLit = createForClass('java.util', 'HashSet', 30, Ljava_util_AbstractSet_2_classLit);
function $clinit_SceneObjectSet(){
  $clinit_SceneObjectSet = emptyMethod;
  Log_64 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.SceneObjectSet'));
}

function $cacheObjectSet(this$static){
  var objectname, objectname$iterator, sceneObject;
  this$static.map_0.clear_1();
  if (this$static.tempObjectnames) {
    for (objectname$iterator = $iterator_4(new AbstractMap$1(this$static.tempObjectnames.map_0)); objectname$iterator.val$outerIter2.hasNext();) {
      objectname = dynamicCastToString($next_7(objectname$iterator));
      sceneObject = getSingleSceneObjectNEW(objectname, null, true);
      $add_21(this$static, sceneObject);
    }
    this$static.tempObjectnames.map_0.clear_1();
  }
}

function $fromNameCollection(this$static, replacements){
  var name_0, name$index, name$max;
  !this$static.tempObjectnames && (this$static.tempObjectnames = new HashSet);
  this$static.tempObjectnames.map_0.clear_1();
  for (name$index = 0 , name$max = replacements.length; name$index < name$max; ++name$index) {
    name_0 = replacements[name$index];
    $add_21(this$static.tempObjectnames, name_0);
  }
}

function $fromSerialisedString(this$static, objectnames){
  var string, string$index, string$max, touchingArray;
  if (objectnames.length) {
    !this$static.tempObjectnames && (this$static.tempObjectnames = new HashSet);
    this$static.tempObjectnames.map_0.clear_1();
    objectnames = $substring_0(objectnames, 1, objectnames.length - 1);
    $info_1(Log_64, 'touching = ' + objectnames);
    touchingArray = $split_0(objectnames, ',', 0);
    if (touchingArray.length > 0) {
      for (string$index = 0 , string$max = touchingArray.length; string$index < string$max; ++string$index) {
        string = touchingArray[string$index];
        $info_1(Log_64, 'touch = ' + $trim(string));
        $add_21(this$static.tempObjectnames, $trim(string));
      }
    }
  }
}

function $getNames(this$static){
  var objectsnames, so, so$iterator;
  objectsnames = new ArrayList;
  for (so$iterator = $iterator_4(new AbstractMap$1(this$static.map_0)); so$iterator.val$outerIter2.hasNext();) {
    so = dynamicCast($next_7(so$iterator), 24);
    objectsnames.add_0(so.objectsCurrentState_2.ObjectsName);
  }
  return objectsnames;
}

function $toSerialisedString(this$static){
  var first, serialised, so, so$iterator;
  serialised = '[';
  first = true;
  for (so$iterator = $iterator_4(new AbstractMap$1(this$static.map_0)); so$iterator.val$outerIter2.hasNext();) {
    so = dynamicCast($next_7(so$iterator), 24);
    if (first) {
      first = false;
      serialised = serialised + so.objectsCurrentState_2.ObjectsName;
    }
     else {
      serialised = serialised + ',' + so.objectsCurrentState_2.ObjectsName;
    }
  }
  serialised = serialised + ']';
  return serialised;
}

function SceneObjectSet(){
  $clinit_SceneObjectSet();
  HashSet.call(this);
}

function SceneObjectSet_0(touching){
  $clinit_SceneObjectSet();
  HashSet_1.call(this, touching);
}

defineClass(289, 30, {289:1, 3:1, 25:1, 30:1, 41:1}, SceneObjectSet, SceneObjectSet_0);
var Log_64;
var Lcom_lostagain_Jam_SceneObjects_SceneObjectSet_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObjectSet', 289, Ljava_util_HashSet_2_classLit);
function $clinit_SceneObjectState$SceneObjectParamTypes(){
  $clinit_SceneObjectState$SceneObjectParamTypes = emptyMethod;
  minquality = new SceneObjectState$SceneObjectParamTypes('minquality', 0);
  name_2 = new SceneObjectState$SceneObjectParamTypes('name', 1);
  title_1 = new SceneObjectState$SceneObjectParamTypes('title', 2);
  cssname_0 = new SceneObjectState$SceneObjectParamTypes('cssname', 3);
  boxcss = new SceneObjectState$SceneObjectParamTypes('boxcss', 4);
  background = new SceneObjectState$SceneObjectParamTypes('background', 5);
  variables = new SceneObjectState$SceneObjectParamTypes('variables', 6);
  properties_0 = new SceneObjectState$SceneObjectParamTypes('properties', 7);
  touching_0 = new SceneObjectState$SceneObjectParamTypes('touching', 8);
  type_1 = new SceneObjectState$SceneObjectParamTypes('type', 9);
  fakeheight = new SceneObjectState$SceneObjectParamTypes('fakeheight', 10);
  hasglufile = new SceneObjectState$SceneObjectParamTypes('hasglufile', 11);
  hasmovementfile = new SceneObjectState$SceneObjectParamTypes('hasmovementfile', 12);
  pin = new SceneObjectState$SceneObjectParamTypes('pin', 13);
  actionoveride = new SceneObjectState$SceneObjectParamTypes('actionoveride', 14);
  pointertransparent = new SceneObjectState$SceneObjectParamTypes('pointertransparent', 15);
  zindex_0 = new SceneObjectState$SceneObjectParamTypes('zindex', 16);
  linkedzindex = new SceneObjectState$SceneObjectParamTypes('linkedzindex', 17);
  located = new SceneObjectState$SceneObjectParamTypes('located', 18);
  visibility = new SceneObjectState$SceneObjectParamTypes('visibility', 19);
  collisiontype = new SceneObjectState$SceneObjectParamTypes('collisiontype', 20);
  pathfinding = new SceneObjectState$SceneObjectParamTypes('pathfinding', 21);
  propagatevisibility = new SceneObjectState$SceneObjectParamTypes('propagatevisibility', 22);
  captureinteractions = new SceneObjectState$SceneObjectParamTypes('captureinteractions', 23);
}

function SceneObjectState$SceneObjectParamTypes(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_35(name_0){
  $clinit_SceneObjectState$SceneObjectParamTypes();
  return valueOf(($clinit_SceneObjectState$SceneObjectParamTypes$Map() , $MAP_33), name_0);
}

function values_41(){
  $clinit_SceneObjectState$SceneObjectParamTypes();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectState$SceneObjectParamTypes_2_classLit, 1), $intern_1, 77, 0, [minquality, name_2, title_1, cssname_0, boxcss, background, variables, properties_0, touching_0, type_1, fakeheight, hasglufile, hasmovementfile, pin, actionoveride, pointertransparent, zindex_0, linkedzindex, located, visibility, collisiontype, pathfinding, propagatevisibility, captureinteractions]);
}

defineClass(77, 9, {77:1, 3:1, 21:1, 9:1}, SceneObjectState$SceneObjectParamTypes);
var actionoveride, background, boxcss, captureinteractions, collisiontype, cssname_0, fakeheight, hasglufile, hasmovementfile, linkedzindex, located, minquality, name_2, pathfinding, pin, pointertransparent, propagatevisibility, properties_0, title_1, touching_0, type_1, variables, visibility, zindex_0;
var Lcom_lostagain_Jam_SceneObjects_SceneObjectState$SceneObjectParamTypes_2_classLit = createForEnum('com.lostagain.Jam.SceneObjects', 'SceneObjectState/SceneObjectParamTypes', 77, Ljava_lang_Enum_2_classLit, values_41, valueOf_35);
function $clinit_SceneObjectState$SceneObjectParamTypes$Map(){
  $clinit_SceneObjectState$SceneObjectParamTypes$Map = emptyMethod;
  $MAP_33 = createValueOfMap(values_41());
}

var $MAP_33;
function $clinit_SceneObjectState$TrueFalseOrDefault(){
  $clinit_SceneObjectState$TrueFalseOrDefault = emptyMethod;
  TRUE_2 = new SceneObjectState$TrueFalseOrDefault('TRUE', 0);
  FALSE_1 = new SceneObjectState$TrueFalseOrDefault('FALSE', 1);
  DEFAULT_1 = new SceneObjectState$TrueFalseOrDefault('DEFAULT', 2);
}

function SceneObjectState$TrueFalseOrDefault(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_36(name_0){
  $clinit_SceneObjectState$TrueFalseOrDefault();
  return valueOf(($clinit_SceneObjectState$TrueFalseOrDefault$Map() , $MAP_34), name_0);
}

function values_42(){
  $clinit_SceneObjectState$TrueFalseOrDefault();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectState$TrueFalseOrDefault_2_classLit, 1), $intern_1, 262, 0, [TRUE_2, FALSE_1, DEFAULT_1]);
}

defineClass(262, 9, {262:1, 3:1, 21:1, 9:1}, SceneObjectState$TrueFalseOrDefault);
var DEFAULT_1, FALSE_1, TRUE_2;
var Lcom_lostagain_Jam_SceneObjects_SceneObjectState$TrueFalseOrDefault_2_classLit = createForEnum('com.lostagain.Jam.SceneObjects', 'SceneObjectState/TrueFalseOrDefault', 262, Ljava_lang_Enum_2_classLit, values_42, valueOf_36);
function $clinit_SceneObjectState$TrueFalseOrDefault$Map(){
  $clinit_SceneObjectState$TrueFalseOrDefault$Map = emptyMethod;
  $MAP_34 = createValueOfMap(($clinit_SceneObjectState$TrueFalseOrDefault() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectState$TrueFalseOrDefault_2_classLit, 1), $intern_1, 262, 0, [TRUE_2, FALSE_1, DEFAULT_1])));
}

var $MAP_34;
function $clinit_SceneObjectState$pathfindingMode(){
  $clinit_SceneObjectState$pathfindingMode = emptyMethod;
  normal = new SceneObjectState$pathfindingMode('normal', 0);
  strict = new SceneObjectState$pathfindingMode('strict', 1);
}

function SceneObjectState$pathfindingMode(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_37(name_0){
  $clinit_SceneObjectState$pathfindingMode();
  return valueOf(($clinit_SceneObjectState$pathfindingMode$Map() , $MAP_35), name_0);
}

function values_43(){
  $clinit_SceneObjectState$pathfindingMode();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectState$pathfindingMode_2_classLit, 1), $intern_1, 263, 0, [normal, strict]);
}

defineClass(263, 9, {263:1, 3:1, 21:1, 9:1}, SceneObjectState$pathfindingMode);
var normal, strict;
var Lcom_lostagain_Jam_SceneObjects_SceneObjectState$pathfindingMode_2_classLit = createForEnum('com.lostagain.Jam.SceneObjects', 'SceneObjectState/pathfindingMode', 263, Ljava_lang_Enum_2_classLit, values_43, valueOf_37);
function $clinit_SceneObjectState$pathfindingMode$Map(){
  $clinit_SceneObjectState$pathfindingMode$Map = emptyMethod;
  $MAP_35 = createValueOfMap(($clinit_SceneObjectState$pathfindingMode() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectState$pathfindingMode_2_classLit, 1), $intern_1, 263, 0, [normal, strict])));
}

var $MAP_35;
function $clinit_SceneObjectType(){
  $clinit_SceneObjectType = emptyMethod;
  Sprite = new SceneObjectType('Sprite', 0);
  DialogBox = new SceneObjectType('DialogBox', 1);
  Label_4 = new SceneObjectType('Label', 2);
  Div = new SceneObjectType('Div', 3);
  Input_0 = new SceneObjectType('Input', 4);
  InventoryIcon = new SceneObjectType('InventoryIcon', 5);
  Vector = new SceneObjectType('Vector', 6);
}

function SceneObjectType(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_38(name_0){
  $clinit_SceneObjectType();
  return valueOf(($clinit_SceneObjectType$Map() , $MAP_36), name_0);
}

function values_44(){
  $clinit_SceneObjectType();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectType_2_classLit, 1), $intern_1, 114, 0, [Sprite, DialogBox, Label_4, Div, Input_0, InventoryIcon, Vector]);
}

defineClass(114, 9, {114:1, 3:1, 21:1, 9:1}, SceneObjectType);
var DialogBox, Div, Input_0, InventoryIcon, Label_4, Sprite, Vector;
var Lcom_lostagain_Jam_SceneObjects_SceneObjectType_2_classLit = createForEnum('com.lostagain.Jam.SceneObjects', 'SceneObjectType', 114, Ljava_lang_Enum_2_classLit, values_44, valueOf_38);
function $clinit_SceneObjectType$Map(){
  $clinit_SceneObjectType$Map = emptyMethod;
  $MAP_36 = createValueOfMap(($clinit_SceneObjectType() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_SceneObjects_SceneObjectType_2_classLit, 1), $intern_1, 114, 0, [Sprite, DialogBox, Label_4, Div, Input_0, InventoryIcon, Vector])));
}

var $MAP_36;
function $clinit_SceneVectorObjectState(){
  $clinit_SceneVectorObjectState = emptyMethod;
  $clinit_SceneDivObjectState();
  Log_65 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneVectorObjectData'));
}

function $$init_26(this$static){
  this$static.objectsVectorSourceURL = '';
}

function $assignObjectTypeSpecificParameters(this$static, itemslines){
  var currentline, currentlinenum, param, value_0;
  currentlinenum = 0;
  while (currentlinenum < itemslines.length) {
    currentline = $trim(itemslines[currentlinenum]);
    ++currentlinenum;
    if (currentline.length < 2 || $equals_5(currentline.substr(0, 2), '//')) {
      continue;
    }
    $info_1(Log_65, 'Processing line:' + currentline);
    param = $trim($split_0(currentline, '=', 2)[0]);
    value_0 = $trim($split_0(currentline, '=', 2)[1]);
    if ($equalsIgnoreCase(param, 'DefaultURL')) {
      this$static.objectsVectorSourceURL = value_0;
      $info_1(Log_65, 'Objects ObjectsCurrentURL set to:' + this$static.objectsVectorSourceURL);
    }
    if ($equalsIgnoreCase(param, 'VectorString')) {
      this$static.objectsVectorString = value_0;
      $info_1(Log_65, 'Objects ObjectsCurrentText set to:' + this$static.objectsVectorString);
    }
  }
}

function SceneVectorObjectState(state, VectorString, objectsCurrentURL){
  SceneDivObjectState_0.call(this, state);
  $$init_26(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Vector));
  this.objectsVectorString = VectorString;
  this.objectsVectorSourceURL = objectsCurrentURL;
}

function SceneVectorObjectState_0(state){
  $clinit_SceneVectorObjectState();
  SceneDivObjectState_1.call(this, state);
  $$init_26(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Vector));
  this.objectsVectorString = 'L 0,0 10,0 10,10 0,10 s';
  this.objectsVectorSourceURL = null;
}

function SceneVectorObjectState_1(serialised){
  $clinit_SceneVectorObjectState();
  SceneDivObjectState.call(this);
  $$init_26(this);
  $setObjectsPrimaryType(this, ($clinit_SceneObjectType() , Vector));
  $deserialise(this, serialised);
}

defineClass(144, 78, {78:1, 112:1, 144:1}, SceneVectorObjectState, SceneVectorObjectState_0, SceneVectorObjectState_1);
_.assignObjectTypeSpecificParametersNew = function assignObjectTypeSpecificParametersNew_4(objectsParamatersFromFile2){
  $assignObjectTypeSpecificParametersNew(this, objectsParamatersFromFile2);
  $info_1(Log_65, 'SETTING UP VECTOR SPECIFIC PARAMETERS');
  $assignObjectTypeSpecificParameters(this, objectsParamatersFromFile2);
}
;
_.copy = function copy_6(){
  var genericCopy;
  return genericCopy = $copy_2(this) , new SceneVectorObjectState(genericCopy, this.objectsVectorString, this.objectsVectorSourceURL);
}
;
_.getAllFieldsAsArrayList = function getAllFieldsAsArrayList_5(){
  var fieldList, vectorStringWithEscapedNewlines;
  fieldList = $getAllFieldsAsArrayList_1(this);
  $info_1(Log_65, 'getting vector specific fields. There are two: vector string, objectsVectorSourceURL');
  vectorStringWithEscapedNewlines = this.objectsVectorString;
  vectorStringWithEscapedNewlines == null && $info_1(Log_65, 'Ffffffffffff 0rz');
  vectorStringWithEscapedNewlines.indexOf('\n') != -1 && (vectorStringWithEscapedNewlines = $replaceAll(this.objectsVectorString, '\n', '_ESCAPENL_'));
  fieldList.add_0(vectorStringWithEscapedNewlines);
  fieldList.add_0(this.objectsVectorSourceURL);
  $info_1(Log_65, 'got vector specific fields');
  return fieldList;
}
;
_.loadParameters = function loadParameters_4(incomingdata){
  $loadParameters_1(this, incomingdata);
  this.objectsVectorString = $replaceAll(dynamicCastToString(incomingdata.next_0()), '_ESCAPENL_', '\n');
  this.objectsVectorSourceURL = dynamicCastToString(incomingdata.next_0());
}
;
var Log_65;
var Lcom_lostagain_Jam_SceneObjects_SceneVectorObjectState_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneVectorObjectState', 144, Lcom_lostagain_Jam_SceneObjects_SceneDivObjectState_2_classLit);
function $AddScore(this$static, AddThis){
  this$static.CurrentScore = this$static.CurrentScore + AddThis;
  $UpdateScoreVisuals(this$static);
}

function $SetScore(this$static, newscore){
  this$static.CurrentScore = newscore;
  $UpdateScoreVisuals(this$static);
}

defineClass(776, 1, {});
_.CurrentScore = 0;
var ScoresAwarded = '';
var Lcom_lostagain_Jam_ScoreControll_2_classLit = createForClass('com.lostagain.Jam', 'ScoreControll', 776, Ljava_lang_Object_2_classLit);
defineClass(1493, 1, {});
var Lcom_lostagain_Jam_ServerOptionsCore_2_classLit = createForClass('com.lostagain.Jam', 'ServerOptionsCore', 1493, Ljava_lang_Object_2_classLit);
function $clinit_VariableSet(){
  $clinit_VariableSet = emptyMethod;
  Log_66 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAMcore.VariableSet'));
}

function $addToVariable_0(this$static, name_0, Add){
  var currentVar, val;
  $info_1(Log_66, 'adding  variable ' + name_0 + ' by ' + Add);
  currentVar = dynamicCastToString(name_0 == null?getEntryValueOrNull($getEntry(this$static.hashCodeMap, null)):this$static.stringMap.get_3(name_0));
  if (currentVar == null) {
    $info_1(Log_66, 'variable ' + name_0 + ' not found, so creating it with value 0');
    $setVariable(this$static, name_0, '0');
    currentVar = '0';
  }
  val = __parseAndValidateInt(currentVar, 10);
  name_0 == null?$put_2(this$static.hashCodeMap, null, '' + (val + Add)):this$static.stringMap.put_0(name_0, '' + (val + Add));
  $info_1(Log_66, ' variable ' + name_0 + ' is now  ' + dynamicCastToString(name_0 == null?getEntryValueOrNull($getEntry(this$static.hashCodeMap, null)):this$static.stringMap.get_3(name_0)));
}

function $clone(this$static){
  $info_1(Log_66, 'cloning set with ' + this$static.size_0 + ' entries');
  return new VariableSet_0(this$static);
}

function $serialise_1(this$static){
  var currentItemValue, data_0, keyset, string, string$iterator;
  data_0 = '';
  keyset = new AbstractMap$1(this$static);
  for (string$iterator = $iterator_4(keyset); string$iterator.val$outerIter2.hasNext();) {
    string = dynamicCastToString($next_7(string$iterator));
    currentItemValue = dynamicCastToString(string == null?getEntryValueOrNull($getEntry(this$static.hashCodeMap, null)):this$static.stringMap.get_3(string));
    data_0 = data_0 + string + '=' + currentItemValue + '&';
  }
  return data_0;
}

function $setVariable(this$static, name_0, value_0){
  $info_1(Log_66, 'setting variable ' + name_0 + ' to ' + value_0);
  if (!name_0.length) {
    $warning_0(Log_66, 'attempting to create a variable with a blank name. It was going to be assigned value:' + value_0);
    return;
  }
  !value_0.length?$putStringValue(this$static, $trim(name_0), ''):$putStringValue(this$static, $trim(name_0), $trim(value_0));
}

function $testValue(this$static, name_0, equals){
  var currentVar, testVal, val;
  currentVar = dynamicCastToString(name_0 == null?getEntryValueOrNull($getEntry(this$static.hashCodeMap, null)):this$static.stringMap.get_3(name_0));
  if (currentVar == null) {
    $warning_0(Log_66, 'variable ' + name_0 + ' not found');
    return false;
  }
  if ($equalsIgnoreCase(currentVar, equals)) {
    return true;
  }
  try {
    val = __parseAndValidateInt(currentVar, 10);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 105)) {
      $info_1(Log_66, 'variable ' + currentVar + ' is not a number');
      return false;
    }
     else 
      throw unwrap($e0);
  }
  if ($equals_5(equals.substr(0, 1), '>')) {
    equals = __substr(equals, 1, equals.length - 1);
    testVal = __parseAndValidateInt(equals, 10);
    return val > testVal;
  }
  if ($equals_5(equals.substr(0, 1), '<')) {
    equals = __substr(equals, 1, equals.length - 1);
    testVal = __parseAndValidateInt(equals, 10);
    return val < testVal;
  }
  return false;
}

function VariableSet(){
  $clinit_VariableSet();
  HashMap.call(this);
}

function VariableSet_0(copythisone){
  $clinit_VariableSet();
  $reset(this);
  $putAll_0(this, copythisone);
}

function VariableSet_1(newobjectsVaaribles){
  $clinit_VariableSet();
  var setting, setting$index, setting$max, varname, varstrings, varvalue;
  HashMap.call(this);
  varstrings = $split_0(newobjectsVaaribles, ',', 0);
  $info_1(Log_66, 'setting variables  = ' + toString__Ljava_lang_String___devirtual$(varstrings));
  for (setting$index = 0 , setting$max = varstrings.length; setting$index < setting$max; ++setting$index) {
    setting = varstrings[setting$index];
    $info_1(Log_66, 'setting  to ' + setting);
    if (!setting.length) {
      continue;
    }
    if (setting.indexOf('=') == -1 && setting.indexOf(':') == -1) {
      $warning_0(Log_66, 'variable string did not have equals:' + setting + ' so we are ignoring it, sorry');
      continue;
    }
    varname = $split_0(setting, '=|:', 2)[0];
    varvalue = $split_0(setting, '=|:', 2)[1];
    $setVariable(this, varname, varvalue);
  }
}

defineClass(300, 32, $intern_120, VariableSet, VariableSet_0, VariableSet_1);
_.toString$ = function toString_72(){
  return $replace_0($serialise_1(this), '&', ',');
}
;
var Log_66;
var Lcom_lostagain_Jam_VariableSet_2_classLit = createForClass('com.lostagain.Jam', 'VariableSet', 300, Ljava_util_HashMap_2_classLit);
function $clinit_JamAudioController(){
  $clinit_JamAudioController = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'JAM.JamAudioController');
}

function $playDefaultSound(type_0){
  switch (type_0.ordinal) {
    case 0:
      $playAudioTrack_implementation(KEY_BEEP, 100, false, ($clinit_JamAudioController$AudioType() , SoundEffect), -1);
      break;
    case 1:
      $playAudioTrack_implementation(SPACEKEY_BEEP, 100, false, ($clinit_JamAudioController$AudioType() , SoundEffect), -1);
      break;
    case 2:
      $playAudioTrack_implementation(MESSAGE_KEY_BEEP, 100, false, ($clinit_JamAudioController$AudioType() , SoundEffect), -1);
      break;
    case 3:
      $playAudioTrack_implementation(MESSAGE_SPACEKEY_BEEP, 100, false, ($clinit_JamAudioController$AudioType() , SoundEffect), -1);
  }
}

function setDefaultSoundTrack(soundID, trackName){
  $clinit_JamAudioController();
  var soundtype;
  soundtype = ($clinit_JamAudioController$DefaultSound() , dynamicCast(valueOf(($clinit_JamAudioController$DefaultSound$Map() , $MAP_38), soundID), 212));
  switch (soundtype.ordinal) {
    case 0:
      KEY_BEEP = trackName;
      break;
    case 1:
      SPACEKEY_BEEP = trackName;
      break;
    case 2:
      MESSAGE_KEY_BEEP = trackName;
      setFeedbackKeyBeep(MESSAGE_KEY_BEEP);
      break;
    case 3:
      MESSAGE_SPACEKEY_BEEP = trackName;
      setFeedbackSpaceKeyBeep(MESSAGE_KEY_BEEP);
  }
}

defineClass(150, 1, {150:1});
var KEY_BEEP = 'CC2keybeep.mp3', MESSAGE_KEY_BEEP = 'CC2keybeep.mp3', MESSAGE_SPACEKEY_BEEP = 'CC2spacebeep.mp3', SPACEKEY_BEEP = 'CC2spacebeep.mp3';
var Lcom_lostagain_Jam_audio_JamAudioController_2_classLit = createForClass('com.lostagain.Jam.audio', 'JamAudioController', 150, Ljava_lang_Object_2_classLit);
function $clinit_JamAudioController$AudioType(){
  $clinit_JamAudioController$AudioType = emptyMethod;
  Music = new JamAudioController$AudioType('Music', 0);
  SoundEffect = new JamAudioController$AudioType('SoundEffect', 1);
}

function JamAudioController$AudioType(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_39(name_0){
  $clinit_JamAudioController$AudioType();
  return valueOf(($clinit_JamAudioController$AudioType$Map() , $MAP_37), name_0);
}

function values_45(){
  $clinit_JamAudioController$AudioType();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_audio_JamAudioController$AudioType_2_classLit, 1), $intern_1, 286, 0, [Music, SoundEffect]);
}

defineClass(286, 9, {286:1, 3:1, 21:1, 9:1}, JamAudioController$AudioType);
var Music, SoundEffect;
var Lcom_lostagain_Jam_audio_JamAudioController$AudioType_2_classLit = createForEnum('com.lostagain.Jam.audio', 'JamAudioController/AudioType', 286, Ljava_lang_Enum_2_classLit, values_45, valueOf_39);
function $clinit_JamAudioController$AudioType$Map(){
  $clinit_JamAudioController$AudioType$Map = emptyMethod;
  $MAP_37 = createValueOfMap(($clinit_JamAudioController$AudioType() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_audio_JamAudioController$AudioType_2_classLit, 1), $intern_1, 286, 0, [Music, SoundEffect])));
}

var $MAP_37;
function $clinit_JamAudioController$DefaultSound(){
  $clinit_JamAudioController$DefaultSound = emptyMethod;
  KeyBeep = new JamAudioController$DefaultSound('KeyBeep', 0);
  SpaceBeep = new JamAudioController$DefaultSound('SpaceBeep', 1);
  MessageKeyBeep = new JamAudioController$DefaultSound('MessageKeyBeep', 2);
  MessageSpaceBeep = new JamAudioController$DefaultSound('MessageSpaceBeep', 3);
}

function JamAudioController$DefaultSound(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_40(name_0){
  $clinit_JamAudioController$DefaultSound();
  return valueOf(($clinit_JamAudioController$DefaultSound$Map() , $MAP_38), name_0);
}

function values_46(){
  $clinit_JamAudioController$DefaultSound();
  return initValues(getClassLiteralForArray(Lcom_lostagain_Jam_audio_JamAudioController$DefaultSound_2_classLit, 1), $intern_1, 212, 0, [KeyBeep, SpaceBeep, MessageKeyBeep, MessageSpaceBeep]);
}

defineClass(212, 9, {212:1, 3:1, 21:1, 9:1}, JamAudioController$DefaultSound);
var KeyBeep, MessageKeyBeep, MessageSpaceBeep, SpaceBeep;
var Lcom_lostagain_Jam_audio_JamAudioController$DefaultSound_2_classLit = createForEnum('com.lostagain.Jam.audio', 'JamAudioController/DefaultSound', 212, Ljava_lang_Enum_2_classLit, values_46, valueOf_40);
function $clinit_JamAudioController$DefaultSound$Map(){
  $clinit_JamAudioController$DefaultSound$Map = emptyMethod;
  $MAP_38 = createValueOfMap(($clinit_JamAudioController$DefaultSound() , initValues(getClassLiteralForArray(Lcom_lostagain_Jam_audio_JamAudioController$DefaultSound_2_classLit, 1), $intern_1, 212, 0, [KeyBeep, SpaceBeep, MessageKeyBeep, MessageSpaceBeep])));
}

var $MAP_38;
function $clinit_MusicBoxCore(){
  $clinit_MusicBoxCore = emptyMethod;
  Log_67 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.MusicBox'));
  musicTracks = new ArrayList;
  allMusicBoxs = new HashSet;
}

function $nextTrack(){
  if (currentTrack + 1 < musicTracks.array.length) {
    currentTrack = currentTrack + 1;
    playtrack(currentTrack, currentMaxVolume_0, -1);
  }
}

function $prevTrack(){
  if (currentTrack > 0) {
    currentTrack = currentTrack - 1;
    playtrack(currentTrack, currentMaxVolume_0, -1);
  }
}

function musicHasBeenSelectedOnce(){
  $clinit_MusicBoxCore();
  if (hasBeenSetByUser) {
    return true;
  }
  return false;
}

function playtrack(ThisTrackNum, Volume, fadeOver){
  $clinit_MusicBoxCore();
  var ThisTrackName;
  ThisTrackNum == 0 && ($clinit_OptionalImplementations() , JamAudioControllerImplementation.isPresent() && $playAudioTrack_implementation((dynamicCast(dynamicCast(JamAudioControllerImplementation.get_1(), 150), 194) , ''), 100, true, ($clinit_JamAudioController$AudioType() , Music), -1));
  ThisTrackName = dynamicCastToString($get(musicTracks, ThisTrackNum));
  $info_1(Log_67, ThisTrackNum + ' Is Track ' + ThisTrackName);
  playAudioTrack(ThisTrackName, Volume, true, ($clinit_JamAudioController$AudioType() , Music), fadeOver);
}

function setAllMusicTrackPlayingLabelTo(ThisTrackNum){
  $clinit_MusicBoxCore();
  var musicBoxinstance, musicBoxinstance$iterator;
  currentTrack = ThisTrackNum;
  for (musicBoxinstance$iterator = $iterator_4(new AbstractMap$1(allMusicBoxs.map_0)); musicBoxinstance$iterator.val$outerIter2.hasNext();) {
    musicBoxinstance = dynamicCast($next_7(musicBoxinstance$iterator), 333);
    $info_1(Log_106, 'Music Box Labels = ' + musicBoxinstance.CurrentMusicTrackLabel.FieldNames.toString$());
    $setItemSelected_0(musicBoxinstance.CurrentMusicTrackLabel, ThisTrackNum);
    ThisTrackNum == 0?$setVisible(musicBoxinstance.LeftPic, false):$setVisible(musicBoxinstance.LeftPic, true);
    ThisTrackNum == musicTracks.array.length - 1?$setVisible(musicBoxinstance.RightPic, false):$setVisible(musicBoxinstance.RightPic, true);
  }
}

defineClass(333, 1, {333:1});
var Log_67, allMusicBoxs, currentMaxVolume_0 = 100, currentTrack = 0, hasBeenSetByUser = false, musicTracks;
var Lcom_lostagain_Jam_audio_MusicBoxCore_2_classLit = createForClass('com.lostagain.Jam.audio', 'MusicBoxCore', 333, Ljava_lang_Object_2_classLit);
function $clinit_BasicGameFunctionsImp(){
  $clinit_BasicGameFunctionsImp = emptyMethod;
  Log_68 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.BasicGameFunctionsImp'));
}

function BasicGameFunctionsImp_0(){
  $clinit_BasicGameFunctionsImp();
}

defineClass(639, 1, {519:1}, BasicGameFunctionsImp_0);
var Log_68;
var Lcom_lostagain_JamGwt_BasicGameFunctionsImp_2_classLit = createForClass('com.lostagain.JamGwt', 'BasicGameFunctionsImp', 639, Ljava_lang_Object_2_classLit);
function $clinit_TitledPopUpWithShadow(){
  $clinit_TitledPopUpWithShadow = emptyMethod;
  Log_69 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.PopUpWithShadow'));
}

function $$init_27(this$static){
  this$static.BOTTOM_RIGHT_BACKSTYLE = 'ShadowBottomRight pngfix';
  this$static.BOTTOM_MIDDLE_BACKSTYLE = 'ShadowLower pngfix';
  this$static.BOTTOM_LEFT_BACKSTYLE = 'ShadowCorner pngfix';
  this$static.MIDDLE_LEFT_BACKSTYLE = 'ShadowLeft pngfix';
  this$static.MIDDLE_RIGHT_BACKSTYLE = 'ShadowRight pngfix';
  this$static.TOP_MIDDLE_BACKSTYLE = 'DefaultTopBar';
  this$static.TOP_LEFT_BACKSTYLE = 'ShadowTopLeft pngfix';
  this$static.centered = true;
  new VerticalPanel;
  this$static.Container = new Grid_0(3);
  this$static.fixed_zindex = false;
  this$static.fixed_zindex_value = $intern_36;
  this$static.caption = new Label_1('PopUp (Drag Me)');
  this$static.sizeY = '100px';
  new HTML_1('<div><\/div>');
  this$static.TopBar = new HorizontalPanel;
  this$static.closeX = new GWTAnimatedIcon_0('GameIcons/cc2xbutton0.png', 3);
}

function $CloseDefault_0(this$static){
  var e;
  $remove_0(($clinit_JAM() , overlayPopUpsOpen), this$static);
  !!this$static.SourceIcon && $setPopedUp(this$static.SourceIcon, ($clinit_Boolean() , $clinit_Boolean() , FALSE_2));
  $hide_1(this$static, false);
  try {
    if (this$static.Contents) {
      $info_1(Log_69, 'trying to run hasCloseDefault:');
      dynamicCast(this$static.Contents, 64).CloseDefault();
    }
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      e = $e0;
      $info_1(Log_69, 'exception catched:' + e.getMessage());
      $info_1(Log_69, 'possibly has no CloseDefault implementation?');
    }
     else 
      throw unwrap($e0);
  }
  if (this$static.RunOnClose) {
    $info_1(Log_69, 'Running run on close');
    $run_14();
    this$static.RunOnClose = null;
  }
  overlayPopUpsOpen.array.length < 1 && (ClueReveal.isOpen || $setPlayBack(closeallwindows.animation));
}

function $OpenDefault_0(this$static){
  var cur, popupIter, tempz, this_height, this_x, z_0;
  ($clinit_JAMcore() , GameLogger).info_0('opening popup');
  $info_1(Log_69, 'opening popup');
  z_0 = 0;
  tempz = ' zdepth=first pop';
  z_depth_max = 20000;
  popupIter = new AbstractList$IteratorImpl(($clinit_JAM() , overlayPopUpsOpen));
  $setTitle(Feedback, 'a');
  if (overlayPopUpsOpen.array.length > 0) {
    while (popupIter.i < popupIter.this$01_0.size_1()) {
      cur = (checkCriticalElement(popupIter.i < popupIter.this$01_0.size_1()) , dynamicCast(popupIter.this$01_0.get_0(popupIter.last = popupIter.i++), 65));
      $setTitle(Feedback, 'b');
      if (($clinit_DOM() , cur.element).style['z-index'] == null)
      ;
      else {
        z_0 = __parseAndValidateInt(cur.element.style['z-index'], 10);
      }
      $setTitle(Feedback, 'cz=' + z_0);
      z_0 > z_depth_max && (z_depth_max = z_0);
      tempz = tempz + '\n z depth = ' + z_0;
    }
  }
   else {
    z_depth_max = 20000;
  }
  this$static.centered?$center(this$static):this$static.show();
  try {
    $info_1(Log_69, 'running popup open default');
    dynamicCast(this$static.Contents, 71).OpenDefault();
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      $info_1(Log_69, 'not got hasOpenDefault');
    }
     else 
      throw unwrap($e0);
  }
  this_x = $getAbsoluteLeft_0(($clinit_DOM() , this$static.element));
  this_height = $getPropertyInt(this$static.element, 'offsetHeight');
  this_height > $getClientHeight($doc) && $setPopupPosition(this$static, this_x, 0);
  setStyleAttribute(this$static.element, 'z-index', '' + (z_depth_max + 1));
  setStyleAttribute(this$static.element, 'zIndex', '' + (z_depth_max + 1));
  z_depth_max = z_depth_max + 1;
  overlayPopUpsOpen.add_0(this$static);
}

function $addRunOnClose(this$static, runnable){
  this$static.RunOnClose = runnable;
}

function $clearBackgroundStyles(this$static){
  $info_1(Log_69, 'clearing all styles on popup');
  this$static.BOTTOM_RIGHT_BACKSTYLE = '';
  this$static.BOTTOM_MIDDLE_BACKSTYLE = '';
  this$static.BOTTOM_LEFT_BACKSTYLE = '';
  this$static.MIDDLE_LEFT_BACKSTYLE = '';
  this$static.MIDDLE_RIGHT_BACKSTYLE = '';
  this$static.TOP_MIDDLE_BACKSTYLE = '';
  this$static.TOP_LEFT_BACKSTYLE = '';
  $setClassName($getParentElement(($clinit_DOM() , $getFirstChildElement(this$static.element))), '');
  $setupContainer_0(this$static);
}

function $fixedZdepth(this$static, setdepth){
  this$static.fixed_zindex = true;
  this$static.fixed_zindex_value = setdepth;
  ($clinit_DOM() , this$static.element).style['zIndex'] = this$static.fixed_zindex_value + '';
}

function $hide_0(this$static){
  if (this$static.showing) {
    $hide_1(this$static, false);
    this$static.CloseDefault();
  }
}

function $hide_1(this$static, autoClosed){
  if (this$static.showing) {
    $hide(this$static);
    this$static.CloseDefault();
  }
}

function $onMouseOrTouchMove_1(this$static, x_0, y_0){
  var absX, absY;
  if (this$static.dragging) {
    absX = x_0 + $getAbsoluteLeft_0(($clinit_DOM() , this$static.element));
    absY = y_0 + $getAbsoluteTop_0(this$static.element);
    absY - this$static.dragStartY < 0?$setPopupPosition(this$static, absX - this$static.dragStartX, 0):$setPopupPosition(this$static, absX - this$static.dragStartX, absY - this$static.dragStartY);
  }
}

function $onMouseOrTouchStart_0(this$static, x_0, y_0){
  this$static.dragging = true;
  setCapture($getElement(this$static.caption));
  this$static.dragStartX = x_0;
  this$static.dragStartY = y_0;
  if (!this$static.fixed_zindex) {
    $info_1(Log_69, 'setting ZIndexTop');
    $setZIndexTop(this$static);
  }
}

function $setCaptionText(this$static, mainGame_Inventory){
  $setText_0(this$static.caption, mainGame_Inventory);
}

function $setCenterWidget(this$static, widget){
  $setWidget_0(this$static.Container, 1, 1, !widget?null:widget.asWidget());
  $setSize(this$static, $getOffsetWidth(this$static.Container) + 16 + 'px', this$static.sizeY);
}

function $setTitlebBarText(this$static, title_0){
  $setText_0(this$static.caption, title_0);
}

function $setZIndexTop(this$static){
  setStyleAttribute(($clinit_DOM() , this$static.element), 'z-index', '' + (($clinit_JAMcore() , z_depth_max) + 1));
  setStyleAttribute(this$static.element, 'zIndex', '' + (z_depth_max + 1));
  $info_1(Log_69, 'setZIndexTop');
  $setTitle(($clinit_JAM() , Feedback), 'z set too' + getStyleAttribute(this$static.element, 'z-index'));
  z_depth_max = z_depth_max + 1;
}

function $setupContainer_0(this$static){
  var contentsAsWidget;
  $setPropertyInt(this$static.Container.tableElem, 'cellPadding', 0);
  $setPropertyInt(this$static.Container.tableElem, 'cellSpacing', 0);
  $setStyleName_1(this$static.Container.cellFormatter, 0, 0, this$static.TOP_LEFT_BACKSTYLE);
  $setWidth_4(this$static.Container.cellFormatter, 0, 0, '8px');
  $setHeight_3(this$static.Container.cellFormatter, 0, 0, '21px');
  $setWidget_0(this$static.Container, 0, 1, this$static.TopBar);
  $setVerticalAlignment_1(this$static.Container.cellFormatter, 0, 1, ($clinit_HasVerticalAlignment() , ALIGN_MIDDLE));
  $setHorizontalAlignment_1(this$static.Container.cellFormatter, 0, 1, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setStyleName_1(this$static.Container.cellFormatter, 0, 1, this$static.TOP_MIDDLE_BACKSTYLE);
  $setHeight_3(this$static.Container.cellFormatter, 0, 1, '21px');
  $setStyleName_1(this$static.Container.cellFormatter, 0, 2, this$static.TOP_MIDDLE_BACKSTYLE);
  $setHeight_3(this$static.Container.cellFormatter, 0, 2, '21px');
  $setWidth_4(this$static.Container.cellFormatter, 1, 0, '8px');
  $setStyleName_1(this$static.Container.cellFormatter, 1, 0, this$static.MIDDLE_LEFT_BACKSTYLE);
  contentsAsWidget = this$static.Contents.getVisualRepresentation();
  $setWidget_0(this$static.Container, 1, 1, contentsAsWidget);
  $setStyleName_1(this$static.Container.cellFormatter, 1, 1, 'Backstyle');
  getStylePrimaryName(contentsAsWidget.getStyleElement()) != null && $setStyleName_1(this$static.Container.cellFormatter, 1, 1, getStylePrimaryName(contentsAsWidget.getStyleElement()));
  $setStyleName_1(this$static.Container.cellFormatter, 1, 2, this$static.MIDDLE_RIGHT_BACKSTYLE);
  $setWidth_4(this$static.Container.cellFormatter, 2, 0, '8px');
  $setHeight_3(this$static.Container.cellFormatter, 2, 0, '8px');
  $setStyleName_1(this$static.Container.cellFormatter, 2, 0, this$static.BOTTOM_LEFT_BACKSTYLE);
  $setHeight_3(this$static.Container.cellFormatter, 2, 1, '8px');
  $setStyleName_1(this$static.Container.cellFormatter, 2, 1, this$static.BOTTOM_MIDDLE_BACKSTYLE);
  $setWidth_4(this$static.Container.cellFormatter, 2, 2, '16px');
  $setHeight_3(this$static.Container.cellFormatter, 2, 2, '8px');
  $setStyleName_1(this$static.Container.cellFormatter, 2, 2, this$static.BOTTOM_RIGHT_BACKSTYLE);
  $setWidget_1(this$static, this$static.Container);
}

function $setupTitleBar(this$static, title_0, draggable){
  $setText_0(this$static.caption, title_0);
  $setStylePrimaryName(this$static.caption, 'unselectable');
  $setStylePrimaryName(this$static.TopBar, 'unselectable');
  $add_4(this$static.TopBar, this$static.caption);
  $add_4(this$static.TopBar, this$static.closeX);
  $setSize_0(this$static.closeX, '21px', '19px');
  $setCellHorizontalAlignment_0(this$static.TopBar, this$static.closeX, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setStylePrimaryName(this$static.TopBar, this$static.TOP_MIDDLE_BACKSTYLE);
  $setWidth(this$static.TopBar, '100%');
  $setHeight(this$static.TopBar, '21px');
  $add_4(this$static.TopBar, this$static.caption);
  $setCellWidth(this$static.TopBar, this$static.caption, '95%');
  $add_4(this$static.TopBar, this$static.closeX);
  $setCellHorizontalAlignment_0(this$static.TopBar, this$static.caption, ALIGN_CENTER);
  $setCellHorizontalAlignment_0(this$static.TopBar, this$static.closeX, ALIGN_RIGHT);
  $addMouseOverHandler(this$static.closeX, new TitledPopUpWithShadow$1(this$static));
  $addMouseOutHandler(this$static.closeX, new TitledPopUpWithShadow$2(this$static));
  $addClickHandler(this$static.closeX, new TitledPopUpWithShadow$3(this$static));
  if (draggable) {
    $addDomHandler(this$static.caption, this$static, ($clinit_MouseMoveEvent() , $clinit_MouseMoveEvent() , TYPE_11));
    $addDomHandler(this$static.caption, this$static, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
    $addDomHandler(this$static.caption, this$static, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
    $addDomHandler(this$static.caption, this$static, ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
    $addDomHandler(this$static.caption, this$static, ($clinit_TouchMoveEvent() , $clinit_TouchMoveEvent() , TYPE_18));
    $addDomHandler(this$static.caption, this$static, ($clinit_TouchEndEvent() , $clinit_TouchEndEvent() , TYPE_17));
  }
}

function TitledPopUpWithShadow(setContents){
  $clinit_TitledPopUpWithShadow();
  PopupPanel.call(this);
  $$init_27(this);
  this.Contents = setContents;
  ($clinit_DOM() , this.element).style['zIndex'] = '1050';
  this.isAnimationEnabled = true;
  this.isAnimationEnabled = true;
  $setAnimationType(this, ($clinit_PopupPanel$AnimationType() , CENTER_0));
  setStyleName($getParentElement($getFirstChildElement(this.element)), 'unselectable', true);
  $setWidget_1(this, this.Contents.getVisualRepresentation());
}

function TitledPopUpWithShadow_0(Y, title_0, SetContents, draggable){
  $clinit_TitledPopUpWithShadow();
  PopupPanel.call(this);
  $$init_27(this);
  $info_1(Log_69, 'setting Widget 2');
  this.Contents = new DefaultIsPopUpType(SetContents, draggable);
  $info_1(Log_69, 'setting SourceIcon 2');
  this.SourceIcon = null;
  this.sizeY = Y;
  $setSize(this, this.Contents.getVisualRepresentation().getOffsetWidth() + 16 + 'px', this.sizeY);
  ($clinit_DOM() , this.element).style['zIndex'] = '1050';
  this.isAnimationEnabled = true;
  this.isAnimationEnabled = true;
  $setAnimationType(this, ($clinit_PopupPanel$AnimationType() , CENTER_0));
  setStyleName($getParentElement($getFirstChildElement(this.element)), 'unselectable', true);
  $setupTitleBar(this, title_0, draggable);
  $setupContainer_0(this);
}

function TitledPopUpWithShadow_1(IconTrigger, title_0, SetContents){
  $clinit_TitledPopUpWithShadow();
  PopupPanel.call(this);
  $$init_27(this);
  $info_1(Log_69, 'setting Widget');
  this.Contents = SetContents;
  $info_1(Log_69, 'setting SourceIcon');
  this.SourceIcon = IconTrigger;
  this.sizeY = '25%';
  $setSize(this, this.Contents.getVisualRepresentation().getOffsetWidth() + 16 + 'px', this.sizeY);
  ($clinit_DOM() , this.element).style['zIndex'] = '1050';
  this.isAnimationEnabled = true;
  setStyleName($getParentElement($getFirstChildElement(this.element)), 'unselectable', true);
  $setupTitleBar(this, title_0, SetContents.DRAGABLE());
  $setupContainer_0(this);
}

defineClass(65, 53, $intern_123, TitledPopUpWithShadow, TitledPopUpWithShadow_0, TitledPopUpWithShadow_1);
_.CloseDefault = function CloseDefault_1(){
  $CloseDefault_0(this);
}
;
_.DRAGABLE = function DRAGABLE_0(){
  return false;
}
;
_.OpenDefault = function OpenDefault_1(){
  $OpenDefault_0(this);
}
;
_.POPUPTYPE = function POPUPTYPE_0(){
  return this.Contents.POPUPTYPE();
}
;
_.getVisualRepresentation = function getVisualRepresentation_0(){
  return this;
}
;
_.hide = function hide_1(){
  $hide_0(this);
}
;
_.hide_0 = function hide_2(autoClosed){
  $hide_1(this, autoClosed);
}
;
_.onEventPreview = function onEventPreview_1(event_0){
  $clinit_DOM();
  $eventGetTypeInt(event_0.type) == 4 && ($isOrHasChild($getElement(this.caption), $eventGetTarget(event_0)) && $eventPreventDefault(event_0));
  $eventGetTypeInt(event_0.type) == $intern_32 && ($isOrHasChild($getElement(this.caption), $eventGetTarget(event_0)) && $eventPreventDefault(event_0));
  return true;
}
;
_.onMouseDown = function onMouseDown_6(event_0){
  var x_0, y_0;
  x_0 = $getX(event_0);
  y_0 = $getY(event_0);
  $info_1(Log_69, 'onMouseDown');
  $onMouseOrTouchStart_0(this, x_0, y_0);
}
;
_.onMouseMove = function onMouseMove_4(event_0){
  var x_0, y_0;
  x_0 = $getX(event_0);
  y_0 = $getY(event_0);
  $onMouseOrTouchMove_1(this, x_0, y_0);
}
;
_.onMouseUp = function onMouseUp_7(event_0){
  this.dragging = false;
  releaseCapture($getElement(this.caption));
}
;
_.onTouchEnd = function onTouchEnd_3(event_0){
  $info_1(Log_69, 'onTouchEnd');
  this.dragging = false;
  releaseCapture($getElement(this.caption));
}
;
_.onTouchMove = function onTouchMove_3(event_0){
  var x_0, y_0;
  x_0 = $getRelativeX(event_0.nativeEvent.changedTouches[0], event_0.relativeElem);
  y_0 = $getRelativeY(event_0.nativeEvent.changedTouches[0], event_0.relativeElem);
  $onMouseOrTouchMove_1(this, x_0, y_0);
}
;
_.onTouchStart = function onTouchStart_3(event_0){
  var x_0, y_0;
  x_0 = $getRelativeX(event_0.nativeEvent.changedTouches[0], event_0.relativeElem);
  y_0 = $getRelativeY(event_0.nativeEvent.changedTouches[0], event_0.relativeElem);
  $info_1(Log_69, 'onTouchStart ' + x_0 + ',' + y_0);
  $onMouseOrTouchStart_0(this, x_0, y_0);
}
;
_.setZIndexTop = function setZIndexTop(){
  $setZIndexTop(this);
}
;
_.centered = false;
_.dragStartX = 0;
_.dragStartY = 0;
_.dragging = false;
_.fixed_zindex = false;
_.fixed_zindex_value = 0;
var Log_69;
var Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit = createForClass('com.lostagain.JamGwt', 'TitledPopUpWithShadow', 65, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function $clinit_ChangePasswordBox(){
  $clinit_ChangePasswordBox = emptyMethod;
  $clinit_TitledPopUpWithShadow();
  Log_70 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.ChangePasswordBox'));
}

function ChangePasswordBox(){
  $clinit_ChangePasswordBox();
  var h;
  TitledPopUpWithShadow_0.call(this, 'auto', 'Change Password Box:', new Label_1('loading...'), true);
  new Grid_0(3);
  this.container = new VerticalPanel;
  this.form_container = new Grid_0(7);
  this.changeDetailsForm = new FormPanel;
  this.changepassword_button = new Button(($clinit_GamesInterfaceTextCore() , ControllPanel_ChangePassword));
  this.username = new TextBox;
  this.curpassword = new PasswordTextBox;
  this.newpassword = new PasswordTextBox;
  this.email = new TextBox;
  this.lab_curpassword = new Label_1('Current Password:');
  this.lab_newpassword = new Label_1('New Password:');
  this.lab_email = new Label_1('Email:');
  this.err_curpassword = new HTML_1('-');
  this.err_newpassword = new HTML_1('-');
  this.err_email = new HTML_1('-');
  this.errorlist = '';
  this.loginlink = new Anchor_1('<<Back', '#');
  this.thisChangePasswordBox = this;
  $info_1(Log_70, 'setting up ChangePasswordBox');
  $setCenterWidget(this, this.container);
  this.isAnimationEnabled = true;
  $setWidth(this.container, '100%');
  $setStyleName(this.container, 'changepasswordbox');
  $setMethod(this.changeDetailsForm);
  $setEncoding(this.changeDetailsForm);
  $setName_1(this.username, 'user');
  $setName_1(this.curpassword, 'curpass');
  $setName_1(this.email, 'email');
  $setName_1(this.newpassword, 'newpass');
  $setWidth_0(this, '400px');
  $setWidget_0(this.form_container, 2, 0, this.lab_curpassword);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 2, 0, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));
  $setWidget_0(this.form_container, 3, 0, this.lab_newpassword);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 3, 0, ALIGN_RIGHT);
  $setWidget_0(this.form_container, 4, 0, this.lab_email);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 4, 0, ALIGN_RIGHT);
  $setWidget_0(this.form_container, 2, 1, this.curpassword);
  $setWidget_0(this.form_container, 3, 1, this.newpassword);
  $setWidget_0(this.form_container, 4, 1, this.email);
  $setWidget_0(this.form_container, 2, 2, this.err_curpassword);
  $setWidget_0(this.form_container, 3, 2, this.err_newpassword);
  $setWidget_0(this.form_container, 4, 2, this.err_email);
  h = new Hidden('subedit');
  $setWidget_0(this.form_container, 5, 0, h);
  $add_2(this.changeDetailsForm, this.form_container);
  $setWidth(this.form_container, '100%');
  $add_5(this.container, this.changeDetailsForm);
  $add_5(this.container, this.changepassword_button);
  $addDomHandler(this.changepassword_button, new ChangePasswordBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  add_24(this.changeDetailsForm, new ChangePasswordBox$2(this));
  $addDomHandler(this.loginlink, new ChangePasswordBox$3(this), (null , TYPE_1));
  $add_5(this.container, this.loginlink);
  $setCellHorizontalAlignment_0(this.container, this.loginlink, ALIGN_LEFT);
  $setSpacing(this.container, 4);
  $setCellHorizontalAlignment_0(this.container, this.changepassword_button, ALIGN_CENTER);
}

defineClass(457, 65, $intern_123, ChangePasswordBox);
_.CloseDefault = function CloseDefault_2(){
  $CloseDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
_.OpenDefault = function OpenDefault_2(){
  $OpenDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Log_70;
var Lcom_lostagain_JamGwt_ChangePasswordBox_2_classLit = createForClass('com.lostagain.JamGwt', 'ChangePasswordBox', 457, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function ChangePasswordBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(920, 1, $intern_17, ChangePasswordBox$1);
_.onClick = function onClick_12(event_0){
  $setAction_0(this.this$01.changeDetailsForm, 'Login_System/EditAccount.php');
  $submit(this.this$01.changeDetailsForm);
}
;
var Lcom_lostagain_JamGwt_ChangePasswordBox$1_2_classLit = createForClass('com.lostagain.JamGwt', 'ChangePasswordBox/1', 920, Ljava_lang_Object_2_classLit);
function ChangePasswordBox$2(this$0){
  this.this$01 = this$0;
}

defineClass(921, 1, {420:1}, ChangePasswordBox$2);
_.onSubmit = function onSubmit_0(event_0){
  $setHTML(this.this$01.err_curpassword, '');
  $setHTML(this.this$01.err_newpassword, '');
  $setHTML(this.this$01.err_email, '');
}
;
_.onSubmitComplete = function onSubmitComplete_0(event_0){
  this.this$01.errorlist = '';
  if ($startsWith(event_0.resultHtml, 'ERROR')) {
    this.this$01.errorlist = $substring(event_0.resultHtml, event_0.resultHtml.indexOf('ERROR') + 5);
    $setHTML(this.this$01.err_newpassword, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_newpassworderror=') + 18, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_newpassworderror=') + 18)));
    $setHTML(this.this$01.err_curpassword, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_curpassworderror=') + 18, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_curpassworderror=') + 18)));
    $setHTML(this.this$01.err_email, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_useremail=') + 11, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_useremail=') + 11)));
  }
   else {
    $setText_9(($clinit_JAM() , Feedback), event_0.resultHtml, false);
  }
  if ($startsWith(event_0.resultHtml, 'SUCCESS')) {
    $setText_9(($clinit_JAM() , Feedback), 'Password Changed', false);
    $hide_0(($clinit_ServerOptions() , user_login).signupbox);
  }
}
;
var Lcom_lostagain_JamGwt_ChangePasswordBox$2_2_classLit = createForClass('com.lostagain.JamGwt', 'ChangePasswordBox/2', 921, Ljava_lang_Object_2_classLit);
function ChangePasswordBox$3(this$0){
  this.this$01 = this$0;
}

defineClass(922, 1, $intern_17, ChangePasswordBox$3);
_.onClick = function onClick_13(event_0){
  $hide_0(this.this$01.thisChangePasswordBox);
}
;
var Lcom_lostagain_JamGwt_ChangePasswordBox$3_2_classLit = createForClass('com.lostagain.JamGwt', 'ChangePasswordBox/3', 922, Ljava_lang_Object_2_classLit);
function $CloseDefault_1(){
  $hide_0(($clinit_JAM() , CluePanelFrame));
  $remove_0(overlayPopUpsOpen, CluePanelFrame);
  $applyTo(BuyOpenButton, BuyBack);
}

function $updateCluesToBuy(this$static){
  var requestBuilder;
  requestBuilder = new RequestBuilder(($clinit_RequestBuilder() , POST), 'clue fetcher2.php');
  try {
    $sendRequest(requestBuilder, 'ClueChapter=' + ($clinit_JAMcore() , usersCurrentLocation) + '&FetchClue=&ExistingClues=' + $ClueArrayAsString(playersClues) + '<br>', new CluePanel$3(this$static));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (!instanceOf($e0, 84))
      throw unwrap($e0);
  }
}

function CluePanel(){
  VerticalPanel.call(this);
  this.instructions = new Label_1('Loading prices...');
  this.instructions2 = new Label_1('(You can check the clues you have bought at any time from the top right corner)');
  this.chapterheader = new Label_1(' Current Chapter: ');
  this.currentCluesChapter = '';
  this.ClueContainer = new VerticalPanel;
  this.buy_or_cancel = new HorizontalPanel;
  this.buy = new Button('buy');
  this.cancel = new Button('cancel');
  this.thispanel = this;
  this.currentClueSelection = 0;
  ($clinit_DOM() , this.element).style['width'] = '350px';
  this.element.style['height'] = '280px';
  setStylePrimaryName(this.element, 'notepadback');
  $add_5(this, this.instructions);
  $setCellHorizontalAlignment_0(this, this.instructions, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_5(this, this.chapterheader);
  $setText_0(this.chapterheader, 'Clues for chapter: ' + ($clinit_JAMcore() , usersCurrentLocation) + ':');
  $setCellHorizontalAlignment_0(this, this.chapterheader, ALIGN_CENTER);
  $add_5(this, this.ClueContainer);
  $setWidth(this.ClueContainer, '100%');
  $setSpacing(this.ClueContainer, 6);
  $setHorizontalAlignment_0(this.ClueContainer, ALIGN_CENTER);
  $setCellHorizontalAlignment_0(this, this.ClueContainer, ALIGN_CENTER);
  $setPropertyInt(this.table, 'cellSpacing', 5);
  $add_5(this, this.instructions2);
  $setCellHorizontalAlignment_0(this, this.instructions2, ALIGN_CENTER);
  $add_4(this.buy_or_cancel, this.buy);
  $add_4(this.buy_or_cancel, this.cancel);
  $setSpacing(this.buy_or_cancel, 4);
  $add_5(this, this.buy_or_cancel);
  $setCellHorizontalAlignment_0(this, this.buy_or_cancel, ALIGN_CENTER);
  $addDomHandler(this.cancel, new CluePanel$1, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this.buy, new CluePanel$2(this), (null , TYPE_1));
}

defineClass(674, 28, $intern_124, CluePanel);
_.CloseDefault = function CloseDefault_3(){
  $CloseDefault_1();
}
;
_.DRAGABLE = function DRAGABLE_1(){
  return false;
}
;
_.OpenDefault = function OpenDefault_3(){
  ($clinit_JAMcore() , GameLogger).info_0('opening cluepanel');
  if (!$equalsIgnoreCase(usersCurrentLocation, this.currentCluesChapter)) {
    $setText_0(this.chapterheader, ' ' + usersCurrentLocation);
    $updateCluesToBuy(this);
    this.currentCluesChapter = usersCurrentLocation;
  }
}
;
_.POPUPTYPE = function POPUPTYPE_1(){
  return 'CluePanel';
}
;
_.getVisualRepresentation = function getVisualRepresentation_1(){
  return this;
}
;
_.currentClueSelection = 0;
var Lcom_lostagain_JamGwt_CluePanel_2_classLit = createForClass('com.lostagain.JamGwt', 'CluePanel', 674, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function CluePanel$1(){
}

defineClass(677, 1, $intern_17, CluePanel$1);
_.onClick = function onClick_14(event_0){
  ($clinit_JAM() , CluePanelFrame).CloseDefault();
}
;
var Lcom_lostagain_JamGwt_CluePanel$1_2_classLit = createForClass('com.lostagain.JamGwt', 'CluePanel/1', 677, Ljava_lang_Object_2_classLit);
function CluePanel$2(this$0){
  this.this$01 = this$0;
}

defineClass(678, 1, $intern_17, CluePanel$2);
_.onClick = function onClick_15(event_0){
  var requestBuilder;
  if (this.this$01.currentClueSelection == 0) {
    return;
  }
   else {
    this.this$01.currentCluesChapter = ($clinit_JAMcore() , usersCurrentLocation);
    requestBuilder = new RequestBuilder(($clinit_RequestBuilder() , POST), 'clue fetcher2.php');
    try {
      $sendRequest(requestBuilder, 'ClueChapter=' + usersCurrentLocation + '&FetchClue=' + this.this$01.currentClueSelection + '&ExistingClues=' + $ClueArrayAsString(playersClues), new CluePanel$2$1(this));
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (!instanceOf($e0, 84))
        throw unwrap($e0);
    }
  }
}
;
var Lcom_lostagain_JamGwt_CluePanel$2_2_classLit = createForClass('com.lostagain.JamGwt', 'CluePanel/2', 678, Ljava_lang_Object_2_classLit);
function CluePanel$2$1(this$1){
  this.this$11 = this$1;
}

defineClass(679, 1, {}, CluePanel$2$1);
_.onError_1 = function onError_3(request, exception){
}
;
_.onResponseReceived = function onResponseReceived(request, response){
  var cluename, cost, newclue, responsetext;
  responsetext = response.xmlHttpRequest.responseText;
  if ($equals_5(responsetext.substr(0, 12), '#ClueReturn:')) {
    newclue = __substr(responsetext, 12, responsetext.length - 12);
    if ($equals_5(newclue.substr(0, 23), '(Already Got This Clue)')) {
      return;
    }
    if ($equals_5(newclue.substr(0, 25), '(Already Got This Answer)')) {
      return;
    }
    if ($equals_5(newclue.substr(0, 32), '(You havnt got the requirements)')) {
      return;
    }
    cost = __parseAndValidateInt($trim($split_0($trim(this.this$11.this$01.clueData[this.this$11.this$01.currentClueSelection - 1]), ',', 0)[1]), 10);
    cluename = $trim($split_0($trim(this.this$11.this$01.clueData[this.this$11.this$01.currentClueSelection - 1]), ',', 0)[0]);
    $AddScore(($clinit_JAMcore() , PlayersScore), -cost);
    $AddClueImplementation(playersClues, $trim(newclue), $split_0($trim(this.this$11.this$01.clueData[this.this$11.this$01.currentClueSelection - 1]), ',', 0)[0], $trim(this.this$11.this$01.currentCluesChapter));
    processInstructions_0(' - Message = " "' + cluename + '" ' + ($clinit_GamesInterfaceTextCore() , CluePanel_purchasedclue) + ' ' + $trim(this.this$11.this$01.currentCluesChapter) + ' "  \n ', 'ClueGotMessage', null);
    GameLogger.info_0('SAVEING GAME....');
    $saveGameToServerImpl(($clinit_SaveGameManager() , $clinit_SaveGameManager() , current_save_string));
    $remove_3(this.this$11.this$01.ClueContainer, this.this$11.this$01.currentClueSelection - 1);
    $insert_1(this.this$11.this$01.ClueContainer, new Label_1(' ' + $split_0($trim(this.this$11.this$01.clueData[this.this$11.this$01.currentClueSelection - 1]), ',', 0)[0] + ' (already bought)'), this.this$11.this$01.currentClueSelection - 1);
    this.this$11.this$01.currentClueSelection = 0;
    $updateCluesToBuy(this.this$11.this$01);
    $CloseDefault_1();
    $setOpen(($clinit_JAM() , ClueReveal), true);
    $setPlayForward(closeallwindows.animation);
  }
}
;
var Lcom_lostagain_JamGwt_CluePanel$2$1_2_classLit = createForClass('com.lostagain.JamGwt', 'CluePanel/2/1', 679, Ljava_lang_Object_2_classLit);
function CluePanel$3(this$0){
  this.this$01 = this$0;
}

defineClass(680, 1, {}, CluePanel$3);
_.onError_1 = function onError_4(request, exception){
}
;
_.onResponseReceived = function onResponseReceived_0(request, response){
  var ClueCost, Cluename, cost, i, newclue, responsetext;
  responsetext = response.xmlHttpRequest.responseText;
  $clear(this.this$01.ClueContainer);
  $equals_5(responsetext, 'chapter not found') && $add_5(this.this$01.ClueContainer, new Label_1('No Clues For This Chapter'));
  this.this$01.clueData = $split_0(responsetext, '\\|', 0);
  i = 0;
  while (i < this.this$01.clueData.length) {
    if ($trim(this.this$01.clueData[i]).indexOf('(already bought)') != -1) {
      $add_5(this.this$01.ClueContainer, new Label_1($trim(this.this$01.clueData[i])));
    }
     else if ($trim(this.this$01.clueData[i]).indexOf(',') != -1) {
      Cluename = $split_0($trim(this.this$01.clueData[i]), ',', 0)[0];
      ClueCost = $split_0($trim(this.this$01.clueData[i]), ',', 0)[1];
      cost = __parseAndValidateInt($trim(ClueCost), 10);
      newclue = new CluePanel$ClueForSale(this.this$01, i + 1, cost, Cluename);
      $add_5(this.this$01.ClueContainer, newclue);
      $setCellHorizontalAlignment_0(this.this$01.ClueContainer, newclue, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
    }
    ++i;
  }
  $setText_0(this.this$01.instructions, ($clinit_GamesInterfaceTextCore() , CluePanel_instructions));
}
;
var Lcom_lostagain_JamGwt_CluePanel$3_2_classLit = createForClass('com.lostagain.JamGwt', 'CluePanel/3', 680, Ljava_lang_Object_2_classLit);
function CluePanel$ClueForSale(this$0, num, cost, ClueName){
  var selectClue;
  this.this$01 = this$0;
  HorizontalPanel.call(this);
  $add_4(this, new Label_1(ClueName + ' costs    -  ' + cost + ' points. -'));
  selectClue = new RadioButton('SelectClue', '');
  $addDomHandler(selectClue, new CluePanel$ClueForSale$1(this, selectClue, num), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $add_4(this, selectClue);
}

defineClass(675, 34, $intern_22, CluePanel$ClueForSale);
var Lcom_lostagain_JamGwt_CluePanel$ClueForSale_2_classLit = createForClass('com.lostagain.JamGwt', 'CluePanel/ClueForSale', 675, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function CluePanel$ClueForSale$1(this$1, val$selectClue, val$num){
  this.this$11 = this$1;
  this.val$selectClue2 = val$selectClue;
  this.val$num3 = val$num;
}

defineClass(676, 1, $intern_17, CluePanel$ClueForSale$1);
_.onClick = function onClick_16(event_0){
  $getValue_0(this.val$selectClue2).value_0 && (this.this$11.this$01.currentClueSelection = this.val$num3);
}
;
_.val$num3 = 0;
var Lcom_lostagain_JamGwt_CluePanel$ClueForSale$1_2_classLit = createForClass('com.lostagain.JamGwt', 'CluePanel/ClueForSale/1', 676, Ljava_lang_Object_2_classLit);
function $clinit_ControllPanel(){
  $clinit_ControllPanel = emptyMethod;
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'JAM.ControllPanel');
}

function $$init_28(this$static){
  this$static.ChangePasswordBox = new ChangePasswordBox;
  this$static.ResetGameBox = new ResetGameBox;
  this$static.changepassword = new Hyperlink_0(($clinit_GamesInterfaceTextCore() , ControllPanel_ChangePassword));
  this$static.resetgame = new Hyperlink_0('Reset Game');
  this$static.music_label = new Label_1(ControllPanel_CurrentMusic);
  this$static.musicPlayer = new GWTMusicBox;
  this$static.SoundEffectsOnOff = new HorizontalPanel;
  this$static.sound_options = new Label_1(ControllPanel_SoundEffects);
  this$static.soundon = new RadioButton('sound_options', ControllPanel_on);
  this$static.soundoff = new RadioButton('sound_options', ControllPanel_off);
  this$static.AnimationEffectsOnOff = new HorizontalPanel;
  this$static.animation_options = new Label_1(ControllPanel_AnimationEffects);
  this$static.animationon = new RadioButton('animation_options', ControllPanel_on);
  this$static.animationoff = new RadioButton('animation_options', ControllPanel_off);
  this$static.AutosaveOnOff = new HorizontalPanel;
  this$static.autosave_options = new Label_1('Autosave:');
  this$static.autosaveon = new RadioButton('autosave_options', ControllPanel_on);
  this$static.autosaveoff = new RadioButton('autosave_options', ControllPanel_off);
  this$static.LayoutSizeOveride = new Label_1(ControllPanel_InterfaceSize);
  this$static.LayoutModes = new SpiffyListBox;
  this$static.QualityOveride = new Label_1(ControllPanel_InterfaceSize);
  this$static.QualityModes = new SpiffyListBox;
  this$static.language_options = new Label_1('Language:');
  this$static.languageModes = new SpiffyListBox;
  this$static.NewTopBar = new topBar(ControllPanel_ControllPanel, this$static);
  this$static.SaveLoadButtons = new HorizontalPanel;
  new Button('Save To Link');
  this$static.LogOut = new Button(ControllPanel_ClickHereToLogOut);
  this$static.SaveOptions = new Button(ControllPanel_SaveOptions);
  this$static.LoadOptions = new Button(ControllPanel_LoadOptions);
  this$static.explanationlabel = new Label_1('...');
}

function $CloseDefault_2(this$static){
  $clinit_JAM();
  ControllPanelOpen = false;
  $setPlayBack(ControllPanelButton.animation);
  $remove_6(($clinit_RootPanel() , get_14(null)), this$static.parent_1);
}

function $updateLans(this$static){
  var id_0, id$iterator;
  $clear_1(this$static.languageModes);
  for (id$iterator = ($clinit_GameTextDatabase() , new AbstractList$IteratorImpl(LanIDs)); id$iterator.i < id$iterator.this$01_0.size_1();) {
    id_0 = (checkCriticalElement(id$iterator.i < id$iterator.this$01_0.size_1()) , dynamicCastToString(id$iterator.this$01_0.get_0(id$iterator.last = id$iterator.i++)));
    $addItem(this$static.languageModes, id_0, null);
    $equalsIgnoreCase(id_0, ($clinit_JAMcore() , LanguageExtension_0)) && $setItemSelected(this$static.languageModes, this$static.languageModes.FieldNames.array.length - 1);
  }
}

function $updateText(this$static){
  $setText_5(this$static.changepassword, ($clinit_GamesInterfaceTextCore() , ControllPanel_ChangePassword));
  $setText_0(this$static.sound_options, ControllPanel_SoundEffects);
  $setText_2(this$static.soundon, ControllPanel_on);
  $setText_2(this$static.soundoff, ControllPanel_off);
  $setText_0(this$static.animation_options, ControllPanel_AnimationEffects);
  $setText_2(this$static.animationon, ControllPanel_on);
  $setText_2(this$static.animationoff, ControllPanel_off);
  $setText_2(this$static.autosaveon, ControllPanel_on);
  $setText_2(this$static.autosaveoff, ControllPanel_off);
  $setText_0(this$static.music_label, ControllPanel_CurrentMusic);
  $setText_0(this$static.LayoutSizeOveride, ControllPanel_InterfaceSize);
  $setText_0(this$static.NewTopBar.Title, ControllPanel_ControllPanel);
  $setText_2(this$static.animationoff, ControllPanel_off);
  $setText(this$static.SaveOptions, ControllPanel_SaveOptions);
  $setText(this$static.LoadOptions, ControllPanel_LoadOptions);
  $setText(this$static.LogOut, ControllPanel_ClickHereToLogOut);
  $clear_1(this$static.LayoutModes);
  $addItem(this$static.LayoutModes, ControllPanel_Default, null);
  $addItem(this$static.LayoutModes, ControllPanel_Small, null);
  $addItem(this$static.LayoutModes, ControllPanel_Medium, null);
  $addItem(this$static.LayoutModes, ControllPanel_Big, null);
  $setText_0(this$static.ResetGameBox.lab_warning, GameReset_Warning);
  $setText(this$static.ResetGameBox.resetgamebutton, GameReset_Button);
  $setText(this$static.ChangePasswordBox.changepassword_button, ControllPanel_ChangePassword);
  $setText_0(this$static.QualityOveride, ControllPanel_QualitySetting);
}

function ControllPanel(){
  $clinit_ControllPanel();
  var QualityLevel, id_0, id$iterator;
  SpiffyDataBox.call(this);
  $$init_28(this);
  ($clinit_DOM() , this.element).style['width'] = '300px';
  this.element.style['height'] = '60px';
  setStylePrimaryName(this.element, 'notepadback');
  $addrow_0(this, this.SaveOptions, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.LoadOptions]));
  $add_4(this.SoundEffectsOnOff, this.sound_options);
  $add_4(this.SoundEffectsOnOff, this.soundon);
  $setValue_1(this.soundon, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  $add_4(this.SoundEffectsOnOff, this.soundoff);
  $addDomHandler(this.soundon, new ControllPanel$7(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this.soundoff, new ControllPanel$7(this), (null , TYPE_1));
  $addrow_0(this, this.sound_options, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.soundon, this.soundoff]));
  $add_4(this.AnimationEffectsOnOff, this.animation_options);
  $add_4(this.AnimationEffectsOnOff, this.animationon);
  $add_4(this.AnimationEffectsOnOff, this.animationoff);
  $addDomHandler(this.animationoff, new ControllPanel$6(this), (null , TYPE_1));
  $addDomHandler(this.animationon, new ControllPanel$6(this), (null , TYPE_1));
  $setValue_1(this.animationon, (null , TRUE_3));
  $addrow(this, this.music_label);
  $addrow(this, this.musicPlayer.visualRepresentation);
  $addrow_0(this, this.animation_options, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.animationon, this.animationoff]));
  if (!($clinit_JAMcore() , DisableAutoSave_0).value_0) {
    $add_4(this.AutosaveOnOff, this.autosave_options);
    $add_4(this.AutosaveOnOff, this.autosaveon);
    $add_4(this.AutosaveOnOff, this.autosaveoff);
    $addrow_0(this, this.autosave_options, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.autosaveon, this.autosaveoff]));
  }
  $addDomHandler(this.autosaveon, new ControllPanel$7(this), (null , TYPE_1));
  $setValue_1(this.autosaveoff, (null , TRUE_3));
  $addDomHandler(this.autosaveoff, new ControllPanel$7(this), (null , TYPE_1));
  $addItem(this.LayoutModes, ($clinit_GamesInterfaceTextCore() , ControllPanel_Default), null);
  $addItem(this.LayoutModes, ControllPanel_Small, null);
  $addItem(this.LayoutModes, ControllPanel_Medium, null);
  $addItem(this.LayoutModes, ControllPanel_Big, null);
  Default_Label_Style = 'OptionListBox';
  this.LayoutModes.hoverStyleName = 'OpenListBoxHoverStyle';
  $setWidth_1(this.LayoutModes, '100px');
  $setWidth_1(this.QualityModes, '100px');
  $setWidth_1(this.languageModes, '100px');
  $setWidth_5(this.columnFormatter);
  $addChangeHandler(this.LayoutModes, new ControllPanel$1(this));
  $clinit_JAM();
  $addrow_0(this, this.LayoutSizeOveride, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.LayoutModes]));
  for (QualityLevel = 0; QualityLevel <= 10; QualityLevel++) {
    QualityLevel == 0?$addItem(this.QualityModes, '0 - (worst)', '0'):QualityLevel == 10?$addItem(this.QualityModes, '10 - (best)', '10'):$addItem(this.QualityModes, '' + QualityLevel, '' + QualityLevel);
    $equalsIgnoreCase(Quality_0, '' + QualityLevel) && $setItemSelected(this.QualityModes, QualityLevel);
  }
  $addChangeHandler(this.QualityModes, new ControllPanel$2(this));
  $addrow_0(this, this.QualityOveride, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.QualityModes]));
  for (id$iterator = ($clinit_GameTextDatabase() , new AbstractList$IteratorImpl(LanIDs)); id$iterator.i < id$iterator.this$01_0.size_1();) {
    id_0 = (checkCriticalElement(id$iterator.i < id$iterator.this$01_0.size_1()) , dynamicCastToString(id$iterator.this$01_0.get_0(id$iterator.last = id$iterator.i++)));
    $addItem(this.languageModes, id_0, id_0);
    $equalsIgnoreCase(id_0, LanguageExtension_0) && $setItemSelected(this.languageModes, this.languageModes.FieldNames.array.length - 1);
  }
  $addChangeHandler(this.languageModes, new ControllPanel$3(this));
  $addrow_0(this, this.language_options, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.languageModes]));
  $addrow(this, this.explanationlabel);
  $setSpacing(this.SaveLoadButtons, 5);
  $addDomHandler(this.SaveOptions, new ControllPanel$4, (null , TYPE_1));
  $addDomHandler(this.LoadOptions, new ControllPanel$5, (null , TYPE_1));
}

function changecss(description){
  $clinit_ControllPanel();
  var i, a;
  for (i = 0; a = $doc.getElementsByTagName('link')[i]; i++) {
    a.getAttribute('title') == description?(a.disabled = false):(a.getAttribute('title') == 'midscreen' || a.getAttribute('title') == 'smallscreen') && (a.disabled = true);
  }
}

defineClass(658, 257, {45:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1, 64:1, 71:1}, ControllPanel);
_.CloseDefault = function CloseDefault_4(){
  $CloseDefault_2(this);
}
;
_.DRAGABLE = function DRAGABLE_2(){
  return true;
}
;
_.OpenDefault = function OpenDefault_4(){
  if ($equals_5(($clinit_JAMcore() , Username), 'guest')) {
    $setVisible(this.changepassword, false);
    $setVisible(this.resetgame, false);
    $setVisible(this.SaveLoadButtons, false);
  }
}
;
_.POPUPTYPE = function POPUPTYPE_2(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_2(){
  return this;
}
;
var Lcom_lostagain_JamGwt_ControllPanel_2_classLit = createForClass('com.lostagain.JamGwt', 'ControllPanel', 658, Lcom_darkflame_client_SpiffyDataBox_2_classLit);
function ControllPanel$1(this$0){
  this.this$01 = this$0;
}

defineClass(659, 1, $intern_116, ControllPanel$1);
_.onChange = function onChange_0(event_0){
  $clinit_JAMcore();
  InterfaceSize = $getItemText(this.this$01.LayoutModes, this.this$01.LayoutModes.CurrentSelectNum);
  GameLogger.info_0(InterfaceSize);
  setInterfaceIconSize();
  compareTo_5(InterfaceSize, ($clinit_GamesInterfaceTextCore() , ControllPanel_Small)) == 0 && changecss('smallscreen');
  compareTo_5(InterfaceSize, ControllPanel_Medium) == 0 && changecss('midscreen');
  compareTo_5(InterfaceSize, ControllPanel_Big) == 0 && changecss('default');
  $setText_0(this.this$01.explanationlabel, 'Interface size set to ' + InterfaceSize + '. ');
  resizeEverything();
}
;
var Lcom_lostagain_JamGwt_ControllPanel$1_2_classLit = createForClass('com.lostagain.JamGwt', 'ControllPanel/1', 659, Ljava_lang_Object_2_classLit);
function ControllPanel$2(this$0){
  this.this$01 = this$0;
}

defineClass(660, 1, $intern_116, ControllPanel$2);
_.onChange = function onChange_1(event_0){
  var selectedValue;
  selectedValue = $getValue(this.this$01.QualityModes, this.this$01.QualityModes.CurrentSelectNum);
  $clinit_JAMcore();
  Quality_0 = selectedValue;
  $setText_0(this.this$01.explanationlabel, 'Quality set to ' + selectedValue + '. This will apply to the next scenes loaded. ');
}
;
var Lcom_lostagain_JamGwt_ControllPanel$2_2_classLit = createForClass('com.lostagain.JamGwt', 'ControllPanel/2', 660, Ljava_lang_Object_2_classLit);
function ControllPanel$3(this$0){
  this.this$01 = this$0;
}

defineClass(661, 1, $intern_116, ControllPanel$3);
_.onChange = function onChange_2(event_0){
  var selectedValue;
  selectedValue = $getItemText(this.this$01.languageModes, this.this$01.languageModes.CurrentSelectNum);
  $clinit_JAMcore();
  LanguageExtension_0 = selectedValue;
  loadGamesText();
  $setText_0(this.this$01.explanationlabel, 'Lan now set to ' + selectedValue + '. This will apply to the next scenes loaded. ');
}
;
var Lcom_lostagain_JamGwt_ControllPanel$3_2_classLit = createForClass('com.lostagain.JamGwt', 'ControllPanel/3', 661, Ljava_lang_Object_2_classLit);
function ControllPanel$4(){
}

defineClass(662, 1, $intern_17, ControllPanel$4);
_.onClick = function onClick_17(event_0){
  $display(dynamicCast(($clinit_RequiredImplementations() , saveManager).get_1(), 180));
}
;
var Lcom_lostagain_JamGwt_ControllPanel$4_2_classLit = createForClass('com.lostagain.JamGwt', 'ControllPanel/4', 662, Ljava_lang_Object_2_classLit);
function ControllPanel$5(){
}

defineClass(663, 1, $intern_17, ControllPanel$5);
_.onClick = function onClick_18(event_0){
  $center(($clinit_JAM() , loadGamePopup));
}
;
var Lcom_lostagain_JamGwt_ControllPanel$5_2_classLit = createForClass('com.lostagain.JamGwt', 'ControllPanel/5', 663, Ljava_lang_Object_2_classLit);
function ControllPanel$6(this$0){
  this.this$01 = this$0;
}

defineClass(435, 1, $intern_17, ControllPanel$6);
_.onClick = function onClick_19(event_0){
  $setText_0(this.this$01.explanationlabel, 'Animation Turn set to ' + $getValue_0(this.this$01.animationon) + '. This will effect stuff like Text typeing. ');
  new ControllPanel$7(this.this$01);
}
;
var Lcom_lostagain_JamGwt_ControllPanel$6_2_classLit = createForClass('com.lostagain.JamGwt', 'ControllPanel/6', 435, Ljava_lang_Object_2_classLit);
function ControllPanel$7(this$0){
  this.this$01 = this$0;
}

defineClass(284, 1, $intern_17, ControllPanel$7);
_.onClick = function onClick_20(event_0){
  $clinit_JAM();
  SoundEffectOn = $getValue_0(this.this$01.soundon).value_0;
  AnimationEffectsOn = $getValue_0(this.this$01.animationon).value_0;
  setGloballyDisableTypeing(!AnimationEffectsOn);
  $clinit_JAMcore();
  autoserversaveon = $getValue_0(this.this$01.autosaveon).value_0;
  $setAnimationEnabled_2(GamesChaptersPanel, AnimationEffectsOn);
  $setAnimationEnabled(ControllPanelShadows, AnimationEffectsOn);
  $setAnimationEnabled(PlayersInventoryFrame, AnimationEffectsOn);
  $setAnimationEnabled(PlayersNotepadFrame, AnimationEffectsOn);
  $setAnimationEnabled(loadGamePopup, AnimationEffectsOn);
  $setAnimationEnabled(saveGamePopup.contentPanel, AnimationEffectsOn);
  $setAnimationEnabled(($clinit_ServerOptions() , user_login), AnimationEffectsOn);
}
;
var Lcom_lostagain_JamGwt_ControllPanel$7_2_classLit = createForClass('com.lostagain.JamGwt', 'ControllPanel/7', 284, Ljava_lang_Object_2_classLit);
function $clinit_DefaultIsPopUpType(){
  $clinit_DefaultIsPopUpType = emptyMethod;
  Log_71 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.DefaultIsPopUpType'));
}

function DefaultIsPopUpType(contents, draggable){
  $clinit_DefaultIsPopUpType();
  this.draggable = draggable;
  this.contents = contents;
}

defineClass(858, 1, $intern_125, DefaultIsPopUpType);
_.CloseDefault = function CloseDefault_5(){
  $info_1(Log_71, 'hasCloseDefault:');
  dynamicCast(this.contents, 64).CloseDefault();
}
;
_.DRAGABLE = function DRAGABLE_3(){
  return this.draggable;
}
;
_.OpenDefault = function OpenDefault_5(){
  dynamicCast(this.contents, 71).OpenDefault();
}
;
_.POPUPTYPE = function POPUPTYPE_3(){
  return null;
}
;
_.asWidget = function asWidget_1(){
  return this.contents;
}
;
_.getVisualRepresentation = function getVisualRepresentation_3(){
  return this.contents;
}
;
_.draggable = false;
var Log_71;
var Lcom_lostagain_JamGwt_DefaultIsPopUpType_2_classLit = createForClass('com.lostagain.JamGwt', 'DefaultIsPopUpType', 858, Ljava_lang_Object_2_classLit);
function $clinit_FeedbackHistoryVisualiser(){
  $clinit_FeedbackHistoryVisualiser = emptyMethod;
  $clinit_FeedbackHistoryCore();
  printicon = new Image_4('GameIcons/Printer.png');
}

function $AddNewMessage_notrecorded(this$static, newMessage){
  $setHTML(this$static.messageslist, $getTextOrHtml(this$static.messageslist.directionalTextHelper, true) + '<br>' + newMessage);
}

function $addToVisualRepresentationOfHistory(this$static, addThis){
  $setHTML(this$static.messageslist, $getTextOrHtml(this$static.messageslist.directionalTextHelper, true) + '<br>' + addThis);
}

function $scrolltobottom(this$static){
  ($clinit_JAMcore() , GameLogger).info_0('scrolldown');
  $scrollToBottom(this$static.MessageHistoryScroller);
}

function FeedbackHistoryVisualiser(){
  $clinit_FeedbackHistoryVisualiser();
  this.visualContents = new VerticalPanel;
  this.MessageHistoryScroller = new ScrollPanel;
  this.messageslist = new HTML_1('Message Log;');
  feebackHistoryVisualiser = new Present(this);
  $add_2(this.MessageHistoryScroller, this.messageslist);
  $add_5(this.visualContents, printicon);
  $setCellHorizontalAlignment_0(this.visualContents, printicon, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));
  $add_5(this.visualContents, this.MessageHistoryScroller);
  $setSize(this.MessageHistoryScroller, '100%', '281px');
  $addHandler(printicon, new FeedbackHistoryVisualiser$1, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}

defineClass(681, 332, {13:1, 332:1}, FeedbackHistoryVisualiser);
_.asWidget = function asWidget_2(){
  return this.visualContents;
}
;
var printicon;
var Lcom_lostagain_JamGwt_FeedbackHistoryVisualiser_2_classLit = createForClass('com.lostagain.JamGwt', 'FeedbackHistoryVisualiser', 681, Lcom_lostagain_Jam_FeedbackHistoryCore_2_classLit);
function FeedbackHistoryVisualiser$1(){
}

defineClass(682, 1, $intern_17, FeedbackHistoryVisualiser$1);
_.onClick = function onClick_21(event_0){
  var printthis;
  ($clinit_JAMcore() , GameLogger).info_0('triggering print  window');
  printthis = new RequestBuilder(($clinit_RequestBuilder() , POST), 'Login_System/UpdateHistoryTemp.php');
  try {
    $sendRequest(printthis, 'MessageHistory=' + $getTextOrHtml(($clinit_JAM() , messagehistory_0).messageslist.directionalTextHelper, true), new FeedbackHistoryVisualiser$1$1);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      ($clinit_System() , out_0).println_0(' cant check login, assume new user');
    }
     else 
      throw unwrap($e0);
  }
}
;
var Lcom_lostagain_JamGwt_FeedbackHistoryVisualiser$1_2_classLit = createForClass('com.lostagain.JamGwt', 'FeedbackHistoryVisualiser/1', 682, Ljava_lang_Object_2_classLit);
function FeedbackHistoryVisualiser$1$1(){
}

defineClass(683, 1, {}, FeedbackHistoryVisualiser$1$1);
_.onError_1 = function onError_5(request, exception){
  AddNewMessage('Failed to Open new Print Window');
}
;
_.onResponseReceived = function onResponseReceived_1(request, response){
  open_2('scripts/displayhistory.php', '_blank', '');
}
;
var Lcom_lostagain_JamGwt_FeedbackHistoryVisualiser$1$1_2_classLit = createForClass('com.lostagain.JamGwt', 'FeedbackHistoryVisualiser/1/1', 683, Ljava_lang_Object_2_classLit);
function ForgotPasswordBox(){
  $clinit_TitledPopUpWithShadow();
  var h;
  TitledPopUpWithShadow_0.call(this, 'auto', 'Forgot Password Box:', new Label_1('loading...'), true);
  new Grid_0(3);
  this.container = new VerticalPanel;
  this.form_container = new Grid_0(7);
  this.signup_form = new FormPanel;
  this.signup_button = new Button('Email Me New Pasword');
  this.username = new TextBox;
  this.lab_name = new Label_1('Username:');
  this.err_name = new HTML_1('-');
  this.errorlist = '';
  this.loginlink = new Hyperlink_0('<<Login');
  $setCenterWidget(this, this.container);
  this.isAnimationEnabled = true;
  $setWidth(this.container, '100%');
  $setStyleName(this.container, 'ForgotPasswordBox');
  $setMethod(this.signup_form);
  $setEncoding(this.signup_form);
  $setName_1(this.username, 'user');
  $setWidth_0(this, '400px');
  $setWidget_0(this.form_container, 0, 0, this.lab_name);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 0, 0, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));
  $setWidget_0(this.form_container, 0, 1, this.username);
  $setWidget_0(this.form_container, 0, 2, this.err_name);
  h = new Hidden('subforgot');
  $setWidget_0(this.form_container, 5, 0, h);
  $add_2(this.signup_form, this.form_container);
  $setWidth(this.form_container, '100%');
  $add_5(this.container, this.signup_form);
  $add_5(this.container, this.signup_button);
  $addDomHandler(this.signup_button, new ForgotPasswordBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  add_24(this.signup_form, new ForgotPasswordBox$2(this));
  $addHandler(this.loginlink, new ForgotPasswordBox$3, (null , TYPE_1));
  $add_5(this.container, this.loginlink);
  $setCellHorizontalAlignment_0(this.container, this.loginlink, ALIGN_LEFT);
  $setSpacing(this.container, 4);
  $setCellHorizontalAlignment_0(this.container, this.signup_button, ALIGN_CENTER);
}

defineClass(1121, 65, $intern_123, ForgotPasswordBox);
_.CloseDefault = function CloseDefault_6(){
  $CloseDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
_.OpenDefault = function OpenDefault_6(){
  $OpenDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_ForgotPasswordBox_2_classLit = createForClass('com.lostagain.JamGwt', 'ForgotPasswordBox', 1121, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function ForgotPasswordBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(1122, 1, $intern_17, ForgotPasswordBox$1);
_.onClick = function onClick_22(event_0){
  $setAction_0(this.this$01.signup_form, 'Login_System/Forgot.php');
  $submit(this.this$01.signup_form);
}
;
var Lcom_lostagain_JamGwt_ForgotPasswordBox$1_2_classLit = createForClass('com.lostagain.JamGwt', 'ForgotPasswordBox/1', 1122, Ljava_lang_Object_2_classLit);
function ForgotPasswordBox$2(this$0){
  this.this$01 = this$0;
}

defineClass(1123, 1, {420:1}, ForgotPasswordBox$2);
_.onSubmit = function onSubmit_1(event_0){
  $setHTML(this.this$01.err_name, '');
}
;
_.onSubmitComplete = function onSubmitComplete_1(event_0){
  this.this$01.errorlist = '';
  if ($startsWith(event_0.resultHtml, 'ERROR')) {
    this.this$01.errorlist = $substring(event_0.resultHtml, event_0.resultHtml.indexOf('ERROR') + 5);
    $setHTML(this.this$01.err_name, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_usererror=') + 11, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_usererror=') + 11)));
  }
   else {
    $setText_9(($clinit_JAM() , Feedback), event_0.resultHtml, false);
  }
  if ($startsWith(event_0.resultHtml, 'SUCCESS')) {
    $setText_9(($clinit_JAM() , Feedback), 'New Password Sent! Check your email account :)', false);
    $hide_0(($clinit_ServerOptions() , user_login).signupbox);
  }
}
;
var Lcom_lostagain_JamGwt_ForgotPasswordBox$2_2_classLit = createForClass('com.lostagain.JamGwt', 'ForgotPasswordBox/2', 1123, Ljava_lang_Object_2_classLit);
function ForgotPasswordBox$3(){
}

defineClass(1124, 1, $intern_17, ForgotPasswordBox$3);
_.onClick = function onClick_23(event_0){
  $hide_0(($clinit_ServerOptions() , user_login).forgotpasswordbox);
}
;
var Lcom_lostagain_JamGwt_ForgotPasswordBox$3_2_classLit = createForClass('com.lostagain.JamGwt', 'ForgotPasswordBox/3', 1124, Ljava_lang_Object_2_classLit);
function GWTAnswerButton(mainGame_Submit){
  $clinit_FocusWidget();
  Button.call(this, mainGame_Submit);
}

defineClass(375, 33, {60:1, 45:1, 20:1, 16:1, 19:1, 17:1, 13:1, 15:1, 7:1, 274:1, 375:1}, GWTAnswerButton);
_.getVisualRepresentation = function getVisualRepresentation_4(){
  return this;
}
;
var Lcom_lostagain_JamGwt_GWTAnswerButton_2_classLit = createForClass('com.lostagain.JamGwt', 'GWTAnswerButton', 375, Lcom_google_gwt_user_client_ui_Button_2_classLit);
function GWTAnswerButton$1(val$runthis){
  this.val$runthis2 = val$runthis;
}

defineClass(702, 1, $intern_17, GWTAnswerButton$1);
_.onClick = function onClick_24(event_0){
  $run_12();
}
;
var Lcom_lostagain_JamGwt_GWTAnswerButton$1_2_classLit = createForClass('com.lostagain.JamGwt', 'GWTAnswerButton/1', 702, Ljava_lang_Object_2_classLit);
function $createImageZoomPopup_impl(zoomThis, ImageURL, sizex, sizey, imageDiscription, popupTitle){
  var ItemWithShadow, mag;
  mag = new ImageZoomPopUp(ImageURL, imageDiscription, sizex, sizey);
  ItemWithShadow = new TitledPopUpWithShadow_1(zoomThis, popupTitle, mag);
  return ItemWithShadow;
}

function $createNewImageWithAlphaItem_impl(ImagelocationSet){
  var imagepop;
  imagepop = new imageWithAlphaItem(ImagelocationSet);
  return imagepop;
}

function $clinit_GWTJAMTimerController(){
  $clinit_GWTJAMTimerController = emptyMethod;
  $clinit_JAMTimerController();
  Log_72 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GWTJAMTimerController'));
}

function $startFrameUpdates(){
  if (!animationRunner) {
    $warning_0(Log_72, 'setting AnimationScheduler');
    animationRunner = (!instance_0 && (instance_0 = $isNativelySupported()?new AnimationSchedulerImplStandard:new AnimationSchedulerImplTimer) , instance_0).requestAnimationFrame_0(frameUpdateCode, null);
    $warning_0(Log_72, 'AnimationScheduler now set');
  }
  $clinit_DeltaTimerController();
  frameUpdatesRunning = true;
}

function $stopFrameUpdates(){
  if (animationRunner) {
    animationRunner.cancel_0();
    animationRunner = null;
  }
  $clinit_DeltaTimerController();
  frameUpdatesRunning = false;
}

var Log_72, animationRunner, frameUpdateCode;
function $cancel_3(this$static){
  $info_1(($clinit_GWTJAMTimerController() , Log_72), 'canceling timer itself check');
  $info_1(Log_72, 'hashcode ' + getHashCode(this$static));
  $cancel(this$static);
}

defineClass(775, 61, {});
_.cancel_0 = function cancel_3(){
  $cancel_3(this);
}
;
var Lcom_lostagain_JamGwt_GWTJAMTimerController$GWTTimer_2_classLit = createForClass('com.lostagain.JamGwt', 'GWTJAMTimerController/GWTTimer', 775, Lcom_google_gwt_user_client_Timer_2_classLit);
function GWTJAMTimerController$1(val$triggerThis){
  this.val$triggerThis3 = val$triggerThis;
}

defineClass(227, 775, {}, GWTJAMTimerController$1);
_.run = function run_63(){
  this.val$triggerThis3.run();
}
;
var Lcom_lostagain_JamGwt_GWTJAMTimerController$1_2_classLit = createForClass('com.lostagain.JamGwt', 'GWTJAMTimerController/1', 227, Lcom_lostagain_JamGwt_GWTJAMTimerController$GWTTimer_2_classLit);
function GWTJAMTimerController$AnimationFrameUpdateCallback(){
  this.lastUpdate = ($clinit_System() , fromDouble(now_1()));
}

defineClass(774, 1, {}, GWTJAMTimerController$AnimationFrameUpdateCallback);
_.execute_1 = function execute_26(timestamp){
  var currentDelta, currentTime;
  $clinit_DeltaTimerController();
  if (!frameUpdatesRunning) {
    return;
  }
  currentTime = ($clinit_System() , fromDouble(now_1()));
  currentDelta = sub_0(currentTime, this.lastUpdate);
  this.lastUpdate = currentTime;
  updateAllFrameObjects(currentDelta);
  frameUpdatesRunning && (!instance_0 && (instance_0 = $isNativelySupported()?new AnimationSchedulerImplStandard:new AnimationSchedulerImplTimer) , instance_0).requestAnimationFrame_0(this, null);
}
;
_.lastUpdate = {l:0, m:0, h:0};
var Lcom_lostagain_JamGwt_GWTJAMTimerController$AnimationFrameUpdateCallback_2_classLit = createForClass('com.lostagain.JamGwt', 'GWTJAMTimerController/AnimationFrameUpdateCallback', 774, Ljava_lang_Object_2_classLit);
function $clinit_GWTSceneAndPageSet(){
  $clinit_GWTSceneAndPageSet = emptyMethod;
  $clinit_SceneAndPageSet();
  Log_73 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GWTSceneAndPageSet'));
}

function $setstoryboxbackgroundclass(CurrentProperty){
  var bottompanel;
  $info_1(Log_73, 'setting storybox background style to ' + CurrentProperty);
  bottompanel = $getFirstChildElement($getElement(($clinit_JAMcore() , CurrentScenesAndPages).visualContents)).childNodes[1];
  !bottompanel && $info_1(Log_73, 'null element, cant set style');
  if (compareTo_5(CurrentProperty, 'none') == 0) {
    $setClassName(bottompanel, '_none_');
  }
   else {
    $info_1(Log_73, 'setting deck style.');
    $setClassName(bottompanel, CurrentProperty);
  }
}

function GWTSceneAndPageSet(){
  $clinit_GWTSceneAndPageSet();
  this.OpenPagesInSet = new ArrayList;
  this.visualContents = new DecoratedTabPanel;
  this.OurTabSelectionHandeler = new GWTSceneAndPageSet$TabSelectionHandeler(this);
  $setStylePrimaryName(this.visualContents, 'standard_message_back');
  $setStylePrimaryName(this.visualContents, 'overflowscroll');
  $setStylePrimaryName(this.visualContents, 'standard_message');
  ($clinit_JAMcore() , Client).indexOf('firefox') > -1?$setAnimationEnabled_0(this.visualContents.deck, false):$setAnimationEnabled_0(this.visualContents.deck, false);
  this.selectionHandeler = $addHandler(this.visualContents, this.OurTabSelectionHandeler, (!TYPE_25 && (TYPE_25 = new GwtEvent$Type) , TYPE_25));
  $setSize(this.visualContents, '100%', '100%');
  $setSize(this.visualContents.deck, '100%', '100%');
}

defineClass(443, 230, {13:1, 230:1}, GWTSceneAndPageSet);
_.asWidget = function asWidget_3(){
  return this.visualContents;
}
;
_.tabsFunctionDisabled = false;
var Log_73;
var Lcom_lostagain_JamGwt_GWTSceneAndPageSet_2_classLit = createForClass('com.lostagain.JamGwt', 'GWTSceneAndPageSet', 443, Lcom_lostagain_Jam_SceneAndPageSet_2_classLit);
function GWTSceneAndPageSet$TabSelectionHandeler(this$0){
  this.this$01 = this$0;
}

defineClass(810, 1, {1454:1, 6:1}, GWTSceneAndPageSet$TabSelectionHandeler);
_.onSelection = function onSelection_0(event_0){
  var ChapName, pagename_fixed, tabIndex;
  $info_1(($clinit_GWTSceneAndPageSet() , Log_73), 'tab selected');
  tabIndex = event_0.selectedItem.value_0;
  newItem('-', false);
  if (!this.this$01.tabsFunctionDisabled) {
    $info_1(Log_73, 'getting chap name');
    ChapName = dynamicCastToString($get(($clinit_JAMcore() , locationpuzzlesActive), tabIndex));
    $info_1(Log_73, 'chapter set to-' + ChapName);
    usersCurrentLocation = dynamicCastToString($get(locationpuzzlesActive, tabIndex));
    setTitle(' - ' + Username + ($clinit_GamesInterfaceTextCore() , MainGame_is_on_chapter) + usersCurrentLocation + ' - ');
    $info_1(Log_73, 'getting pagename?');
    dynamicCastToString($get(this.this$01.OpenPagesInSet, tabIndex));
    $info_1(Log_73, 'getting pagename2?');
    pagename_fixed = $getTabHTML(this.this$01.visualContents.tabBar, tabIndex);
    $info_1(Log_73, 'tab label:' + pagename_fixed + '|');
    $info_1(Log_73, 'triggering process instructions-' + pagename_fixed);
    if ($GetItem(($clinit_JAM() , PageCommandStore), pagename_fixed) != '') {
      $info_1(Log_73, 'instructions=' + $GetItem(PageCommandStore, pagename_fixed));
      processInstructions_0($GetItem(PageCommandStore, pagename_fixed), 'TurnedPageTrigger', null);
    }
  }
}
;
var Lcom_lostagain_JamGwt_GWTSceneAndPageSet$TabSelectionHandeler_2_classLit = createForClass('com.lostagain.JamGwt', 'GWTSceneAndPageSet/TabSelectionHandeler', 810, Ljava_lang_Object_2_classLit);
function $clinit_GamesInterfaceText(){
  $clinit_GamesInterfaceText = emptyMethod;
  $clinit_GamesInterfaceTextCore();
  Log_74 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GamesInterfaceText'));
}

function $LoadText(this$static, messages){
  var curpos, currentline, currentmess, currentstring, newlinepos;
  curpos = 0;
  while (curpos + 3 < messages.length) {
    newlinepos = messages.indexOf('\n', curpos + 1);
    newlinepos == -1 && (newlinepos = messages.length);
    currentline = messages.substr(curpos, newlinepos - curpos);
    currentmess = $split_0(currentline, '=', 0)[0];
    currentstring = $split_0(currentline, '=', 0)[1];
    $AddItem(this$static.FileTemp, $trim(currentstring), $trim(currentmess));
    curpos = newlinepos;
  }
  $assignStringsToDatabase(this$static);
}

function $assignStringsToDatabase(this$static){
  $clinit_GamesInterfaceTextCore();
  MainGame_GeneralConfirm = $GetItem(this$static.FileTemp, 'MainGame_GeneralConfirm');
  MainGame_GeneralOk = $GetItem(this$static.FileTemp, 'MainGame_GeneralOk');
  MainGame_GeneralCancel = $GetItem(this$static.FileTemp, 'MainGame_GeneralCancel');
  MainGame_Submit = $GetItem(this$static.FileTemp, 'MainGame_Submit');
  MainGame_SaveOrLoadYourGame = $GetItem(this$static.FileTemp, 'MainGame_SaveOrLoadYourGame');
  MainGame_LoadSavedGame = $GetItem(this$static.FileTemp, 'MainGame_LoadSavedGame');
  MainGame_FromThisBrowser = $GetItem(this$static.FileTemp, 'MainGame_FromThisBrowser');
  MainGame_FromServer = $GetItem(this$static.FileTemp, 'MainGame_FromServer');
  MainGame_FromText = $GetItem(this$static.FileTemp, 'MainGame_FromText');
  MainGame_NotLoggedIn = $GetItem(this$static.FileTemp, 'MainGame_NotLoggedIn');
  MainGame_LoadDataPastedBelow = $GetItem(this$static.FileTemp, 'MainGame_LoadDataPastedBelow');
  MainGame_ClickBelowToLoadYourGame = $GetItem(this$static.FileTemp, 'MainGame_ClickBelowToLoadYourGame');
  MainGame_SaveYourGame = $GetItem(this$static.FileTemp, 'MainGame_SaveYourGame');
  MainGame_ToThisBrowser = $GetItem(this$static.FileTemp, 'MainGame_ToThisBrowser');
  MainGame_AsAWebLink = $GetItem(this$static.FileTemp, 'MainGame_AsAWebLink');
  MainGame_OnServer = $GetItem(this$static.FileTemp, 'MainGame_OnServer');
  MainGame_AsText = $GetItem(this$static.FileTemp, 'MainGame_AsText');
  MainGame_NoteThisWillSaveYourGameOnThisPCAndBrowserOnly = $GetItem(this$static.FileTemp, 'MainGame_NoteThisWillSaveYourGameOnThisPCAndBrowserOnly');
  MainGame_SaveStateAsCompressedLink = $GetItem(this$static.FileTemp, 'MainGame_SaveStateAsCompressedLink');
  MainGame_UpdatingPleaseWait = $GetItem(this$static.FileTemp, 'MainGame_UpdatingPleaseWait');
  MainGame_Compressing = $GetItem(this$static.FileTemp, 'MainGame_Compressing');
  MainGame_EmailSent = $GetItem(this$static.FileTemp, 'MainGame_EmailSent');
  MainGame_EmailLinkToMe = $GetItem(this$static.FileTemp, 'MainGame_EmailLinkToMe');
  MainGame_UpdateLinkFromBox = $GetItem(this$static.FileTemp, 'MainGame_UpdateLinkFromBox');
  MainGame_LoadBoxDataIntoGame = $GetItem(this$static.FileTemp, 'MainGame_LoadBoxDataIntoGame');
  MainGame_ResetFirst = $GetItem(this$static.FileTemp, 'MainGame_ResetFirst');
  MainGame_SaveDataToBox = $GetItem(this$static.FileTemp, 'MainGame_SaveDataToBox');
  MainGame_ResetData = $GetItem(this$static.FileTemp, 'MainGame_ResetData');
  MainGame_ThisBigStringContainsYourSavegame = $GetItem(this$static.FileTemp, 'MainGame_ThisBigStringContainsYourSavegame');
  MainGame_Inventory = $GetItem(this$static.FileTemp, 'MainGame_Inventory');
  MainGame_Charecter_Profiles = $GetItem(this$static.FileTemp, 'MainGame_Charecter_Profiles');
  MainGame_Secrets_Found = $GetItem(this$static.FileTemp, 'MainGame_Secrets_Found');
  MainGame_CloseAlWindows = $GetItem(this$static.FileTemp, 'MainGame_CloseAlWindows');
  MainGame_Loading = $GetItem(this$static.FileTemp, 'MainGame_Loading');
  MainGame_WindowTitle_Loading = $GetItem(this$static.FileTemp, 'MainGame_WindowTitle_Loading');
  MainGame_StoryText_Loading = $GetItem(this$static.FileTemp, 'MainGame_StoryText_Loading');
  MainGame_Sending = $GetItem(this$static.FileTemp, 'MainGame_Sending');
  MainGame_is_on_chapter = $GetItem(this$static.FileTemp, 'MainGame_is_on_chapter');
  MainGame_submit = $GetItem(this$static.FileTemp, 'MainGame_submit');
  MainGame_YouAlreadyHaveThisItem = $GetItem(this$static.FileTemp, 'MainGame_YouAlreadyHaveThisItem');
  MainGame_Welcome_Back = $GetItem(this$static.FileTemp, 'MainGame_Welcome_Back');
  MainGame_LoadingNewGame = $GetItem(this$static.FileTemp, 'MainGame_LoadingNewGame');
  MainGame_StartANewGame = $GetItem(this$static.FileTemp, 'MainGame_StartANewGame');
  MainGame_Mathsbeforeans = $GetItem(this$static.FileTemp, 'MainGame_Maths_Before_Ans');
  MainGame_Mathsafterans = $GetItem(this$static.FileTemp, 'MainGame_Maths_After_Ans');
  MainGame_Score_Awarded = $GetItem(this$static.FileTemp, 'MainGame_ScoreAwarded');
  Scene_LoadingLoadingTime = $GetItem(this$static.FileTemp, 'Scene_LoadingLoadingTime');
  Scene_SettingUpScene = $GetItem(this$static.FileTemp, 'Scene_SettingUpScene');
  Scene_GettingScenesData = $GetItem(this$static.FileTemp, 'Scene_GettingScenesData');
  ControllPanel_AnimationEffects = $GetItem(this$static.FileTemp, 'ControllPanel_AnimationEffects');
  ControllPanel_Big = $GetItem(this$static.FileTemp, 'ControllPanel_Big');
  ControllPanel_ChangePassword = $GetItem(this$static.FileTemp, 'ControllPanel_ChangePassword');
  ControllPanel_ClickHereToLogOut = $GetItem(this$static.FileTemp, 'ControllPanel_ClickHereToLogOut');
  ControllPanel_ClickHereToSaveYourProgress = $GetItem(this$static.FileTemp, 'ControllPanel_ClickHereToSaveYourProgress');
  ControllPanel_LoadFromServer = $GetItem(this$static.FileTemp, 'ControllPanel_LoadFromServer');
  ControllPanel_ControllPanel = $GetItem(this$static.FileTemp, 'ControllPanel_ControllPanel');
  ControllPanel_DataSaved = $GetItem(this$static.FileTemp, 'ControllPanel_DataSaved');
  ControllPanel_Default = $GetItem(this$static.FileTemp, 'ControllPanel_Default');
  ControllPanel_InterfaceSize = $GetItem(this$static.FileTemp, 'ControllPanel_InterfaceSize');
  ControllPanel_LoadFromText = $GetItem(this$static.FileTemp, 'ControllPanel_LoadFromText');
  ControllPanel_LoadOptions = $GetItem(this$static.FileTemp, 'ControllPanel_LoadOptions');
  ControllPanel_SaveOptions = $GetItem(this$static.FileTemp, 'ControllPanel_SaveOptions');
  ControllPanel_LoggedOut = $GetItem(this$static.FileTemp, 'ControllPanel_LoggedOut');
  ControllPanel_loggingout = $GetItem(this$static.FileTemp, 'ControllPanel_loggingout');
  ControllPanel_loggingout2 = $GetItem(this$static.FileTemp, 'ControllPanel_loggingout2');
  ControllPanel_Medium = $GetItem(this$static.FileTemp, 'ControllPanel_Medium');
  ControllPanel_off = $GetItem(this$static.FileTemp, 'ControllPanel_off');
  ControllPanel_on = $GetItem(this$static.FileTemp, 'ControllPanel_on');
  ControllPanel_Small = $GetItem(this$static.FileTemp, 'ControllPanel_Small');
  ControllPanel_SoundEffects = $GetItem(this$static.FileTemp, 'ControllPanel_SoundEffects');
  ControllPanel_CurrentMusic = $GetItem(this$static.FileTemp, 'ControllPanel_CurrentMusic');
  ControllPanel_IECantDoLongLinks = $GetItem(this$static.FileTemp, 'ControllPanel_IECantDontLongLinks');
  ControllPanel_QualitySetting = $GetItem(this$static.FileTemp, 'ControllPanel_QualitySetting');
  GameReset_Title = $GetItem(this$static.FileTemp, 'ResetGame_Title');
  GameReset_Button = $GetItem(this$static.FileTemp, 'ResetGame_Button');
  GameReset_Warning = $GetItem(this$static.FileTemp, 'ResetGame_Warning');
  Magnify_Magnify = $GetItem(this$static.FileTemp, 'Magnify_Magnify');
  Login_PleaseLogin = $GetItem(this$static.FileTemp, 'Login_PleaseLogin');
  Login_Username = $GetItem(this$static.FileTemp, 'Login_Username');
  Login_Password = $GetItem(this$static.FileTemp, 'Login_Password');
  Login_Rememberme = $GetItem(this$static.FileTemp, 'Login_Rememberme');
  Login_SignUp = $GetItem(this$static.FileTemp, 'Login_SignUp');
  Login_GuestLogin = $GetItem(this$static.FileTemp, 'Login_GuestLogin');
  Login_ForgotPassword = $GetItem(this$static.FileTemp, 'Login_ForgotPassword');
  Login_ClearCookies = $GetItem(this$static.FileTemp, 'Login_ClearCookies');
  CluePanel_loading = $GetItem(this$static.FileTemp, 'CluePanel_loading');
  CluePanel_instructions = $GetItem(this$static.FileTemp, 'CluePanel_instructions');
  CluePanel_instructions2 = $GetItem(this$static.FileTemp, 'CluePanel_instructions2');
  CluePanel_chapterheader = $GetItem(this$static.FileTemp, 'CluePanel_chapterheader');
  CluePanel_buy = $GetItem(this$static.FileTemp, 'CluePanel_buy');
  CluePanel_cancel = $GetItem(this$static.FileTemp, 'CluePanel_cancel');
  CluePanel_purchasedclue = $GetItem(this$static.FileTemp, 'CluePanel_purchasedclue');
  $updateText(($clinit_JAM() , ControlPanel));
  $refreshText_0(loadGamePopup);
  $refreshText_2(saveGamePopup);
  $setText_0(ControllPanelShadows.caption, MainGame_SaveOrLoadYourGame);
  $setCaptionText(($clinit_JAMcore() , PlayersInventoryFrame), MainGame_Inventory);
  $setText_0(PlayersNotepadFrame.caption, MainGame_Charecter_Profiles);
  $setText_0(SecretPanelFrame.caption, MainGame_Secrets_Found);
  $setTitle(closeallwindows, MainGame_CloseAlWindows);
  $setText(dynamicCast(EnterAns.get_1(), 274), MainGame_submit);
  $info_1(Log_74, 'setting up login box text ' + Login_SignUp);
  $setText_1(($clinit_ServerOptions() , user_login).signup, Login_SignUp);
  $setText_0(user_login.lab_password, Login_Password);
  $setText_0(user_login.lab_rememberme, Login_Rememberme);
  $setText_1(user_login.guestlogin, Login_GuestLogin);
  $setText_1(user_login.forgotpassword, Login_ForgotPassword);
  $setText_0(user_login.lab_name, Login_Username);
  $setText_1(user_login.clearcookies, Login_ClearCookies);
  $setText_0(user_login.lab_loginplease, Login_PleaseLogin);
  $setText_0(CluePopUp.instructions, CluePanel_instructions);
  $setText_0(CluePopUp.instructions2, CluePanel_instructions2);
  $setText_0(CluePopUp.chapterheader, CluePanel_chapterheader);
  $setText(CluePopUp.buy, CluePanel_buy);
  $setText(CluePopUp.cancel, CluePanel_cancel);
  $info_1(Log_74, 'loaded games text');
}

function GamesInterfaceText(){
  $clinit_GamesInterfaceText();
  this.FileTemp = new AssArray;
}

defineClass(697, 665, {}, GamesInterfaceText);
var Log_74;
var Lcom_lostagain_JamGwt_GamesInterfaceText_2_classLit = createForClass('com.lostagain.JamGwt', 'GamesInterfaceText', 697, Lcom_lostagain_Jam_GamesInterfaceTextCore_2_classLit);
function $clinit_GwtAnswerBox(){
  $clinit_GwtAnswerBox = emptyMethod;
  Log_75 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GwtAnswerBox'));
}

function $setEnabled_1(this$static, b){
  $setEnabled(this$static.widgetContents, b);
}

function $setText_6(this$static, text_0){
  $setText_4(this$static.widgetContents, text_0);
}

function GwtAnswerBox(){
  $clinit_GwtAnswerBox();
  this.widgetContents = new TextBox;
  $addDomHandler(this.widgetContents, new GwtAnswerBox$1(this), ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_6));
}

defineClass(135, 74, {74:1, 135:1}, GwtAnswerBox);
_.getVisualRepresentation = function getVisualRepresentation_5(){
  return this.widgetContents;
}
;
var Log_75;
var Lcom_lostagain_JamGwt_GwtAnswerBox_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtAnswerBox', 135, Lcom_lostagain_Jam_JamAnswerBox_2_classLit);
function GwtAnswerBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(701, 1, $intern_40, GwtAnswerBox$1);
_.onKeyDown = function onKeyDown_0(event_0){
  var Key;
  Key = $eventGetKeyCode(event_0.nativeEvent);
  if (Key == 13) {
    $setText_6(this.this$01, $trim(RemoveCartReturns($getPropertyString($getElement(this.this$01.widgetContents), 'value'))));
    if ($getPropertyString($getElement(this.this$01.widgetContents), 'value').length > 1) {
      $info_1(($clinit_GwtAnswerBox() , Log_75), 'answer given from keydown');
      AnswerGiven($getPropertyString($getElement(this.this$01.widgetContents), 'value'));
    }
  }
}
;
var Lcom_lostagain_JamGwt_GwtAnswerBox$1_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtAnswerBox/1', 701, Ljava_lang_Object_2_classLit);
function $AddClueImplementation(this$static, Clue, ClueName, ForChapter){
  var ClueChapters, ClueChaptersit, CluesForChapter, CluesForChapterit, cluetoadd, currentChapter;
  ($clinit_System() , out_0).print_0('\n-----------------------------');
  $TestForMatch(this$static.Clues, ForChapter, Clue) || $AddItem(this$static.Clues, ClueName + ': ' + Clue, ForChapter);
  ClueChapters = $getAllUniqueNames(this$static.Clues);
  this$static.display_0 = '';
  for (ClueChaptersit = new AbstractList$IteratorImpl(ClueChapters); ClueChaptersit.i < ClueChaptersit.this$01_0.size_1();) {
    currentChapter = (checkCriticalElement(ClueChaptersit.i < ClueChaptersit.this$01_0.size_1()) , dynamicCastToString(ClueChaptersit.this$01_0.get_0(ClueChaptersit.last = ClueChaptersit.i++)));
    this$static.display_0 = this$static.display_0 + '<\/br><b>' + currentChapter + '<\/b>;';
    CluesForChapter = $GetAllItems(this$static.Clues, currentChapter);
    for (CluesForChapterit = new AbstractList$IteratorImpl(CluesForChapter); CluesForChapterit.i < CluesForChapterit.this$01_0.size_1();) {
      cluetoadd = (checkCriticalElement(CluesForChapterit.i < CluesForChapterit.this$01_0.size_1()) , dynamicCastToString(CluesForChapterit.this$01_0.get_0(CluesForChapterit.last = CluesForChapterit.i++)));
      this$static.display_0 = this$static.display_0 + '<br>-' + cluetoadd;
    }
  }
  $setHTML(this$static.contents, this$static.display_0);
}

function $setSize_2(this$static, w, h){
  $setSize_1(this$static.visualContents, w, h);
}

function GwtClueBox(){
  this.Clues = new AssArray;
  this.visualContents = new ScrollPanel;
  this.contents = new HTML;
  this.ContainerGrid = new Grid_0(3);
  $setSize_1(this.visualContents, '100%', '100%');
  $setSize(this.ContainerGrid, '100%', '100%');
  $setWidget_0(this.ContainerGrid, 1, 1, this.contents);
  $setVerticalAlignment_1(this.ContainerGrid.cellFormatter, 1, 1, ($clinit_HasVerticalAlignment() , ALIGN_TOP));
  $setPropertyInt(this.ContainerGrid.tableElem, 'cellPadding', 0);
  $setPropertyInt(this.ContainerGrid.tableElem, 'cellSpacing', 0);
  $setWidth_4(this.ContainerGrid.cellFormatter, 0, 2, '26px');
  $setWidth_4(this.ContainerGrid.cellFormatter, 0, 0, '11px');
  $setHeight_3(this.ContainerGrid.cellFormatter, 0, 0, '41px');
  $setWidth_4(this.ContainerGrid.cellFormatter, 1, 0, '11px');
  $setHeight_3(this.ContainerGrid.cellFormatter, 2, 0, '9px');
  $setStylePrimaryName(this.visualContents, 'clues');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 0, 0, 'CluesTopLeft');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 0, 1, 'CluesTopMid');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 0, 2, 'CluesTopRight');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 1, 0, 'CluesMidLeft');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 1, 2, 'CluesMidRight');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 2, 0, 'CluesBottomLeft');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 2, 1, 'CluesBottomMid');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 2, 2, 'CluesBottomRight');
  $setStylePrimaryName_0(this.ContainerGrid.cellFormatter, 1, 1, 'CluesBack');
  $setWidget(this.visualContents, this.ContainerGrid);
  $setHTML(this.contents, 'This is a box for clues');
}

defineClass(780, 779, $intern_51, GwtClueBox);
_.asWidget = function asWidget_4(){
  return this.visualContents;
}
;
_.display_0 = '';
var Lcom_lostagain_JamGwt_GwtClueBox_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtClueBox', 780, Lcom_lostagain_Jam_JamClueControll_2_classLit);
function $clinit_GwtFileManagerImp(){
  $clinit_GwtFileManagerImp = emptyMethod;
  Log_76 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GwtFileManagerImp'));
  LocalFolderLocation_1 = (dynamicCast(($clinit_RequiredImplementations() , BasicGameInformationImplemention).get_1(), 89) , $get_9(($clinit_BasicGameInformationImp() , theme), 'localloc'));
  textfetcher_url = (dynamicCast(BasicGameInformationImplemention.get_1(), 89) , getHostPageBaseURL() + 'text%20fetcher.php');
  allCachedTextFiles = new HashMap;
}

function $getText_1(location_0, runoncomplete, runonerror, forcePost){
  forcePost?GetTextFile(location_0, runoncomplete, runonerror, true, false):GetTextFile(location_0, runoncomplete, runonerror, false, true);
}

function GetTextFile(fileurl, callback, onError, forcePOST, UseCache){
  $clinit_GwtFileManagerImp();
  var contents, e, inlineOveride, requestBuilder, requestType, responseManagment, url_0;
  inlineOveride = getExternalFileOverride(fileurl);
  if (inlineOveride != null) {
    $info_1(Log_76, 'contents found in interal override:' + fileurl);
    callback.run_2(inlineOveride, 200);
    return;
  }
  if (UseCache) {
    contents = dynamicCastToString(allCachedTextFiles.get_2(fileurl));
    if (contents != null) {
      $info_1(Log_76, 'contents found in cache');
      callback.run_2(contents, 200);
      return;
    }
  }
  responseManagment = new GwtFileManagerImp$1(UseCache, fileurl, callback, onError);
  if (LocalFolderLocation_1.length < 3) {
    requestBuilder = new RequestBuilder(($clinit_RequestBuilder() , POST), textfetcher_url);
    try {
      throwIfNull('callback', responseManagment);
      $doSend(requestBuilder, 'FileURL=' + fileurl, responseManagment);
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 84)) {
        e = $e0;
        $printStackTrace(e, ($clinit_System() , err));
        out_0.println_0('can not connect to file via php:' + fileurl);
      }
       else 
        throw unwrap($e0);
    }
  }
   else {
    requestType = ($clinit_RequestBuilder() , GET);
    forcePOST && (requestType = POST);
    url_0 = fileurl;
    isAbsolutePath(fileurl) || (url_0 = LocalFolderLocation_1 + fileurl);
    requestBuilder = new RequestBuilder(requestType, url_0);
    try {
      throwIfNull('callback', responseManagment);
      $doSend(requestBuilder, '', responseManagment);
    }
     catch ($e1) {
      $e1 = wrap($e1);
      if (instanceOf($e1, 84)) {
        e = $e1;
        ($clinit_System() , out_0).println_0('can not connect to file:' + fileurl);
        $printStackTrace(e, err);
        !!onError && onError.run_1('could not event send request:' + e.detailMessage, null);
      }
       else 
        throw unwrap($e1);
    }
  }
}

function getAbsolutePathStatic(relativepath){
  $clinit_GwtFileManagerImp();
  var fullpath;
  $info_1(Log_76, 'get full path of:' + relativepath);
  if (isAbsolutePath(relativepath)) {
    $info_1(Log_76, 'path is likely already absolutee');
    return relativepath;
  }
  fullpath = getabsolute(getHostPageBaseURL(), relativepath);
  return fullpath;
}

function getabsolute(base, relative){
  var i, part, part$iterator, parts, splitstack, stack_0, string, string$index, string$max, url_0;
  stack_0 = new LinkedList;
  $info_1(Log_76, 'base=' + base);
  splitstack = $split_0(base, '/', 0);
  parts = $split_0(relative, '/', 0);
  $info_1(Log_76, 'splitstack=' + toString__Ljava_lang_String___devirtual$(splitstack));
  for (string$index = 0 , string$max = splitstack.length; string$index < string$max; ++string$index) {
    string = splitstack[string$index];
    $addNode(stack_0, string, stack_0.header, stack_0.header.next);
  }
  $info_1(Log_76, 'stack=' + $toString_0(stack_0));
  for (i = 0; i < parts.length; i++) {
    if (parts[i] == '.')
      continue;
    parts[i] == '..'?$info_1(Log_76, (checkCriticalElement(stack_0.size_0 != 0) , 'removing:' + dynamicCastToString($removeNode(stack_0, stack_0.header.next)))):($addNode(stack_0, parts[i], stack_0.header, stack_0.header.next) , undefined);
  }
  url_0 = '';
  for (part$iterator = $listIterator_0(stack_0, 0); part$iterator.currentNode != part$iterator.this$01.tail;) {
    part = (checkCriticalElement(part$iterator.currentNode != part$iterator.this$01.tail) , part$iterator.lastNode = part$iterator.currentNode , part$iterator.currentNode = part$iterator.currentNode.next , ++part$iterator.currentIndex , dynamicCastToString(part$iterator.lastNode.value_0));
    $info_1(Log_76, 'part=' + part);
    url_0 = part + '/' + url_0;
  }
  $endsWith(url_0, '/') && (url_0 = $substring_0(url_0, 0, url_0.length - 1));
  $info_1(Log_76, 'full path is worked out as:' + url_0);
  return url_0;
}

function isAbsolutePath(relativepath){
  if (relativepath.indexOf(':/') != -1 || $equals_5(relativepath.substr(0, 4), 'www.')) {
    $info_1(Log_76, relativepath + ' seems to be a absolute path');
    return true;
  }
  return false;
}

var LocalFolderLocation_1, Log_76, allCachedTextFiles, textfetcher_url;
function GwtFileManagerImp$1(val$UseCache, val$fileurl, val$callback, val$onError){
  this.val$UseCache1 = val$UseCache;
  this.val$fileurl2 = val$fileurl;
  this.val$callback3 = val$callback;
  this.val$onError4 = val$onError;
}

defineClass(640, 1, {}, GwtFileManagerImp$1);
_.onError_1 = function onError_6(request, exception){
  this.val$onError4.run_1('', exception);
}
;
_.onResponseReceived = function onResponseReceived_2(request, response){
  if (response.xmlHttpRequest.status == 200 && this.val$UseCache1) {
    $info_1(($clinit_GwtFileManagerImp() , Log_76), 'found file at ' + this.val$fileurl2 + ', storing in cache');
    allCachedTextFiles.put(this.val$fileurl2, response.xmlHttpRequest.responseText);
  }
  $info_1(($clinit_GwtFileManagerImp() , Log_76), 'got file running callback ');
  this.val$callback3.run_2(response.xmlHttpRequest.responseText, response.xmlHttpRequest.status);
}
;
_.val$UseCache1 = false;
var Lcom_lostagain_JamGwt_GwtFileManagerImp$1_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtFileManagerImp/1', 640, Ljava_lang_Object_2_classLit);
function $clinit_BasicGameInformationImp(){
  $clinit_BasicGameInformationImp = emptyMethod;
  theme = getDictionary();
}

function BasicGameInformationImp(){
  $clinit_BasicGameInformationImp();
}

defineClass(585, 1, {89:1}, BasicGameInformationImp);
var theme;
var Lcom_lostagain_JamGwt_GwtJamImplementations_BasicGameInformationImp_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'BasicGameInformationImp', 585, Ljava_lang_Object_2_classLit);
function $clinit_GWTAnimatedIcon(){
  $clinit_GWTAnimatedIcon = emptyMethod;
  $clinit_SpiffyAnimatedIcon();
  Log_77 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GWTAnimatedIcon'));
}

function $intialise(this$static, FileZeroLocation, NumOfFrames){
  if (NumOfFrames == 1) {
    $info_1(Log_77, 'static image mode used for sprite');
    this$static.mode = 3;
    $initWidget(this$static, this$static.imageContents);
    $setUrl_1(this$static.imageContents, FileZeroLocation);
    !!this$static.animation.runThisOnFrameChange && $run_18(this$static.animation.runThisOnFrameChange);
    $setFrametotal(this$static.animation, 0);
    $setupVariables(this$static, FileZeroLocation, 1);
    $setAttribute($getElement(this$static.imageContents), 'draggable', 'false');
    return;
  }
   else {
    ($clinit_BasicGameInformationImp() , $get_9(theme, 'localloc')).length > 3?(this$static.mode = 2 , $info_1(($clinit_SpiffyAnimatedIcon() , Log_10), 'flip book made set') , $setupVariables(this$static, FileZeroLocation, NumOfFrames) , this$static.flipBookContainer.add_2(this$static.flipBook) , $initWidget(this$static, this$static.flipBookContainer) , this$static.contents = this$static.flipBookContainer , $setAttribute($getElement(this$static.flipBookContainer), 'draggable', 'false') , $fillDeckPanel(this$static) , this$static.timer = new SpiffyAnimatedIcon$2(this$static) , !!this$static.animation.runThisOnFrameChange && $run_18(this$static.animation.runThisOnFrameChange) , $info_1(Log_10, 'flip book made setup')):($initWidget(this$static, this$static.imageContents) , $setUrl_1(this$static.imageContents, FileZeroLocation) , !!this$static.animation.runThisOnFrameChange && $run_18(this$static.animation.runThisOnFrameChange) , $setupVariables(this$static, FileZeroLocation, NumOfFrames) , $setAttribute($getElement(this$static.imageContents), 'draggable', 'false') , $prefetchImages(this$static) , this$static.timer = new SpiffyAnimatedIcon$2(this$static));
  }
}

function $setInventoryIconTo(this$static, location_0, iconsframes){
  if ($equals_5(location_0.substr(0, 10), 'magrietbag')) {
    $clinit_JAM();
    BigInventoryImages = ($clinit_JamImages() , BigMarInventoryImages);
    MediumInventoryImages = MediumMarInventoryImages;
    SmallInventoryImages = SmallMarInventoryImages;
    switch ($clinit_JAMcore() , iconsizestring) {
      case 'BIG':
        $setFrames(this$static, BigInventoryImages);
        break;
      case 'MEDIUM':
        $setFrames(this$static, MediumInventoryImages);
        break;
      case 'SMALL':
        $setFrames(this$static, SmallInventoryImages);
        break;
      default:$setFrames(this$static, BigInventoryImages);
    }
  }
   else {
    if (location_0.length > 5) {
      $setURL(this$static, 'GameIcons/' + ($clinit_JAMcore() , iconsizestring) + '/' + location_0, iconsframes);
      $info_1(Log_77, '- setting inventory icon too:' + location_0);
    }
  }
}

function GWTAnimatedIcon(){
  $clinit_GWTAnimatedIcon();
  SpiffyAnimatedIcon.call(this);
}

function GWTAnimatedIcon_0(FileZeroLocation, NumOfFrames){
  $clinit_GWTAnimatedIcon();
  SpiffyAnimatedIcon.call(this);
  $intialise(this, FileZeroLocation, NumOfFrames);
}

function GWTAnimatedIcon_1(SetFrames){
  $clinit_GWTAnimatedIcon();
  SpiffyAnimatedIcon_0.call(this, SetFrames);
}

function GWTAnimatedIcon_2(SetFrames){
  $clinit_GWTAnimatedIcon();
  $$init_3(this);
  $bundledBasedSetup(this, SetFrames, 'clickVisualiser');
}

defineClass(88, 331, $intern_126, GWTAnimatedIcon, GWTAnimatedIcon_0, GWTAnimatedIcon_1, GWTAnimatedIcon_2);
var Log_77;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GWTAnimatedIcon_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GWTAnimatedIcon', 88, Lcom_darkflame_client_SpiffyGWT_SpiffyAnimatedIcon_2_classLit);
function GWTAnimatedIcon$1(val$onClick){
  this.val$onClick2 = val$onClick;
}

defineClass(649, 1, $intern_17, GWTAnimatedIcon$1);
_.onClick = function onClick_25(event_0){
  $run_9(this.val$onClick2);
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GWTAnimatedIcon$1_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GWTAnimatedIcon/1', 649, Ljava_lang_Object_2_classLit);
function GWTAnimatedIcon$2(val$onMouseOver){
  this.val$onMouseOver2 = val$onMouseOver;
}

defineClass(650, 1, $intern_15, GWTAnimatedIcon$2);
_.onMouseOver = function onMouseOver_4(event_0){
  $run_10(this.val$onMouseOver2);
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GWTAnimatedIcon$2_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GWTAnimatedIcon/2', 650, Ljava_lang_Object_2_classLit);
function GWTAnimatedIcon$3(val$onMouseOut){
  this.val$onMouseOut2 = val$onMouseOut;
}

defineClass(651, 1, $intern_16, GWTAnimatedIcon$3);
_.onMouseOut = function onMouseOut_6(event_0){
  $run_11(this.val$onMouseOut2);
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GWTAnimatedIcon$3_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GWTAnimatedIcon/3', 651, Ljava_lang_Object_2_classLit);
function GWTImagePreloader(){
}

defineClass(788, 1, {417:1}, GWTImagePreloader);
var Lcom_lostagain_JamGwt_GwtJamImplementations_GWTImagePreloader_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GWTImagePreloader', 788, Ljava_lang_Object_2_classLit);
function $add_22(this$static, gwtSceneAndPageSet, name_0){
  $add_9(this$static.GamesChaptersPanel, gwtSceneAndPageSet, name_0);
}

function $getWidgetIndex_1(this$static, gwtSceneAndPageSet){
  return $getWidgetIndex_0(this$static.GamesChaptersPanel, !gwtSceneAndPageSet?null:gwtSceneAndPageSet.visualContents);
}

function $newchapter_specificImplementation(CurrentProperty){
  var NewChapter;
  CurrentProperty = $substring_0(CurrentProperty, 1, CurrentProperty.length - 1);
  $info_1(($clinit_JAM() , GwtLog), "Createing a new chapter called '" + CurrentProperty + "' \n");
  NewChapter = new GWTSceneAndPageSet;
  ($clinit_GameManagementClass() , AllSceneAndPageSets).add_0(NewChapter);
  ($clinit_JAMcore() , CurrentScenesAndPages).tabsFunctionDisabled = true;
  currentOpenPages.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  locationpuzzlesActive.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  CurrentLocationTabsIndex = $indexOf_0(AllSceneAndPageSets, NewChapter, 0);
  CurrentScenesAndPages = dynamicCast($get(AllSceneAndPageSets, CurrentLocationTabsIndex), 230);
  $add_22(GamesChaptersPanel, CurrentScenesAndPages, CurrentProperty);
  $addTab(ChapterList_0, CurrentProperty, $getWidgetIndex_1(GamesChaptersPanel, CurrentScenesAndPages));
  $selectTab_1(GamesChaptersPanel, $getWidgetIndex_1(GamesChaptersPanel, CurrentScenesAndPages));
}

function $selectTab_1(this$static, widgetIndex){
  $selectTab_0(this$static.GamesChaptersPanel, widgetIndex);
}

function $setAnimationEnabled_2(this$static, animationEffectsOn){
  $setAnimationEnabled_1(this$static.GamesChaptersPanel, animationEffectsOn);
  $setAnimationEnabled_0(this$static.GamesChaptersPanel.deck, animationEffectsOn);
}

function $setStoryPageScrollBar(this$static, b){
  if (b) {
    $getElement(this$static.GamesChaptersPanel).style['overflow'] = ($clinit_Style$Overflow() , 'auto');
    $getElement(this$static.GamesChaptersPanel.deck).style['overflow'] = 'auto';
  }
   else {
    $getElement(this$static.GamesChaptersPanel).style['overflow'] = ($clinit_Style$Overflow() , 'hidden');
    $getElement(this$static.GamesChaptersPanel.deck).style['overflow'] = 'hidden';
  }
}

function $setupMoreStyleing(this$static){
  $setSize(this$static.GamesChaptersPanel, '100%', '100%');
  $setSize(this$static.GamesChaptersPanel.deck, '100%', ($clinit_JAM() , Story_Text_Height) + 'px');
  $setStylePrimaryName(this$static.GamesChaptersPanel, 'standard_message');
}

function GwtChapterControl(){
  var bottompanel;
  this.GamesChaptersPanel = new DecoratedTabPanel;
  $setStylePrimaryName(this.GamesChaptersPanel, 'standard_message_back');
  $setAnimationEnabled_1(this.GamesChaptersPanel, false);
  bottompanel = $getFirstChild($getFirstChild($getElement(this.GamesChaptersPanel).firstChild.childNodes[1]));
  $setPropertyImpl(bottompanel.style, 'overflow', 'auto');
  $setPropertyImpl(bottompanel.style, 'overflow', 'hidden');
}

defineClass(641, 1487, $intern_51, GwtChapterControl);
_.asWidget = function asWidget_5(){
  return this.GamesChaptersPanel;
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtChapterControl_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtChapterControl', 641, Lcom_lostagain_Jam_Interfaces_JamChapterControl_2_classLit);
function $addSecret(secretname, secreturl){
  $setVisible(($clinit_JAM() , SecretsPopupPanelButton), true);
  $addItem_1(SecretPanel, secretname, secreturl);
}

function $setSoldierURL(iconloc, iconframes){
  $setURL(($clinit_JAM() , solider), 'GameIcons/' + ($clinit_JAMcore() , iconsizestring) + '/' + iconloc, iconframes);
}

function $setStatueHeadUrl(iconlocscl, iconframes){
  $setURL(($clinit_JAM() , StatueHead), 'GameIcons/' + ($clinit_JAMcore() , iconsizestring) + '/' + iconlocscl, iconframes);
}

function GwtCuypersCodeSpecificFunctions(){
}

defineClass(792, 1, {416:1}, GwtCuypersCodeSpecificFunctions);
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtCuypersCodeSpecificFunctions_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtCuypersCodeSpecificFunctions', 792, Ljava_lang_Object_2_classLit);
function $TriggerEffectImplementation(EffectName, InstructionSet){
  var InstructionSetLoc, afterFadeInstructions;
  $info_1(($clinit_JAM() , GwtLog), '-' + EffectName + '-' + (compareTo_5(EffectName, 'Flash') == 0));
  if (compareTo_5(EffectName, 'Flash') == 0) {
    EffectOverlay.attached || $add_8(($clinit_RootPanel() , get_14(null)), EffectOverlay, 0, 0);
    $setSize(EffectOverlay, '100%', '100%');
    $info_1(GwtLog, '- Flash starting -');
    $Flash(EffectOverlay);
    $Flash(EffectOverlay);
    $info_1(GwtLog, '- Flash done -');
  }
  if (compareTo_5(EffectName, 'FadeOut') == 0) {
    EffectOverlay.attached || $add_8(($clinit_RootPanel() , get_14(null)), EffectOverlay, 0, 0);
    $setSize(EffectOverlay, '100%', '100%');
    $FadeOut(EffectOverlay, $intern_10);
    InstructionSetLoc = InstructionSet.indexOf('FadeOut', 0) + 7;
    afterFadeInstructions = $trim(__substr(InstructionSet, InstructionSetLoc, InstructionSet.length - InstructionSetLoc));
    $info_1(GwtLog, 'instructions after fade out;' + afterFadeInstructions);
    $ProcessThisAfter(EffectOverlay, afterFadeInstructions);
    endInstructions = true;
    $info_1(GwtLog, '- Fadeing out -');
  }
  if (compareTo_5(EffectName, 'FadeIn') == 0) {
    EffectOverlay.attached || $add_8(($clinit_RootPanel() , get_14(null)), EffectOverlay, 0, 0);
    $setSize(EffectOverlay, '100%', '100%');
    $FadeIn(EffectOverlay, $intern_10);
    InstructionSetLoc = InstructionSet.indexOf('FadeIn', 0) + 6;
    afterFadeInstructions = $trim(__substr(InstructionSet, InstructionSetLoc, InstructionSet.length - InstructionSetLoc));
    $info_1(GwtLog, 'instructions after fade in;' + afterFadeInstructions);
    $ProcessThisAfter(EffectOverlay, afterFadeInstructions);
    endInstructions = true;
    $info_1(GwtLog, '- Fadeing in -');
  }
  if (compareTo_5(EffectName, 'Hacked') == 0) {
    EffectOverlay.attached || $add_8(($clinit_RootPanel() , get_14(null)), EffectOverlay, 0, 0);
    $Hacked_in(EffectOverlay);
    $Hacked_out(EffectOverlay);
  }
  compareTo_5(EffectName, 'Clear') == 0 && $Clear(EffectOverlay);
}

function GwtGlobalGameEffects(){
  $clinit_JamGlobalGameEffects();
}

defineClass(793, 260, {260:1}, GwtGlobalGameEffects);
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtGlobalGameEffects_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtGlobalGameEffects', 793, Lcom_lostagain_Jam_JamGlobalGameEffects_2_classLit);
function GwtGlobalGameEffects$1(){
}

defineClass(794, 1, {}, GwtGlobalGameEffects$1);
_.run = function run_64(){
  $setPlayForwardThenBack(($clinit_JAM() , StatueHead).animation);
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtGlobalGameEffects$1_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtGlobalGameEffects/1', 794, Ljava_lang_Object_2_classLit);
function GwtGlobalGameEffects$2(){
}

defineClass(795, 1, {}, GwtGlobalGameEffects$2);
_.run = function run_65(){
  $setPlayForwardThenBack(($clinit_JAM() , solider).animation);
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtGlobalGameEffects$2_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtGlobalGameEffects/2', 795, Ljava_lang_Object_2_classLit);
function $clinit_GwtMouseCursorManagement(){
  $clinit_GwtMouseCursorManagement = emptyMethod;
  Log_78 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JamGwt.GwtMouseCursorManagement'));
}

function $setMouseCursorToHolding(holdThis){
  var dataURL;
  $info_1(Log_78, 'setting mouse holding image');
  dataURL = $getDataURL(holdThis);
  dataURL == null?$setPropertyImpl(getBodyElement().style, 'cursor', 'url(./GameIcons/prettycursor.cur),pointer'):(getBodyElement().style['cursor'] = 'url(' + dataURL + '),' + 'url(./GameIcons/prettycursor.cur),pointer' , undefined);
}

function $setMouseCursorToHoldingOver(holdThis){
  var dataURL;
  $info_1(Log_78, 'setting mouse holding over');
  dataURL = $getDataURLWithPlus(holdThis);
  dataURL == null?$setPropertyImpl(getBodyElement().style, 'cursor', 'url(./GameIcons/prettycursor.cur),pointer'):(getBodyElement().style['cursor'] = 'url(' + dataURL + '),' + 'url(./GameIcons/prettycursor.cur),pointer' , undefined);
}

function $setMouseFromImage(imageURL){
  var tempImage;
  tempImage = new Image_4(imageURL);
  $addHandler(tempImage, new GwtMouseCursorManagement$1(tempImage), ($clinit_LoadEvent() , $clinit_LoadEvent() , TYPE_9));
}

function GwtMouseCursorManagement(){
  $clinit_GwtMouseCursorManagement();
}

function setMouseImage(image){
  $clinit_GwtMouseCursorManagement();
  var dataURL;
  if (!image) {
    $setPropertyImpl(getBodyElement().style, 'cursor', 'url(./GameIcons/prettycursor.cur),pointer');
  }
   else {
    $info_1(($clinit_JAM() , GwtLog), 'set mouse cursor to:' + image.state.getUrl(image).uri_0 + 'isattached:' + image.attached);
    dataURL = getDataURLFromImage(image, ($clinit_SpiffyImageUtilitys() , SmallArrow));
    if (dataURL != null) {
      getBodyElement().style['cursor'] = 'url(' + dataURL + '),' + 'url(./GameIcons/prettycursor.cur),pointer';
      $info_1(GwtLog, 'set cursor to:' + getBodyElement().style['cursor']);
    }
     else {
      $setPropertyImpl(getBodyElement().style, 'cursor', 'url(./GameIcons/prettycursor.cur),pointer');
      $info_1(GwtLog, 'data url is null');
    }
  }
}

function setMouseImage_0(dataURL){
  $clinit_GwtMouseCursorManagement();
  getBodyElement().style['cursor'] = 'url(' + dataURL + '),' + 'url(./GameIcons/prettycursor.cur),pointer';
}

defineClass(796, 1, {207:1}, GwtMouseCursorManagement);
var Log_78;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtMouseCursorManagement_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtMouseCursorManagement', 796, Ljava_lang_Object_2_classLit);
function GwtMouseCursorManagement$1(val$tempImage){
  this.val$tempImage2 = val$tempImage;
}

defineClass(797, 1, $intern_44, GwtMouseCursorManagement$1);
_.onLoad_0 = function onLoad_8(event_0){
  setMouseImage(this.val$tempImage2);
  $removeFromParent(this.val$tempImage2);
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtMouseCursorManagement$1_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtMouseCursorManagement/1', 797, Ljava_lang_Object_2_classLit);
function $clinit_GwtPageElementStyleCommands(){
  $clinit_GwtPageElementStyleCommands = emptyMethod;
  Log_79 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GwtPageElementStyleCommands'));
}

function $addCSSClassToDomElement(Elementac, Classac){
  var elementToSetac;
  elementToSetac = ($clinit_DOM() , $clinit_DOM() , $getElementById($doc, Elementac));
  if (elementToSetac) {
    $addClassName($getElement(get_14(Elementac)), Classac);
    return true;
  }
   else {
    return false;
  }
}

function $fadeInHTMLElement(elementID, FadeInOverInMs){
  var OpacityStepPerMS, deltaFadeUpdate, elementToFade, finalstartingOpacity, previousRunnable, runnablesID, startingOpacity, style;
  elementToFade = getElementById($trim(elementID));
  if (!elementToFade) {
    return false;
  }
  $setPropertyImpl(elementToFade.style, 'display', '');
  style = elementToFade.style;
  startingOpacity = 100;
  if (style) {
    if (style['opacity'] != null) {
      try {
        startingOpacity = round_0(parseFloat_0(style['opacity']) * 100);
      }
       catch ($e0) {
        $e0 = wrap($e0);
        if (instanceOf($e0, 37)) {
          startingOpacity = 100;
        }
         else 
          throw unwrap($e0);
      }
    }
  }
  runnablesID = 'Fading_' + elementID;
  previousRunnable = ($clinit_DeltaTimerController() , dynamicCast($get_1(namedRunnables, runnablesID), 181));
  if (previousRunnable) {
    $info_1(($clinit_JAM() , GwtLog), 'canceled previous runnable');
    $add_21(objectsToUpdateOnFramePendingRemoveList, previousRunnable);
    $remove_7(namedRunnables, previousRunnable);
  }
  $info_1(($clinit_JAM() , GwtLog), 'fade in overlay in with ID:' + elementID + ' over ' + FadeInOverInMs);
  finalstartingOpacity = startingOpacity;
  OpacityStepPerMS = 100 / FadeInOverInMs;
  deltaFadeUpdate = new GwtPageElementStyleCommands$1(finalstartingOpacity, elementToFade, OpacityStepPerMS);
  deltaFadeUpdate.RunnablesName = runnablesID;
  $putInBothMaps(namedRunnables, deltaFadeUpdate.RunnablesName, deltaFadeUpdate);
  addObjectToUpdateOnFrame(deltaFadeUpdate);
  return true;
}

function $fadeOutHTMLElement(elementID, FadeOutOverInMs){
  var OpacityStepPerMS, deltaFadeUpdate, elementToFade, finalstartingOpacity, previousRunnable, runnablesID, startingOpacity, style;
  elementToFade = getElementById($trim(elementID));
  if (!elementToFade) {
    return false;
  }
  style = elementToFade.style;
  startingOpacity = 100;
  if (style) {
    if (style['opacity'] != null) {
      try {
        startingOpacity = round_0(parseFloat_0(style['opacity']) * 100);
      }
       catch ($e0) {
        $e0 = wrap($e0);
        if (instanceOf($e0, 37)) {
          startingOpacity = 100;
        }
         else 
          throw unwrap($e0);
      }
    }
  }
  runnablesID = 'Fading_' + elementID;
  previousRunnable = ($clinit_DeltaTimerController() , dynamicCast($get_1(namedRunnables, runnablesID), 181));
  if (previousRunnable) {
    $info_1(Log_79, 'canceled previous runnable');
    $add_21(objectsToUpdateOnFramePendingRemoveList, previousRunnable);
    $remove_7(namedRunnables, previousRunnable);
  }
  $info_1(Log_79, 'fading overlay with ID:' + elementID + ' over ' + FadeOutOverInMs);
  finalstartingOpacity = startingOpacity;
  OpacityStepPerMS = 100 / FadeOutOverInMs;
  $info_1(Log_79, 'OpacityStepPerMS:' + OpacityStepPerMS);
  deltaFadeUpdate = new GwtPageElementStyleCommands$2(finalstartingOpacity, elementToFade, OpacityStepPerMS);
  deltaFadeUpdate.RunnablesName = runnablesID;
  $putInBothMaps(namedRunnables, deltaFadeUpdate.RunnablesName, deltaFadeUpdate);
  addObjectToUpdateOnFrame(deltaFadeUpdate);
  return true;
}

function $hideelement(IDnamehe){
  var elementToHidehe;
  elementToHidehe = ($clinit_DOM() , $clinit_DOM() , $getElementById($doc, IDnamehe));
  if (elementToHidehe) {
    $setPropertyImpl(elementToHidehe.style, 'display', ($clinit_Style$Display() , 'none'));
    return true;
  }
  if ($equalsIgnoreCase(IDnamehe, 'MyApplication.Feedback')) {
    $setVisible(($clinit_JAM() , MessageBackButton), false);
    $setVisible(MessageForwardButton, false);
    $setVisible(MessageHistoryButton, false);
    return false;
  }
  return false;
}

function $removeCSSClassFromDomElement(elementID, Classac){
  var elementToSetac;
  elementToSetac = ($clinit_DOM() , $clinit_DOM() , $getElementById($doc, elementID));
  if (elementToSetac) {
    $removeClassName($getElement(get_14(elementID)), Classac);
    return true;
  }
   else {
    return false;
  }
}

function $setBackgroundClass(currentProperty){
  compareTo_5(currentProperty, 'none') == 0?$setClassName(getBodyElement(), ''):$setClassName(getBodyElement(), currentProperty);
}

function $setCSSClassOnDomElement(elementsID, classestoset){
  var elementToSetac;
  elementToSetac = ($clinit_DOM() , $clinit_DOM() , $getElementById($doc, elementsID));
  if (elementToSetac) {
    $setClassName(elementToSetac, classestoset);
    return true;
  }
   else {
    return false;
  }
}

function $setStyleOnElement(elementsID, styletoset){
  var elementToSet;
  elementToSet = ($clinit_DOM() , $clinit_DOM() , $getElementById($doc, elementsID));
  if (!elementToSet) {
    $info_1(Log_79, 'Error: Cant find requested element in DOM');
    return false;
  }
  $setAttribute(elementToSet, 'style', styletoset);
  return true;
}

function $showelement(elementsID){
  var elementToHide;
  elementToHide = ($clinit_DOM() , $clinit_DOM() , $getElementById($doc, elementsID));
  if (elementToHide) {
    $getElement(get_14(elementsID)).style['display'] = ($clinit_Style$Display() , 'block');
    return true;
  }
  if ($equalsIgnoreCase(elementsID, 'MyApplication.Feedback')) {
    $setVisible(($clinit_JAM() , MessageBackButton), true);
    $setVisible(MessageForwardButton, true);
    $setVisible(MessageHistoryButton, true);
    return false;
  }
  return false;
}

function $testIfDivHasClass(divWithThisIDToCheck, classToLookFor){
  var classes, divToCheck, hasClass;
  divToCheck = ($clinit_DOM() , $clinit_DOM() , $getElementById($doc, divWithThisIDToCheck));
  if (!divToCheck) {
    $info_1(Log_79, 'No div found with ID  ' + divWithThisIDToCheck + ' ');
    return false;
  }
  classes = ' ' + $getClassName(divToCheck) + ' ';
  hasClass = ($clinit_Boolean() , classes.indexOf(' ' + classToLookFor + ' ') != -1?TRUE_3:FALSE_2);
  return hasClass.value_0;
}

function GwtPageElementStyleCommands(){
  $clinit_GwtPageElementStyleCommands();
}

defineClass(789, 1, {157:1}, GwtPageElementStyleCommands);
var Log_79;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtPageElementStyleCommands_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtPageElementStyleCommands', 789, Ljava_lang_Object_2_classLit);
function GwtPageElementStyleCommands$1(val$finalstartingOpacity, val$elementToFade, val$OpacityStepPerMS){
  this.val$finalstartingOpacity2 = val$finalstartingOpacity;
  this.val$elementToFade4 = val$elementToFade;
  this.val$OpacityStepPerMS5 = val$OpacityStepPerMS;
  this.backopacity = this.val$finalstartingOpacity2;
  this.style_0 = this.val$elementToFade4.style;
}

defineClass(790, 181, $intern_21, GwtPageElementStyleCommands$1);
_.update_0 = function update_4(delta){
  var changeAmount;
  changeAmount = this.val$OpacityStepPerMS5 * delta;
  this.backopacity = this.backopacity + changeAmount;
  if (this.backopacity > 100) {
    $setPropertyImpl(this.style_0, 'filter', 'alpha(opacity=100)');
    $setPropertyImpl(this.style_0, 'opacity', '1');
    $add_21(($clinit_DeltaTimerController() , objectsToUpdateOnFramePendingRemoveList), this);
    $remove_7(namedRunnables, this);
    return;
  }
  this.style_0['filter'] = 'alpha(opacity=' + this.backopacity + ')';
  this.style_0['opacity'] = '' + this.backopacity / 100;
}
;
_.backopacity = 0;
_.val$OpacityStepPerMS5 = 0;
_.val$finalstartingOpacity2 = 0;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtPageElementStyleCommands$1_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtPageElementStyleCommands/1', 790, Lcom_darkflame_client_SpiffyCore_DeltaTimerController$DeltaRunnable_2_classLit);
function GwtPageElementStyleCommands$2(val$finalstartingOpacity, val$elementToFade, val$OpacityStepPerMS){
  this.val$finalstartingOpacity2 = val$finalstartingOpacity;
  this.val$elementToFade4 = val$elementToFade;
  this.val$OpacityStepPerMS5 = val$OpacityStepPerMS;
  this.backopacity = this.val$finalstartingOpacity2;
  this.style_0 = this.val$elementToFade4.style;
}

defineClass(791, 181, $intern_21, GwtPageElementStyleCommands$2);
_.update_0 = function update_5(delta){
  var changeAmount;
  changeAmount = this.val$OpacityStepPerMS5 * delta;
  this.backopacity = this.backopacity - changeAmount;
  this.style_0['filter'] = 'alpha(opacity=' + this.backopacity + ')';
  this.style_0['opacity'] = '' + this.backopacity / 100;
  if (this.backopacity < changeAmount) {
    this.backopacity = 0;
    this.style_0['filter'] = 'alpha(opacity=' + this.backopacity + ')';
    this.style_0['opacity'] = '' + this.backopacity / 100;
    $setPropertyImpl(this.style_0, 'display', ($clinit_Style$Display() , 'none'));
    $add_21(($clinit_DeltaTimerController() , objectsToUpdateOnFramePendingRemoveList), this);
    $remove_7(namedRunnables, this);
  }
}
;
_.backopacity = 0;
_.val$OpacityStepPerMS5 = 0;
_.val$finalstartingOpacity2 = 0;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtPageElementStyleCommands$2_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtPageElementStyleCommands/2', 791, Lcom_darkflame_client_SpiffyCore_DeltaTimerController$DeltaRunnable_2_classLit);
function $clinit_GwtScreenMangementImp(){
  $clinit_GwtScreenMangementImp = emptyMethod;
  Log_80 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GwtScreenMangementImp'));
}

function $PositionByCoOrdinates(placeThis, x_0, y_0){
  $add_8(($clinit_RootPanel() , get_14(null)), placeThis, x_0, y_0);
}

function $PositionByTag(placeThis){
  var container, toaddto, html;
  toaddto = getElementById(placeThis.getObjectsCurrentState().attachToHTMLDiv);
  if (toaddto) {
    container = (html = new HTMLPanel(toaddto) , $onAttach(html) , $clinit_RootPanel() , $add_21(widgetsToDetach, html) , html);
    container.children.size_0 > 0 && placeThis.ObjectsLog.info_0('elements already in container:' + container.children.size_0);
    $clear(container);
    $add_13(container, placeThis.internalFocusPanel);
    $setZIndex(placeThis, placeThis.getObjectsCurrentState().zindex);
    placeThis.ObjectsLog.info_0('Positioned');
  }
   else {
    $severe_0(Log_80, 'cant find element, so attaching at arbitary point');
    placeThis.ObjectsLog.log_1('cant find html element with that id, so attaching at arbitary point', 'red');
    $setPosition_2(placeThis, placeThis.getObjectsCurrentState().X, placeThis.getObjectsCurrentState().Y, placeThis.getObjectsCurrentState().Z, false, false, true);
  }
}

function $PositionByTag_0(placeThis, atThisTag){
  var tagLoc;
  tagLoc = get_14(atThisTag);
  tagLoc?$add_7(tagLoc, dynamicCast(placeThis, 7)):$warning_0(Log_80, ' could not place object at tag:' + atThisTag + ' as no element was found with that ID');
}

function $setBackgroundImage(imageLoc){
  if (compareTo_5(imageLoc, 'none') == 0) {
    $setAttribute(getBodyElement(), 'background', '');
    $clinit_JAM();
    CurrentBackground = 'none';
  }
   else {
    $setAttribute(getBodyElement(), 'background', imageLoc);
    $clinit_JAM();
    CurrentBackground = imageLoc;
  }
}

function $setControlPanelPosition(x_0, y_0){
  $setPopupPosition(($clinit_JAM() , ControllPanelShadows), x_0, y_0);
  ControllPanelShadows.centered = false;
}

function $setNewPage(pageLoadData){
  var NewMessageURL, POSTneeded, TabCount, URLDATA, cindex, dynamicPage, onError, onResponse, responseString, urlvars, useThisLocation;
  NewMessageURL = pageLoadData.pageURL;
  useThisLocation = pageLoadData.chapterToPlaceItOn;
  $clinit_JAMcore();
  storyPageLoading = true;
  GameLogger.log_0('____________________________ Loading Page: ' + NewMessageURL);
  !useThisLocation && GameLogger.log_1('__________________________ location is null?!', 'yellow');
  GameLogger.log_0('__________________________ location has ' + useThisLocation.PageCount + ' widgets');
  TabCount = useThisLocation.PageCount;
  cindex = 0;
  GameLogger.log_0(' index0 pagesInThisChapter' + TabCount);
  dynamicPage = $hasItem(($clinit_JAM() , dynamicPages), NewMessageURL);
  if (!dynamicPage && !$endsWith(NewMessageURL, '.php')) {
    if (useThisLocation == CurrentScenesAndPages) {
      while (cindex < TabCount) {
        if ($indexOf_2(dynamicCastToString($get(currentOpenPages, cindex)), NewMessageURL) > -1) {
          GameLogger.log_0('match. page Already Open.');
          $selectTab_0(useThisLocation.visualContents, cindex);
          storyPageLoading = false;
          GameLogger.log_0('removing from loading queue 1');
          ($clinit_PageLoadingData() , PageLoadingQueue).remove_0(0);
          CheckLoadingQueue();
          return;
        }
        ++cindex;
      }
    }
  }
   else {
    GameLogger.log_0('dynamic page detected so we dont just flick it to the front;');
    $removePageFromSet(CurrentScenesAndPages, NewMessageURL);
    GameLogger.log_0('we erase and reload completely; Removing current page commands' + $split_0(NewMessageURL, '\\.', 0)[0]);
    $RemoveItem(PageCommandStore, $split_0(NewMessageURL, '\\.', 0)[0]);
  }
  GameLogger.log_0('setting page ' + NewMessageURL);
  useThisLocation.OpenPagesInSet.add_0($replace_0(NewMessageURL, '.html', ''));
  AnswerBox.isPresent() && $setEnabled_1(dynamicCast(AnswerBox.get_1(), 74), false);
  ++NumberOfHTMLsLeftToLoad;
  if (dynamicPage) {
    GameLogger.log_0('getting dynamic page from storage (' + $trim(NewMessageURL) + ')');
    responseString = $GetItem(dynamicPages, $trim(NewMessageURL));
    GameLogger.log_0('message found:' + responseString);
    createAndAddNewPage(NewMessageURL, useThisLocation, responseString);
  }
   else {
    URLDATA = 'Game Message Text/' + $trim(NewMessageURL);
    POSTneeded = false;
    if ($endsWith(NewMessageURL, '.php')) {
      GameLogger.log_0('php request detected');
      urlvars = $serialise(($clinit_GameVariableManagement() , GameVariables));
      URLDATA = URLDATA + '&' + urlvars;
      GameLogger.log_0('loading:' + URLDATA);
      POSTneeded = true;
    }
    onResponse = new GwtScreenMangementImp$1(NewMessageURL, useThisLocation);
    onError = new GwtScreenMangementImp$2;
    $clinit_RequiredImplementations();
    POSTneeded?GetTextFile(URLDATA, onResponse, onError, true, false):GetTextFile(URLDATA, onResponse, onError, false, true);
  }
}

function GwtScreenMangementImp(){
  $clinit_GwtScreenMangementImp();
}

defineClass(636, 1, {108:1}, GwtScreenMangementImp);
var Log_80;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtScreenMangementImp_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtScreenMangementImp', 636, Ljava_lang_Object_2_classLit);
function GwtScreenMangementImp$1(val$NewMessageURL, val$TempCurrentLocationTabs){
  this.val$NewMessageURL2 = val$NewMessageURL;
  this.val$TempCurrentLocationTabs3 = val$TempCurrentLocationTabs;
}

defineClass(637, 1, {}, GwtScreenMangementImp$1);
_.run_2 = function run_66(responseData, responseCode){
  ($clinit_JAMcore() , GameLogger).log_0('testing for dynamic page added');
  if (responseData.indexOf('<V:') != -1) {
    GameLogger.log_0('dynamic page detected');
    $AddItemUniquely(($clinit_JAM() , dynamicPages), responseData, $trim(this.val$NewMessageURL2));
    GameLogger.log_0('following dynamic page added:' + $GetItem(dynamicPages, $trim(this.val$NewMessageURL2)));
  }
  GameLogger.log_1('creating new page', 'blue');
  createAndAddNewPage(this.val$NewMessageURL2, this.val$TempCurrentLocationTabs3, responseData);
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtScreenMangementImp$1_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtScreenMangementImp/1', 637, Ljava_lang_Object_2_classLit);
function GwtScreenMangementImp$2(){
}

defineClass(638, 1, {}, GwtScreenMangementImp$2);
_.run_1 = function run_67(errorData, exception){
  ($clinit_System() , out_0).println_0('http failed');
  if (($clinit_JAMcore() , AnswerBox).isPresent()) {
    $setEnabled_1(dynamicCast(AnswerBox.get_1(), 74), true);
    $setText_6(dynamicCast(AnswerBox.get_1(), 74), '');
  }
  storyPageLoading = false;
  GameLogger.log_0('removing from loading queue 1');
  ($clinit_PageLoadingData() , PageLoadingQueue).remove_0(0);
}
;
var Lcom_lostagain_JamGwt_GwtJamImplementations_GwtScreenMangementImp$2_2_classLit = createForClass('com.lostagain.JamGwt.GwtJamImplementations', 'GwtScreenMangementImp/2', 638, Ljava_lang_Object_2_classLit);
function $AddPage(this$static, PageName, PageTitle){
  var requestBuilder;
  requestBuilder = new RequestBuilder(($clinit_RequestBuilder() , GET), ($clinit_JAM() , notebookpages_url) + PageName);
  throwIfEmptyOrNull('header', 'Content-Type');
  throwIfEmptyOrNull('value', 'text/plain;charset=utf-8');
  !requestBuilder.headers && (requestBuilder.headers = new HashMap);
  requestBuilder.headers.put('Content-Type', 'text/plain;charset=utf-8');
  try {
    $sendRequest(requestBuilder, 'FileURL=' + notebookpages_url, new GwtNotebook$5(this$static, PageTitle, PageName));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      ($clinit_System() , out_0).println_0('can not connect to game controll file for notes');
    }
     else 
      throw unwrap($e0);
  }
}

function GwtNotebook(){
  var MainContainer;
  this.LoadedPages = new ArrayList;
  this.visualContents = new AbsolutePanel;
  new HTML;
  this.ProfilePages = new StackPanel;
  this.NotepadButton = new GWTAnimatedIcon_1(($clinit_JamImages() , BigNotepadImages));
  this.NotepadButton_0 = this.NotepadButton;
  $addClickHandler(this.NotepadButton, new GwtNotebook$1);
  $addMouseDownHandler(this.NotepadButton, new GwtNotebook$2(this));
  $addMouseOverHandler(this.NotepadButton, new GwtNotebook$3(this));
  $addMouseOutHandler(this.NotepadButton, new GwtNotebook$4(this));
  $setStylePrimaryName(this.visualContents, 'notepadback');
  $setWidth(this.visualContents, ~~($getClientWidth($doc) / 2) + 'px');
  $setHeight(this.visualContents, $getClientHeight($doc) * 0.7 + 'px');
  MainContainer = new ScrollPanel;
  $setHeight_4(MainContainer, $getClientHeight($doc) * 0.69 + 'px');
  ($clinit_DOM() , MainContainer.element).style['width'] = '100%';
  $add_2(MainContainer, this.ProfilePages);
  $add_8(this.visualContents, MainContainer, 0, 5);
  $setWidth(this.ProfilePages, '100%');
}

defineClass(782, 781, $intern_125, GwtNotebook);
_.CloseDefault = function CloseDefault_7(){
  this.NotepadOpen = false;
  $setPlayBack(this.NotepadButton.animation);
}
;
_.DRAGABLE = function DRAGABLE_4(){
  return true;
}
;
_.OpenDefault = function OpenDefault_7(){
}
;
_.POPUPTYPE = function POPUPTYPE_4(){
  return null;
}
;
_.asWidget = function asWidget_6(){
  return this.visualContents;
}
;
_.getVisualRepresentation = function getVisualRepresentation_6(){
  return this.visualContents;
}
;
var Lcom_lostagain_JamGwt_GwtNotebook_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtNotebook', 782, Lcom_lostagain_Jam_PlayersNotebookCore_2_classLit);
function GwtNotebook$1(){
}

defineClass(783, 1, $intern_17, GwtNotebook$1);
_.onClick = function onClick_26(event_0){
  ($clinit_JAM() , PlayersNotepadFrame).OpenDefault();
}
;
var Lcom_lostagain_JamGwt_GwtNotebook$1_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtNotebook/1', 783, Ljava_lang_Object_2_classLit);
function GwtNotebook$2(this$0){
  this.this$01 = this$0;
}

defineClass(784, 1, $intern_23, GwtNotebook$2);
_.onMouseDown = function onMouseDown_7(event_0){
  this.this$01.NotepadOpen = true;
  $setPlayForward(($clinit_JAM() , closeallwindows).animation);
}
;
var Lcom_lostagain_JamGwt_GwtNotebook$2_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtNotebook/2', 784, Ljava_lang_Object_2_classLit);
function GwtNotebook$3(this$0){
  this.this$01 = this$0;
}

defineClass(785, 1, $intern_15, GwtNotebook$3);
_.onMouseOver = function onMouseOver_5(event_0){
  $setPlayForward(this.this$01.NotepadButton.animation);
}
;
var Lcom_lostagain_JamGwt_GwtNotebook$3_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtNotebook/3', 785, Ljava_lang_Object_2_classLit);
function GwtNotebook$4(this$0){
  this.this$01 = this$0;
}

defineClass(786, 1, $intern_16, GwtNotebook$4);
_.onMouseOut = function onMouseOut_7(event_0){
  this.this$01.NotepadOpen || $setPlayBack(this.this$01.NotepadButton.animation);
}
;
var Lcom_lostagain_JamGwt_GwtNotebook$4_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtNotebook/4', 786, Ljava_lang_Object_2_classLit);
function GwtNotebook$5(this$0, val$PageTitle, val$PageName){
  this.this$01 = this$0;
  this.val$PageTitle2 = val$PageTitle;
  this.val$PageName3 = val$PageName;
}

defineClass(787, 1, {}, GwtNotebook$5);
_.onError_1 = function onError_7(request, exception){
  ($clinit_System() , out_0).println_0('http failed');
}
;
_.onResponseReceived = function onResponseReceived_3(request, response){
  var headerLoc, newPage, newnotebookpage, headers;
  ($clinit_JAMcore() , GameLogger).info_0((headers = response.xmlHttpRequest.getAllResponseHeaders() , headers != null?headers:''));
  newPage = response.xmlHttpRequest.responseText;
  headerLoc = newPage.toLowerCase().indexOf('<\/head>');
  newPage = __substr(newPage, headerLoc + 7, newPage.length - (headerLoc + 7));
  newnotebookpage = new HTML_1(newPage);
  ($clinit_DOM() , newnotebookpage.element).style['height'] = '100%';
  $add_16(this.this$01.ProfilePages, newnotebookpage, this.val$PageTitle2);
  this.this$01.LoadedPages.add_0(this.val$PageName3);
}
;
var Lcom_lostagain_JamGwt_GwtNotebook$5_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtNotebook/5', 787, Ljava_lang_Object_2_classLit);
function $clinit_GwtVisualHandlerImp(){
  $clinit_GwtVisualHandlerImp = emptyMethod;
  Log_81 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GwtVisualHandlerImp'));
}

function $setCurrentFeedbackRunAfter(runnable){
  $setRunAfterTextSet(($clinit_JAM() , Feedback), runnable);
}

function $setCurrentFeedbackText(text_0){
  $setText_9(($clinit_JAM() , Feedback), text_0, false);
}

function $setCurrentFeedbackText_0(text_0){
  $setText_9(($clinit_JAM() , Feedback), text_0, true);
}

function $setCurrentFeedbackTextDelay(delay){
  $setDelay(($clinit_JAM() , Feedback), delay);
}

function $setCurrentFeedbackTextSpeed(parseInt_0){
  $setSpeed(($clinit_JAM() , Feedback), parseInt_0);
}

function $setFeedbackKeyBeep(soundName){
  $setCUSTOM_KEY_BEEP(($clinit_JAM() , Feedback), soundName);
}

function $setFeedbackSpaceKeyBeep(soundName){
  $setCUSTOM_SPACEKEY_BEEP(($clinit_JAM() , Feedback), soundName);
}

function $setHeldItemVisualisation(holdThis){
  $setCurrentImage(($clinit_JAM() , heldItemBox), $getDataURL(holdThis));
}

function $setHeldItemVisualiserVisible(status_0){
  $info_1(Log_81, '___________setHeldItemVisualiserVisible= ' + status_0);
  $setVisible(($clinit_JAM() , heldItemBox), status_0);
}

function GwtVisualHandlerImp(){
  $clinit_GwtVisualHandlerImp();
}

defineClass(635, 1, {123:1}, GwtVisualHandlerImp);
var Log_81;
var Lcom_lostagain_JamGwt_GwtVisualHandlerImp_2_classLit = createForClass('com.lostagain.JamGwt', 'GwtVisualHandlerImp', 635, Ljava_lang_Object_2_classLit);
function $clinit_JamImages(){
  $clinit_JamImages = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BigDefaultInventoryImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje0Initializer() , BIGrugzakje0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje1Initializer() , BIGrugzakje1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje2Initializer() , BIGrugzakje2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje3Initializer() , BIGrugzakje3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje4Initializer() , BIGrugzakje4)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje5Initializer() , BIGrugzakje5))]);
  MediumDefaultInventoryImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje0Initializer() , MEDrugzakje0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje1Initializer() , MEDrugzakje1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje2Initializer() , MEDrugzakje2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje3Initializer() , MEDrugzakje3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje4Initializer() , MEDrugzakje4)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje5Initializer() , MEDrugzakje5))]);
  SmallDefaultInventoryImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje0Initializer() , SMALLrugzakje0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje1Initializer() , SMALLrugzakje1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje2Initializer() , SMALLrugzakje2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje3Initializer() , SMALLrugzakje3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje4Initializer() , SMALLrugzakje4)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje5Initializer() , SMALLrugzakje5))]);
  BigMarInventoryImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag0Initializer() , BIGmagrietbag0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag1Initializer() , BIGmagrietbag1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag2Initializer() , BIGmagrietbag2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag3Initializer() , BIGmagrietbag3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag4Initializer() , BIGmagrietbag4)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag5Initializer() , BIGmagrietbag5))]);
  MediumMarInventoryImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag0Initializer() , MEDmagrietbag0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag1Initializer() , MEDmagrietbag1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag2Initializer() , MEDmagrietbag2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag3Initializer() , MEDmagrietbag3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag4Initializer() , MEDmagrietbag4)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag5Initializer() , MEDmagrietbag5))]);
  SmallMarInventoryImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag0Initializer() , SMALLmagrietbag0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag1Initializer() , SMALLmagrietbag1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag2Initializer() , SMALLmagrietbag2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag3Initializer() , SMALLmagrietbag3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag4Initializer() , SMALLmagrietbag4)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag5Initializer() , SMALLmagrietbag5))]);
  BigNotepadImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook0Initializer() , BIGcc2notebook0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook1Initializer() , BIGcc2notebook1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook2Initializer() , BIGcc2notebook2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook3Initializer() , BIGcc2notebook3))]);
  MediumNotepadImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook0Initializer() , MEDIUMcc2notebook0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook1Initializer() , MEDIUMcc2notebook1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook2Initializer() , MEDIUMcc2notebook2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook3Initializer() , MEDIUMcc2notebook3))]);
  SmallNotepadImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook0Initializer() , SMALLcc2notebook0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook1Initializer() , SMALLcc2notebook1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook2Initializer() , SMALLcc2notebook2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook3Initializer() , SMALLcc2notebook3))]);
  BigControllPanelImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype0Initializer() , BIGCCtype0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype1Initializer() , BIGCCtype1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype2Initializer() , BIGCCtype2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype3Initializer() , BIGCCtype3))]);
  MediumControllPanelImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype0Initializer() , MEDIUMCCtype0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype1Initializer() , MEDIUMCCtype1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype2Initializer() , MEDIUMCCtype2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype3Initializer() , MEDIUMCCtype3))]);
  SmallControllPanelImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype0Initializer() , SMALLCCtype0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype1Initializer() , SMALLCCtype1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype2Initializer() , SMALLCCtype2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype3Initializer() , SMALLCCtype3))]);
  BigForumImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum0Initializer() , BIGCC2forum0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum1Initializer() , BIGCC2forum1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum2Initializer() , BIGCC2forum2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum3Initializer() , BIGCC2forum3))]);
  MediumForumImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum0Initializer() , MEDIUMCC2forum0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum1Initializer() , MEDIUMCC2forum1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum2Initializer() , MEDIUMCC2forum2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum3Initializer() , MEDIUMCC2forum3))]);
  SmallForumImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum0Initializer() , SMALLCC2forum0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum1Initializer() , SMALLCC2forum1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum2Initializer() , SMALLCC2forum2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum3Initializer() , SMALLCC2forum3))]);
  BigSecretsImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg0Initializer() , BIGeasteregg0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg1Initializer() , BIGeasteregg1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg2Initializer() , BIGeasteregg2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg3Initializer() , BIGeasteregg3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg4Initializer() , BIGeasteregg4))]);
  MediumSecretsImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg0Initializer() , MEDIUMeasteregg0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg1Initializer() , MEDIUMeasteregg1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg2Initializer() , MEDIUMeasteregg2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg3Initializer() , MEDIUMeasteregg3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg4Initializer() , MEDIUMeasteregg4))]);
  SmallSecretsImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg0Initializer() , SMALLeasteregg0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg1Initializer() , SMALLeasteregg1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg2Initializer() , SMALLeasteregg2)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg3Initializer() , SMALLeasteregg3)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg4Initializer() , SMALLeasteregg4))]);
  CloseAll = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$closeall0Initializer() , closeall0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$closeall1Initializer() , closeall1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$closeall2Initializer() , closeall2))]);
  BigCuypers2LogoImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight0Initializer() , BIGTitleStripRight0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight1Initializer() , BIGTitleStripRight1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight2Initializer() , BIGTitleStripRight2))]);
  MediumCuypers2LogoImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight0Initializer() , MEDIUMTitleStripRight0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight1Initializer() , MEDIUMTitleStripRight1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight2Initializer() , MEDIUMTitleStripRight2))]);
  SmallCuypers2LogoImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight0Initializer() , SMALLTitleStripRight0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight1Initializer() , SMALLTitleStripRight1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight2Initializer() , SMALLTitleStripRight2))]);
  LadyClockSmall = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadSmallInitializer() , StatueHeadSmall))]);
  LadyClockMid = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadMidInitializer() , StatueHeadMid))]);
  LadyClockBig = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadBigInitializer() , StatueHeadBig))]);
  LadyFeatSmall = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatSmallInitializer() , StatueFeatSmall))]);
  LadyFeatMid = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatMidInitializer() , StatueFeatMid))]);
  LadyFeatBig = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatBigInitializer() , StatueFeatBig))]);
  SoldierSmall = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SoldierSmallInitializer() , SoldierSmall_0))]);
  SoldierMid = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SoldierMidInitializer() , SoldierMid_0))]);
  SoldierBig = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SoldierBigInitializer() , SoldierBig_0))]);
  BigLeftBit = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftbitInitializer() , BIGTitleStripleftbit));
  MediumLeftBit = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftbitInitializer() , MEDIUMTitleStripleftbit));
  SmallLeftBit = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftbitInitializer() , SMALLTitleStripleftbit));
  LeftBit = $createImage(BigLeftBit);
  BigOpenClueBox = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftOpenInitializer() , BIGTitleStripleftOpen));
  MediumOpenClueBox = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftOpenInitializer() , MEDIUMTitleStripleftOpen));
  SmallOpenClueBox = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftOpenInitializer() , SMALLTitleStripleftOpen));
  BigCloseClueBox = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftCloseInitializer() , BIGTitleStripleftClose));
  MediumCloseClueBox = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftCloseInitializer() , MEDIUMTitleStripleftClose));
  SmallCloseClueBox = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftCloseInitializer() , SMALLTitleStripleftClose));
  BigBuyOpenButton = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_buyInitializer() , BIGTitleStrip_buy));
  MediumBuyOpenButton = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_buyInitializer() , MEDIUMTitleStrip_buy));
  SmallBuyOpenButton = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_buyInitializer() , SMALLTitleStrip_buy));
  BigBuyCloseButton = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_buycloseInitializer() , BIGTitleStrip_buyclose));
  MediumBuyCloseButton = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_buycloseInitializer() , MEDIUMTitleStrip_buyclose));
  SmallBuyCloseButton = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_buycloseInitializer() , SMALLTitleStrip_buyclose));
  LogBoekImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$logboek0Initializer() , logboek0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$logboek1Initializer() , logboek1))]);
  MessPrevImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$previous0Initializer() , previous0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$previous1Initializer() , previous1))]);
  MessNextImages = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JamImages_default_StaticClientBundleGenerator$next0Initializer() , next0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$next1Initializer() , next1))]);
  BigScoreBack = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_ScorebackInitializer() , BIGTitleStrip_Scoreback));
  MediumScoreBack = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_ScorebackInitializer() , MEDIUMTitleStrip_Scoreback));
  SmallScoreBack = create_3(($clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_ScorebackInitializer() , SMALLTitleStrip_Scoreback));
  ScoreBack = $createImage(BigScoreBack);
}

var BigBuyCloseButton, BigBuyOpenButton, BigCloseClueBox, BigControllPanelImages, BigCuypers2LogoImages, BigDefaultInventoryImages, BigForumImages, BigLeftBit, BigMarInventoryImages, BigNotepadImages, BigOpenClueBox, BigScoreBack, BigSecretsImages, CloseAll, LadyClockBig, LadyClockMid, LadyClockSmall, LadyFeatBig, LadyFeatMid, LadyFeatSmall, LeftBit, LogBoekImages, MediumBuyCloseButton, MediumBuyOpenButton, MediumCloseClueBox, MediumControllPanelImages, MediumCuypers2LogoImages, MediumDefaultInventoryImages, MediumForumImages, MediumLeftBit, MediumMarInventoryImages, MediumNotepadImages, MediumOpenClueBox, MediumScoreBack, MediumSecretsImages, MessNextImages, MessPrevImages, ScoreBack, SmallBuyCloseButton, SmallBuyOpenButton, SmallCloseClueBox, SmallControllPanelImages, SmallCuypers2LogoImages, SmallDefaultInventoryImages, SmallForumImages, SmallLeftBit, SmallMarInventoryImages, SmallNotepadImages, SmallOpenClueBox, SmallScoreBack, SmallSecretsImages, SoldierBig, SoldierMid, SoldierSmall;
function $clinit_JamImages_default_StaticClientBundleGenerator(){
  $clinit_JamImages_default_StaticClientBundleGenerator = emptyMethod;
  bundledImage_None_2 = $moduleBase + 'EF44545E341D4146B77B948CE5B1C618.cache.png';
  externalImage0 = $moduleBase + '3DC778B5265865887184911B59103352.cache.jpg';
  externalImage1 = $moduleBase + '37432C94BDA8DE676DA337D5A8B2FCDD.cache.jpg';
  externalImage2 = $moduleBase + '45684CBB37FBC84C8A1E4B0FF6863885.cache.jpg';
  externalImage3 = $moduleBase + '6701A3B04F8F8BC89ED3106F5E7EB4C8.cache.jpg';
  externalImage4 = $moduleBase + 'FE5A4DBB8746C920DA69684D8E0C6660.cache.jpg';
  externalImage5 = $moduleBase + '30EF75C8EB8395A11251B1D348E5BBB8.cache.jpg';
  externalImage7 = $moduleBase + 'E36963D4FC4A7F937A55346FB25524F6.cache.jpg';
  externalImage8 = $moduleBase + '24BA0522B883C3DD677EC9661BBBB2CD.cache.jpg';
  externalImage9 = $moduleBase + '928F44C4EFB7BFBC38E12129DA9F8BCE.cache.jpg';
  externalImage10 = $moduleBase + 'A6D27F2A56BDEA7C95707FCF11786C52.cache.jpg';
  externalImage11 = $moduleBase + '4DFE9DF9F16CA4A3984499E7EA258C69.cache.jpg';
  externalImage12 = $moduleBase + 'D7B4DDF5D059429EFF0C884209A7671B.cache.jpg';
  externalImage14 = $moduleBase + 'E71F0294EA51FA3465D857F4C88F4F37.cache.jpg';
  externalImage15 = $moduleBase + '765283462F2DCB6915F2C5ADA758382E.cache.jpg';
  externalImage16 = $moduleBase + '6ABED5CA6C01894B3B5DD6AAAC5B7811.cache.jpg';
  externalImage17 = $moduleBase + '58B7DAD22CA6C84D7751296DB1ACC191.cache.jpg';
  externalImage18 = $moduleBase + '6F506230DD23D5E993F339B1859F3EC1.cache.jpg';
  externalImage19 = $moduleBase + '42A075BA21DDC5E15FAFE54FF56B7B7B.cache.jpg';
}

var BIGCC2forum0, BIGCC2forum1, BIGCC2forum2, BIGCC2forum3, BIGCCtype0, BIGCCtype1, BIGCCtype2, BIGCCtype3, BIGTitleStripRight0, BIGTitleStripRight1, BIGTitleStripRight2, BIGTitleStrip_Scoreback, BIGTitleStrip_buy, BIGTitleStrip_buyclose, BIGTitleStripleftClose, BIGTitleStripleftOpen, BIGTitleStripleftbit, BIGcc2notebook0, BIGcc2notebook1, BIGcc2notebook2, BIGcc2notebook3, BIGeasteregg0, BIGeasteregg1, BIGeasteregg2, BIGeasteregg3, BIGeasteregg4, BIGmagrietbag0, BIGmagrietbag1, BIGmagrietbag2, BIGmagrietbag3, BIGmagrietbag4, BIGmagrietbag5, BIGrugzakje0, BIGrugzakje1, BIGrugzakje2, BIGrugzakje3, BIGrugzakje4, BIGrugzakje5, MEDIUMCC2forum0, MEDIUMCC2forum1, MEDIUMCC2forum2, MEDIUMCC2forum3, MEDIUMCCtype0, MEDIUMCCtype1, MEDIUMCCtype2, MEDIUMCCtype3, MEDIUMTitleStripRight0, MEDIUMTitleStripRight1, MEDIUMTitleStripRight2, MEDIUMTitleStrip_Scoreback, MEDIUMTitleStrip_buy, MEDIUMTitleStrip_buyclose, MEDIUMTitleStripleftClose, MEDIUMTitleStripleftOpen, MEDIUMTitleStripleftbit, MEDIUMcc2notebook0, MEDIUMcc2notebook1, MEDIUMcc2notebook2, MEDIUMcc2notebook3, MEDIUMeasteregg0, MEDIUMeasteregg1, MEDIUMeasteregg2, MEDIUMeasteregg3, MEDIUMeasteregg4, MEDmagrietbag0, MEDmagrietbag1, MEDmagrietbag2, MEDmagrietbag3, MEDmagrietbag4, MEDmagrietbag5, MEDrugzakje0, MEDrugzakje1, MEDrugzakje2, MEDrugzakje3, MEDrugzakje4, MEDrugzakje5, SMALLCC2forum0, SMALLCC2forum1, SMALLCC2forum2, SMALLCC2forum3, SMALLCCtype0, SMALLCCtype1, SMALLCCtype2, SMALLCCtype3, SMALLTitleStripRight0, SMALLTitleStripRight1, SMALLTitleStripRight2, SMALLTitleStrip_Scoreback, SMALLTitleStrip_buy, SMALLTitleStrip_buyclose, SMALLTitleStripleftClose, SMALLTitleStripleftOpen, SMALLTitleStripleftbit, SMALLcc2notebook0, SMALLcc2notebook1, SMALLcc2notebook2, SMALLcc2notebook3, SMALLeasteregg0, SMALLeasteregg1, SMALLeasteregg2, SMALLeasteregg3, SMALLeasteregg4, SMALLmagrietbag0, SMALLmagrietbag1, SMALLmagrietbag2, SMALLmagrietbag3, SMALLmagrietbag4, SMALLmagrietbag5, SMALLrugzakje0, SMALLrugzakje1, SMALLrugzakje2, SMALLrugzakje3, SMALLrugzakje4, SMALLrugzakje5, SoldierBig_0, SoldierMid_0, SoldierSmall_0, StatueFeatBig, StatueFeatMid, StatueFeatSmall, StatueHeadBig, StatueHeadMid, StatueHeadSmall, bundledImage_None_2, clickVisualiser0, clickVisualiser1, clickVisualiser2, closeall0, closeall1, closeall2, externalImage0, externalImage1, externalImage10, externalImage11, externalImage12, externalImage14, externalImage15, externalImage16, externalImage17, externalImage18, externalImage19, externalImage2, externalImage3, externalImage4, externalImage5, externalImage7, externalImage8, externalImage9, logboek0, logboek1, next0, next1, previous0, previous1, questionmark, stopthat;
function $clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGCC2forum0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2400, 72, 62, 126);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGCC2forum1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2324, 72, 62, 126);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGCC2forum2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2248, 72, 62, 126);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGCC2forum3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGCC2forum3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2172, 72, 62, 126);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGCCtype0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5530, 0, 131, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGCCtype1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5399, 84, 131, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGCCtype2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5399, 0, 131, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGCCtype3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGCCtype3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4451, 106, 131, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStripRight0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3500, 0, 177, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStripRight1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3323, 0, 177, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripRight2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStripRight2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1360, 0, 177, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_ScorebackInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_ScorebackInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStrip_Scoreback = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage0)), 0, 0, 170, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_buyInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_buyInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStrip_buy = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage1)), 0, 0, 22, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_buycloseInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStrip_buycloseInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStrip_buyclose = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage2)), 0, 0, 22, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftCloseInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftCloseInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStripleftClose = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage3)), 0, 0, 24, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftOpenInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftOpenInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStripleftOpen = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage4)), 0, 0, 24, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftbitInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGTitleStripleftbitInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGTitleStripleftbit = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage5)), 0, 0, 25, 55);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGcc2notebook0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5097, 85, 89, 85);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGcc2notebook1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5097, 0, 89, 85);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGcc2notebook2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5008, 85, 89, 85);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGcc2notebook3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGcc2notebook3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5008, 0, 89, 85);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGeasteregg0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2045, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGeasteregg1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1918, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGeasteregg2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1791, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGeasteregg3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1664, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGeasteregg4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGeasteregg4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1537, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGmagrietbag0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1233, 0, 127, 146);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGmagrietbag1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1105, 40, 127, 146);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGmagrietbag2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 977, 40, 127, 146);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGmagrietbag3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 827, 47, 127, 146);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGmagrietbag4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 677, 47, 127, 146);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag5Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGmagrietbag5Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGmagrietbag5 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 550, 0, 127, 146);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGrugzakje0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4172, 76, 99, 117);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGrugzakje1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4073, 0, 99, 117);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGrugzakje2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3974, 0, 99, 117);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGrugzakje3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3875, 0, 99, 117);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGrugzakje4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3776, 0, 99, 117);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje5Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$BIGrugzakje5Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  BIGrugzakje5 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3677, 0, 99, 117);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMCC2forum0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4353, 0, 53, 107);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMCC2forum1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4300, 0, 53, 107);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMCC2forum2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3608, 55, 53, 107);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCC2forum3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMCC2forum3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3431, 55, 53, 107);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMCCtype0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2888, 0, 111, 71);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMCCtype1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2758, 124, 111, 71);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMCCtype2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2587, 125, 111, 71);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMCCtype3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMCCtype3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2476, 125, 111, 71);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStripRight0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 827, 0, 150, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStripRight1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 677, 0, 150, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripRight2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStripRight2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 268, 147, 150, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_ScorebackInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_ScorebackInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStrip_Scoreback = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage7)), 0, 0, 144, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_buyInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_buyInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStrip_buy = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage8)), 0, 0, 19, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_buycloseInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStrip_buycloseInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStrip_buyclose = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage9)), 0, 0, 19, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftCloseInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftCloseInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStripleftClose = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage10)), 0, 0, 20, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftOpenInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftOpenInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStripleftOpen = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage11)), 0, 0, 20, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftbitInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMTitleStripleftbitInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMTitleStripleftbit = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage12)), 0, 0, 21, 47);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMcc2notebook0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2400, 0, 76, 72);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMcc2notebook1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2324, 0, 76, 72);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMcc2notebook2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2248, 0, 76, 72);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMcc2notebook3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMcc2notebook3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2172, 0, 76, 72);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMeasteregg0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2045, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMeasteregg1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1918, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMeasteregg2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1791, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMeasteregg3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1664, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDIUMeasteregg4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDIUMeasteregg4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1537, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDmagrietbag0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3500, 55, 108, 124);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDmagrietbag1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3323, 55, 108, 124);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDmagrietbag2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3215, 0, 108, 124);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDmagrietbag3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3107, 0, 108, 124);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDmagrietbag4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2999, 0, 108, 124);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag5Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDmagrietbag5Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDmagrietbag5 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2888, 71, 108, 124);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDrugzakje0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4924, 99, 84, 99);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDrugzakje1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4924, 0, 84, 99);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDrugzakje2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4840, 99, 84, 99);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDrugzakje3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4840, 0, 84, 99);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDrugzakje4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4756, 99, 84, 99);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje5Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$MEDrugzakje5Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MEDrugzakje5 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4756, 0, 84, 99);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLCC2forum0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4582, 106, 45, 91);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLCC2forum1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4406, 106, 45, 91);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLCC2forum2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4353, 107, 45, 91);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCC2forum3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLCC2forum3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4300, 107, 45, 91);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLCCtype0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3215, 124, 94, 60);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLCCtype1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3107, 124, 94, 60);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLCCtype2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2999, 124, 94, 60);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLCCtype3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLCCtype3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2045, 131, 94, 60);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStripRight0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1105, 0, 128, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStripRight1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 977, 0, 128, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripRight2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStripRight2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 418, 147, 128, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_ScorebackInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_ScorebackInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStrip_Scoreback = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage14)), 0, 0, 122, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_buyInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_buyInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStrip_buy = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage15)), 0, 0, 16, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_buycloseInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStrip_buycloseInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStrip_buyclose = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage16)), 0, 0, 16, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftCloseInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftCloseInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStripleftClose = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage17)), 0, 0, 17, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftOpenInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftOpenInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStripleftOpen = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage18)), 0, 0, 17, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftbitInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLTitleStripleftbitInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLTitleStripleftbit = new ImageResourcePrototype(($clinit_UriUtils() , new SafeUriString(externalImage19)), 0, 0, 18, 40);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLcc2notebook0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1918, 131, 65, 61);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLcc2notebook1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1791, 131, 65, 61);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLcc2notebook2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1664, 131, 65, 61);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLcc2notebook3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLcc2notebook3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1537, 131, 65, 61);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLeasteregg0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2045, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLeasteregg1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1918, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLeasteregg2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1791, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLeasteregg3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1664, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLeasteregg4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLeasteregg4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1537, 0, 127, 131);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLmagrietbag0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4073, 117, 92, 80);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLmagrietbag1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3974, 117, 92, 80);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLmagrietbag2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3875, 117, 92, 80);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLmagrietbag3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3776, 117, 92, 80);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLmagrietbag4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 3677, 117, 92, 80);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag5Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLmagrietbag5Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLmagrietbag5 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1445, 55, 92, 80);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLrugzakje0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5328, 84, 71, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLrugzakje1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5328, 0, 71, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLrugzakje2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5257, 84, 71, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje3Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje3Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLrugzakje3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5257, 0, 71, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje4Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje4Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLrugzakje4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5186, 84, 71, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje5Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SMALLrugzakje5Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SMALLrugzakje5 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 5186, 0, 71, 84);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SoldierBigInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SoldierBigInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SoldierBig_0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 218, 0, 332, 147);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SoldierMidInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SoldierMidInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SoldierMid_0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2476, 0, 282, 125);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$SoldierSmallInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$SoldierSmallInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  SoldierSmall_0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4406, 0, 240, 106);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatBigInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatBigInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  StatueFeatBig = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 2758, 0, 130, 124);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatMidInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatMidInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  StatueFeatMid = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4646, 0, 110, 105);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatSmallInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$StatueFeatSmallInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  StatueFeatSmall = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4646, 105, 94, 89);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadBigInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadBigInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  StatueHeadBig = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 0, 0, 118, 198);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadMidInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadMidInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  StatueHeadMid = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 118, 0, 100, 168);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadSmallInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$StatueHeadSmallInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  StatueHeadSmall = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1360, 55, 85, 143);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  clickVisualiser0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 600, 146, 50, 50);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  clickVisualiser1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 550, 146, 50, 50);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  clickVisualiser2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 218, 147, 50, 50);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$closeall0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$closeall0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  closeall0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1299, 146, 33, 37);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$closeall1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$closeall1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  closeall1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1266, 146, 33, 37);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$closeall2Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$closeall2Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  closeall2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 1233, 146, 33, 37);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$logboek0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$logboek0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  logboek0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 650, 146, 16, 16);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$logboek1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$logboek1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  logboek1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 194, 168, 16, 16);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$next0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$next0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  next0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 175, 168, 19, 19);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$next1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$next1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  next1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 156, 168, 19, 19);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$previous0Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$previous0Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  previous0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 137, 168, 19, 19);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$previous1Initializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$previous1Initializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  previous1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 118, 168, 19, 19);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$questionmarkInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$questionmarkInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  questionmark = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 666, 146, 10, 15);
}

function $clinit_JamImages_default_StaticClientBundleGenerator$stopthatInitializer(){
  $clinit_JamImages_default_StaticClientBundleGenerator$stopthatInitializer = emptyMethod;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  stopthat = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_2)), 4172, 0, 128, 76);
}

function $clinit_ImageZoomPopUp(){
  $clinit_ImageZoomPopUp = emptyMethod;
  Log_82 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.imagezoomPopUp'));
}

function ImageZoomPopUp(ImagelocationSet, NewImageDiscription, rsizex, rsizey){
  $clinit_ImageZoomPopUp();
  var biggerimagetester, biggerlocation, biggerlocation_after, biggerlocation_before;
  VerticalPanel.call(this);
  this.container = this;
  this.Discription = new HTML_1('');
  this.ImageDiscription = '';
  new SpiffyImage;
  $getClientWidth($doc);
  $getClientHeight($doc);
  this.rsizeX = 0;
  this.rsizeY = 0;
  this.BigImagelocation = '';
  this.rsizeX = rsizex;
  this.rsizeY = rsizey;
  this.ImageDiscription = NewImageDiscription;
  this.Imagelocation = ImagelocationSet;
  $setWidth(this, this.rsizeX + 'px');
  $setHeight(this, this.rsizeY + 30 + 'px');
  $setClassName(($clinit_DOM() , this.element), 'overflowhide');
  biggerlocation_before = $substring_0(this.Imagelocation, 0, this.Imagelocation.lastIndexOf('/') + 1);
  biggerlocation_after = $substring(this.Imagelocation, 1 + this.Imagelocation.lastIndexOf('/'));
  biggerlocation = biggerlocation_before + 'highres_' + biggerlocation_after;
  $info_1(Log_82, 'requesting image' + biggerlocation);
  biggerimagetester = new ImageZoomPopUp$1(($clinit_RequestBuilder() , GET), biggerlocation);
  try {
    $sendRequest(biggerimagetester, '', new ImageZoomPopUp$2(this, biggerlocation));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      ($clinit_System() , out_0).println_0('no bigger image');
    }
     else 
      throw unwrap($e0);
  }
  if (this.ImageDiscription != '') {
    $setHTML(this.Discription, ' Loading....');
    $add_5(this, this.Discription);
    $setHeight(this.Discription, '100%');
    $setClassName($getParentElement($getElement(this.Discription)), 'picturePopUp');
  }
  $setCellHorizontalAlignment_0(this, this.Discription, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
}

defineClass(1387, 28, $intern_124, ImageZoomPopUp);
_.CloseDefault = function CloseDefault_8(){
}
;
_.DRAGABLE = function DRAGABLE_5(){
  return false;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE(){
  return false;
}
;
_.OpenDefault = function OpenDefault_8(){
  $add_8(($clinit_RootPanel() , get_14(null)), ($clinit_JAM() , fadeback), 0, 0);
  setStyleAttribute($getElement(fadeback), 'zIndex', '' + (($clinit_JAMcore() , z_depth_max) + 1));
  setStyleAttribute($getElement(fadeback), 'z-index', '' + (z_depth_max + 1));
  z_depth_max = z_depth_max + 1;
}
;
_.POPUPTYPE = function POPUPTYPE_5(){
  return 'MAGNIFYINGGLASS';
}
;
_.getSourceURL = function getSourceURL(){
  return null;
}
;
_.getState = function getState(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_7(){
  return this;
}
;
_.loadState_0 = function loadState_0(state){
}
;
_.sourcesizeX_0 = function sourcesizeX(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY(){
  return null;
}
;
_.rsizeX = 0;
_.rsizeY = 0;
var Log_82;
var Lcom_lostagain_JamGwt_ImageZoomPopUp_2_classLit = createForClass('com.lostagain.JamGwt', 'ImageZoomPopUp', 1387, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function ImageZoomPopUp$1($anonymous0, $anonymous1){
  $clinit_RequestBuilder();
  RequestBuilder.call(this, $anonymous0, $anonymous1);
}

defineClass(1388, 118, {}, ImageZoomPopUp$1);
var Lcom_lostagain_JamGwt_ImageZoomPopUp$1_2_classLit = createForClass('com.lostagain.JamGwt', 'ImageZoomPopUp/1', 1388, Lcom_google_gwt_http_client_RequestBuilder_2_classLit);
function ImageZoomPopUp$2(this$0, val$biggerlocation){
  this.this$01 = this$0;
  this.val$biggerlocation2 = val$biggerlocation;
}

defineClass(1389, 1, {}, ImageZoomPopUp$2);
_.onError_1 = function onError_8(request, exception){
  $info_1(($clinit_ImageZoomPopUp() , Log_82), 'no bigger image' + exception.detailMessage);
}
;
_.onResponseReceived = function onResponseReceived_4(request, response){
  var zoomcode;
  ($clinit_System() , out_0).println_0('bigger image go...' + response.xmlHttpRequest.statusText);
  if (compareTo_5(response.xmlHttpRequest.statusText, 'Not Found') == 0) {
    $info_1(($clinit_ImageZoomPopUp() , Log_82), 'bigger image not found');
    this.this$01.BigImagelocation = '';
  }
   else {
    this.this$01.BigImagelocation = "','" + this.val$biggerlocation2;
  }
  $clinit_JAM();
  zoomfixboolean = !zoomfixboolean;
  if (zoomfixboolean) {
    this.this$01.rsizeX = this.this$01.rsizeX + 1;
    this.this$01.rsizeY = this.this$01.rsizeY + 1;
  }
  zoomcode = new HTML_1('<div style="float:left" onmouseover="zoom_on(event,' + this.this$01.rsizeX + ',' + this.this$01.rsizeY + ",'" + this.this$01.Imagelocation + this.this$01.BigImagelocation + '\');" onmousemove="zoom_move(event);" onmouseout="zoom_off();"><img src="' + this.this$01.Imagelocation + '" alt="tjpzoom picture title" style="padding:0;margin:0;border:0" /><\/div><div style="clear:both;"><\/div>');
  $info_1(($clinit_ImageZoomPopUp() , Log_82), 'Created Zoom Code:' + zoomcode);
  $insert_1(this.this$01.container, zoomcode, 0);
  if (this.this$01.ImageDiscription != '') {
    $setHeight(this.this$01.container, this.this$01.rsizeY + 20 + 'px');
    $setHTML(this.this$01.Discription, this.this$01.ImageDiscription);
  }
   else {
    $setHeight(this.this$01.container, this.this$01.rsizeY + 'px');
  }
}
;
var Lcom_lostagain_JamGwt_ImageZoomPopUp$2_2_classLit = createForClass('com.lostagain.JamGwt', 'ImageZoomPopUp/2', 1389, Ljava_lang_Object_2_classLit);
function ConceptPopUp(ImageDiscription){
  PopupPanel.call(this);
  this.panel = new VerticalPanel;
  this.Discription = new Label_1('');
  new Image_0;
  $getClientWidth($doc);
  $getClientHeight($doc);
  $setText_0(this.Discription, ImageDiscription);
  $setClassName($getParentElement(($clinit_DOM() , $getFirstChildElement(this.element))), 'DefaultTopBar');
  $add_5(this.panel, this.Discription);
  $setWidth(this.Discription, '250px');
  $setCellHorizontalAlignment_0(this.panel, this.Discription, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setStylePrimaryName(this.panel, 'picturePopUp');
  $add_2(this, this.panel);
}

defineClass(499, 53, $intern_128, ConceptPopUp);
_.CloseDefault = function CloseDefault_9(){
}
;
_.DRAGABLE = function DRAGABLE_6(){
  return true;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_0(){
  return false;
}
;
_.POPUPTYPE = function POPUPTYPE_6(){
  return 'Concept';
}
;
_.getSourceURL = function getSourceURL_0(){
  return null;
}
;
_.getState = function getState_0(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_8(){
  return this;
}
;
_.loadState_0 = function loadState_1(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_0(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY_0(){
  return null;
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_ConceptPopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'ConceptPopUp', 499, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function DummyPopUp(){
  PopupPanel.call(this);
}

defineClass(1314, 53, $intern_128, DummyPopUp);
_.CloseDefault = function CloseDefault_10(){
}
;
_.DRAGABLE = function DRAGABLE_7(){
  return true;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_1(){
  return false;
}
;
_.POPUPTYPE = function POPUPTYPE_7(){
  return 'Dummy';
}
;
_.getSourceURL = function getSourceURL_1(){
  return null;
}
;
_.getState = function getState_1(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_9(){
  return this;
}
;
_.loadState_0 = function loadState_2(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_1(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY_1(){
  return null;
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_DummyPopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'DummyPopUp', 1314, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function $clinit_HeldItemBox(){
  $clinit_HeldItemBox = emptyMethod;
  $clinit_Image();
  Log_83 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.InventoryObjectTypes.HeldItemBox'));
}

function $setCurrentImage(this$static, url_0){
  if (!this$static.attached) {
    $info_1(Log_83, 'no item picked box on html page....so why should I bother setting the image?');
    return;
  }
  $setUrl_0(this$static, ($clinit_UriUtils() , new SafeUriString(url_0)));
}

function HeldItemBox(){
  $clinit_HeldItemBox();
  Image_0.call(this);
  setStyleName(($clinit_DOM() , this.element), 'HeldItemBox', true);
  setVisible(this.element, false);
  $addHandler(this, new HeldItemBox$1, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}

defineClass(669, 43, $intern_113, HeldItemBox);
var Log_83;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_HeldItemBox_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'HeldItemBox', 669, Lcom_google_gwt_user_client_ui_Image_2_classLit);
function HeldItemBox$1(){
}

defineClass(670, 1, $intern_17, HeldItemBox$1);
_.onClick = function onClick_27(event_0){
  unholdItem();
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_HeldItemBox$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'HeldItemBox/1', 670, Ljava_lang_Object_2_classLit);
function $clinit_SceneObjectVisual(){
  $clinit_SceneObjectVisual = emptyMethod;
  $clinit_SceneObject();
  SOLog_0 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneObjectVisual'));
}

function $ObjectsLog(this$static, contents, level){
  switch (level) {
    case 5:
      this$static.ObjectsLog.log_1(contents, 'RED');
      break;
    case 4:
      this$static.ObjectsLog.error_0(contents);
      break;
    case 2:
    case 3:
      this$static.ObjectsLog.log_1(contents, 'ORANGE');
      break;
    case 1:
      this$static.ObjectsLog.info_0(contents);
      break;
    case 0:
      this$static.ObjectsLog.log_1(contents, 'GREY');
  }
}

function $ObjectsLog_0(this$static, contents, color_0){
  this$static.ObjectsLog.log_1(contents, color_0);
}

function $editingObjectEvents(event_0){
  switch ($clinit_DOM() , $eventGetTypeInt(event_0.type)) {
    case 1:
      $info_1(SOLog_0, 'editing setup...');
      break;
    case 4:
      $info_1(SOLog_0, '_________________Event down while editing object');
      break;
    case 64:
      $info_1(SOLog_0, '_________________Event mouse move while editing object');
      break;
    case 8:
      $info_1(SOLog_0, '_________________Event mouse upwhile editing object');
  }
}

function $getAsDialog(this$static){
  if (this$static.getObjectsCurrentState().objectsPrimaryType == ($clinit_SceneObjectType() , DialogBox)) {
    return dynamicCast(this$static, 154);
  }
   else {
    $info_1(SOLog_0, 'attemting a Dialog only function on a non Dialog object ');
    return null;
  }
}

function $getAsLabel(this$static){
  if (this$static.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , Label_4)) {
    return dynamicCast(this$static, 174);
  }
   else {
    $info_1(SOLog_0, 'attemting a text only function on a non text object ');
    return null;
  }
}

function $getAsSprite(this$static){
  if (this$static.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , Sprite)) {
    return dynamicCast(this$static, 138);
  }
   else {
    $info_1(SOLog_0, 'attemting a sprite only function on a non sprite object ');
    return null;
  }
}

function $getAsVector(this$static){
  if (this$static.getObjectsCurrentState().objectsPrimaryType == ($clinit_SceneObjectType() , Vector)) {
    return dynamicCast(this$static, 275);
  }
   else {
    $info_1(SOLog_0, 'attemting a vector only function on a non vector object ');
    return null;
  }
}

function $getElementOnPanel(this$static){
  return this$static.objectsActions.array.length > 0 || this$static.getObjectsCurrentState_1().forceReceiveActions?$getParentElement($getElement(this$static.internalFocusPanel)):$getElement(this$static.internalFocusPanel);
}

function $getSafeHeightAwayFromDialogues(this$static, x_0, y_0){
  var dit, dobjects, maxx, maxy, sceneDialogObject, txmax, tymax;
  dobjects = $getScenesCurrentObjectsOfType(this$static.objectScene.scenesData, ($clinit_SceneObjectType() , DialogBox));
  dit = $iterator_4(new AbstractMap$1(dobjects.map_0));
  txmax = x_0 + this$static.getObjectWidth();
  tymax = y_0 + this$static.getObjectHeight();
  while (dit.val$outerIter2.hasNext()) {
    sceneDialogObject = dynamicCast($next_7(dit), 154);
    if (sceneDialogObject == this$static) {
      continue;
    }
    if ($isVisible(sceneDialogObject.internalFocusPanel)) {
      maxx = $getTopLeftBaseX(sceneDialogObject) + $getOffsetWidth(sceneDialogObject.internalFocusPanel);
      maxy = $getTopLeftBaseY(sceneDialogObject) + $getOffsetHeight(sceneDialogObject.internalFocusPanel);
      x_0 < maxx && txmax > $getTopLeftBaseX(sceneDialogObject) && y_0 < maxy && tymax > $getTopLeftBaseY(sceneDialogObject) && (tymax > maxy?(y_0 = maxy + 25):(y_0 = $getTopLeftBaseY(sceneDialogObject) - this$static.getObjectHeight() - 25));
    }
  }
  return y_0;
}

function $getZindex(this$static){
  var ElementOnPanel, ElementStyle, ZindexNonTrim, zin, zindexstring;
  zin = this$static.getObjectsCurrentState_1().zindex;
  ElementOnPanel = this$static.objectsActions.array.length > 0 || this$static.getObjectsCurrentState_1().forceReceiveActions?$getParentElement($getElement(this$static.internalFocusPanel)):$getElement(this$static.internalFocusPanel);
  if (!ElementOnPanel) {
    $info_1(SOLog_0, 'no parent element error ');
    return zin;
  }
  ElementStyle = ElementOnPanel.style;
  ZindexNonTrim = ElementStyle['zIndex'];
  zindexstring = $trim('' + ZindexNonTrim);
  zindexstring != '' && zindexstring != 'auto'?(zin = __parseAndValidateInt(zindexstring, 10)):$info_1(SOLog_0, 'no zindex set on ' + this$static.getObjectsCurrentState_1().ObjectsName);
  return zin;
}

function $loadState(this$static, newState, runOnload){
  this$static.getObjectsCurrentState().objectsPrimaryType == ($clinit_SceneObjectType() , Sprite) && $updateState_2(dynamicCast(this$static, 138), dynamicCast(newState, 106), runOnload, true);
  this$static.getObjectsCurrentState().objectsPrimaryType == Label_4 && $updateState_3(dynamicCast(this$static, 174), dynamicCast(newState, 119), runOnload, true);
  this$static.getObjectsCurrentState().objectsPrimaryType == DialogBox && $updateState_4(dynamicCast(this$static, 154), dynamicCast(newState, 145), runOnload);
  this$static.getObjectsCurrentState().objectsPrimaryType == Div && $updateState_1(this$static, newState, runOnload, true);
  this$static.getObjectsCurrentState().objectsPrimaryType == Vector && $updateState_6(dynamicCast(this$static, 188), dynamicCast(newState, 144), runOnload);
  this$static.getObjectsCurrentState().objectsPrimaryType == Input_0 && $updateState_5(dynamicCast(this$static, 189), dynamicCast(newState, 146), runOnload);
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $onBrowserEvent_0(this$static, event_0){
  if (this$static.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , InventoryIcon)) {
    return;
  }
  $clinit_DOM();
  $eventCancelBubble(event_0, true);
  $eventStopPropagation(event_0);
  (null , currentEvent).cancelBubble = true;
  if (!debugIsOpen()) {
    $eventPreventDefault(event_0);
    $eventPreventDefault(event_0);
  }
  if ($clinit_SceneObject() , editMode) {
    $editingObjectEvents(event_0);
    return;
  }
  switch ($eventGetTypeInt(event_0.type)) {
    case 1:
      $onMouseOrTouchClick(this$static, event_0);
      break;
    case $intern_105:
      LastTouchMoveScreen = event_0.touches[0];
      break;
    case $intern_32:
      $info_1(SOLog_0, '____________Event.ONTOUCHSTART');
      LastTouchMoveScreen = event_0.touches[0];
      $info_1(($clinit_SpiffyDragPanel() , Log_7), 'just draged set to false.');
      justDragged = false;
      break;
    case 4:
      $info_1(SOLog_0, '____________Event.ONMOUSEDOWN');
      $info_1(($clinit_SpiffyDragPanel() , Log_7), 'just draged set to false.');
      justDragged = false;
      break;
    case $intern_33:
      $info_1(SOLog_0, '_________Event.ONTOUCHEND ');
      $onMouseOrTouchClick(this$static, event_0);
    case 8:
      $info_1(SOLog_0, '____________Event.ONMOUSEUP');
      break;
    case $intern_104:
      $triggerContextClickOnObject(this$static);
      break;
    case 32:
      if (this$static.actionsToRunForMouseOut) {
        wasLastObjectUpdated(this$static);
        $updateLastClickedLocation(this$static);
        processInstructions(this$static.actionsToRunForMouseOut.CommandsInSet, 'mou_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static);
      }

      break;
    case 16:
      if (this$static.actionsToRunForMouseOver) {
        wasLastObjectUpdated(this$static);
        $updateLastClickedLocation(this$static);
        processInstructions(this$static.actionsToRunForMouseOver.CommandsInSet, 'mov_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static);
      }

  }
}

function $onLoad_0(this$static){
  if (this$static.getObjectsCurrentState_1().zindex > 0) {
    $info_1(SOLog_0, '_____attempting to set zindex on ' + this$static.getObjectsCurrentState_1().ObjectsName + ' to;' + this$static.getObjectsCurrentState_1().zindex);
    $setZIndex(this$static, this$static.getObjectsCurrentState_1().zindex);
    $info_1(SOLog_0, '_____set zindex to ' + $getZindex(this$static));
    this$static.ObjectsLog.info_0('after setting zindex content length=' + ($getName(this$static.___clazz$) + '@' + toUnsignedRadixString(getHashCode(this$static), 16)).length);
  }
   else {
    $info_1(SOLog_0, '_____no zindex on object;' + this$static.getObjectsCurrentState_1().zindex);
  }
  $info_1(SOLog_0, '__________onLoad actions:');
  if (!!this$static.actionsToRunOnFirstLoad && !this$static.alreadyLoaded && !this$static.objectScene.loadingsilently) {
    wasLastObjectUpdated(this$static);
    processInstructions(this$static.actionsToRunOnFirstLoad.CommandsInSet, 'fl_' + this$static.getObjectsCurrentState_1().ObjectsName, this$static);
  }
  $info_1(SOLog_0, '__________onLoad actions ran');
  this$static.alreadyLoaded = true;
}

function $onMouseOrTouchClick(this$static, event_0){
  $info_1(SOLog_0, '_________________Event.BUTTON_Click ');
  if ($wasJustDragged()) {
    return;
  }
  if ($eventGetCtrlKey(event_0)) {
    ($clinit_JAMcore() , DebugMode).value_0 && ($info_1(SOLog_0, 'testing for debug') , !this$static.oipu && (this$static.oipu = new ObjectInspector(this$static)) , $info_1(SOLog_0, 'updating debug') , $update_1(this$static.oipu) , $OpenDefault_2(this$static.oipu) , $setSelectedCSS(this$static, true) , !!this$static.objectScene && $setDebugBoxVisible(this$static.objectScene, true));
    return;
  }
  $triggerClickOnObject(this$static);
  ($getTypeInt(($clinit_DOM() , $clinit_DOM() , currentEvent)) & 15728640) != 0?showclicker($touchGetSubPixelClientX(LastTouchMoveScreen) | 0, $touchGetSubPixelClientY(LastTouchMoveScreen) | 0):showclicker($eventGetSubPixelClientX(event_0) | 0, $eventGetSubPixelClientY(event_0) | 0);
}

function $openObjectsInspector(this$static){
  $info_1(SOLog_0, 'testing for debug');
  !this$static.oipu && (this$static.oipu = new ObjectInspector(this$static));
  $info_1(SOLog_0, 'updating debug');
  $update_1(this$static.oipu);
  $OpenDefault_2(this$static.oipu);
  $setSelectedCSS(this$static, true);
  !!this$static.objectScene && $setDebugBoxVisible(this$static.objectScene, true);
}

function $setEditModeOn(this$static, state){
  if ($clinit_SceneObject() , currentEditedObject) {
    if (currentEditedObject.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , InventoryIcon)) {
      return;
    }
  }
  if (state) {
    editMode = true;
    currentEditedObject = this$static;
    $startEditingWidget(currentEditedObject.objectScene_0, true, this$static);
  }
   else {
    editMode = false;
    $startEditingWidget(this$static.objectScene, false, this$static);
    currentEditedObject = null;
  }
}

function $setSelectedCSS(this$static, b){
  if (b) {
    $setPropertyImpl($getElement(this$static.internalFocusPanel).style, 'outlineColor', '#FF0000');
    $getElement(this$static.internalFocusPanel).style['outlineWidth'] = ($clinit_Style$Unit() , '2.0px');
    $getElement(this$static.internalFocusPanel).style['outlineStyle'] = ($clinit_Style$OutlineStyle() , 'solid');
  }
   else {
    $getElement(this$static.internalFocusPanel).style['outlineWidth'] = ($clinit_Style$Unit() , '0.0px');
    $getElement(this$static.internalFocusPanel).style['outlineStyle'] = ($clinit_Style$OutlineStyle() , 'none');
  }
}

function $setSize_3(this$static, width_0, height){
  $setSize(this$static.internalFocusPanel, width_0, height);
}

function $setStylePrimaryName_1(this$static, stylename){
  $setStylePrimaryName(this$static.internalFocusPanel, stylename);
}

function $setTitle_0(this$static, title_0){
  $setTitle(this$static.internalFocusPanel, title_0);
}

function $setWidget_2(this$static, widget){
  $setWidget(this$static.internalFocusPanel, widget);
}

function $updateDebugInfo(this$static){
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $updateLastClickedLocation(this$static){
  var x_0, y_0;
  $clinit_DOM();
  if (!currentEvent) {
    return;
  }
  if (($getTypeInt((null , currentEvent)) & 15728640) != 0) {
    $info_1(SOLog_0, ' WAS A TOUCH EVENT:');
    x_0 = $touchGetSubPixelClientX(LastTouchMoveScreen) | 0;
    y_0 = $touchGetSubPixelClientY(LastTouchMoveScreen) | 0;
  }
   else {
    x_0 = ((null , currentEvent).clientX || 0) | 0;
    y_0 = ((null , currentEvent).clientY || 0) | 0;
  }
  $info_1(SOLog_0, 'click at screen:' + x_0 + ',' + y_0);
  lastclicked_x_0 = x_0 - $getAbsoluteLeft_0($getElement(this$static.internalFocusPanel)) + $getScrollLeft_0($getElement(this$static.internalFocusPanel)) + $getScrollLeft($getElement(this$static.internalFocusPanel).ownerDocument) + $getTopLeftBaseX(this$static.thisobject);
  lastclicked_y_0 = y_0 - $getAbsoluteTop_0($getElement(this$static.internalFocusPanel)) + (($getElement(this$static.internalFocusPanel).scrollTop || 0) | 0) + $getScrollTop($getElement(this$static.internalFocusPanel).ownerDocument) + $getTopLeftBaseY(this$static.thisobject);
  lastclickedscreen_x = x_0;
  lastclickedscreen_y = y_0;
}

function SceneObjectVisual(subclassStateObject, actions, sceneItsOn){
  $clinit_SceneObjectVisual();
  SceneObject.call(this, actions, subclassStateObject, sceneItsOn);
  this.oipu = null;
  this.ObjectsLog = ($clinit_JAMcore() , DebugMode).value_0?new SpiffyLogBox:new SpiffyLogBox$SpiffyDummyLogBox;
  this.thisobject = this;
  this.internalFocusPanel = new SceneObjectVisual$MyFocusPanel(this);
  this.ObjectsLog.log_0('started object creation..');
  this.ObjectsLog.settimer();
  if (!subclassStateObject) {
    $severe_0(SOLog_0, 'ERROR:subclassStateObject not supplied to SceneObjectVisual constructor');
    return;
  }
  $setAttribute($getElement(this.internalFocusPanel), 'unselectable', 'on');
  $info_1(SOLog_0, 'SceneObjectVisual construction done');
}

function splitActionsFromParametersAndActions(rawParameterAndActionData){
  $clinit_SceneObjectVisual();
  var allactions, firstLocOfColon, linebeforeColon;
  $info_1(SOLog_0, 'extracting action data from:\r' + rawParameterAndActionData);
  firstLocOfColon = $indexOf_2(rawParameterAndActionData, fromCodePoint(58));
  $info_1(SOLog_0, 'LocOfColon recieved for input  object:' + firstLocOfColon);
  allactions = '';
  if (firstLocOfColon == -1)
  ;
  else {
    linebeforeColon = $lastIndexOf_0(rawParameterAndActionData, fromCodePoint(10), firstLocOfColon);
    allactions = __substr(rawParameterAndActionData, linebeforeColon, rawParameterAndActionData.length - linebeforeColon);
  }
  return allactions.length > 0?new ActionList_0(allactions):null;
}

defineClass(137, 24, {97:1, 147:1, 222:1, 24:1, 137:1});
_.ObjectsLog_1 = function ObjectsLog_2(contents, level){
  $ObjectsLog(this, contents, level);
}
;
_.ObjectsLog_2 = function ObjectsLog_3(contents, color_0){
  $ObjectsLog_0(this, contents, color_0);
}
;
_.clearObjectsInspector = function clearObjectsInspector(){
  if (this.oipu) {
    $CloseDefault_3(this.oipu);
    this.oipu = null;
  }
}
;
_.getAbsoluteLeft = function getAbsoluteLeft_0(){
  return $getAbsoluteLeft_0(($clinit_DOM() , this.internalFocusPanel.element));
}
;
_.getAbsoluteTop = function getAbsoluteTop_0(){
  return $getAbsoluteTop_0(($clinit_DOM() , this.internalFocusPanel.element));
}
;
_.getAttachmentPointsFor = function getAttachmentPointsFor_0(atachmentPointName){
  var currentFrame, points;
  points = this.attachmentPoints;
  if (points) {
    currentFrame = 0;
    if (this.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , Sprite)) {
      currentFrame = $getAsSprite(this).SceneObjectIcon.animation.currentframe;
      $info_1(SOLog_0, 'getting for frame:' + currentFrame);
    }
    return $getPointsFor(points, atachmentPointName, currentFrame);
  }
   else {
    $info_1(SOLog_0, 'no attachment points found');
  }
  return null;
}
;
_.getObjectHeight = function getObjectHeight(){
  return $getOffsetHeight(this.internalFocusPanel);
}
;
_.getObjectWidth = function getObjectWidth(){
  return $getOffsetWidth(this.internalFocusPanel);
}
;
_.getZindex = function getZindex(){
  return $getZindex(this);
}
;
_.isAttached = function isAttached_1(){
  return this.internalFocusPanel.attached;
}
;
_.isVisible = function isVisible_0(){
  return $isVisible(this.internalFocusPanel);
}
;
_.onBrowserEvent = function onBrowserEvent_11(event_0){
  $onBrowserEvent_0(this, event_0);
}
;
_.openObjectsInspector = function openObjectsInspector(){
  $openObjectsInspector(this);
}
;
_.removeThisObjectFromItsSceneImplementation = function removeThisObjectFromItsSceneImplementation(){
  if ($isObjectOnPanel(this.objectScene, this)) {
    $removeWidget_0(this.objectScene, this.internalFocusPanel);
  }
   else {
    $info_1(SOLog_0, 'removing this object from parent: ');
    $removeFromParent(this.internalFocusPanel);
  }
}
;
_.setObjectsSceneVariable = function setObjectsSceneVariable_0(scene){
  this.objectScene = scene;
  $setObjectsSceneVariable(this, scene);
}
;
_.setOpacityImplementation = function setOpacityImplementation(opacityAsDouble){
  $cssSetOpacity($getElement(this.thisobject.internalFocusPanel).style, opacityAsDouble);
}
;
_.setPositionOnItsScene = function setPositionOnItsScene(x_0, y_0, z_0, restrictPositionToScreen){
  $setObjectsPosition(this.objectScene, this, x_0, y_0, z_0, restrictPositionToScreen);
  !!this.oipu && $update_1(this.oipu);
}
;
_.setVisibleImplementation = function setVisibleImplementation(status_0){
  $setVisible(this.internalFocusPanel, status_0);
}
;
_.setZIndexImplementation = function setZIndexImplementation(newzindex){
  var elementOnPanel;
  if (newzindex != -1) {
    this.getObjectsCurrentState_1().zindex = newzindex;
    $info_1(SOLog_0, '_____________________________the zindex set too...' + this.getObjectsCurrentState_1().zindex);
    this.thisobject.internalFocusPanel.attached?$info_1(SOLog_0, '____' + this.thisobject.getObjectsCurrentState_1().ObjectsName + '___is attached'):$info_1(SOLog_0, '____' + this.thisobject.getObjectsCurrentState_1().ObjectsName + '___is not attached');
    elementOnPanel = $getElementOnPanel(this.thisobject);
    if (!elementOnPanel) {
      $info_1(SOLog_0, '_____________________________element not found');
      return;
    }
    $info_1(SOLog_0, '~~~~~Just before setting style');
    elementOnPanel.style['zIndex'] = this.getObjectsCurrentState_1().zindex + '';
  }
   else {
    elementOnPanel = $getElementOnPanel(this.thisobject);
    $setPropertyImpl(elementOnPanel.style, 'zIndex', 'auto');
  }
}
;
_.updateDebugGlobalVariableInfo = function updateDebugGlobalVariableInfo(){
  refreshSpecialVariables();
}
;
_.updateDebugInfo = function updateDebugInfo(){
  $updateDebugInfo(this);
}
;
_.updateLastClickedLocation = function updateLastClickedLocation(){
  $updateLastClickedLocation(this);
}
;
var LastTouchMoveScreen = null, SOLog_0;
var Lcom_lostagain_JamGwt_JargScene_SceneObjectVisual_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneObjectVisual', 137, Lcom_lostagain_Jam_SceneObjects_SceneObject_2_classLit);
function $clinit_SceneDivObject(){
  $clinit_SceneDivObject = emptyMethod;
  $clinit_SceneObjectVisual();
  Log_84 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneDivObject'));
}

function $resetObject_0(this$static, reRunUpdateState, reOnLoad){
  $info_1(Log_84, 'resetting:' + this$static.objectsCurrentState_1.ObjectsName);
  reRunUpdateState && $updateState_1(this$static, this$static.getInitialState(), false, true);
  if (reOnLoad) {
    this$static.alreadyLoaded = false;
    $info_1(Log_84, 'running objects onload again');
    $onLoad_0(this$static);
  }
  $resetObject(this$static);
}

function $saveTempState(this$static){
  $info_1(Log_84, 'saving div object');
  this$static.tempObjectState = this$static.objectsCurrentState_1.copy();
  $info_1(Log_84, 'seralised to:' + $serialiseToString(this$static.tempObjectState));
}

function $setBoxCSS(this$static, currentProperty){
  $setStyleName(this$static.internalFocusPanel, currentProperty);
  this$static.objectsCurrentState_1.CurrentBoxCSS = currentProperty;
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $setVisible_1(this$static, status_0, byPin){
  $info_1(Log_84, 'setting div visible' + status_0);
  if (this$static.objectsCurrentState_1.currentlyVisible == status_0) {
    $info_1(Log_84, 'already have visibility set to:' + status_0 + ' so we do nothing');
    return;
  }
  if (status_0) {
    if (this$static.objectsCurrentState_1.attachToHTMLDiv.length < 1 && this$static.internalFocusPanel.attached) {
      if (this$static.objectsCurrentState_1.positionedRelativeToo) {
        if (this$static.getObjectsCurrentState().restrictPositionToScreen) {
          $info_1(Log_84, 'resetting relative position');
          $updateRelativePosition(this$static, true);
        }
      }
       else {
        if (this$static.getObjectsCurrentState().restrictPositionToScreen) {
          $info_1(Log_84, 'resetting position in order to re-check restrict to screen');
          $setPosition_2(this$static.thisobject, this$static.objectsCurrentState_1.X, this$static.objectsCurrentState_1.Y, this$static.objectsCurrentState_1.Z, false, false, true);
        }
      }
    }
  }
  $setVisible_0(this$static, status_0);
}

function $setupWidget(this$static){
  this$static.ObjectsLog.log_1('Setting up SceneObjectVisual..', 'orange');
  $info_1(SOLog_0, 'setting currently visibile:' + this$static.getObjectsCurrentState().currentlyVisible);
  $setVisibleSecretly(this$static, this$static.getObjectsCurrentState().currentlyVisible);
  $setTitle_0(this$static, this$static.getObjectsCurrentState().Title);
  $sinkEvents(this$static.internalFocusPanel, 15990843);
  this$static.ObjectsLog.log_1('Setting up div object', 'orange');
  $info_1(Log_84, '___________________________________________________________________creating div object');
  if (this$static.objectsCurrentState_1.CurrentBoxCSS != null && this$static.objectsCurrentState_1.CurrentBoxCSS.length > 0) {
    this$static.ObjectsLog.info_0('setting up CurrentBoxCSS to : ' + this$static.objectsCurrentState_1.CurrentBoxCSS);
    $setBoxCSS(this$static, this$static.objectsCurrentState_1.CurrentBoxCSS);
  }
  this$static.objectsCurrentState_1.BackgroundString.length > 2 && ($getElement(this$static.internalFocusPanel).style['background'] = this$static.objectsCurrentState_1.BackgroundString , undefined);
  $info_1(Log_84, 'starting setup div widget...');
  if (!this$static.widgetContents) {
    $info_1(Log_84, '(defaulting to div widget)...');
    this$static.widgetContents = new SimplePanel;
  }
  $setWidget_2(this$static, this$static.widgetContents);
  $setSize_3(this$static, this$static.objectsCurrentState_1.sizeX, this$static.objectsCurrentState_1.sizeY);
  $startLoadingMovementAnimations(this$static);
}

function $updateState_1(this$static, newState, runOnload, repositionObjectsRelativeToThis){
  $info_1(Log_84, 'setting objects data to newState requested');
  $info_1(Log_84, 'clearing child widgets if we are a div and not a subclass...');
  this$static.widgetContents.___clazz$ == Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit && dynamicCast(this$static.widgetContents, 29).clear_1();
  !this$static.internalFocusPanel.widget && $warning_0(Log_84, '(has no widget set)');
  $updateState_0(this$static, newState);
  this$static.ObjectsLog.log_1('Updating Div state - RunOnLoad=' + runOnload + ' AlreadyLoaded=' + this$static.alreadyLoaded, 'blue');
  $info_1(Log_84, 'setting objects data to newState');
  newState.CurrentBoxCSS.length > 0 && $setStylePrimaryName_1(this$static, newState.CurrentBoxCSS);
  newState.BackgroundString.length > 2 && ($getElement(this$static.internalFocusPanel).style['background'] = this$static.objectsCurrentState_1.BackgroundString , undefined);
  if (newState.Title != null) {
    this$static.getObjectsCurrentState().Title = newState.Title;
    $setTitle_0(this$static, this$static.getObjectsCurrentState().Title);
  }
  if (runOnload) {
    $info_1(Log_84, 'running objects onload again');
    this$static.alreadyLoaded = false;
    $onLoad_0(this$static);
  }
   else {
    $info_1(Log_84, 'run onload no specified');
  }
  if (repositionObjectsRelativeToThis) {
    $info_1(Log_84, 'updateThingsPositionedRelativeToThis:');
    $updateThingsPositionedRelativeToThis(this$static, true);
  }
  $info_1(Log_84, 'done div update, or div phase if multipart update ');
}

function SceneDivObject(newobjectdata, actions, sceneItsOn, innerWidget, finaliseLoad){
  $clinit_SceneDivObject();
  SceneObjectVisual.call(this, newobjectdata, actions, sceneItsOn);
  this.objectsCurrentState_1 = this.objectsCurrentState_2;
  $info_1(Log_84, '_________creating div object ' + this.objectsCurrentState_2.ObjectsName + '________________');
  this.ObjectsLog.info_0('(creating div object)');
  $info_1(Log_84, 'done loading params');
  !!innerWidget && (this.widgetContents = innerWidget);
  if (finaliseLoad) {
    $setupWidget(this);
    this.ObjectsLog.logTimer('setup div took;');
    $initialiseAndAddToDatabase(this);
  }
  $info_1(Log_84, '_________adding to div lists________________');
}

function SceneDivObject_0(newobjectdata, actions, sceneItsOn){
  $clinit_SceneDivObject();
  SceneDivObject.call(this, new SceneDivObjectState_1(newobjectdata), actions, sceneItsOn, null, true);
}

defineClass(120, 137, {97:1, 109:1, 147:1, 222:1, 24:1, 120:1, 137:1}, SceneDivObject_0);
_.addBoxCSS = function addBoxCSS(currentProperty){
  $addStyleName(this.internalFocusPanel, currentProperty);
  this.objectsCurrentState_1.CurrentBoxCSS = $getStyleElement(this.internalFocusPanel).className || '';
  !!this.oipu && $update_1(this.oipu);
}
;
_.getInitialState = function getInitialState_0(){
  return this.initialObjectState;
}
;
_.getInitialState_2 = function getInitialState_1(){
  return this.getInitialState();
}
;
_.getObjectsCurrentState = function getObjectsCurrentState_0(){
  return this.objectsCurrentState_1;
}
;
_.getObjectsCurrentState_1 = function getObjectsCurrentState_1(){
  return this.getObjectsCurrentState();
}
;
_.getTempState = function getTempState(){
  return this.tempObjectState;
}
;
_.hasClass = function hasClass_0(classToCheckFor){
  var allStyles;
  allStyles = ' ' + ($getStyleElement(this.internalFocusPanel).className || '') + ' ';
  return allStyles.indexOf(' ' + classToCheckFor + ' ') != -1;
}
;
_.removeBoxCSS = function removeBoxCSS(currentProperty){
  $removeStyleName(this.internalFocusPanel, currentProperty);
  this.objectsCurrentState_1.CurrentBoxCSS = $getStyleElement(this.internalFocusPanel).className || '';
  !!this.oipu && $update_1(this.oipu);
}
;
_.resetObject = function resetObject_0(){
  $resetObject_0(this, true, true);
}
;
_.restoreTempState = function restoreTempState_0(){
  $updateState_1(this, this.getTempState(), false, true);
}
;
_.saveTempState = function saveTempState_0(){
  $saveTempState(this);
}
;
_.setBoxCSS = function setBoxCSS(currentProperty){
  $setBoxCSS(this, currentProperty);
}
;
_.setDivsWidget = function setDivsWidget(widget){
  this.widgetContents.___clazz$ == Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit && dynamicCast(this.widgetContents, 29).setWidget(widget);
}
;
_.setObjectsInitialState = function setObjectsInitialState_0(objectsInitialState){
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = objectsInitialState;
}
;
_.setVisible_0 = function setVisible_4(status_0, byPin){
  $setVisible_1(this, status_0, byPin);
}
;
_.updateState = function updateState(newState, runOnload, repositionObjectsRelativeToThis){
  $updateState_1(this, newState, runOnload, repositionObjectsRelativeToThis);
}
;
var Log_84;
var Lcom_lostagain_JamGwt_JargScene_SceneDivObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneDivObject', 120, Lcom_lostagain_JamGwt_JargScene_SceneObjectVisual_2_classLit);
function $clinit_SceneSpriteObject(){
  $clinit_SceneSpriteObject = emptyMethod;
  $clinit_SceneDivObject();
  Log_85 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneSpriteObject'));
}

function $animateToFrame(this$static, newframe){
  if (this$static.objectsCurrentState_0.currentFrame < newframe) {
    $info_1(Log_85, 'playing forward untill frame:' + newframe);
    $playUntill_0(this$static.SceneObjectIcon, newframe);
    this$static.objectsCurrentState_0.currentFrame = newframe;
  }
   else if (this$static.objectsCurrentState_0.currentFrame > newframe) {
    $info_1(Log_85, 'playing backward untill frame:' + newframe);
    $playBackUntill_0(this$static.SceneObjectIcon, newframe);
    this$static.objectsCurrentState_0.currentFrame = newframe;
  }
   else {
    $info_1(Log_85, 'current frame number the same');
  }
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $initCurrentState(this$static, runOnload){
  $updateState_1(this$static, this$static.objectsCurrentState_0, false, false);
  if (this$static.objectsCurrentState_0.currentlyAnimationState.length > 1) {
    $loadSerialisedAnimationState_0(this$static.SceneObjectIcon, this$static.objectsCurrentState_0.currentlyAnimationState);
    $resumeAnimation(this$static.SceneObjectIcon.animation);
  }
   else {
    $gotoFrame_0(this$static.SceneObjectIcon, this$static.objectsCurrentState_0.currentFrame);
  }
  if (runOnload) {
    this$static.ObjectsLog.info_0('running objects onload again');
    this$static.alreadyLoaded = false;
    $onLoad_0(this$static);
  }
  $updateThingsPositionedRelativeToThis(this$static, true);
  this$static.ObjectsLog.info_0('Animation running' + this$static.SceneObjectIcon.animation.currentlyAnimating);
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $setupPostAnimationActions(this$static, URL_0){
  var CurrentSceneObjectNaame, actions, runThis, thisObjectsScene;
  if (this$static.objectsActions) {
    actions = $getActionsForTrigger(this$static.objectsActions, ($clinit_ActionSet$TriggerType() , OnAnimationEnd), URL_0);
    CurrentSceneObjectNaame = this$static.objectsCurrentState_0.ObjectsFileName;
    $info_1(Log_85, '____________________animation end actions for \n' + URL_0);
    $info_1(Log_85, '____________________animation end actions found: \n' + $toString_8(actions));
    thisObjectsScene = this$static.objectScene;
    runThis = new SceneSpriteObject$3(thisObjectsScene, actions, CurrentSceneObjectNaame, this$static);
    this$static.ObjectsLog.info_0('adding run this after open');
    $setCommandToRunAfterOpen_0(this$static.SceneObjectIcon, runThis);
    this$static.ObjectsLog.info_0('adding run this after close');
    $setCommandToRunAfterClose_0(this$static.SceneObjectIcon, runThis);
  }
  $setCommandToRunAfterFrameChange_0(this$static.SceneObjectIcon, new SceneSpriteObject$4(this$static));
}

function $setupWidget_0(this$static, imageZeroURL, numOfFrames, sceneItsOne){
  var atachmentPointUrl, internalAnimation, internalname;
  this$static.ObjectsLog.log_1('Setting up Sprite..', 'orange');
  this$static.ObjectsLog.log_0('Url:' + imageZeroURL + '(' + numOfFrames + ' frames)');
  $info_1(Log_85, '___________________________________________________________________creating animated icon ' + imageZeroURL + '|');
  imageZeroURL = $trim(imageZeroURL);
  if ($equals_5(imageZeroURL.substr(0, 1), '<')) {
    internalname = $substring_0(imageZeroURL, 1, imageZeroURL.length - 1);
    $info_1(Log_85, '__creating sprite from internal name:' + internalname);
    internalAnimation = getAnimation(internalname);
    if (internalAnimation == null) {
      $severe_0(Log_85, 'No Internal Animation of that name found....did you compile the code with the right internal spritesets?');
      $severe_0(Log_85, ($clinit_MeryllInternalAnimations() , 'Knowen Sprites;' + $toString_0(new AbstractMap$1(allAnimations))));
    }
    this$static.objectsCurrentState_0.currentNumberOfFrames = internalAnimation.length;
    $bundledBasedSetup(this$static.SceneObjectIcon, internalAnimation, '<' + internalname + '>');
  }
   else {
    $info_1(Log_85, '__creating sprite from :' + imageZeroURL + ' frames=' + numOfFrames);
    $intialise(this$static.SceneObjectIcon, imageZeroURL, numOfFrames);
    if (this$static.objectsCurrentState_0.hasAttachmentPointFile) {
      atachmentPointUrl = $subSequence(imageZeroURL, 0, imageZeroURL.lastIndexOf('.') - 1) + '.glu';
      $getAttachmentPointMovements(this$static, atachmentPointUrl);
    }
    if (this$static.objectsCurrentState_0.objectsPrimaryType == ($clinit_SceneObjectType() , InventoryIcon))
    ;
    else {
      $info_1(Log_85, '__added to loading::' + imageZeroURL);
      $addToLoading(sceneItsOne);
    }
  }
  this$static.ONLOADHANDLE = $addHandler(this$static.SceneObjectIcon.imageContents, new SceneSpriteObject$1(this$static), ($clinit_LoadEvent() , $clinit_LoadEvent() , TYPE_9));
  $addErrorHandler(this$static.SceneObjectIcon, new SceneSpriteObject$2(this$static));
  $info_1(Log_85, '______starting to setup for sprite:');
  $setupWidget(this$static);
  $setTitle_0(this$static, this$static.objectsCurrentState_0.Title);
  $info_1(Log_85, 'starting to setup scenespriteobject widget (then animations and cmap)...');
  $startLoadingMovementAnimations(this$static);
}

function $updateState_2(this$static, newState, runOnload, repositionObjectsRelativeToThis){
  var ChangeURLAfterAnimating, urlchanged;
  $info_1(Log_85, 'updating state to state with frame:' + newState.currentFrame);
  if (this$static.objectsCurrentState_0 != newState) {
    this$static.objectsCurrentState_0.currentFrame = this$static.SceneObjectIcon.animation.currentframe;
  }
   else {
    this$static.ObjectsLog.info_0('setting up for first time');
    $initCurrentState(this$static, runOnload);
    return;
  }
  this$static.ObjectsLog.info_0('setting objects data to newState:' + runOnload);
  $pauseAnimation(this$static.SceneObjectIcon.animation);
  this$static.ObjectsLog.info_0('clearing run after open/close');
  this$static.SceneObjectIcon.animation.runThisAfterClose = null;
  this$static.SceneObjectIcon.animation.runThisAfterOpen = null;
  urlchanged = false;
  this$static.ObjectsLog.info_0('newState.ObjectsURL-' + newState.ObjectsURL);
  this$static.ObjectsLog.info_0('newState.currentFrame-' + newState.currentFrame);
  $info_1(Log_85, 'setting sprite objects\t data to newState');
  $updateState_1(this$static, newState, false, false);
  if (newState.ObjectsURL != null) {
    if (!$equals_5(this$static.objectsCurrentState_0.ObjectsURL, newState.ObjectsURL) || !$equals_5(this$static.objectsCurrentState_0.ObjectsFileName, newState.ObjectsFileName)) {
      urlchanged = true;
      if ($startsWith(newState.ObjectsFileName, '<')) {
        this$static.objectsCurrentState_0.ObjectsURL = newState.ObjectsFileName;
        newState.ObjectsName.length < 3 && (this$static.objectsCurrentState_0.ObjectsName = $trim(newState.ObjectsFileName));
        this$static.ObjectsLog.info_0('______________________currentObjectState.ObjectsName:' + this$static.objectsCurrentState_0.ObjectsName + ':');
      }
       else {
        this$static.objectsCurrentState_0.ObjectsURL = newState.ObjectsURL;
      }
      this$static.ObjectsLog.info_0('ObjectsURL now set from:' + newState.ObjectsURL);
      this$static.ObjectsLog.info_0('ObjectsURL now set to:' + this$static.objectsCurrentState_0.ObjectsURL);
      this$static.ObjectsLog.info_0('anima is:' + this$static.SceneObjectIcon.basefilename);
    }
     else {
      this$static.ObjectsLog.info_0('url not changed');
      this$static.ObjectsLog.info_0('internally still:' + this$static.SceneObjectIcon.basefilename);
    }
  }
  if (newState.currentlyAnimationState.length > 1) {
    this$static.objectsCurrentState_0.currentlyAnimationState = newState.currentlyAnimationState;
    this$static.ObjectsLog.info_0('new animation state | ' + this$static.objectsCurrentState_0.currentlyAnimationState);
  }
   else {
    this$static.ObjectsLog.info_0(' animation state still | ' + this$static.objectsCurrentState_0.currentlyAnimationState);
  }
  if (urlchanged) {
    this$static.ObjectsLog.info_0('url changed');
  }
   else {
    this$static.ObjectsLog.info_0('Animating to frame:' + newState.currentFrame);
    $animateToFrame(this$static, newState.currentFrame);
  }
  newState.ObjectsFileName != null && (this$static.objectsCurrentState_0.ObjectsFileName = newState.ObjectsFileName);
  if (urlchanged) {
    this$static.objectsCurrentState_0.currentNumberOfFrames = newState.currentNumberOfFrames;
    ChangeURLAfterAnimating = new SceneSpriteObject$5(this$static, newState, runOnload);
    if (this$static.SceneObjectIcon.mode == 3) {
      this$static.ObjectsLog.info_0('ObjectsURL set straight away as its currently just a static image:' + this$static.objectsCurrentState_0.ObjectsURL);
      $run_19(ChangeURLAfterAnimating);
    }
     else {
      this$static.ObjectsLog.info_0('ObjectsURL set after animation close:' + this$static.objectsCurrentState_0.ObjectsURL);
      $setCommandToRunAfterClose_0(this$static.SceneObjectIcon, ChangeURLAfterAnimating);
      $setPlayBack(this$static.SceneObjectIcon.animation);
    }
  }
   else {
    this$static.ObjectsLog.info_0('testing state');
    if (newState.currentlyAnimationState.length > 1) {
      $loadSerialisedAnimationState_0(this$static.SceneObjectIcon, this$static.objectsCurrentState_0.currentlyAnimationState);
      $resumeAnimation(this$static.SceneObjectIcon.animation);
    }
    $setupPostAnimationActions(this$static, this$static.objectsCurrentState_0.ObjectsFileName);
  }
  this$static.ObjectsLog.info_0('setting objects data to newState f');
  newState.currentNumberOfFrames != -1 && (this$static.objectsCurrentState_0.currentNumberOfFrames = newState.currentNumberOfFrames);
  this$static.ObjectsLog.info_0('setting position  to ' + $toString_12(this$static.objectsCurrentState_0.moveState.movement_current_pos));
  if (runOnload && !urlchanged) {
    this$static.ObjectsLog.info_0('running objects onload again');
    this$static.alreadyLoaded = false;
    $onLoad_0(this$static);
  }
   else {
    this$static.ObjectsLog.info_0('run onload none specified');
  }
  repositionObjectsRelativeToThis && $updateThingsPositionedRelativeToThis(this$static, true);
  this$static.ObjectsLog.info_0('Animation running' + this$static.SceneObjectIcon.animation.currentlyAnimating);
  !!this$static.oipu && $update_1(this$static.oipu);
}

function SceneSpriteObject(newobjectdata, actions, sceneItsOn){
  $clinit_SceneSpriteObject();
  SceneSpriteObject_0.call(this, new SceneSpriteObjectState_0(newobjectdata), actions, sceneItsOn);
}

function SceneSpriteObject_0(newobjectdata, actions, sceneItsOn){
  $clinit_SceneSpriteObject();
  SceneSpriteObject_1.call(this, newobjectdata, actions, sceneItsOn, new GWTAnimatedIcon);
}

function SceneSpriteObject_1(newobjectdata, actions, sceneItsOn, innerWidget){
  SceneDivObject.call(this, newobjectdata, actions, sceneItsOn, innerWidget, false);
  this.thisObject = this;
  this.objectsCurrentState_0 = dynamicCast(this.objectsCurrentState_1, 106);
  $info_1(Log_85, '_________created initial  sprite data object ' + this.objectsCurrentState_0.ObjectsName + '________________');
  this.SceneObjectIcon = dynamicCast(this.widgetContents, 88);
  this.ObjectsLog.info_0('(creating sprite object)');
  $setupWidget_0(this, this.objectsCurrentState_0.ObjectsURL, this.objectsCurrentState_0.currentNumberOfFrames, sceneItsOn);
  $info_1(Log_85, '_________adding sprite object to object list:' + this.objectsCurrentState_0.ObjectsName.toLowerCase() + ':');
  $initialiseAndAddToDatabase(this);
  this.objectsCurrentState_0.objectsPrimaryType == ($clinit_SceneObjectType() , InventoryIcon);
  $setupPostAnimationActions(this, this.objectsCurrentState_0.ObjectsFileName);
  $info_1(Log_85, '____sprite setup done');
  this.ObjectsLog.logTimer('setup sprite took;');
}

function SceneSpriteObject_2(newobjectdata, objectsCurrentStateString){
  $clinit_SceneSpriteObject();
  SceneSpriteObject_1.call(this, newobjectdata, splitActionsFromParametersAndActions(objectsCurrentStateString), null, new GWTAnimatedIcon);
}

defineClass(138, 120, {97:1, 109:1, 147:1, 166:1, 222:1, 24:1, 120:1, 137:1, 138:1}, SceneSpriteObject, SceneSpriteObject_0);
_.getCurrentFrame = function getCurrentFrame(){
  this.objectsCurrentState_0.currentFrame = this.SceneObjectIcon.animation.currentframe;
  return this.objectsCurrentState_0.currentFrame;
}
;
_.getInitialState = function getInitialState_2(){
  return dynamicCast(this.initialObjectState, 106);
}
;
_.getInitialState_1 = function getInitialState_3(){
  return dynamicCast(this.initialObjectState, 106);
}
;
_.getObjectHeight = function getObjectHeight_0(){
  return $getHeight(this.SceneObjectIcon.imageContents);
}
;
_.getObjectWidth = function getObjectWidth_0(){
  return $getWidth(this.SceneObjectIcon.imageContents);
}
;
_.getObjectsCurrentState = function getObjectsCurrentState_2(){
  return this.objectsCurrentState_0;
}
;
_.getObjectsCurrentState_2 = function getObjectsCurrentState_3(){
  return this.objectsCurrentState_0;
}
;
_.getSerialisedAnimationState = function getSerialisedAnimationState(){
  this.SceneObjectIcon.animation.currentlyAnimating?(this.objectsCurrentState_0.currentlyAnimationState = $serialiseAnimationState(this.SceneObjectIcon.animation)):(this.objectsCurrentState_0.currentlyAnimationState = '');
  return this.objectsCurrentState_0.currentlyAnimationState;
}
;
_.getTempState = function getTempState_0(){
  return dynamicCast(this.tempObjectState, 106);
}
;
_.getTempState_1 = function getTempState_1(){
  return dynamicCast(this.tempObjectState, 106);
}
;
_.imageloaded = function imageloaded(){
  this.ObjectsLog.log_1('Image loaded', 'green');
  if (this.objectsCurrentState_0.objectsPrimaryType == ($clinit_SceneObjectType() , InventoryIcon))
  ;
  else {
    $advanceLoading_0(this.objectScene);
  }
}
;
_.resetObject = function resetObject_1(){
  this.ObjectsLog.log_1('Resetting object:', '#FF0000');
  $info_1(Log_85, 'resetting:' + this.objectsCurrentState_0.ObjectsName);
  $updateState_2(this, dynamicCast(this.initialObjectState, 106), false, true);
  this.ObjectsLog.info_0('trying to run objects onload again');
  this.alreadyLoaded = false;
  $onLoad_0(this);
  $resetObject_0(this, false, false);
}
;
_.saveTempState = function saveTempState_1(){
  this.objectsCurrentState_0.currentFrame = this.SceneObjectIcon.animation.currentframe;
  this.ObjectsLog.info_0('saving sprite object data');
  this.objectsCurrentState_0.currentlyAnimationState = $serialiseAnimationState(this.SceneObjectIcon.animation);
  this.objectsCurrentState_0.currentFrame = this.SceneObjectIcon.animation.currentframe;
  $saveTempState(this);
  $setObjectsPrimaryType(this.tempObjectState, this.objectsCurrentState_0.objectsPrimaryType);
  $info_1(Log_85, 'seralised to:' + $serialiseToString(this.tempObjectState));
}
;
_.setAnimationStatus = function setAnimationStatus(state){
  setAnimationsStatusHelper(state, this, this.SceneObjectIcon.animation);
  this.objectsCurrentState_0.ObjectsURL = $getUrl(this.SceneObjectIcon);
  !!this.oipu && $update_1(this.oipu);
}
;
_.setFrameGap = function setFrameGap(gap){
  $setFrameGap(this.SceneObjectIcon, gap);
}
;
_.setObjectsInitialState = function setObjectsInitialState_1(objectsInitialState){
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = dynamicCast(objectsInitialState, 106);
}
;
_.setURLPhysically = function setURLPhysically(){
  this.SceneObjectIcon.animation.currentframe = 0;
  $setURL(this.SceneObjectIcon, this.objectsCurrentState_0.ObjectsURL, this.objectsCurrentState_0.currentNumberOfFrames);
}
;
_.updateState_1 = function updateState_0(newState, runOnload, repositionObjectsRelativeToThis){
  $updateState_2(this, newState, runOnload, repositionObjectsRelativeToThis);
}
;
var Log_85;
var Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneSpriteObject', 138, Lcom_lostagain_JamGwt_JargScene_SceneDivObject_2_classLit);
function $clinit_InventoryIcon(){
  $clinit_InventoryIcon = emptyMethod;
  $clinit_SceneSpriteObject();
  Log_86 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.InventoryIcon'));
}

function $getDataURL(this$static){
  if (this$static.DataURLofIcon.length > 3) {
    return this$static.DataURLofIcon;
  }
  return null;
}

function $getDataURLWithPlus(this$static){
  if (this$static.DataURLofIconWithPlus.length > 3) {
    return this$static.DataURLofIconWithPlus;
  }
  return null;
}

function $imageloaded(this$static){
  var imagetoiconnise, temp;
  $info_1(Log_86, '________________inventory icon loaded');
  $setId($getElement(this$static.SceneObjectIcon), 'iconimage');
  $setStylePrimaryName(this$static.SceneObjectIcon, 'InventoryIconInner');
  imagetoiconnise = $getImageAtFrame(this$static.SceneObjectIcon);
  $info_1(Log_86, '________________SceneObjectIcon height=' + $getPropertyInt(($clinit_DOM() , imagetoiconnise.element), 'offsetHeight'));
  $info_1(Log_86, '________________Loading DATA Url from image of ' + imagetoiconnise.state.getUrl(imagetoiconnise).uri_0 + ' which is attached:' + imagetoiconnise.attached);
  this$static.DataURLofIcon = getDataURLFromImage(imagetoiconnise, ($clinit_SpiffyImageUtilitys() , SmallArrow));
  this$static.DataURLofIconWithPlus = getDataURLFromImage(imagetoiconnise, SmallArrowWithPlus);
  imagetoiconnise.attached && $equals_5(imagetoiconnise.element.id, '_TEMP_IMAGE_') && $removeFromParent(imagetoiconnise);
  $info_1(Log_86, '________________Data URL SET Loaded' + this$static.DataURLofIcon.length);
  this$static.loadedPic = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  $setIconMode(this$static, this$static.currentMode);
  if (this$static.runwhenloaded) {
    temp = this$static.runwhenloaded;
    $info_1(Log_86, 'runwhendone clearing');
    this$static.runwhenloaded = null;
    $info_1(Log_86, 'runwhendone runing');
    $info_1(($clinit_InventoryPanelCore() , Log_45), 'Inventory item loaded. Now running hold item');
    holdItem(temp.val$ItemName2);
  }
   else {
    $info_1(Log_86, 'no runwhendone');
  }
}

function $justUsedButNoActionsFound(){
  if (!($clinit_SceneMenuWithPopUp() , menuShowing).value_0) {
    $info_1(Log_86, '__unholding due to no default actions and no menu showing');
    unholdItem();
  }
}

function $justUsedSpecificActionsFound(this$static){
  if (!($clinit_SceneMenuWithPopUp() , menuShowing).value_0 && this$static.keepheld != ($clinit_IsInventoryIcon$KeepHeldMode() , onuse)) {
    $info_1(Log_86, '__unholding due to actions being found,no menu showing, and "keep on use" not being set');
    unholdItem();
  }
}

function $processActionsFromThisIcon(this$static, actions){
  var x_0, y_0;
  if (actions.array.length != 0) {
    wasLastObjectUpdated(this$static);
    $clinit_DOM();
    if (currentEvent) {
      x_0 = ((null , currentEvent).clientX || 0) | 0;
      y_0 = ((null , currentEvent).clientY || 0) | 0;
      lastclicked_x_0 = x_0 + $getAbsoluteLeft_0(this$static.internalFocusPanel.element);
      lastclicked_y_0 = y_0 + $getAbsoluteTop_0(this$static.internalFocusPanel.element);
      lastclickedscreen_x = x_0;
      lastclickedscreen_y = y_0;
    }
    processInstructions(actions, 'rci_' + this$static.objectsCurrentState.ObjectsName, null);
  }
}

function $setCssAsDragging(this$static, status_0){
  $setStyleDependentName(this$static.SceneObjectIcon, status_0);
  $setStyleDependentName(this$static.internalFocusPanel, status_0);
}

function $setIconMode(this$static, mode){
  this$static.currentMode = mode;
  if (mode == ($clinit_IsInventoryIcon$IconMode() , Text_1)) {
    $setWidget_2(this$static, this$static.titlelab);
    $setHeight(this$static.internalFocusPanel, '30px');
  }
  if (mode == Image_5) {
    if (this$static.loadedPic.value_0) {
      $setWidget_2(this$static, this$static.SceneObjectIcon);
      $setHeight(this$static.internalFocusPanel, '100px');
    }
  }
  mode == CaptionedImage;
}

function $setPopedUp(this$static, settothis){
  var actionsToRunWhenClose, actionsToRunWhenOpened;
  this$static.popedup = settothis;
  if (this$static.popedup.value_0) {
    if (this$static.objectsActions) {
      $info_1(Log_86, 'firing inventory icon open actions');
      actionsToRunWhenOpened = $getActionsForTrigger(this$static.objectsActions, ($clinit_ActionSet$TriggerType() , OnItemOpen), null);
      $processActionsFromThisIcon(this$static, actionsToRunWhenOpened);
    }
  }
   else {
    if (this$static.objectsActions) {
      $info_1(Log_86, 'firing inventory icon close actions');
      actionsToRunWhenClose = $getActionsForTrigger(this$static.objectsActions, ($clinit_ActionSet$TriggerType() , OnItemClose), null);
      $processActionsFromThisIcon(this$static, actionsToRunWhenClose);
    }
  }
}

function $setRunwhenloaded(this$static, runwhenloaded){
  this$static.runwhenloaded = runwhenloaded;
}

function $triggerPopup(this$static){
  var type_0;
  type_0 = this$static.PopUp.POPUPTYPE();
  if (!this$static.ItemWithShadow || $equalsIgnoreCase(type_0, 'Dummy')) {
    $info_1(Log_86, 'not a popupable item (Dummy etc)');
    return;
  }
  $info_1(Log_86, 'Popping up...|' + this$static.objectsCurrentState.ObjectsName + '| type is ' + type_0);
  if (this$static.popedup.value_0) {
    this$static.ItemWithShadow.CloseDefault();
  }
   else {
    $setPopedUp(this$static, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
    this$static.fixedxdepth > -1 && $fixedZdepth(this$static.ItemWithShadow, this$static.fixedxdepth);
    this$static.ItemWithShadow.OpenDefault();
  }
}

function InventoryIcon_0(ItemPopUp, sourceInventory, newobjectdata, objectsCurrentStateasstring){
  $clinit_InventoryIcon();
  SceneSpriteObject_2.call(this, new InventoryObjectState(newobjectdata), objectsCurrentStateasstring);
  this.associatedSceneObject = null;
  this.popedup = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  new Label_1('');
  this.loadedPic = (null , FALSE_2);
  this.keepheld = ($clinit_IsInventoryIcon$KeepHeldMode() , never);
  this.DataURLofIcon = null;
  this.DataURLofIconWithPlus = null;
  $getClientWidth($doc);
  $getClientHeight($doc);
  this.NativeInventoryPanel = null;
  this.fixedxdepth = -1;
  this.currentMode = ($clinit_IsInventoryIcon$IconMode() , Image_5);
  this.objectsCurrentState = dynamicCast(this.objectsCurrentState_0, 408);
  this.NativeInventoryPanel = sourceInventory;
  this.PopUp = ItemPopUp;
  this.iconroute = this;
  this.titlelab = new Label_1(this.objectsCurrentState.Title);
  $getElement(this.titlelab).style['borderWidth'] = ($clinit_Style$Unit() , '2.0px');
  $addDomHandler(this.titlelab, new InventoryIcon$1(this), ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
  $addDomHandler(this.titlelab, new InventoryIcon$2(this), ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
  $setSize(this.internalFocusPanel, '100px', '100px');
  $setPixelSize_0(this.SceneObjectIcon, 100, 100);
  this.ItemWithShadow = new TitledPopUpWithShadow_1(this.iconroute, this.objectsCurrentState.Title, this.PopUp);
  if (!this.internalFocusPanel.widget) {
    $setWidget_2(this, new Label_1('loading image'));
    $setId($getElement(this.SceneObjectIcon), 'iconimage preload');
    $add_8(($clinit_RootPanel() , get_14(null)), this.SceneObjectIcon, -805, -800);
    this.loadedPic = (null , FALSE_2);
  }
   else {
    $imageloaded(this);
  }
  $setStylePrimaryName(this.internalFocusPanel, 'InventoryIcon');
  $addStyleName(this.internalFocusPanel, 'pngfix');
  $addMouseDownHandler(this.SceneObjectIcon, new InventoryIcon$3);
  $sinkEvents(this.internalFocusPanel, 15990843);
}

function generateInventoryIconParams(Parameters, itemName){
  $clinit_InventoryIcon();
  var ActionsListend, ActionsListstart, NewBits, typelineend, typelinestart;
  if (Parameters.length == 0) {
    $info_1(Log_86, 'no parameters!');
    Parameters = "Title = '" + itemName + "'" + '\n';
  }
  $info_1(Log_86, 'params size:' + Parameters.length);
  typelinestart = Parameters.indexOf('Type:');
  if (typelinestart != -1) {
    typelineend = Parameters.indexOf('\n', typelinestart + 5);
    Parameters = Parameters.substr(0, typelinestart) + '\n' + __substr(Parameters, typelineend, Parameters.length - typelineend) + '\n';
  }
  ActionsListstart = Parameters.indexOf('ActionsList:');
  if (ActionsListstart != -1) {
    ActionsListend = Parameters.indexOf('\n', ActionsListstart + 11);
    Parameters = Parameters.substr(0, ActionsListstart) + '\n' + __substr(Parameters, ActionsListend, Parameters.length - ActionsListend) + '\n';
  }
  NewBits = '\n';
  NewBits = NewBits + 'Name = ' + itemName + '\n';
  Parameters.indexOf('Frames =') != -1 || Parameters.indexOf('Frames=') != -1?(NewBits = NewBits + 'FileName = thumb_' + itemName + '0.png'):(NewBits = NewBits + 'FileName = thumb_' + itemName + '.png');
  Parameters = NewBits + '\n' + Parameters;
  $info_1(Log_86, 'parameters now:' + Parameters);
  return Parameters;
}

function generateInventoryIconState(currentItemData){
  $clinit_InventoryIcon();
  var Parameters, firstLocOfColon, linebeforeColon, newobjectdata;
  firstLocOfColon = $indexOf_2(currentItemData, fromCodePoint(58));
  if (firstLocOfColon == -1) {
    Parameters = currentItemData;
  }
   else {
    linebeforeColon = $lastIndexOf_0(currentItemData, fromCodePoint(10), firstLocOfColon);
    Parameters = currentItemData.substr(0, linebeforeColon);
  }
  newobjectdata = new SceneObjectState_2(Parameters);
  $setObjectsPrimaryType(newobjectdata, ($clinit_SceneObjectType() , InventoryIcon));
  return newobjectdata;
}

defineClass(115, 138, {97:1, 178:1, 109:1, 147:1, 166:1, 222:1, 24:1, 115:1, 120:1, 137:1, 138:1}, InventoryIcon_0);
_.getLowerLeft = function getLowerLeft_0(){
  return null;
}
;
_.getLowerLeftDisplacement = function getLowerLeftDisplacement_0(){
  return null;
}
;
_.getLowerRight = function getLowerRight_0(){
  return null;
}
;
_.getUpperLeft = function getUpperLeft_0(){
  return null;
}
;
_.getUpperRight = function getUpperRight_0(){
  return null;
}
;
_.imageloaded = function imageloaded_0(){
  $imageloaded(this);
}
;
_.onBrowserEvent = function onBrowserEvent_12(event_0){
  var actionsToRunForMouseClick, defaultMouseClickActions, defaultRightClickActions, item1, itemBeingHeldOrDragged, localRightClickActions;
  $info_1(Log_86, 'on browser event from inventory icon');
  switch ($clinit_DOM() , $eventGetTypeInt(event_0.type)) {
    case $intern_104:
      $eventPreventDefault(event_0);
      if (this.objectsActions) {
        localRightClickActions = $getActionsForTrigger(this.objectsActions, ($clinit_ActionSet$TriggerType() , MouseRightClickAction), null);
        $processActionsFromThisIcon(this, localRightClickActions);
      }

      if ($clinit_InventoryPanelCore() , globalInventoryActions) {
        defaultRightClickActions = $getActionsForTrigger(globalInventoryActions, ($clinit_ActionSet$TriggerType() , MouseRightClickAction), null);
        $processActionsFromThisIcon(this, defaultRightClickActions);
      }

      break;
    case 1:
      if (isItemBeingHeldOrDragged()) {
        $info_1(Log_86, 'item clicked while holding a object');
        item1 = getCurrentItemBeingHeldOrDragged();
        testForItemMix(item1, this);
        unholdItem();
        return;
      }

      iconclickedrecently = true;
      $clinit_SceneObjectDatabase();
      lastSceneObjectClicked = this;
      $clinit_Boolean();
      if (this.objectsActions) {
        actionsToRunForMouseClick = $getActionsForTrigger(this.objectsActions, ($clinit_ActionSet$TriggerType() , MouseClickAction), null);
        $processActionsFromThisIcon(this, actionsToRunForMouseClick);
      }

      if ($clinit_InventoryPanelCore() , globalInventoryActions) {
        defaultMouseClickActions = $getActionsForTrigger(globalInventoryActions, ($clinit_ActionSet$TriggerType() , MouseClickAction), null);
        $processActionsFromThisIcon(this, defaultMouseClickActions);
      }

      break;
    case 32:
      if (isItemBeingHeldOrDragged()) {
        $info_1(($clinit_SceneObjectVisual() , SOLog_0), '_________________ONMOUSEOUT when holding');
        itemBeingHeldOrDragged = getCurrentItemBeingHeldOrDragged();
        $clinit_OptionalImplementations();
        mouseCursorImplementation.isPresent()?$setMouseCursorToHolding((dynamicCast(mouseCursorImplementation.get_1(), 207) , itemBeingHeldOrDragged)):$info_1(Log_49, 'no mouse cursor implementation supplied');
      }

      if (this.actionsToRunForMouseOut) {
        wasLastObjectUpdated(this);
        $updateLastClickedLocation(this);
        processInstructions_1(this.actionsToRunForMouseOut.CommandsInSet, 'mou_' + this.objectsCurrentState.ObjectsName, this);
      }

      break;
    case 16:
      if (isItemBeingHeldOrDragged()) {
        $info_1(($clinit_SceneObjectVisual() , SOLog_0), '_________________ONMOUSEOVER when holding');
        itemBeingHeldOrDragged = getCurrentItemBeingHeldOrDragged();
        $clinit_OptionalImplementations();
        mouseCursorImplementation.isPresent()?$setMouseCursorToHoldingOver((dynamicCast(mouseCursorImplementation.get_1(), 207) , itemBeingHeldOrDragged)):$info_1(Log_49, 'no mouse cursor implementation supplied');
      }

      if (this.actionsToRunForMouseOver) {
        wasLastObjectUpdated(this);
        $updateLastClickedLocation(this);
        processInstructions(this.actionsToRunForMouseOver.CommandsInSet, 'mov_' + this.objectsCurrentState.ObjectsName, this);
      }

  }
  $onBrowserEvent_0(this, event_0);
}
;
_.userActionTriggeredOnObject = function userActionTriggeredOnObject_0(userActionsName){
  var actions;
  $info_1(Log_86, 'inv icon:' + this.objectsCurrentState_0.ObjectsName + ' triggering user action:' + userActionsName);
  if (this.objectsActions) {
    actions = $getActionsForTrigger(this.objectsActions, ($clinit_ActionSet$TriggerType() , UserActionUsed), userActionsName);
    $info_1(Log_86, 'item actions found: \n' + $toString_8(actions) + 'out of ' + this.objectsActions.array.length);
    processInstructions(actions, 'FROM_inventory_' + this.objectsCurrentState.ObjectsName, null);
  }
}
;
_.fixedxdepth = 0;
var Log_86, iconclickedrecently = false;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryIcon_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'InventoryIcon', 115, Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject_2_classLit);
function InventoryIcon$1(this$0){
  this.this$01 = this$0;
}

defineClass(1210, 1, $intern_15, InventoryIcon$1);
_.onMouseOver = function onMouseOver_6(event_0){
  $getElement(this.this$01.titlelab).style['fontWeight'] = ($clinit_Style$FontWeight() , 'bold');
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryIcon$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'InventoryIcon/1', 1210, Ljava_lang_Object_2_classLit);
function InventoryIcon$2(this$0){
  this.this$01 = this$0;
}

defineClass(1211, 1, $intern_16, InventoryIcon$2);
_.onMouseOut = function onMouseOut_8(event_0){
  $getElement(this.this$01.titlelab).style['fontWeight'] = '';
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryIcon$2_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'InventoryIcon/2', 1211, Ljava_lang_Object_2_classLit);
function InventoryIcon$3(){
}

defineClass(1212, 1, $intern_23, InventoryIcon$3);
_.onMouseDown = function onMouseDown_8(event_0){
  $clinit_InventoryPanel();
  cancelClick = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryIcon$3_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'InventoryIcon/3', 1212, Ljava_lang_Object_2_classLit);
function $clinit_InventoryPanel(){
  $clinit_InventoryPanel = emptyMethod;
  $clinit_InventoryPanelCore();
  Log_87 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.InventoryPanel'));
  isDragging = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  cancelClick = (null , FALSE_2);
}

function $AddItem_0(this$static, ItemName, TriggerPopUp, associatedObjectName, runwhendone){
  var itemlocation, requestBuilder;
  $info_1(Log_87, 'AddItem requested:' + ItemName);
  !!runwhendone && $info_1(Log_87, 'runwhendone was requested');
  if (this$static.noduplicates) {
    if ($inventoryContainsItem(this$static, $trim(ItemName))) {
      $info_1(Log_87, 'already have item');
      return;
    }
  }
  itemlocation = ($clinit_JAMcore() , inventory_url) + ItemName + '/' + ItemName + '.jam';
  requestBuilder = new RequestBuilder(($clinit_RequestBuilder() , GET), itemlocation);
  ++itemsLeftToLoad;
  try {
    $sendRequest(requestBuilder, '', new InventoryPanel$3(this$static, ItemName, associatedObjectName, TriggerPopUp, runwhendone));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      ($clinit_System() , out_0).println_0('can not get item ' + ItemName + ', does the directory exist?');
    }
     else 
      throw unwrap($e0);
  }
}

function $ClearInventory(this$static){
  var Left, currentIcon, currentItem, it;
  $info_1(Log_87, '- removing all ' + this$static.inventorysCurrentItems.array.length + ' items');
  it = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems);
  while (it.i < it.this$01_0.size_1()) {
    currentIcon = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 178));
    currentItem = dynamicCast(this$static.itemDropControllerMap.get_2(currentIcon), 243);
    $info_1(Log_87, '-removing ' + currentIcon.objectsCurrentState_2.ObjectsName);
    ($clinit_System() , out_0).println_0('blah4');
    $info_1(Log_87, 'blah4');
    Left = ($getElement(currentItem.dropTarget_0).offsetLeft || 0) | 0;
    $getOffsetWidth(this$static.dragController.boundaryPanel);
    this$static.old_LinerPos = ~~(Left / 100);
    this$static.itemSpace[this$static.old_LinerPos] = false;
    unRegisterItemAsDropOnAllInventoryPanels(currentItem);
    $removeFromParent(currentItem.dropTarget_0);
    $remove_6(this$static.targetPanel, currentItem.dropTarget_0);
  }
  this$static.inventorysCurrentItems.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  this$static.itemDropControllerMap.clear_1();
}

function $NextFreeSlotX(this$static){
  var NextPosX, pos;
  pos = 0;
  while (this$static.itemSpace[pos]) {
    pos = pos + 1;
  }
  pos > this$static.old_LinerPos && this$static.old_LinerPos > 0 && (pos = this$static.old_LinerPos);
  $info_1(Log_87, 'next free inventory slot...' + pos);
  NextPosX = pos * this$static.iconSizeX % this$static.RInventorySizeX;
  return NextPosX;
}

function $NextFreeSlotY(this$static){
  var NextPosX, NextPosY, pos;
  pos = 0;
  while (this$static.itemSpace[pos]) {
    pos = pos + 1;
  }
  pos > this$static.old_LinerPos && (pos = this$static.old_LinerPos);
  NextPosX = pos * this$static.iconSizeX % this$static.RInventorySizeX;
  NextPosY = this$static.iconSizeY * ~~((pos * this$static.iconSizeX - NextPosX) / this$static.RInventorySizeX);
  return NextPosY;
}

function $OpenDefault_1(this$static){
  var icons, inventoryPanel, inventorys, itemDropController, thisPanelsIcons;
  $info_1(Log_87, 'inventory opened');
  this$static.isOpen = true;
  $resizeAndReorder(this$static);
  $info_1(Log_87, 'inventory newly  opened, so we register all items on screen as dropcontrollers');
  inventorys = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
  while (inventorys.val$outerIter2.hasNext()) {
    inventoryPanel = dynamicCast($next_8(inventorys), 236);
    if (inventoryPanel.panelContents.attached) {
      $info_1(Log_87, 'registering items from:' + inventoryPanel.Title);
      icons = new AbstractList$IteratorImpl(inventoryPanel.inventorysCurrentItems);
      while (icons.i < icons.this$01_0.size_1()) {
        itemDropController = dynamicCast(inventoryPanel.itemDropControllerMap.get_2((checkCriticalElement(icons.i < icons.this$01_0.size_1()) , icons.this$01_0.get_0(icons.last = icons.i++))), 243);
        $registerDropController(this$static.dragController, itemDropController);
      }
      $info_1(Log_87, 'registering items to:' + inventoryPanel.Title);
      thisPanelsIcons = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems);
      while (thisPanelsIcons.i < thisPanelsIcons.this$01_0.size_1()) {
        itemDropController = dynamicCast(this$static.itemDropControllerMap.get_2((checkCriticalElement(thisPanelsIcons.i < thisPanelsIcons.this$01_0.size_1()) , thisPanelsIcons.this$01_0.get_0(thisPanelsIcons.last = thisPanelsIcons.i++))), 243);
        $info_1(Log_87, 'registering item:' + itemDropController.itemName);
        $registerDropController(inventoryPanel.dragController, itemDropController);
      }
    }
     else {
      $info_1(Log_87, 'ignoring items from:' + inventoryPanel.Title + ' as it is not attached');
    }
  }
  if (this$static.CurrentInventoryMode == ($clinit_IsInventoryIcon$IconMode() , Text_1)) {
    this$static.iconSizeY = 30;
    $registerDropController(this$static.dragController, this$static.textModeDropController);
  }
   else {
    this$static.iconSizeY = 100;
    $info_1(Log_87, 'registering drop controller');
    $registerDropController(this$static.dragController, this$static.dropController);
  }
}

function $removeItem_1(this$static, icon){
  var Left, itemToRemove;
  if ($indexOf_0(this$static.inventorysCurrentItems, icon, 0) == -1) {
    $info_1(Log_87, 'object not present in inventory so cant remove');
    return;
  }
  itemToRemove = dynamicCast(this$static.itemDropControllerMap.get_2(icon), 243);
  if (!this$static.itemDropControllerMap.containsKey(icon)) {
    $severe_0(Log_87, 'object does not have ItemDropController');
    return;
  }
  Left = ($getElement(itemToRemove.dropTarget_0).offsetLeft || 0) | 0;
  $getOffsetWidth(this$static.dragController.boundaryPanel);
  this$static.old_LinerPos = ~~(Left / 100);
  this$static.itemSpace[this$static.old_LinerPos] = false;
  $info_1(Log_87, 'removing item:' + itemToRemove.itemName + ' triggered from inventory ' + this$static.Title);
  $makeNotDraggable(this$static.dragController, itemToRemove.dropTarget_0);
  $removeFromParent(itemToRemove.dropTarget_0);
  $remove_6(this$static.targetPanel, itemToRemove.dropTarget_0);
  this$static.itemDropControllerMap.remove_3(icon);
  $remove_0(this$static.inventorysCurrentItems, icon);
  $info_1(Log_87, 'removing item and resetting cache:');
  $info_1(Log_87, 'removing item:' + itemToRemove.itemName);
  unRegisterItemAsDropOnAllInventoryPanels(itemToRemove);
  $unregisterDropController(this$static.dragController, itemToRemove);
  $info_1(Log_87, 'removed a ' + itemToRemove.itemName + ' controller from ' + this$static.Title);
}

function $resizeAndReorder(this$static){
  var OrderCheck, PosX, PosY, currentItem, i, it, loop, noih, status_0;
  abs_1(this$static.ScreenSizeX - ($clinit_RequiredImplementations() , BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage width- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientWidth($doc))) > 30 && (this$static.reorder = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  this$static.ScreenSizeX = (BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage width- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientWidth($doc));
  this$static.ScreenSizeY = (BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage height- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientHeight($doc));
  this$static.InventorySizeX = 100 * ~~(this$static.ScreenSizeX / 150);
  noih = this$static.iconSizeY + round_0(~~(this$static.inventorysCurrentItems.array.length / ~~(this$static.InventorySizeX / this$static.iconSizeX))) * this$static.iconSizeY;
  this$static.InventorySizeY = noih;
  if (this$static.CurrentInventoryMode == ($clinit_IsInventoryIcon$IconMode() , Text_1)) {
    this$static.roundToX = 100;
    this$static.roundToY = 30;
  }
   else {
    this$static.roundToX = 100;
    this$static.roundToY = 100;
  }
  this$static.RInventorySizeX = round_int((this$static.InventorySizeX + 0.5 * this$static.roundToX) / this$static.roundToX) * this$static.roundToX;
  this$static.RInventorySizeY = 20 + round_int((this$static.InventorySizeY + 0.5 * this$static.roundToY) / this$static.roundToY) * this$static.roundToY;
  $setSize(this$static.panelContents, this$static.RInventorySizeX + 'px', this$static.RInventorySizeY + 'px');
  $setSize(this$static.MainInventoryBox, this$static.RInventorySizeX + 'px', this$static.RInventorySizeY - 20 + 'px');
  $setSize(this$static.targetPanel, '100%', '100%');
  $info_1(Log_87, 'inventory with name:' + this$static.Title + ' sized Y:' + this$static.RInventorySizeY);
  if (this$static.reorder.value_0) {
    loop = 0;
    for (it = new AbstractList$IteratorImpl(this$static.inventorysCurrentItems); it.i < it.this$01_0.size_1();) {
      currentItem = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 178));
      PosX = loop * this$static.iconSizeX % this$static.RInventorySizeX;
      PosY = round_int(floor_0(~~(loop * this$static.iconSizeX / this$static.RInventorySizeX))) * this$static.iconSizeY;
      ($clinit_JAMcore() , GameLogger).info_0('\n reordering ' + PosY + ' should not be more then' + this$static.RInventorySizeY);
      $setWidgetPosition(this$static.targetPanel, currentItem.internalFocusPanel, PosX, PosY);
      this$static.itemSpace[loop] = true;
      loop = loop + 1;
      this$static.reorder = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
    }
  }
  OrderCheck = '';
  i = 0;
  while (i < this$static.itemSpace.length) {
    status_0 = '0';
    this$static.itemSpace[i] && (status_0 = '1');
    OrderCheck = OrderCheck + '-' + status_0;
    ++i;
  }
}

function InventoryPanel(name_0, mode){
  var OnFileSuccess, OnFileError;
  $clinit_InventoryPanel();
  this.itemSpace = initDim(Z_classLit, $intern_53, 0, 100, 8, 1);
  this.CurrentInventoryMode = ($clinit_IsInventoryIcon$IconMode() , Image_5);
  this.inventorysCurrentItems = new ArrayList;
  this.Title = name_0;
  this.CurrentInventoryMode = mode;
  $info_1(Log_45, ' getting inventory:' + name_0);
  $info_1(Log_45, ' getting inventory:' + ($clinit_JAMcore() , inventory_url) + 'GlobalItemActions.ini');
  globalInventoryActions.array.length == 0 && ($info_1(Log_45, '________________________________GlobalItemActions loading') , OnFileSuccess = new InventoryPanelCore$1 , OnFileError = new InventoryPanelCore$2 , $clinit_RequiredImplementations() , $getText_1(inventory_url + 'GlobalItemActions.ini', OnFileSuccess, OnFileError, false) , undefined);
  this.panelContents = new VerticalPanel;
  this.itemDropControllerMap = new HashMap;
  this.titleLabel = new Label_1(this.Title);
  this.MainInventoryBox = new AbsolutePanel;
  this.ScreenSizeX = ($clinit_RequiredImplementations() , BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage width- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientWidth($doc));
  this.ScreenSizeY = (BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage height- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientHeight($doc));
  this.InventorySizeX = 100 * ~~(this.ScreenSizeX / 150);
  this.InventorySizeY = 100 * ~~(this.ScreenSizeY / 175);
  this.RInventorySizeX = round_int((this.InventorySizeX + 0.5 * this.roundToX) / this.roundToX) * this.roundToX;
  this.RInventorySizeY = 20 + round_int((this.InventorySizeY + 0.5 * this.roundToY) / this.roundToY) * this.roundToY;
  this.dragController = new PickupDragController(($clinit_RootPanel() , get_14(null)));
  this.targetPanel = new AbsolutePanel;
  this.dropController = new GridConstrainedDropController(this.targetPanel, 100);
  this.textModeDropController = new GridConstrainedDropController(this.targetPanel, 30);
  this.reorder = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  this.this_inventory = this;
  $info_1(Log_87, 'Making new inventory with name:' + name_0 + ' sized:' + this.RInventorySizeY);
  $setText_0(this.titleLabel, this.Title);
  $setStylePrimaryName(this.titleLabel, 'unselectable');
  $setSize(this.panelContents, this.RInventorySizeX + 'px', this.RInventorySizeY + 'px');
  $setStyleName(this.panelContents, 'inventory');
  $addStyleName(this.panelContents, 'unselectable');
  $add_5(this.panelContents, this.MainInventoryBox);
  $setStylePrimaryName(this.MainInventoryBox, 'unselectable');
  $setSize(this.MainInventoryBox, this.RInventorySizeX + 'px', this.RInventorySizeY - 20 + 'px');
  if (this.CurrentInventoryMode == Text_1) {
    this.iconSizeY = 30;
    $registerDropController(this.dragController, this.textModeDropController);
  }
   else {
    this.iconSizeY = 100;
    $registerDropController(this.dragController, this.dropController);
  }
  this.dragController.dragStartSensitivityPixels = 3;
  $add_8(this.MainInventoryBox, this.targetPanel, 1, 1);
  $setSize(this.targetPanel, '100%', '100%');
  $setStylePrimaryName(this.targetPanel, 'unselectable');
  $sinkEvents(this.targetPanel, 1);
  $addHandler(this.targetPanel, new InventoryPanel$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  this.dragController.constrainedToBoundaryPanel = false;
  $setBehaviorMultipleSelection(this.dragController);
  $addDragHandler(this.dragController, new InventoryPanel$2(this));
}

function ResizeAllInventoryPanels(){
  $clinit_InventoryPanel();
  var currentInventoryPanel, inventorys;
  inventorys = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
  while (inventorys.val$outerIter2.hasNext()) {
    currentInventoryPanel = dynamicCast($next_8(inventorys), 236);
    currentInventoryPanel.panelContents.attached?$resizeAndReorder(currentInventoryPanel):$info_1(Log_87, 'inventory not open so skipping');
  }
}

function getAllInventoryItems(){
  $clinit_InventoryPanel();
  var alltheitems, idc, idc$iterator, invenit, inventory;
  alltheitems = new ArrayList;
  invenit = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
  while (invenit.val$outerIter2.hasNext()) {
    inventory = dynamicCast($next_8(invenit), 136);
    for (idc$iterator = new AbstractList$IteratorImpl(inventory.inventorysCurrentItems); idc$iterator.i < idc$iterator.this$01_0.size_1();) {
      idc = (checkCriticalElement(idc$iterator.i < idc$iterator.this$01_0.size_1()) , dynamicCast(idc$iterator.this$01_0.get_0(idc$iterator.last = idc$iterator.i++), 178));
      alltheitems.add_0(idc);
    }
  }
  return alltheitems;
}

function registerItemAsDropOnAllInventoryPanels(newitem){
  $clinit_InventoryPanel();
  var inventoryPanel, inventorys;
  inventorys = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
  while (inventorys.val$outerIter2.hasNext()) {
    inventoryPanel = dynamicCast($next_8(inventorys), 236);
    if (inventoryPanel.panelContents.attached) {
      $info_1(Log_87, 'adding item as inventory drop controller:' + inventoryPanel.Title);
      $registerDropController(inventoryPanel.dragController, newitem);
    }
  }
}

function testForItemMix(Item1, Item2){
  $clinit_InventoryPanel();
  var AnswerIndex, Item1Type, Item2Type, ItemWithShadow, from, iURL, imageDiscription, instructionset, itemMixScriptL, itemOnesPopup, itemTwosPopup, itemname, matchFound, popupTitle, sizex, sizey, to;
  Item1Type = Item1.PopUp.POPUPTYPE();
  Item2Type = Item2.PopUp.POPUPTYPE();
  itemOnesPopup = Item1.PopUp;
  itemTwosPopup = Item2.PopUp;
  matchFound = false;
  $info_1(Log_87, '________________________ name = ' + Item1.objectsCurrentState_2.ObjectsName + ' and ' + Item2.objectsCurrentState_2.ObjectsName);
  itemMixScriptL = itemmixscript.toLowerCase();
  AnswerIndex = max_1($indexOf_2(itemMixScriptL, ' ' + Item1.objectsCurrentState_2.ObjectsName.toLowerCase() + '+' + Item2.objectsCurrentState_2.ObjectsName.toLowerCase() + '\r\n'), $indexOf_2(itemMixScriptL, ' ' + Item2.objectsCurrentState_2.ObjectsName.toLowerCase() + '+' + Item1.objectsCurrentState_2.ObjectsName.toLowerCase() + '\r\n'));
  if (AnswerIndex > -1) {
    $info_1(Log_87, 'match found');
    from = AnswerIndex + Item1.objectsCurrentState_2.ObjectsName.length + Item2.objectsCurrentState_2.ObjectsName.length + 1;
    to = $indexOf_3(itemmixscript.toLowerCase(), 'mix', from);
    $info_1(Log_87, ' from: \n' + from + ' to ' + to);
    instructionset = $trim($substring_0(itemmixscript, from, to)) + '\n';
    $info_1(Log_87, ' processing: \n' + instructionset);
    $clinit_JAMcore();
    processInstructions_0(instructionset, 'ItemMix:' + Item2.objectsCurrentState_2.ObjectsName + '+' + Item1.objectsCurrentState_2.ObjectsName + '| |ItemMix:' + Item1.objectsCurrentState_2.ObjectsName + '+' + Item2.objectsCurrentState_2.ObjectsName, null);
    matchFound = true;
  }
  if (itemTwosPopup.MAGNIFYABLE() && compareTo_5(Item2Type, 'MAGNIFYINGGLASS') == 0 || compareTo_5(Item1Type, 'MAGNIFYINGGLASS') == 0 && itemTwosPopup.MAGNIFYABLE()) {
    $info_1(Log_87, 'magnafying');
    iURL = '';
    ItemWithShadow = null;
    if (compareTo_5(Item1Type, 'PICTURE') == 0) {
      iURL = dynamicCast(itemOnesPopup, 153).imageSourceLocation;
      sizex = dynamicCast(itemTwosPopup, 153).rsizeX;
      sizey = dynamicCast(itemTwosPopup, 153).rsizeY;
      itemname = dynamicCast(itemOnesPopup, 153).imageSourceLocation;
      $substring(itemname, itemname.lastIndexOf('/') + 1);
      if (!Item2.popedup.value_0) {
        imageDiscription = dynamicCast(itemOnesPopup, 153).ImageDiscription;
        popupTitle = ($clinit_GamesInterfaceTextCore() , Magnify_Magnify);
        ItemWithShadow = $createImageZoomPopup_impl(Item2, iURL, sizex, sizey, imageDiscription, popupTitle);
        $setPopedUp(Item2, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
      }
    }
     else if (compareTo_5(Item2Type, 'PICTURE') == 0) {
      iURL = dynamicCast(itemTwosPopup, 153).imageSourceLocation;
      sizex = dynamicCast(itemTwosPopup, 153).rsizeX;
      sizey = dynamicCast(itemTwosPopup, 153).rsizeY;
      itemname = dynamicCast(itemTwosPopup, 153).imageSourceLocation;
      $substring(itemname, itemname.lastIndexOf('/') + 1);
      if (!Item1.popedup.value_0) {
        imageDiscription = dynamicCast(itemTwosPopup, 153).ImageDiscription;
        popupTitle = ($clinit_GamesInterfaceTextCore() , Magnify_Magnify);
        ItemWithShadow = $createImageZoomPopup_impl(Item1, iURL, sizex, sizey, imageDiscription, popupTitle);
        $setPopedUp(Item1, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
      }
    }
     else if (itemTwosPopup.MAGNIFYABLE()) {
      ($clinit_JAMcore() , GameLogger).info_0('loading mag item2...' + iURL);
      iURL = itemTwosPopup.getSourceURL();
      iURL = $substring_0(iURL, 0, iURL.length - 4) + '.jpg';
      sizex = __parseAndValidateInt(itemTwosPopup.sourcesizeX_0(), 10);
      sizey = __parseAndValidateInt(itemTwosPopup.sourcesizeY_0(), 10);
      itemname = itemTwosPopup.getSourceURL();
      itemname = $substring(itemname, itemname.lastIndexOf('/') + 1);
      if (!Item1.popedup.value_0) {
        popupTitle = ($clinit_GamesInterfaceTextCore() , Magnify_Magnify) + itemname;
        ItemWithShadow = $createImageZoomPopup_impl(Item1, iURL, sizex, sizey, '', popupTitle);
        $setPopedUp(Item1, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
      }
    }
     else if (itemOnesPopup.MAGNIFYABLE()) {
      iURL = itemOnesPopup.getSourceURL();
      iURL = $substring_0(iURL, 0, iURL.length - 4) + '.jpg';
      sizex = __parseAndValidateInt(itemOnesPopup.sourcesizeX_0(), 10);
      sizey = __parseAndValidateInt(itemOnesPopup.sourcesizeY_0(), 10);
      itemname = itemTwosPopup.getSourceURL();
      itemname = $substring(itemname, itemname.lastIndexOf('/') + 1);
      if (!Item2.popedup.value_0) {
        popupTitle = ($clinit_GamesInterfaceTextCore() , Magnify_Magnify) + itemname;
        ItemWithShadow = $createImageZoomPopup_impl(Item2, iURL, sizex, sizey, '', popupTitle);
        $setPopedUp(Item2, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
      }
    }
    ItemWithShadow.OpenDefault();
    matchFound = true;
  }
  return matchFound;
}

function unRegisterItemAsDropOnAllInventoryPanels(newitem){
  var currentInventoryPanel, inventorys;
  inventorys = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys)));
  while (inventorys.val$outerIter2.hasNext()) {
    currentInventoryPanel = dynamicCast($next_8(inventorys), 236);
    if (currentInventoryPanel.panelContents.attached) {
      $info_1(Log_87, 'removing ' + newitem.itemName + ' from inventory drop controller:' + currentInventoryPanel.Title);
      $unregisterDropController(currentInventoryPanel.dragController, newitem);
      $info_1(Log_87, 'removed a ' + newitem.itemName + ' controller from ' + currentInventoryPanel.Title);
    }
     else {
      $info_1(Log_87, 'inventory not open so skipping');
    }
  }
}

defineClass(236, 136, {13:1, 64:1, 71:1, 136:1, 236:1}, InventoryPanel);
_.CloseDefault = function CloseDefault_11(){
  var icons, itemDropController;
  this.isOpen = false;
  !!this.InventorysButton && this.InventorysButton.setPlayBack();
  icons = new AbstractList$IteratorImpl(this.inventorysCurrentItems);
  while (icons.i < icons.this$01_0.size_1()) {
    itemDropController = dynamicCast(this.itemDropControllerMap.get_2((checkCriticalElement(icons.i < icons.this$01_0.size_1()) , icons.this$01_0.get_0(icons.last = icons.i++))), 243);
    $info_1(Log_87, 'got item:' + itemDropController.itemName);
    unRegisterItemAsDropOnAllInventoryPanels(itemDropController);
  }
  $info_1(Log_87, 'clearing panels own drops');
  this.dragController.dropControllerList.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
}
;
_.DRAGABLE = function DRAGABLE_8(){
  return true;
}
;
_.OpenDefault = function OpenDefault_9(){
  $OpenDefault_1(this);
}
;
_.POPUPTYPE = function POPUPTYPE_8(){
  return null;
}
;
_.asWidget = function asWidget_7(){
  return this.panelContents;
}
;
_.getVisualRepresentation = function getVisualRepresentation_10(){
  return this.panelContents;
}
;
_.InventorySizeX = 0;
_.InventorySizeY = 0;
_.LinerPos = 0;
_.RInventorySizeX = 0;
_.RInventorySizeY = 0;
_.ScreenSizeX = 0;
_.ScreenSizeY = 0;
_.iconSizeX = 100;
_.iconSizeY = 100;
_.old_LinerPos = -1;
_.old_left = 0;
_.old_top = 0;
_.roundToX = 100;
_.roundToY = 100;
var Log_87, cancelClick, isDragging;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryPanel_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'InventoryPanel', 236, Lcom_lostagain_Jam_InventoryPanelCore_2_classLit);
function InventoryPanel$1(this$0){
  this.this$01 = this$0;
}

defineClass(958, 1, $intern_17, InventoryPanel$1);
_.onClick = function onClick_28(event_0){
  if (!($clinit_InventoryIcon() , iconclickedrecently)) {
    $info_1(($clinit_InventoryPanel() , Log_87), 'settingInventoryFrames ZIndexTop');
    dynamicCast(($clinit_JAMcore() , allInventoryFrames).get_2(this.this$01.Title), 192).setZIndexTop();
  }
  iconclickedrecently = false;
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryPanel$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'InventoryPanel/1', 958, Ljava_lang_Object_2_classLit);
function InventoryPanel$2(this$0){
  this.this$01 = this$0;
}

defineClass(959, 1, {421:1}, InventoryPanel$2);
var Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryPanel$2_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'InventoryPanel/2', 959, Ljava_lang_Object_2_classLit);
function InventoryPanel$3(this$0, val$ItemName, val$associatedObjectName, val$TriggerPopUpAfterLoading, val$runwhendone){
  this.this$01 = this$0;
  this.val$ItemName2 = val$ItemName;
  this.val$associatedObjectName3 = val$associatedObjectName;
  this.val$TriggerPopUpAfterLoading4 = val$TriggerPopUpAfterLoading;
  this.val$runwhendone5 = val$runwhendone;
}

defineClass(960, 1, {}, InventoryPanel$3);
_.onError_1 = function onError_9(request, exception){
  ($clinit_System() , out_0).println_0('http failed for' + this.val$ItemName2);
  $clinit_JAMcore();
  --itemsLeftToLoad;
}
;
_.onResponseReceived = function onResponseReceived_5(request, response){
  var BigPicture, Dummy, Embed, FlashItem, ItemDataString, LeftLimit, NextPosX, NextPosY, Overlay, Size, TIGitem, URL_0, discription, embededthingy, iconsstate, is_magnifiable, ismag, keepmode, mag, newitem, newpop, noback, nobackstring, rsize_x, rsize_y, size_x, size_y, textScroll, title_0, type_0;
  ItemDataString = 'Type = Concept';
  if (response.xmlHttpRequest.status == 200 || response.xmlHttpRequest.status == 0) {
    $info_1(($clinit_InventoryPanel() , Log_87), 'Got data from inventory item:' + this.val$ItemName2);
    ItemDataString = response.xmlHttpRequest.responseText;
  }
   else if (($clinit_JAMcore() , DebugMode).value_0) {
    $severe_0(($clinit_InventoryPanel() , Log_87), 'No JAM file found for:' + this.val$ItemName2 + ' ');
  }
   else {
    $severe_0(($clinit_InventoryPanel() , Log_87), 'No JAM file found for:' + this.val$ItemName2 + ' ResponseCode was:' + response.xmlHttpRequest.status + ' as we arnt in developer mode, we just act like this item shouldnt  exist');
    --itemsLeftToLoad;
    return;
  }
  $info_1(($clinit_InventoryPanel() , Log_87), 'res=' + ItemDataString);
  type_0 = $trim($substring_0(ItemDataString, ItemDataString.indexOf('Type = ') + 7, $indexOf_3(ItemDataString, '\n', ItemDataString.indexOf('Type = ') + 7)));
  discription = '';
  if (ItemDataString.indexOf("Description = '") > -1) {
    discription = $trim($substring_0(response.xmlHttpRequest.responseText, ItemDataString.indexOf("Description = '") + 15, $indexOf_3(response.xmlHttpRequest.responseText, "'", response.xmlHttpRequest.responseText.indexOf("Description = '") + 16)));
    discription = ($clinit_JAMcore() , SwapCustomWords(discription, true));
    discription = parseForTextIDs(discription);
  }
  ItemDataString.indexOf('URL = ') > -1?(URL_0 = $trim($substring_0(ItemDataString, ItemDataString.indexOf('URL = ') + 6, $indexOf_3(ItemDataString, '\n', ItemDataString.indexOf('URL = ') + 7)))):(URL_0 = '');
  if (ItemDataString.indexOf("Title = '") > -1) {
    title_0 = $trim($substring_0(ItemDataString, ItemDataString.indexOf("Title = '") + 9, $indexOf_3(ItemDataString, "'", ItemDataString.indexOf("Title = '") + 10)));
    title_0 = ($clinit_JAMcore() , SwapCustomWords(title_0, true));
    parseForTextIDs(title_0);
  }
  keepmode = '';
  ItemDataString.indexOf('KeepHeld = ') > -1 && (keepmode = $trim($substring_0(ItemDataString, ItemDataString.indexOf('KeepHeld = ') + 11, $indexOf_3(ItemDataString, '\n', ItemDataString.indexOf('KeepHeld = ') + 12))));
  noback = false;
  if (ItemDataString.indexOf('NoBack = ') > -1) {
    nobackstring = $trim($substring_0(ItemDataString, ItemDataString.indexOf('NoBack = ') + 9, $indexOf_3(ItemDataString, '\n', ItemDataString.indexOf('NoBack = ') + 10)));
    noback = ($clinit_Boolean() , $equalsIgnoreCase('true', nobackstring));
  }
  size_x = '10';
  size_y = '10';
  if (ItemDataString.indexOf('Size = ') > -1) {
    Size = $trim($substring_0(ItemDataString, ItemDataString.indexOf('Size = ') + 7, $indexOf_3(ItemDataString, '\n', ItemDataString.indexOf('Size = ') + 8)));
    size_x = $split_0(Size, ',', 0)[0];
    size_y = $split_0(Size, ',', 0)[1];
    ($clinit_JAMcore() , GameLogger).info_0('loading movie' + size_x);
  }
  is_magnifiable = false;
  if (ItemDataString.indexOf('Magnifiable = ') > -1) {
    ismag = $trim($substring_0(ItemDataString, ItemDataString.indexOf('Magnifiable = ') + 14, $indexOf_3(ItemDataString, '\n', ItemDataString.indexOf('Magnifiable = ') + 14)));
    compareTo_5(ismag, 'true') == 0 && (is_magnifiable = true);
    ($clinit_JAMcore() , GameLogger).info_0('is mag?' + is_magnifiable);
  }
  Embed = '';
  ItemDataString.indexOf('Embed = ') > -1 && (Embed = $trim($substring_0(ItemDataString, ItemDataString.indexOf('Embed = ') + 8, $indexOf_3(ItemDataString, '\n', ItemDataString.indexOf('Embed = ') + 8))));
  ItemDataString = generateInventoryIconParams(ItemDataString, this.val$ItemName2);
  $info_1(Log_87, 'icon ItemDataString generated');
  iconsstate = generateInventoryIconState(ItemDataString);
  $info_1(Log_87, 'icon state generated');
  type_0 = type_0.toLowerCase();
  switch (type_0) {
    case 'picture':
      {
        rsize_x = __parseAndValidateInt(size_x, 10);
        rsize_y = __parseAndValidateInt(size_y, 10);
        BigPicture = new imagePopUp('InventoryItems/' + this.val$ItemName2 + '/' + this.val$ItemName2 + '.jpg', discription, rsize_x, rsize_y);
        newpop = new InventoryIcon_0(BigPicture, this.this$01.this_inventory, iconsstate, ItemDataString);
        break;
      }

    case 'movie':
      {
        BigPicture = new moviePopUp('InventoryItems/' + this.val$ItemName2 + '/' + this.val$ItemName2 + '.mov', size_x, size_y);
        newpop = new InventoryIcon_0(BigPicture, this.this$01.this_inventory, iconsstate, ItemDataString);
        break;
      }

    case 'youtube':
      {
        BigPicture = new youtubePopUp(URL_0);
        newpop = new InventoryIcon_0(BigPicture, this.this$01.this_inventory, iconsstate, ItemDataString);
        newpop.fixedxdepth = 1900;
        break;
      }

    case 'embed':
      {
        embededthingy = new embedPopUp(URL_0, size_x, size_y, Embed);
        ($clinit_JAMcore() , GameLogger).info_0(' embed code=' + Embed);
        newpop = new InventoryIcon_0(embededthingy, this.this$01.this_inventory, iconsstate, ItemDataString);
        newpop.fixedxdepth = 1900;
        break;
      }

    case 'pngpicture':
      {
        rsize_x = __parseAndValidateInt(size_x, 10);
        rsize_y = __parseAndValidateInt(size_y, 10);
        BigPicture = new imagePopUp('InventoryItems/' + this.val$ItemName2 + '/' + this.val$ItemName2 + '.png', discription, rsize_x, rsize_y);
        newpop = new InventoryIcon_0(BigPicture, this.this$01.this_inventory, iconsstate, ItemDataString);
        break;
      }

    case 'flash':
      {
        FlashItem = new flashPopUp('InventoryItems/' + this.val$ItemName2 + '/' + this.val$ItemName2 + '.swf', size_x, size_y);
        newpop = new InventoryIcon_0(FlashItem, this.this$01.this_inventory, iconsstate, ItemDataString);
        if (is_magnifiable) {
          FlashItem.Magnifable = true;
          ($clinit_JAMcore() , GameLogger).info_0('flashitem mag set to..' + FlashItem.Magnifable);
        }
        break;
      }

    case 'toggleitemgroup':
      {
        $clinit_JAMcore();
        ++itemsLeftToLoad;
        $info_1(Log_87, 'increaseing items left to load to:' + itemsLeftToLoad);
        TIGitem = new toggleImageGroupPopUp(this.val$ItemName2, discription, size_x, size_y, false);
        newpop = new InventoryIcon_0(TIGitem, this.this$01.this_inventory, iconsstate, ItemDataString);
        if (is_magnifiable) {
          TIGitem.Magnifable = true;
          GameLogger.info_0('flashitem mag set to..' + TIGitem.Magnifable);
        }
        break;
      }

    case 'pngtoggleitemgroup':
      {
        $clinit_JAMcore();
        ++itemsLeftToLoad;
        $info_1(Log_87, 'increaseing items left to load to:' + itemsLeftToLoad);
        TIGitem = new toggleImageGroupPopUp(this.val$ItemName2, discription, size_x, size_y, true);
        newpop = new InventoryIcon_0(TIGitem, this.this$01.this_inventory, iconsstate, ItemDataString);
        if (is_magnifiable) {
          TIGitem.Magnifable = true;
          GameLogger.info_0('flashitem mag set to..' + TIGitem.Magnifable);
        }
        break;
      }

    case 'overlay':
      {
        Overlay = new overlayPopUp;
        newpop = new InventoryIcon_0(Overlay, this.this$01.this_inventory, iconsstate, ItemDataString);
        break;
      }

    case 'magnifyingglass':
      {
        mag = new ToolPopUp(discription);
        mag.tooltype = 'MAGNIFYINGGLASS';
        newpop = new InventoryIcon_0(mag, this.this$01.this_inventory, iconsstate, ItemDataString);
        newpop.fixedxdepth = 1800;
        break;
      }

    case 'textscroll':
      {
        textScroll = new textScroller('InventoryItems/' + this.val$ItemName2 + '/' + this.val$ItemName2 + '.html');
        $info_1(Log_87, '\n ----make text scroller' + discription);
        newpop = new InventoryIcon_0(textScroll, this.this$01.this_inventory, iconsstate, ItemDataString);
        break;
      }

    case 'dummy':
      {
        Dummy = new DummyPopUp;
        newpop = new InventoryIcon_0(Dummy, this.this$01.this_inventory, iconsstate, ItemDataString);
        break;
      }

    case 'concept':
      {
        Overlay = new ConceptPopUp(discription);
        newpop = new InventoryIcon_0(Overlay, this.this$01.this_inventory, iconsstate, ItemDataString);
        break;
      }

    default:{
        newpop = new InventoryIcon_0(new ConceptPopUp(this.val$ItemName2), this.this$01.this_inventory, iconsstate, ItemDataString);
        break;
      }

  }
  newitem = new ItemDropController(newpop);
  $info_1(Log_87, 'setting associated object and keep mode, if any');
  this.val$associatedObjectName3.length > 2 && (newpop.associatedSceneObject = this.val$associatedObjectName3);
  if (keepmode.length > 2) {
    newpop.keepheld = ($clinit_IsInventoryIcon$KeepHeldMode() , dynamicCast(valueOf(($clinit_IsInventoryIcon$KeepHeldMode$Map() , $MAP_31), keepmode), 258));
    $info_1(Log_87, 'keepheld mode set to:' + $toString_1(newpop.keepheld));
  }
  noback && $clearBackgroundStyles(newpop.ItemWithShadow);
  $info_1(Log_87, 'setting icon mode to ' + $toString_1(this.this$01.CurrentInventoryMode));
  $setIconMode(newpop, this.this$01.CurrentInventoryMode);
  $add_7(this.this$01.targetPanel, newitem.dropTarget_0);
  NextPosX = $NextFreeSlotX(this.this$01.this_inventory);
  NextPosY = $NextFreeSlotY(this.this$01.this_inventory);
  $setWidgetPosition(this.this$01.targetPanel, newitem.dropTarget_0, NextPosX, NextPosY);
  $makeDraggable(this.this$01.dragController, newitem.dropTarget_0);
  $info_1(Log_87, 'registering as drop target on all panels');
  registerItemAsDropOnAllInventoryPanels(newitem);
  this.this$01.itemDropControllerMap.put(newpop, newitem);
  this.this$01.inventorysCurrentItems.add_0(newpop);
  $clinit_JAMcore();
  --itemsLeftToLoad;
  LeftLimit = $getOffsetWidth(this.this$01.dragController.boundaryPanel);
  this.this$01.LinerPos = ~~((~~(NextPosY / this.this$01.iconSizeY) * LeftLimit + NextPosX) / this.this$01.iconSizeX);
  this.this$01.itemSpace[this.this$01.LinerPos] = true;
  if (this.val$TriggerPopUpAfterLoading4) {
    $info_1(Log_87, 'triggering popup');
    $triggerPopup(newpop);
  }
  if (newpop.loadedPic.value_0) {
    $info_1(Log_87, 'triggering runwhendone');
    this.val$runwhendone5?$run_8(this.val$runwhendone5):$info_1(Log_87, 'no runwhendone to trigger');
  }
   else {
    $info_1(Log_87, 'setting runwhendone to run once loaded');
    $setRunwhenloaded(newpop, this.val$runwhendone5);
  }
}
;
_.val$TriggerPopUpAfterLoading4 = false;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryPanel$3_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'InventoryPanel/3', 960, Ljava_lang_Object_2_classLit);
function $clinit_ItemDropController(){
  $clinit_ItemDropController = emptyMethod;
  Log_88 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.ItemDropController'));
}

function ItemDropController(newpop){
  $clinit_ItemDropController();
  SimpleDropController.call(this, newpop.internalFocusPanel);
  this.itemName = newpop.objectsCurrentState_2.ObjectsName;
}

defineClass(243, 1157, {278:1, 243:1}, ItemDropController);
_.onDrop = function onDrop_1(context){
  var Item1, Item2, ip;
  $info_1(Log_88, 'something dropped');
  Item1 = dynamicCast(dynamicCast(context.draggable, 299).parentObject, 115);
  Item2 = dynamicCast(dynamicCast(this.dropTarget_0, 299).parentObject, 115);
  ip = Item1.NativeInventoryPanel;
  $add_8(ip.targetPanel, context.draggable, $NextFreeSlotX(ip), $NextFreeSlotY(ip));
  testForItemMix(Item1, Item2);
}
;
_.onEnter = function onEnter_1(context){
  var itemBeingHeldOrDragged, widget, widget$iterator;
  $addStyleName(this.dropTarget_0, 'dragdrop-dropTarget-engage');
  for (widget$iterator = new AbstractList$IteratorImpl(context.selectedWidgets); widget$iterator.i < widget$iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(widget$iterator.i < widget$iterator.this$01_0.size_1()) , dynamicCast(widget$iterator.this$01_0.get_0(widget$iterator.last = widget$iterator.i++), 7));
    setStyleName(widget.getStyleElement(), 'demo-bin-draggable-engage', true);
  }
  if (isItemBeingHeldOrDragged()) {
    itemBeingHeldOrDragged = getCurrentItemBeingHeldOrDragged();
    $info_1(Log_88, '_________________ONMOUSEOVER when holding ' + itemBeingHeldOrDragged.objectsCurrentState_2.ObjectsName);
    $clinit_OptionalImplementations();
    mouseCursorImplementation.isPresent()?$setMouseCursorToHoldingOver((dynamicCast(mouseCursorImplementation.get_1(), 207) , itemBeingHeldOrDragged)):$info_1(Log_49, 'no mouse cursor implementation supplied');
  }
}
;
_.onLeave = function onLeave_1(context){
  var itemBeingHeldOrDragged, widget, widget$iterator;
  for (widget$iterator = new AbstractList$IteratorImpl(context.selectedWidgets); widget$iterator.i < widget$iterator.this$01_0.size_1();) {
    widget = (checkCriticalElement(widget$iterator.i < widget$iterator.this$01_0.size_1()) , dynamicCast(widget$iterator.this$01_0.get_0(widget$iterator.last = widget$iterator.i++), 7));
    setStyleName(widget.getStyleElement(), 'demo-bin-draggable-engage', false);
  }
  $removeStyleName(this.dropTarget_0, 'dragdrop-dropTarget-engage');
  if (isItemBeingHeldOrDragged()) {
    $info_1(Log_88, '_________________ONMOUSEOUT when holding');
    itemBeingHeldOrDragged = getCurrentItemBeingHeldOrDragged();
    $clinit_OptionalImplementations();
    mouseCursorImplementation.isPresent()?$setMouseCursorToHolding((dynamicCast(mouseCursorImplementation.get_1(), 207) , itemBeingHeldOrDragged)):$info_1(Log_49, 'no mouse cursor implementation supplied');
  }
}
;
_.onPreviewDrop = function onPreviewDrop_1(context){
}
;
var Log_88;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_ItemDropController_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'ItemDropController', 243, Lcom_allen_1sauer_gwt_dnd_client_drop_SimpleDropController_2_classLit);
function embedPopUp(URL_0, sizeX, sizeY, EmbedCode){
  var frame_0;
  SimplePanel.call(this);
  this.sourceurl = '';
  this.sourcesizeX = '';
  this.sourcesizeY = '';
  this.sourceurl = URL_0;
  this.sourcesizeX = sizeX;
  this.sourcesizeY = sizeY;
  frame_0 = new HTML_1(EmbedCode);
  $add_2(this, frame_0);
  setStylePrimaryName(($clinit_DOM() , this.element), 'notepadback');
  $setSize(this, this.sourcesizeX + 'px', this.sourcesizeY + 'px');
}

defineClass(1298, 29, $intern_129, embedPopUp);
_.CloseDefault = function CloseDefault_12(){
}
;
_.DRAGABLE = function DRAGABLE_9(){
  return false;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_2(){
  return false;
}
;
_.OpenDefault = function OpenDefault_10(){
  $add_8(($clinit_RootPanel() , get_14(null)), ($clinit_JAM() , fadeback), 0, 0);
  setStyleAttribute($getElement(fadeback), 'zIndex', '' + (($clinit_JAMcore() , z_depth_max) + 1));
  setStyleAttribute($getElement(fadeback), 'z-index', '' + (z_depth_max + 1));
  z_depth_max = z_depth_max + 1;
}
;
_.POPUPTYPE = function POPUPTYPE_9(){
  return 'EMBED';
}
;
_.getSourceURL = function getSourceURL_2(){
  return this.sourceurl;
}
;
_.getState = function getState_2(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_11(){
  return this;
}
;
_.loadState_0 = function loadState_3(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_2(){
  return this.sourcesizeX;
}
;
_.sourcesizeY_0 = function sourcesizeY_2(){
  return this.sourcesizeY;
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_embedPopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'embedPopUp', 1298, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function flashPopUp(URL_0, sizeX, sizeY){
  var frame_0, height, width_0;
  SimplePanel.call(this);
  this.HTMLString = '<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0" WIDTH="SIZE_X" HEIGHT="SIZE_Y" id="myMovieName"><PARAM NAME=movie VALUE="FILENAME.SWF"><PARAM NAME=quality VALUE=high><PARAM NAME=bgcolor VALUE=#FFFFFF><EMBED src="FILENAME.SWF" quality=high bgcolor=#FFFFFF WIDTH="SIZE_X" HEIGHT="SIZE_Y" NAME="FILENAME.SWF" ALIGN="" TYPE="application/x-shockwave-flash" PLUGINSPAGE="http://www.macromedia.com/go/getflashplayer"><\/EMBED><\/OBJECT>';
  this.Magnifable = false;
  this.sourceurl = '';
  this.sourcesizeX = '';
  this.sourcesizeY = '';
  this.sourceurl = URL_0;
  this.sourcesizeX = sizeX;
  this.sourcesizeY = sizeY;
  this.HTMLString = $replaceAll(this.HTMLString, 'FILENAME.SWF', URL_0);
  width_0 = round_int($getClientWidth($doc) * 0.6);
  height = round_int($getClientHeight($doc) * 0.9);
  this.HTMLString = $replaceAll(this.HTMLString, 'SIZE_X', width_0 + 'PX');
  this.HTMLString = $replaceAll(this.HTMLString, 'SIZE_Y', height + 'PX');
  frame_0 = new HTML_1(this.HTMLString);
  ($clinit_DOM() , frame_0.element).style['width'] = '100%';
  frame_0.element.style['height'] = '100%';
  $add_2(this, frame_0);
  this.element.style['width'] = width_0 + 'px';
  this.element.style['height'] = height + 'px';
}

defineClass(1299, 29, $intern_129, flashPopUp);
_.CloseDefault = function CloseDefault_13(){
}
;
_.DRAGABLE = function DRAGABLE_10(){
  return true;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_3(){
  return this.Magnifable;
}
;
_.OpenDefault = function OpenDefault_11(){
}
;
_.POPUPTYPE = function POPUPTYPE_10(){
  return 'FLASH';
}
;
_.getSourceURL = function getSourceURL_3(){
  return this.sourceurl;
}
;
_.getState = function getState_3(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_12(){
  return this;
}
;
_.loadState_0 = function loadState_4(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_3(){
  return this.sourcesizeX;
}
;
_.sourcesizeY_0 = function sourcesizeY_3(){
  return this.sourcesizeY;
}
;
_.Magnifable = false;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_flashPopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'flashPopUp', 1299, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $reSizePopUp(this$static){
  var NewFrameWidth;
  this$static.ScreenSizeX = $getClientWidth($doc);
  $getClientHeight($doc);
  this$static.picY = this$static.Original_picY;
  this$static.picX = this$static.Original_picX;
  ($clinit_System() , out_0).print_0('\n /n <<<<<<<<<<<<<<<<<<<<<<<image loaded []' + this$static.picX + '-' + this$static.picY);
  this$static.Original_picX > 5 && $cancel(this$static.timer);
  if (this$static.picX > this$static.ScreenSizeX * 0.8) {
    $setHeight(this$static.bigPicture, this$static.picY * (this$static.ScreenSizeX * 0.8 / this$static.picX) + 'px');
    out_0.println_0('ratio=' + this$static.picX + '>' + this$static.ScreenSizeX * 0.8);
    this$static.picX = toInt(fromDouble(round0(this$static.ScreenSizeX * 0.8)));
    $setWidth(this$static.bigPicture, this$static.picX + 'px');
  }
   else if (this$static.Original_picX > 5) {
    $setWidth(this$static.bigPicture, this$static.Original_picX + 'px');
    $setHeight(this$static.bigPicture, this$static.Original_picY + 'px');
  }
  $setHeight(this$static.Discription, '100%');
  NewFrameWidth = $getOffsetWidth(this$static.bigPicture);
  this$static.bigPicture.parent_1.setWidth(NewFrameWidth + 'px');
  $setCellHeight(this$static, this$static.bigPicture, $getHeight(this$static.bigPicture) + 'px');
  $getPropertyInt(($clinit_DOM() , this$static.element), 'offsetHeight');
  dynamicCast(this$static.bigPicture.parent_1, 64).CloseDefault();
  dynamicCast(this$static.bigPicture.parent_1, 71).OpenDefault();
  ($clinit_JAMcore() , GameLogger).info_0(':' + $getOffsetWidth(this$static.bigPicture) + '-:');
  out_0.println_0('Screen Height=' + ($getSubPixelOffsetHeight(getBodyElement()) | 0));
}

function imagePopUp(ImagelocationSet, NewImageDiscription, rsize_x, rsize_y){
  VerticalPanel.call(this);
  this.slider = new Slider;
  this.currentOpacity = 50;
  this.rsizeX = 0;
  this.rsizeY = 0;
  this.Discription = new HTML_1('');
  this.ImageDiscription = '';
  this.bigPicture = new SpiffyImage;
  this.ScreenSizeX = $getClientWidth($doc);
  $getClientHeight($doc);
  this.picX = 0;
  this.picY = 0;
  this.Original_picY = 0;
  this.Original_picX = 0;
  this.rsizeX = rsize_x;
  this.rsizeY = rsize_y;
  setStylePrimaryName(($clinit_DOM() , this.element), 'unselectable');
  this.ImageDiscription = NewImageDiscription;
  ($clinit_System() , out_0).print_0('\n /n <<< added listener-' + $getHeight(this.bigPicture) + '-');
  this.imageSourceLocation = ImagelocationSet;
  $setUrl_1(this.bigPicture, this.imageSourceLocation);
  $setAttribute($getElement(this.bigPicture), 'draggable', 'false');
  $setValue_5(this.slider, 99);
  $setWidth(this.slider, '80%');
  $getOffsetWidth(this.slider) > 350 && $setWidth(this.slider, '350px');
  this.timer = new imagePopUp$1(this);
  $scheduleRepeating(this.timer, $intern_10);
  $addHandler(this.bigPicture, new imagePopUp$2(this), ($clinit_ErrorEvent() , $clinit_ErrorEvent() , TYPE_4));
  $addHandler(this.bigPicture, new imagePopUp$3(this), ($clinit_LoadEvent() , $clinit_LoadEvent() , TYPE_9));
  this.ScreenSizeX = $getClientWidth($doc);
  $getClientHeight($doc);
  $setWidth(this, this.ScreenSizeX * 0.8 + 'px');
  $add_5(this, this.slider);
  $getOffsetWidth(this.slider) > 350 && $setWidth(this.slider, '350px');
  $setCellHorizontalAlignment_0(this, this.slider, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $addChangeListener(this.slider, new imagePopUp$4(this));
  $add_5(this, this.bigPicture);
  if (NewImageDiscription != '') {
    $setHTML(this.Discription, NewImageDiscription);
    $add_5(this, this.Discription);
    $setClassName($getParentElement($getElement(this.Discription)), 'picturePopUp');
  }
  $setClassName($getParentElement($getElement(this.slider)), 'picturePopUp');
  $setClassName($getParentElement($getElement(this.bigPicture)), 'popup_border');
  $setCellHorizontalAlignment_0(this, this.Discription, ALIGN_CENTER);
}

defineClass(153, 28, {20:1, 16:1, 19:1, 17:1, 27:1, 67:1, 13:1, 15:1, 28:1, 7:1, 64:1, 71:1, 153:1}, imagePopUp);
_.CloseDefault = function CloseDefault_14(){
}
;
_.DRAGABLE = function DRAGABLE_11(){
  return true;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_4(){
  return true;
}
;
_.OpenDefault = function OpenDefault_12(){
}
;
_.POPUPTYPE = function POPUPTYPE_11(){
  return 'PICTURE';
}
;
_.getSourceURL = function getSourceURL_4(){
  return this.imageSourceLocation;
}
;
_.getState = function getState_4(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_13(){
  return this;
}
;
_.loadState_0 = function loadState_5(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_4(){
  return '' + this.rsizeX;
}
;
_.sourcesizeY_0 = function sourcesizeY_4(){
  return '' + this.rsizeY;
}
;
_.Original_picX = 0;
_.Original_picY = 0;
_.ScreenSizeX = 0;
_.currentOpacity = 0;
_.picX = 0;
_.picY = 0;
_.rsizeX = 0;
_.rsizeY = 0;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_imagePopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'imagePopUp', 153, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function imagePopUp$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1292, 61, {}, imagePopUp$1);
_.run = function run_68(){
  if ($getWidth(this.this$01.bigPicture) > 5) {
    this.this$01.Original_picY = $getOffsetHeight(this.this$01.bigPicture);
    this.this$01.Original_picX = $getOffsetWidth(this.this$01.bigPicture);
    $reSizePopUp(this.this$01);
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_imagePopUp$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'imagePopUp/1', 1292, Lcom_google_gwt_user_client_Timer_2_classLit);
function imagePopUp$2(this$0){
  this.this$01 = this$0;
}

defineClass(1293, 1, $intern_45, imagePopUp$2);
_.onError_0 = function onError_10(event_0){
  ($clinit_System() , out_0).print_0('\n /n <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<image failed ' + this.this$01.Original_picX + '-' + this.this$01.Original_picY);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_imagePopUp$2_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'imagePopUp/2', 1293, Ljava_lang_Object_2_classLit);
function imagePopUp$3(this$0){
  this.this$01 = this$0;
}

defineClass(1294, 1, $intern_44, imagePopUp$3);
_.onLoad_0 = function onLoad_9(event_0){
  var sender;
  sender = dynamicCast(event_0.source, 7);
  this.this$01.Original_picY = $getOffsetHeight(dynamicCast(sender, 43));
  this.this$01.Original_picX = $getOffsetWidth(dynamicCast(sender, 43));
  ($clinit_System() , out_0).print_0('\n --Image loaded' + $getUrl_0(dynamicCast(sender, 43)));
  out_0.print_0('\n /n <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<image loaded ' + this.this$01.Original_picX + '-' + this.this$01.Original_picY);
  $cancel(this.this$01.timer);
  ($clinit_JAMcore() , GameLogger).info_0(':' + this.this$01.Original_picX + ':');
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_imagePopUp$3_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'imagePopUp/3', 1294, Ljava_lang_Object_2_classLit);
function imagePopUp$4(this$0){
  this.this$01 = this$0;
}

defineClass(1295, 1, {1549:1}, imagePopUp$4);
var Lcom_lostagain_JamGwt_InventoryObjectTypes_imagePopUp$4_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'imagePopUp/4', 1295, Ljava_lang_Object_2_classLit);
function $reSizePopUp_0(this$static){
  var NewFrameWidth;
  this$static.ScreenSizeX = $getClientWidth($doc);
  $getClientHeight($doc);
  this$static.picY = this$static.Original_picY;
  this$static.picX = this$static.Original_picX;
  ($clinit_System() , out_0).print_0('\n /n <<<<<<<<<<<<<<<<<<<<<<<image loaded []' + this$static.picX + '-' + this$static.picY);
  this$static.Original_picX > 5 && $cancel(this$static.timer);
  if (this$static.picX > this$static.ScreenSizeX * 0.8) {
    $setHeight(this$static.bigPicture, this$static.picY * (this$static.ScreenSizeX * 0.8 / this$static.picX) + 'px');
    out_0.println_0('ratio=' + this$static.picX + '>' + this$static.ScreenSizeX * 0.8);
    this$static.picX = toInt(fromDouble(round0(this$static.ScreenSizeX * 0.8)));
    $setWidth(this$static.bigPicture, this$static.picX + 'px');
  }
   else if (this$static.Original_picX > 5) {
    $setWidth(this$static.bigPicture, this$static.Original_picX + 'px');
    $setHeight(this$static.bigPicture, this$static.Original_picY + 'px');
  }
  $setHeight(this$static.Discription, '100%');
  NewFrameWidth = $getOffsetWidth(this$static.bigPicture);
  this$static.bigPicture.parent_1.setWidth(NewFrameWidth + 'px');
  $setCellHeight(this$static, this$static.bigPicture, $getHeight(this$static.bigPicture) + 'px');
  $getPropertyInt(($clinit_DOM() , this$static.element), 'offsetHeight');
  dynamicCast(this$static.bigPicture.parent_1, 64).CloseDefault();
  dynamicCast(this$static.bigPicture.parent_1, 71).OpenDefault();
  out_0.println_0('Screen Height=' + ($getSubPixelOffsetHeight(getBodyElement()) | 0));
}

function imageWithAlphaItem(ImagelocationSet){
  VerticalPanel.call(this);
  this.Discription = new HTML_1('');
  this.bigPicture = new SpiffyImage;
  this.ScreenSizeX = $getClientWidth($doc);
  $getClientHeight($doc);
  this.picX = 0;
  this.picY = 0;
  this.Original_picY = 0;
  this.Original_picX = 0;
  ($clinit_System() , out_0).print_0('\n /n <<< added listener-' + $getHeight(this.bigPicture) + '-');
  this.Imagelocation = ImagelocationSet;
  $setUrl_1(this.bigPicture, this.Imagelocation);
  $setAttribute($getElement(this.bigPicture), 'draggable', 'false');
  setStylePrimaryName(($clinit_DOM() , this.element), 'unselectable');
  this.timer = new imageWithAlphaItem$1(this);
  $scheduleRepeating(this.timer, $intern_10);
  add_22(this.bigPicture, new imageWithAlphaItem$2(this));
  this.ScreenSizeX = $getClientWidth($doc);
  $getClientHeight($doc);
  $add_5(this, this.bigPicture);
  $setClassName($getParentElement($getElement(this.bigPicture)), 'popup_border');
  $setCellHorizontalAlignment_0(this, this.Discription, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
}

defineClass(1219, 28, $intern_124, imageWithAlphaItem);
_.CloseDefault = function CloseDefault_15(){
}
;
_.DRAGABLE = function DRAGABLE_12(){
  return true;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_5(){
  return false;
}
;
_.OpenDefault = function OpenDefault_13(){
}
;
_.POPUPTYPE = function POPUPTYPE_12(){
  return 'PNGPICTURE';
}
;
_.getSourceURL = function getSourceURL_5(){
  return null;
}
;
_.getState = function getState_5(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_14(){
  return this;
}
;
_.loadState_0 = function loadState_6(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_5(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY_5(){
  return null;
}
;
_.Original_picX = 0;
_.Original_picY = 0;
_.ScreenSizeX = 0;
_.picX = 0;
_.picY = 0;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_imageWithAlphaItem_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'imageWithAlphaItem', 1219, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function imageWithAlphaItem$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(1220, 61, {}, imageWithAlphaItem$1);
_.run = function run_69(){
  if ($getWidth(this.this$01.bigPicture) > 5) {
    this.this$01.Original_picY = $getOffsetHeight(this.this$01.bigPicture);
    this.this$01.Original_picX = $getOffsetWidth(this.this$01.bigPicture);
    $reSizePopUp_0(this.this$01);
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_imageWithAlphaItem$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'imageWithAlphaItem/1', 1220, Lcom_google_gwt_user_client_Timer_2_classLit);
function $onError(this$static){
  ($clinit_System() , out_0).print_0('\n /n <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<image failed ' + this$static.this$01.Original_picX + '-' + this$static.this$01.Original_picY);
}

function $onLoad_1(this$static, sender){
  this$static.this$01.Original_picY = $getOffsetHeight(dynamicCast(sender, 43));
  this$static.this$01.Original_picX = $getOffsetWidth(dynamicCast(sender, 43));
  ($clinit_System() , out_0).print_0('\n --Image loaded' + $getUrl_0(dynamicCast(sender, 43)));
  out_0.print_0('\n /n <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<image loaded ' + this$static.this$01.Original_picX + '-' + this$static.this$01.Original_picY);
  $cancel(this$static.this$01.timer);
}

function imageWithAlphaItem$2(this$0){
  this.this$01 = this$0;
}

defineClass(1221, 1, {1457:1}, imageWithAlphaItem$2);
var Lcom_lostagain_JamGwt_InventoryObjectTypes_imageWithAlphaItem$2_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'imageWithAlphaItem/2', 1221, Ljava_lang_Object_2_classLit);
function moviePopUp(URL_0, size_xs, size_ys){
  var frame_0, size_x, size_y;
  SimplePanel.call(this);
  this.HTMLString = '<object classid="clsid:02BF25D5-8C17-4B23-BC80-D3488ABDDC6B" codebase=http://www.apple.com/qtactivex/qtplugin.cab#version=6,0,2,0 width="SIZE_X" height="SIZE_Y" align="middle"><param name="src"value="FILENAME.MOV" /><param name="autoplay" value="false" /><embed src="FILENAME.MOV" autoplay="false" width="SIZE_X" height="SIZE_Y" align="middle" bgcolor="gray" pluginspage="http://www.apple.com/quicktime/download/"><\/embed><\/object>';
  size_xs = $replaceAll(size_xs, '[^0-9]', '');
  size_ys = $replaceAll(size_ys, '[^0-9]', '');
  size_x = __parseAndValidateInt(size_xs, 10);
  size_y = __parseAndValidateInt(size_ys, 10);
  this.HTMLString = $replaceAll(this.HTMLString, 'FILENAME.MOV', URL_0);
  this.HTMLString = $replaceAll(this.HTMLString, 'SIZE_X', size_x + '');
  this.HTMLString = $replaceAll(this.HTMLString, 'SIZE_Y', 12 + size_y + '');
  frame_0 = new HTML_1(this.HTMLString);
  ($clinit_DOM() , frame_0.element).style['width'] = '100%';
  frame_0.element.style['height'] = '100%';
  $add_2(this, frame_0);
  this.element.style['width'] = 2 + size_x + 'px';
  this.element.style['height'] = 12 + size_y + 'px';
}

defineClass(1296, 29, $intern_129, moviePopUp);
_.CloseDefault = function CloseDefault_16(){
}
;
_.DRAGABLE = function DRAGABLE_13(){
  return false;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_6(){
  return false;
}
;
_.OpenDefault = function OpenDefault_14(){
}
;
_.POPUPTYPE = function POPUPTYPE_13(){
  return 'MOVIE';
}
;
_.getSourceURL = function getSourceURL_6(){
  return null;
}
;
_.getState = function getState_6(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_15(){
  return this;
}
;
_.loadState_0 = function loadState_7(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_6(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY_6(){
  return null;
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_moviePopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'moviePopUp', 1296, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $onMouseDown(this$static, x_0, y_0){
  this$static.dragging = true;
  setCapture($getElement(this$static.caption));
  this$static.dragStartX = x_0;
  this$static.dragStartY = y_0;
}

function $onMouseMove(this$static, x_0, y_0){
  var absX, absY;
  if (this$static.dragging) {
    absX = x_0 + $getAbsoluteLeft_0(($clinit_DOM() , this$static.element));
    absY = y_0 + $getAbsoluteTop_0(this$static.element);
    $setPopupPosition(this$static, absX - this$static.dragStartX, absY - this$static.dragStartY);
  }
}

function $onMouseUp(this$static){
  this$static.dragging = false;
  releaseCapture($getElement(this$static.caption));
}

function overlayPopUp(){
  PopupPanel.call(this);
  this.verticalSplit = new VerticalPanel;
  this.caption = new Label_1('Overlay (Drag Me)');
  this.overlay = new HTML_1('<div><\/div>');
  new HorizontalPanel;
  new Label_1('X');
  $add_2(this, this.verticalSplit);
  $setSize(this.overlay, '400px', '400px');
  $setStyleName(this.overlay, 'overlay');
  $add_5(this.verticalSplit, this.overlay);
  $setStyleName(this.caption, 'Caption');
  add_23(this.caption, this);
}

defineClass(1309, 53, {20:1, 16:1, 19:1, 95:1, 17:1, 27:1, 13:1, 360:1, 53:1, 29:1, 15:1, 7:1, 64:1}, overlayPopUp);
_.CloseDefault = function CloseDefault_17(){
}
;
_.DRAGABLE = function DRAGABLE_14(){
  return false;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_7(){
  return false;
}
;
_.POPUPTYPE = function POPUPTYPE_14(){
  return 'Overlay';
}
;
_.getSourceURL = function getSourceURL_7(){
  return null;
}
;
_.getState = function getState_7(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_16(){
  return this;
}
;
_.loadState_0 = function loadState_8(state){
}
;
_.onEventPreview = function onEventPreview_2(event_0){
  $clinit_DOM();
  $eventGetTypeInt(event_0.type) == 4 && ($isOrHasChild($getElement(this.caption), $eventGetTarget(event_0)) && $eventPreventDefault(event_0));
  return true;
}
;
_.sourcesizeX_0 = function sourcesizeX_7(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY_7(){
  return null;
}
;
_.dragStartX = 0;
_.dragStartY = 0;
_.dragging = false;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_overlayPopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'overlayPopUp', 1309, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function textScroller(URL_0){
  var requestBuilder2;
  SimplePanel.call(this);
  this.ypos = 0;
  this.Container = new AbsolutePanel;
  this.contents = new HTML_1('Laaaa, la la Laaaaa, laaaaa la la laaaaaa....LAAAA LA <br> la laaaa <br> la laaaa <br>la laaaa <br>la laaaa <br>la laaaa <br>la laaaa <br>la laaaa <br> la laaaa <br> la laaaa');
  this.scrollpop = this;
  requestBuilder2 = new RequestBuilder(($clinit_RequestBuilder() , GET), URL_0);
  try {
    $sendRequest(requestBuilder2, '', new textScroller$1(this));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      ($clinit_System() , out_0).println_0(' cant find scroll text');
    }
     else 
      throw unwrap($e0);
  }
}

defineClass(1311, 29, $intern_129, textScroller);
_.CloseDefault = function CloseDefault_18(){
  $cancel(this.Scroller);
}
;
_.DRAGABLE = function DRAGABLE_15(){
  return true;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_8(){
  return false;
}
;
_.OpenDefault = function OpenDefault_15(){
  $scheduleRepeating(this.Scroller, 50);
}
;
_.POPUPTYPE = function POPUPTYPE_15(){
  return 'TEXTSCROLL';
}
;
_.getSourceURL = function getSourceURL_8(){
  return null;
}
;
_.getState = function getState_8(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_17(){
  return this;
}
;
_.loadState_0 = function loadState_9(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_8(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY_8(){
  return null;
}
;
_.ypos = 0;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_textScroller_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'textScroller', 1311, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function textScroller$1(this$0){
  this.this$01 = this$0;
}

defineClass(1312, 1, {}, textScroller$1);
_.onError_1 = function onError_11(request, exception){
  ($clinit_System() , out_0).println_0('error getting scroll text');
}
;
_.onResponseReceived = function onResponseReceived_6(request, response){
  var newscrollbit;
  newscrollbit = ($clinit_JAMcore() , SwapCustomWords(response.xmlHttpRequest.responseText, true));
  $setHTML(this.this$01.contents, newscrollbit);
  $setHTML(this.this$01.contents, '<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>' + $getTextOrHtml(this.this$01.contents.directionalTextHelper, true) + '<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>');
  $setWidth(this.this$01.scrollpop, '400px');
  $setHeight(this.this$01.scrollpop, '400px');
  $add_7(this.this$01.Container, this.this$01.contents);
  $setStylePrimaryName(this.this$01.contents, 'Scroll');
  $setWidth(this.this$01.contents, '100%');
  $setSize(this.this$01.Container, '100%', '100%');
  $add_2(this.this$01.scrollpop, this.this$01.Container);
  this.this$01.ypos = $getOffsetHeight(this.this$01.Container);
  this.this$01.Scroller = new textScroller$1$1(this);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_textScroller$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'textScroller/1', 1312, Ljava_lang_Object_2_classLit);
function textScroller$1$1(this$1){
  this.this$11 = this$1;
  Timer.call(this);
}

defineClass(1313, 61, {}, textScroller$1$1);
_.run = function run_70(){
  this.this$11.this$01.ypos = this.this$11.this$01.ypos - 1;
  $setWidgetPosition(this.this$11.this$01.Container, this.this$11.this$01.contents, 0, this.this$11.this$01.ypos);
  this.this$11.this$01.ypos < -($getOffsetHeight(this.this$11.this$01.contents) - $getOffsetHeight(this.this$11.this$01.Container)) && (this.this$11.this$01.ypos = 0);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_textScroller$1$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'textScroller/1/1', 1313, Lcom_google_gwt_user_client_Timer_2_classLit);
function $clinit_toggleImageGroupPopUp(){
  $clinit_toggleImageGroupPopUp = emptyMethod;
  $clinit_TigItemCore();
  Log_89 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'Jam.toggleImageGroupPopUp'));
}

function $add_23(this$static, addThis, left, top_0){
  $add_8(this$static.imagegroupframe, addThis, left, top_0);
}

function $getAbsoluteLeftOfImage(this$static){
  return $getAbsoluteLeft_0(($clinit_DOM() , this$static.imagegroupframe.element));
}

function $getAbsoluteTopOfImage(this$static){
  return $getAbsoluteTop_0(($clinit_DOM() , this$static.imagegroupframe.element));
}

function $loadState_0(this$static, state){
  var itemData, itemName, itemState, itemString, itemString$index, itemString$max;
  if (!this$static.setup) {
    $info_1(Log_89, 'tig not setup yet waiting for load');
    this$static.stateToLoad = state;
    return;
  }
  $info_1(Log_89, 'loading tig state');
  itemData = $split_0(state, '_#_', 0);
  for (itemString$index = 0 , itemString$max = itemData.length; itemString$index < itemString$max; ++itemString$index) {
    itemString = itemData[itemString$index];
    if (!itemString.length) {
      continue;
    }
    itemName = $split_0(itemString, '=', 2)[0];
    itemState = $split_0(itemString, '=', 2)[1];
    $info_1(Log_89, 'setting tig item:' + itemName + ' to ' + itemState);
    $setItemState(this$static, itemName, itemState);
  }
  return;
}

function $reSizePopUp_1(this$static){
  $setWidth(this$static.Background, this$static.Original_picX + 'px');
  $setHeight(this$static.Background, this$static.Original_picY + 'px');
  this$static.Background.parent_1.setWidth(this$static.Original_picX + 'px');
  this$static.Background.parent_1.setHeight(this$static.Original_picY + 'px');
}

function $setFeedbackText(this$static, text_0){
  $setText_9(this$static.TiGFeedback, text_0, false);
}

function $setItem_1(item_0, state){
  var icontochange, targetFrame, targetFrameStr;
  state = $trim(state);
  $info_1(Log_89, '\n setting :' + $getBaseFileName(item_0) + ' to:' + state + '');
  if ($equalsIgnoreCase(state, 'show')) {
    setVisible(($clinit_DOM() , item_0.element), true);
    return;
  }
  if ($equalsIgnoreCase(state, 'hide')) {
    setVisible(($clinit_DOM() , item_0.element), false);
    return;
  }
  icontochange = item_0.iconIfAny;
  if (!icontochange) {
    $info_1(Log_89, "Attempting to set something that wasn't a icon, returning");
    return;
  }
  if (state.indexOf('_') != -1 || ($clinit_Ints() , !!tryParse(state))) {
    $info_1(Log_89, 'Load animation state:' + state);
    $loadSerialisedAnimationState(icontochange.animation, state);
    return;
  }
  if (compareTo_5(state, 'PlayForward') == 0) {
    $setPlayForward(icontochange.animation);
  }
   else if (compareTo_5(state, 'PlayBounceLoop') == 0) {
    $setPlayForwardThenBackLoop(icontochange.animation);
  }
   else if (compareTo_5(state, 'PlayLoop') == 0) {
    $setPlayLoop(icontochange.animation);
  }
   else if (compareTo_5(state, 'PlayBounce') == 0) {
    $setPlayForwardThenBack(icontochange.animation);
  }
   else if (compareTo_5(state, 'PlayBack') == 0) {
    $setPlayBack(icontochange.animation);
  }
   else if ($equals_5(state.substr(0, 9), 'GotoFrame')) {
    targetFrameStr = __substr(state, 9, state.length - 9);
    targetFrame = __parseAndValidateInt(targetFrameStr, 10);
    $info_1(Log_89, 'Setting frame to:' + targetFrame);
    $gotoFrame(icontochange.animation, targetFrame);
  }
   else 
    compareTo_5(state, 'NextFrameLoop') == 0?$nextFrameLoop(icontochange.animation):compareTo_5(state, 'PrevFrameLoop') == 0?$prevFrameLoop(icontochange.animation):compareTo_5(state, 'PlayForwardXframes') == 0 && $playForwardXframes(icontochange.animation);
}

function $setItemState(this$static, itemnamesearch, state){
  var itemNum, itemit, itemit0, itemname, testhis;
  if (!itemnamesearch.length) {
    $info_1(Log_89, 'no item name supplied');
    return;
  }
  if ($equals_5(itemnamesearch.substr(0, 1), '[')) {
    itemnamesearch = $replace_0($replace_0(itemnamesearch, '[', ''), ']', '');
    itemNum = __parseAndValidateInt(itemnamesearch, 10);
    $setItem_1(dynamicCast($get(this$static.TIGitems, itemNum), 205), state);
  }
  itemname = itemnamesearch;
  if ($endsWith(itemnamesearch.toLowerCase(), '.png')) {
    itemname = $substring_0(itemnamesearch, 0, itemnamesearch.length - 5);
  }
   else {
    ($clinit_JAMcore() , GameLogger).info_0('\n setting item-' + itemnamesearch);
    GameLogger.info_0('\n checking-' + this$static.TIGitems.array.length + '-');
    itemit0 = new AbstractList$IteratorImpl(this$static.TIGitems);
    while (itemit0.i < itemit0.this$01_0.size_1()) {
      testhis = (checkCriticalElement(itemit0.i < itemit0.this$01_0.size_1()) , dynamicCast(itemit0.this$01_0.get_0(itemit0.last = itemit0.i++), 205));
      GameLogger.info_0('\n compare to-' + $getBaseFileName(testhis));
      if ($equalsIgnoreCase(testhis.uniqueName, $trim(itemnamesearch))) {
        $setItem_1(testhis, state);
        return;
      }
    }
  }
  itemit = new AbstractList$IteratorImpl(this$static.TIGitems);
  while (itemit.i < itemit.this$01_0.size_1()) {
    testhis = (checkCriticalElement(itemit.i < itemit.this$01_0.size_1()) , dynamicCast(itemit.this$01_0.get_0(itemit.last = itemit.i++), 205));
    ($clinit_JAMcore() , GameLogger).info_0('\n compare to-' + $getBaseFileName(testhis));
    $endsWith($getBaseFileName(testhis), $trim(itemname)) && $setItem_1(testhis, state);
  }
}

function $testCombination(this$static){
  var TIGitems_it, allcurrenttstates, correct_ans, cpos, currentItem, currentItemsState, currentline, currentstate, endans, instructionset, itemit, linestarthere, nextansstart, requiredNameID, requiredState, starthere, state;
  $info_1(Log_89, 'test Combination');
  allcurrenttstates = '';
  TIGitems_it = new AbstractList$IteratorImpl(this$static.TIGitems);
  while (TIGitems_it.i < TIGitems_it.this$01_0.size_1()) {
    currentItem = (checkCriticalElement(TIGitems_it.i < TIGitems_it.this$01_0.size_1()) , dynamicCast(TIGitems_it.this$01_0.get_0(TIGitems_it.last = TIGitems_it.i++), 205));
    if (currentItem.labelIfAny) {
      continue;
    }
    currentstate = $getUrl_1(currentItem);
    currentstate = $trim($substring(currentstate, currentstate.lastIndexOf('/') + 1));
    allcurrenttstates = allcurrenttstates + '~~' + currentstate + '~~';
  }
  $info_1(Log_89, allcurrenttstates);
  starthere = 0;
  checkansloop: while ($indexOf_3(this$static.solution_script, 'ans:', starthere) > -1) {
    cpos = $indexOf_3(this$static.solution_script, 'ans:', starthere) + 4;
    currentline = $trim($substring_0(this$static.solution_script, cpos, $indexOf_3(this$static.solution_script, '\n', cpos)));
    linestarthere = 0;
    correct_ans = true;
    linecheck: do {
      nextansstart = currentline.indexOf('+', linestarthere);
      nextansstart == -1 && (nextansstart = currentline.length);
      state = $trim(currentline.substr(linestarthere, nextansstart - linestarthere));
      if (state.indexOf('=') != -1) {
        requiredNameID = $trim($split_0(state, '=', 0)[0]);
        requiredState = $trim($split_0(state, '=', 0)[1]);
        ($clinit_JAMcore() , GameLogger).info_0('searching for ' + requiredNameID + ' set to ' + requiredState);
        itemit = new AbstractList$IteratorImpl(this$static.TIGitems);
        currentItemsState = '';
        while (itemit.i < itemit.this$01_0.size_1()) {
          currentItem = (checkCriticalElement(itemit.i < itemit.this$01_0.size_1()) , dynamicCast(itemit.this$01_0.get_0(itemit.last = itemit.i++), 205));
          GameLogger.info_0('<br> testing: ' + currentItem.uniqueName + ': ');
          if ($equalsIgnoreCase(currentItem.uniqueName, requiredNameID)) {
            currentItemsState = $getUrl_1(currentItem);
            currentItemsState = $trim($substring(currentItemsState, currentItemsState.lastIndexOf('/') + 1));
            GameLogger.info_0(' found: ' + currentItemsState + ':');
            break;
          }
        }
        if (!$equals_5($trim(currentItemsState), requiredState)) {
          correct_ans = false;
          ($clinit_System() , out_0).print_0('wrong');
          break linecheck;
        }
      }
       else {
        $info_1(Log_89, '\n checking :' + state + '  in  ' + allcurrenttstates + '\n');
        if (allcurrenttstates.indexOf('~' + state + '~') == -1) {
          correct_ans = false;
          $info_1(Log_89, 'wrong');
          break linecheck;
        }
      }
      linestarthere = nextansstart + 1;
    }
     while (currentline.indexOf('+', linestarthere - 1) > -1);
    if (correct_ans) {
      $info_1(Log_89, 'CORRRRECTTT!!! processing script from ' + cpos);
      endans = $indexOf_3(this$static.solution_script, 'ans:', cpos);
      endans == -1 && (endans = this$static.solution_script.length);
      instructionset = $trim($substring_0(this$static.solution_script, $indexOf_3(this$static.solution_script, '\n', cpos) + 1, endans));
      $info_1(Log_89, ' Processing:' + instructionset);
      $clinit_JAMcore();
      processInstructions_0(instructionset, 'TIG:' + this$static.CoreName + ',CorrectAns', null);
      break checkansloop;
    }
    starthere = cpos + 1;
  }
}

function $triggerPopUpMessage(CurrentProperty){
  var lastclicked_x, lastclicked_y, messagepop, selectthis, totalmessages;
  if (CurrentProperty.indexOf(',') > -1) {
    totalmessages = $split_0(CurrentProperty, '","', 0).length;
    selectthis = round_int(random() * totalmessages);
    CurrentProperty = $split_0(CurrentProperty, '(",")|(" , ")', 0)[selectthis];
  }
  lastclicked_x = ($clinit_JAM() , lastclicked_x_1);
  lastclicked_y = lastclicked_y_1;
  CurrentProperty = $replaceAll(CurrentProperty, '"', '');
  messagepop = new Label_1($trim(CurrentProperty));
  !!messageArrow && $removeFromParent(messageArrow);
  messageArrow = new SpiffyArrow;
  setStylePrimaryName(($clinit_DOM() , messagepop.element), 'mesagePopUps');
  if (lastclicked_x > $getOffsetWidth(($clinit_TigItemCore() , lastclickedTig).panelcontents) - 200) {
    $SetArrowTopRight(messageArrow);
    $add_23(lastclickedTig, messageArrow, lastclicked_x - 30, lastclicked_y);
    $add_23(lastclickedTig, messagepop, lastclicked_x - 30 - 107, lastclicked_y + 29);
  }
   else {
    $add_23(lastclickedTig, messageArrow, lastclicked_x, lastclicked_y);
    $add_23(lastclickedTig, messagepop, lastclicked_x + 30, lastclicked_y + 29);
  }
  !!lastpopupmessage && $removeFromParent(lastpopupmessage);
  lastpopupmessage = messagepop;
}

function toggleImageGroupPopUp(ItemName, nDiscription, sizeX, sizeY, PngMode){
  $clinit_toggleImageGroupPopUp();
  var BackURL, ControllIni, SolutionsIni, requestBuilder2, requestSolutions;
  this.CoreName = ItemName;
  this.panelcontents = new VerticalPanel;
  $getClientWidth($doc);
  $getClientHeight($doc);
  this.TiGFeedback = new TypedLabel;
  this.solutionpresent = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  this.messageboxpresent = (null , FALSE_2);
  this.ImageDiscription = new HTML_1('');
  this.submitans = new Button('~ Check ~');
  this.Background = new Image_4('');
  this.imagegroupframe = new AbsolutePanel;
  this.thisframe = this;
  this.TIGitems = new ArrayList;
  $setStylePrimaryName(this.panelcontents, 'unselectable');
  this.sourcesizeX = sizeX;
  this.sourcesizeY = sizeY;
  this.TIGitems.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  PngMode?(BackURL = 'InventoryItems/' + ItemName + '/' + ItemName + '.png'):(BackURL = 'InventoryItems/' + ItemName + '/' + ItemName + '.jpg');
  this.sourceurl = BackURL;
  $setUrl_1(this.Background, BackURL);
  $setPropertyString(this.panelcontents.table, 'border', '0');
  $setSpacing(this.panelcontents, 0);
  $add_5(this.panelcontents, this.imagegroupframe);
  $add_8(this.imagegroupframe, this.Background, 0, 0);
  $add_5(this.panelcontents, this.TiGFeedback);
  $setWidth(this.TiGFeedback, '100%');
  $setStyleName(this.TiGFeedback, 'Feedback');
  $setHeight(this.TiGFeedback, '50px');
  $setVisible(this.TiGFeedback, false);
  ($clinit_JAMcore() , GameLogger).info_0('tig loading');
  this.timer = new toggleImageGroupPopUp$1(this, nDiscription);
  $setStylePrimaryName(this.Background, 'unselectable');
  $addHandler(this.Background, new toggleImageGroupPopUp$2(this), ($clinit_ErrorEvent() , $clinit_ErrorEvent() , TYPE_4));
  $addHandler(this.Background, new toggleImageGroupPopUp$3(this, nDiscription), ($clinit_LoadEvent() , $clinit_LoadEvent() , TYPE_9));
  $scheduleRepeating(this.timer, $intern_10);
  ControllIni = getHostPageBaseURL() + 'InventoryItems/' + ItemName + '/' + ItemName + '_items.ini';
  requestBuilder2 = new RequestBuilder(($clinit_RequestBuilder() , GET), ControllIni);
  try {
    $sendRequest(requestBuilder2, '', new toggleImageGroupPopUp$4(this, ItemName));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      ($clinit_System() , out_0).println_0(' cant item ini');
    }
     else 
      throw unwrap($e0);
  }
  SolutionsIni = getHostPageBaseURL() + 'InventoryItems/' + ItemName + '/' + ItemName + '_solutions.ini';
  requestSolutions = new RequestBuilder(GET, SolutionsIni);
  try {
    $sendRequest(requestSolutions, '', new toggleImageGroupPopUp$5(this));
  }
   catch ($e1) {
    $e1 = wrap($e1);
    if (instanceOf($e1, 84)) {
      GameLogger.info_0(' cant item ini');
      this.solutionpresent = (null , FALSE_2);
      $removeFromParent(this.submitans);
    }
     else 
      throw unwrap($e1);
  }
}

defineClass(308, 1136, {13:1, 64:1, 71:1, 308:1}, toggleImageGroupPopUp);
_.CloseDefault = function CloseDefault_19(){
}
;
_.DRAGABLE = function DRAGABLE_16(){
  return true;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_9(){
  return this.Magnifable;
}
;
_.OpenDefault = function OpenDefault_16(){
}
;
_.POPUPTYPE = function POPUPTYPE_16(){
  return 'TIG';
}
;
_.asWidget = function asWidget_8(){
  return this.panelcontents;
}
;
_.getSourceURL = function getSourceURL_9(){
  return this.sourceurl;
}
;
_.getState = function getState_9(){
  var item_0, item$iterator, itemsSettings, serialisedTig;
  $info_1(Log_89, 'getting tig state');
  serialisedTig = '';
  for (item$iterator = new AbstractList$IteratorImpl(this.TIGitems); item$iterator.i < item$iterator.this$01_0.size_1();) {
    item_0 = (checkCriticalElement(item$iterator.i < item$iterator.this$01_0.size_1()) , dynamicCast(item$iterator.this$01_0.get_0(item$iterator.last = item$iterator.i++), 205));
    itemsSettings = $getState(item_0);
    serialisedTig = serialisedTig + '_#_' + itemsSettings;
  }
  return serialisedTig;
}
;
_.getVisualRepresentation = function getVisualRepresentation_18(){
  return this.panelcontents;
}
;
_.loadState_0 = function loadState_10(state){
  $loadState_0(this, state);
}
;
_.sourcesizeX_0 = function sourcesizeX_9(){
  return '' + this.sourcesizeX;
}
;
_.sourcesizeY_0 = function sourcesizeY_9(){
  return '' + this.sourcesizeY;
}
;
_.Magnifable = false;
_.Original_picX = 0;
_.Original_picY = 0;
_.setup = false;
_.solution_script = '';
_.sourcesizeX = '';
_.sourcesizeY = '';
_.sourceurl = '';
_.stateToLoad = '';
var Log_89;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp', 308, Lcom_lostagain_Jam_InventoryItems_TigItemCore_2_classLit);
function toggleImageGroupPopUp$1(this$0, val$nDiscription){
  this.this$01 = this$0;
  this.val$nDiscription2 = val$nDiscription;
  Timer.call(this);
}

defineClass(1300, 61, {}, toggleImageGroupPopUp$1);
_.run = function run_71(){
  if ($getOffsetWidth(this.this$01.Background) > 35) {
    this.this$01.Original_picY = $getHeight(this.this$01.Background);
    this.this$01.Original_picX = $getWidth(this.this$01.Background);
    $setSize(this.this$01.imagegroupframe, this.this$01.Original_picX + 'px', this.this$01.Original_picY + 'px');
    this.this$01.solutionpresent.value_0 && $add_8(this.this$01.imagegroupframe, this.this$01.submitans, ~~($getOffsetWidth(this.this$01.imagegroupframe) / 2) - 50, $getOffsetHeight(this.this$01.imagegroupframe) - 30);
    this.this$01.messageboxpresent.value_0 && $setVisible(this.this$01.TiGFeedback, true);
    ($clinit_JAMcore() , GameLogger).info_0('image load b' + this.this$01.Original_picY + ' ' + this.this$01.Original_picX);
    if (this.val$nDiscription2 != '') {
      GameLogger.info_0('discription set' + this.val$nDiscription2);
      $setText_0(this.this$01.ImageDiscription, this.val$nDiscription2);
      $setWidth(this.this$01.ImageDiscription, '100%');
      $setStylePrimaryName(this.this$01.ImageDiscription, 'unselectable');
      $insert_1(this.this$01.thisframe.panelcontents, this.this$01.ImageDiscription, 0);
      $setStyleName(this.this$01.ImageDiscription, 'notepadback');
      $setClassName($getParentElement($getElement(this.this$01.ImageDiscription)), 'picturePopUp');
    }
    $reSizePopUp_1(this.this$01);
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/1', 1300, Lcom_google_gwt_user_client_Timer_2_classLit);
function toggleImageGroupPopUp$2(this$0){
  this.this$01 = this$0;
}

defineClass(1301, 1, $intern_45, toggleImageGroupPopUp$2);
_.onError_0 = function onError_12(event_0){
  ($clinit_System() , out_0).print_0('\n /n <<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<image failed ' + this.this$01.Original_picX + '-' + this.this$01.Original_picY);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$2_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/2', 1301, Ljava_lang_Object_2_classLit);
function toggleImageGroupPopUp$3(this$0, val$nDiscription){
  this.this$01 = this$0;
  this.val$nDiscription2 = val$nDiscription;
}

defineClass(1302, 1, $intern_44, toggleImageGroupPopUp$3);
_.onLoad_0 = function onLoad_10(event_0){
  var sender;
  sender = dynamicCast(event_0.source, 7);
  this.this$01.Original_picY = $getHeight(dynamicCast(sender, 43));
  this.this$01.Original_picX = $getWidth(dynamicCast(sender, 43));
  $setSize(this.this$01.imagegroupframe, this.this$01.sourcesizeX, this.this$01.sourcesizeY);
  this.this$01.solutionpresent.value_0 && $add_8(this.this$01.imagegroupframe, this.this$01.submitans, ~~($getOffsetWidth(this.this$01.imagegroupframe) / 2) - 50, $getOffsetHeight(this.this$01.imagegroupframe) - 30);
  this.this$01.messageboxpresent.value_0 && $setVisible(this.this$01.TiGFeedback, true);
  ($clinit_JAMcore() , GameLogger).info_0('image load a');
  if (this.val$nDiscription2 != '') {
    GameLogger.info_0('discription set' + this.val$nDiscription2);
    $setText_0(this.this$01.ImageDiscription, this.val$nDiscription2);
    $setWidth(this.this$01.ImageDiscription, '100%');
    $insert_1(this.this$01.thisframe.panelcontents, this.this$01.ImageDiscription, 0);
    $info_1(($clinit_toggleImageGroupPopUp() , Log_89), 'setting class on parent');
    $setClassName($getParentElement($getElement(this.this$01.ImageDiscription)), 'picturePopUp');
    $setStyleName(this.this$01.ImageDiscription, 'notepadback');
  }
  $reSizePopUp_1(this.this$01);
  $cancel(this.this$01.timer);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$3_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/3', 1302, Ljava_lang_Object_2_classLit);
function toggleImageGroupPopUp$4(this$0, val$ItemName){
  this.this$01 = this$0;
  this.val$ItemName2 = val$ItemName;
}

defineClass(1303, 1, {}, toggleImageGroupPopUp$4);
_.onError_1 = function onError_13(request, exception){
  ($clinit_System() , out_0).println_0('error in user logged in test');
}
;
_.onResponseReceived = function onResponseReceived_7(request, response){
  var ActionsString, DefaultText, IconIDName, ItemLocX, ItemLocY, States, Visibility, cssclasss, isActions, isMouseoutActions, isMouseoverActions, item_list, itemset, loc, mouseoutActionsString, mouseoverActionsString, name_0, newLabel, path, starthere, tempItem, title_0, type_0;
  ($clinit_System() , out_0).println_0('\n\n' + response.xmlHttpRequest.responseText);
  item_list = response.xmlHttpRequest.responseText;
  item_list = parseForLanguageSpecificExtension(item_list);
  item_list = parseForTextIDs(item_list);
  $info_1(($clinit_toggleImageGroupPopUp() , Log_89), 'Item Data:' + item_list);
  if (item_list.indexOf('-Item:') == -1) {
    $info_1(Log_89, 'NO ITEMS IN TIG FILE FOUND');
    $clinit_JAMcore();
    --itemsLeftToLoad;
    $info_1(Log_89, 'reduceing items left to load to:' + itemsLeftToLoad);
    testForInstructionsToRun();
  }
  starthere = 0;
  loc = item_list.indexOf('-Item:', 0) + 6;
  item_list.indexOf('-Item:', loc + 6) > -1?(itemset = $substring_0(item_list, loc, item_list.indexOf('-Item:', loc))):(itemset = $substring_0(item_list, loc, item_list.length));
  out_0.println_0('set:' + itemset);
  while (loc > -1) {
    out_0.println_0('\n\n adding next item to TIG');
    type_0 = '';
    itemset.indexOf('Type =') != -1 && (type_0 = $trim($substring_0(itemset, itemset.indexOf('Type =', 0) + 7, $indexOf_3(itemset, '\n', itemset.indexOf('Type =', 0) + 7))));
    DefaultText = '';
    itemset.indexOf('DefaultText') != -1 && (DefaultText = $trim($substring_0(itemset, itemset.indexOf('DefaultText =', 0) + 14, $indexOf_3(itemset, '\n', itemset.indexOf('DefaultText =', 0) + 14))));
    name_0 = $substring_0(itemset, itemset.indexOf('Name =', 0) + 7, $indexOf_3(itemset, '\n', itemset.indexOf('Name =', 0) + 7));
    cssclasss = '';
    itemset.indexOf('CSSname') != -1 && (cssclasss = $substring_0(itemset, itemset.indexOf('CSSname =', 0) + 9, $indexOf_3(itemset, '\n', itemset.indexOf('CSSname =', 0) + 9)));
    title_0 = '';
    itemset.indexOf('Title =') != -1 && (title_0 = $substring_0(itemset, itemset.indexOf('Title =', 0) + 9, $indexOf_3(itemset, "'", itemset.indexOf('Title =', 0) + 9)));
    IconIDName = '';
    itemset.indexOf('IconID') != -1 && (IconIDName = $substring_0(itemset, itemset.indexOf('IconID =', 0) + 8, $indexOf_3(itemset, '\n', itemset.indexOf('IconID =', 0) + 8)));
    States = __parseAndValidateInt($trim($substring_0(itemset, itemset.indexOf('States =', 0) + 8, $indexOf_3(itemset, '\n', itemset.indexOf('States =', 0) + 8))), 10);
    ItemLocX = __parseAndValidateInt($trim($substring_0(itemset, itemset.indexOf('Located =', 0) + 9, $indexOf_3(itemset, ',', itemset.indexOf('Located =', 0) + 9))), 10);
    ItemLocY = __parseAndValidateInt($trim($substring_0(itemset, $indexOf_3(itemset, ',', itemset.indexOf('Located =', 0) + 9) + 1, $indexOf_3(itemset, '\n', itemset.indexOf('Located =', 0) + 9))), 10);
    Visibility = '';
    itemset.indexOf('Visibility') != -1 && (Visibility = $trim($substring_0(itemset, itemset.indexOf('Visibility =', 0) + 12, $indexOf_3(itemset, '\n', itemset.indexOf('Visibility =', 0) + 12))));
    isActions = itemset.indexOf('Actions:') != -1;
    ActionsString = '';
    isActions && (ActionsString = $substring_0(itemset, itemset.indexOf('Actions:', 0) + 8, itemset.indexOf('Mouse', 0) > 0?itemset.indexOf('Mouse', 0):itemset.length));
    isMouseoverActions = itemset.indexOf('MouseoverActions:') != -1;
    mouseoverActionsString = '';
    isMouseoverActions && (mouseoverActionsString = $substring_0(itemset, itemset.indexOf('MouseoverActions:', 0) + 17, $indexOf_3(itemset, 'Mouse', itemset.indexOf('MouseoverActions:', 0) + 17) > 0?$indexOf_3(itemset, 'Mouse', itemset.indexOf('MouseoverActions:', 0) + 17):itemset.length));
    isMouseoutActions = itemset.indexOf('MouseoutActions:') != -1;
    mouseoutActionsString = '';
    isMouseoutActions && (mouseoutActionsString = $substring_0(itemset, itemset.indexOf('MouseoutActions:', 0) + 16, $indexOf_3(itemset, 'Mouse', itemset.indexOf('MouseoutActions:', 0) + 16) > 0?$indexOf_3(itemset, 'Mouse', itemset.indexOf('MouseoutActions:', 0) + 16):itemset.length));
    $info_1(Log_89, ' cssclasss=' + cssclasss);
    $info_1(Log_89, ' type=' + type_0);
    $info_1(Log_89, ' defaulttext=' + DefaultText);
    $info_1(Log_89, ' name=' + name_0);
    $info_1(Log_89, ' title=' + title_0);
    $info_1(Log_89, ' States=' + States);
    $info_1(Log_89, ' ItemLocX=' + ItemLocX);
    $info_1(Log_89, ' ItemLocY=' + ItemLocY);
    $info_1(Log_89, ' Visibility=' + Visibility);
    $info_1(Log_89, ' RunWhenClicked=' + ActionsString);
    starthere = starthere + itemset.length + 6;
    loc = item_list.indexOf('-Item:', starthere);
    item_list.indexOf('-Item:', loc + 6) > -1?(itemset = $substring_0(item_list, loc + 6, item_list.indexOf('-Item:', loc + 6))):(itemset = $substring_0(item_list, loc + 6, item_list.length));
    $info_1(Log_89, ' loc =' + loc + ';');
    $info_1(Log_89, ' itemset =' + itemset + ';--------------------\n ');
    name_0.indexOf('/') != -1?(path = name_0):(path = 'InventoryItems/' + this.val$ItemName2 + '/items/' + name_0);
    if ($equalsIgnoreCase(type_0, 'text')) {
      DefaultText = parseForLanguageSpecificExtension(DefaultText);
      newLabel = new InlineHTML(DefaultText);
      !cssclasss.length || setStylePrimaryName(($clinit_DOM() , newLabel.element), cssclasss);
      tempItem = new toggleImageGroupPopUp$TigItem(this.this$01, newLabel);
    }
     else {
      tempItem = new toggleImageGroupPopUp$TigItem_0(this.this$01, new GWTAnimatedIcon_0(path, States));
    }
    title_0 == null || title_0.length == 0?$removeAttribute(($clinit_DOM() , tempItem.element), 'title'):$setAttribute(($clinit_DOM() , tempItem.element), 'title', title_0);
    tempItem.uniqueName = $trim(IconIDName);
    ($clinit_JAMcore() , GameLogger).info_0(tempItem.uniqueName + ' set:');
    $add_8(this.this$01.imagegroupframe, tempItem, ItemLocX, ItemLocY);
    $equalsIgnoreCase(Visibility, 'false') && setVisible(($clinit_DOM() , tempItem.element), false);
    this.this$01.TIGitems.add_0(tempItem);
    isMouseoverActions && $addMouseOverHandler_0(tempItem, new toggleImageGroupPopUp$4$1(this, tempItem, mouseoverActionsString));
    isMouseoutActions && $addMouseOutHandler_0(tempItem, new toggleImageGroupPopUp$4$2(this, tempItem, mouseoutActionsString));
    $addClickHandler_0(tempItem, new toggleImageGroupPopUp$4$3(this, tempItem, ActionsString, isActions));
  }
  if (item_list.indexOf('- CheckTIG') > -1) {
    this.this$01.solutionpresent = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
    $removeFromParent(this.this$01.submitans);
  }
  if (item_list.indexOf('- TIGMessage') > -1) {
    this.this$01.messageboxpresent = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
    $setVisible(this.this$01.TiGFeedback, true);
  }
  this.this$01.setup = true;
  if (this.this$01.stateToLoad.length) {
    $info_1(Log_89, 'now loading state');
    $loadState_0(this.this$01, this.this$01.stateToLoad);
    this.this$01.stateToLoad = '';
  }
  $clinit_JAMcore();
  --itemsLeftToLoad;
  $info_1(Log_89, 'tig:' + this.this$01.CoreName + 'loaded reduceing items left to load to:' + itemsLeftToLoad);
  testForInstructionsToRun();
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$4_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/4', 1303, Ljava_lang_Object_2_classLit);
function toggleImageGroupPopUp$4$1(this$1, val$newItem, val$mouseoverActions){
  this.this$11 = this$1;
  this.val$newItem2 = val$newItem;
  this.val$mouseoverActions3 = val$mouseoverActions;
}

defineClass(1304, 1, $intern_15, toggleImageGroupPopUp$4$1);
_.onMouseOver = function onMouseOver_7(event_0){
  var sender;
  if (this.this$11.this$01.disabled_0) {
    return;
  }
  sender = this.val$newItem2;
  $clinit_JAM();
  lastclicked_x_1 = $getWidgetLeft(this.this$11.this$01.imagegroupframe, sender) + ~~($getPropertyInt(($clinit_DOM() , sender.element), 'offsetWidth') / 2);
  lastclicked_y_1 = $getWidgetTop(this.this$11.this$01.imagegroupframe, sender) + ~~($getPropertyInt(sender.element, 'offsetHeight') / 2);
  $clinit_TigItemCore();
  lastclickedTig = this.this$11.this$01.thisframe;
  ($clinit_JAMcore() , GameLogger).info_0(' processing from image click ');
  processInstructions_0(this.val$mouseoverActions3, 'TIG:' + this.this$11.this$01.CoreName + ',' + $getBaseFileName(this.val$newItem2), null);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$4$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/4/1', 1304, Ljava_lang_Object_2_classLit);
function toggleImageGroupPopUp$4$2(this$1, val$newItem, val$mouseoutActions){
  this.this$11 = this$1;
  this.val$newItem2 = val$newItem;
  this.val$mouseoutActions3 = val$mouseoutActions;
}

defineClass(1305, 1, $intern_16, toggleImageGroupPopUp$4$2);
_.onMouseOut = function onMouseOut_9(event_0){
  var sender;
  if (this.this$11.this$01.disabled_0) {
    return;
  }
  sender = this.val$newItem2;
  $clinit_JAM();
  lastclicked_x_1 = $getWidgetLeft(this.this$11.this$01.imagegroupframe, sender) + ~~($getPropertyInt(($clinit_DOM() , sender.element), 'offsetWidth') / 2);
  lastclicked_y_1 = $getWidgetTop(this.this$11.this$01.imagegroupframe, sender) + ~~($getPropertyInt(sender.element, 'offsetHeight') / 2);
  $clinit_TigItemCore();
  lastclickedTig = this.this$11.this$01.thisframe;
  ($clinit_JAMcore() , GameLogger).info_0(' processing from image click ');
  processInstructions_0(this.val$mouseoutActions3, 'TIG:' + this.this$11.this$01.CoreName + ',' + $getBaseFileName(this.val$newItem2), null);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$4$2_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/4/2', 1305, Ljava_lang_Object_2_classLit);
function toggleImageGroupPopUp$4$3(this$1, val$newItem, val$Actions, val$isActions){
  this.this$11 = this$1;
  this.val$newItem2 = val$newItem;
  this.val$Actions3 = val$Actions;
  this.val$isActions4 = val$isActions;
}

defineClass(1306, 1, $intern_17, toggleImageGroupPopUp$4$3);
_.onClick = function onClick_29(event_0){
  var justActions, sender;
  if (this.this$11.this$01.disabled_0) {
    return;
  }
  $info_1(($clinit_toggleImageGroupPopUp() , Log_89), 'item clickedon');
  sender = this.val$newItem2;
  $info_1(Log_89, 'item clicked on..');
  if ($indexOf_2(this.val$Actions3, sender.uniqueName) > 0 && this.val$isActions4) {
    $info_1(Log_89, 'actions detected:' + sender.uniqueName + ' : ' + this.val$isActions4);
  }
   else {
    $info_1(Log_89, 'no actions');
    ($clinit_JAMcore() , GameLogger).info_0(this.val$isActions4 + 'no actions:' + this.val$Actions3);
    $info_1(Log_89, 'running default actions');
    $equals_5($trim(this.val$Actions3), 'none') || !!sender.iconIfAny && $nextFrameLoop(sender.iconIfAny.animation);
  }
  $info_1(Log_89, 'run actions');
  if (!$equals_5($trim(this.val$Actions3), 'none') && this.val$Actions3.length > 4) {
    justActions = this.val$Actions3;
    $clinit_JAM();
    lastclicked_x_1 = $getWidgetLeft(this.this$11.this$01.imagegroupframe, sender) + ~~($getPropertyInt(($clinit_DOM() , sender.element), 'offsetWidth') / 2);
    lastclicked_y_1 = $getWidgetTop(this.this$11.this$01.imagegroupframe, sender) + ~~($getPropertyInt(sender.element, 'offsetHeight') / 2);
    lastclickedTig = this.this$11.this$01.thisframe;
    ($clinit_JAMcore() , GameLogger).info_0(' processing from image click ');
    processInstructions_0(justActions, 'TIG:' + this.this$11.this$01.CoreName + ',' + $getBaseFileName(this.val$newItem2), null);
  }
}
;
_.val$isActions4 = false;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$4$3_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/4/3', 1306, Ljava_lang_Object_2_classLit);
function toggleImageGroupPopUp$5(this$0){
  this.this$01 = this$0;
}

defineClass(1307, 1, {}, toggleImageGroupPopUp$5);
_.onError_1 = function onError_14(request, exception){
  $info_1(($clinit_toggleImageGroupPopUp() , Log_89), 'error in user logged in test');
  this.this$01.solutionpresent = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  $removeFromParent(this.this$01.submitans);
}
;
_.onResponseReceived = function onResponseReceived_8(request, response){
  this.this$01.solution_script = response.xmlHttpRequest.responseText;
  $info_1(($clinit_toggleImageGroupPopUp() , Log_89), 'solutions found' + this.this$01.solution_script);
  this.this$01.solution_script = parseForLanguageSpecificExtension(this.this$01.solution_script);
  if ($startsWith(this.this$01.solution_script.toLowerCase(), 'none')) {
    this.this$01.solutionpresent = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
    $removeFromParent(this.this$01.submitans);
  }
   else {
    $addDomHandler(this.this$01.submitans, new toggleImageGroupPopUp$5$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
    if (this.this$01.solution_script.indexOf('- TIGMessage') > -1) {
      this.this$01.messageboxpresent = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
      $setVisible(this.this$01.TiGFeedback, true);
    }
  }
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$5_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/5', 1307, Ljava_lang_Object_2_classLit);
function toggleImageGroupPopUp$5$1(this$1){
  this.this$11 = this$1;
}

defineClass(1308, 1, $intern_17, toggleImageGroupPopUp$5$1);
_.onClick = function onClick_30(event_0){
  $testCombination(this.this$11.this$01);
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$5$1_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/5/1', 1308, Ljava_lang_Object_2_classLit);
function $addClickHandler_0(this$static, clickHandler){
  if (this$static.iconIfAny) {
    return $addClickHandler(this$static.iconIfAny, clickHandler);
  }
  if (this$static.labelIfAny) {
    return $addDomHandler(this$static.labelIfAny, clickHandler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  }
  return null;
}

function $addMouseOutHandler_0(this$static, mouseOutHandler){
  if (this$static.iconIfAny) {
    return $addMouseOutHandler(this$static.iconIfAny, mouseOutHandler);
  }
  if (this$static.labelIfAny) {
    return $addDomHandler(this$static.labelIfAny, mouseOutHandler, ($clinit_MouseOutEvent() , $clinit_MouseOutEvent() , TYPE_12));
  }
  return null;
}

function $addMouseOverHandler_0(this$static, mouseOverHandler){
  if (this$static.iconIfAny) {
    return $addMouseOverHandler(this$static.iconIfAny, mouseOverHandler);
  }
  if (this$static.labelIfAny) {
    return $addDomHandler(this$static.labelIfAny, mouseOverHandler, ($clinit_MouseOverEvent() , $clinit_MouseOverEvent() , TYPE_13));
  }
  return null;
}

function $getBaseFileName(this$static){
  if (this$static.iconIfAny) {
    return this$static.iconIfAny.basefilename;
  }
  if (this$static.labelIfAny) {
    return $replace_0($getTextOrHtml(this$static.labelIfAny.directionalTextHelper, false), ' ', '_');
  }
  return 'BAD TYPE ERROR IN TIG ITEM';
}

function $getState(this$static){
  var identifier, state;
  if (!!this$static.labelIfAny && (this$static.uniqueName == null || !this$static.uniqueName.length)) {
    return '';
  }
  identifier = '[' + $indexOf_0(this$static.this$01.TIGitems, this$static, 0) + ']';
  this$static.uniqueName != null && !!this$static.uniqueName.length && (identifier = this$static.uniqueName);
  if (this$static.iconIfAny) {
    state = $serialiseAnimationState(this$static.iconIfAny.animation);
    if (!state.length) {
      return '';
    }
    return identifier + '=' + state;
  }
  if (this$static.labelIfAny) {
    return identifier + '=' + $getTextOrHtml(this$static.labelIfAny.directionalTextHelper, true);
  }
  return null;
}

function $getUrl_1(this$static){
  if (this$static.iconIfAny) {
    return $getUrl(this$static.iconIfAny);
  }
  return null;
}

function toggleImageGroupPopUp$TigItem(this$0, contents){
  this.this$01 = this$0;
  this.labelIfAny = contents;
  this.focusWrapper = new FocusPanel_0(contents);
  $initWidget(this, this.focusWrapper);
  setStylePrimaryName(($clinit_DOM() , this.element), 'unselectable');
}

function toggleImageGroupPopUp$TigItem_0(this$0, contents){
  this.this$01 = this$0;
  this.iconIfAny = contents;
  $initWidget(this, contents);
  setStylePrimaryName(($clinit_DOM() , this.element), 'unselectable');
}

defineClass(205, $intern_42, {20:1, 16:1, 19:1, 17:1, 158:1, 13:1, 15:1, 7:1, 205:1}, toggleImageGroupPopUp$TigItem, toggleImageGroupPopUp$TigItem_0);
_.focusWrapper = null;
_.iconIfAny = null;
_.labelIfAny = null;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_toggleImageGroupPopUp$TigItem_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'toggleImageGroupPopUp/TigItem', 205, Lcom_google_gwt_user_client_ui_Composite_2_classLit);
function youtubePopUp(URL_0){
  var frame_0;
  SimplePanel.call(this);
  this.HTMLString = '<object width="SIZE_X" height="SIZE_Y"><param name="movie" value="YOUTUBEURL&hl=en&fs=1&color1=0x234900&color2=0x4e9e00"><\/param><param name="allowFullScreen" value="false"><\/param><param name="allowscriptaccess" value="always"><\/param><embed src="YOUTUBEURL&hl=en&fs=1&color1=0x234900&color2=0x4e9e00" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="SIZE_X" height="SIZE_Y"><\/embed><\/object>';
  URL_0 = $replaceAll(URL_0, 'watch\\?v\\=', 'v/');
  this.HTMLString = $replaceAll(this.HTMLString, 'YOUTUBEURL', URL_0);
  this.HTMLString = $replaceAll(this.HTMLString, 'SIZE_X', '425');
  this.HTMLString = $replaceAll(this.HTMLString, 'SIZE_Y', '357');
  ($clinit_JAMcore() , GameLogger).info_0(this.HTMLString);
  frame_0 = new HTML_1(this.HTMLString);
  ($clinit_DOM() , frame_0.element).style['width'] = '100%';
  frame_0.element.style['height'] = '100%';
  $add_2(this, frame_0);
  this.element.style['width'] = '427px';
  this.element.style['height'] = '357px';
}

defineClass(1297, 29, $intern_129, youtubePopUp);
_.CloseDefault = function CloseDefault_20(){
}
;
_.DRAGABLE = function DRAGABLE_17(){
  return true;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_10(){
  return false;
}
;
_.OpenDefault = function OpenDefault_17(){
  $add_8(($clinit_RootPanel() , get_14(null)), ($clinit_JAM() , fadeback), 0, 0);
  setStyleAttribute($getElement(fadeback), 'zIndex', '' + (($clinit_JAMcore() , z_depth_max) + 1));
  setStyleAttribute($getElement(fadeback), 'z-index', '' + (z_depth_max + 1));
  z_depth_max = z_depth_max + 1;
}
;
_.POPUPTYPE = function POPUPTYPE_17(){
  return 'MOVIE';
}
;
_.getSourceURL = function getSourceURL_10(){
  return null;
}
;
_.getState = function getState_10(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_19(){
  return this;
}
;
_.loadState_0 = function loadState_11(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_10(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY_10(){
  return null;
}
;
var Lcom_lostagain_JamGwt_InventoryObjectTypes_youtubePopUp_2_classLit = createForClass('com.lostagain.JamGwt.InventoryObjectTypes', 'youtubePopUp', 1297, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function $clinit_JAM(){
  $clinit_JAM = emptyMethod;
  GwtLog = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM'));
  homeurl_0 = getHostPageBaseURL();
  setBasicGameInformationImplemention(new BasicGameInformationImp);
  SAVEMANAGER = new SaveGameManager;
  setAllRequiredImplementations(new GwtVisualHandlerImp, new GwtScreenMangementImp, new BasicGameFunctionsImp_0, ($clinit_GwtFileManagerImp() , SAVEMANAGER), ($clinit_GWTSceneObjectFactory() , new GwtChapterControl));
  $wnd.location.href;
  tinything = new clickVisualiser;
  $clinit_JamImages_default_StaticClientBundleGenerator();
  MainStoryText = new HTML;
  widgets_to_add_ids = new ArrayList;
  new AssArray;
  Feedback = new TypedLabel;
  FeedbackContainer = new VerticalPanel;
  ChapterList_0 = new VerticalTabs;
  dynamicPages = new AssArray;
  fadeback = new fader;
  new SpiffyImage;
  StatueFeat = new GWTAnimatedIcon_1(($clinit_JamImages() , LadyFeatBig));
  StatueHead = new GWTAnimatedIcon_1(LadyClockBig);
  solider = new GWTAnimatedIcon_1(SoldierBig);
  BuyOpenButton = BigBuyOpenButton;
  BuyCloseButton = BigBuyCloseButton;
  $createImage(BuyCloseButton);
  BuyBack = $createImage(BuyOpenButton);
  OpenClueBoxButton = BigOpenClueBox;
  OpenClueBox = $createImage(OpenClueBoxButton);
  CloseClueBoxButton = BigOpenClueBox;
  spacer = new Image_4('./GameIcons/BIG/TitleStrip.jpg');
  TopStripBigGap = new Image_4('./GameIcons/BIG/TitleStrip.jpg');
  Cuyperstitle = new GWTAnimatedIcon_1(BigCuypers2LogoImages);
  gwt_clock = new SpiffyClock;
  BigInventoryImages = BigDefaultInventoryImages;
  MediumInventoryImages = MediumDefaultInventoryImages;
  SmallInventoryImages = SmallDefaultInventoryImages;
  DefaultInventorysButton = new GWTAnimatedIcon_1(BigDefaultInventoryImages);
  ControllPanelButton = new GWTAnimatedIcon_1(BigControllPanelImages);
  ForumLinkButton = new GWTAnimatedIcon_1(BigForumImages);
  MessageHistoryButton = new GWTAnimatedIcon_1(LogBoekImages);
  MessageBackButton = new GWTAnimatedIcon_1(MessPrevImages);
  MessageForwardButton = new GWTAnimatedIcon_1(MessNextImages);
  SecretsPopupPanelButton = new GWTAnimatedIcon_1(BigSecretsImages);
  closeallwindows = new GWTAnimatedIcon_1(CloseAll);
  ControlPanel = new ControllPanel;
  ControllPanelShadows = new TitledPopUpWithShadow_1(null, ($clinit_GamesInterfaceTextCore() , MainGame_SaveOrLoadYourGame), ControlPanel);
  heldItemBox = new HeldItemBox;
  SecretPanel = new secretsPanel;
  SecretPanelFrame = new TitledPopUpWithShadow_1(null, MainGame_Secrets_Found, SecretPanel);
  CluePopUp = new CluePanel;
  CluePanelFrame = new TitledPopUpWithShadow_0('25%', 'Clue Panel', CluePopUp, false);
  messagehistory_0 = new FeedbackHistoryVisualiser;
  AnsBar = new HorizontalPanel;
  overlayPopUpsOpen = new ArrayList;
  textfetcher_url_0 = homeurl_0 + 'text%20fetcher.php';
  emailer_url = homeurl_0 + 'Login_System/Emailer.php';
  audioLocation_url = homeurl_0 + 'audio/';
  notebookpages_url = homeurl_0 + 'NotebookPages/';
  musicPlayer = new GWTMusicBox;
  EffectOverlay = new SimpleEffectOverlay;
  GamesText = new GamesInterfaceText;
  ScoreAndClueBox = new VerticalPanel;
  ClueReveal = new DisclosurePanel_1('Clues:');
  ScoreAndJokerContainer = new HorizontalPanel;
  new Image_1(($clinit_JamImages_default_StaticClientBundleGenerator$questionmarkInitializer() , questionmark));
  PageCommandStore = new AssArray;
  $clinit_SpiffyCalculator();
  clockpopup = new Image_1(($clinit_JamImages_default_StaticClientBundleGenerator$stopthatInitializer() , stopthat));
  TitleBarLeft = new HorizontalPanel;
  TitleBarRight = new HorizontalPanel;
}

function $actionsToRunWhenNoLoginIsPresent(response){
  $clinit_JAMcore();
  Organisation = $substring_0(response, response.indexOf('organisation:') + 13, $indexOf_3(response, '~', response.indexOf('organisation:') + 13));
  $clinit_DOM();
  !!$doc.getElementById('loadingdiv') && ($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent() && $fadeOutHTMLElement((dynamicCast(($clinit_OptionalImplementations() , PageStyleCommandImplemention).get_1(), 157) , 'loadingdiv'), 1670);
  setTitle(($clinit_GamesInterfaceTextCore() , MainGame_Welcome_Back) + ' (nologin system found');
  GameLogger.info_0('Current Game Client=' + Client);
  GameLogger.info_0('Server Response text=' + response);
  loggedIn = false;
  start_game_script_when_ready();
}

function $advanceGameLoadingBar(){
  var loadingElement;
  $info_1(GwtLog, 'advanceLoadingDiv');
  loadingElement = ($clinit_DOM() , $clinit_DOM() , $doc.getElementById('loadingdiv'));
  if (loadingElement) {
    currentLoadingText = currentLoadingText + '.';
    $setInnerText(loadingElement, currentLoadingText);
  }
  $info_1(GwtLog, 'advanceLoadingDiv:' + currentLoadingText);
}

function $onModuleLoad_1(this$static){
  var AnsBox, FeedbackScroller, FeedbackToBottom, MHBStyle, MHBStyle2, MHBStyle3, MpSizeX, MpSizeY, MpX, MpY, decoded, e1, enteransgwt, musicControlWidth, onResponse, onError;
  $info_1(GwtLog, 'game loading...');
  if ($equalsIgnoreCase(($clinit_JAMcore() , DebugSetting_0), 'true')) {
    DebugMode = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
    setLoggingEnable_0(true);
  }
  if ($equalsIgnoreCase(DebugSetting_0, 'trueNoLog')) {
    DebugMode = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
    setLoggingEnable_0(false);
  }
  if ($equalsIgnoreCase(DebugSetting_0, 'false')) {
    DebugMode = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
    setLoggingEnable_0(false);
  }
  if ($equalsIgnoreCase(DebugSetting_0, 'falseWithLogs')) {
    DebugMode = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
    setLoggingEnable_0(true);
  }
  DebugMode.value_0 || (GameLogger = new SpiffyLogBox$SpiffyDummyLogBox);
  $clinit_OptionalImplementations();
  gamesLoadMonitor = new Present(checkNotNull(this$static));
  gamesLoadMonitor.isPresent() && $advanceGameLoadingBar(dynamicCast(gamesLoadMonitor.get_1(), 177));
  $clinit_GWTJAMTimerController();
  frameUpdateCode = new GWTJAMTimerController$AnimationFrameUpdateCallback;
  $clinit_InventoryPanelCore();
  defaultInventory = new InventoryPanel('Inventory Items', ($clinit_IsInventoryIcon$IconMode() , Image_5));
  allInventorys.put('Inventory Items', defaultInventory);
  PlayersInventoryFrame = new TitledPopUpWithShadow_1(null, ($clinit_GamesInterfaceTextCore() , MainGame_Inventory), defaultInventory);
  allInventoryFrames.put('Inventory Items', PlayersInventoryFrame);
  CurrentScenesAndPages = new GWTSceneAndPageSet;
  PlayersScore = new SpiffyScoreBoard;
  AnsBox = new GwtAnswerBox;
  AnswerBox = new Present(checkNotNull(AnsBox));
  enteransgwt = new GWTAnswerButton(MainGame_Submit);
  EnterAns = new Present(checkNotNull(enteransgwt));
  playersClues = new GwtClueBox;
  PlayersNotepad_0 = new GwtNotebook;
  PlayersNotepad = PlayersNotepad_0;
  PlayersNotepadFrame = new TitledPopUpWithShadow_1(null, MainGame_Charecter_Profiles, PlayersNotepad_0);
  SetImagePreloadFunctions(new GWTImagePreloader);
  SetAudioControllerFunctions(new GwtAudioController);
  setPageStyleCommandImplemention(new GwtPageElementStyleCommands);
  SetCuypersCodeSpecificFunctions(new GwtCuypersCodeSpecificFunctions);
  setJamGlobalGameEffectsFunctions(new GwtGlobalGameEffects);
  SetWebGameFunctionality(new JAM$2);
  SetMouseVisualImplementation(new GwtMouseCursorManagement);
  SetCompressionSystemFunctions(SAVEMANAGER);
  $setPreferredSoundTypes(($clinit_GwtAudioController() , soundController), initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [($clinit_SoundType() , HTML5), WEB_AUDIO, FLASH]));
  saveGamePopup = new SaveGameManager;
  loadGamePopup = new LoadSaveGamePopup;
  prefetch('GameTextures/loginbox_back.jpg');
  mouseCursorImplementation.isPresent() && (dynamicCast(mouseCursorImplementation.get_1(), 207) , setMouseImage_0(($clinit_SpiffyImageUtilitys() , smallArrowDataURL)));
  BigInventoryImages = ($clinit_JamImages() , BigDefaultInventoryImages);
  MediumInventoryImages = MediumDefaultInventoryImages;
  SmallInventoryImages = SmallDefaultInventoryImages;
  Client = ($clinit_SpiffyFunctionsGWT() , navigator.userAgent.toLowerCase());
  loadGamesText();
  $clinit_GameTextDatabase();
  onResponse = new GameTextDatabase$1;
  onError = new GameTextDatabase$2;
  $clinit_RequiredImplementations();
  GetTextFile('GameText.csv', onResponse, onError, false, true);
  $setText_0(MainStoryText, MainGame_Loading);
  setTitle(MainGame_WindowTitle_Loading);
  Story_Text_Height = $getOffsetHeight(get_14('bigtextbox')) - 2;
  Story_Text_Width = $getOffsetWidth(get_14('bigtextbox')) - 2;
  Game_Window_Width = (BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage width- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientWidth($doc));
  Game_Window_Height = (BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage height- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientHeight($doc));
  $setStyleName(DefaultInventorysButton, 'IconPositionsInventory');
  $setStyleName(PlayersNotepad_0.NotepadButton, 'IconPositionsNotebook');
  $setStyleName(ControllPanelButton, 'IconPositionsControllPanel');
  $test_for_logged_in_user();
  $setEnabled_1(dynamicCast(AnswerBox.get_1(), 74), false);
  if (($clinit_History() , $clinit_History() , token).length > 2) {
    decoded = $split_0($wnd.location.href, '#', 2)[1];
    decoded = (throwIfNull('encodedURLComponent', decoded) , decodeQueryStringImpl(decoded));
    $info_1(GwtLog, 'decoding History token:' + decoded);
    if ($equals_5(decoded.substr(0, 12), 'LoadGameData')) {
      $info_1(GwtLog, 'Starting game with existing save data, therefor bypassing game start commands');
      StartFromURL = decoded;
    }
  }
  $info_1(GwtLog, 'loading the main game control');
  startGameFromControllFile();
  gamesLoadMonitor.isPresent() && $advanceGameLoadingBar(dynamicCast(gamesLoadMonitor.get_1(), 177));
  $info_1(GwtLog, 'continueing to set up game...');
  $addValueChangeHandler(historyEventSource, this$static);
  if ((null , token).length > 2 & StartFromURL.length < 2) {
    decoded = decodeQueryString((null , token));
    updateGameState(decoded);
  }
  newItem('', false);
  $info_1(GwtLog, 'continueing to set up game.......');
  $setEnabled_1(dynamicCast(AnswerBox.get_1(), 74), true);
  $setSize(ChapterList_0, '100%', '100%');
  $setStyleName_0(ChapterList_0, 'standard_message_back', true);
  $setStyleName(Feedback, 'FeedbackText');
  $setId(($clinit_DOM() , Feedback.element), 'feedbacktext');
  $setupMoreStyleing(GamesChaptersPanel);
  addResizeHandler(new JAM$3);
  this$static.ResizeOnLoad = new JAM$4;
  $schedule(this$static.ResizeOnLoad, $intern_10);
  $removeHandler(CurrentScenesAndPages.selectionHandeler.real);
  currentOpenPages.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  locationpuzzlesActive.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  $setVisible(GamesChaptersPanel.GamesChaptersPanel.tabBar, false);
  $setWidth(CurrentScenesAndPages.visualContents, '100%');
  $setHeight(CurrentScenesAndPages.visualContents, 'auto');
  $setSize(MainStoryText, '100%', '100%');
  $setInventorysButton(defaultInventory, DefaultInventorysButton);
  $addClickHandler(DefaultInventorysButton, new JAM$5);
  $addMouseOverHandler(DefaultInventorysButton, new JAM$6);
  $addMouseOutHandler(DefaultInventorysButton, new JAM$7);
  addNativePreviewHandler(this$static);
  $addClickHandler(ForumLinkButton, new JAM$8);
  $addMouseOverHandler(ForumLinkButton, new JAM$9);
  $addMouseOutHandler(ForumLinkButton, new JAM$10);
  $addClickHandler(MessageForwardButton, new JAM$11);
  $addMouseOverHandler(MessageForwardButton, new JAM$12);
  $addMouseOutHandler(MessageForwardButton, new JAM$13);
  $addMouseOverHandler(MessageBackButton, new JAM$14);
  $addMouseOutHandler(MessageBackButton, new JAM$15);
  $addClickHandler(MessageBackButton, new JAM$16);
  $addClickHandler(MessageHistoryButton, new JAM$17);
  $addClickHandler(ControllPanelButton, new JAM$18);
  $addMouseDownHandler(ControllPanelButton, new JAM$19);
  $addMouseOverHandler(ControllPanelButton, new JAM$20);
  $addMouseOutHandler(ControllPanelButton, new JAM$21);
  $setVisible(SecretsPopupPanelButton, false);
  $addClickHandler(SecretsPopupPanelButton, new JAM$22);
  $addMouseDownHandler(SecretsPopupPanelButton, new JAM$23);
  $addMouseOutHandler(SecretsPopupPanelButton, new JAM$24);
  $addMouseOverHandler(SecretsPopupPanelButton, new JAM$25);
  $addClickHandler(closeallwindows, new JAM$26);
  $add_4(ScoreAndJokerContainer, asWidgetOrNull(PlayersScore));
  $setCellVerticalAlignment_1(ScoreAndJokerContainer, PlayersScore, ($clinit_HasVerticalAlignment() , ALIGN_MIDDLE));
  $setSize(ScoreAndJokerContainer, '100px', '28px');
  $setHeight(ScoreAndClueBox, '40px');
  $add_5(ScoreAndClueBox, ScoreAndJokerContainer);
  $setHeight(ClueReveal, '20px');
  ClueReveal.isAnimationEnabled = true;
  $setHeader(ClueReveal, new Label_1(''));
  $setContent(ClueReveal, playersClues.visualContents);
  ClueReveal.header.widget.element.style['color'] = 'white';
  $add_8(($clinit_RootPanel() , get_14(null)), closeallwindows, (BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage width- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientWidth($doc) - 55), 0);
  closeallwindows.element.style['zIndex'] = '1805';
  $setId(closeallwindows.element, 'closeallwindowsbox');
  try {
    $add_7(get_14('Statuefeet'), StatueFeat);
    $add_7(get_14('clocklady'), StatueHead);
    $add_8(get_14('clocklady'), gwt_clock, 35, 40);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      e1 = $e0;
      $printStackTrace(e1, ($clinit_System() , err));
    }
     else 
      throw unwrap($e0);
  }
  $setTitle(StatueFeat, 'the game is a');
  add_21(gwt_clock, new JAM$27);
  $doc.getElementById('titlecontainer')?(ScoreBoxVisible = true):(ScoreBoxVisible = false);
  TitleBarLeft.element.style['backgroundImage'] = 'url(../GameIcons/BIG/TitleStrip.jpg)';
  $setWidth(TitleBarLeft, '100%');
  $setHeight(TitleBarLeft, '55px');
  $setStylePrimaryName(TitleBarLeft, 'TitleBarLeft');
  $setHorizontalAlignment(TitleBarLeft, ($clinit_HasHorizontalAlignment() , ALIGN_LEFT));
  $setHeight(LeftBit, '55px');
  $add_4(TitleBarLeft, LeftBit);
  $setCellWidth(TitleBarLeft, LeftBit, '25px');
  $setHeight(OpenClueBox, '55px');
  $add_4(TitleBarLeft, OpenClueBox);
  $setCellWidth(TitleBarLeft, OpenClueBox, '24px');
  $addHandler(OpenClueBox, new JAM$28, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $add_4(TitleBarLeft, ScoreBack);
  $setWidth(ScoreBack, '170px');
  $setHeight(ScoreBack, '55px');
  $setCellWidth(TitleBarLeft, ScoreBack, '170px');
  TitleBarLeft.element.style['backgroundImage'] = 'url(./GameIcons/BIG/TitleStrip.jpg)';
  $setHeight(BuyBack, '55px');
  $add_4(TitleBarLeft, BuyBack);
  $addHandler(BuyBack, new JAM$29, (null , TYPE_1));
  $setCellWidth(TitleBarLeft, BuyBack, '26px');
  $setUrl_0(spacer, ($clinit_UriUtils() , new SafeUriString('./GameIcons/BIG/TitleStrip.jpg')));
  $setWidth(spacer, '100%');
  $setHeight(spacer, '55px');
  $add_4(TitleBarLeft, spacer);
  try {
    $add_7(get_14('ScoreBox'), TitleBarRight);
  }
   catch ($e1) {
    $e1 = wrap($e1);
    if (instanceOf($e1, 37)) {
      $info_1(GwtLog, 'no scorebox set');
    }
     else 
      throw unwrap($e1);
  }
  $setWidth(TitleBarRight, '100%');
  $setHeight(TitleBarRight, '56px');
  if (ScoreBoxVisible) {
    $add_8(get_14(null), ScoreAndClueBox, $getAbsoluteLeft_0($getElement(ScoreBack)), $getAbsoluteTop_0($getElement(ScoreBack)) + ~~($getHeight(ScoreBack) / 2) - 15);
    setStyleAttribute(ScoreAndClueBox.element, 'zIndex', '110');
  }
  $setUrl_0(TopStripBigGap, new SafeUriString('./GameIcons/BIG/TitleStrip.jpg'));
  $setWidth(TopStripBigGap, '100%');
  $setHeight(TopStripBigGap, '55px');
  $add_4(TitleBarRight, TopStripBigGap);
  $setHorizontalAlignment(TitleBarRight, ALIGN_RIGHT);
  $addClickHandler(Cuyperstitle, new JAM$30);
  $setWidth(Cuyperstitle, '177px');
  $setHeight(Cuyperstitle, '55px');
  $add_4(TitleBarRight, Cuyperstitle);
  $setCellWidth(TitleBarRight, Cuyperstitle, '1px');
  PositionByTag_0(DefaultInventorysButton, 'Inventory');
  $setWidth(DefaultInventorysButton, '100%');
  PositionByTag_0(heldItemBox, 'itempicked');
  $info_1(GwtLog, 'adding other interface elments');
  PositionByTag_0(solider, 'soldier');
  $setStyleName(solider, 'solider');
  solider.element.style['zIndex'] = '0';
  PositionByTag_0(PlayersNotepad_0.NotepadButton, 'Notepad');
  $setWidth(PlayersNotepad_0.NotepadButton, '100%');
  PositionByTag_0(ControllPanelButton, 'ControllPanel');
  $setWidth(ControllPanelButton, '100%');
  PositionByTag_0(ChapterList_0, 'chapterlist');
  try {
    PositionByTag_0(musicPlayer, 'musicControll');
    $setSize_4(musicPlayer, '90%');
    MpSizeX = (((null , $doc.getElementById('musicControll')).offsetWidth || 0) | 0) - 60;
    MpSizeY = $getOffsetHeight(musicPlayer.CurrentMusicTrackLabel);
    MpX = $getAbsoluteLeft_0((null , $doc.getElementById('musicControll'))) + 20;
    MpY = $getAbsoluteTop_0((null , $doc.getElementById('musicControll'))) + (((null , $doc.getElementById('musicControll')).offsetHeight || 0) | 0);
    $setPixelSize(musicPlayer.CurrentMusicTrackLabel, MpSizeX, MpSizeY);
    $setWidth(musicPlayer.CurrentMusicTrackLabel.ListContainer, MpSizeX + 'px');
    musicPlayer.CurrentMusicTrackLabel.element.style['zIndex'] = '500';
    musicControlWidth = ((null , $doc.getElementById('musicControll')).offsetWidth || 0) | 0;
    PositionByCoOrdinates(musicPlayer.CurrentMusicTrackLabel, MpX, MpY - 23);
    $setSize_4(musicPlayer, musicControlWidth + 'px');
    PositionByTag_0(SecretsPopupPanelButton, 'Secretlink');
    PositionByTag_0(ForumLinkButton, 'ForumLink');
  }
   catch ($e2) {
    $e2 = wrap($e2);
    if (instanceOf($e2, 37)) {
      $info_1(GwtLog, 'elements missing from page, so not added');
    }
     else 
      throw unwrap($e2);
  }
  PositionByTag_0(GamesChaptersPanel.GamesChaptersPanel, 'bigtextbox');
  ClueReveal.element.style['zIndex'] = '1000';
  $setSize_2(playersClues, (((null , $doc.getElementById('bigtextbox')).offsetWidth || 0) | 0) - 14 + 'px', (((null , $doc.getElementById('bigtextbox')).offsetHeight || 0) | 0) - 21 + 'px');
  $setWidth(FeedbackContainer, '100%');
  $setStylePrimaryName(FeedbackContainer, 'Feedback');
  $setId(FeedbackContainer.element, 'feedbackinner');
  FeedbackScroller = new ScrollPanel;
  $add_5(FeedbackContainer, FeedbackScroller);
  $setId(FeedbackScroller.element, 'feedbackscroller');
  $setClassName(FeedbackScroller.element, 'FeedbackScrollerStyle');
  FeedbackScroller.element.style['paddingTop'] = ($clinit_Style$Unit() , '3.0px');
  FeedbackToBottom = new VerticalPanel;
  FeedbackToBottom.element.style['width'] = '100%';
  FeedbackToBottom.element.style['height'] = '100%';
  $add_5(FeedbackToBottom, Feedback);
  $setCellVerticalAlignment_2(FeedbackToBottom, Feedback, ALIGN_BOTTOM);
  $add_2(FeedbackScroller, FeedbackToBottom);
  $setCellVerticalAlignment_2(FeedbackContainer, Feedback, ALIGN_BOTTOM);
  $info_1(GwtLog, 'adding feedback container');
  $add_7(get_14('feedback'), FeedbackContainer);
  $setSize_0(MessageForwardButton, '19px', '19px');
  $addClassName(MessageForwardButton.element, 'logarrowforward');
  $setId(MessageForwardButton.element, 'logarrowforward');
  MHBStyle2 = MessageForwardButton.element.style;
  $setPropertyImpl(MHBStyle2, 'zIndex', '250');
  $setSize_0(MessageBackButton, '19px', '19px');
  $addClassName(MessageBackButton.element, 'logarrowback');
  $setId(MessageBackButton.element, 'logarrowback');
  MHBStyle3 = MessageBackButton.element.style;
  $setPropertyImpl(MHBStyle3, 'zIndex', '250');
  $setSize_0(MessageHistoryButton, '16px', '16px');
  $addClassName(MessageHistoryButton.element, 'logarrowhistory');
  $setId(MessageHistoryButton.element, 'logarrowhistory');
  MHBStyle = MessageHistoryButton.element.style;
  $setPropertyImpl(MHBStyle, 'zIndex', '250');
  $info_1(GwtLog, 'adding MessageHistoryButton at ' + $getAbsoluteTop_0((null , $doc.getElementById('feedback'))));
  positionHistoryButtons();
  $setVerticalAlignment(AnsBar, ALIGN_MIDDLE);
  $setHeight(AnsBar, '100%');
  $add_4(AnsBar, dynamicCast(AnswerBox.get_1(), 74).getVisualRepresentation());
  $add_4(AnsBar, dynamicCast(EnterAns.get_1(), 274).getVisualRepresentation());
  PositionByTag_0(AnsBar, 'ansbar');
  PositionByTag_0(TitleBarLeft, 'titlecontainer');
  $add_8(get_14(null), ClueReveal, $getAbsoluteLeft_0($getElement(ScoreBack)), $getAbsoluteTop_0($getElement(ScoreBack)) + $getOffsetHeight(ScoreBack) - 5);
  $setSize(GamesChaptersPanel.GamesChaptersPanel, '100%', '100%');
  $setSize(GamesChaptersPanel.GamesChaptersPanel.deck, '100%', Story_Text_Height + 'px');
  gamesLoadMonitor.isPresent() && $advanceGameLoadingBar(dynamicCast(gamesLoadMonitor.get_1(), 177));
}

function $setGameLoadStatus(url_0){
  currentLoadingText = url_0;
}

function $test_for_logged_in_user(){
  var onError, onResponse;
  if (!($clinit_JAMcore() , HasServerSave_0).value_0 && !RequiredLogin_0.value_0) {
    $info_1(GwtLog, 'No login system present');
    $actionsToRunWhenNoLoginIsPresent('No login system found here and html said not to look. organisation:internal~');
    preloadData();
    return;
  }
  ($clinit_OptionalImplementations() , gamesLoadMonitor).isPresent() && $setGameLoadStatus((dynamicCast(gamesLoadMonitor.get_1(), 177) , 'testing for logged in user'));
  onResponse = new JAM$35;
  onError = new JAM$36;
  $clinit_RequiredImplementations();
  $getText_1(homeurl_0 + 'Login_System/TestIfUserIsLoggedIn.php', onResponse, onError, false);
}

function JAM(){
  $clinit_JAM();
  new Label_1('Locations;');
}

function RemoveCartReturns(input_string){
  $clinit_JAM();
  input_string = $replaceAll(input_string, '\n', ' ');
  input_string = $replaceAll(input_string, '\r', ' ');
  input_string = $replaceAll(input_string, '\r\n', ' ');
  return input_string;
}

function SwapUserSpecificWords(){
  $clinit_JAM();
  if ($clinit_JAMcore() , loggedIn) {
    controllscript = $replaceAll(controllscript, '<USERNAME>', Username);
    controllscript = $replaceAll(controllscript, '<ORGANISATION>', Organisation);
  }
}

function closeAllWindows(){
  $clinit_JAM();
  var closei, closethis, size_0;
  $setPlayBack(closeallwindows.animation);
  size_0 = overlayPopUpsOpen.array.length;
  closei = size_0 - 1;
  while (closei > -1) {
    ($clinit_JAMcore() , GameLogger).info_0('closing ');
    closethis = dynamicCast($get(overlayPopUpsOpen, closei), 65);
    GameLogger.info_0('-' + closethis.widget.___clazz$ + '-');
    closethis.CloseDefault();
    --closei;
  }
  $setOpen(ClueReveal, false);
  $applyTo(OpenClueBoxButton, OpenClueBox);
  $remove_6(($clinit_RootPanel() , get_14(null)), fadeback);
}

function createAndAddNewPage(NewMessageURL, addToThisSet, responseString){
  $clinit_JAM();
  var StoryScroller, StoryText, Tab, nothingElseToDo, randomstyle, tabText;
  StoryText = new HTML_1(($clinit_JAMcore() , SwapCustomWords(responseString, true) + ''));
  StoryScroller = new SimplePanel;
  setStyleAttribute(($clinit_DOM() , StoryScroller.element), 'position', 'relative');
  StoryScroller.add_2(StoryText);
  $info_1(GwtLog, 'setting StoryText styles');
  StoryText.element.style['padding'] = ($clinit_Style$Unit() , '0.0px');
  StoryText.element.style['margin'] = '0.0px';
  ($clinit_System() , out_0).println(StoryText);
  randomstyle = 'backgroundtexture' + round_int(random() * 3 + 1);
  setStyleName(StoryText.element, 'maintextsettings', true);
  if (Client.toLowerCase().indexOf('firefox') != -1 || Client.toLowerCase().indexOf('chrome') != -1) {
    setStyleName(StoryScroller.getStyleElement(), randomstyle, true);
  }
   else {
    setStylePrimaryName(StoryText.element, randomstyle);
    GameLogger.info_0('client found=' + Client);
  }
  setStyleName(StoryText.element, 'pngfix', true);
  $info_1(GwtLog, 'setting StoryText size');
  StoryScroller.setWidth('100%');
  StoryScroller.setHeight('auto');
  setStyleAttribute(StoryScroller.element, 'zIndex', '150');
  StoryText.element.style['width'] = '100%';
  StoryText.element.style['height'] = 'auto';
  $info_1(GwtLog, 'setting TempCurrentLocationTabs size');
  $info_1(GwtLog, 'setting TempCurrentLocationTabs size:' + Story_Text_Width);
  $setWidth(addToThisSet.visualContents, Story_Text_Width - 2 + 'px');
  $setWidth(addToThisSet.visualContents, '100%');
  $info_1(GwtLog, 'setTempCurrentLocationTabs size');
  Tab = new Label;
  $setText_0(Tab, $substring_0(NewMessageURL, 0, NewMessageURL.length - 5));
  if (addToThisSet == CurrentScenesAndPages) {
    currentOpenPages.add_0(NewMessageURL);
    $info_1(GwtLog, ' adding location ' + usersCurrentLocation + ' to page ' + NewMessageURL);
    locationpuzzlesActive.add_0(usersCurrentLocation);
    if (AnswerBox.isPresent()) {
      $setEnabled_1(dynamicCast(AnswerBox.get_1(), 74), true);
      $setFocus(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents, true);
      $setText_6(dynamicCast(AnswerBox.get_1(), 74), '');
    }
  }
  $info_1(GwtLog, 'adding story scroller and selecting tab');
  tabText = $substring_0(NewMessageURL, 0, NewMessageURL.length - 5);
  tabText = removeLanguageSpecificExtension(tabText);
  $add_10(addToThisSet.visualContents, StoryScroller, tabText);
  $selectTab_0(addToThisSet.visualContents, $getWidgetIndex_0(addToThisSet.visualContents, StoryScroller));
  $info_1(GwtLog, 'testing page ' + NewMessageURL + ' for items or commands');
  nothingElseToDo = true;
  if (responseString.indexOf('<!-- item="') != -1) {
    $info_1(GwtLog, 'adding divs');
    insertItemDivsIntoText(StoryText, $substring_0(NewMessageURL, 0, NewMessageURL.length - 5));
    nothingElseToDo = false;
  }
  if (responseString.indexOf('<!-- run') != -1) {
    $info_1(GwtLog, 'running commands for page...');
    runPagesCommands(StoryText, NewMessageURL);
    nothingElseToDo = false;
  }
  Client.indexOf('firefox') != -1 && $setSize(StoryText, Story_Text_Width - 30 - 15 + 'px', Story_Text_Height - 350 + 'px');
  --NumberOfHTMLsLeftToLoad;
  if (triggerSelectCheck) {
    $info_1(GwtLog, '/n setting page too :' + pageToSelect + ':');
    selectPageIfLoadedOrSceneStraightAway(pageToSelect);
  }
  if (nothingElseToDo) {
    storyPageLoading = false;
    $info_1(GwtLog, 'removing from loading queue 4');
    ($clinit_PageLoadingData() , PageLoadingQueue).remove_0(0);
    CheckLoadingQueue();
  }
}

function insertItemDivsIntoText(input_text, newMessageURL){
  var bookshelfendloc, bookshelfloc, input_string, itemName, itemnameendloc, newTestTimer, starthere, stringafter, stringbefore;
  $clinit_JAMcore();
  BusyAddingDivs = true;
  input_string = $getTextOrHtml(input_text.directionalTextHelper, true);
  starthere = 0;
  while (input_string.indexOf('<!-- item="', starthere) > 0) {
    bookshelfloc = input_string.indexOf('<!-- item="');
    if (bookshelfloc == -1) {
      return;
    }
    itemnameendloc = input_string.indexOf('"', bookshelfloc + 11);
    bookshelfendloc = input_string.indexOf('-->', bookshelfloc);
    stringbefore = input_string.substr(0, bookshelfloc);
    itemName = input_string.substr(bookshelfloc + 11, itemnameendloc - (bookshelfloc + 11));
    stringafter = __substr(input_string, bookshelfendloc + 3, input_string.length - (bookshelfendloc + 3));
    try {
      if (!$inventoryContainsItem(($clinit_InventoryPanelCore() , defaultInventory), itemName)) {
        $info_1(GwtLog, 'adding item:' + itemName);
        $AddItem_0(defaultInventory, itemName, false, null, null);
      }
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 37)) {
        alert_0('cant add item');
      }
       else 
        throw unwrap($e0);
    }
    input_string = stringbefore + '<div ID="' + newMessageURL + '_item_' + itemName + '"><\/div>' + stringafter;
    widgets_to_add_ids.add_0(newMessageURL + '_item_' + itemName);
    starthere = bookshelfendloc + 2;
  }
  $setTextOrHtml(input_text.directionalTextHelper, input_string, true);
  newTestTimer = new JAM$34(newMessageURL);
  $scheduleRepeating(newTestTimer, 50);
  return;
}

function loadGameData(GameData, resetGameFirst){
  $clinit_JAM();
  $equals_5(GameData.substr(0, 1), ' ') && (GameData = __substr(GameData, 1, GameData.length - 1));
  if (compareTo_5(GameData, 'newuser') == 0 || GameData.length < 4) {
    startNewGame();
  }
   else {
    $clinit_OptionalImplementations();
    if (GameData.length < 4) {
      return;
    }
    if (resetGameFirst) {
      $info_1(GwtLog, 'resetting game data');
      clearAllGameData();
    }
    $info_1(GwtLog, 'loading game data length:' + GameData.length);
    $info_1(GwtLog, 'loading game data:' + GameData);
    $clinit_JAMcore();
    processInstructions_0(GameData, 'Loading', null);
  }
}

function loadGamesText(){
  $clinit_JAM();
  var GameInterfaceTextLocation, onError, onSuccess;
  GameInterfaceTextLocation = homeurl_0 + 'text/messages_' + ($clinit_JAMcore() , LanguageExtension_0) + '.properties';
  onSuccess = new JAM$31;
  onError = new JAM$32;
  $clinit_RequiredImplementations();
  GetTextFile(GameInterfaceTextLocation, onSuccess, onError, false, true);
}

function positionHistoryButtons(){
  $clinit_JAM();
  $add_8(($clinit_RootPanel() , get_14(null)), MessageHistoryButton, $getAbsoluteLeft_0(($clinit_DOM() , $clinit_DOM() , $doc.getElementById('feedback'))) + $getOffsetWidth(FeedbackContainer) - 20, $getAbsoluteTop_0((null , $doc.getElementById('feedback'))));
  $add_8(get_14(null), MessageForwardButton, $getAbsoluteLeft_0($getElement(MessageHistoryButton)) - 20, $getAbsoluteTop_0($getElement(MessageHistoryButton)));
  $add_8(get_14(null), MessageBackButton, $getAbsoluteLeft_0($getElement(MessageHistoryButton)) - 40, $getAbsoluteTop_0($getElement(MessageHistoryButton)));
}

function preloadData(){
  $clinit_JAM();
  var onError, onResponse;
  $info_1(GwtLog, 'trigger preload');
  onResponse = new JAM$37;
  onError = new JAM$38;
  $clinit_RequiredImplementations();
  GetTextFile('Preloadlist.txt', onResponse, onError, false, true);
}

function resizeEverything(){
  $clinit_JAM();
  var e;
  Game_Window_Width = ($clinit_RequiredImplementations() , BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage width- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientWidth($doc));
  Game_Window_Height = (BasicGameInformationImplemention.isPresent() || $severe_0(Log_50, 'Can not get stage height- BasicGameInformationImplemention not set') , dynamicCast(BasicGameInformationImplemention.get_1(), 89) , $getClientHeight($doc));
  try {
    setInterfaceIconSize();
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      e = $e0;
      $info_1(GwtLog, 'set interface size failed');
      $info_1(GwtLog, 'exception ' + e.getMessage());
      $printStackTrace(e, ($clinit_System() , err));
    }
     else 
      throw unwrap($e0);
  }
  if (MessageHistoryOpen) {
    $clinit_RootPanel();
    $remove_6(get_14(null), asWidgetOrNull(messagehistory_0));
    MessageHistoryOpen = false;
    $setPlayBack(MessageHistoryButton.animation);
  }
  $info_1(GwtLog, 'resizeing story box');
  resizeStoryBox();
  ResizeAllInventoryPanels();
  $info_1(GwtLog, 'resizeing scenes');
  resizeAllScenes();
  setStyleAttribute(($clinit_DOM() , ScoreAndClueBox.element), 'zIndex', '110');
  $add_8(($clinit_RootPanel() , get_14(null)), ClueReveal, $getAbsoluteLeft_0($getElement(($clinit_JamImages() , ScoreBack))), $getAbsoluteTop_0($getElement(ScoreBack)) + $getOffsetHeight(ScoreBack) - 5);
  setStyleAttribute(ClueReveal.element, 'zIndex', '1000');
  $setSize_2(($clinit_JAMcore() , playersClues), (((null , $doc.getElementById('bigtextbox')).offsetWidth || 0) | 0) - 14 + 'px', (((null , $doc.getElementById('bigtextbox')).offsetHeight || 0) | 0) - 21 + 'px');
  !!$doc.getElementById('musicControll') && $add_7(get_14('musicControll'), asWidgetOrNull(musicPlayer));
  $setSize_4(musicPlayer, '90%');
}

function resizeStoryBox(){
  $clinit_JAM();
  var Blah;
  if (!$equalsIgnoreCase(($clinit_DOM() , closeallwindows.element).style['display'], 'none')) {
    if ($isAttached(closeallwindows)) {
      $info_1(GwtLog, 'close all windows display is attached and display is' + closeallwindows.element.style['display']);
      $info_1(GwtLog, 'ID is currently=' + closeallwindows.element.id);
      $setWidgetPosition(($clinit_RootPanel() , get_14(null)), closeallwindows, $getClientWidth($doc) - 55, 0);
    }
     else {
      $info_1(GwtLog, '____________adding closeallwindows to page');
      $add_8(($clinit_RootPanel() , get_14(null)), closeallwindows, $getClientWidth($doc) - 55, 0);
      $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new JAM$39);
    }
  }
  if (($clinit_JAMcore() , Client).toLowerCase().indexOf('firefox') > -1) {
    $setAnimationEnabled_0(GamesChaptersPanel.GamesChaptersPanel.deck, false);
    $setAnimationEnabled_2(GamesChaptersPanel, false);
  }
   else {
    $setAnimationEnabled_0(GamesChaptersPanel.GamesChaptersPanel.deck, true);
    $setAnimationEnabled_0(GamesChaptersPanel.GamesChaptersPanel.deck, false);
    $setAnimationEnabled_2(GamesChaptersPanel, false);
  }
  $info_1(GwtLog, 'removing buttons');
  $remove_6(($clinit_RootPanel() , get_14(null)), MessageHistoryButton);
  $remove_6(get_14(null), MessageBackButton);
  $remove_6(get_14(null), MessageForwardButton);
  $info_1(GwtLog, 'creating timer');
  Blah = new JAM$40;
  $info_1(GwtLog, 'deattach the Storytext stuff');
  $isAttached(GamesChaptersPanel.GamesChaptersPanel)?$remove_6(get_14('bigtextbox'), asWidgetOrNull(GamesChaptersPanel)):$warning_0(GwtLog, 'StoryTabs was not attached when attempting to remove...hu?');
  Client.indexOf('msie') > -1?$schedule(Blah, 900):Client.indexOf('firefox2') > -1?$schedule(Blah, 900):Client.indexOf('WebKit') > -1?$schedule(Blah, 900):$run_17(Blah);
}

function runPagesCommands(storyText, NewMessageURL){
  var End, Start, Text_0, commands, newcommands, runcommands, startfrom;
  $clinit_JAMcore();
  storyPageLoading = true;
  Text_0 = $getTextOrHtml(storyText.directionalTextHelper, true);
  $info_1(GwtLog, 'checking for html commands');
  startfrom = 0;
  while (Text_0.indexOf('runonce:', startfrom) > -1) {
    Start = Text_0.indexOf('runonce:', startfrom) + 8;
    End = Text_0.indexOf('-->', Start);
    if (Start > 8) {
      commands = ' - ' + $replaceAll(Text_0.substr(Start, End - Start), ';', '\n - ');
      $endsWith(commands, ' - ') && (commands = $substring_0(commands, 0, commands.length - 3));
      $info_1(GwtLog, 'run once commands =' + commands + '.' + Start + '|' + End);
      processInstructionsWhenReady_0(commands, 'fromStoryText' + NewMessageURL);
    }
    startfrom = End + 2;
  }
  startfrom = 0;
  runcommands = '';
  $info_1(GwtLog, 'looping for all run commands on page');
  while (Text_0.indexOf('run:', startfrom) > -1) {
    Start = Text_0.indexOf('run:', startfrom) + 4;
    End = Text_0.indexOf('-->', Start);
    if (Start > 4) {
      newcommands = ' - ' + $replaceAll(Text_0.substr(Start, End - Start), ';', '\n - ');
      $endsWith(newcommands, ' - ') && (newcommands = $substring_0(newcommands, 0, newcommands.length - 3));
      $info_1(GwtLog, 'found command, adding it to list');
      runcommands = runcommands + '\n' + newcommands;
    }
    startfrom = End + 2;
  }
  if (runcommands.length > 1) {
    $info_1(GwtLog, 'storing commands in ~' + $split_0(NewMessageURL, '\\.', 0)[0] + '~');
    $info_1(GwtLog, 'commands are ~' + runcommands);
    $AddItem(PageCommandStore, runcommands, $split_0(NewMessageURL, '\\.', 0)[0]);
    $info_1(GwtLog, 'commands stored check:' + $GetItem(PageCommandStore, $split_0(NewMessageURL, '\\.', 0)[0]));
    processInstructionsWhenReady_0(runcommands, 'fromStoryText' + NewMessageURL);
  }
  storyPageLoading = false;
  $info_1(GwtLog, 'removing from loading queue 2');
  ($clinit_PageLoadingData() , PageLoadingQueue).remove_0(0);
  CheckLoadingQueue();
}

function sendEmail(To, Title, From, Content, AsHTML){
  $clinit_JAM();
  var HTMLHEADERS, HeadersField, ToField, e, emailer;
  To != null?(ToField = 'To=' + To + '&'):(ToField = '');
  if (AsHTML) {
    HTMLHEADERS = 'MIME-Version: 1.0\r\n';
    HTMLHEADERS = HTMLHEADERS + 'Content-type: text/html; charset=iso-8859-1' + '\r\n';
    HeadersField = '&Headers=' + HTMLHEADERS;
  }
   else {
    HeadersField = '';
  }
  emailer = new RequestBuilder(($clinit_RequestBuilder() , POST), emailer_url);
  try {
    $sendRequest(emailer, ToField + 'Title=' + Title + '&From=' + From + '&Content=' + Content + HeadersField, new JAM$41);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      e = $e0;
      $printStackTrace(e, ($clinit_System() , err));
    }
     else 
      throw unwrap($e0);
  }
}

function sendEmailTemplate(currentProperty){
  $clinit_JAM();
  var requestBuilder;
  requestBuilder = new RequestBuilder(($clinit_RequestBuilder() , POST), textfetcher_url_0);
  try {
    $sendRequest(requestBuilder, 'FileURL=Game%20Emails/' + currentProperty, new JAM$33);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (!instanceOf($e0, 84))
      throw unwrap($e0);
  }
}

function setInterfaceIconSize(){
  $clinit_JAM();
  $info_1(GwtLog, 'setting interface size');
  $info_1(GwtLog, 'setting interface Game_Window_Height = ' + Game_Window_Height);
  $clinit_JAMcore();
  iconsizestring = 'BIG';
  if (compareTo_5(InterfaceSize, ($clinit_GamesInterfaceTextCore() , ControllPanel_Default)) == 0) {
    (Game_Window_Width < 1050 || Game_Window_Height < 990) && (iconsizestring = 'MEDIUM');
    (Game_Window_Width < 800 || Game_Window_Height < 800) && (iconsizestring = 'SMALL');
  }
   else {
    compareTo_5(InterfaceSize, ControllPanel_Small) == 0 && (iconsizestring = 'SMALL');
    compareTo_5(InterfaceSize, ControllPanel_Medium) == 0 && (iconsizestring = 'MEDIUM');
    compareTo_5(InterfaceSize, ControllPanel_Big) == 0 && (iconsizestring = 'BIG');
  }
  $info_1(GwtLog, 'setting interface size 2 :' + iconsizestring);
  if ($equals_5(iconsizestring, 'BIG')) {
    StatueHead.mode == 1?$setFrames(StatueHead, ($clinit_JamImages() , LadyClockBig)):$setURL(StatueHead, 'GameIcons/' + iconsizestring + '/' + StatueHead.originalfilename + '.png', StatueHead.animation.lastFrameNum + 1);
    $setFrames(StatueFeat, ($clinit_JamImages() , LadyFeatBig));
    solider.mode == 1?$setFrames(solider, SoldierBig):$setURL(solider, 'GameIcons/' + iconsizestring + '/' + solider.originalfilename + '.png', solider.animation.lastFrameNum + 1);
    $applyTo(BigLeftBit, LeftBit);
    $applyTo(BigBuyOpenButton, BuyBack);
    $applyTo(BigScoreBack, ScoreBack);
    $applyTo(BigOpenClueBox, OpenClueBox);
    $setHeight(LeftBit, '55px');
    $setHeight(BuyBack, '55px');
    $setHeight(OpenClueBox, '55px');
    $setHeight(ScoreBack, '55px');
    $setWidth(ScoreBack, '170px');
    $setHeight(TitleBarRight, '56px');
    $clinit_DOM();
    !!$doc.getElementById('ScoreBox') && ((null , $doc.getElementById('ScoreBox')).style['height'] = '55px' , undefined);
    BuyCloseButton = BigBuyCloseButton;
    BuyOpenButton = BigBuyOpenButton;
    OpenClueBoxButton = BigOpenClueBox;
    CloseClueBoxButton = BigCloseClueBox;
    $setHeight(TitleBarLeft, '55px');
    TitleBarLeft.element.style['backgroundImage'] = 'url(./GameIcons/BIG/TitleStrip.jpg)';
    $setUrl_0(TopStripBigGap, ($clinit_UriUtils() , new SafeUriString('./GameIcons/BIG/TitleStrip.jpg')));
    $setWidth(TopStripBigGap, '100%');
    $setHeight(TopStripBigGap, '55px');
    $setUrl_0(spacer, new SafeUriString('./GameIcons/BIG/TitleStrip.jpg'));
    $setHeight(spacer, '55px');
    $setFrames(Cuyperstitle, BigCuypers2LogoImages);
    $setFrames(DefaultInventorysButton, BigInventoryImages);
    $setFrames(PlayersNotepad_0.NotepadButton, BigNotepadImages);
    $setFrames(ControllPanelButton, BigControllPanelImages);
    $setFrames(ForumLinkButton, BigForumImages);
    $setFrames(SecretsPopupPanelButton, BigSecretsImages);
  }
   else if ($equals_5(iconsizestring, 'MEDIUM')) {
    StatueHead.mode == 1?$setFrames(StatueHead, ($clinit_JamImages() , LadyClockMid)):$setURL(StatueHead, 'GameIcons/' + iconsizestring + '/' + StatueHead.originalfilename + '.png', StatueHead.animation.lastFrameNum + 1);
    $setFrames(StatueFeat, ($clinit_JamImages() , LadyFeatMid));
    solider.mode == 1?$setFrames(solider, SoldierMid):$setURL(solider, 'GameIcons/' + iconsizestring + '/' + solider.originalfilename + '.png', solider.animation.lastFrameNum + 1);
    $applyTo(MediumLeftBit, LeftBit);
    $applyTo(MediumBuyOpenButton, BuyBack);
    $applyTo(MediumOpenClueBox, OpenClueBox);
    $setHeight(LeftBit, '47px');
    $setHeight(BuyBack, '47px');
    $setHeight(OpenClueBox, '47px');
    $setHeight(ScoreBack, '47px');
    $setWidth(ScoreBack, '140px');
    $setHeight(TitleBarRight, '47px');
    $clinit_DOM();
    if ($doc.getElementById('ScoreBox')) {
      (null , $doc.getElementById('ScoreBox')).style['height'] = '47px';
      (null , $doc.getElementById('ScoreBox')).setAttribute('Style', 'height:47px');
    }
    BuyCloseButton = MediumBuyCloseButton;
    BuyOpenButton = MediumBuyOpenButton;
    OpenClueBoxButton = MediumOpenClueBox;
    CloseClueBoxButton = MediumCloseClueBox;
    $applyTo(MediumScoreBack, ScoreBack);
    $setUrl_0(TopStripBigGap, ($clinit_UriUtils() , new SafeUriString('./GameIcons/MEDIUM/TitleStrip.jpg')));
    $setWidth(TopStripBigGap, '100%');
    $setHeight(TopStripBigGap, '47px');
    $setUrl_0(spacer, new SafeUriString('./GameIcons/MEDIUM/TitleStrip.jpg'));
    $setHeight(spacer, '47px');
    $setHeight(TitleBarLeft, '47px');
    TitleBarLeft.element.style['backgroundImage'] = 'url(./GameIcons/MEDIUM/TitleStrip.jpg)';
    $setFrames(Cuyperstitle, MediumCuypers2LogoImages);
    $setFrames(DefaultInventorysButton, MediumInventoryImages);
    $setFrames(PlayersNotepad_0.NotepadButton, MediumNotepadImages);
    $setFrames(ControllPanelButton, MediumControllPanelImages);
    $setFrames(ForumLinkButton, MediumForumImages);
    $setFrames(SecretsPopupPanelButton, MediumSecretsImages);
  }
   else if ($equals_5(iconsizestring, 'SMALL')) {
    StatueHead.mode == 1?$setFrames(StatueHead, ($clinit_JamImages() , LadyClockSmall)):$setURL(StatueHead, 'GameIcons/' + iconsizestring + '/' + StatueHead.originalfilename + '.png', StatueHead.animation.lastFrameNum + 1);
    $setFrames(StatueFeat, ($clinit_JamImages() , LadyFeatSmall));
    solider.mode == 1?$setFrames(solider, SoldierSmall):$setURL(solider, 'GameIcons/' + iconsizestring + '/' + solider.originalfilename + '.png', solider.animation.lastFrameNum + 1);
    $applyTo(SmallLeftBit, LeftBit);
    $applyTo(SmallBuyOpenButton, BuyBack);
    $applyTo(SmallScoreBack, ScoreBack);
    $applyTo(SmallOpenClueBox, OpenClueBox);
    BuyCloseButton = SmallBuyCloseButton;
    BuyOpenButton = SmallBuyOpenButton;
    OpenClueBoxButton = SmallOpenClueBox;
    CloseClueBoxButton = SmallCloseClueBox;
    $setHeight(LeftBit, '40px');
    $setHeight(BuyBack, '40px');
    $setHeight(OpenClueBox, '40px');
    $setHeight(ScoreBack, '40px');
    $setHeight(TitleBarRight, '40px');
    $setWidth(ScoreBack, '120px');
    $clinit_DOM();
    !!$doc.getElementById('ScoreBox') && ((null , $doc.getElementById('ScoreBox')).style['height'] = '40px' , undefined);
    $setUrl_0(TopStripBigGap, ($clinit_UriUtils() , new SafeUriString('./GameIcons/SMALL/TitleStrip.jpg')));
    $setUrl_0(spacer, new SafeUriString('./GameIcons/SMALL/TitleStrip.jpg'));
    $setWidth(TopStripBigGap, '100%');
    $setHeight(TopStripBigGap, '40px');
    $setHeight(spacer, '40px');
    $setHeight(TitleBarLeft, '40px');
    TitleBarLeft.element.style['backgroundImage'] = 'url(./GameIcons/SMALL/TitleStrip.jpg)';
    $setFrames(Cuyperstitle, SmallCuypers2LogoImages);
    $setFrames(DefaultInventorysButton, SmallInventoryImages);
    $setFrames(PlayersNotepad_0.NotepadButton, SmallNotepadImages);
    $setFrames(ControllPanelButton, SmallControllPanelImages);
    $setFrames(ForumLinkButton, SmallForumImages);
    $setFrames(SecretsPopupPanelButton, SmallSecretsImages);
  }
   else {
    StatueHead.mode == 1?$setFrames(StatueHead, ($clinit_JamImages() , LadyClockBig)):$setURL(StatueHead, 'GameIcons/' + iconsizestring + '/' + StatueHead.originalfilename + '.png', StatueHead.animation.lastFrameNum + 1);
    $setFrames(StatueFeat, ($clinit_JamImages() , LadyFeatBig));
    solider.mode == 1?$setFrames(solider, SoldierBig):$setURL(solider, 'GameIcons/' + iconsizestring + '/' + solider.originalfilename + '.png', solider.animation.lastFrameNum + 1);
    $applyTo(BigLeftBit, LeftBit);
    $applyTo(BigBuyOpenButton, BuyBack);
    $applyTo(BigScoreBack, ScoreBack);
    $applyTo(BigOpenClueBox, OpenClueBox);
    $setHeight(LeftBit, '55px');
    $setHeight(BuyBack, '55px');
    $setHeight(OpenClueBox, '55px');
    $setHeight(ScoreBack, '55px');
    $setWidth(ScoreBack, '170px');
    $clinit_DOM();
    !!$doc.getElementById('ScoreBox') && ((null , $doc.getElementById('ScoreBox')).style['height'] = '55px' , undefined);
    BuyCloseButton = BigBuyCloseButton;
    BuyOpenButton = BigBuyOpenButton;
    OpenClueBoxButton = BigOpenClueBox;
    CloseClueBoxButton = BigCloseClueBox;
    $setHeight(TitleBarLeft, '55px');
    TitleBarLeft.element.style['backgroundImage'] = 'url(./GameIcons/BIG/TitleStrip.jpg)';
    $setUrl_0(TopStripBigGap, ($clinit_UriUtils() , new SafeUriString('./GameIcons/BIG/TitleStrip.jpg')));
    $setWidth(TopStripBigGap, '100%');
    $setHeight(TopStripBigGap, '55px');
    $setUrl_0(spacer, new SafeUriString('./GameIcons/BIG/TitleStrip.jpg'));
    $setHeight(spacer, '55px');
    $setFrames(Cuyperstitle, BigCuypers2LogoImages);
    $setFrames(DefaultInventorysButton, BigInventoryImages);
    $setFrames(PlayersNotepad_0.NotepadButton, BigNotepadImages);
    $setFrames(ControllPanelButton, BigControllPanelImages);
    $setFrames(ForumLinkButton, BigForumImages);
    $setFrames(SecretsPopupPanelButton, BigSecretsImages);
  }
  $info_1(GwtLog, 'setting interface size 3 :');
  ($clinit_DOM() , StatueHead.element).style['zIndex'] = '50';
  compareTo_5(iconsizestring, 'SMALL') == 0 && changecss('smallscreen');
  compareTo_5(iconsizestring, 'MEDIUM') == 0 && changecss('midscreen');
  compareTo_5(iconsizestring, 'BIG') == 0 && changecss('default');
}

function setLoggingEnable_0(b){
  $clinit_JAM();
  setLoggingEnable(b);
  if (b) {
    $info_1(GwtLog, 'setting log on');
    $setLevel_1(GwtLog, ($clinit_Level() , INFO));
  }
   else {
    $info_1(GwtLog, 'setting log off');
    $setLevel_1(GwtLog, ($clinit_Level() , OFF));
  }
}

function startNewGame(){
  $clinit_JAM();
  $setItemSelected_0(musicPlayer.CurrentMusicTrackLabel, musicPlayer.CurrentMusicTrackLabel.FieldNames.array.length - 1);
  $clinit_MusicBoxCore();
  playtrack(musicTracks.array.length - 1, 100, -1);
  $clinit_OptionalImplementations();
  $CloseDefault_0(loadGamePopup);
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
  $CloseDefault_4(saveGamePopup.contentPanel);
  GameLogger.info_0('start game script');
  start_game_script_when_ready();
}

function testForInstructionsToRun(){
  $clinit_JAM();
  var commands, i, id_0;
  $info_1(GwtLog, 'testing for instructions to run now that the tigs are loaded');
  if (($clinit_JAMcore() , itemsLeftToLoad) == 0) {
    $info_1(GwtLog, 'loading done, now loop over commands:' + CommandsToRunAfterLoadingArray.array.length + ' in total');
    i = 0;
    while (i < CommandsToRunAfterLoadingArray.array.length) {
      commands = dynamicCast($get(CommandsToRunAfterLoadingArray, i), 233);
      id_0 = dynamicCastToString($get(CommandsToRunAfterLoadingArrayIDs, i));
      $info_1(GwtLog, 'running instructions that were stored ' + commands);
      processInstructions(commands, id_0, null);
      ++i;
    }
    $info_1(GwtLog, 'loading done clearing list');
    CommandsToRunAfterLoadingArray.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
    CommandsToRunAfterLoadingArrayIDs.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  }
}

function updateWidgetsInStoryText(newMessageURL){
  $clinit_JAM();
  var CurrentPageCommands, ItemToAdd, i, itemToAddsName, rawName;
  i = 0;
  while (i < widgets_to_add_ids.array.length) {
    $info_1(GwtLog, 'adding items to page:' + newMessageURL);
    itemToAddsName = dynamicCastToString($get(widgets_to_add_ids, i));
    rawName = $replaceFirst(itemToAddsName, newMessageURL + '_item_', '');
    ItemToAdd = $getItemPopUp(($clinit_InventoryPanelCore() , defaultInventory), rawName);
    if (!ItemToAdd) {
      $info_1(GwtLog, 'no item found under that name : ' + rawName);
      $info_1(GwtLog, 'skipping item and going onto next' + i);
      ++i;
      continue;
    }
    $add_7(get_14(itemToAddsName), dynamicCast(ItemToAdd, 7));
    $info_1(GwtLog, 'Adding to removelist: ' + itemToAddsName);
    CurrentPageCommands = $GetItem(PageCommandStore, newMessageURL);
    $info_1(GwtLog, 'adding replacediv to current page commands (' + CurrentPageCommands + ')');
    CurrentPageCommands = CurrentPageCommands + '\n - ReplaceDiv = ' + itemToAddsName + ',' + rawName;
    if ($equals_5(ItemToAdd.POPUPTYPE(), 'TIG')) {
      $info_1(GwtLog, 'TIG on page set 2');
      $clinit_TigItemCore();
      lastclickedTig = dynamicCast(ItemToAdd, 308);
    }
    $info_1(GwtLog, 'storing commands for:' + newMessageURL);
    $info_1(GwtLog, 'commands =' + CurrentPageCommands);
    $AddItemUniquely(PageCommandStore, CurrentPageCommands, newMessageURL);
    $info_1(GwtLog, 'commands stored check' + $GetItem(PageCommandStore, newMessageURL));
    $severe_0(GwtLog, 'item being removed; ' + itemToAddsName + '|rawname=' + rawName);
    $RemoveItem_0(defaultInventory, rawName);
    ++i;
  }
  $info_1(GwtLog, 'widgets_to_add_ids size' + widgets_to_add_ids.array.length);
  widgets_to_add_ids.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  $clinit_JAMcore();
  BusyAddingDivs = false;
  testForInstructionsToRun();
}

defineClass(530, 1, {208:1, 6:1, 414:1, 177:1}, JAM);
_.onPreviewNativeEvent = function onPreviewNativeEvent_2(event_0){
  var e, keycode, kit, openinspectorOn;
  e = event_0.nativeEvent;
  switch (getTypeInt(e.type)) {
    case 4:
      if ($eventGetButton(e) == 2) {
        $info_1(GwtLog, 'right click native event');
        unholdItem();
        debugIsOpen()?!!($clinit_ObjectInspector() , currentCmapBeingEdited) && $stopEditingObjectsCmap(currentCmapBeingEdited):$eventPreventDefault(e);
      }

      break;
    case 8:
      $hide(tinything);
    case 512:
      $remove_21(($clinit_JAMcore() , HeldKeys), valueOf_45($eventGetKeyCode(e)));
      DebugMode.value_0 && debugIsOpen() && $testForKeyUp(($clinit_SceneObjectDatabase() , currentScene_0), $eventGetKeyCode(e));
      break;
    case 128:
      ($clinit_JAMcore() , DebugMode).value_0 && debugIsOpen() && $testForKeyDown(($clinit_SceneObjectDatabase() , currentScene_0), $eventGetKeyCode(e));
      if (IgnoreKeyPresses) {
        break;
      }

      $add_21(HeldKeys, valueOf_45($eventGetKeyCode(e)));
      $eventGetKeyCode(e) == 46 && DebugMode.value_0 && $toggleCmap(($clinit_SceneObjectDatabase() , currentScene_0));
      $eventGetKeyCode(e) == 48 && DebugMode.value_0 && $togglePath(($clinit_SceneObjectDatabase() , currentScene_0));
      $eventGetKeyCode(e) == 16 && $info_1(GwtLog, 'KEY_SHIFT down:');
      if ($eventGetKeyCode(e) == 27) {
        $info_1(GwtLog, 'Escape Detected:');
        !!($clinit_ObjectInspector() , currentCmapBeingEdited) && $stopEditingObjectsCmap(currentCmapBeingEdited);
      }

      if ($eventGetKeyCode(e) == 73 && $eventGetShiftKey(e) && DebugMode.value_0) {
        $info_1(GwtLog, 'For inspector open:');
        openinspectorOn = dynamicCast($allScenesCurrentObjects(($clinit_SceneObjectDatabase() , currentScene_0).scenesData).list.get_0(0), 24);
        openinspectorOn?openinspectorOn.openObjectsInspector():$info_1(GwtLog, 'NO OBJECTS IN CURRENT SCENE SO CANT OPEN INSPECTOR :( sad code error :( ');
      }

      break;
    case 256:
      if ($clinit_JAMcore() , IgnoreKeyPresses) {
        break;
      }

      $info_1(GwtLog, 'key press detected');
      kit = $iterator_4(new AbstractMap$1(HeldKeys.map_0));
      while (kit.val$outerIter2.hasNext()) {
        keycode = dynamicCast($next_7(kit), 160).value_0;
        $info_1(GwtLog, 'key press detected:' + keycode);
        if ($clinit_SceneObjectDatabase() , currentScene_0) {
          if (debugIsOpen()) {
            $testForKeyPress(currentScene_0, event_0);
            keycode == 16 && $info_1(GwtLog, 'Key shift pressed:');
            if (keycode == 27) {
              $info_1(GwtLog, 'Escape Detected::');
              !!($clinit_ObjectInspector() , currentCmapBeingEdited) && $stopEditingObjectsCmap(currentCmapBeingEdited);
            }
          }
           else {
            testForGlobalActions(($clinit_ActionSet$TriggerType() , OnKeyPress), '' + keycode, null);
            $info_1(GwtLog, '____________current Scene = ' + currentScene_0.SceneFileName);
            runForSceneActions(currentScene_0, OnKeyPress, '' + keycode, null);
          }
        }
      }

  }
}
;
_.onValueChange = function onValueChange_0(event_0){
  var PostString;
  PostString = dynamicCastToString(event_0.value_0);
  updateGameState(PostString);
  $clinit_History();
  newItem('--', true);
}
;
var AnimationEffectsOn = true, AnsBar, BigInventoryImages, Blinking, BuyBack, BuyCloseButton, BuyOpenButton, ChapterList_0, CloseClueBoxButton, CluePanelFrame, CluePopUp, ClueReveal, ControlPanel, ControllPanelButton, ControllPanelOpen = false, ControllPanelShadows, CurrentBackground, CurrentLocationTabsIndex = 0, Cuyperstitle, Cyclonish, DefaultInventorysButton, EffectOverlay, Feedback, FeedbackContainer, ForumLinkButton, Game_Window_Height = 0, Game_Window_Width = 0, GamesText, GwtLog, MainStoryText, MediumInventoryImages, MessageBackButton, MessageForwardButton, MessageHistoryButton, MessageHistoryOpen = false, OpenClueBox, OpenClueBoxButton, PageCommandStore, PlayersNotepad_0, PlayersNotepadFrame, SAVEMANAGER, ScoreAndClueBox, ScoreAndJokerContainer, ScoreBoxVisible = true, SecretPanel, SecretPanelFrame, SecretsPanelOpen = false, SecretsPopupPanelButton, SmallInventoryImages, SoundEffectOn = true, StatueFeat, StatueHead, Story_Text_Height = 0, Story_Text_Width = 0, TitleBarLeft, TitleBarRight, TopStripBigGap, audioLocation_url, clockpopup, closeallwindows, currentLoadingText = 'Loading game please wait a few seconds', dynamicPages, emailer_url, endInstructions = false, fadeback, gwt_clock, heldItemBox, homeurl_0, lastclicked_x_1 = 0, lastclicked_y_1 = 0, lastpopupmessage, loadGamePopup = null, messageArrow, messagehistory_0, musicPlayer, notebookpages_url, overlayPopUpsOpen, saveGamePopup = null, solider, spacer, textfetcher_url_0, tinything, widgets_to_add_ids, zoomfixboolean = true;
var Lcom_lostagain_JamGwt_JAM_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM', 530, Ljava_lang_Object_2_classLit);
function JAM$10(){
}

defineClass(539, 1, $intern_16, JAM$10);
_.onMouseOut = function onMouseOut_10(event_0){
  $setPlayBack(($clinit_JAM() , ForumLinkButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$10_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/10', 539, Ljava_lang_Object_2_classLit);
function JAM$11(){
}

defineClass(540, 1, $intern_17, JAM$11);
_.onClick = function onClick_31(event_0){
  var mess;
  mess = ($clinit_FeedbackHistoryCore() , currentmessage = currentmessage + 1 , currentmessage > messagehistory.array.length && (currentmessage = messagehistory.array.length) , dynamicCastToString($get(messagehistory, currentmessage - 1)));
  mess = $trim($replaceAll(mess, '\\<.*?>', ''));
  $setTextNow(($clinit_JAM() , Feedback), ' ' + mess, false);
}
;
var Lcom_lostagain_JamGwt_JAM$11_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/11', 540, Ljava_lang_Object_2_classLit);
function JAM$12(){
}

defineClass(541, 1, $intern_15, JAM$12);
_.onMouseOver = function onMouseOver_8(event_0){
  $setPlayForward(($clinit_JAM() , MessageForwardButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$12_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/12', 541, Ljava_lang_Object_2_classLit);
function JAM$13(){
}

defineClass(542, 1, $intern_16, JAM$13);
_.onMouseOut = function onMouseOut_11(event_0){
  $setPlayBack(($clinit_JAM() , MessageForwardButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$13_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/13', 542, Ljava_lang_Object_2_classLit);
function JAM$14(){
}

defineClass(543, 1, $intern_15, JAM$14);
_.onMouseOver = function onMouseOver_9(event_0){
  $setPlayForward(($clinit_JAM() , MessageBackButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$14_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/14', 543, Ljava_lang_Object_2_classLit);
function JAM$15(){
}

defineClass(544, 1, $intern_16, JAM$15);
_.onMouseOut = function onMouseOut_12(event_0){
  $setPlayBack(($clinit_JAM() , MessageBackButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$15_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/15', 544, Ljava_lang_Object_2_classLit);
function JAM$16(){
}

defineClass(545, 1, $intern_17, JAM$16);
_.onClick = function onClick_32(event_0){
  var mess;
  mess = ($clinit_FeedbackHistoryCore() , currentmessage = currentmessage - 1 , currentmessage <= 0 && (currentmessage = 0) , dynamicCastToString($get(messagehistory, currentmessage - 1)));
  mess = $trim($replaceAll(mess, '\\<.*?>', ''));
  $setTextNow(($clinit_JAM() , Feedback), ' ' + mess, false);
}
;
var Lcom_lostagain_JamGwt_JAM$16_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/16', 545, Ljava_lang_Object_2_classLit);
function JAM$17(){
}

defineClass(546, 1, $intern_17, JAM$17);
_.onClick = function onClick_33(event_0){
  if ($clinit_JAM() , MessageHistoryOpen) {
    $clinit_RootPanel();
    $remove_6(get_14(null), asWidgetOrNull(messagehistory_0));
    MessageHistoryOpen = false;
    $setPlayBack(MessageHistoryButton.animation);
  }
   else {
    $setHeight(messagehistory_0.visualContents, '300px');
    $setWidth(messagehistory_0.visualContents, FeedbackContainer.parent_1.getOffsetWidth() + 'px');
    $setStyleName(messagehistory_0.visualContents, 'FeedbackOpen');
    $scrolltobottom(messagehistory_0);
    $add_6(($clinit_RootPanel() , get_14(null)), messagehistory_0, $getAbsoluteLeft_0(($clinit_DOM() , $clinit_DOM() , $doc.getElementById('feedback'))), $getAbsoluteTop_0((null , $doc.getElementById('feedback'))) - 300);
    $setPlayForward(MessageHistoryButton.animation);
    MessageHistoryOpen = true;
  }
}
;
var Lcom_lostagain_JamGwt_JAM$17_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/17', 546, Ljava_lang_Object_2_classLit);
function JAM$18(){
}

defineClass(547, 1, $intern_17, JAM$18);
_.onClick = function onClick_34(event_0){
  dynamicCast(($clinit_RequiredImplementations() , screenManager).get_1(), 108);
  $setPlayForward(($clinit_JAM() , closeallwindows).animation);
  ControllPanelShadows.OpenDefault();
}
;
var Lcom_lostagain_JamGwt_JAM$18_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/18', 547, Ljava_lang_Object_2_classLit);
function JAM$19(){
}

defineClass(548, 1, $intern_23, JAM$19);
_.onMouseDown = function onMouseDown_9(event_0){
  $clinit_JAM();
  ControllPanelOpen = true;
}
;
var Lcom_lostagain_JamGwt_JAM$19_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/19', 548, Ljava_lang_Object_2_classLit);
function JAM$2(){
}

defineClass(531, 1, {1448:1}, JAM$2);
var Lcom_lostagain_JamGwt_JAM$2_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/2', 531, Ljava_lang_Object_2_classLit);
function JAM$20(){
}

defineClass(549, 1, $intern_15, JAM$20);
_.onMouseOver = function onMouseOver_10(event_0){
  $setPlayForward(($clinit_JAM() , ControllPanelButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$20_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/20', 549, Ljava_lang_Object_2_classLit);
function JAM$21(){
}

defineClass(550, 1, $intern_16, JAM$21);
_.onMouseOut = function onMouseOut_13(event_0){
  ($clinit_JAM() , ControllPanelOpen) || $setPlayBack(ControllPanelButton.animation);
}
;
var Lcom_lostagain_JamGwt_JAM$21_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/21', 550, Ljava_lang_Object_2_classLit);
function JAM$22(){
}

defineClass(551, 1, $intern_17, JAM$22);
_.onClick = function onClick_35(event_0){
  ($clinit_JAM() , SecretPanelFrame).OpenDefault();
}
;
var Lcom_lostagain_JamGwt_JAM$22_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/22', 551, Ljava_lang_Object_2_classLit);
function JAM$23(){
}

defineClass(552, 1, $intern_23, JAM$23);
_.onMouseDown = function onMouseDown_10(event_0){
  $clinit_JAM();
  SecretsPanelOpen = true;
}
;
var Lcom_lostagain_JamGwt_JAM$23_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/23', 552, Ljava_lang_Object_2_classLit);
function JAM$24(){
}

defineClass(553, 1, $intern_16, JAM$24);
_.onMouseOut = function onMouseOut_14(event_0){
  ($clinit_JAM() , SecretsPanelOpen) || $setPlayBack(SecretsPopupPanelButton.animation);
}
;
var Lcom_lostagain_JamGwt_JAM$24_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/24', 553, Ljava_lang_Object_2_classLit);
function JAM$25(){
}

defineClass(554, 1, $intern_15, JAM$25);
_.onMouseOver = function onMouseOver_11(event_0){
  $setPlayLoop(($clinit_JAM() , SecretsPopupPanelButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$25_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/25', 554, Ljava_lang_Object_2_classLit);
function JAM$26(){
}

defineClass(555, 1, $intern_17, JAM$26);
_.onClick = function onClick_36(event_0){
  closeAllWindows();
}
;
var Lcom_lostagain_JamGwt_JAM$26_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/26', 555, Ljava_lang_Object_2_classLit);
function JAM$27(){
}

defineClass(556, 1, {518:1}, JAM$27);
_.onClick_0 = function onClick_37(sender){
  var vanishimage;
  $SetModeRandom(($clinit_JAM() , gwt_clock));
  ++this.clickcount;
  $clinit_System();
  if (this.clickcount > 5) {
    $clinit_JAMcore();
    processInstructions_0(' \n - AddScore = 5 \n ', 'ClockClickedALot', null);
    $add_8(($clinit_RootPanel() , get_14(null)), clockpopup, $getAbsoluteLeft_0($getElement(get_14('clocklady'))) + 35, $getAbsoluteTop_0($getElement(get_14('clocklady'))) - 30);
    $clinit_DOM();
    clockpopup.element.style['zIndex'] = '5000';
    vanishimage = new JAM$27$1;
    $schedule(vanishimage, 3000);
  }
   else {
    $clinit_JAMcore();
    processInstructions_0(' \n - AddScore = 1 \n ', 'Clock' + this.clickcount, null);
  }
}
;
_.clickcount = 0;
var Lcom_lostagain_JamGwt_JAM$27_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/27', 556, Ljava_lang_Object_2_classLit);
function JAM$27$1(){
  Timer.call(this);
}

defineClass(557, 61, {}, JAM$27$1);
_.run = function run_72(){
  $removeFromParent(($clinit_JAM() , clockpopup));
}
;
var Lcom_lostagain_JamGwt_JAM$27$1_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/27/1', 557, Lcom_google_gwt_user_client_Timer_2_classLit);
function JAM$28(){
}

defineClass(558, 1, $intern_17, JAM$28);
_.onClick = function onClick_38(event_0){
  $setOpen(($clinit_JAM() , ClueReveal), !ClueReveal.isOpen);
  if (ClueReveal.isOpen) {
    $applyTo(CloseClueBoxButton, OpenClueBox);
    $setPlayForward(closeallwindows.animation);
  }
   else {
    $applyTo(OpenClueBoxButton, OpenClueBox);
    overlayPopUpsOpen.array.length < 1 && (CluePopUp.attached || $setPlayBack(closeallwindows.animation));
  }
}
;
var Lcom_lostagain_JamGwt_JAM$28_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/28', 558, Ljava_lang_Object_2_classLit);
function JAM$29(){
}

defineClass(559, 1, $intern_17, JAM$29);
_.onClick = function onClick_39(event_0){
  ($clinit_JAMcore() , GameLogger).info_0('opening clue panel');
  $applyTo(($clinit_JAM() , BuyCloseButton), BuyBack);
  CluePanelFrame.OpenDefault();
  $setPlayForward(closeallwindows.animation);
}
;
var Lcom_lostagain_JamGwt_JAM$29_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/29', 559, Ljava_lang_Object_2_classLit);
function JAM$3(){
}

defineClass(532, 1, $intern_98, JAM$3);
_.onResize = function onResize_2(event_0){
  resizeEverything();
}
;
var Lcom_lostagain_JamGwt_JAM$3_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/3', 532, Ljava_lang_Object_2_classLit);
function JAM$30(){
}

defineClass(560, 1, $intern_17, JAM$30);
_.onClick = function onClick_40(event_0){
  var stopSpining;
  $setPlayLoop(($clinit_JAM() , Cuyperstitle).animation);
  $clinit_JAMcore();
  processInstructions_0(' \n - AddScore = 5 \n ', 'SpunTheWheel', null);
  stopSpining = new JAM$30$1;
  $schedule(stopSpining, 3000);
}
;
var Lcom_lostagain_JamGwt_JAM$30_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/30', 560, Ljava_lang_Object_2_classLit);
function JAM$30$1(){
  Timer.call(this);
}

defineClass(561, 61, {}, JAM$30$1);
_.run = function run_73(){
  $setPlayBack(($clinit_JAM() , Cuyperstitle).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$30$1_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/30/1', 561, Lcom_google_gwt_user_client_Timer_2_classLit);
function JAM$31(){
}

defineClass(562, 1, {}, JAM$31);
_.run_2 = function run_74(responseData, responseCode){
  $info_1(($clinit_JAM() , GwtLog), 'loading games text');
  if (responseData.length < 3) {
    $info_1(GwtLog, 'loading games text failed. Check that text/messages_dutch.properties exists');
    return;
  }
  $LoadText(GamesText, responseData);
  ($clinit_JAMcore() , GameLogger).log_1('loaded games text', 'green');
}
;
var Lcom_lostagain_JamGwt_JAM$31_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/31', 562, Ljava_lang_Object_2_classLit);
function JAM$32(){
}

defineClass(563, 1, {}, JAM$32);
_.run_1 = function run_75(errorData, exception){
  ($clinit_JAMcore() , GameLogger).log_1('failed to get games interface text .property file ', 'red');
}
;
var Lcom_lostagain_JamGwt_JAM$32_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/32', 563, Ljava_lang_Object_2_classLit);
function JAM$33(){
}

defineClass(564, 1, {}, JAM$33);
_.onError_1 = function onError_15(request, exception){
}
;
_.onResponseReceived = function onResponseReceived_9(request, response){
  var Content, From, Title, emailtext;
  emailtext = response.xmlHttpRequest.responseText;
  Title = $substring_0(emailtext, emailtext.indexOf('Subject:') + 8, $indexOf_3(emailtext, '\n', emailtext.indexOf('Subject:') + 8));
  From = $substring_0(emailtext, emailtext.indexOf('From:') + 5, $indexOf_3(emailtext, '\n', emailtext.indexOf('From:') + 5));
  Content = $substring(emailtext, emailtext.indexOf('Message:') + 8);
  sendEmail(null, Title, From, Content, false);
}
;
var Lcom_lostagain_JamGwt_JAM$33_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/33', 564, Ljava_lang_Object_2_classLit);
function JAM$34(val$newMessageURL){
  this.val$newMessageURL1 = val$newMessageURL;
  Timer.call(this);
}

defineClass(565, 61, {}, JAM$34);
_.run = function run_76(){
  var ItemToAdd, i, itemToAddsName;
  i = 0;
  $info_1(($clinit_JAM() , GwtLog), 'adding widgets for ' + this.val$newMessageURL1);
  while (i < widgets_to_add_ids.array.length) {
    itemToAddsName = dynamicCastToString($get(widgets_to_add_ids, i));
    ItemToAdd = $getItemPopUp(($clinit_InventoryPanelCore() , defaultInventory), $replaceFirst(itemToAddsName, this.val$newMessageURL1 + '_item_', ''));
    if ($startsWith_0(itemToAddsName, this.val$newMessageURL1, 0) && !ItemToAdd) {
      $info_1(GwtLog, 'no item found under that name, but could still be loading: ' + $replaceFirst(itemToAddsName, this.val$newMessageURL1 + '_item_', ''));
      return;
    }
     else if (!ItemToAdd) {
      $info_1(GwtLog, 'no item found under that name, probably not loading for this page: ' + $replaceFirst(itemToAddsName, this.val$newMessageURL1 + '_item_', ''));
      ++i;
      continue;
    }
    ++i;
    if ($equals_5(ItemToAdd.POPUPTYPE(), 'TIG')) {
      $info_1(GwtLog, 'TIG on page set');
      $clinit_TigItemCore();
      lastclickedTig = dynamicCast(ItemToAdd, 308);
    }
  }
  $info_1(GwtLog, 'starting to add items to page:' + this.val$newMessageURL1);
  updateWidgetsInStoryText(this.val$newMessageURL1);
  $cancel(this);
  $clinit_JAMcore();
  storyPageLoading = false;
  $info_1(GwtLog, 'removing from loading queue 3');
  ($clinit_PageLoadingData() , PageLoadingQueue).remove_0(0);
  CheckLoadingQueue();
}
;
var Lcom_lostagain_JamGwt_JAM$34_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/34', 565, Lcom_google_gwt_user_client_Timer_2_classLit);
function JAM$35(){
}

defineClass(566, 1, {}, JAM$35);
_.run_2 = function run_77(responseData, responseCode){
  $info_1(($clinit_JAM() , GwtLog), 'recieved response, processing logging...');
  if ($equalsIgnoreCase(responseData, 'NO')) {
    $info_1(GwtLog, 'No login data found or access denighed');
    if (($clinit_JAMcore() , RequiredLogin_0).value_0) {
      ($clinit_DOM() , fadeback.element).style['zIndex'] = z_depth_max + 1 + '';
      z_depth_max = z_depth_max + 1;
      $clinit_OptionalImplementations();
      $severe_0(GwtLog, 'Login required but no sever storage implementation found');
      Username = 'not logged in';
      loggedIn = false;
    }
     else {
      $actionsToRunWhenNoLoginIsPresent(responseData);
    }
  }
   else if ($equals_5(responseData.substr(0, 7), 'NOLOGIN') || $equals_5(responseData.substr(0, 13), 'Access denied')) {
    $actionsToRunWhenNoLoginIsPresent(responseData);
  }
   else {
    $info_1(GwtLog, 'recieved response :' + responseData);
    $clinit_JAMcore();
    Username = $substring_0(responseData, responseData.indexOf('username:') + 9, $indexOf_3(responseData, '~', responseData.indexOf('username:') + 9));
    Organisation = $substring_0(responseData, responseData.indexOf('organisation:') + 13, $indexOf_3(responseData, '~', responseData.indexOf('organisation:') + 13));
    $info_1(GwtLog, 'Username :' + Username + ' Organisation:' + Organisation);
    setTitle(($clinit_GamesInterfaceTextCore() , MainGame_Welcome_Back) + Username);
    setStatus(Client);
    GameLogger.info_0('client-' + Client);
    $info_1(GwtLog, 'starting logged in user processors (including getting the save game from server)');
    $LoginUser(($clinit_ServerOptions() , user_login));
    $info_1(GwtLog, 'Logged in');
    start_game_script_when_ready();
  }
  preloadData();
}
;
var Lcom_lostagain_JamGwt_JAM$35_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/35', 566, Ljava_lang_Object_2_classLit);
function JAM$36(){
}

defineClass(567, 1, {}, JAM$36);
_.run_1 = function run_78(errorData, exception){
  if (($clinit_JAMcore() , LocalFolderLocation_0).length > 3) {
    $actionsToRunWhenNoLoginIsPresent('organisation:pclocal~');
  }
   else {
    alert_0('no login system found, assumeing a guest user');
    ($clinit_System() , out_0).println_0(' cant check login, assume guest');
    $clinit_JAM();
    loadGameData(' newuser', true);
    $setHTML(messagehistory_0.messageslist, '(No login script found, assumeing guest user');
    maingameloop();
    $hide_0(($clinit_ServerOptions() , user_login));
    resizeStoryBox();
    Username = 'guest';
    Organisation = 'pc';
  }
}
;
var Lcom_lostagain_JamGwt_JAM$36_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/36', 567, Ljava_lang_Object_2_classLit);
function JAM$37(){
}

defineClass(568, 1, {}, JAM$37);
_.run_2 = function run_79(responseData, responseCode){
  var LoadingList, it, preloadingdata, preloadthis;
  preloadingdata = $trim(responseData);
  preloadingdata = parseForLanguageSpecificExtension(preloadingdata);
  $info_1(($clinit_JAM() , GwtLog), 'preload list recieved:' + preloadingdata);
  LoadingList = new Arrays$ArrayList($split_0(preloadingdata, '\r?\n|\r', 0));
  $info_1(GwtLog, 'number of things to preload=:' + LoadingList.array.length);
  it = new AbstractList$IteratorImpl(LoadingList);
  while (it.i < it.this$01_0.size_1()) {
    preloadthis = $trim((checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCastToString(it.this$01_0.get_0(it.last = it.i++))));
    if (preloadthis.length < 5) {
      continue;
    }
    addToLoading(preloadthis);
  }
  preloadList();
}
;
var Lcom_lostagain_JamGwt_JAM$37_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/37', 568, Ljava_lang_Object_2_classLit);
function JAM$38(){
}

defineClass(569, 1, {}, JAM$38);
_.run_1 = function run_80(errorData, exception){
  ($clinit_JAMcore() , GameLogger).info_0('\n preloader failed exception' + exception.detailMessage);
}
;
var Lcom_lostagain_JamGwt_JAM$38_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/38', 569, Ljava_lang_Object_2_classLit);
function JAM$39(){
}

defineClass(570, 1, {}, JAM$39);
_.execute = function execute_27(){
  $info_1(($clinit_JAM() , GwtLog), '___________ setting zindex for closeallwindows ');
  ($clinit_DOM() , closeallwindows.element).style['zIndex'] = '1805';
  closeallwindows.element.id = 'closeallwindowsbox';
  !get_14('closeallwindowsbox') && $info_1(GwtLog, 'close window id not found');
  $info_1(GwtLog, 'close all windows has just been attached ' + closeallwindows.element.style['display']);
}
;
var Lcom_lostagain_JamGwt_JAM$39_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/39', 570, Ljava_lang_Object_2_classLit);
function JAM$4(){
  Timer.call(this);
}

defineClass(533, 61, {}, JAM$4);
_.run = function run_81(){
  $info_1(($clinit_JAM() , GwtLog), 'resize after load triggered');
  resizeEverything();
}
;
var Lcom_lostagain_JamGwt_JAM$4_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/4', 533, Lcom_google_gwt_user_client_Timer_2_classLit);
function $run_17(this$static){
  var MpSizeX, MpSizeY, MpX, MpY, displayClockAfterStatueLoaded;
  $clinit_JAM();
  Story_Text_Height = $getOffsetHeight(get_14('bigtextbox')) - 25;
  Story_Text_Width = $getOffsetWidth(get_14('bigtextbox')) - 5;
  if (Story_Text_Width < 10) {
    $cancel(this$static);
    $schedule(this$static, 1200);
    return;
  }
  ($clinit_JAMcore() , GameLogger).info_0('' + Story_Text_Height);
  $add_7(get_14('bigtextbox'), asWidgetOrNull(GamesChaptersPanel));
  $setSize(GamesChaptersPanel.GamesChaptersPanel.deck, Story_Text_Width + 'px', Story_Text_Height + 'px');
  $setWidth(GamesChaptersPanel.GamesChaptersPanel.deck, '100%');
  $setHeight(GamesChaptersPanel.GamesChaptersPanel.deck, '100%');
  ScoreBoxVisible && $add_8(($clinit_RootPanel() , get_14(null)), ScoreAndClueBox, $getAbsoluteLeft_0($getElement(($clinit_JamImages() , ScoreBack))), $getAbsoluteTop_0($getElement(ScoreBack)) + ~~($getHeight(ScoreBack) / 2) - 15);
  GameLogger.info_0('resizing');
  positionHistoryButtons();
  GameLogger.info_0('..done message history bits :' + $getAbsoluteTop_0(($clinit_DOM() , $clinit_DOM() , $doc.getElementById('feedback'))) + ' :' + $getAbsoluteTop_0($getElement(FeedbackContainer)) + ':');
  if ($doc.getElementById('clocklady')) {
    if (StatueHead.contents.getOffsetWidth() > 33) {
      $remove_6(($clinit_RootPanel() , get_14(null)), gwt_clock);
      $add_8(get_14('clocklady'), gwt_clock, round_int($getOffsetWidth(StatueHead) * 0.315), round_int($getOffsetWidth(StatueHead) * 0.585));
      $setRadius(gwt_clock, round_int($getOffsetWidth(StatueHead) / 2.2));
    }
     else {
      displayClockAfterStatueLoaded = new JAM$40$1;
      $scheduleRepeating(displayClockAfterStatueLoaded, $intern_10);
    }
  }
  if ($doc.getElementById('musicControll')) {
    MpSizeX = (((null , $doc.getElementById('musicControll')).offsetWidth || 0) | 0) - 60;
    MpSizeY = $getOffsetHeight(musicPlayer.CurrentMusicTrackLabel);
    MpX = $getAbsoluteLeft_0((null , $doc.getElementById('musicControll'))) + 20;
    MpY = $getAbsoluteTop_0((null , $doc.getElementById('musicControll'))) + (((null , $doc.getElementById('musicControll')).offsetHeight || 0) | 0);
    $setPixelSize(musicPlayer.CurrentMusicTrackLabel, MpSizeX, MpSizeY);
    $setWidth(musicPlayer.CurrentMusicTrackLabel.ListContainer, MpSizeX + 'px');
    musicPlayer.CurrentMusicTrackLabel.element.style['zIndex'] = '500';
    $add_8(($clinit_RootPanel() , get_14(null)), musicPlayer.CurrentMusicTrackLabel, MpX, MpY - 23);
    $setSize_4(musicPlayer, (((null , $doc.getElementById('musicControll')).offsetWidth || 0) | 0) + 'px');
  }
}

function JAM$40(){
  Timer.call(this);
}

defineClass(571, 61, {}, JAM$40);
_.run = function run_82(){
  $run_17(this);
}
;
var Lcom_lostagain_JamGwt_JAM$40_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/40', 571, Lcom_google_gwt_user_client_Timer_2_classLit);
function JAM$40$1(){
  Timer.call(this);
}

defineClass(572, 61, {}, JAM$40$1);
_.run = function run_83(){
  if (($clinit_JAM() , StatueHead).contents.getOffsetWidth() > 33) {
    $remove_6(($clinit_RootPanel() , get_14(null)), gwt_clock);
    $add_8(get_14('clocklady'), gwt_clock, round_int($getOffsetWidth(StatueHead) * 0.315), round_int($getOffsetWidth(StatueHead) * 0.585));
    $setRadius(gwt_clock, round_int($getOffsetWidth(StatueHead) / 2.2));
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_JAM$40$1_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/40/1', 572, Lcom_google_gwt_user_client_Timer_2_classLit);
function JAM$41(){
}

defineClass(573, 1, {}, JAM$41);
_.onError_1 = function onError_16(request, exception){
}
;
_.onResponseReceived = function onResponseReceived_10(request, response){
}
;
var Lcom_lostagain_JamGwt_JAM$41_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/41', 573, Ljava_lang_Object_2_classLit);
function JAM$5(){
}

defineClass(534, 1, $intern_17, JAM$5);
_.onClick = function onClick_41(event_0){
  if (($clinit_InventoryPanelCore() , defaultInventory).isOpen) {
    ($clinit_JAMcore() , PlayersInventoryFrame).CloseDefault();
  }
   else {
    ($clinit_JAMcore() , PlayersInventoryFrame).OpenDefault();
    $setPlayForward(($clinit_JAM() , closeallwindows).animation);
  }
}
;
var Lcom_lostagain_JamGwt_JAM$5_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/5', 534, Ljava_lang_Object_2_classLit);
function JAM$6(){
}

defineClass(535, 1, $intern_15, JAM$6);
_.onMouseOver = function onMouseOver_12(event_0){
  $setPlayForward(($clinit_JAM() , DefaultInventorysButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$6_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/6', 535, Ljava_lang_Object_2_classLit);
function JAM$7(){
}

defineClass(536, 1, $intern_16, JAM$7);
_.onMouseOut = function onMouseOut_15(event_0){
  ($clinit_InventoryPanelCore() , defaultInventory).isOpen || $setPlayBack(($clinit_JAM() , DefaultInventorysButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$7_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/7', 536, Ljava_lang_Object_2_classLit);
function JAM$8(){
}

defineClass(537, 1, $intern_17, JAM$8);
_.onClick = function onClick_42(event_0){
  open_2('http://forum.res-nova.nl/fora/', '_blank', '');
}
;
var Lcom_lostagain_JamGwt_JAM$8_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/8', 537, Ljava_lang_Object_2_classLit);
function JAM$9(){
}

defineClass(538, 1, $intern_15, JAM$9);
_.onMouseOver = function onMouseOver_13(event_0){
  $setPlayForward(($clinit_JAM() , ForumLinkButton).animation);
}
;
var Lcom_lostagain_JamGwt_JAM$9_2_classLit = createForClass('com.lostagain.JamGwt', 'JAM/9', 538, Ljava_lang_Object_2_classLit);
function $clinit_CommonText(){
  $clinit_CommonText = emptyMethod;
  gamesFileOverrides = ($clinit_EmptyImmutableBiMap() , INSTANCE_0);
}

var gamesFileOverrides;
function $clinit_CommonText$StringNames(){
  $clinit_CommonText$StringNames = emptyMethod;
  loadingStrings = new CommonText$StringNames;
}

function CommonText$StringNames(){
  Enum.call(this, 'loadingStrings', 0);
}

function valueOf_41(name_0){
  $clinit_CommonText$StringNames();
  return valueOf(($clinit_CommonText$StringNames$Map() , $MAP_39), name_0);
}

function values_47(){
  $clinit_CommonText$StringNames();
  return initValues(getClassLiteralForArray(Lcom_lostagain_JamGwt_JAMtext_CommonText$StringNames_2_classLit, 1), $intern_1, 346, 0, [loadingStrings]);
}

defineClass(346, 9, {346:1, 3:1, 21:1, 9:1}, CommonText$StringNames);
var loadingStrings;
var Lcom_lostagain_JamGwt_JAMtext_CommonText$StringNames_2_classLit = createForEnum('com.lostagain.JamGwt.JAMtext', 'CommonText/StringNames', 346, Ljava_lang_Enum_2_classLit, values_47, valueOf_41);
function $clinit_CommonText$StringNames$Map(){
  $clinit_CommonText$StringNames$Map = emptyMethod;
  $MAP_39 = createValueOfMap(($clinit_CommonText$StringNames() , initValues(getClassLiteralForArray(Lcom_lostagain_JamGwt_JAMtext_CommonText$StringNames_2_classLit, 1), $intern_1, 346, 0, [loadingStrings])));
}

var $MAP_39;
function $clinit_MWaCText(){
  $clinit_MWaCText = emptyMethod;
  $clinit_CommonText();
  gamesInternalText = of('en_' + $toString_1(($clinit_CommonText$StringNames() , loadingStrings)), ($clinit_MWaCTextResources_default_StaticClientBundleGenerator$enloadingStringsInitializer() , enloadingStrings), 'nl_' + $toString_1(loadingStrings), ($clinit_MWaCTextResources_default_StaticClientBundleGenerator$nlloadingStringsInitializer() , nlloadingStrings));
}

var gamesInternalText;
function getExternalFileOverride(fileurl){
  $clinit_MWaCText();
  var overridetext;
  overridetext = dynamicCast($get_4(gamesFileOverrides, fileurl), 524);
  if (!overridetext) {
    return null;
  }
  return overridetext.getText();
}

function getTextForCurrentLanaguage(TextStringName){
  $clinit_MWaCText();
  return getTextForLanaguage(($clinit_JAMcore() , LanguageExtension_0), TextStringName.name_0 != null?TextStringName.name_0:'' + TextStringName.ordinal);
}

function getTextForLanaguage(LanExtension, TextStringName){
  var name_0, result, whatever;
  name_0 = LanExtension.toLowerCase() + '_' + TextStringName;
  whatever = dynamicCast($get_4(gamesInternalText, name_0), 524);
  if (!whatever) {
    return 'no text \n for specified \n language:' + LanExtension + ' and \n name:' + TextStringName;
  }
  result = whatever.getText();
  return result;
}

var enloadingStrings, nlloadingStrings;
function MWaCTextResources_default_StaticClientBundleGenerator$1(){
}

defineClass(1125, 1, {524:1}, MWaCTextResources_default_StaticClientBundleGenerator$1);
_.getText = function getText(){
  return 'Searching for ingredients\r\nLoading eggs.\r\nLoading eggs...\r\nLoading flour.\r\nLoading flour...\r\nLoading flour.....\r\nLoading sugar..\r\nLoading sugar....\r\nLoading sugar.......\r\nLoading sugar..................\r\n!!!Sugar overflow error!!!\r\n-Cocoa Compensation engaged-\r\n-Cocoa Compensation Succeeded-\r\nPre-toasting nuts for additional yummyness\r\nMixing variables\r\nWaiting for flavour permutations..\r\nWaiting for flavour permutations....\r\nWaiting for flavour permutations......\r\n..arg...cant wait error...\r\nInitialising baking parameters\r\nBaking (textures)\r\nReady to munch!';
}
;
var Lcom_lostagain_JamGwt_JAMtext_MWaCTextResources_1default_1StaticClientBundleGenerator$1_2_classLit = createForClass('com.lostagain.JamGwt.JAMtext', 'MWaCTextResources_default_StaticClientBundleGenerator/1', 1125, Ljava_lang_Object_2_classLit);
function MWaCTextResources_default_StaticClientBundleGenerator$2(){
}

defineClass(1126, 1, {524:1}, MWaCTextResources_default_StaticClientBundleGenerator$2);
_.getText = function getText_0(){
  return 'Searching for ingredients\r\nLoading eggs.\r\nLoading eggs...\r\nLoading flour.\r\nLoading flour...\r\nLoading flour.....\r\nLoading sugar..\r\nLoading sugar....\r\nLoading sugar.......\r\nLoading sugar..................\r\n!!!Sugar overflow error!!!\r\n-Cocoa Compensation engaged-\r\n-Cocoa Compensation Succeeded-\r\nPre-toasting nuts for additional yummyness\r\nMixing variables\r\nWaiting for flavour permutations..\r\nWaiting for flavour permutations....\r\nWaiting for flavour permutations......\r\n..arg...cant wait error...\r\nInitialising baking parameters\r\nBaking (textures)\r\nReady to munch!';
}
;
var Lcom_lostagain_JamGwt_JAMtext_MWaCTextResources_1default_1StaticClientBundleGenerator$2_2_classLit = createForClass('com.lostagain.JamGwt.JAMtext', 'MWaCTextResources_default_StaticClientBundleGenerator/2', 1126, Ljava_lang_Object_2_classLit);
function $clinit_MWaCTextResources_default_StaticClientBundleGenerator$enloadingStringsInitializer(){
  $clinit_MWaCTextResources_default_StaticClientBundleGenerator$enloadingStringsInitializer = emptyMethod;
  enloadingStrings = new MWaCTextResources_default_StaticClientBundleGenerator$1;
}

function $clinit_MWaCTextResources_default_StaticClientBundleGenerator$nlloadingStringsInitializer(){
  $clinit_MWaCTextResources_default_StaticClientBundleGenerator$nlloadingStringsInitializer = emptyMethod;
  nlloadingStrings = new MWaCTextResources_default_StaticClientBundleGenerator$2;
}

function $clinit_CollisionDebugBox(){
  $clinit_CollisionDebugBox = emptyMethod;
  $clinit_TitledPopUpWithShadow();
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'JAM.CollisionDebugBox');
  CollisionLog = ($clinit_JAMcore() , DebugMode).value_0?new SpiffyLogBox:new SpiffyLogBox$SpiffyDummyLogBox;
}

function $error(logThis){
  CollisionLog.error_0(logThis);
}

function $info_0(logThis){
  CollisionLog.info_0(logThis);
}

function $log_1(logThis){
  CollisionLog.log_0(logThis);
}

function $log_2(logThis, color_0){
  CollisionLog.log_1(logThis, color_0);
}

function $logPath(np){
  var pathlog;
  pathlog = new CollisionDebugBox$PathLogObject(np);
  CollisionLog.addWidgetToList(pathlog);
}

function CollisionDebugBox(){
  $clinit_CollisionDebugBox();
  var clearSketch, ontopBox;
  TitledPopUpWithShadow_0.call(this, '500px', 'Collision Log', new Label_1('loading...'), true);
  this.thisbox = this;
  $setCenterWidget(this, CollisionLog);
  setStyleName($getParentElement(($clinit_DOM() , $getFirstChildElement(this.element))), 'unselectable', false);
  CollisionLog.setBackgroundColour('#FFF');
  ontopBox = new CheckBox_1('on top');
  $setPropertyImpl($getElement(this.thisbox).style, 'zIndex', '80000');
  $fixedZdepth(this.thisbox, 80000);
  $setValue_1(ontopBox, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  $addValueChangeHandler_0(ontopBox, new CollisionDebugBox$1(this));
  clearSketch = new Button('clear sketch');
  $addDomHandler(clearSketch, new CollisionDebugBox$2, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  CollisionLog.addControl(clearSketch);
  CollisionLog.addControl(ontopBox);
}

defineClass(1274, 65, {85:1, 132:1, 96:1, 130:1, 131:1, 129:1, 20:1, 6:1, 16:1, 19:1, 95:1, 17:1, 27:1, 13:1, 53:1, 29:1, 15:1, 7:1, 87:1, 192:1, 64:1, 71:1, 65:1}, CollisionDebugBox);
_.onLoad = function onLoad_11(){
  CollisionLog.setPixelSize(470, 480);
}
;
var CollisionLog;
var Lcom_lostagain_JamGwt_JargScene_CollisionMap_CollisionDebugBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.CollisionMap', 'CollisionDebugBox', 1274, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function CollisionDebugBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(1277, 1, $intern_114, CollisionDebugBox$1);
_.onValueChange = function onValueChange_1(event_0){
  dynamicCast(event_0.value_0, 111).value_0?$fixedZdepth(this.this$01.thisbox, 80000):(this.this$01.thisbox.fixed_zindex = false);
}
;
var Lcom_lostagain_JamGwt_JargScene_CollisionMap_CollisionDebugBox$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.CollisionMap', 'CollisionDebugBox/1', 1277, Ljava_lang_Object_2_classLit);
function CollisionDebugBox$2(){
}

defineClass(1278, 1, $intern_17, CollisionDebugBox$2);
_.onClick = function onClick_43(event_0){
  var currentScene;
  currentScene = ($clinit_SceneObjectDatabase() , currentScene_0);
  if (currentScene.scenesCmap.isPresent()) {
    $clearSketch(dynamicCast(currentScene.scenesCmap.get_1(), 73));
    $clearCalculatedPath(dynamicCast(currentScene.scenesCmap.get_1(), 73));
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_CollisionMap_CollisionDebugBox$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.CollisionMap', 'CollisionDebugBox/2', 1278, Ljava_lang_Object_2_classLit);
function CollisionDebugBox$PathLogObject(np){
  var pathData, viewPath;
  HorizontalPanel.call(this);
  pathData = new Label_1($getAsSVGPath(np, false));
  np.pathFindingBroke?(($clinit_DOM() , pathData.element).style['color'] = '#FF0000' , undefined):(($clinit_DOM() , pathData.element).style['color'] = '#AAAA00' , undefined);
  ($clinit_DOM() , pathData.element).style['fontSize'] = ($clinit_Style$Unit() , '75.0%');
  $setTitle(pathData, np.pathsName);
  $add_4(this, pathData);
  viewPath = new CheckBox;
  $addValueChangeHandler_0(viewPath, new CollisionDebugBox$PathLogObject$1(np));
  $add_4(this, viewPath);
}

defineClass(1275, 34, $intern_22, CollisionDebugBox$PathLogObject);
var Lcom_lostagain_JamGwt_JargScene_CollisionMap_CollisionDebugBox$PathLogObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.CollisionMap', 'CollisionDebugBox/PathLogObject', 1275, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function CollisionDebugBox$PathLogObject$1(val$np){
  this.val$np2 = val$np;
}

defineClass(1276, 1, $intern_114, CollisionDebugBox$PathLogObject$1);
_.onValueChange = function onValueChange_2(event_0){
  var currentScene;
  currentScene = ($clinit_SceneObjectDatabase() , currentScene_0);
  if (dynamicCast(event_0.value_0, 111).value_0) {
    if (currentScene.scenesCmap.isPresent()) {
      $addToSketch(dynamicCast(currentScene.scenesCmap.get_1(), 73), $getAsSVGPath(this.val$np2, false), '#00DDFF');
      $showPath(dynamicCast(currentScene.scenesCmap.get_1(), 73), true);
    }
  }
   else {
    currentScene.scenesCmap.isPresent() && $removeFromSketch(dynamicCast(currentScene.scenesCmap.get_1(), 73), $getAsSVGPath(this.val$np2, false));
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_CollisionMap_CollisionDebugBox$PathLogObject$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.CollisionMap', 'CollisionDebugBox/PathLogObject/1', 1276, Ljava_lang_Object_2_classLit);
function $clinit_CollisionMapVisualiser(){
  $clinit_CollisionMapVisualiser = emptyMethod;
  Log_90 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.CollisionMapVisualiser'));
}

function $addToSketch_0(this$static, sketchSVGPath, color_0){
  var newPath;
  newPath = '<path id="lineBC" d="' + sketchSVGPath + '" stroke="' + '' + color_0 + '' + '" stroke-width="3" fill="none" />';
  $add_21(this$static.PathList, newPath);
  $info_1(Log_90, 'Sketchpad added:' + newPath);
  $redrawSketch(this$static);
}

function $clearSketch_0(this$static){
  this$static.PathList.map_0.clear_1();
  $setHTML(this$static.svgSketchPad, '');
}

function $generatePreviewWidget(this$static){
  var AllPaths, sceneObject, scenesObjects, sit;
  scenesObjects = $allScenesCurrentObjects(this$static.sourceScene.scenesData);
  $setSize(this$static.collisionMapPreviewWidget, '100%', '100%');
  $setPropertyImpl($getElement(this$static.collisionMapPreviewWidget).style, 'pointerEvents', 'none');
  $getElement(this$static.collisionMapPreviewWidget).style['overflow'] = ($clinit_Style$Overflow() , 'visible');
  $setPropertyImpl($getElement(this$static.collisionMapPreviewWidget).style, 'zIndex', '50000');
  $clear(this$static.collisionMapPreviewWidget);
  AllPaths = $getPath(this$static.scenesOwnMap);
  scenesObjects.list.isEmpty_0() && $info_1(Log_90, 'no objects yet so no cmap generated');
  $info_1(Log_90, 'cmap generated for scene:' + AllPaths);
  sit = scenesObjects.iterator();
  while (sit.hasNext()) {
    sceneObject = dynamicCast(sit.next_0(), 24);
    if (!sceneObject.isVisible()) {
      continue;
    }
    AllPaths = AllPaths + $getCollisionPath(sceneObject);
  }
  $setHTML(this$static.svgPreview, '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="40000" width="40000">' + AllPaths + '<\/svg>');
  $add_7(this$static.collisionMapPreviewWidget, this$static.svgPreview);
}

function $redrawSketch(this$static){
  var allPaths, iterable_element, iterable_element$iterator;
  $remove_6(this$static.svgPathVisualisation, this$static.svgSketchPad);
  allPaths = '';
  for (iterable_element$iterator = $iterator_4(new AbstractMap$1(this$static.PathList.map_0)); iterable_element$iterator.val$outerIter2.hasNext();) {
    iterable_element = dynamicCastToString($next_7(iterable_element$iterator));
    allPaths = allPaths + iterable_element;
  }
  $setHTML(this$static.svgSketchPad, '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="40000" width="40000">' + allPaths + '<\/svg>');
  $setSize(this$static.svgSketchPad, '100%', '100%');
  $add_7(this$static.svgPathVisualisation, this$static.svgSketchPad);
}

function $removeFromSketch_0(this$static, sketchSVGPath){
  var newPath, success;
  newPath = '<path id="lineBC" d="' + sketchSVGPath + '" stroke="' + '' + '#00DDFF' + '' + '" stroke-width="3" fill="none" />';
  success = ($clinit_Boolean() , $remove_21(this$static.PathList, newPath)?TRUE_3:FALSE_2);
  success.value_0 || $info_1(Log_90, 'no match found to remove');
  $redrawSketch(this$static);
}

function $setupVisualiser(this$static, sourceScene, scenesOwnMap){
  this$static.sourceScene = sourceScene;
  this$static.scenesOwnMap = scenesOwnMap;
  $add_8(this$static.svgPathVisualisation, this$static.svgSketchPad, 0, 0);
  $add_8(this$static.svgPathVisualisation, this$static.svgCalculatedPath, 0, 0);
  $setSize(this$static.svgPathVisualisation, '100%', '100%');
  $getElement(this$static.svgPathVisualisation).style['overflow'] = ($clinit_Style$Overflow() , 'visible');
  $setPropertyImpl($getElement(this$static.svgPathVisualisation).style, 'zIndex', '50005');
  $setPropertyImpl($getElement(this$static.svgPathVisualisation).style, 'pointerEvents', 'none');
  $clear(this$static.svgPathVisualisation);
}

function $showCmap_0(this$static, show){
  $generatePreviewWidget(this$static);
  $setVisible(this$static.collisionMapPreviewWidget, show);
}

function $showPath_0(this$static, show){
  $setVisible(this$static.svgPathVisualisation, show);
}

function $svgSmoothPathUpdate(this$static, map_0){
  $info_1(Log_90, 'updating svg smooth path');
  $setSize(this$static.svgPathVisualisation, '100%', '100%');
  $getElement(this$static.svgPathVisualisation).style['overflow'] = ($clinit_Style$Overflow() , 'visible');
  $setPropertyImpl($getElement(this$static.svgPathVisualisation).style, 'zIndex', '50000');
  $remove_6(this$static.svgPathVisualisation, this$static.svgRefinedPath);
  this$static.svgRefinedPath = new HTML_1('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="40000" width="40000"><path id="lineBC" d="' + map_0 + '" stroke="' + 'green' + '" stroke-width="3" fill="none" /><\/svg>');
  $add_8(this$static.svgPathVisualisation, this$static.svgRefinedPath, 0, 0);
}

function $updatePath_0(this$static, np, lastCollision){
  var Path_0;
  Path_0 = '<path id="lineBC" d="' + $getAsSVGPath(np, false) + '" stroke="' + this$static.PathfindingColor + '" stroke-width="3" fill="none" />';
  $clear(this$static.svgPathVisualisation);
  lastCollision?(Path_0 = Path_0 + $getSidesPath(lastCollision, lastCollision.currentPoly, lastCollision.currentSide)):$info_1(Log_90, '_______________________no last collision set');
  $setHTML(this$static.svgCalculatedPath, '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" height="40000" width="40000">' + Path_0 + '<\/svg>');
  $add_8(this$static.svgPathVisualisation, this$static.svgSketchPad, 0, 0);
  $add_8(this$static.svgPathVisualisation, this$static.svgCalculatedPath, 0, 0);
}

function CollisionMapVisualiser(){
  $clinit_CollisionMapVisualiser();
  this.svgCalculatedPath = new HTML;
  this.svgRefinedPath = new HTML;
  this.collisionMapPreviewWidget = new AbsolutePanel;
  this.svgPreview = new HTML;
  this.svgSketchPad = new HTML_1('');
  this.PathList = new HashSet;
  this.svgPathVisualisation = new AbsolutePanel;
}

defineClass(217, 1, {102:1, 217:1}, CollisionMapVisualiser);
_.PathfindingColor = 'blue';
var Log_90;
var Lcom_lostagain_JamGwt_JargScene_CollisionMap_CollisionMapVisualiser_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.CollisionMap', 'CollisionMapVisualiser', 217, Ljava_lang_Object_2_classLit);
function $clinit_GwtMenuBar(){
  $clinit_GwtMenuBar = emptyMethod;
  $clinit_JamMenuBar();
  new LoggerImplRegular;
  $ensureLogger(getLogManager(), 'JAM.GwtMenuBar');
}

function GwtMenuBar(parentbox){
  $clinit_GwtMenuBar();
  this.associatedMenu = parentbox;
  this.visualRepresentation = new MenuBar;
}

defineClass(1272, 1193, $intern_118, GwtMenuBar);
_.getVisualRepresentation = function getVisualRepresentation_20(){
  return this.visualRepresentation;
}
;
var Lcom_lostagain_JamGwt_JargScene_GwtMenuBar_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'GwtMenuBar', 1272, Lcom_lostagain_Jam_Factorys_JamMenuBar_2_classLit);
function GwtMenuBar$1(val$runOnMenuClick){
  this.val$runOnMenuClick2 = val$runOnMenuClick;
}

defineClass(1273, 1, {}, GwtMenuBar$1);
_.execute = function execute_28(){
  $execute_0(this.val$runOnMenuClick2);
}
;
var Lcom_lostagain_JamGwt_JargScene_GwtMenuBar$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'GwtMenuBar/1', 1273, Ljava_lang_Object_2_classLit);
function $addOptions(this$static, OptionList, sourceobject, tabName){
  var newOption, optionname, optionname$iterator, optionnumber, panelToAddTo;
  !sourceobject && (sourceobject = this$static.toRememberSource);
  tabName == null && (tabName = 'Ask about');
  panelToAddTo = dynamicCast(this$static.allTabPanels.get_2(tabName), 294);
  !panelToAddTo && (panelToAddTo = $createAndAddNewTab(this$static, tabName));
  optionnumber = panelToAddTo.children.size_0;
  for (optionname$iterator = new AbstractList$IteratorImpl(OptionList); optionname$iterator.i < optionname$iterator.this$01_0.size_1();) {
    optionname = (checkCriticalElement(optionname$iterator.i < optionname$iterator.this$01_0.size_1()) , dynamicCastToString(optionname$iterator.this$01_0.get_0(optionname$iterator.last = optionname$iterator.i++)));
    ++optionnumber;
    newOption = new GwtTextOptionFlowPanel$TextOption(optionname, sourceobject, optionnumber);
    $add_3(panelToAddTo, newOption, ($clinit_DOM() , panelToAddTo.element));
  }
}

function $createAndAddNewTab(this$static, tabname){
  var newflowpanel;
  newflowpanel = new FlowPanel;
  $add_10(this$static.visualRepresenation, newflowpanel, tabname);
  return newflowpanel;
}

function GwtTextOptionFlowPanel(OptionList, sourceobject, FlowPanelName, tabname){
  $clinit_TextOptionFlowPanelCore();
  var defaultPanel;
  this.visualRepresenation = new TabPanel;
  this.allTabPanels = new HashMap;
  $addStyleName(this.visualRepresenation, 'questionpanel');
  this.toRememberSource = sourceobject;
  defaultPanel = $createAndAddNewTab(this, tabname);
  this.allTabPanels.put(tabname, defaultPanel);
  $addOptions(this, OptionList, sourceobject, tabname);
  globalTextOptionsList.put(FlowPanelName, this);
  $selectTab(this.visualRepresenation.tabBar, 0);
}

defineClass(1207, 395, {395:1}, GwtTextOptionFlowPanel);
_.getVisualRepresentation = function getVisualRepresentation_21(){
  return this.visualRepresenation;
}
;
var Lcom_lostagain_JamGwt_JargScene_GwtTextOptionFlowPanel_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'GwtTextOptionFlowPanel', 1207, Lcom_lostagain_Jam_Scene_TextOptionFlowPanelCore_2_classLit);
function $execute_1(this$static){
  this$static.sourceobject.userActionTriggeredOnObject(this$static.useractionname);
}

function GwtTextOptionFlowPanel$TextOption(actionName, object, NumberOption){
  SimplePanel.call(this);
  setStylePrimaryName(($clinit_DOM() , this.element), 'textOptionDefaultStyle');
  this.sourceobject = object;
  this.useractionname = actionName;
  this.optionsLabel = new Label_1(NumberOption + '. ' + this.useractionname);
  $addDomHandler(this.optionsLabel, new GwtTextOptionFlowPanel$TextOption$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $setWidget(this, this.optionsLabel);
}

defineClass(1208, 29, $intern_14, GwtTextOptionFlowPanel$TextOption);
var Lcom_lostagain_JamGwt_JargScene_GwtTextOptionFlowPanel$TextOption_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'GwtTextOptionFlowPanel/TextOption', 1208, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function GwtTextOptionFlowPanel$TextOption$1(this$1){
  this.this$11 = this$1;
}

defineClass(1209, 1, $intern_17, GwtTextOptionFlowPanel$TextOption$1);
_.onClick = function onClick_44(event_0){
  $execute_1(this.this$11);
}
;
var Lcom_lostagain_JamGwt_JargScene_GwtTextOptionFlowPanel$TextOption$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'GwtTextOptionFlowPanel/TextOption/1', 1209, Ljava_lang_Object_2_classLit);
function $clinit_SceneLabelObject(){
  $clinit_SceneLabelObject = emptyMethod;
  $clinit_SceneDivObject();
  Log_91 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneLabelObject'));
}

function $setCursorMode(this$static, cursorStyle){
  $setBlink(this$static.TextLabel_0, cursorStyle);
}

function $setTextCSS(this$static, name_0){
  $setStyleName(this$static.TextLabel_0, name_0);
  this$static.objectsCurrentState_0.CSSname = $getStyleElement(this$static.TextLabel_0).className || '';
}

function $setVisible_2(this$static, status_0){
  if (status_0) {
    if (this$static.objectsCurrentState_0.attachToHTMLDiv.length < 1 && this$static.internalFocusPanel.attached) {
      if (this$static.objectsCurrentState_0.positionedRelativeToo) {
        $updateRelativePosition(this$static, true);
      }
       else {
        $info_1(Log_91, 'resetting position');
        $setPosition_2(this$static.thisobject, this$static.objectsCurrentState_0.X, this$static.objectsCurrentState_0.Y, this$static.objectsCurrentState_0.Z, true, false, true);
      }
    }
  }
  $setVisible_1(this$static, status_0, true);
}

function $setupWidget_1(this$static, objectsCurrentState2){
  this$static.objectsCurrentState_0 = objectsCurrentState2;
  $setupWidget(this$static);
  $info_1(Log_91, '___________________________________________________________________creating label object');
  this$static.ObjectsLog.log_1('Setting up label', 'orange');
  this$static.objectsCurrentState_0.cursorVisible == ($clinit_SceneLabelObjectState$cursorVisibleOptions() , DEFAULT_0)?$setBlink(this$static.TextLabel_0, WHENTYPING):$setBlink(this$static.TextLabel_0, this$static.objectsCurrentState_0.cursorVisible);
  this$static.objectsCurrentState_0.Custom_Key_Beep != null?$setCUSTOM_KEY_BEEP(this$static.TextLabel_0, this$static.objectsCurrentState_0.Custom_Key_Beep):$info_1(Log_91, '__________(no custom sound)');
  this$static.objectsCurrentState_0.Custom_Space_Beep != null?$setCUSTOM_SPACEKEY_BEEP(this$static.TextLabel_0, this$static.objectsCurrentState_0.Custom_Space_Beep):$info_1(Log_91, '__________(no custom sound)');
  $setAssociatedObject(this$static.TextLabel_0, this$static);
  $setTitle(this$static.TextLabel_0, objectsCurrentState2.Title);
  $setSize(this$static.TextLabel_0, objectsCurrentState2.sizeX, objectsCurrentState2.sizeY);
  $info_1(Log_91, 'setting style name to:' + objectsCurrentState2.CSSname);
  $setTextCSS(this$static, objectsCurrentState2.CSSname);
  $info_1(Log_91, 'setting text and widget on label widget...typed=' + objectsCurrentState2.TypedText + ' text=' + objectsCurrentState2.ObjectsCurrentText);
  if (objectsCurrentState2.ObjectsCurrentText == null) {
    $warning_0(Log_91, 'text was null on setup, this is probably a mistake,setting to zero length string');
    objectsCurrentState2.ObjectsCurrentText = '';
  }
  this$static.ObjectsLog.log_1('Text Set To;' + objectsCurrentState2.ObjectsCurrentText + ' ' + objectsCurrentState2.TypedText, 'green');
  objectsCurrentState2.TypedText == ($clinit_SceneObjectState$TrueFalseOrDefault() , TRUE_2)?this$static.setText_0(objectsCurrentState2.ObjectsCurrentText, true):this$static.setText_0(objectsCurrentState2.ObjectsCurrentText, false);
  $setWidget_2(this$static, this$static.TextLabel_0);
  $startLoadingMovementAnimations(this$static);
}

function $updateState_3(this$static, newState, runOnload, repositionObjectsRelativeToThis){
  !newState && this$static.ObjectsLog.error_0('ERROR: State requested is null');
  $updateState_1(this$static, newState, false, false);
  this$static.ObjectsLog.log_1('Updating Label state - RunOnLoad=' + runOnload + ' AlreadyLoaded=' + this$static.alreadyLoaded, 'blue');
  $info_1(Log_91, 'setting object:' + newState.ObjectsName + ' data to newState');
  if (newState.ObjectsCurrentText != null) {
    if ($equals_5(newState.ObjectsCurrentText, this$static.objectsCurrentState_0.ObjectsCurrentText)) {
      $info_1(Log_91, 'text not changed (still ' + newState.ObjectsCurrentText + ')');
    }
     else {
      this$static.objectsCurrentState_0.ObjectsCurrentText = newState.ObjectsCurrentText;
      $info_1(Log_91, 'text changing to:' + this$static.objectsCurrentState_0.ObjectsCurrentText);
      this$static.ObjectsLog.log_1('Text now inst Seting To:' + this$static.objectsCurrentState_0.ObjectsCurrentText, 'green');
      $setTextNow(this$static.TextLabel_0, this$static.objectsCurrentState_0.ObjectsCurrentText, false);
    }
  }
  this$static.ObjectsLog.info_0('setting paragraph css too:' + newState.CSSname);
  $info_1(Log_91, 'setting css too:' + newState.CSSname);
  $setTextCSS(this$static, newState.CSSname);
  if (runOnload) {
    $info_1(Log_91, 'running objects onload again');
    this$static.alreadyLoaded = false;
    $onLoad_0(this$static);
  }
   else {
    $info_1(Log_91, 'run onload no specified');
  }
  if (repositionObjectsRelativeToThis) {
    $info_1(Log_91, 'updateThingsPositionedRelativeToThis:');
    $updateThingsPositionedRelativeToThis(this$static, true);
  }
  $info_1(Log_91, '..');
  $recheckInternalObjects(this$static.TextLabel_0);
}

function SceneLabelObject(newobjectdata, actions, sceneItsOn, innerWidget, finaliseLoad){
  $clinit_SceneLabelObject();
  SceneDivObject.call(this, newobjectdata, actions, sceneItsOn, innerWidget, false);
  this.TextLabel_0 = dynamicCast(this.widgetContents, 211);
  this.objectsCurrentState_0 = dynamicCast(this.objectsCurrentState_1, 119);
  !this.objectsCurrentState_0 && $warning_0(Log_91, 'objectsCurrentState is null');
  this.objectsCurrentState_0.zindex = newobjectdata.zindex;
  $warning_0(Log_91, '_________creating label object ' + this.objectsCurrentState_0.ObjectsName + '________________');
  this.ObjectsLog.info_0('(creating label object)');
  this.ObjectsLog.info_0('currentObjectState visibility:' + this.objectsCurrentState_0.currentlyVisible);
  if (finaliseLoad) {
    $setupWidget_1(this, this.objectsCurrentState_0);
    $initialiseAndAddToDatabase(this);
  }
  this.ObjectsLog.logTimer('setup label took;');
}

function SceneLabelObject_0(newobjectdata, actions, sceneItsOn){
  $clinit_SceneLabelObject();
  SceneLabelObject.call(this, new SceneLabelObjectState_0(newobjectdata), actions, sceneItsOn, new TypedLabel, true);
}

defineClass(174, 120, {97:1, 109:1, 159:1, 147:1, 222:1, 24:1, 120:1, 174:1, 137:1}, SceneLabelObject_0);
_.addTextCSS = function addTextCSS(name_0){
  $addStyleName(this.TextLabel_0, name_0);
  this.objectsCurrentState_0.CSSname = $getStyleElement(this.TextLabel_0).className || '';
}
;
_.getInitialState = function getInitialState_4(){
  return this.getInitialState_0();
}
;
_.getInitialState_0 = function getInitialState_5(){
  return dynamicCast(this.initialObjectState, 119);
}
;
_.getObjectsCurrentState = function getObjectsCurrentState_4(){
  return this.getObjectsCurrentState_0();
}
;
_.getObjectsCurrentState_0 = function getObjectsCurrentState_5(){
  return this.objectsCurrentState_0;
}
;
_.getTempState = function getTempState_2(){
  return this.getTempState_0();
}
;
_.getTempState_0 = function getTempState_3(){
  return dynamicCast(this.tempObjectState, 119);
}
;
_.removeTextCSS = function removeTextCSS(name_0){
  $removeStyleName(this.TextLabel_0, name_0);
  this.objectsCurrentState_0.CSSname = $getStyleElement(this.TextLabel_0).className || '';
}
;
_.resetObject = function resetObject_2(){
  this.ObjectsLog.log_1('Resetting object:', '#FF0000');
  this.ObjectsLog.log_1('Movement in initial state is :' + this.initialObjectState.moveState.currentmovementpath, '#FF0000');
  $updateState_3(this, this.getInitialState_0(), false, true);
  this.alreadyLoaded = false;
  $info_1(Log_91, 'running objects onload again..');
  $onLoad_0(this);
  $resetObject_0(this, false, false);
}
;
_.setObjectsInitialState = function setObjectsInitialState_2(objectsInitialState){
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = dynamicCast(objectsInitialState, 119);
}
;
_.setText = function setText(text_0){
  this.objectsCurrentState_0.TypedText == ($clinit_SceneObjectState$TrueFalseOrDefault() , TRUE_2)?this.setText_0(text_0, true):this.setText_0(text_0, false);
}
;
_.setText_0 = function setText_0(text_0, Typed){
  var disablesound;
  text_0 = replaceGameVariablesWithValues_0(text_0, this);
  this.internalFocusPanel.attached || $severe_0(Log_91, this.objectsCurrentState_2.ObjectsName + ' was not attached yet! yet setText is triggered on label...');
  this.objectsCurrentState_0.ObjectsCurrentText = text_0;
  disablesound = !($isVisible(this.internalFocusPanel) && this.internalFocusPanel.attached);
  if (Typed) {
    $setText_9(this.TextLabel_0, text_0, disablesound);
    this.ObjectsLog.log_1('Text Set To;' + text_0 + ' sound disabled:' + disablesound, 'green');
  }
   else {
    $setTextNow(this.TextLabel_0, text_0, disablesound);
    this.ObjectsLog.log_1('Text instantly Set To;' + text_0 + ' sound disabled:' + disablesound, 'green');
  }
  wasLastObjectUpdated(this);
}
;
_.setTextCSS = function setTextCSS(name_0){
  $setTextCSS(this, name_0);
}
;
_.setVisible = function setVisible_5(status_0){
  $setVisible_2(this, status_0);
}
;
_.updateState_0 = function updateState_1(newState, runOnload, repositionObjectsRelativeToThis){
  $updateState_3(this, newState, runOnload, repositionObjectsRelativeToThis);
}
;
var Log_91;
var Lcom_lostagain_JamGwt_JargScene_SceneLabelObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneLabelObject', 174, Lcom_lostagain_JamGwt_JargScene_SceneDivObject_2_classLit);
function $clinit_SceneDialogObject(){
  $clinit_SceneDialogObject = emptyMethod;
  $clinit_SceneLabelObject();
  Log_92 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneDialogObject'));
}

function $hasNextParagraph(this$static){
  if (this$static.objectsCurrentState.currentParagraphPage < this$static.objectsCurrentState.currentNumberOfParagraphs - 1) {
    return true;
  }
  return false;
}

function $loadTextFromURL(this$static, url_0, useCache){
  var onError, onResponse;
  if (($clinit_JAMcore() , DebugMode).value_0) {
    $setTextNow(this$static.TextLabel, '(loading text from file:' + url_0 + ')', true);
    this$static.ObjectsLog.log_1('Text Set To;(loading text from file:' + url_0 + ')', 'green');
  }
   else {
    $setTextNow(this$static.TextLabel, '...', true);
    this$static.ObjectsLog.log_1('Text Set To;...', 'green');
  }
  onResponse = new SceneDialogObject$3(this$static);
  onError = new SceneDialogObject$4(this$static);
  $clinit_RequiredImplementations();
  GetTextFile('Game Scenes/' + this$static.objectScene.SceneFileName + '/Text/' + url_0, onResponse, onError, false, useCache);
}

function $nextParagraph(this$static){
  wasLastObjectUpdated(this$static);
  if (this$static.TextLabel.currentlyTyping) {
    $info_1(Log_92, 'dialogue currently typing so we skip to the end');
    $setTextNow(this$static.TextLabel, '' + $getText_0(this$static.knownParagraphs, this$static.objectsCurrentState.currentparagraphName, this$static.objectsCurrentState.currentParagraphPage), false);
    this$static.ObjectsLog.log_1('Text Set To:', 'green');
    this$static.ObjectsLog.log_1('paragraph name:' + this$static.objectsCurrentState.currentparagraphName + ' data=' + this$static.objectsCurrentState.currentParagraphPage, 'green');
    return;
  }
  if (this$static.objectsCurrentState.currentParagraphPage + 1 <= this$static.objectsCurrentState.currentNumberOfParagraphs - 1) {
    $info_1(Log_92, 'currentParagraph was at:' + this$static.objectsCurrentState.currentParagraphPage);
    ++this$static.objectsCurrentState.currentParagraphPage;
    $info_1(Log_92, 'currentParagraph is  at:' + this$static.objectsCurrentState.currentParagraphPage);
    this$static.ObjectsLog.log_1('(setting text after next paragraph requested)', 'blue');
    $setText_7(this$static, '' + $getText_0(this$static.knownParagraphs, this$static.objectsCurrentState.currentparagraphName, this$static.objectsCurrentState.currentParagraphPage));
    return;
  }
   else {
    this$static.ObjectsLog.log_1('Requested paragraph out of range:' + (this$static.objectsCurrentState.currentParagraphPage + 1) + ' requested out of ' + this$static.objectsCurrentState.currentNumberOfParagraphs, 'blue');
    $info_1(Log_92, 'Requested paragraph out of range:' + (this$static.objectsCurrentState.currentParagraphPage + 1) + ' requested out of ' + this$static.objectsCurrentState.currentNumberOfParagraphs);
    $info_1(Log_92, 'Paragraph name is  :' + this$static.objectsCurrentState.currentparagraphName);
  }
}

function $previousParagraph(this$static){
  if (this$static.objectsCurrentState.currentParagraphPage > 0) {
    --this$static.objectsCurrentState.currentParagraphPage;
    this$static.ObjectsLog.log_1('(setting text after previous paragraph requested)', 'blue');
    $setText_7(this$static, '' + $getText_0(this$static.knownParagraphs, this$static.objectsCurrentState.currentparagraphName, this$static.objectsCurrentState.currentParagraphPage));
  }
  wasLastObjectUpdated(this$static);
}

function $reloadTextFromFile(this$static){
  $loadTextFromURL(this$static, this$static.objectsCurrentState.ObjectsCurrentURL, false);
}

function $setParagraph(this$static, num){
  this$static.ObjectsLog.info_0('setting Paragraph to ' + num);
  if (num <= this$static.objectsCurrentState.currentNumberOfParagraphs - 1) {
    this$static.objectsCurrentState.currentParagraphPage = num;
    this$static.ObjectsLog.log_1('(setting text after set paragraph requested)', 'blue');
    $setText_7(this$static, '' + $getText_0(this$static.knownParagraphs, this$static.objectsCurrentState.currentparagraphName, this$static.objectsCurrentState.currentParagraphPage));
  }
  wasLastObjectUpdated(this$static);
  !!this$static.oipu && $update_1(this$static.oipu);
}

function $setParagraphName(this$static, name_0, TriggerNow){
  this$static.ObjectsLog.log_1('Setting paragraph to:' + name_0 + ' triggernow = ' + TriggerNow, 'green');
  this$static.objectsCurrentState.currentParagraphPage = 0;
  $info_1(Log_92, 'paragraph name was ' + this$static.objectsCurrentState.currentparagraphName + ' is now set too ' + name_0);
  this$static.objectsCurrentState.currentparagraphName = name_0;
  this$static.knownParagraphs?(this$static.objectsCurrentState.currentNumberOfParagraphs = $getNumberOfParagraphs(this$static.knownParagraphs, this$static.objectsCurrentState.currentparagraphName)):(this$static.objectsCurrentState.currentNumberOfParagraphs = 1);
  $info_1(Log_92, 'This new paragraphset has ' + this$static.objectsCurrentState.currentNumberOfParagraphs + ' paragraphs ');
  if (TriggerNow) {
    $setText_7(this$static, '' + $getText_0(this$static.knownParagraphs, this$static.objectsCurrentState.currentparagraphName, this$static.objectsCurrentState.currentParagraphPage));
  }
   else {
    $info_1(Log_92, 'New paragraphname set for next NextParagraph(), unless a new setURL happens first');
    this$static.objectsCurrentState.currentParagraphPage = -1;
    this$static.ObjectsLog.info_0('Paragraph set to:' + this$static.objectsCurrentState.currentparagraphName + ':' + this$static.objectsCurrentState.currentParagraphPage + ', but not set to appear yet');
  }
  $info_1(Log_92, 'paragraph number is set to ' + this$static.objectsCurrentState.currentParagraphPage);
  wasLastObjectUpdated(this$static);
}

function $setText_7(this$static, text_0){
  this$static.objectsCurrentState.TypedText == ($clinit_SceneObjectState$TrueFalseOrDefault() , TRUE_2)?$setText_8(this$static, text_0, true):$setText_8(this$static, text_0, false);
}

function $setText_8(this$static, text_0, Typed){
  var disablesound;
  text_0 = replaceGameVariablesWithValues_0(text_0, this$static);
  this$static.internalFocusPanel.attached || $severe_0(Log_92, this$static.objectsCurrentState_2.ObjectsName + ' was not attached yet! yet setText is triggered...');
  this$static.objectsCurrentState.ObjectsCurrentText = text_0;
  disablesound = !($isVisible(this$static.internalFocusPanel) && this$static.internalFocusPanel.attached);
  if (Typed) {
    $setText_9(this$static.TextLabel, text_0, disablesound);
    this$static.ObjectsLog.log_1('Text Set To;' + text_0 + ' sound disabled:' + disablesound, 'green');
  }
   else {
    $setTextNow(this$static.TextLabel, text_0, disablesound);
    this$static.ObjectsLog.log_1('Text instantly Set To;' + text_0 + ' sound disabled:' + disablesound, 'green');
  }
  wasLastObjectUpdated(this$static);
  $updateNextIcon(this$static);
}

function $setURL_0(this$static, URL_0){
  $info_1(Log_92, 'setting url on ' + this$static.objectsCurrentState.ObjectsName + ' to ' + URL_0);
  this$static.objectsCurrentState.ObjectsCurrentURL = URL_0;
  this$static.objectsCurrentState.ObjectsCurrentURL != null && $loadTextFromURL(this$static, this$static.objectsCurrentState.ObjectsCurrentURL, true);
  $info_1(Log_92, 'Objects url set to:' + this$static.objectsCurrentState.ObjectsCurrentURL);
  wasLastObjectUpdated(this$static);
}

function $setupWidget_2(this$static, data_0){
  $setupWidget_1(this$static, data_0);
  $info_1(Log_92, '___________________________________________________________________creating dialogue object');
  this$static.ObjectsLog.log_1('Setting up dialogue object', 'orange');
  $setRunAfterTextSet(this$static.TextLabel, new SceneDialogObject$1(this$static));
  if (this$static.objectsCurrentState.ObjectsCurrentURL != null) {
    $info_1(Log_92, 'loading text from url');
    $loadTextFromURL(this$static, this$static.objectsCurrentState.ObjectsCurrentURL, true);
  }
  this$static.ObjectsLog.log_1('created dialogue object', 'green');
}

function $updateNextIcon(this$static){
  var nextobject;
  $info_1(Log_92, 'setting updateNextIcon');
  if (this$static.objectsCurrentState.NextParagraphObject.length < 2) {
    return;
  }
  if (!this$static.associatedNextParagraphIcon) {
    nextobject = getSingleSceneObjectNEW(this$static.objectsCurrentState.NextParagraphObject, this$static, true);
    if (nextobject) {
      this$static.associatedNextParagraphIcon = nextobject;
    }
     else {
      $info_1(Log_92, 'Error: Cant find nextparagraphobject for icon, specified as:' + this$static.objectsCurrentState.NextParagraphObject);
      return;
    }
  }
  $info_1(Log_92, 'setting next icon currently typing:' + this$static.TextLabel.currentlyTyping);
  if ($hasNextParagraph(this$static) && !this$static.TextLabel.currentlyTyping && !this$static.TextLabel.aboutToType && $isVisible(this$static.internalFocusPanel)) {
    $setVisibleSecretly(this$static.associatedNextParagraphIcon, true);
  }
   else {
    $info_1(Log_92, 'setting next icon to invisible');
    $setVisibleSecretly(this$static.associatedNextParagraphIcon, false);
  }
}

function $updateState_4(this$static, newState, runOnload){
  var textChanged;
  !newState && this$static.ObjectsLog.error_0('ERROR: State requested is null');
  textChanged = false;
  newState.ObjectsCurrentText != null && ($equals_5(newState.ObjectsCurrentText, this$static.objectsCurrentState.ObjectsCurrentText) || (textChanged = true));
  $updateState_3(this$static, newState, false, false);
  $info_1(Log_92, 'setting object:' + newState.ObjectsName + ' data to newState');
  this$static.ObjectsLog.log_1('Updating Diaglogue state - RunOnLoad=' + runOnload + ' AlreadyLoaded=' + this$static.alreadyLoaded, 'blue');
  if (this$static.objectsCurrentState.currentparagraphName.length > 2) {
    this$static.objectsCurrentState.currentParagraphPage = newState.currentParagraphPage;
    this$static.objectsCurrentState.currentparagraphName = newState.currentparagraphName;
  }
  if (newState.ObjectsCurrentURL != null) {
    this$static.ObjectsLog.log_1('new state specified url:' + this$static.objectsCurrentState.ObjectsCurrentURL, 'blue');
    if (!$equals_5(this$static.objectsCurrentState.ObjectsCurrentURL, newState.ObjectsCurrentURL) || textChanged) {
      this$static.ObjectsLog.log_1('loading new text data from url:' + this$static.objectsCurrentState.ObjectsCurrentURL, 'blue');
      $info_1(Log_92, 'loading new text data from url[tp]');
      $loadTextFromURL(this$static, this$static.objectsCurrentState.ObjectsCurrentURL, true);
    }
     else {
      $info_1(Log_92, 'url not changed');
    }
  }
  newState.currentNumberOfParagraphs != -1 && (this$static.objectsCurrentState.currentNumberOfParagraphs = newState.currentNumberOfParagraphs);
  if (runOnload) {
    $info_1(Log_92, 'running objects onload again');
    this$static.alreadyLoaded = false;
    $onLoad_0(this$static);
  }
   else {
    $info_1(Log_92, 'run onload no specified');
  }
  $info_1(Log_92, 'updateThingsPositionedRelativeToThis:');
  $updateThingsPositionedRelativeToThis(this$static, true);
  $info_1(Log_92, '..');
  $recheckInternalObjects(this$static.TextLabel);
}

function SceneDialogObject(newobjectdata, actions, sceneItsOn){
  $clinit_SceneDialogObject();
  SceneLabelObject.call(this, new SceneDialogObjectState_0(newobjectdata), actions, sceneItsOn, new TypedLabel, false);
  this.thisObject = this;
  this.associatedNextParagraphIcon = null;
  this.TextLabel = dynamicCast(this.widgetContents, 211);
  !this.TextLabel && $warning_0(Log_92, 'TextLabel is null');
  this.objectsCurrentState = dynamicCast(this.objectsCurrentState_0, 145);
  !this.objectsCurrentState && $warning_0(Log_92, 'objectsCurrentState is null');
  this.ObjectsLog.info_0('(creating dialogue object)');
  this.objectsCurrentState.zindex = newobjectdata.zindex;
  $info_1(Log_92, '_________creating default label data object________________');
  this.ObjectsLog.info_0('objects currentObjectState state has visibility:' + this.objectsCurrentState.currentlyVisible);
  this.ObjectsLog.info_0('objects initial state has visibility:' + dynamicCast(this.initialObjectState, 145).currentlyVisible);
  $setupWidget_2(this, this.objectsCurrentState);
  this.ObjectsLog.logTimer('setup initialize took;');
  $initialiseAndAddToDatabase(this);
}

defineClass(154, 174, {97:1, 124:1, 109:1, 159:1, 147:1, 222:1, 24:1, 154:1, 120:1, 174:1, 137:1}, SceneDialogObject);
_.getInitialState_0 = function getInitialState_6(){
  return dynamicCast(this.initialObjectState, 145);
}
;
_.getObjectsCurrentState_0 = function getObjectsCurrentState_6(){
  return this.objectsCurrentState;
}
;
_.getTempState_0 = function getTempState_4(){
  return dynamicCast(this.tempObjectState, 145);
}
;
_.resetObject = function resetObject_3(){
  this.ObjectsLog.log_1('Resetting object:', '#FF0000');
  this.ObjectsLog.log_1('Movement in initial state is :' + this.initialObjectState.moveState.currentmovementpath, '#FF0000');
  $updateState_4(this, dynamicCast(this.initialObjectState, 145), false);
  this.alreadyLoaded = false;
  $info_1(Log_92, 'running objects onload again..');
  $onLoad_0(this);
  $resetObject_0(this, false, false);
}
;
_.setObjectsInitialState = function setObjectsInitialState_3(objectsInitialState){
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = dynamicCast(objectsInitialState, 119);
  this.initialObjectState = dynamicCast(objectsInitialState, 119);
}
;
_.setText = function setText_1(text_0){
  $setText_7(this, text_0);
}
;
_.setText_0 = function setText_2(text_0, Typed){
  $setText_8(this, text_0, Typed);
}
;
_.setVisible = function setVisible_6(status_0){
  if (status_0) {
    if (this.objectsCurrentState.attachToHTMLDiv.length < 1 && this.internalFocusPanel.attached) {
      if (this.objectsCurrentState.positionedRelativeToo) {
        $updateRelativePosition(this, true);
      }
       else {
        $info_1(Log_92, 'resetting position');
        $setPosition_2(this.thisobject, this.objectsCurrentState.X, this.objectsCurrentState.Y, this.objectsCurrentState.Z, true, false, true);
      }
    }
    if (this.objectsCurrentState.TypedText == ($clinit_SceneObjectState$TrueFalseOrDefault() , TRUE_2)) {
      this.ObjectsLog.info_0('typed text made visible, reseting paragraph');
      this.objectsCurrentState.currentParagraphPage == -1 && (this.objectsCurrentState.currentParagraphPage = 0);
      $setParagraph(this, this.objectsCurrentState.currentParagraphPage);
    }
  }
  if (!status_0 && !!this.associatedNextParagraphIcon) {
    this.ObjectsLog.info_0('setting associatedNextParagraphIcon visible secretly:' + status_0);
    $setVisibleSecretly(this.associatedNextParagraphIcon, status_0);
  }
  $setVisible_2(this, status_0);
}
;
var Log_92;
var Lcom_lostagain_JamGwt_JargScene_SceneDialogObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneDialogObject', 154, Lcom_lostagain_JamGwt_JargScene_SceneLabelObject_2_classLit);
function SceneDialogObject$1(this$0){
  this.this$01 = this$0;
}

defineClass(1350, 1, {}, SceneDialogObject$1);
_.run = function run_84(){
  $updateNextIcon(this.this$01);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneDialogObject$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneDialogObject/1', 1350, Ljava_lang_Object_2_classLit);
function SceneDialogObject$3(this$0){
  this.this$01 = this$0;
}

defineClass(1351, 1, {}, SceneDialogObject$3);
_.run_2 = function run_85(responseData, responseCode){
  var text_0;
  if (responseCode == 404) {
    $info_1(($clinit_SceneDialogObject() , Log_92), '________no text file recieved (404):\n');
    return;
  }
  text_0 = parseForLanguageSpecificExtension(responseData);
  text_0 = parseForTextIDs(text_0);
  $info_1(($clinit_SceneDialogObject() , Log_92), 'splitting too paragraphs:' + text_0);
  this.this$01.knownParagraphs = new DialogueCollection(text_0);
  $info_1(Log_92, 'setting current number of paragraphs:');
  $info_1(Log_92, 'for ' + this.this$01.objectsCurrentState.currentparagraphName);
  this.this$01.objectsCurrentState.currentNumberOfParagraphs = $getNumberOfParagraphs(this.this$01.knownParagraphs, this.this$01.objectsCurrentState.currentparagraphName);
  $info_1(Log_92, 'num is ' + this.this$01.objectsCurrentState.currentNumberOfParagraphs);
  this.this$01.objectsCurrentState.currentParagraphPage = 0;
  this.this$01.internalFocusPanel.attached || $severe_0(Log_92, this.this$01.objectsCurrentState_2.ObjectsName + ' was not attached yet! yet setText is triggered for url text...');
  if (this.this$01.objectsCurrentState.currentparagraphName.length > 1) {
    $info_1(Log_92, 'setting newly loaded file to paragraph ' + this.this$01.objectsCurrentState.currentparagraphName + ' with paranumber ' + this.this$01.objectsCurrentState.currentParagraphPage);
    this.this$01.ObjectsLog.log_1('setting newly loaded file to paragraph ' + this.this$01.objectsCurrentState.currentparagraphName + ' with paranumber ' + this.this$01.objectsCurrentState.currentParagraphPage, 'blue');
    $setText_7(this.this$01.thisObject, '' + $getText_0(this.this$01.knownParagraphs, this.this$01.objectsCurrentState.currentparagraphName, this.this$01.objectsCurrentState.currentParagraphPage));
  }
   else {
    $info_1(Log_92, 'setting newly loaded file to default paragraph:');
    this.this$01.ObjectsLog.log_1('setting newly loaded file to default paragraph:', 'blue');
    $setText_7(this.this$01.thisObject, '' + $getText_0(this.this$01.knownParagraphs, 'default', 0));
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneDialogObject$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneDialogObject/3', 1351, Ljava_lang_Object_2_classLit);
function SceneDialogObject$4(this$0){
  this.this$01 = this$0;
}

defineClass(1352, 1, {}, SceneDialogObject$4);
_.run_1 = function run_86(errorData, exception){
  $setText_7(this.this$01.thisObject, exception.detailMessage);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneDialogObject$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneDialogObject/4', 1352, Ljava_lang_Object_2_classLit);
function $clinit_SceneInputObject(){
  $clinit_SceneInputObject = emptyMethod;
  $clinit_SceneDivObject();
  Log_93 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneInputObject'));
}

function $setReadOnly_0(this$static, value_0){
  this$static.objectsCurrentState.ReadOnly = value_0.value_0;
  $setReadOnly(this$static.inputBox, value_0.value_0);
}

function $updateState_5(this$static, newState, runOnload){
  var currentInputValue;
  $info_1(Log_93, 'setting input objects\t data to newState');
  $info_1(Log_93, '__|' + $serialiseToString(newState) + '|__');
  $updateState_1(this$static, newState, false, false);
  $setText_4(this$static.inputBox, '');
  newState.CurrentBoxCSS.length > 0 && $setStylePrimaryName(this$static.inputBox, newState.CurrentBoxCSS);
  newState.BackgroundString.length > 2 && ($getElement(this$static.internalFocusPanel).style['background'] = this$static.objectsCurrentState.BackgroundString , undefined);
  this$static.objectsCurrentState.ReadOnly = newState.ReadOnly;
  $setReadOnly(this$static.inputBox, this$static.objectsCurrentState.ReadOnly);
  currentInputValue = dynamicCastToString(this$static.objectsCurrentState.ObjectRuntimeVariables.stringMap.get_3('currentinput'));
  currentInputValue != null && $setText_4(this$static.inputBox, dynamicCastToString(this$static.objectsCurrentState.ObjectRuntimeVariables.stringMap.get_3('currentinput')));
  if (runOnload) {
    $info_1(Log_93, 'running objects onload again');
    this$static.alreadyLoaded = false;
    $onLoad_0(this$static);
  }
   else {
    $info_1(Log_93, 'run onload no specified');
  }
  $info_1(Log_93, 'updateThingsPositionedRelativeToThis:');
  $updateThingsPositionedRelativeToThis(this$static, true);
}

function SceneInputObject(newobjectdata, actions, sceneItsOn){
  $clinit_SceneInputObject();
  SceneDivObject.call(this, new SceneInputObjectState_0(newobjectdata), actions, sceneItsOn, new TextArea_0, false);
  this.inputBox = dynamicCast(this.widgetContents, 182);
  this.objectsCurrentState = dynamicCast(this.objectsCurrentState_1, 146);
  $info_1(Log_93, '_________creating input data object________________');
  $setupWidget(this);
  $info_1(Log_93, '__________________________________________________setting up input object');
  this.objectsCurrentState.CurrentBoxCSS.length > 0 && $setStylePrimaryName_1(this, this.objectsCurrentState.CurrentBoxCSS);
  this.objectsCurrentState.BackgroundString.length > 2 && ($getElement(this.internalFocusPanel).style['background'] = this.objectsCurrentState.BackgroundString , undefined);
  $info_1(Log_93, 'starting to setup input widget...');
  $setWidget_2(this, this.inputBox);
  $setSize_3(this, this.objectsCurrentState.sizeX, this.objectsCurrentState.sizeY);
  $setSize(this.inputBox, '100%', '100%');
  $getElement(this.inputBox).style['maxWidth'] = ($clinit_Style$Unit() , '100.0%');
  $getElement(this.inputBox).style['maxHeight'] = '100.0%';
  $setVisibleLines(this.inputBox);
  $addDomHandler(this.inputBox, new SceneInputObject$1, ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_5));
  $addDomHandler(this.inputBox, new SceneInputObject$2, ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));
  $info_1(Log_93, 'Maxcharacters setting to:' + this.objectsCurrentState.maxcharacters);
  $addDomHandler(this.inputBox, new SceneInputObject$3(this), ($clinit_KeyUpEvent() , $clinit_KeyUpEvent() , TYPE_8));
  $startLoadingMovementAnimations(this);
  $info_1(Log_93, '_________adding input object to object list: ' + this.objectsCurrentState.ObjectsName.toLowerCase());
  $initialiseAndAddToDatabase(this);
}

defineClass(189, 120, {97:1, 109:1, 364:1, 147:1, 222:1, 24:1, 120:1, 189:1, 137:1}, SceneInputObject);
_.getInitialState = function getInitialState_7(){
  return dynamicCast(this.initialObjectState, 146);
}
;
_.getObjectsCurrentState = function getObjectsCurrentState_7(){
  return this.objectsCurrentState;
}
;
_.getTempState = function getTempState_5(){
  return dynamicCast(this.tempObjectState, 146);
}
;
_.resetObject = function resetObject_4(){
  $info_1(Log_93, 'resetting:' + this.objectsCurrentState.ObjectsName);
  $updateState_5(this, dynamicCast(this.initialObjectState, 146), false);
  this.alreadyLoaded = false;
  $info_1(Log_93, 'running objects onload again');
  $onLoad_0(this);
  $resetObject_0(this, false, false);
}
;
_.setObjectsInitialState = function setObjectsInitialState_4(objectsInitialState){
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = dynamicCast(objectsInitialState, 146);
}
;
var Log_93;
var Lcom_lostagain_JamGwt_JargScene_SceneInputObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneInputObject', 189, Lcom_lostagain_JamGwt_JargScene_SceneDivObject_2_classLit);
function SceneInputObject$1(){
}

defineClass(1366, 1, $intern_29, SceneInputObject$1);
_.onFocus = function onFocus_2(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneInputObject$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneInputObject/1', 1366, Ljava_lang_Object_2_classLit);
function SceneInputObject$2(){
}

defineClass(1367, 1, $intern_30, SceneInputObject$2);
_.onBlur = function onBlur_2(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneInputObject$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneInputObject/2', 1367, Ljava_lang_Object_2_classLit);
function SceneInputObject$3(this$0){
  this.this$01 = this$0;
}

defineClass(1368, 1, $intern_38, SceneInputObject$3);
_.onKeyUp = function onKeyUp_0(event_0){
  var text_0;
  text_0 = $getText(this.this$01.inputBox);
  if (text_0.length > this.this$01.objectsCurrentState.maxcharacters) {
    text_0 = $substring_0(text_0, 0, this.this$01.objectsCurrentState.maxcharacters);
    $setText_4(this.this$01.inputBox, text_0);
  }
  $putStringValue(this.this$01.objectsCurrentState.ObjectRuntimeVariables, 'currentinput', text_0);
  !!this.this$01.oipu && $update_1(this.this$01.oipu);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneInputObject$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneInputObject/3', 1368, Ljava_lang_Object_2_classLit);
function SceneObjectVisual$MyFocusPanel(parentObject){
  $clinit_FocusPanel();
  FocusPanel.call(this);
  this.parentObject = parentObject;
}

defineClass(299, 142, {60:1, 45:1, 319:1, 320:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 29:1, 15:1, 7:1, 299:1}, SceneObjectVisual$MyFocusPanel);
_.onBrowserEvent = function onBrowserEvent_13(event_0){
  $onBrowserEvent(this, event_0);
  this.parentObject.onBrowserEvent(event_0);
}
;
_.onLoad = function onLoad_12(){
  $onLoad_0(this.parentObject);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneObjectVisual$MyFocusPanel_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneObjectVisual/MyFocusPanel', 299, Lcom_google_gwt_user_client_ui_FocusPanel_2_classLit);
function $setOpacity(this$static, opacity){
  $cssSetOpacity(($clinit_DOM() , this$static.element).style, opacity / 100);
  opacity == 0?(this$static.element.style['display'] = ($clinit_Style$Display() , 'none') , undefined):(this$static.element.style['display'] = '' , undefined);
}

function BamfImage(location_0){
  $clinit_GWTAnimatedIcon();
  GWTAnimatedIcon_0.call(this, location_0, 1);
  $setClassName(($clinit_DOM() , this.element), 'BAMFPopup');
  $setId(this.element, '_BAMFPopup_');
  this.element.style['zIndex'] = '90000';
  this.element.style['display'] = '';
}

defineClass(1261, 88, $intern_126, BamfImage);
var Lcom_lostagain_JamGwt_JargScene_SceneObjects_BamfImage_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.SceneObjects', 'BamfImage', 1261, Lcom_lostagain_JamGwt_GwtJamImplementations_GWTAnimatedIcon_2_classLit);
function $clinit_GWTSceneObjectFactory(){
  $clinit_GWTSceneObjectFactory = emptyMethod;
  SOLog_1 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GWTSceneObjectFactory'));
}

function $createNewObjectImplementation(actions, newobjectdata, sceneObjectBelongsTo){
  var newObject;
  newObject = null;
  switch (newobjectdata.objectsPrimaryType.ordinal) {
    case 0:
      $info_1(($clinit_SceneData() , Log_52), 'setting up sprite...');
      newObject = new SceneSpriteObject(newobjectdata, actions, sceneObjectBelongsTo);
      break;
    case 2:
      $info_1(($clinit_SceneData() , Log_52), 'setting up label...');
      newObject = new SceneLabelObject_0(newobjectdata, actions, sceneObjectBelongsTo);
      $info_1(Log_52, 'label box set up...');
      $info_1(Log_52, 'label setup...');
      break;
    case 1:
      $info_1(($clinit_SceneData() , Log_52), 'setting up dialogue box...');
      newobjectdata.restrictPositionToScreen = true;
      newObject = new SceneDialogObject(newobjectdata, actions, sceneObjectBelongsTo);
      $info_1(Log_52, 'dialogue box set up...');
      break;
    case 3:
      $info_1(($clinit_SceneData() , Log_52), 'setting up div box...');
      newobjectdata.restrictPositionToScreen = false;
      newObject = new SceneDivObject_0(newobjectdata, actions, sceneObjectBelongsTo);
      $info_1(Log_52, 'div box set up...');
      break;
    case 6:
      $info_1(($clinit_SceneData() , Log_52), 'setting up vector box...');
      newobjectdata.restrictPositionToScreen = false;
      newObject = new SceneVectorObject(newobjectdata, actions, sceneObjectBelongsTo);
      $info_1(Log_52, 'vector box set up...');
      break;
    case 4:
      $info_1(($clinit_SceneData() , Log_52), 'setting up input box...');
      newobjectdata.restrictPositionToScreen = false;
      newObject = new SceneInputObject(newobjectdata, actions, sceneObjectBelongsTo);
      $info_1(Log_52, 'input box set up...');
  }
  return newObject;
}

function $createObjectFromExistingDataImplementation(sceneObjectData, actions, sceneObjectBelongsTo){
  var diadata, divdata, inputdata, labdata, newDiaObject, newObject, newSpriteObject, newdivObject, newinputObject, newlabObject, newvecObject, spritedata, vecdata;
  newObject = null;
  switch (sceneObjectData.objectsPrimaryType.ordinal) {
    case 0:
      spritedata = dynamicCast(sceneObjectData, 106);
      newSpriteObject = new SceneSpriteObject_0(spritedata, actions, sceneObjectBelongsTo);
      $updateState_2(newSpriteObject, spritedata, true, true);
      newObject = newSpriteObject;
      break;
    case 1:
      diadata = dynamicCast(sceneObjectData, 145);
      newDiaObject = new SceneDialogObject(diadata, actions, sceneObjectBelongsTo);
      $updateState_4(newDiaObject, diadata, true);
      newObject = newDiaObject;
      break;
    case 3:
      divdata = dynamicCast(sceneObjectData, 78);
      newdivObject = new SceneDivObject_0(divdata, actions, sceneObjectBelongsTo);
      $updateState_1(newdivObject, divdata, true, true);
      newObject = newdivObject;
      break;
    case 4:
      inputdata = dynamicCast(sceneObjectData, 146);
      newinputObject = new SceneInputObject(inputdata, actions, sceneObjectBelongsTo);
      $updateState_5(newinputObject, inputdata, true);
      newObject = newinputObject;
      break;
    case 2:
      labdata = dynamicCast(sceneObjectData, 119);
      newlabObject = new SceneLabelObject_0(labdata, actions, sceneObjectBelongsTo);
      $updateState_3(newlabObject, labdata, true, true);
      newObject = newlabObject;
      break;
    case 6:
      vecdata = dynamicCast(sceneObjectData, 144);
      newvecObject = new SceneVectorObject(vecdata, actions, sceneObjectBelongsTo);
      $updateState_6(newvecObject, vecdata, true);
      newObject = newvecObject;
  }
  return newObject;
}

function $returnCloneImplementation(object, clonesName){
  var clone, newSpriteState, objectScene, objectTypeToClone, spriteclone;
  clone = null;
  objectScene = object.objectScene_0;
  objectTypeToClone = object.getObjectsCurrentState_1().objectsPrimaryType;
  if (objectTypeToClone == ($clinit_SceneObjectType() , Sprite)) {
    newSpriteState = $copy_3(dynamicCast(object, 138).objectsCurrentState_0);
    newSpriteState.ObjectsName = clonesName;
    newSpriteState.ObjectsSceneName = objectScene.SceneFileName;
    $info_1(SOLog_1, 'new state scene set too:' + newSpriteState.ObjectsSceneName);
    spriteclone = new SceneSpriteObject_0(newSpriteState, object.objectsActions, objectScene);
    $initialiseAndAddToDatabase(spriteclone);
    $addWidget_0(objectScene, spriteclone.internalFocusPanel, newSpriteState.ignorePointerEvents);
    spriteclone.alreadyLoaded = false;
    $initCurrentState(spriteclone, true);
    $info_1(SOLog_1, 'adding clone object to scenes lists:' + spriteclone.objectsCurrentState_0.ObjectsName);
    $addToScenesObjects(objectScene.scenesData, spriteclone);
    spriteclone.objectsCurrentState_0.clonedFrom = object;
    clone = spriteclone;
  }
   else {
    $severe_0(SOLog_1, 'Cloning on non-sprite objects not yet supported');
  }
  if (objectTypeToClone == Div) {
    return null;
  }
  return clone;
}

var SOLog_1;
function GwtSoundObject(soundFileName){
  var stype;
  stype = 'audio/ogg; codecs=vorbis';
  $endsWith(soundFileName.toLowerCase(), '.mp3') && (stype = 'audio/mpeg; codecs=MP3');
  $endsWith(soundFileName.toLowerCase(), '.aac') && (stype = 'audio/mp4; codecs=mp4a.40.2');
  $endsWith(soundFileName.toLowerCase(), '.ogg') && (stype = 'audio/ogg; codecs=vorbis');
  this.newSoundImplementation = $createSound(($clinit_GwtAudioController() , soundController), stype, soundFileName);
}

defineClass(1279, 1, {}, GwtSoundObject);
var Lcom_lostagain_JamGwt_JargScene_SceneObjects_GwtSoundObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.SceneObjects', 'GwtSoundObject', 1279, Ljava_lang_Object_2_classLit);
function SceneSpriteObject$1(this$0){
  this.this$01 = this$0;
}

defineClass(1213, 1, $intern_44, SceneSpriteObject$1);
_.onLoad_0 = function onLoad_13(event_0){
  $scheduleDeferred(($clinit_SchedulerImpl() , INSTANCE_2), new SceneSpriteObject$1$1(this));
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneSpriteObject/1', 1213, Ljava_lang_Object_2_classLit);
function SceneSpriteObject$1$1(this$1){
  this.this$11 = this$1;
}

defineClass(1214, 1, {}, SceneSpriteObject$1$1);
_.execute = function execute_29(){
  $info_1(($clinit_SceneSpriteObject() , Log_85), '__subtracting from loading::' + $getUrl(this.this$11.this$01.SceneObjectIcon));
  $ObjectsLog_0(this.this$11.this$01, 'offset 1       =' + $getOffsetWidth(this.this$11.this$01.SceneObjectIcon) + ',' + $getOffsetHeight(this.this$11.this$01.SceneObjectIcon), 'green');
  $ObjectsLog_0(this.this$11.this$01, 'offset 2       =' + $getOffsetWidth(this.this$11.this$01.internalFocusPanel) + ',' + $getOffsetHeight(this.this$11.this$01.internalFocusPanel), 'green');
  $ObjectsLog_0(this.this$11.this$01, 'so element:      ' + $toString_2(this.this$11.this$01.internalFocusPanel), 'blue');
  $ObjectsLog_0(this.this$11.this$01, 'SceneObjectIcon element:      ' + $toString_2(this.this$11.this$01.SceneObjectIcon), 'blue');
  $ObjectsLog_0(this.this$11.this$01, 'image itself  =' + $getWidth(this.this$11.this$01.SceneObjectIcon.imageContents) + ',' + $getHeight(this.this$11.this$01.SceneObjectIcon.imageContents), 'green');
  $removeHandler(this.this$11.this$01.ONLOADHANDLE.real);
  this.this$11.this$01.imageloaded();
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject$1$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneSpriteObject/1/1', 1214, Ljava_lang_Object_2_classLit);
function SceneSpriteObject$2(this$0){
  this.this$01 = this$0;
}

defineClass(1215, 1, $intern_45, SceneSpriteObject$2);
_.onError_0 = function onError_17(event_0){
  $info_1(($clinit_SceneSpriteObject() , Log_85), '__subtracting ' + this.this$01.thisObject.initialObjectState.ObjectsName + ' loading because file errored:' + $getUrl(this.this$01.SceneObjectIcon));
  $ObjectsLog_0(this.this$01, 'error =' + $getWidth(this.this$01.SceneObjectIcon.imageContents) + ',' + $getHeight(this.this$01.SceneObjectIcon.imageContents), 'green');
  $ObjectsLog_0(this.this$01, 'error =' + $getOffsetWidth(this.this$01.internalFocusPanel) + ',' + $getOffsetHeight(this.this$01.internalFocusPanel), 'green');
  this.this$01.imageloaded();
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneSpriteObject/2', 1215, Ljava_lang_Object_2_classLit);
function SceneSpriteObject$3(val$thisObjectsScene, val$actions, val$CurrentSceneObjectNaame, val$CurrentSceneObject){
  this.val$thisObjectsScene2 = val$thisObjectsScene;
  this.val$actions3 = val$actions;
  this.val$CurrentSceneObjectNaame4 = val$CurrentSceneObjectNaame;
  this.val$CurrentSceneObject5 = val$CurrentSceneObject;
}

defineClass(1216, 1, {}, SceneSpriteObject$3);
_.run = function run_87(){
  var spritesScene;
  $info_1(($clinit_SceneSpriteObject() , Log_85), 'updating after open or close');
  this.val$thisObjectsScene2?(spritesScene = this.val$thisObjectsScene2.SceneFileName):(spritesScene = 'sceneless');
  processInstructions(this.val$actions3, 'FROMAniEnd_' + spritesScene + '_' + this.val$CurrentSceneObjectNaame4, this.val$CurrentSceneObject5);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneSpriteObject/3', 1216, Ljava_lang_Object_2_classLit);
function $run_18(this$static){
  this$static.this$01.objectsCurrentState_0.currentFrame = this$static.this$01.SceneObjectIcon.animation.currentframe;
  this$static.this$01.objectsCurrentState_0.ObjectsURL = $getUrl(this$static.this$01.SceneObjectIcon);
  !!this$static.this$01.thisobject.attachmentPoints && $updateThingsPositionedRelativeToThis(this$static.this$01, true);
  if (this$static.this$01.oipu) {
    this$static.this$01.objectsCurrentState_0.currentlyAnimationState = $serialiseAnimationState(this$static.this$01.SceneObjectIcon.animation);
    $update_1(this$static.this$01.oipu);
  }
}

function SceneSpriteObject$4(this$0){
  this.this$01 = this$0;
}

defineClass(1217, 1, {}, SceneSpriteObject$4);
_.run = function run_88(){
  $run_18(this);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneSpriteObject/4', 1217, Ljava_lang_Object_2_classLit);
function $run_19(this$static){
  this$static.this$01.ObjectsLog.log_1('ObjectsURL set after snimation 2:' + this$static.this$01.objectsCurrentState_0.ObjectsURL + ' (' + this$static.this$01.objectsCurrentState_0.currentNumberOfFrames + ')', '#00FF00');
  $setSpritesURL(this$static.this$01.thisObject, this$static.this$01.objectsCurrentState_0.ObjectsFileName, this$static.this$01.objectsCurrentState_0.currentNumberOfFrames);
  this$static.this$01.ObjectsLog.info_0('clearing run this after close');
  this$static.this$01.SceneObjectIcon.animation.runThisAfterClose = null;
  $setupPostAnimationActions(this$static.this$01, this$static.this$01.objectsCurrentState_0.ObjectsFileName);
  if (this$static.val$newState2.currentlyAnimationState.length > 1) {
    this$static.this$01.ObjectsLog.info_0('___________loading Serialised Animation State');
    $animateToFrame(this$static.this$01, this$static.val$newState2.currentFrame);
    $loadSerialisedAnimationState_0(this$static.this$01.SceneObjectIcon, this$static.val$newState2.currentlyAnimationState);
    $resumeAnimation(this$static.this$01.SceneObjectIcon.animation);
    this$static.this$01.ObjectsLog.info_0('loaded  Serialised Animation State');
  }
   else {
    this$static.this$01.ObjectsLog.info_0('Animating to frame:' + this$static.val$newState2.currentFrame);
    $animateToFrame(this$static.this$01, this$static.val$newState2.currentFrame);
  }
  if (this$static.val$runOnload3) {
    this$static.this$01.ObjectsLog.info_0('running objects onload again');
    this$static.this$01.alreadyLoaded = false;
    $onLoad_0(this$static.this$01);
  }
   else {
    this$static.this$01.ObjectsLog.info_0('run onload not specified');
  }
}

function SceneSpriteObject$5(this$0, val$newState, val$runOnload){
  this.this$01 = this$0;
  this.val$newState2 = val$newState;
  this.val$runOnload3 = val$runOnload;
}

defineClass(1218, 1, {}, SceneSpriteObject$5);
_.run = function run_89(){
  $run_19(this);
}
;
_.val$runOnload3 = false;
var Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject$5_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneSpriteObject/5', 1218, Ljava_lang_Object_2_classLit);
function $clinit_SceneVectorObject(){
  $clinit_SceneVectorObject = emptyMethod;
  $clinit_SceneDivObject();
  Log_94 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'SceneVectorObject'));
}

function $loadVectorFromURL(this$static, objectsCurrentURL){
  var onError, onResponse;
  ($clinit_JAMcore() , DebugMode).value_0?this$static.ObjectsLog.log_1('Text Set To;(loading text from file:' + objectsCurrentURL + ')', 'green'):this$static.ObjectsLog.log_1('Text Set To;...', 'green');
  onResponse = new SceneVectorObject$1(this$static);
  onError = new SceneVectorObject$2(this$static);
  $clinit_RequiredImplementations();
  $getText_1('Game Scenes/' + this$static.objectScene.SceneFileName + '/Text/' + objectsCurrentURL, onResponse, onError, false);
}

function $setVectorString(this$static, vstring){
  $equals_5(vstring.substr(0, 1), '<')?$setInnerHTML($getElement(this$static.internalFocusPanel), '<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" version="1.1">' + vstring + '<\/svg>'):$setInnerHTML($getElement(this$static.internalFocusPanel), '<svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg" version="1.1"><path d="' + vstring + '"/>' + '<\/svg>');
}

function $setupWidget_3(this$static, data_0){
  $setupWidget(this$static);
  this$static.objectsCurrentState = data_0;
  $info_1(Log_94, '___________________________________________________________________creating vector object');
  this$static.objectsCurrentState.BackgroundString.length > 2 && ($getElement(this$static.internalFocusPanel).style['background'] = this$static.objectsCurrentState.BackgroundString , undefined);
  if (this$static.objectsCurrentState.objectsVectorSourceURL != null && this$static.objectsCurrentState.objectsVectorSourceURL.length > 3) {
    $info_1(Log_94, 'loading vectors from url');
    $loadVectorFromURL(this$static, this$static.objectsCurrentState.objectsVectorSourceURL);
  }
   else {
    $setVectorString(this$static, this$static.objectsCurrentState.objectsVectorString);
    $info_1(Log_94, 'loading vectors from string instead');
    $info_1(Log_94, 'the Vector String is:' + this$static.objectsCurrentState.objectsVectorString);
  }
  $info_1(Log_94, 'starting to setup vector widget...');
  $setSize_3(this$static, this$static.objectsCurrentState.sizeX, this$static.objectsCurrentState.sizeY);
  $startLoadingMovementAnimations(this$static);
}

function $updateState_6(this$static, newState, runOnload){
  $info_1(Log_94, 'setting vector objects data to newState');
  $info_1(Log_94, '__|' + $serialiseToString(newState) + '|__');
  $updateState_1(this$static, newState, false, false);
  newState.CurrentBoxCSS.length > 0 && $setStylePrimaryName(this$static.vector, newState.CurrentBoxCSS);
  newState.BackgroundString.length > 2 && ($getElement(this$static.internalFocusPanel).style['background'] = this$static.objectsCurrentState.BackgroundString , undefined);
  newState.objectsVectorSourceURL != null && newState.objectsVectorSourceURL.length > 3?$loadVectorFromURL(this$static, newState.objectsVectorSourceURL):$setVectorString(this$static, newState.objectsVectorString);
  if (runOnload) {
    $info_1(Log_94, 'running objects onload again');
    this$static.alreadyLoaded = false;
    $onLoad_0(this$static);
  }
   else {
    $info_1(Log_94, 'run onload no specified');
  }
  $info_1(Log_94, 'updateThingsPositionedRelativeToThis:');
  $updateThingsPositionedRelativeToThis(this$static, true);
}

function SceneVectorObject(newobjectdata, actions, sceneItsOn){
  $clinit_SceneVectorObject();
  SceneDivObject.call(this, new SceneVectorObjectState_0(newobjectdata), actions, sceneItsOn, new SimplePanel, false);
  this.thisObject = this;
  this.vector = dynamicCast(this.widgetContents, 29);
  this.objectsCurrentState = dynamicCast(this.objectsCurrentState_1, 144);
  this.objectsCurrentState.zindex = newobjectdata.zindex;
  $info_1(Log_94, '_________creating initial vector data object________________');
  $setupWidget_3(this, this.objectsCurrentState);
  this.ObjectsLog.logTimer('setup vector took;');
  $initialiseAndAddToDatabase(this);
}

defineClass(188, 120, {97:1, 109:1, 147:1, 275:1, 222:1, 24:1, 120:1, 137:1, 188:1}, SceneVectorObject);
_.getInitialState = function getInitialState_8(){
  return dynamicCast(this.initialObjectState, 144);
}
;
_.getObjectsCurrentState = function getObjectsCurrentState_8(){
  return this.objectsCurrentState;
}
;
_.getTempState = function getTempState_6(){
  return dynamicCast(this.tempObjectState, 144);
}
;
_.resetObject = function resetObject_5(){
  $info_1(Log_94, 'resetting:' + this.objectsCurrentState.ObjectsName);
  $updateState_6(this, dynamicCast(this.initialObjectState, 144), false);
  this.alreadyLoaded = false;
  $info_1(Log_94, 'running objects onload again');
  $onLoad_0(this);
  $resetObject_0(this, false, false);
}
;
_.setObjectsInitialState = function setObjectsInitialState_5(objectsInitialState){
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = objectsInitialState;
  this.initialObjectState = dynamicCast(objectsInitialState, 144);
}
;
var Log_94;
var Lcom_lostagain_JamGwt_JargScene_SceneVectorObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneVectorObject', 188, Lcom_lostagain_JamGwt_JargScene_SceneDivObject_2_classLit);
function SceneVectorObject$1(this$0){
  this.this$01 = this$0;
}

defineClass(1364, 1, {}, SceneVectorObject$1);
_.run_2 = function run_90(responseData, responseCode){
  if (responseCode == 404 || responseCode == 204) {
    $info_1(($clinit_SceneVectorObject() , Log_94), '________no text file recieved (' + responseCode + '):\n');
    return;
  }
  $setVectorString(this.this$01.thisObject, responseData);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneVectorObject$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneVectorObject/1', 1364, Ljava_lang_Object_2_classLit);
function SceneVectorObject$2(this$0){
  this.this$01 = this$0;
}

defineClass(1365, 1, {}, SceneVectorObject$2);
_.run_1 = function run_91(errorData, exception){
  $setVectorString(this.this$01.thisObject, exception.detailMessage);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneVectorObject$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneVectorObject/2', 1365, Ljava_lang_Object_2_classLit);
function $clinit_SceneWidgetVisual(){
  $clinit_SceneWidgetVisual = emptyMethod;
  $clinit_SceneWidget();
  Log_95 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneWidgetVisual'));
}

function $LoadComplete_0(this$static){
  $LoadComplete(this$static);
  $setupCmapVisualiser(this$static);
  $setLoading(this$static.sceneBackground, false, '');
}

function $ScenesLog(this$static, logthis){
  this$static.ScenesLog.log_0(logthis);
}

function $ScenesLog_0(this$static, logthis){
  this$static.ScenesLog.log_1(logthis, 'green');
}

function $addToLoading(this$static){
  $info_1(($clinit_SceneWidget() , Log_54), '____adding to loading :' + this$static.ObjectsLeftTooLoad);
  this$static.ObjectsLeftTooLoad = this$static.ObjectsLeftTooLoad + 1;
  $setLoadingTotal(this$static.sceneBackground, this$static.ObjectsLeftTooLoad);
}

function $addWidget_0(this$static, internalGwtWidget, TransparentToClicks){
  $addWidget(this$static.sceneBackground, internalGwtWidget, -1000, -1000, true, TransparentToClicks);
}

function $advanceLoading_0(this$static){
  $advanceLoading(this$static);
  this$static.Loading && $stepClockForward(this$static.sceneBackground.LoadingIcon);
}

function $attachObjectToSceneIMPL(this$static, attachThis, x_0, y_0, z_0){
  var disablefocus, effectiveY, objectToAttach;
  objectToAttach = dynamicCast(attachThis, 137);
  if (objectToAttach.getObjectsCurrentState_1().attachToHTMLDiv.length > 2) {
    $info_1(Log_95, '_____adding object:' + objectToAttach.getObjectsCurrentState_1().ObjectsName + ' on ' + this$static.SceneFileName + ' in div ' + objectToAttach.getObjectsCurrentState_1().attachToHTMLDiv);
    try {
      $ObjectsLog_0(objectToAttach, 'added object to div with id=' + objectToAttach.getObjectsCurrentState_1().attachToHTMLDiv, 'yellow');
      PositionByTag_0(objectToAttach.internalFocusPanel, objectToAttach.getObjectsCurrentState_1().attachToHTMLDiv);
      $setVisibleSecretly(objectToAttach, objectToAttach.getObjectsCurrentState_1().currentlyVisible);
      $ObjectsLog(objectToAttach, 'display after adding to div:' + $getElement(objectToAttach.internalFocusPanel).style['display'], 1);
    }
     catch ($e0) {
      $e0 = wrap($e0);
      if (instanceOf($e0, 37)) {
        objectToAttach.ObjectsLog.log_1('no such div ID currently in Dom', 'yellow');
        $ObjectsLog_0(objectToAttach, 'was looking for:' + objectToAttach.getObjectsCurrentState_1().attachToHTMLDiv, 'yellow');
        objectToAttach.ObjectsLog.log_1('object might be for a text object not yet present on the page', 'yellow');
        $info_1(Log_95, 'no such div ID currently in Dom');
        $info_1(Log_95, 'was looking for:' + objectToAttach.getObjectsCurrentState_1().attachToHTMLDiv);
        $info_1(Log_95, 'object might be for a text object not yet present on the page');
      }
       else 
        throw unwrap($e0);
    }
  }
   else {
    $info_1(Log_95, '_____adding object:' + objectToAttach.getObjectsCurrentState_1().ObjectsName + ' on ' + this$static.SceneFileName + ' at ' + x_0 + ',' + y_0 + ',' + z_0);
    effectiveY = y_0 - z_0;
    disablefocus = true;
    objectToAttach.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , Input_0) && (disablefocus = false);
    if (objectToAttach.objectsActions.array.length > 0 || objectToAttach.getObjectsCurrentState_1().forceReceiveActions) {
      $ObjectsLog(objectToAttach, 'adding to scene as clickable object', 1);
      $addWidget(this$static.sceneBackground, objectToAttach.internalFocusPanel, x_0, effectiveY, disablefocus, objectToAttach.getObjectsCurrentState_1().ignorePointerEvents);
    }
     else {
      $ObjectsLog(objectToAttach, 'adding to scene as unclickable object', 1);
      $addUnclickableWidget(this$static.sceneBackground, objectToAttach.internalFocusPanel, x_0, effectiveY, objectToAttach.getObjectsCurrentState_1().ignorePointerEvents);
    }
    $setVisibleSecretly(objectToAttach, objectToAttach.getObjectsCurrentState_1().currentlyVisible);
    $ObjectsLog(objectToAttach, 'display now set to:' + $getElement(objectToAttach.internalFocusPanel).style['display'], 1);
    if (objectToAttach.getObjectsCurrentState_1().objectsPrimaryType == DialogBox && objectToAttach.getObjectsCurrentState_1().restrictPositionToScreen) {
      $info_1(Log_95, '_____restricting to scene');
      effectiveY = $getSafeHeightAwayFromDialogues(dynamicCast(objectToAttach, 154), x_0, effectiveY);
    }
    $info_1(Log_95, '_____adding object at ' + x_0 + ',' + effectiveY);
    $ObjectsLog(objectToAttach, 'setting position to ' + x_0 + ',' + effectiveY, 1);
    $setWidgetsPosition(this$static.sceneBackground, objectToAttach.internalFocusPanel, x_0, effectiveY, false);
    objectToAttach.getObjectsCurrentState_1().variableZindex && $setZIndexByPosition(objectToAttach, y_0);
  }
}

function $intialize(this$static){
  $warning_0(Log_95, 'initialising ' + this$static.SceneFileName);
  $addDomHandler(this$static.sceneBackground, new SceneWidgetVisual$4(this$static), ($clinit_TouchEndEvent() , $clinit_TouchEndEvent() , TYPE_17));
  $addDomHandler(this$static.sceneBackground, new SceneWidgetVisual$5, ($clinit_TouchMoveEvent() , $clinit_TouchMoveEvent() , TYPE_18));
  $addDomHandler(this$static.sceneBackground, new SceneWidgetVisual$6, ($clinit_TouchStartEvent() , $clinit_TouchStartEvent() , TYPE_19));
  $addDomHandler(this$static.sceneBackground, new SceneWidgetVisual$7, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
  $addDomHandler(this$static.sceneBackground, new SceneWidgetVisual$8(this$static), ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
  $fetchSceneData(this$static, this$static.SceneFileName);
  $resizeScene(this$static);
}

function $isObjectOnPanel(this$static, testThis){
  return $isOnPanel(this$static.sceneBackground, testThis.internalFocusPanel);
}

function $removeCmapClickHandler(this$static){
  this$static.scenesCmap.isPresent() && this$static.previewClickPanel.attached && $removeWidget(this$static.sceneBackground, this$static.previewClickPanel);
}

function $removeFromSceneBackground(this$static, object){
  $info_1(Log_95, 'removing from scene background:' + this$static.scenesData.currentState.SceneName);
  return $removeWidget(this$static.sceneBackground, object.internalFocusPanel).value_0;
}

function $removeWidget_0(this$static, internalGwtWidget){
  $removeWidget(this$static.sceneBackground, internalGwtWidget);
}

function $resizeScene(this$static){
  $updateDragableSize(this$static.sceneBackground);
  if (this$static.currentState.PosX == -1 && this$static.currentState.PosY == -1) {
    $info_1(Log_95, 'setting ' + this$static.SceneFileName + ' view to center');
    $ScenesLog(this$static, 'setting ' + this$static.SceneFileName + ' view to center');
    $setViewToCenter(this$static.sceneBackground, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  }
   else {
    $info_1(Log_95, 'setting view to  ' + this$static.currentState.PosX + ',' + this$static.currentState.PosY);
    $ScenesLog(this$static, 'setting view after resize to  ' + this$static.currentState.PosX + ',' + this$static.currentState.PosY);
    $setViewToPos(this$static.sceneBackground, this$static.currentState.PosX, this$static.currentState.PosY, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  }
}

function $setAsEditingHeight(this$static, state){
  if (state) {
    if (!editInZAxis) {
      editInZAxis = true;
      $info_1(Log_95, '(edit height mode on)');
      editInZStartPos = $getAbsoluteTop_0(($clinit_DOM() , this$static.sceneBackground.dragOnlyThis.element)) - $getAbsoluteTop(this$static.sceneBackground.dragableContents);
    }
    $setEditingDragRestriction(this$static.sceneBackground, ($clinit_SpiffyDragPanel$DragRestriction() , Vert));
  }
   else {
    $info_1(Log_95, '(edit height mode off)');
    if (editInZAxis) {
      editInZAxis = false;
      editInZStartPos = 0;
    }
    $setEditingDragRestriction(this$static.sceneBackground, ($clinit_SpiffyDragPanel$DragRestriction() , None));
  }
}

function $setCmapClickHandler(this$static, clickHandler){
  if (this$static.scenesCmap.isPresent() && !this$static.previewClickPanel.attached) {
    $addWidget(this$static.sceneBackground, this$static.previewClickPanel, 0, 0, true, false);
    $setSize(this$static.previewClickPanel, '100%', '100%');
    $getElement(this$static.previewClickPanel).style['overflow'] = ($clinit_Style$Overflow() , 'visible');
    $setPixelSize(this$static.previewClickPanel, this$static.thisWidget.scenesData.InternalSizeX, this$static.thisWidget.scenesData.InternalSizeY);
    $getParentElement($getElement(this$static.previewClickPanel)).style['zIndex'] = '150000';
    $addDomHandler(this$static.previewClickPanel, new SceneWidgetVisual$2, ($clinit_MouseDownEvent() , $clinit_MouseDownEvent() , TYPE_10));
    $addDomHandler(this$static.previewClickPanel, new SceneWidgetVisual$3, ($clinit_MouseUpEvent() , $clinit_MouseUpEvent() , TYPE_14));
  }
  return $addDomHandler(this$static.previewClickPanel, clickHandler, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}

function $setDebugBoxVisible(this$static, b){
  $DisplayDebugBar(this$static.sceneBackground, b);
}

function $setDynamicSceneOverlay(this$static, CSS_0){
  $info_1(Log_95, 'adding dynamic overlay with css:' + CSS_0);
  $setDynamicOverlayCSS(this$static.sceneBackground, CSS_0);
}

function $setLoadingMessage_0(this$static, message){
  $setLoadingMessage(this$static.sceneBackground, message);
}

function $setLoadingMessages_1(this$static){
  var messages;
  messages = $split_0(getTextForCurrentLanaguage(($clinit_CommonText$StringNames() , loadingStrings)), '\n', 0);
  $setLoadingMessages(this$static.sceneBackground, messages);
}

function $setObjectsPosition(this$static, sceneobject, x_0, y_0, z_0, keepvisible){
  if (sceneobject.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , DialogBox) && keepvisible) {
    y_0 = $getSafeHeightAwayFromDialogues(sceneobject, x_0, y_0);
    sceneobject.ObjectsLog.info_0('DialogBoxs might be colliding! safe height now =' + y_0);
    sceneobject.tempYOverride = new Present(checkNotNull(valueOf_45(y_0)));
  }
   else {
    sceneobject.tempYOverride = ($clinit_Absent() , $clinit_Absent() , INSTANCE);
  }
  y_0 = y_0 - z_0;
  $setWidgetsPosition(this$static.sceneBackground, sceneobject.internalFocusPanel, x_0, y_0, keepvisible);
}

function $setScroll(this$static, yMovement, xMovement){
  this$static.sceneBackground.XMOVEMENTDISABLED = !xMovement.value_0;
  this$static.sceneBackground.YMOVEMENTDISABLED = !yMovement.value_0;
}

function $setStaticSceneOverlay(this$static, CSS_0){
  $info_1(Log_95, 'adding static overlay with css:' + CSS_0);
  $setStaticOverlayCSS(this$static.sceneBackground, CSS_0);
}

function $setUpScene_0(this$static, scenedata){
  $setLoadingMessage(this$static.sceneBackground, ($clinit_GamesInterfaceTextCore() , Scene_SettingUpScene));
  $setUpScene(this$static, scenedata);
}

function $setViewPosition(this$static, centerX, centerY){
  this$static.ScenesLog.log_0('setting view to:' + centerX + ',' + centerY + ',' + true);
  $info_1(Log_95, 'setting view to:' + centerX + ',' + centerY);
  centerX == -1 && centerY == -1?$setViewToCenter(this$static.sceneBackground, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3)):$setViewToPos(this$static.sceneBackground, centerX, centerY, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  this$static.currentState.PosX = centerX;
  this$static.currentState.PosY = centerY;
}

function $setupCmapVisualiser(this$static){
  var previewElement, svgPathVisualisation;
  if (this$static.scenesCmap.isPresent()) {
    $info_1(Log_95, '________________________________________________________setting up setCMapVisualiser:');
    $setCMapVisualiser(dynamicCast(this$static.scenesCmap.get_1(), 73), new CollisionMapVisualiser);
  }
  $info_1(Log_95, 'scenes Vmap set');
  if (this$static.scenesCmap.isPresent() && dynamicCast(this$static.scenesCmap.get_1(), 73).CMapVisualiser.isPresent()) {
    previewElement = $getCMapPreviewWidget(dynamicCast(this$static.scenesCmap.get_1(), 73));
    if (!previewElement.attached) {
      $addWidget(this$static.sceneBackground, dynamicCast(dynamicCast(dynamicCast(this$static.scenesCmap.get_1(), 73).CMapVisualiser.get_1(), 102), 217).collisionMapPreviewWidget, 0, 0, true, false);
      $info_1(Log_95, 'overlay added');
      svgPathVisualisation = dynamicCast(dynamicCast(dynamicCast(this$static.scenesCmap.get_1(), 73).CMapVisualiser.get_1(), 102), 217).svgPathVisualisation;
      $addWidget(this$static.sceneBackground, svgPathVisualisation, 0, 0, true, false);
      $setPixelSize(svgPathVisualisation, $getOffsetWidth(this$static.thisWidget.sceneBackground), $getOffsetHeight(this$static.thisWidget.sceneBackground));
      ($clinit_DOM() , svgPathVisualisation.element).style['zIndex'] = '50000';
      $showCmap(dynamicCast(this$static.scenesCmap.get_1(), 73), false);
      $showPath(dynamicCast(this$static.scenesCmap.get_1(), 73), false);
    }
  }
}

function $shakeView(this$static, duration, distance){
  this$static.ScenesLog.log_1('shaking the screen for:' + duration + ' over distance:' + distance, 'Pink');
  $shakeFor(this$static.sceneBackground, duration, distance);
}

function $startEditingWidget(this$static, b, EditThis){
  editMode_0 = b;
  $EditMode(this$static.sceneBackground, b, EditThis.internalFocusPanel);
  $setOnFinishedEditingWidget(this$static.sceneBackground, new SceneWidgetVisual$1(this$static, EditThis));
}

function $testForKeyDown(this$static, keycode){
  editMode_0 && keycode == 16 && $setAsEditingHeight(this$static, true);
}

function $testForKeyPress(this$static, event_0){
  $testForNudgeKeyPressed(this$static.sceneBackground, event_0);
}

function $testForKeyUp(this$static, keycode){
  if (editMode_0) {
    keycode == 16 && $setAsEditingHeight(this$static, false);
    $testForNudgeKeyUp(this$static.sceneBackground);
  }
}

function SceneWidgetVisual(SceneFileName){
  $clinit_SceneWidgetVisual();
  SceneWidget.call(this, SceneFileName);
  this.ScenesLog = ($clinit_JAMcore() , DebugMode).value_0?new SpiffyLogBox:new SpiffyLogBox$SpiffyDummyLogBox;
  this.thisWidget = this;
  this.previewClickPanel = new FocusPanel;
  this.firstLoadSceneWidgetVisual = true;
  this.sceneBackground = new SpiffyDragPanel(SceneFileName);
  $setWidth(this.sceneBackground, '100%');
  $setHeight(this.sceneBackground, '100%');
  this.ScenesLog.log_1('loading scene', 'green');
  $setLoading(this.sceneBackground, true, ($clinit_GamesInterfaceTextCore() , Scene_GettingScenesData));
  $setLoadingIconDefaultMessage(this.sceneBackground, Scene_LoadingLoadingTime);
  $clinit_JAM();
  $clinit_DOM();
  !!$doc.getElementById('loadingdiv') && ($clinit_OptionalImplementations() , PageStyleCommandImplemention).isPresent() && $fadeOutHTMLElement((dynamicCast(($clinit_OptionalImplementations() , PageStyleCommandImplemention).get_1(), 157) , 'loadingdiv'), 1670);
  if (this.firstLoadSceneWidgetVisual) {
    $info_1(Log_95, ' loading global actions ');
    setCollisionLogger(new CollisionDebugBox);
    this.firstLoadSceneWidgetVisual = false;
  }
}

function resizeAllScenes(){
  $clinit_SceneWidgetVisual();
  var sceneWidget, sit;
  sit = $iterator_5(new AbstractMap$2(all_scenes));
  while (sit.val$outerIter2.hasNext()) {
    sceneWidget = dynamicCast($next_8(sit), 397);
    sceneWidget.sceneBackground.attached && $updateDragableSize(sceneWidget.sceneBackground);
  }
}

defineClass(397, 239, {239:1, 397:1}, SceneWidgetVisual);
_.firstLoadSceneWidgetVisual = false;
var LastTouchMoveScreen_0 = null, Log_95, editInZAxis = false, editInZStartPos = 0, editMode_0 = false;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual', 397, Lcom_lostagain_Jam_Scene_SceneWidget_2_classLit);
function $run_20(this$static){
  var NewRX, NewRY, NewRZ, PivRelX, PivRelY, PivRelZ, displacement, fakez, newX2d, newY2d, oldy2d, rx, ry, rz, x_0, y_0, z_0;
  if ($clinit_SceneWidgetVisual() , editInZAxis) {
    oldy2d = editInZStartPos;
    newY2d = $getAbsoluteTop(this$static.val$EditThis2.internalFocusPanel) - $getAbsoluteTop(this$static.this$01.sceneBackground.dragableContents);
    displacement = newY2d - oldy2d;
    $info_1(Log_95, 'Displacement was:' + displacement);
    if (this$static.val$EditThis2.getObjectsCurrentState_1().positionedRelativeToo) {
      $info_1(Log_95, 'changing relative height to::' + (newY2d - oldy2d));
      rx = this$static.val$EditThis2.getObjectsCurrentState_1().relX;
      ry = this$static.val$EditThis2.getObjectsCurrentState_1().relY;
      rz = this$static.val$EditThis2.getObjectsCurrentState_1().relZ - displacement;
      $updateRealtivePositionData(this$static.val$EditThis2, rx, ry, rz);
    }
     else {
      $info_1(Log_95, 'changing height to::');
      x_0 = this$static.val$EditThis2.getObjectsCurrentState_1().X;
      y_0 = this$static.val$EditThis2.getObjectsCurrentState_1().Y;
      z_0 = this$static.val$EditThis2.getObjectsCurrentState_1().Z - displacement;
      $info_1(Log_95, 'changing height to::' + z_0);
      $updatePositionData(this$static.val$EditThis2, x_0, y_0, z_0);
    }
    editInZStartPos = newY2d;
  }
   else {
    $info_1(Log_95, 'Setting position to:' + $getAbsoluteLeft(this$static.val$EditThis2.internalFocusPanel) + ',' + $getAbsoluteTop(this$static.val$EditThis2.internalFocusPanel) + ',' + $getZ_0(this$static.val$EditThis2));
    newX2d = $getAbsoluteLeft(this$static.val$EditThis2.internalFocusPanel) - $getAbsoluteLeft(this$static.this$01.sceneBackground.dragableContents);
    newY2d = $getAbsoluteTop(this$static.val$EditThis2.internalFocusPanel) - $getAbsoluteTop(this$static.this$01.sceneBackground.dragableContents);
    fakez = $getTopLeftBaseZ(this$static.val$EditThis2);
    $updatePositionData(this$static.val$EditThis2, newX2d, newY2d + fakez, fakez);
    $info_1(Log_95, 'position data updated');
    if (this$static.val$EditThis2.getObjectsCurrentState_1().positionedRelativeToo) {
      PivRelX = newX2d + this$static.val$EditThis2.getObjectsCurrentState_1().PinPointX;
      PivRelY = newY2d + fakez + this$static.val$EditThis2.getObjectsCurrentState_1().PinPointY;
      PivRelZ = fakez + this$static.val$EditThis2.getObjectsCurrentState_1().PinPointZ;
      $ObjectsLog(this$static.val$EditThis2, 'positioning relative too:' + PivRelX + ',' + PivRelY + ',' + PivRelZ, 1);
      NewRX = PivRelX - $getX_1(this$static.val$EditThis2.getObjectsCurrentState_1().positionedRelativeToo);
      NewRY = PivRelY - $getY_1(this$static.val$EditThis2.getObjectsCurrentState_1().positionedRelativeToo);
      NewRZ = PivRelZ - $getZ_0(this$static.val$EditThis2.getObjectsCurrentState_1().positionedRelativeToo);
      $ObjectsLog(this$static.val$EditThis2, ' relative at:' + NewRX + ',' + NewRY + ',' + NewRZ, 1);
      $info_1(Log_95, 'updating relative position variables');
      $updateRealtivePositionData(this$static.val$EditThis2, NewRX, NewRY, NewRZ);
    }
  }
  $info_1(Log_95, 'updateThingsPositionedRelativeToThis:');
  $updateThingsPositionedRelativeToThis(this$static.val$EditThis2, true);
  this$static.this$01.scenesCmap.isPresent() && dynamicCast(this$static.this$01.scenesCmap.get_1(), 73).CMapVisualiser.isPresent() && $generatePreviewWidget(dynamicCast(dynamicCast(this$static.this$01.scenesCmap.get_1(), 73).CMapVisualiser.get_1(), 102));
}

function SceneWidgetVisual$1(this$0, val$EditThis){
  this.this$01 = this$0;
  this.val$EditThis2 = val$EditThis;
}

defineClass(1138, 1, {}, SceneWidgetVisual$1);
_.run = function run_92(){
  $run_20(this);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual/1', 1138, Ljava_lang_Object_2_classLit);
function SceneWidgetVisual$2(){
}

defineClass(1139, 1, $intern_23, SceneWidgetVisual$2);
_.onMouseDown = function onMouseDown_11(event_0){
  $info_1(($clinit_SceneWidgetVisual() , Log_95), 'preventing default mouse down');
  $eventStopPropagation(event_0.nativeEvent);
  $eventPreventDefault(event_0.nativeEvent);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual/2', 1139, Ljava_lang_Object_2_classLit);
function SceneWidgetVisual$3(){
}

defineClass(1140, 1, $intern_25, SceneWidgetVisual$3);
_.onMouseUp = function onMouseUp_8(event_0){
  $info_1(($clinit_SceneWidgetVisual() , Log_95), 'preventing default mouse up');
  $eventStopPropagation(event_0.nativeEvent);
  $eventPreventDefault(event_0.nativeEvent);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual/3', 1140, Ljava_lang_Object_2_classLit);
function SceneWidgetVisual$4(this$0){
  this.this$01 = this$0;
}

defineClass(1141, 1, $intern_27, SceneWidgetVisual$4);
_.onTouchEnd = function onTouchEnd_4(event_0){
  var rx, ry, x_0, y_0;
  x_0 = (($clinit_SceneWidgetVisual() , LastTouchMoveScreen_0).clientX || 0) | 0;
  y_0 = (LastTouchMoveScreen_0.clientY || 0) | 0;
  $info_1(Log_95, 'LastTouch up screen = ' + x_0 + ',' + y_0);
  $clinit_clickVisualiser();
  $setPopupPosition(($clinit_JAM() , tinything), x_0 - 25, y_0 - 25);
  $schedule(addClickFeedbackImage, 20);
  rx = $getRelativeX(LastTouchMoveScreen_0, $getElement(this.this$01.sceneBackground.dragableContents));
  ry = $getRelativeY(LastTouchMoveScreen_0, $getElement(this.this$01.sceneBackground.dragableContents));
  $info_1(Log_95, 'LastTouch up scene = ' + rx + ',' + ry);
  if (editMode_0) {
    return;
  }
  if ($wasJustDragged()) {
    return;
  }
  $leftclickortouch(this.this$01, rx, ry);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual/4', 1141, Ljava_lang_Object_2_classLit);
function SceneWidgetVisual$5(){
}

defineClass(1142, 1, $intern_28, SceneWidgetVisual$5);
_.onTouchMove = function onTouchMove_4(event_0){
  $clinit_SceneWidgetVisual();
  LastTouchMoveScreen_0 = event_0.nativeEvent.touches[0];
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual$5_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual/5', 1142, Ljava_lang_Object_2_classLit);
function SceneWidgetVisual$6(){
}

defineClass(1143, 1, $intern_26, SceneWidgetVisual$6);
_.onTouchStart = function onTouchStart_4(event_0){
  debugIsOpen() || $eventPreventDefault(event_0.nativeEvent);
  $clinit_SceneWidgetVisual();
  LastTouchMoveScreen_0 = event_0.nativeEvent.touches[0];
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual$6_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual/6', 1143, Ljava_lang_Object_2_classLit);
function SceneWidgetVisual$7(){
}

defineClass(1144, 1, $intern_23, SceneWidgetVisual$7);
_.onMouseDown = function onMouseDown_12(event_0){
  debugIsOpen() || $eventPreventDefault(event_0.nativeEvent);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual$7_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual/7', 1144, Ljava_lang_Object_2_classLit);
function SceneWidgetVisual$8(this$0){
  this.this$01 = this$0;
}

defineClass(1145, 1, $intern_25, SceneWidgetVisual$8);
_.onMouseUp = function onMouseUp_9(event_0){
  var rx, ry, x_0, y_0;
  x_0 = $eventGetSubPixelClientX(event_0.nativeEvent) | 0;
  y_0 = $eventGetSubPixelClientY(event_0.nativeEvent) | 0;
  $clinit_clickVisualiser();
  $setPopupPosition(($clinit_JAM() , tinything), x_0 - 25, y_0 - 25);
  $schedule(addClickFeedbackImage, 20);
  debugIsOpen() || $eventPreventDefault(event_0.nativeEvent);
  if ($clinit_SceneWidgetVisual() , editMode_0) {
    return;
  }
  if ($wasJustDragged()) {
    return;
  }
  rx = $getRelativeX_0(event_0, $getElement(this.this$01.sceneBackground.dragableContents));
  ry = $getRelativeY_0(event_0, $getElement(this.this$01.sceneBackground.dragableContents));
  $eventGetButton(event_0.nativeEvent) == 1 && $leftclickortouch(this.this$01, rx, ry);
  $eventGetButton(event_0.nativeEvent) == 2 && $rightclickortouch(this.this$01, rx, ry);
}
;
var Lcom_lostagain_JamGwt_JargScene_SceneWidgetVisual$8_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneWidgetVisual/8', 1145, Ljava_lang_Object_2_classLit);
function $clinit_ServerOptions(){
  $clinit_ServerOptions = emptyMethod;
  Log_96 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.ServerOptions'));
  user_login = new LoginBox;
  getLocation();
}

function $loadSaveGameFromSever(){
  var ex, requestBuilder2;
  $setText_0(($clinit_SaveGameManager() , SEVER_OPTIONS_0).ServerFeedback, 'Loading...');
  $setText_0(($clinit_TitledPopUpWithShadow() , SEVER_OPTIONS).ServerFeedback, 'Loading...');
  $info_1(Log_96, 'getting save game in');
  requestBuilder2 = new RequestBuilder(($clinit_RequestBuilder() , GET), getHostPageBaseURL() + 'Login_System/GetSaveGame.php');
  try {
    $sendRequest(requestBuilder2, '', new ServerOptions$9);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      ex = $e0;
      ($clinit_System() , out_0).println_0('load game failed');
      $setText_9(($clinit_JAM() , Feedback), 'error in user gamedata loading' + ex.detailMessage, false);
    }
     else 
      throw unwrap($e0);
  }
}

function $logoutUser(reload){
  var ex, requestBuilder;
  getLocation().indexOf('#') > -1 && $substring_0(getLocation(), 0, getLocation().indexOf('#'));
  $setText_9(($clinit_JAM() , Feedback), ($clinit_GamesInterfaceTextCore() , ControllPanel_loggingout), false);
  $setText_0(($clinit_SaveGameManager() , SEVER_OPTIONS_0).LogedInStatus, 'Logging oug');
  $setText_0(($clinit_TitledPopUpWithShadow() , SEVER_OPTIONS).LogedInStatus, 'Logging oug');
  requestBuilder = new RequestBuilder(($clinit_RequestBuilder() , POST), getHostPageBaseURL() + 'Login_System/LogoutUser.php');
  try {
    $setText_9(Feedback, ControllPanel_loggingout2, false);
    $sendRequest(requestBuilder, '', new ServerOptions$8(reload));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 84)) {
      ex = $e0;
      $setText_9(Feedback, 'no response' + ex.detailMessage, false);
    }
     else 
      throw unwrap($e0);
  }
}

function $refreshText(this$static){
  $setText(this$static.SaveGameDataToSever, ($clinit_GamesInterfaceTextCore() , ControllPanel_ClickHereToSaveYourProgress));
  $setText_1(this$static.changepassword, ControllPanel_ChangePassword);
  $setText(this$static.LogOut, ControllPanel_ClickHereToLogOut);
  $setText(this$static.LogIn, Login_PleaseLogin);
  $setText(this$static.LoadGameDataFromSever, ControllPanel_LoadFromServer);
  $setText(this$static.StartFromStartOfGame, MainGame_StartANewGame);
  $refreshText_1(this$static.ResetGameBox);
  $setText(this$static.ChangePasswordBox.changepassword_button, ControllPanel_ChangePassword);
}

function $saveGameToServerImpl(CompressedSaveGameData){
  var requestBuilder;
  $setText_0(($clinit_SaveGameManager() , SEVER_OPTIONS_0).ServerFeedback, 'Saving...');
  $setText_0(($clinit_TitledPopUpWithShadow() , SEVER_OPTIONS).ServerFeedback, 'Saving...');
  getLocation().indexOf('#') > -1 && $substring_0(getLocation(), 0, getLocation().indexOf('#'));
  ($clinit_JAMcore() , GameLogger).info_0($getTextOrHtml(($clinit_JAM() , messagehistory_0).messageslist.directionalTextHelper, true));
  requestBuilder = new RequestBuilder(($clinit_RequestBuilder() , POST), getHostPageBaseURL() + 'Login_System/SaveGame.php');
  try {
    $sendRequest(requestBuilder, 'SaveData=' + CompressedSaveGameData + '&MessageHistory=' + encodeQueryString($getTextOrHtml(messagehistory_0.messageslist.directionalTextHelper, true)), new ServerOptions$10);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (!instanceOf($e0, 84))
      throw unwrap($e0);
  }
}

function $updateStatus(this$static){
  $setText_0(this$static.LogedInStatus, 'Logged In As:' + ($clinit_JAMcore() , Username));
  if ($equals_5(Username, 'guest') || $equalsIgnoreCase(Username, 'The Player')) {
    $setText_0(this$static.LogedInStatus, ($clinit_GamesInterfaceTextCore() , MainGame_NotLoggedIn));
    $setVisible(this$static.changepassword, false);
    $setVisible(this$static.resetgame, false);
    $setEnabled(this$static.LoadGameDataFromSever, false);
    $setEnabled(this$static.SaveGameDataToSever, false);
    $setEnabled(this$static.LogOut, false);
    $setEnabled(this$static.LogIn, true);
    $setVisible(this$static.LogIn, true);
  }
   else {
    $setText_0(this$static.LogedInStatus, ' ' + Username + ' Logged In  ');
    $setEnabled(this$static.LogOut, true);
    $setEnabled(this$static.LogIn, false);
    $setVisible(this$static.LogIn, false);
    $setEnabled(this$static.LoadGameDataFromSever, true);
    $setEnabled(this$static.SaveGameDataToSever, true);
    $setVisible(this$static.changepassword, true);
    $setVisible(this$static.resetgame, true);
  }
}

function ServerOptions(){
  $clinit_ServerOptions();
  this.contentsPanel = new VerticalPanel;
  this.ChangePasswordBox = new ChangePasswordBox;
  this.ResetGameBox = new ResetGameBox;
  this.SaveGameDataToSever = new Button(($clinit_GamesInterfaceTextCore() , ControllPanel_ClickHereToSaveYourProgress));
  this.LoadGameDataFromSever = new Button(ControllPanel_LoadFromServer);
  this.StartFromStartOfGame = new Button(MainGame_StartANewGame);
  this.LogIn = new Button('');
  this.LogOut = new Button(ControllPanel_ClickHereToLogOut);
  this.ServerFeedback = new Label_1('');
  this.LogedInStatus = new Label_1('Logged In As:');
  this.bottomoptions = new HorizontalPanel;
  this.changepassword = new Anchor_1(ControllPanel_ChangePassword, '#changepassword');
  this.resetgame = new Anchor_1('Reset Game', '#resetgame');
  $info_1(Log_96, 'setting up ServerOptions');
  $setSize(this.contentsPanel, '100%', '100%');
  $setSpacing(this.contentsPanel, 8);
  $setHorizontalAlignment_0(this.contentsPanel, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $addStyleName(this.LogedInStatus, 'LoggedInTitle');
  $info_1(Log_96, 'setting up Server handlers');
  $addDomHandler(this.LogIn, new ServerOptions$1, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this.resetgame, new ServerOptions$2(this), (null , TYPE_1));
  $addDomHandler(this.StartFromStartOfGame, new ServerOptions$3, (null , TYPE_1));
  $addDomHandler(this.changepassword, new ServerOptions$4(this), (null , TYPE_1));
  $addDomHandler(this.LogOut, new ServerOptions$5, (null , TYPE_1));
  $addDomHandler(this.SaveGameDataToSever, new ServerOptions$6, (null , TYPE_1));
  $addDomHandler(this.LoadGameDataFromSever, new ServerOptions$7, (null , TYPE_1));
  $info_1(Log_96, 'setting up interface for server buttons');
  $add_5(this.contentsPanel, this.LogedInStatus);
  $add_5(this.contentsPanel, this.SaveGameDataToSever);
  $add_5(this.contentsPanel, this.LoadGameDataFromSever);
  $add_5(this.contentsPanel, this.StartFromStartOfGame);
  $add_5(this.contentsPanel, this.LogOut);
  $add_5(this.contentsPanel, this.LogIn);
  $add_5(this.contentsPanel, this.ServerFeedback);
  $setWidth(this.bottomoptions, '300px');
  $setHorizontalAlignment(this.bottomoptions, ALIGN_CENTER);
  $add_4(this.bottomoptions, this.changepassword);
  $add_4(this.bottomoptions, this.resetgame);
  $add_5(this.contentsPanel, this.bottomoptions);
  $info_1(Log_96, 'updating interface for server buttons');
  $updateStatus(this);
}

function getLocation(){
  return $wnd.location.href;
}

defineClass(449, 1493, {}, ServerOptions);
_.getVisualRepresentation = function getVisualRepresentation_22(){
  return this.contentsPanel;
}
;
var Log_96, user_login;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions', 449, Lcom_lostagain_Jam_ServerOptionsCore_2_classLit);
function ServerOptions$1(){
}

defineClass(845, 1, $intern_17, ServerOptions$1);
_.onClick = function onClick_45(event_0){
  $OpenDefault_0(($clinit_ServerOptions() , user_login));
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/1', 845, Ljava_lang_Object_2_classLit);
function ServerOptions$10(){
}

defineClass(854, 1, {}, ServerOptions$10);
_.onError_1 = function onError_18(request, exception){
  ($clinit_System() , out_0).println_0('encode url failed');
}
;
_.onResponseReceived = function onResponseReceived_11(request, response){
  var responsetext;
  responsetext = response.xmlHttpRequest.responseText;
  $info_1(($clinit_ServerOptions() , Log_96), 'save response:' + responsetext);
  $setText_0(($clinit_SaveGameManager() , SEVER_OPTIONS_0).ServerFeedback, 'Saved Ok');
  $setText_0(($clinit_TitledPopUpWithShadow() , SEVER_OPTIONS).ServerFeedback, 'Saved Ok');
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$10_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/10', 854, Ljava_lang_Object_2_classLit);
function ServerOptions$2(this$0){
  this.this$01 = this$0;
}

defineClass(846, 1, $intern_17, ServerOptions$2);
_.onClick = function onClick_46(event_0){
  $OpenDefault_0(this.this$01.ResetGameBox);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/2', 846, Ljava_lang_Object_2_classLit);
function ServerOptions$3(){
}

defineClass(847, 1, $intern_17, ServerOptions$3);
_.onClick = function onClick_47(event_0){
  clearAllGameData();
  startNewGame();
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/3', 847, Ljava_lang_Object_2_classLit);
function ServerOptions$4(this$0){
  this.this$01 = this$0;
}

defineClass(848, 1, $intern_17, ServerOptions$4);
_.onClick = function onClick_48(event_0){
  $OpenDefault_0(this.this$01.ChangePasswordBox);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/4', 848, Ljava_lang_Object_2_classLit);
function ServerOptions$5(){
}

defineClass(849, 1, $intern_17, ServerOptions$5);
_.onClick = function onClick_49(event_0){
  if ($equalsIgnoreCase(($clinit_JAMcore() , Username), 'guest')) {
    $info_1(($clinit_ServerOptions() , Log_96), 'guest detected, so pointless');
    return;
  }
  $logoutUser(($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$5_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/5', 849, Ljava_lang_Object_2_classLit);
function ServerOptions$6(){
}

defineClass(850, 1, $intern_17, ServerOptions$6);
_.onClick = function onClick_50(event_0){
  $saveGameToServerImpl(($clinit_SaveGameManager() , current_save_string));
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$6_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/6', 850, Ljava_lang_Object_2_classLit);
function ServerOptions$7(){
}

defineClass(851, 1, $intern_17, ServerOptions$7);
_.onClick = function onClick_51(event_0){
  $loadSaveGameFromSever();
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$7_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/7', 851, Ljava_lang_Object_2_classLit);
function ServerOptions$8(val$reload){
  this.val$reload2 = val$reload;
}

defineClass(852, 1, {}, ServerOptions$8);
_.onError_1 = function onError_19(request, exception){
  ($clinit_System() , out_0).println_0('encode url failed');
  $setText_9(($clinit_JAM() , Feedback), 'error' + exception.detailMessage, false);
}
;
_.onResponseReceived = function onResponseReceived_12(request, response){
  var cookie, cookieit, cookin, reponsetext;
  reponsetext = response.xmlHttpRequest.responseText;
  if ($equals_5(reponsetext, 'LoggedOutSuccess') || $equals_5(reponsetext, 'NotLoggedIn')) {
    $setText_0(($clinit_SaveGameManager() , SEVER_OPTIONS_0).LogedInStatus, 'Logged out');
    $setText_0(($clinit_TitledPopUpWithShadow() , SEVER_OPTIONS).LogedInStatus, 'Logged out');
    cookieit = $iterator_4(new AbstractMap$1(ensureCookies()));
    cookin = dynamicCast($toArray(new AbstractMap$1(ensureCookies()), initDim(Ljava_lang_String_2_classLit, $intern_11, 2, 0, 4, 1)), 139)[0];
    setTitle('removing cookies' + cookin);
    setCookie(cookin, '', new Date_1(sub_0(fromDouble((new Date_0).jsdate.getTime()), {l:2513920, m:20, h:0})));
    removeCookie(cookin);
    while (cookieit.val$outerIter2.hasNext()) {
      cookie = dynamicCastToString($next_7(cookieit));
      setTitle('removing cookie:' + cookie);
      removeCookie(cookie);
    }
    setTitle('removed cookies');
    $info_1(($clinit_ServerOptions() , Log_96), 'refreshing page;' + this.val$reload2);
    $clinit_JAMcore();
    Username = 'The Player';
    loggedIn = false;
    $updateStatus(SEVER_OPTIONS_0);
    $updateStatus(SEVER_OPTIONS);
    this.val$reload2.value_0 && $info_1(Log_96, 'Logged out - reload page? or probably not needed with new system');
  }
   else {
    $setText_9(($clinit_JAM() , Feedback), '--' + response.xmlHttpRequest.responseText, false);
    $info_1(($clinit_ServerOptions() , Log_96), '--' + response.xmlHttpRequest.responseText);
    $setText_0(($clinit_SaveGameManager() , SEVER_OPTIONS_0).LogedInStatus, 'Log out error');
    $setText_0(($clinit_TitledPopUpWithShadow() , SEVER_OPTIONS).LogedInStatus, 'Log out error');
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$8_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/8', 852, Ljava_lang_Object_2_classLit);
function ServerOptions$9(){
}

defineClass(853, 1, {}, ServerOptions$9);
_.onError_1 = function onError_20(request, exception){
  ($clinit_System() , out_0).println_0('error in user gamedata loading::');
  $setText_9(($clinit_JAM() , Feedback), 'error in user gamedata loading' + exception.detailMessage, false);
}
;
_.onResponseReceived = function onResponseReceived_13(request, response){
  var incomingdata, savedata;
  incomingdata = ' ' + response.xmlHttpRequest.responseText;
  $info_1(($clinit_ServerOptions() , Log_96), 'got save game:' + incomingdata);
  if (incomingdata.indexOf('--<Sdata:HData>--') > -1) {
    savedata = $trim($split_0(incomingdata, '--<Sdata:HData>--', 0)[0]);
    $endsWith(savedata, '<br>:end') && (savedata = $substring_0(savedata, 0, savedata.length - 8));
    $setText_0(($clinit_SaveGameManager() , SEVER_OPTIONS_0).LogedInStatus, 'Loading ' + ($clinit_JAMcore() , Username) + 's save game');
    $setText_0(($clinit_TitledPopUpWithShadow() , SEVER_OPTIONS).LogedInStatus, 'Loading ' + Username + 's save game');
    decompressAndLoad(savedata, true);
    $setHTML(($clinit_JAM() , messagehistory_0).messageslist, $split_0(incomingdata, '--<Sdata:HData>--', 0)[1]);
    return;
  }
   else {
    $setText_9(($clinit_JAM() , Feedback), 'error in user gamedata loading.', false);
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_ServerOptions$9_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'ServerOptions/9', 853, Ljava_lang_Object_2_classLit);
function $clinit_GameDataBox(){
  $clinit_GameDataBox = emptyMethod;
  Log_97 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GameDataBox'));
  dataContainer_0 = new StackPanel;
  OverListBoxs = new HashMap;
  allGlobalVariablesAndSettingsBox = new VerticalPanel;
  VariableSettingsBar = new HorizontalPanel;
  VariableListCurrentMode = ($clinit_GameDataBox$variableListMode() , Alphabetical);
  globalVariablesBox = new SpiffyDataBox;
  specialVariables = new SpiffyDataBox;
  global_info_and_profiling = new VerticalPanel;
  MusicStatus = new VerticalPanel;
  TimerStatus = new SpiffyDataBox;
  ObjectsUpdatingstatus = new VerticalPanel;
  AutoUpdateActionSetTimerList = new CheckBox_1('Auto Update Timer List');
  currentPages = new Label;
  profilingConditional = new Label;
  profilingPropertyChecks = new Label;
  profilingCollisions = new Label;
  profileingOldSceneObjectDatabase = new Label;
  profileingNewSceneObjectDatabase = new Label;
  DisCollisions = new Button('Collisions');
  lastcommandstriggered = new VerticalPanel;
}

function GameDataBox(){
  $clinit_GameDataBox();
  VerticalPanel.call(this);
  this.gameLogBox = new ScrollPanel;
  this.TimerStatusAndMonitoring = new VerticalPanel;
  $clinit_GameStatistics();
  GameStatisticDisplayerImplementation = new Present(this);
  $add_5(this, DisCollisions);
  $add_5(this, dataContainer_0);
  $clear(dataContainer_0);
  $add_15(dataContainer_0, new GameDataBox$Controls(this), 'Controls');
  $add_1(this.gameLogBox, ($clinit_JAMcore() , GameLogger));
  GameLogger.info_0('log for game added to inspector');
  $setHeight_4(this.gameLogBox, '700px');
  $setWidth_6(this.gameLogBox, '460px');
  $setPropertyImpl($getElement(this.gameLogBox).style, 'wordBreak', 'break-all');
  $add_15(dataContainer_0, this.gameLogBox, '(games log)');
  createGlobalVariableSettingsBar();
  $add_15(dataContainer_0, allGlobalVariablesAndSettingsBox, 'All global game variables');
  $add_15(dataContainer_0, specialVariables, 'All special variables');
  $add_5(global_info_and_profiling, currentPages);
  $add_5(global_info_and_profiling, new Label_1('---'));
  $add_5(global_info_and_profiling, profilingConditional);
  $add_5(global_info_and_profiling, profilingPropertyChecks);
  $add_5(global_info_and_profiling, profilingCollisions);
  $add_5(global_info_and_profiling, profileingOldSceneObjectDatabase);
  $add_5(global_info_and_profiling, profileingNewSceneObjectDatabase);
  $add_15(dataContainer_0, global_info_and_profiling, 'Global infomation & Profiling');
  $add_15(dataContainer_0, lastcommandstriggered, 'last commands triggered');
  $add_15(dataContainer_0, MusicStatus, 'Music Status');
  $setWidth(TimerStatus, '100%');
  TimerStatus.fcstyle = 'bold';
  $setWidth(AutoUpdateActionSetTimerList, '100%');
  $addDomHandler(AutoUpdateActionSetTimerList, new GameDataBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $setWidth(this.TimerStatusAndMonitoring, '100%');
  $setHorizontalAlignment_0(this.TimerStatusAndMonitoring, ($clinit_HasHorizontalAlignment() , ALIGN_LEFT));
  $add_5(this.TimerStatusAndMonitoring, AutoUpdateActionSetTimerList);
  $add_5(this.TimerStatusAndMonitoring, TimerStatus);
  $add_15(dataContainer_0, this.TimerStatusAndMonitoring, 'Timer Status');
  $add_15(dataContainer_0, ObjectsUpdatingstatus, 'Objects Updated Each Frame');
  ($clinit_DOM() , this.element).style['width'] = '100%';
  this.element.style['height'] = '100%';
  $setSize(dataContainer_0, '100%', '100%');
  $setStyleName(dataContainer_0, 'debugStackPanel');
  $getElement(dataContainer_0).style['overflow'] = ($clinit_Style$Overflow() , 'hidden');
  $addDomHandler(DisCollisions, new GameDataBox$2, (null , TYPE_1));
  update_6();
}

function createGlobalVariableSettingsBar(){
  var autoUpdate, detachedGlobalVars, mode, mode$array, mode$index, mode$max, orderLabel, orderOptionList;
  orderLabel = new Label_1('Order: ');
  autoUpdate = new CheckBox_1('autoupdate');
  detachedGlobalVars = new CheckBox_1('detached');
  $setAttribute(($clinit_DOM() , detachedGlobalVars.element), 'title', 'doesnt work yet sorry');
  orderOptionList = new ListBox;
  for (mode$array = ($clinit_GameDataBox$variableListMode() , initValues(getClassLiteralForArray(Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$variableListMode_2_classLit, 1), $intern_1, 245, 0, [Alphabetical, LastUpdated, Unordered])) , mode$index = 0 , mode$max = mode$array.length; mode$index < mode$max; ++mode$index) {
    mode = mode$array[mode$index];
    $insertItem(orderOptionList, mode.name_0 != null?mode.name_0:'' + mode.ordinal);
    mode == VariableListCurrentMode && $setItemSelected_1(orderOptionList, orderOptionList.element.options.length - 1);
  }
  $add_4(VariableSettingsBar, orderLabel);
  $add_4(VariableSettingsBar, orderOptionList);
  $add_4(VariableSettingsBar, autoUpdate);
  $add_4(VariableSettingsBar, detachedGlobalVars);
  $addDomHandler(orderOptionList, new GameDataBox$3(orderOptionList), ($clinit_ChangeEvent() , $clinit_ChangeEvent() , TYPE_0));
  $addValueChangeHandler_0(autoUpdate, new GameDataBox$4);
  $addValueChangeHandler_0(detachedGlobalVars, new GameDataBox$5);
  return VariableSettingsBar;
}

function refreshSpecialVariables(){
  $clinit_GameDataBox();
  $removeAllRows(specialVariables);
  specialVariables.fcstyle = 'bold';
  $addrow_2(specialVariables, 'current scene:', ($clinit_SceneObjectDatabase() , currentScene_0).SceneFileName);
  lastSceneObjectUpdated?$addrow_2(specialVariables, '<LASTSCENEOBJECT> :', lastSceneObjectUpdated.objectsCurrentState_2.ObjectsName):$addrow_2(specialVariables, '<LASTSCENEOBJECT> :', 'null');
  lastSceneObjectClicked?$addrow_2(specialVariables, '<LASTCLICKEDON> :', lastSceneObjectClicked.objectsCurrentState_2.ObjectsName):$addrow_2(specialVariables, '<LASTCLICKEDON>  :', 'null');
  ($clinit_InventoryPanelCore() , currentlyHeldItem)?$addrow_2(specialVariables, '<HELDITEM> :', currentlyHeldItem.objectsCurrentState_2.ObjectsName):$addrow_2(specialVariables, '<HELDITEM> :', 'null');
  $addrow(specialVariables, new Label_1('---'));
  lastSpriteObjectUpdated?$addrow_2(specialVariables, '<LASTSPRITEITEM> :', dynamicCast(lastSpriteObjectUpdated, 24).objectsCurrentState_2.ObjectsName):$addrow_2(specialVariables, '<LASTSPRITEITEM> :', 'null');
  lastDivObjectUpdated?$addrow_2(specialVariables, 'lastDivObjectUpdated:', dynamicCast(lastDivObjectUpdated, 24).objectsCurrentState_2.ObjectsName):$addrow_2(specialVariables, 'lastDivObjectUpdated:', 'null');
  lastInventoryObjectClickedOn?$addrow_2(specialVariables, 'lastInventoryObjectClickedOn:', lastInventoryObjectClickedOn.objectsCurrentState_0.ObjectsName):$addrow_2(specialVariables, 'lastInventoryObjectClickedOn:', 'null');
  lastTextObjectUpdated?$addrow_2(specialVariables, 'lastTextObjectUpdated:', dynamicCast(lastTextObjectUpdated, 24).getObjectsCurrentState_1().ObjectsName):$addrow_2(specialVariables, 'lastTextObjectUpdated:', 'null');
  lastDialogueObjectUpdated?$addrow_2(specialVariables, 'lastDialoueObjectUpdated:', lastDialogueObjectUpdated.objectsCurrentState.ObjectsName):$addrow_2(specialVariables, 'lastDialoueObjectUpdated:', 'null');
  lastVectorObjectUpdated?$addrow_2(specialVariables, 'lastVectorObjectUpdated:', lastVectorObjectUpdated.objectsCurrentState.ObjectsName):$addrow_2(specialVariables, 'lastVectorObjectUpdated:', 'null');
  lastObjectThatTouchedAnother?$addrow_2(specialVariables, '<TOUCHER>:', lastObjectThatTouchedAnother.objectsCurrentState_2.ObjectsName):$addrow_2(specialVariables, '<TOUCHER>:', 'null');
}

function update_6(){
  $clinit_GameDataBox();
  var ObjectList, allObjectsOfType, i, index_0, objects, objectsOfType, type_0, type$iterator;
  $setText_0(profilingConditional, 'Conditional TotalTime:' + toString_50(($clinit_GameStatistics() , TotalConditionalCheckTime)));
  $setText_0(profilingPropertyChecks, 'Propertychecks TotalTime:' + toString_50(TotalPropertyCheckCheckTime));
  $setText_0(profilingCollisions, 'Collisions TotalTime:' + toString_50(TotalCollisionCheckTime));
  $setText_0(profileingOldSceneObjectDatabase, 'Old Database Lookup-time:' + toString_50(TotalOldDatabaseLookupTime));
  $setText_0(profileingNewSceneObjectDatabase, 'New Database Lookup-time:' + toString_50(TotalNewDatabaseLookupTime));
  $setText_0(currentPages, 'Currently ' + ($clinit_JAMcore() , CurrentScenesAndPages).PageCount + ' Open Pages:' + CurrentScenesAndPages.OpenPagesInSet);
  objects = ($clinit_SceneObjectDatabase() , $clinit_SceneObjectDatabase_newcore() , $clinit_SceneObjectDatabase_newcore() , object_database_table);
  i = 1;
  for (type$iterator = $keySet_1($rowMap(objects)).iterator(); type$iterator.hasNext();) {
    type_0 = dynamicCast(type$iterator.next_0(), 114);
    objectsOfType = new StandardTable$Row(objects, type_0);
    if ($entrySet_0(objectsOfType).size_1() != 0) {
      allObjectsOfType = $values_0(objectsOfType);
      if (OverListBoxs.containsKey(type_0)) {
        ObjectList = dynamicCast(OverListBoxs.get_2(type_0), 28);
        index_0 = $getWidgetIndex(dataContainer_0, ObjectList);
        $setStackText(dataContainer_0, index_0, 'All ' + allObjectsOfType.map_0.size_1() + ' games ' + (type_0.name_0 != null?type_0.name_0:'' + type_0.ordinal) + ' objects');
      }
       else {
        ObjectList = new VerticalPanel;
        $add_15(dataContainer_0, ObjectList, 'All ' + allObjectsOfType.map_0.size_1() + ' games ' + (type_0.name_0 != null?type_0.name_0:'' + type_0.ordinal) + ' objects');
      }
      OverListBoxs.put(type_0, ObjectList);
      updateObjectList(ObjectList, allObjectsOfType);
      ++i;
    }
  }
  updateGlobalVariablelist();
  refreshSpecialVariables();
  updateMusic();
  updateObjectsUpdateing();
  updateCurrentTimers();
  updateCommandList(lastcommandstriggered, lastCommandsStack_0);
}

function updateCommandList(panel, lastCommandsStack){
  $clinit_GameDataBox();
  var debugevent, debugevent$iterator, newlab;
  $clear(panel);
  for (debugevent$iterator = $listIterator_0(lastCommandsStack, 0); debugevent$iterator.currentNode != debugevent$iterator.this$01.tail;) {
    debugevent = (checkCriticalElement(debugevent$iterator.currentNode != debugevent$iterator.this$01.tail) , debugevent$iterator.lastNode = debugevent$iterator.currentNode , debugevent$iterator.currentNode = debugevent$iterator.currentNode.next , ++debugevent$iterator.currentIndex , dynamicCast(debugevent$iterator.lastNode.value_0, 391));
    newlab = new Label_1(debugevent.debugstring);
    $setAttribute(($clinit_DOM() , newlab.element), 'style', debugevent.debugstyle);
    $setTitle(newlab, debugevent.debugtooltip);
    $add_5(panel, newlab);
  }
}

function updateCurrentTimers(){
  $clinit_GameDataBox();
  var actionSetsBar, timerWasFor, timerWasFor$iterator;
  if (!!TimerStatus && TimerStatus.attached) {
    $removeAllRows(TimerStatus);
    $addrow(TimerStatus, new Label_1('Active Action Set Timers:'));
    for (timerWasFor$iterator = $iterator_5(new AbstractMap$2(($clinit_JAMTimerController() , activeNamedActionSetTimers))); timerWasFor$iterator.val$outerIter2.hasNext();) {
      timerWasFor = dynamicCast($next_8(timerWasFor$iterator), 164);
      actionSetsBar = new GameDataBox$ActionSetTimerBar(timerWasFor);
      $addrow(TimerStatus, actionSetsBar);
    }
  }
}

function updateGlobalVariablelist(){
  $clinit_GameDataBox();
  var lastUpdated, varName, varName$iterator, variableData, variableNames;
  $clear(allGlobalVariablesAndSettingsBox);
  $removeAllRows(globalVariablesBox);
  globalVariablesBox.fcstyle = 'bold';
  $setHorizontalAlignment_0(allGlobalVariablesAndSettingsBox, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_5(allGlobalVariablesAndSettingsBox, VariableSettingsBar);
  variableNames = $getAllUniqueNames(($clinit_GameVariableManagement() , GameVariables));
  if (VariableListCurrentMode == ($clinit_GameDataBox$variableListMode() , Alphabetical)) {
    $clinit_Collections();
    sort_1(variableNames, null);
  }
   else if (VariableListCurrentMode == LastUpdated) {
    lastUpdated = new ArrayList_1(($clinit_AssArray() , lastVariablesUpdated));
    reverse(lastUpdated);
    variableNames = lastUpdated;
    $addrow(globalVariablesBox, new Label_1('Last ' + lastVariablesUpdated.size_0 + ' updated & their current values:'));
  }
  for (varName$iterator = new AbstractList$IteratorImpl(variableNames); varName$iterator.i < varName$iterator.this$01_0.size_1();) {
    varName = (checkCriticalElement(varName$iterator.i < varName$iterator.this$01_0.size_1()) , dynamicCastToString(varName$iterator.this$01_0.get_0(varName$iterator.last = varName$iterator.i++)));
    variableData = $GetItem(GameVariables, varName);
    $addrow_2(globalVariablesBox, varName + ':', variableData);
  }
  DetachedVariableBox || $add_5(allGlobalVariablesAndSettingsBox, globalVariablesBox);
}

function updateMusic(){
  $clinit_GameDataBox();
  var trackName, trackName$iterator;
  if (!!MusicStatus && MusicStatus.attached) {
    $clear(MusicStatus);
    $add_5(MusicStatus, new Label_1('Music Testing Data'));
    for (trackName$iterator = ($clinit_GwtAudioController() , $iterator_5(new AbstractMap$2(MusicAndSoundCache))); trackName$iterator.val$outerIter2.hasNext();) {
      trackName = dynamicCast($next_8(trackName$iterator), 241);
      $add_5(MusicStatus, new Label_1(trackName.name_0 + ',' + $name(trackName.currentState) + ',Col=' + trackName.CurrentVolume + '/' + trackName.MaxVolume));
    }
  }
}

function updateObjectList(updateThis, collection){
  var objectbar, sceneObjects, sit, so, so$iterator;
  $info_1(Log_97, 'updateing scene object list.');
  $clear(updateThis);
  sit = ($clinit_Maps() , transform_0(collection.map_0.entrySet_0().iterator(), ($clinit_Maps$EntryFunction() , VALUE)));
  while (sit.backingIterator.hasNext()) {
    sceneObjects = dynamicCast($transform(sit, sit.backingIterator.next_0()), 30);
    for (so$iterator = $iterator_4(new AbstractMap$1(sceneObjects.map_0)); so$iterator.val$outerIter2.hasNext();) {
      so = dynamicCast($next_7(so$iterator), 24);
      objectbar = new GameDataBox$ObjectDataBar(so);
      $add_5(updateThis, objectbar);
    }
  }
}

function updateObjectsUpdateing(){
  var newBar, object, object$iterator;
  if (!!ObjectsUpdatingstatus && ObjectsUpdatingstatus.attached) {
    $clear(ObjectsUpdatingstatus);
    $add_5(ObjectsUpdatingstatus, new Label_1('Objects updating:'));
    for (object$iterator = ($clinit_DeltaTimerController() , $iterator_4(new AbstractMap$1(objectsToUpdateOnFrame.map_0))); object$iterator.val$outerIter2.hasNext();) {
      object = dynamicCast($next_7(object$iterator), 97);
      newBar = new GameDataBox$ObjectBeingUpdatedBar(object);
      $add_5(ObjectsUpdatingstatus, newBar);
    }
  }
}

defineClass(1223, 28, {97:1, 20:1, 16:1, 19:1, 17:1, 27:1, 67:1, 13:1, 15:1, 28:1, 7:1, 1544:1}, GameDataBox);
_.update_0 = function update_7(delta){
  dataContainer_0.visibleStack == $getWidgetIndex(dataContainer_0, this.TimerStatusAndMonitoring) && updateCurrentTimers();
  dataContainer_0.visibleStack == $getWidgetIndex(dataContainer_0, MusicStatus) && updateMusic();
  dataContainer_0.visibleStack == $getWidgetIndex(dataContainer_0, ObjectsUpdatingstatus) && updateObjectsUpdateing();
}
;
var AutoUpdateActionSetTimerList, DetachedVariableBox = false, DisCollisions, Log_97, MusicStatus, ObjectsUpdatingstatus, OverListBoxs, TimerStatus, VariableListCurrentMode, VariableSettingsBar, allGlobalVariablesAndSettingsBox, currentPages, dataContainer_0, detachedVariableBox, globalVariablesBox, global_info_and_profiling, lastcommandstriggered, profileingNewSceneObjectDatabase, profileingOldSceneObjectDatabase, profilingCollisions, profilingConditional, profilingPropertyChecks, specialVariables;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox', 1223, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function GameDataBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(1237, 1, $intern_17, GameDataBox$1);
_.onClick = function onClick_52(event_0){
  $getValue_0(($clinit_GameDataBox() , AutoUpdateActionSetTimerList)).value_0?addObjectToUpdateOnTick(this.this$01):removeObjectToUpdateOnTick(this.this$01);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/1', 1237, Ljava_lang_Object_2_classLit);
function GameDataBox$2(){
}

defineClass(1238, 1, $intern_17, GameDataBox$2);
_.onClick = function onClick_53(event_0){
  openLog();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/2', 1238, Ljava_lang_Object_2_classLit);
function GameDataBox$3(val$orderOptionList){
  this.val$orderOptionList1 = val$orderOptionList;
}

defineClass(1239, 1, $intern_116, GameDataBox$3);
_.onChange = function onChange_3(event_0){
  $clinit_GameDataBox();
  VariableListCurrentMode = valueOf_42($getSelectedItemText(this.val$orderOptionList1));
  updateGlobalVariablelist();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/3', 1239, Ljava_lang_Object_2_classLit);
function GameDataBox$4(){
}

defineClass(1240, 1, $intern_114, GameDataBox$4);
_.onValueChange = function onValueChange_3(event_0){
  var checked;
  checked = dynamicCast(event_0.value_0, 111).value_0;
  checked?$setOnUpdateRun(($clinit_GameVariableManagement() , GameVariables), new GameDataBox$4$1):$setOnUpdateRun(($clinit_GameVariableManagement() , GameVariables), null);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/4', 1240, Ljava_lang_Object_2_classLit);
function GameDataBox$4$1(){
}

defineClass(1241, 1, {}, GameDataBox$4$1);
_.run = function run_93(){
  updateGlobalVariablelist();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$4$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/4/1', 1241, Ljava_lang_Object_2_classLit);
function GameDataBox$5(){
}

defineClass(1242, 1, $intern_114, GameDataBox$5);
_.onValueChange = function onValueChange_4(event_0){
  if (dynamicCast(event_0.value_0, 111).value_0) {
    $clinit_GameDataBox();
    DetachedVariableBox = true;
    !!detachedVariableBox && detachedVariableBox.CloseDefault();
    detachedVariableBox = new TitledPopUpWithShadow_0('auto', 'GlobalVariables:', globalVariablesBox, true);
    $getElement(globalVariablesBox).style['backgroundColor'] = 'rgb(166, 139, 255)';
    $setSize(globalVariablesBox, '100%', '100%');
    $setPopupPosition(detachedVariableBox, $getClientWidth($doc) - 350, 50);
    detachedVariableBox.show();
  }
   else {
    $clinit_GameDataBox();
    DetachedVariableBox = false;
    updateGlobalVariablelist();
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$5_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/5', 1242, Ljava_lang_Object_2_classLit);
function GameDataBox$ActionSetTimerBar(timer){
  var actionSetsNameLabel, actionSetsObjectLabel, playing, seperator, timeRemaining;
  HorizontalPanel.call(this);
  actionSetsObjectLabel = new Label_1(timer.RunnablesObject);
  actionSetsNameLabel = new Label_1(timer.RunnableName);
  seperator = new Label_1('___');
  timeRemaining = new Label_1(toString_50(sub_0(fromInt(timer.FuseLengthMS), ($clinit_System() , sub_0(fromDouble(now_1()), timer.StartTime)))) + ' (from ' + timer.FuseLengthMS + ')');
  playing = new CheckBox_1('Updating');
  $setValue_1(playing, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  $addDomHandler(playing, new GameDataBox$ActionSetTimerBar$1(this, playing, timer), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  ($clinit_DOM() , this.element).style['width'] = '100%';
  $add_4(this, actionSetsObjectLabel);
  $add_4(this, actionSetsNameLabel);
  $add_4(this, seperator);
  $add_4(this, timeRemaining);
  $add_4(this, playing);
}

defineClass(1224, 34, $intern_22, GameDataBox$ActionSetTimerBar);
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$ActionSetTimerBar_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/ActionSetTimerBar', 1224, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function GameDataBox$ActionSetTimerBar$1(this$1, val$playing, val$timer){
  this.this$11 = this$1;
  this.val$playing2 = val$playing;
  this.val$timer3 = val$timer;
}

defineClass(1228, 1, $intern_17, GameDataBox$ActionSetTimerBar$1);
_.onClick = function onClick_54(event_0){
  if ($getValue_0(this.val$playing2).value_0) {
    $schedule_0(this.val$timer3, toInt($getTimeRemaining(this.val$timer3)));
    $setPropertyImpl($getElement(this.this$11).style, 'backgroundColor', 'rgb(90, 173, 90)');
  }
   else {
    $cancel_2(this.val$timer3);
    $setPropertyImpl($getElement(this.this$11).style, 'backgroundColor', 'rgb(221, 88, 88)');
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$ActionSetTimerBar$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/ActionSetTimerBar/1', 1228, Ljava_lang_Object_2_classLit);
function GameDataBox$Controls(this$0){
  var AutoUpdate, clearcommands, filterBox, filterLogLabel, logOptions, refreshLists, reset_0, toggleLogs;
  this.this$01 = this$0;
  VerticalPanel.call(this);
  reset_0 = new Button('Reset Game');
  $addDomHandler(reset_0, new GameDataBox$Controls$1, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $add_5(this, reset_0);
  refreshLists = new Button('Refresh lists');
  $addDomHandler(refreshLists, new GameDataBox$Controls$2, (null , TYPE_1));
  $add_5(this, refreshLists);
  clearcommands = new Button('Clear command history');
  $addDomHandler(clearcommands, new GameDataBox$Controls$3, (null , TYPE_1));
  $add_5(this, clearcommands);
  toggleLogs = new CheckBox_1('Enable Log Statements:');
  ($clinit_JAMcore() , DebugMode).value_0 && !$equalsIgnoreCase(DebugSetting_0, 'trueNoLog')?$setValue_1(toggleLogs, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3)):$setValue_1(toggleLogs, ($clinit_Boolean() , $clinit_Boolean() , FALSE_2));
  $addValueChangeHandler_0(toggleLogs, new GameDataBox$Controls$4);
  filterBox = new ListBox;
  $insertItem(filterBox, ($clinit_Level() , 'ALL'));
  $insertItem(filterBox, 'FINEST');
  $insertItem(filterBox, 'INFO');
  $insertItem(filterBox, 'WARNING');
  $insertItem(filterBox, 'SEVERE');
  $addDomHandler(filterBox, new GameDataBox$Controls$5(filterBox), ($clinit_ChangeEvent() , $clinit_ChangeEvent() , TYPE_0));
  filterLogLabel = new Label_1('Filter log:');
  logOptions = new HorizontalPanel;
  $add_4(logOptions, toggleLogs);
  $add_4(logOptions, filterLogLabel);
  $add_4(logOptions, filterBox);
  $add_5(this, logOptions);
  AutoUpdate = new CheckBox_1('Auto Update OpenPage');
  $addDomHandler(AutoUpdate, new GameDataBox$Controls$6(this, AutoUpdate), (null , TYPE_1));
  $add_5(this, AutoUpdate);
}

defineClass(1227, 28, $intern_48, GameDataBox$Controls);
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$Controls_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/Controls', 1227, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function GameDataBox$Controls$1(){
}

defineClass(1231, 1, $intern_17, GameDataBox$Controls$1);
_.onClick = function onClick_55(event_0){
  processInstructions_0('- EnterAns = reset \n - Message = testing reset', 'GameDebugBox', null);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$Controls$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/Controls/1', 1231, Ljava_lang_Object_2_classLit);
function GameDataBox$Controls$2(){
}

defineClass(1232, 1, $intern_17, GameDataBox$Controls$2);
_.onClick = function onClick_56(event_0){
  update_6();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$Controls$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/Controls/2', 1232, Ljava_lang_Object_2_classLit);
function GameDataBox$Controls$3(){
}

defineClass(1233, 1, $intern_17, GameDataBox$Controls$3);
_.onClick = function onClick_57(event_0){
  $reset_0(($clinit_GameStatistics() , lastCommandsStack_0));
  updateCommandList(($clinit_GameDataBox() , lastcommandstriggered), lastCommandsStack_0);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$Controls$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/Controls/3', 1233, Ljava_lang_Object_2_classLit);
function GameDataBox$Controls$4(){
}

defineClass(1234, 1, $intern_114, GameDataBox$Controls$4);
_.onValueChange = function onValueChange_5(event_0){
  var enableLogs, scene, scene$iterator;
  enableLogs = dynamicCast(event_0.value_0, 111).value_0;
  setLoggingEnable_0(enableLogs);
  if (!enableLogs) {
    for (scene$iterator = $iterator_5(new AbstractMap$2(($clinit_SceneWidget() , all_scenes))); scene$iterator.val$outerIter2.hasNext();) {
      scene = dynamicCast($next_8(scene$iterator), 239);
      clearScenesInspectors(scene);
    }
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$Controls$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/Controls/4', 1234, Ljava_lang_Object_2_classLit);
function GameDataBox$Controls$5(val$filterBox){
  this.val$filterBox2 = val$filterBox;
}

defineClass(1235, 1, $intern_116, GameDataBox$Controls$5);
_.onChange = function onChange_4(event_0){
  var logstring, selectedLogLevel;
  logstring = $getSelectedItemText(this.val$filterBox2);
  selectedLogLevel = ($clinit_Level() , $parse_2(logstring));
  $clinit_JAM();
  $setLevel_1(GwtLog, selectedLogLevel);
  $setLevel_1(($clinit_JAMcore() , Log_46), selectedLogLevel);
  $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyGWT')), selectedLogLevel);
  $setLevel_1((new LoggerImplRegular , $ensureLogger(getLogManager(), 'SpiffyCore')), selectedLogLevel);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$Controls$5_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/Controls/5', 1235, Ljava_lang_Object_2_classLit);
function GameDataBox$Controls$6(this$1, val$AutoUpdate){
  this.this$11 = this$1;
  this.val$AutoUpdate2 = val$AutoUpdate;
}

defineClass(1236, 1, $intern_17, GameDataBox$Controls$6);
_.onClick = function onClick_58(event_0){
  $getValue_0(this.val$AutoUpdate2).value_0?addObjectToUpdateOnTick(this.this$11.this$01):removeObjectToUpdateOnTick(this.this$11.this$01);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$Controls$6_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/Controls/6', 1236, Ljava_lang_Object_2_classLit);
function GameDataBox$ObjectBeingUpdatedBar(object){
  var playing, so;
  HorizontalPanel.call(this);
  if (object.___clazz$ == Lcom_lostagain_Jam_SceneObjects_SceneObject_2_classLit || object.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject_2_classLit) {
    so = dynamicCast(object, 24);
    $add_4(this, new Label_1(so.getObjectsCurrentState_1().ObjectsName));
  }
   else if (object.___clazz$ == Lcom_darkflame_client_SpiffyCore_DeltaTimerController$DeltaRunnable_2_classLit) {
    so = dynamicCast(object, 181);
    $add_4(this, new Label_1('-' + so.RunnablesName));
  }
   else if (object.___clazz$ == Lcom_lostagain_JamGwt_GwtJamImplementations_GWTAnimatedIcon_2_classLit) {
    throwClassCastExceptionUnlessNull(object);
    $add_4(this, new Label_1(null.nullField));
  }
   else {
    $add_4(this, new Label_1('unrecognised type:' + $getName(object.___clazz$)));
  }
  ($clinit_DOM() , this.element).style['backgroundColor'] = 'rgb(90, 173, 90)';
  playing = new CheckBox_1('Updating');
  $setValue_1(playing, ($clinit_Boolean() , $clinit_Boolean() , TRUE_3));
  $addDomHandler(playing, new GameDataBox$ObjectBeingUpdatedBar$1(this, playing, object), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $add_4(this, playing);
  $setCellHorizontalAlignment_0(this, playing, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));
  this.element.style['width'] = '100%';
}

defineClass(1225, 34, $intern_22, GameDataBox$ObjectBeingUpdatedBar);
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$ObjectBeingUpdatedBar_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/ObjectBeingUpdatedBar', 1225, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function GameDataBox$ObjectBeingUpdatedBar$1(this$1, val$playing, val$object){
  this.this$11 = this$1;
  this.val$playing2 = val$playing;
  this.val$object3 = val$object;
}

defineClass(1229, 1, $intern_17, GameDataBox$ObjectBeingUpdatedBar$1);
_.onClick = function onClick_59(event_0){
  if ($getValue_0(this.val$playing2).value_0) {
    addObjectToUpdateOnFrame(this.val$object3);
    $setPropertyImpl($getElement(this.this$11).style, 'backgroundColor', 'rgb(90, 173, 90)');
  }
   else {
    removeObjectToUpdateOnFrame(this.val$object3);
    $setPropertyImpl($getElement(this.this$11).style, 'backgroundColor', 'rgb(221, 88, 88)');
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$ObjectBeingUpdatedBar$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/ObjectBeingUpdatedBar/1', 1229, Ljava_lang_Object_2_classLit);
function GameDataBox$ObjectDataBar(so){
  var itemName, itemsScene, scene;
  HorizontalPanel.call(this);
  itemName = so.getObjectsCurrentState_1().ObjectsName;
  scene = so.objectScene_0;
  itemsScene = '(no scene specified)';
  !!scene && (itemsScene = scene.SceneFileName);
  this.itemNameLabel = new Label_1(itemName);
  $setTitle(this.itemNameLabel, $getCapabilitiesAsString(so.getObjectsCurrentState_1()));
  this.itemsScenelabel = new Label_1(itemsScene);
  $add_4(this, this.itemNameLabel);
  $setHorizontalAlignment(this, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));
  $add_4(this, this.itemsScenelabel);
  ($clinit_DOM() , this.element).style['width'] = '100%';
  $addDomHandler(this.itemNameLabel, new GameDataBox$ObjectDataBar$1(so), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $setPropertyImpl($getElement(this.itemsScenelabel).style, 'color', 'rgb(163, 216, 189)');
}

defineClass(1226, 34, $intern_22, GameDataBox$ObjectDataBar);
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$ObjectDataBar_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/ObjectDataBar', 1226, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function GameDataBox$ObjectDataBar$1(val$so){
  this.val$so2 = val$so;
}

defineClass(1230, 1, $intern_17, GameDataBox$ObjectDataBar$1);
_.onClick = function onClick_60(event_0){
  this.val$so2.openObjectsInspector();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$ObjectDataBar$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/ObjectDataBar/1', 1230, Ljava_lang_Object_2_classLit);
function $clinit_GameDataBox$variableListMode(){
  $clinit_GameDataBox$variableListMode = emptyMethod;
  Alphabetical = new GameDataBox$variableListMode('Alphabetical', 0);
  LastUpdated = new GameDataBox$variableListMode('LastUpdated', 1);
  Unordered = new GameDataBox$variableListMode('Unordered', 2);
}

function GameDataBox$variableListMode(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_42(name_0){
  $clinit_GameDataBox$variableListMode();
  return valueOf(($clinit_GameDataBox$variableListMode$Map() , $MAP_40), name_0);
}

function values_48(){
  $clinit_GameDataBox$variableListMode();
  return initValues(getClassLiteralForArray(Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$variableListMode_2_classLit, 1), $intern_1, 245, 0, [Alphabetical, LastUpdated, Unordered]);
}

defineClass(245, 9, {245:1, 3:1, 21:1, 9:1}, GameDataBox$variableListMode);
var Alphabetical, LastUpdated, Unordered;
var Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$variableListMode_2_classLit = createForEnum('com.lostagain.JamGwt.JargScene.debugtools', 'GameDataBox/variableListMode', 245, Ljava_lang_Enum_2_classLit, values_48, valueOf_42);
function $clinit_GameDataBox$variableListMode$Map(){
  $clinit_GameDataBox$variableListMode$Map = emptyMethod;
  $MAP_40 = createValueOfMap(($clinit_GameDataBox$variableListMode() , initValues(getClassLiteralForArray(Lcom_lostagain_JamGwt_JargScene_debugtools_GameDataBox$variableListMode_2_classLit, 1), $intern_1, 245, 0, [Alphabetical, LastUpdated, Unordered])));
}

var $MAP_40;
function JAMScriptHelperPopup(){
  $clinit_GenericScriptHelperPopup();
  GenericScriptHelperPopup.call(this, values_33());
  ($clinit_DOM() , this.element).style['zIndex'] = '9999999';
  this.element.style['backgroundColor'] = 'rgb(166, 139, 255)';
  this.optionalSpacesAfterStartMaker = true;
}

defineClass(1425, 1424, $intern_37, JAMScriptHelperPopup);
var Lcom_lostagain_JamGwt_JargScene_debugtools_JAMScriptHelperPopup_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'JAMScriptHelperPopup', 1425, Lcom_darkflame_client_SpiffyGWT_GenericScriptHelperPopup_2_classLit);
function NodeResultLabel(node){
  var childNodes, disclosurePanel, kdpc, kdpcit, nodeDetails, parentNodes, sssNode;
  disclosurePanel = new DisclosurePanel_1(node.PLabel);
  $setOpen(disclosurePanel, true);
  $initWidget(this, disclosurePanel);
  $setTitle(disclosurePanel, node.PURI + '  (' + $getAllPLabels(node) + ')  ');
  ($clinit_DOM() , disclosurePanel.element).style['width'] = '100%';
  nodeDetails = new VerticalPanel;
  $setContent(disclosurePanel, nodeDetails);
  nodeDetails.element.style['width'] = '100%';
  nodeDetails.element.style['height'] = '4cm';
  this.EquivilentURIs = new Label_1('Equivilent: ' + $getEquivilentsAsString(node));
  $add_5(nodeDetails, this.EquivilentURIs);
  this.ParentsURI = new Label_1('Parents: ');
  parentNodes = new HorizontalPanel;
  $add_4(parentNodes, this.ParentsURI);
  $add_5(nodeDetails, parentNodes);
  childNodes = new HorizontalPanel;
  this.DirectChildURI = new Label_1('Direct Children: ');
  $add_4(childNodes, this.DirectChildURI);
  $add_4(childNodes, new Label_1(node.knownSubclassesOfThis.toString$()));
  $add_5(nodeDetails, childNodes);
  kdpc = ($remove_0(node.knownParentClasses, node) , node.knownParentClasses);
  kdpcit = new AbstractList$IteratorImpl(kdpc);
  while (kdpcit.i < kdpcit.this$01_0.size_1()) {
    sssNode = (checkCriticalElement(kdpcit.i < kdpcit.this$01_0.size_1()) , dynamicCast(kdpcit.this$01_0.get_0(kdpcit.last = kdpcit.i++), 55));
    sssNode != node && $add_4(parentNodes, new NodeResultLabel(sssNode));
  }
  this.DeducedFrom = new Label_1('DeducedFrom');
  $add_5(nodeDetails, this.DeducedFrom);
  $setOpen(disclosurePanel, false);
}

defineClass(156, $intern_42, $intern_43, NodeResultLabel);
var Lcom_lostagain_JamGwt_JargScene_debugtools_NodeResultLabel_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'NodeResultLabel', 156, Lcom_google_gwt_user_client_ui_Composite_2_classLit);
function $clinit_ObjectInspector(){
  $clinit_ObjectInspector = emptyMethod;
  $clinit_TitledPopUpWithShadow();
  Log_98 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.ObjectInspector'));
  alphabeticalObjects = new ObjectInspector$1;
}

function $CloseDefault_3(this$static){
  $CloseDefault_0(this$static);
  $setEditModeOn(this$static.sourceobj, false);
  $setSelectedCSS(this$static.sourceobj, false);
  $setValue_3(this$static.EditModeToggle, ($clinit_Boolean() , $clinit_Boolean() , FALSE_2));
  numOfInspectorsOpen = numOfInspectorsOpen - 1;
  if (numOfInspectorsOpen <= 0) {
    numOfInspectorsOpen = 0;
    !!this$static.sourceobj.objectScene && $setDebugBoxVisible(this$static.sourceobj.objectScene, false);
    $enableScrolling($doc, false);
  }
}

function $OpenDefault_2(this$static){
  $OpenDefault_0(this$static);
  numOfInspectorsOpen = numOfInspectorsOpen + 1;
  $clear(this$static.ScenesGameBoxScroll);
  $add_2(this$static.ScenesGameBoxScroll, gameDataBox);
  update_6();
  $enableScrolling($doc, true);
}

function $populateAllSceneObjects(this$static){
  var itemName, objects, sceneObject, shortName, sit;
  $getSelectElement(this$static.allSceneObjects).options.length = 0;
  $insertItem(this$static.allSceneObjects, 'Object List');
  objects = new ArrayList;
  if (this$static.sourceobj.getObjectsCurrentState_1().objectsPrimaryType != ($clinit_SceneObjectType() , InventoryIcon)) {
    if (this$static.sourceobj.objectScene_0) {
      $info_1(Log_98, 'Getting scenes current objects');
      objects.addAll(this$static.sourceobj.objectScene_0.scenesData.scenesCurrentObjects);
    }
  }
  objects.addAll(getAllInventoryItems());
  sort_1(objects, alphabeticalObjects);
  $info_1(Log_98, 'adding to all sceneObject.objectsCurrentState');
  sit = new AbstractList$IteratorImpl(objects);
  while (sit.i < sit.this$01_0.size_1()) {
    sceneObject = (checkCriticalElement(sit.i < sit.this$01_0.size_1()) , dynamicCast(sit.this$01_0.get_0(sit.last = sit.i++), 24));
    itemName = sceneObject.getObjectsCurrentState_1().ObjectsName;
    shortName = itemName;
    itemName.length > 30 && (shortName = itemName.substr(0, 30));
    $insertItem_0(this$static.allSceneObjects, shortName, itemName, -1);
  }
  $info_1(Log_98, 'adding selection handlers');
  $addDomHandler(this$static.allSceneObjects, new ObjectInspector$8(this$static), ($clinit_ChangeEvent() , $clinit_ChangeEvent() , TYPE_0));
}

function $startCloneObjectDialogue(sourceObject){
  var askForName, askForNameContents, cancel, nameBox, thisName;
  thisName = sourceObject.getObjectsCurrentState_1().ObjectsName;
  askForName = new PopupPanel;
  askForNameContents = new VerticalPanel;
  nameBox = new TextBox;
  cancel = new Button('Cancel');
  $addDomHandler(nameBox, new ObjectInspector$9(nameBox, sourceObject, thisName, askForName), ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_6));
  $addDomHandler(cancel, new ObjectInspector$10(askForName), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $add_5(askForNameContents, new Label_1('Please enter name of new object;'));
  $add_5(askForNameContents, nameBox);
  $add_5(askForNameContents, cancel);
  $setPropertyInt(askForNameContents.table, 'cellSpacing', 6);
  $add_2(askForName, askForNameContents);
  $setGlassEnabled(askForName);
  askForName.modal = true;
  askForName.previewAllNativeEvents = true;
  ($clinit_DOM() , askForName.element).style['zIndex'] = '999999999';
  askForName.element.style['backgroundColor'] = 'white';
  $center(askForName);
  ($clinit_FocusWidget() , impl_2).focus_0(nameBox.element);
}

function $startEditingObjectsCmap(this$static){
  currentCmapBeingEdited = this$static;
  !!currentCmapHandler && $removeHandler(currentCmapHandler.real);
  this$static.currentPath = '';
  currentCmapHandler = $setCmapClickHandler(this$static.sourceobj.objectScene, new ObjectInspector$6(this$static));
}

function $stopEditingObjectsCmap(this$static){
  var data_0, filename;
  !!currentCmapHandler && $removeHandler(currentCmapHandler.real);
  $removeCmapClickHandler(this$static.sourceobj.objectScene);
  currentCmapBeingEdited = null;
  $clinit_SceneCollisionMap();
  CollisionLogger.isPresent() && $log_1((dynamicCast(CollisionLogger.get_1(), 87) , '-------|-------'));
  this$static.currentPath = this$static.currentPath + ' z';
  CollisionLogLog(this$static.currentPath);
  CollisionLogger.isPresent() && $log_1((dynamicCast(CollisionLogger.get_1(), 87) , '-----------|---'));
  this$static.sourceobj.objectScene.scenesCmap.isPresent()?$addToSketch(dynamicCast(this$static.sourceobj.objectScene.scenesCmap.get_1(), 73), this$static.currentPath, 'orange'):$severe_0(Log_98, '___Scene has no collision map set___');
  this$static.sourceobj.cmap = new Present(checkNotNull(new PolygonCollisionMap(this$static.currentPath, this$static.sourceobj)));
  sendFunctionToParent('debug', 'file update data incoming');
  filename = this$static.sourceobj.getObjectsCurrentState_1().ObjectsFileName;
  filename = $substring_0(filename, 0, filename.lastIndexOf('.')) + '.vmap';
  data_0 = this$static.currentPath;
  sendFunctionToParent('UpdateFile', 'FileName = ' + this$static.sourceobj.getObjectsCurrentState_1().ObjectsSceneName + '/' + filename + '\n' + data_0);
}

function $update_1(this$static){
  (this$static.sourceobj.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject_2_classLit || this$static.sourceobj.___clazz$ == Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryIcon_2_classLit) && $update_7(dynamicCast(this$static.currentataBox, 310));
  this$static.sourceobj.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneDialogObject_2_classLit && $update_3(dynamicCast(this$static.currentataBox, 272));
  this$static.sourceobj.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneTextObject_2_classLit && $update_3(dynamicCast(this$static.currentataBox, 272));
  this$static.sourceobj.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneDivObject_2_classLit && $update_4(dynamicCast(this$static.currentataBox, 312));
  this$static.sourceobj.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneVectorObject_2_classLit && $update_8(dynamicCast(this$static.currentataBox, 313));
  this$static.sourceobj.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneInputObject_2_classLit && $update_5(dynamicCast(this$static.currentataBox, 311));
  $update_2(this$static.ScenesDataBox, this$static.sourceobj, this$static.sourceobj.objectScene);
  $populateAllSceneObjects(this$static);
  $info_1(Log_98, 'finnished update');
}

function ObjectInspector(sourceObject){
  $clinit_ObjectInspector();
  var ObjectsLogBox, ScenesDataBoxScroll, blah, currentdata, intdata, saveddata, tabbypanel;
  TitledPopUpWithShadow_0.call(this, '500px', sourceObject.getObjectsCurrentState_1().ObjectsName + '(' + sourceObject.getObjectsCurrentState_1().ObjectsFileName + ')', new Label_1('loading...'), true);
  this.DisplayCodeBut = new Button('ShowCode');
  this.EditCmapButton = new Button('Edit CMap');
  this.Clone = new Button('Clone');
  this.allSceneObjects = new ListBox;
  this.ScenesGameBoxScroll = new ScrollPanel;
  this.EditModeToggle = new ToggleButton;
  this.controlbar = new HorizontalPanel;
  this.notSetupYet = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  this.currentPath = '';
  $info_1(Log_98, 'Creating Inspector Inspector');
  setStyleName($getParentElement(($clinit_DOM() , $getFirstChildElement(this.element))), 'unselectable', false);
  this.sourceobj = sourceObject;
  if (this.notSetupYet.value_0) {
    addMessageHandler(new ObjectInspector$7);
    sendFunctionToParent('debug', 'goto handler has been setup.');
    this.notSetupYet = (null , FALSE_2);
  }
  tabbypanel = new TabPanel;
  $setStylePrimaryName(tabbypanel.tabBar, 'Inspector-TabBar');
  tabbypanel.element.style['width'] = '100%';
  $info_1(Log_98, 'preparing databox:');
  if (sourceObject.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneSpriteObject_2_classLit || sourceObject.___clazz$ == Lcom_lostagain_JamGwt_InventoryObjectTypes_InventoryIcon_2_classLit) {
    currentdata = dynamicCast(sourceObject, 166).getObjectsCurrentState_2();
    intdata = dynamicCast(sourceObject, 166).getInitialState_1();
    saveddata = dynamicCast(sourceObject, 166).getTempState_1();
    this.currentSpriteDataBox = new SceneSpriteObjectDataBox(currentdata, dynamicCast(sourceObject, 138));
    $setEditMode(this.currentSpriteDataBox, false);
    $setResetEnable(this.currentSpriteDataBox, (null , FALSE_2));
    this.currentataBox = this.currentSpriteDataBox;
    this.initialSpriteDataBox = new SceneSpriteObjectDataBox(intdata, dynamicCast(sourceObject, 138));
    $setEditMode(this.initialSpriteDataBox, false);
    this.initialBox = this.initialSpriteDataBox;
    if (saveddata) {
      this.savedSpriteDataBox = new SceneSpriteObjectDataBox(saveddata, dynamicCast(sourceObject, 138));
      $setEditMode(this.savedSpriteDataBox, false);
      this.savedBox = this.savedSpriteDataBox;
    }
  }
  if (sourceObject.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneTextObject_2_classLit || sourceObject.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneDialogObject_2_classLit) {
    $info_1(Log_98, 'preparing text or dialogue data box:');
    currentdata = dynamicCast(dynamicCast(sourceObject, 124), 154).objectsCurrentState;
    intdata = dynamicCast(dynamicCast(dynamicCast(sourceObject, 124), 154).initialObjectState, 145);
    saveddata = dynamicCast(dynamicCast(dynamicCast(sourceObject, 124), 154).tempObjectState, 145);
    this.currentDiaDataBox = new SceneDialogObjectDataBox(currentdata, dynamicCast(sourceObject, 154));
    $setEditMode(this.currentDiaDataBox, false);
    $setResetEnable(this.currentDiaDataBox, (null , FALSE_2));
    this.currentataBox = this.currentDiaDataBox;
    $info_1(Log_98, 'preparing initual text or dialogue data box:');
    this.initialDiaDataBox = new SceneDialogObjectDataBox(intdata, dynamicCast(sourceObject, 154));
    $setEditMode(this.initialDiaDataBox, false);
    this.initialBox = this.initialDiaDataBox;
    $info_1(Log_98, 'preparing saved text or dialogue data box:');
    if (saveddata) {
      this.savedDiaDataBox = new SceneDialogObjectDataBox(saveddata, dynamicCast(sourceObject, 154));
      $setEditMode(this.savedDiaDataBox, false);
      this.savedBox = this.savedDiaDataBox;
    }
  }
  if (sourceObject.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneLabelObject_2_classLit) {
    $info_1(Log_98, 'preparing label data box:');
    currentdata = dynamicCast(sourceObject, 159).getObjectsCurrentState_0();
    intdata = dynamicCast(sourceObject, 159).getInitialState_0();
    saveddata = dynamicCast(sourceObject, 159).getTempState_0();
    this.currentLabelDataBox = new SceneLabelObjectDataBox(currentdata, dynamicCast(sourceObject, 174));
    $setEditMode(this.currentLabelDataBox, false);
    $setResetEnable(this.currentLabelDataBox, (null , FALSE_2));
    this.currentataBox = this.currentLabelDataBox;
    $info_1(Log_98, 'preparing initual text or dialogue data box:');
    this.initialLabelDataBox = new SceneLabelObjectDataBox(intdata, dynamicCast(sourceObject, 174));
    $setEditMode(this.initialLabelDataBox, false);
    this.initialBox = this.initialLabelDataBox;
    $info_1(Log_98, 'preparing saved text or dialogue data box:');
    if (saveddata) {
      this.saveLabelDataBox = new SceneLabelObjectDataBox(saveddata, dynamicCast(sourceObject, 174));
      $setEditMode(this.saveLabelDataBox, false);
      this.savedBox = this.saveLabelDataBox;
    }
  }
  if (sourceObject.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneDivObject_2_classLit) {
    currentdata = dynamicCast(sourceObject, 109).getObjectsCurrentState();
    intdata = dynamicCast(sourceObject, 109).getInitialState();
    saveddata = dynamicCast(sourceObject, 109).getTempState();
    this.currentDivDataBox = new SceneDivObjectDataBox(currentdata, dynamicCast(sourceObject, 120));
    $setEditMode(this.currentDivDataBox, false);
    $setResetEnable(this.currentDivDataBox, (null , FALSE_2));
    this.currentataBox = this.currentDivDataBox;
    this.initialDivDataBox = new SceneDivObjectDataBox(intdata, dynamicCast(sourceObject, 120));
    $setEditMode(this.initialDivDataBox, false);
    this.initialBox = this.initialDivDataBox;
    if (saveddata) {
      this.savedDivDataBox = new SceneDivObjectDataBox(saveddata, dynamicCast(sourceObject, 120));
      $setEditMode(this.savedDivDataBox, false);
      this.savedBox = this.savedDivDataBox;
    }
  }
  if (sourceObject.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneVectorObject_2_classLit) {
    $info_1(Log_98, 'Vector Inspector opening!!!');
    currentdata = dynamicCast(dynamicCast(sourceObject, 275), 188).objectsCurrentState;
    $info_1(Log_98, currentdata.objectsVectorString + ' is a very very very very explicit string!');
    intdata = dynamicCast(dynamicCast(dynamicCast(sourceObject, 275), 188).initialObjectState, 144);
    $info_1(Log_98, intdata.objectsVectorString + ' is a very very very very very explicit string!');
    saveddata = dynamicCast(dynamicCast(dynamicCast(sourceObject, 275), 188).tempObjectState, 144);
    this.currentVectorDataBox = new SceneVectorObjectDataBox(currentdata, dynamicCast(sourceObject, 188));
    $setEditMode(this.currentVectorDataBox, false);
    $setResetEnable(this.currentVectorDataBox, (null , FALSE_2));
    this.currentataBox = this.currentVectorDataBox;
    $info_1(Log_98, 'Creating initial box');
    this.initialVectorDataBox = new SceneVectorObjectDataBox(intdata, dynamicCast(sourceObject, 188));
    $setEditMode(this.initialVectorDataBox, false);
    this.initialBox = this.initialVectorDataBox;
    if (saveddata) {
      this.savedVectorDataBox = new SceneVectorObjectDataBox(saveddata, dynamicCast(sourceObject, 188));
      $setEditMode(this.savedVectorDataBox, false);
      this.savedBox = this.savedVectorDataBox;
    }
  }
  if (sourceObject.___clazz$ == Lcom_lostagain_JamGwt_JargScene_SceneInputObject_2_classLit) {
    currentdata = dynamicCast(dynamicCast(sourceObject, 364), 189).objectsCurrentState;
    intdata = dynamicCast(dynamicCast(dynamicCast(sourceObject, 364), 189).initialObjectState, 146);
    saveddata = dynamicCast(dynamicCast(dynamicCast(sourceObject, 364), 189).tempObjectState, 146);
    this.currentInputDataBox = new SceneInputObjectDataBox(currentdata, dynamicCast(sourceObject, 189));
    $setEditMode(this.currentInputDataBox, false);
    $setResetEnable(this.currentInputDataBox, (null , FALSE_2));
    this.currentataBox = this.currentInputDataBox;
    this.initialInputDataBox = new SceneInputObjectDataBox(intdata, dynamicCast(sourceObject, 189));
    $setEditMode(this.initialInputDataBox, false);
    this.initialBox = this.initialInputDataBox;
    if (saveddata) {
      this.savedInputDataBox = new SceneInputObjectDataBox(saveddata, dynamicCast(sourceObject, 189));
      $setEditMode(this.savedInputDataBox, false);
      this.savedBox = this.savedInputDataBox;
    }
  }
  $setPropertyImpl($getElement(this.controlbar).style, 'backgroundColor', '#a68bff');
  $cssSetOpacity($getElement(this.controlbar).style, 1);
  this.element.style['zIndex'] = '9999';
  tabbypanel.element.style['padding'] = ($clinit_Style$Unit() , '2.0px');
  $setWidth(this.currentataBox, '460px');
  $setWidth(this.initialBox, '460px');
  $setHeight(this.initialBox, '600px');
  $setHeight(this.currentataBox, '600px');
  $add_10(tabbypanel, this.currentataBox, ' Current Data ');
  $add_10(tabbypanel, this.initialBox, ' Initial Data ');
  !!this.savedBox && $add_10(tabbypanel, this.savedBox, ' Save Data ');
  ObjectsLogBox = new ScrollPanel;
  $add_1(ObjectsLogBox, sourceObject.ObjectsLog);
  ObjectsLogBox.element.style['height'] = '700px';
  ObjectsLogBox.element.style['width'] = '460px';
  ObjectsLogBox.element.style['wordBreak'] = 'break-all';
  $insert_3(tabbypanel, ObjectsLogBox, ' Log ', tabbypanel.deck.children.size_0);
  ScenesDataBoxScroll = new ScrollPanel;
  this.ScenesDataBox = new SceneDataBox(sourceObject.objectScene, sourceObject);
  $add_2(ScenesDataBoxScroll, this.ScenesDataBox);
  ScenesDataBoxScroll.element.style['height'] = '700px';
  $insert_3(tabbypanel, ScenesDataBoxScroll, ' SceneData ', tabbypanel.deck.children.size_0);
  !gameDataBox && (gameDataBox = new GameDataBox);
  $add_2(this.ScenesGameBoxScroll, gameDataBox);
  $setHeight_4(this.ScenesGameBoxScroll, '700px');
  $add_10(tabbypanel, this.ScenesGameBoxScroll, ' GameData ');
  $setWidth(this.controlbar, '100%');
  $setHorizontalAlignment(this.controlbar, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_4(this.controlbar, this.DisplayCodeBut);
  $add_4(this.controlbar, this.allSceneObjects);
  $add_4(this.controlbar, this.EditCmapButton);
  $add_4(this.controlbar, this.Clone);
  $add_4(this.controlbar, this.EditModeToggle);
  $addDomHandler(this.Clone, new ObjectInspector$2(sourceObject), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addHandler(this.EditModeToggle, new ObjectInspector$3(this), (!TYPE_26 && (TYPE_26 = new GwtEvent$Type) , TYPE_26));
  $addDomHandler(this.DisplayCodeBut, new ObjectInspector$4(this), (null , TYPE_1));
  $addDomHandler(this.EditCmapButton, new ObjectInspector$5(this), (null , TYPE_1));
  $populateAllSceneObjects(this);
  $selectTab(tabbypanel.tabBar, 0);
  blah = new VerticalPanel;
  $add_5(blah, this.controlbar);
  $add_5(blah, tabbypanel);
  this.element.style['backgroundColor'] = '#a68bff';
  $cssSetOpacity(this.element.style, 0.85);
  $setWidget_0(this.Container, 1, 1, blah);
  $setSize(this, $getOffsetWidth(this.Container) + 16 + 'px', this.sizeY);
}

function debugIsOpen(){
  $clinit_ObjectInspector();
  if (numOfInspectorsOpen > 0) {
    return true;
  }
  return false;
}

defineClass(500, 65, $intern_123, ObjectInspector);
_.CloseDefault = function CloseDefault_21(){
  $CloseDefault_3(this);
}
;
_.OpenDefault = function OpenDefault_18(){
  $OpenDefault_2(this);
}
;
var Log_98, alphabeticalObjects, currentCmapBeingEdited = null, currentCmapHandler, gameDataBox = null, numOfInspectorsOpen = 0;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector', 500, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function $compare(so1, so2){
  var name1, name2;
  name1 = so1.getObjectsCurrentState_1().ObjectsName;
  name2 = so2.getObjectsCurrentState_1().ObjectsName;
  return compareTo_5(name1.toLowerCase(), name2.toLowerCase());
}

function ObjectInspector$1(){
}

defineClass(1316, 1, {}, ObjectInspector$1);
_.compare = function compare(so1, so2){
  return $compare(dynamicCast(so1, 24), dynamicCast(so2, 24));
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/1', 1316, Ljava_lang_Object_2_classLit);
function ObjectInspector$10(val$askForName){
  this.val$askForName2 = val$askForName;
}

defineClass(1325, 1, $intern_17, ObjectInspector$10);
_.onClick = function onClick_61(event_0){
  this.val$askForName2.hide();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$10_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/10', 1325, Ljava_lang_Object_2_classLit);
function ObjectInspector$2(val$sourceObject){
  this.val$sourceObject2 = val$sourceObject;
}

defineClass(1317, 1, $intern_17, ObjectInspector$2);
_.onClick = function onClick_62(event_0){
  $info_1(($clinit_ObjectInspector() , Log_98), 'cloning object:');
  $startCloneObjectDialogue(this.val$sourceObject2);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/2', 1317, Ljava_lang_Object_2_classLit);
function ObjectInspector$3(this$0){
  this.this$01 = this$0;
}

defineClass(1318, 1, $intern_114, ObjectInspector$3);
_.onValueChange = function onValueChange_6(event_0){
  $info_1(($clinit_ObjectInspector() , Log_98), ($clinit_Boolean() , 'setting edit mode:' + ('' + dynamicCast(event_0.value_0, 111).value_0)));
  $setEditModeOn(this.this$01.sourceobj, dynamicCast(event_0.value_0, 111).value_0);
  $setEditMode(this.this$01.currentataBox, dynamicCast(event_0.value_0, 111).value_0);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/3', 1318, Ljava_lang_Object_2_classLit);
function ObjectInspector$4(this$0){
  this.this$01 = this$0;
}

defineClass(1319, 1, $intern_17, ObjectInspector$4);
_.onClick = function onClick_63(event_0){
  var newdata;
  newdata = new ObjectSourceCode(this.this$01.sourceobj);
  $center(newdata);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/4', 1319, Ljava_lang_Object_2_classLit);
function ObjectInspector$5(this$0){
  this.this$01 = this$0;
}

defineClass(1320, 1, $intern_17, ObjectInspector$5);
_.onClick = function onClick_64(event_0){
  openLog();
  $startEditingObjectsCmap(this.this$01);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$5_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/5', 1320, Ljava_lang_Object_2_classLit);
function ObjectInspector$6(this$0){
  this.this$01 = this$0;
}

defineClass(1321, 1, $intern_17, ObjectInspector$6);
_.onClick = function onClick_65(event_0){
  var x_0, y_0;
  x_0 = $getRelativeX_0(event_0, $getElement(this.this$01.sourceobj.internalFocusPanel));
  y_0 = $getRelativeY_0(event_0, $getElement(this.this$01.sourceobj.internalFocusPanel));
  if (x_0 == this.lastx && y_0 == this.lasty) {
    return;
  }
  this.lastx = x_0;
  this.lasty = y_0;
  this.this$01.currentPath == ''?(this.this$01.currentPath = this.this$01.currentPath + ' M ' + x_0 + ',' + y_0):(this.this$01.currentPath = this.this$01.currentPath + ' L ' + x_0 + ',' + y_0);
  CollisionLogLog('path= ' + this.this$01.currentPath);
}
;
_.lastx = -1;
_.lasty = -1;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$6_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/6', 1321, Ljava_lang_Object_2_classLit);
function $run_21(mode, data_0){
  var objectName, objectToJumpTo, objectToJumpTo0, scenename;
  if ($equalsIgnoreCase(mode, 'goto')) {
    if (data_0.indexOf(',') != -1) {
      scenename = $split_0(data_0, ',', 2)[0];
      objectName = $split_0(data_0, ',', 2)[1];
      sendFunctionToParent('debug', "told to goto object named '" + objectName + "' in scene " + scenename);
      loadSceneIntoNewTab(scenename, scenename, true, true);
      objectToJumpTo0 = getSingleSceneObjectNEW(objectName, null, true);
      objectToJumpTo0.openObjectsInspector();
      return;
    }
    sendFunctionToParent('debug', "told to goto object named '" + data_0 + "'");
    objectToJumpTo = getSingleSceneObjectNEW(data_0, null, true);
    if (objectToJumpTo) {
      sendFunctionToParent('debug', "found object '" + objectToJumpTo.getObjectsCurrentState_1().ObjectsName + "'");
      objectToJumpTo.openObjectsInspector();
      sendFunctionToParent('debug', "switching to scene '" + objectToJumpTo.objectScene_0.SceneFileName + "' silently");
      bringSceneToFront(objectToJumpTo.objectScene_0, true);
    }
     else {
      sendFunctionToParent('debug', 'failed to get object');
    }
  }
}

function ObjectInspector$7(){
}

defineClass(1322, 1, {}, ObjectInspector$7);
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$7_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/7', 1322, Ljava_lang_Object_2_classLit);
function ObjectInspector$8(this$0){
  this.this$01 = this$0;
}

defineClass(1323, 1, $intern_116, ObjectInspector$8);
_.onChange = function onChange_5(event_0){
  var itemNum, objectName, objectstoopen, sceneObject, sceneObject$iterator;
  itemNum = $getSelectElement(this.this$01.allSceneObjects).selectedIndex;
  objectName = $getValue_2(this.this$01.allSceneObjects, itemNum);
  objectstoopen = getSceneObjectNEW(objectName, null, true);
  objectstoopen.size_1() == 0 && $info_1(($clinit_ObjectInspector() , Log_98), 'no objects found called:' + objectName);
  for (sceneObject$iterator = objectstoopen.iterator(); sceneObject$iterator.hasNext();) {
    sceneObject = dynamicCast(sceneObject$iterator.next_0(), 24);
    sceneObject.openObjectsInspector();
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$8_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/8', 1323, Ljava_lang_Object_2_classLit);
function ObjectInspector$9(val$nameBox, val$sourceObject, val$thisName, val$askForName){
  this.val$nameBox2 = val$nameBox;
  this.val$sourceObject3 = val$sourceObject;
  this.val$thisName4 = val$thisName;
  this.val$askForName5 = val$askForName;
}

defineClass(1324, 1, $intern_40, ObjectInspector$9);
_.onKeyDown = function onKeyDown_1(event_0){
  var newObject, newname;
  if ($eventGetKeyCode(event_0.nativeEvent) == 13) {
    newname = $getText(this.val$nameBox2);
    if (this.val$sourceObject3.getObjectsCurrentState_1().positionedRelativeToo) {
      newObject = triggerCloneObject(this.val$sourceObject3, this.val$thisName4, newname, this.val$sourceObject3.getObjectsCurrentState_1().relX + 50, this.val$sourceObject3.getObjectsCurrentState_1().relY + 50, this.val$sourceObject3.getObjectsCurrentState_1().relZ + 50);
      $openObjectsInspector(newObject);
    }
     else {
      newObject = triggerCloneObject(this.val$sourceObject3, this.val$thisName4, newname, $getX_0(this.val$sourceObject3.getObjectsCurrentState_1()) + 50, $getY_0(this.val$sourceObject3.getObjectsCurrentState_1()) + 50, $getZ(this.val$sourceObject3.getObjectsCurrentState_1()) + 50);
      $openObjectsInspector(newObject);
    }
    this.val$askForName5.hide();
  }
  $eventGetKeyCode(event_0.nativeEvent) == 27 && this.val$askForName5.hide();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectInspector$9_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectInspector/9', 1324, Ljava_lang_Object_2_classLit);
function ObjectSourceCode(sourceObject){
  var source;
  PopupPanel.call(this);
  this.sourceBox = new TextArea_0;
  this.container = new VerticalPanel;
  $setWidth_0(this, '400px');
  $setHeight_0(this, '300px');
  $setSize(this.sourceBox, '400px', '300px');
  $setSpacing(this.container, 2);
  $getElement(this.container).style['borderWidth'] = ($clinit_Style$Unit() , '2.0px');
  $add_5(this.container, new Label_1('Objects Script Code:'));
  $add_5(this.container, this.sourceBox);
  $add_5(this.container, new Label_1('NOTE: Actions and Parameters dont yet fully match what should be in the JAM file'));
  $setPropertyImpl($getElement(this.container).style, 'backgroundColor', '#FFF');
  $add_2(this, this.container);
  this.modal = true;
  $setGlassEnabled(this);
  this.autoHide = true;
  ($clinit_DOM() , this.element).style['zIndex'] = '99999';
  source = getSourceFromSceneObject(sourceObject);
  $setText_4(this.sourceBox, source);
}

function getSourceFromSceneObject(sourceObject){
  var actions, actions$iterator, source;
  source = '';
  source = source + '-Item: \n';
  source = source + $getParametersAsCode(sourceObject.getObjectsCurrentState_1());
  if (sourceObject.objectsActions.array.length > 0) {
    source = source + ' (actions not fully implemented) \n';
    for (actions$iterator = new AbstractList$IteratorImpl(sourceObject.objectsActions); actions$iterator.i < actions$iterator.this$01_0.size_1();) {
      actions = (checkCriticalElement(actions$iterator.i < actions$iterator.this$01_0.size_1()) , dynamicCast(actions$iterator.this$01_0.get_0(actions$iterator.last = actions$iterator.i++), 234));
      source = source + '\n' + $getCode_0(actions) + '\n';
    }
  }
  return source;
}

defineClass(1422, 53, $intern_35, ObjectSourceCode);
var Lcom_lostagain_JamGwt_JargScene_debugtools_ObjectSourceCode_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'ObjectSourceCode', 1422, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function $clinit_SceneDataBox(){
  $clinit_SceneDataBox = emptyMethod;
  Log_99 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SceneDataBox'));
  aStateHasBeenSaved = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
}

function $generateCodeForAllSceneObjects(this$static){
  var newdata;
  newdata = new SceneSourceCode(this$static.sourceScene);
  $center(newdata);
}

function $update_2(this$static, sourceObject, newSceneIfChanged){
  var NumOfDialogue, NumOfDivs, NumOfInputs, NumOfLabels, NumOfSprites, newlabel, newpanel, objectPanels, objects, panel, panelsIndex, so, so$iterator, sotype, total, totalTabsInStackSoFar;
  this$static.sourceObject = sourceObject;
  $info_1(Log_99, 'updating scene data in inspector');
  if (!this$static.sourceScene) {
    $info_1(Log_99, 'no source scene, probably is inventory item');
    return;
  }
  if (!!newSceneIfChanged && newSceneIfChanged != this$static.sourceScene) {
    this$static.sourceScene = newSceneIfChanged;
    $clear(this$static.scenesLogBox);
    $add_1(this$static.scenesLogBox, this$static.sourceScene.ScenesLog);
    this$static.sourceScene.ScenesLog.log_0('log for ' + this$static.sourceScene.SceneFileName + ' added to inspector');
  }
  $setStackText(this$static.dataContainer, 0, 'Controls ');
  $clear(this$static.scenestate);
  $add_5(this$static.scenestate, new Label_1('Object belongs to Scene Name:' + this$static.sourceScene.SceneFileName));
  $add_5(this$static.scenestate, new Label_1('Current Scene Name:' + ($clinit_SceneObjectDatabase() , currentScene_0).scenesData.SceneFolderName));
  $add_5(this$static.scenestate, new Label_1('Source Location:' + this$static.sourceScene.currentState.PosX + ',' + this$static.sourceScene.currentState.PosY));
  $add_5(this$static.scenestate, new Label_1('Source Serialised State:' + $seralise(this$static.sourceScene.currentState)));
  NumOfSprites = $getScenesCurrentObjectsOfType(this$static.sourceScene.scenesData, ($clinit_SceneObjectType() , Sprite)).map_0.size_1();
  NumOfLabels = $getScenesCurrentObjectsOfType(this$static.sourceScene.scenesData, Label_4).map_0.size_1();
  NumOfDialogue = $getScenesCurrentObjectsOfType(this$static.sourceScene.scenesData, DialogBox).map_0.size_1();
  NumOfInputs = $getScenesCurrentObjectsOfType(this$static.sourceScene.scenesData, Input_0).map_0.size_1();
  NumOfDivs = $getScenesCurrentObjectsOfType(this$static.sourceScene.scenesData, Div).map_0.size_1();
  $add_5(this$static.scenestate, new Label_1('Test of SceneObject Quanitys: sprites:' + NumOfSprites + ' labels:' + NumOfLabels + ' Dia:' + NumOfDialogue + ' Input:' + NumOfInputs + ' Div:' + NumOfDivs));
  while (this$static.dataContainer.children.size_0 > 3) {
    $remove_16(this$static.dataContainer);
  }
  $add_15(this$static.dataContainer, this$static.allSceneObjects, 'all objects');
  $updateObjectList(this$static.allSceneObjects, this$static.sourceScene.scenesData.scenesOriginalObjects);
  $setStackText(this$static.dataContainer, this$static.dataContainer.children.size_0 - 1, 'All ' + this$static.sourceScene.scenesData.scenesOriginalObjects.array.length + ' original scene objects');
  objects = $allScenesCurrentObjects(this$static.sourceScene.scenesData);
  objectPanels = new HashMap;
  for (so$iterator = new Collections$UnmodifiableCollectionIterator(objects.coll.iterator()); so$iterator.it.hasNext();) {
    so = dynamicCast(so$iterator.it.next_0(), 24);
    newlabel = new Label_1(so.getObjectsCurrentState_1().ObjectsName);
    sotype = so.getObjectsCurrentState_1().objectsPrimaryType;
    if (objectPanels.containsKey(sotype)) {
      panel = dynamicCast(objectPanels.get_2(sotype), 28);
      $add_5(panel, newlabel);
      panelsIndex = $getWidgetIndex(this$static.dataContainer, panel);
      total = panel.children.size_0;
      $setStackText(this$static.dataContainer, panelsIndex, (sotype.name_0 != null?sotype.name_0:'' + sotype.ordinal) + ' objects (' + total + ')');
    }
     else {
      newpanel = new VerticalPanel;
      $add_5(newpanel, newlabel);
      objectPanels.put(sotype, newpanel);
      $add_15(this$static.dataContainer, newpanel, (sotype.name_0 != null?sotype.name_0:'' + sotype.ordinal) + ' object');
    }
  }
  $add_15(this$static.dataContainer, this$static.allDynamiclyCreatedObjects, 'all dynamicly created stuff');
  $updateObjectList(this$static.allDynamiclyCreatedObjects, this$static.sourceScene.AllDynamicObjects);
  totalTabsInStackSoFar = this$static.dataContainer.children.size_0;
  $setStackText(this$static.dataContainer, totalTabsInStackSoFar - 1, 'All ' + this$static.sourceScene.AllDynamicObjects.map_0.size_1() + ' scenes dynamic objects');
}

function $updateObjectList(updateThis, scenesOriginalObjects){
  var itemName, sceneObject, sit;
  $clear(updateThis);
  sit = scenesOriginalObjects.iterator();
  while (sit.hasNext()) {
    sceneObject = dynamicCast(sit.next_0(), 24);
    if (!sceneObject) {
      $severe_0(Log_99, 'ERROR:SCENE OBJECT IN LIST IS NULL');
      throw new NullPointerException;
    }
    itemName = sceneObject.getObjectsCurrentState_1().ObjectsName;
    $add_5(updateThis, new Label_1(itemName));
  }
}

function SceneDataBox(objectsSourceScene, sourceobject){
  $clinit_SceneDataBox();
  var loadAndSaveState, refreshLists;
  VerticalPanel.call(this);
  this.dataContainer = new StackPanel;
  this.scenecontrols = new VerticalPanel;
  this.scenestate = new VerticalPanel;
  this.allSceneObjects = new VerticalPanel;
  this.allSpriteObjects = new VerticalPanel;
  this.allTextObjects = new VerticalPanel;
  this.allDialogueObjects = new VerticalPanel;
  this.allDivObjects = new VerticalPanel;
  this.allDynamiclyCreatedObjects = new VerticalPanel;
  this.generatedCode = new Button('Generate Scenes Jam Code (incomplete)');
  this.clearInventory = new Button('Clear Inventorys');
  this.resetScene = new Button('Reset Scene (does not reset inventorys)');
  this.saveStateTemp = new Button('Save State Snapeshot');
  this.loadStateTemp = new Button('Load State Snapeshot');
  this.commandLineBox = new TextArea_0;
  this.commandLineBoxRun = new Button('(run above commands)');
  this.scenesLogBox = new ScrollPanel;
  $clear(this);
  this.sourceScene = objectsSourceScene;
  this.sourceObject = sourceobject;
  $add_5(this, this.dataContainer);
  $clear(this.dataContainer);
  $add_15(this.dataContainer, this.scenecontrols, 'scenecontrols');
  $add_15(this.dataContainer, this.scenestate, 'scene state');
  refreshLists = new Button('Refresh inpector data');
  ($clinit_DOM() , refreshLists.element).style['fontSize'] = ($clinit_Style$Unit() , '115.0%');
  refreshLists.element.style['marginBottom'] = '5.0px';
  $addDomHandler(refreshLists, new SceneDataBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $add_5(this.scenecontrols, refreshLists);
  $setCellHorizontalAlignment_0(this.scenecontrols, refreshLists, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  if (this.sourceScene) {
    $add_1(this.scenesLogBox, this.sourceScene.ScenesLog);
    this.sourceScene.ScenesLog.log_0('log for ' + this.sourceScene.SceneFileName + ' added to inspector');
    $setHeight_4(this.scenesLogBox, '700px');
    $setWidth_6(this.scenesLogBox, '460px');
    $setPropertyImpl($getElement(this.scenesLogBox).style, 'wordBreak', 'break-all');
    $add_15(this.dataContainer, this.scenesLogBox, '(scenes log)');
  }
  this.element.style['width'] = '100%';
  this.element.style['height'] = '100%';
  $setSize(this.dataContainer, '100%', '100%');
  $setStyleName(this.dataContainer, 'debugStackPanel');
  $getElement(this.dataContainer).style['overflow'] = ($clinit_Style$Overflow() , 'hidden');
  $getElement(this.allSceneObjects).style['overflow'] = 'hidden';
  $getElement(this.allSpriteObjects).style['overflow'] = 'hidden';
  $getElement(this.allTextObjects).style['overflow'] = 'hidden';
  $getElement(this.allDialogueObjects).style['overflow'] = 'hidden';
  $getElement(this.allDivObjects).style['overflow'] = 'hidden';
  $getElement(this.allDynamiclyCreatedObjects).style['overflow'] = 'hidden';
  $add_5(this.scenecontrols, this.generatedCode);
  $add_5(this.scenecontrols, this.clearInventory);
  $add_5(this.scenecontrols, this.resetScene);
  loadAndSaveState = new HorizontalPanel;
  loadAndSaveState.element.style['width'] = '100%';
  $add_4(loadAndSaveState, this.saveStateTemp);
  $add_4(loadAndSaveState, this.loadStateTemp);
  $add_5(this.scenecontrols, loadAndSaveState);
  $setEnabled(this.loadStateTemp, false);
  $addDomHandler(this.clearInventory, new SceneDataBox$2, (null , TYPE_1));
  $addDomHandler(this.resetScene, new SceneDataBox$3(this), (null , TYPE_1));
  $addDomHandler(this.loadStateTemp, new SceneDataBox$4(this), (null , TYPE_1));
  $addDomHandler(this.saveStateTemp, new SceneDataBox$5(this), (null , TYPE_1));
  $setText_4(this.commandLineBox, '(run game commands here)');
  $addDomHandler(this.commandLineBox, new SceneDataBox$6(this), (null , TYPE_1));
  $addDomHandler(this.commandLineBox, new SceneDataBox$7(this), ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_5));
  $addDomHandler(this.commandLineBox, new SceneDataBox$8, ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));
  $addDomHandler(this.commandLineBox, new SceneDataBox$9(this), ($clinit_KeyPressEvent() , $clinit_KeyPressEvent() , TYPE_7));
  $getElement(this.commandLineBox).style['marginTop'] = '5.0px';
  $setWidth(this.commandLineBox, '100%');
  $setHeight(this.commandLineBox, '35px');
  $add_5(this.scenecontrols, this.commandLineBox);
  $addDomHandler(this.commandLineBoxRun, new SceneDataBox$10(this), (null , TYPE_1));
  $add_5(this.scenecontrols, this.commandLineBoxRun);
  $setWidth(this.scenecontrols, '100%');
  $getElement(this.scenecontrols).style['padding'] = '10.0px';
  $addDomHandler(this.generatedCode, new SceneDataBox$11(this), (null , TYPE_1));
  aStateHasBeenSaved.value_0 && $setEnabled(this.loadStateTemp, true);
  $update_2(this, null, null);
}

function clearScenesInspectors(sw){
  $clinit_SceneDataBox();
  var so, so$iterator;
  for (so$iterator = new AbstractList$IteratorImpl(sw.scenesData.scenesOriginalObjects); so$iterator.i < so$iterator.this$01_0.size_1();) {
    so = (checkCriticalElement(so$iterator.i < so$iterator.this$01_0.size_1()) , dynamicCast(so$iterator.this$01_0.get_0(so$iterator.last = so$iterator.i++), 24));
    so.clearObjectsInspector();
  }
}

defineClass(1369, 28, $intern_48, SceneDataBox);
var Log_99, aStateHasBeenSaved;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox', 1369, Lcom_google_gwt_user_client_ui_VerticalPanel_2_classLit);
function SceneDataBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(1370, 1, $intern_17, SceneDataBox$1);
_.onClick = function onClick_66(event_0){
  $update_2(this.this$01, null, null);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/1', 1370, Ljava_lang_Object_2_classLit);
function SceneDataBox$10(this$0){
  this.this$01 = this$0;
}

defineClass(1379, 1, $intern_17, SceneDataBox$10);
_.onClick = function onClick_67(event_0){
  var instructions;
  instructions = $getText(this.this$01.commandLineBox);
  processInstructions_0(instructions, 'FromEditorsBox', this.this$01.sourceObject);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$10_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/10', 1379, Ljava_lang_Object_2_classLit);
function SceneDataBox$11(this$0){
  this.this$01 = this$0;
}

defineClass(1380, 1, $intern_17, SceneDataBox$11);
_.onClick = function onClick_68(event_0){
  $generateCodeForAllSceneObjects(this.this$01);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$11_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/11', 1380, Ljava_lang_Object_2_classLit);
function SceneDataBox$2(){
}

defineClass(1371, 1, $intern_17, SceneDataBox$2);
_.onClick = function onClick_69(event_0){
  var inventory, inventory$iterator;
  for (inventory$iterator = $iterator_5(new AbstractMap$2(($clinit_JAMcore() , allInventorys))); inventory$iterator.val$outerIter2.hasNext();) {
    inventory = dynamicCast($next_8(inventory$iterator), 136);
    $ClearInventory(inventory);
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/2', 1371, Ljava_lang_Object_2_classLit);
function SceneDataBox$3(this$0){
  this.this$01 = this$0;
}

defineClass(1372, 1, $intern_17, SceneDataBox$3);
_.onClick = function onClick_70(event_0){
  $resetScene(this.this$01.sourceScene);
  $update_2(this.this$01, null, null);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/3', 1372, Ljava_lang_Object_2_classLit);
function SceneDataBox$4(this$0){
  this.this$01 = this$0;
}

defineClass(1373, 1, $intern_17, SceneDataBox$4);
_.onClick = function onClick_71(event_0){
  $loadSceneTempState(this.this$01.sourceScene);
  $update_2(this.this$01, null, null);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/4', 1373, Ljava_lang_Object_2_classLit);
function SceneDataBox$5(this$0){
  this.this$01 = this$0;
}

defineClass(1374, 1, $intern_17, SceneDataBox$5);
_.onClick = function onClick_72(event_0){
  $display(dynamicCast(($clinit_RequiredImplementations() , saveManager).get_1(), 180));
  $clinit_SceneDataBox();
  aStateHasBeenSaved = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
  $setEnabled(this.this$01.loadStateTemp, true);
  clearScenesInspectors(this.this$01.sourceScene);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$5_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/5', 1374, Ljava_lang_Object_2_classLit);
function SceneDataBox$6(this$0){
  this.this$01 = this$0;
}

defineClass(1375, 1, $intern_17, SceneDataBox$6);
_.onClick = function onClick_73(event_0){
  $equalsIgnoreCase($getText(this.this$01.commandLineBox), '(run game commands here)') && $setText_4(this.this$01.commandLineBox, '');
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$6_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/6', 1375, Ljava_lang_Object_2_classLit);
function SceneDataBox$7(this$0){
  this.this$01 = this$0;
}

defineClass(1376, 1, $intern_29, SceneDataBox$7);
_.onFocus = function onFocus_3(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
  !!this.this$01.newHelperPop && $setCurrentEditBox(this.this$01.newHelperPop, this.this$01.commandLineBox);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$7_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/7', 1376, Ljava_lang_Object_2_classLit);
function SceneDataBox$8(){
}

defineClass(1377, 1, $intern_30, SceneDataBox$8);
_.onBlur = function onBlur_3(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$8_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/8', 1377, Ljava_lang_Object_2_classLit);
function SceneDataBox$9(this$0){
  this.this$01 = this$0;
}

defineClass(1378, 1, $intern_39, SceneDataBox$9);
_.onKeyPress = function onKeyPress_0(event_0){
  if (!this.this$01.newHelperPop) {
    $info_1(($clinit_SceneDataBox() , Log_99), 'newHelperPop is null,creating');
    this.this$01.newHelperPop = new JAMScriptHelperPopup;
    $setCurrentEditBox(this.this$01.newHelperPop, this.this$01.commandLineBox);
    $manuallySendKeyPress(this.this$01.newHelperPop, event_0);
    $showRelativeTo(this.this$01.newHelperPop, this.this$01.commandLineBox);
  }
   else if (!this.this$01.newHelperPop.showing) {
    $info_1(($clinit_SceneDataBox() , Log_99), 'newHelperPop is showing');
    $showRelativeTo(this.this$01.newHelperPop, this.this$01.commandLineBoxRun);
  }
  $eventGetShiftKey(event_0.nativeEvent) && $eventGetKeyCode(event_0.nativeEvent) == 13 && ($getElement(this.this$01.commandLineBoxRun).click() , undefined);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDataBox$9_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDataBox/9', 1378, Ljava_lang_Object_2_classLit);
function $clinit_SpiffyObjectDataBox(){
  $clinit_SpiffyObjectDataBox = emptyMethod;
  Log_100 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SpiffyObjectDataBox'));
}

function $$init_29(this$static){
  this$static.Xlab = new Label;
  this$static.Ylab = new Label;
  this$static.Zlab = new Label;
  this$static.zlab = new SpiffyEditRangeBox(new SpiffyObjectDataBox$1(this$static));
  this$static.BoxCSSEditer = new TextBox;
  this$static.zRangeStuff = new HorizontalPanel;
  this$static.zRangeLower = new Label;
  this$static.zRangeUpper = new Label;
  this$static.zRangeStep = new Label;
  this$static.zLinked = new Label;
  this$static.zLinkedStep = new Label;
  this$static.RestrictToScreenLab = new Label;
  this$static.PinLabX = new Label;
  this$static.PinLabY = new Label;
  this$static.PinLabZ = new Label;
  this$static.RelativeX = new Label;
  this$static.RelativeY = new Label;
  this$static.RelativeZ = new Label;
  new Label;
  this$static.RelativeObject = new Label;
  this$static.collisionModeLabel = new Label;
  this$static.collisionCmapLabel = new Label;
  new Button('reset c_cache');
  this$static.collisionDetails = new HorizontalPanel;
  this$static.url_0 = new Label;
  this$static.currentlyVisible = new CheckBox;
  this$static.sdata = new DisclosurePanel_1('sdata details');
  this$static.sdata_label = new Label;
  this$static.props = new Label;
  this$static.Variables = new Label;
  this$static.touching = new Label;
  this$static.updateTouching = new Button('[auto update]');
  this$static.PropertyNodes = new VerticalPanel;
  this$static.addRemovePropertyPanel = new HorizontalPanel;
  this$static.propertyNameBox = new TextBox;
  this$static.addPropertyButton = new Button('+');
  this$static.removePropertyButton = new Button('-');
  this$static.addRemovetouchingPanel = new HorizontalPanel;
  this$static.touchingNameBox = new TextBox;
  this$static.addtouchingButton = new Button('+');
  this$static.removetouchingButton = new Button('-');
  this$static.ResetControls = new HorizontalPanel;
  this$static.ResetToThis = new Button('Reset To This');
  this$static.SaveThisState = new Button('Save State');
  this$static.ResetChildren = new CheckBox_1('Reset Children');
  this$static.runOnLoad = new CheckBox_1('Run onload');
  this$static.ThingsPositionedRelativeToThisDis = new DisclosurePanel_1('child Objects');
  this$static.ThingsPositionedRelativeToThis = new VerticalPanel;
  this$static.movementStateDisclosure = new DisclosurePanel_1('movement data');
  this$static.movementDatabox = new SpiffyDataBox;
  this$static.actionsDisclosure = new DisclosurePanel_1('(Actions)');
  this$static.actionslab = new Label_1('');
  this$static.editsdata = new TextArea_0;
  this$static.PinLabl = new Label_1('Pin:');
  this$static.editsdatal = new Label_1('edit Sdata:');
  this$static.sdatal = new Label_1('Sdata:');
  this$static.propl = new Label_1('Propertys:');
  this$static.VariablesLab = new Label_1('ObjectsVariables:');
  this$static.Relativel = new Label_1('Rel:');
  this$static.locl = new Label_1('Loc:');
  this$static.inDiv = new Label_1('-');
  this$static.Urll = new Label_1('Url:');
  this$static.touchl = new Label_1('Touching:');
  new Label_1('Type:');
  new Label_1('Title:');
  new Label_1('Visible:');
  new Label_1('Css:');
  this$static.htmlToString = new DisclosurePanel_1('(htmlToString)');
  this$static.htmlToStringlab = new Label_1('htmltostringlab');
}

function $setEditMode(this$static, state){
  if (state) {
    $setEnable(this$static.zlab, true);
    $setEnabled(this$static.editsdata, true);
  }
   else {
    $setEnable(this$static.zlab, false);
    $setEnabled(this$static.editsdata, false);
  }
}

function $setResetEnable(this$static, state){
  $setEnabled(this$static.ResetToThis, state.value_0);
  $setEnabled_0(this$static.ResetChildren, state.value_0);
}

function $updateUniversalData(this$static){
  var ms, rName, relObj, relObj$iterator;
  if (this$static.sourceObject.getObjectsCurrentState().attachToHTMLDiv.length < 2) {
    $setText_0(this$static.inDiv, '-');
    $setText_0(this$static.Xlab, '' + $getX_0(this$static.sourceState));
    $setText_0(this$static.Ylab, '' + $getY_0(this$static.sourceState));
    $setText_0(this$static.Zlab, '' + $getZ(this$static.sourceState));
  }
   else {
    $setText_0(this$static.inDiv, this$static.sourceObject.getObjectsCurrentState().attachToHTMLDiv);
    $setText_0(this$static.Xlab, '-');
    $setText_0(this$static.Ylab, '-');
    $setText_0(this$static.Zlab, '-');
  }
  $setValue(this$static.zlab, new Double(this$static.sourceState.zindex));
  if (this$static.sourceState.variableZindex) {
    $setText_0(this$static.zRangeLower, ':' + this$static.sourceState.lowerZindex);
    $setText_0(this$static.zRangeUpper, '-' + this$static.sourceState.upperZindex);
    $setText_0(this$static.zRangeStep, ' / ' + this$static.sourceState.stepZindex);
  }
   else {
    $setText_0(this$static.zRangeLower, '');
    $setText_0(this$static.zRangeUpper, '');
    $setText_0(this$static.zRangeStep, '');
  }
  this$static.sourceState.positionedRelativeToo?$setText_0(this$static.RelativeObject, '-' + this$static.sourceState.positionedRelativeToo.getObjectsCurrentState_1().ObjectsName + ':' + this$static.sourceState.positionedRelativeToPoint):$setText_0(this$static.RelativeObject, '-');
  $setValue_1(this$static.currentlyVisible, ($clinit_Boolean() , this$static.sourceState.currentlyVisible?TRUE_3:FALSE_2));
  $setText_4(this$static.BoxCSSEditer, this$static.sourceState.CurrentBoxCSS);
  $setText_0(this$static.zLinked, 'linkedzindex:' + this$static.sourceState.linkedZindex);
  $setText_0(this$static.zLinkedStep, '' + this$static.sourceState.linkedZindexDifference);
  $setText_0(this$static.RestrictToScreenLab, '' + this$static.sourceState.restrictPositionToScreen);
  $setText_0(this$static.RelativeX, ' ' + this$static.sourceState.relX);
  $setText_0(this$static.RelativeY, ' ' + this$static.sourceState.relY);
  $setText_0(this$static.RelativeZ, ' ' + this$static.sourceState.relZ);
  $setText_0(this$static.PinLabX, ' ' + this$static.sourceState.PinPointX);
  $setText_0(this$static.PinLabY, ' ' + this$static.sourceState.PinPointY);
  $setText_0(this$static.PinLabZ, ' ' + this$static.sourceState.PinPointZ);
  $setText_0(this$static.collisionModeLabel, $toString_15(this$static.sourceObject.getObjectsCurrentState().boundaryType) + '_');
  $setText_0(this$static.collisionCmapLabel, ' cmap:' + this$static.sourceObject.cmap.isPresent());
  ms = this$static.sourceState.moveState;
  $removeAllRows(this$static.movementDatabox);
  $addrow_2(this$static.movementDatabox, 'Currentmode:', $name(ms.currentmovementtype));
  $addrow_2(this$static.movementDatabox, 'currentpath:', ms.currentmovementpath);
  $addrow_2(this$static.movementDatabox, 'currentwaypoint:', '' + ms.movement_currentWaypoint);
  $addrow_2(this$static.movementDatabox, 'current x/y/z:', $toString_12(ms.movement_current_pos));
  $addrow_2(this$static.movementDatabox, 'vel x/y/z:', $toString_13(ms.movement_vel));
  $addrow_2(this$static.movementDatabox, 'acc x/y/z:', $toString_13(ms.movement_acc));
  $addrow_2(this$static.movementDatabox, 'current sx/sy/sz:', $toString_13(ms.movement_SC));
  $addrow_2(this$static.movementDatabox, 'current cx/cy/cz:', $toString_13(ms.movement_CC));
  $addrow_2(this$static.movementDatabox, 'current dx/dy/dz:', $toString_12(ms.movement_dest));
  $addrow_2(this$static.movementDatabox, 'speed:', '' + ms.movement_speed);
  $addrow_2(this$static.movementDatabox, 'curve time:', '' + ms.movement_curveTime);
  $addrow_2(this$static.movementDatabox, 'curve step:', '' + ms.movement_curveTimeStep);
  $clear(this$static.ThingsPositionedRelativeToThis);
  for (relObj$iterator = $iterator_4(new AbstractMap$1(this$static.sourceObject.relativeObjects.map_0)); relObj$iterator.val$outerIter2.hasNext();) {
    relObj = dynamicCast($next_7(relObj$iterator), 24);
    rName = new Label_1(relObj.getObjectsCurrentState_1().ObjectsName);
    $addDomHandler(rName, new SpiffyObjectDataBox$17(relObj), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
    $add_5(this$static.ThingsPositionedRelativeToThis, rName);
  }
  this$static.sourceState.touching?$setText_0(this$static.touching, '' + $getNames(this$static.sourceState.touching).toString$()):$setText_0(this$static.touching, '[]');
  $setText_0(this$static.sdata_label, '' + $serialiseToString(this$static.sourceState));
  $setTitle(this$static.sdata_label, '' + $serilisationHelperString(this$static.sourceState));
  $setText_0(this$static.htmlToStringlab, $toString_2(this$static.sourceObject.internalFocusPanel));
}

function SpiffyObjectDataBox(sObject, obj){
  var BoxCSSAndBackground, linkedDetails, locationPanel, pinPanel, positionParameters, relatedFiles, relativePanel, resetPolygonCollisionCache, sceneAndType, sceneAndTypeLab;
  SpiffyDataBox.call(this);
  $$init_29(this);
  this.sourceObject = sObject;
  this.sourceState = obj;
  $add_11(this.ThingsPositionedRelativeToThisDis, this.ThingsPositionedRelativeToThis);
  $setOpen(this.ThingsPositionedRelativeToThisDis, false);
  $getElement(this.locl).style['fontWeight'] = ($clinit_Style$FontWeight() , 'bold');
  $setWidth(this.sdata_label, '350px');
  $getElement(this.sdata_label).style['fontSize'] = ($clinit_Style$Unit() , '80.0%');
  $setPropertyImpl($getElement(this.sdata_label).style, 'wordWrap', 'break-Word');
  $add_11(this.sdata, this.sdata_label);
  $setWidth(this.props, '350px');
  $getElement(this.props).style['fontSize'] = '80.0%';
  $getElement(this.url_0).style['fontSize'] = '80.0%';
  $setWidth(this.touching, '350px');
  $getElement(this.touching).style['fontSize'] = '80.0%';
  $add_4(this.addRemovePropertyPanel, this.propertyNameBox);
  $add_4(this.addRemovePropertyPanel, this.addPropertyButton);
  $add_4(this.addRemovePropertyPanel, this.removePropertyButton);
  $addDomHandler(this.propertyNameBox, new SpiffyObjectDataBox$2, ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_5));
  $addDomHandler(this.propertyNameBox, new SpiffyObjectDataBox$3, ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));
  $addDomHandler(this.addPropertyButton, new SpiffyObjectDataBox$4(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this.removePropertyButton, new SpiffyObjectDataBox$5(this), (null , TYPE_1));
  $add_4(this.addRemovetouchingPanel, this.touchingNameBox);
  $add_4(this.addRemovetouchingPanel, this.addtouchingButton);
  $add_4(this.addRemovetouchingPanel, this.removetouchingButton);
  $add_4(this.addRemovetouchingPanel, this.updateTouching);
  $addDomHandler(this.touchingNameBox, new SpiffyObjectDataBox$6, (null , TYPE_5));
  $addDomHandler(this.touchingNameBox, new SpiffyObjectDataBox$7, (null , TYPE));
  $addDomHandler(this.addtouchingButton, new SpiffyObjectDataBox$8(this), (null , TYPE_1));
  $addDomHandler(this.removetouchingButton, new SpiffyObjectDataBox$9(this), (null , TYPE_1));
  $addDomHandler(this.updateTouching, new SpiffyObjectDataBox$10(this), (null , TYPE_1));
  $addDomHandler(this.ResetToThis, new SpiffyObjectDataBox$11(this, obj), (null , TYPE_1));
  $addDomHandler(this.SaveThisState, new SpiffyObjectDataBox$12(this), (null , TYPE_1));
  $addValueChangeHandler_0(this.currentlyVisible, new SpiffyObjectDataBox$13(this));
  $addValueChangeHandler_1(this.BoxCSSEditer, new SpiffyObjectDataBox$14(this));
  $add_4(this.ResetControls, this.SaveThisState);
  $add_4(this.ResetControls, this.ResetToThis);
  $add_4(this.ResetControls, this.ResetChildren);
  $add_4(this.ResetControls, this.runOnLoad);
  $add_4(this.zRangeStuff, this.zRangeLower);
  $add_4(this.zRangeStuff, this.zRangeUpper);
  $add_4(this.zRangeStuff, this.zRangeStep);
  this.fcstyle = 'bold';
  $addrow_0(this, new Label_1('Reset'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.ResetControls]));
  sceneAndType = new HorizontalPanel;
  sceneAndTypeLab = new Label_1('Scene and Type:');
  ($clinit_DOM() , sceneAndTypeLab.element).style['fontWeight'] = 'bold';
  $setPropertyInt(sceneAndType.table, 'cellSpacing', 4);
  $add_4(sceneAndType, sceneAndTypeLab);
  this.sourceObject.objectScene_0?$add_4(sceneAndType, new Label_1(this.sourceObject.objectScene_0.SceneFileName + ':')):$add_4(sceneAndType, new Label_1('[no scene]:'));
  $add_4(sceneAndType, new Label_1(obj.ObjectsName));
  $add_4(sceneAndType, new Label_1(' (' + $toString_1(obj.objectsPrimaryType) + ')'));
  $addrow(this, sceneAndType);
  $addrow_2(this, 'Capabilities:', $getCapabilitiesAsString(obj));
  $getElement_0(this.rowFormatter, $getDOMRowCount(this.bodyElem) - 1).style['fontSize'] = '65.0%';
  $addrow_2(this, 'Title:', '' + obj.Title);
  $addrow_0(this, new Label_1('Visible:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.currentlyVisible]));
  $addrow_2(this, 'IgnorePointerEvents:', '' + obj.ignorePointerEvents);
  BoxCSSAndBackground = new HorizontalPanel;
  $add_4(BoxCSSAndBackground, this.BoxCSSEditer);
  $add_4(BoxCSSAndBackground, new Label_1('Background:' + obj.BackgroundString));
  $addrow_0(this, new Label_1('BoxCss:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [BoxCSSAndBackground]));
  locationPanel = new VerticalPanel;
  pinPanel = new VerticalPanel;
  relativePanel = new VerticalPanel;
  $add_5(locationPanel, this.locl);
  $add_5(locationPanel, this.inDiv);
  $add_5(locationPanel, this.Xlab);
  $add_5(locationPanel, this.Ylab);
  $add_5(locationPanel, this.Zlab);
  $add_5(pinPanel, this.PinLabl);
  $add_5(pinPanel, this.PinLabX);
  $add_5(pinPanel, this.PinLabY);
  $add_5(pinPanel, this.PinLabZ);
  $add_5(relativePanel, this.Relativel);
  $add_5(relativePanel, this.RelativeObject);
  $add_5(relativePanel, this.RelativeX);
  $add_5(relativePanel, this.RelativeY);
  $add_5(relativePanel, this.RelativeZ);
  $addDomHandler(this.RelativeObject, new SpiffyObjectDataBox$15(this), (null , TYPE_1));
  positionParameters = new HorizontalPanel;
  $add_4(positionParameters, locationPanel);
  $add_4(positionParameters, pinPanel);
  $add_4(positionParameters, relativePanel);
  $setStylePrimaryName(this.locl, 'bold');
  $setStylePrimaryName(this.PinLabl, 'bold');
  $setStylePrimaryName(this.Relativel, 'bold');
  positionParameters.element.style['width'] = '400px';
  $addrow(this, positionParameters);
  $addrow_1(this, 'Child Objects:', this.ThingsPositionedRelativeToThisDis);
  $addrow_0(this, new Label_1('Z-index:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.zlab, this.zRangeStuff]));
  linkedDetails = new HorizontalPanel;
  $add_4(linkedDetails, this.zLinked);
  $add_4(linkedDetails, this.zLinkedStep);
  $addrow_0(this, new Label_1('Z-linked:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [linkedDetails]));
  $addrow_0(this, new Label_1('RestrictToScreen:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.RestrictToScreenLab]));
  relatedFiles = new HorizontalPanel;
  $add_4(relatedFiles, new Label_1('attach(*.Glu):' + obj.hasAttachmentPointFile));
  $add_4(relatedFiles, new Label_1('____move(*.ini):' + obj.hasMovementFile));
  $addrow_0(this, new Label_1('relatedfiles:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [relatedFiles]));
  resetPolygonCollisionCache = new Button('reset c_cache');
  $setAttribute(resetPolygonCollisionCache.element, 'title', 'resets the collision map for the polygons associated with this object');
  $addDomHandler(resetPolygonCollisionCache, new SpiffyObjectDataBox$16(this), (null , TYPE_1));
  $add_4(this.collisionDetails, this.collisionModeLabel);
  $add_4(this.collisionDetails, this.collisionCmapLabel);
  $add_4(this.collisionDetails, resetPolygonCollisionCache);
  $addrow_0(this, new Label_1('Collision Mode:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.collisionDetails]));
  $addrow_0(this, new Label_1('Movement state:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.movementStateDisclosure]));
  $setContent(this.movementStateDisclosure, null);
  $add_11(this.movementStateDisclosure, this.movementDatabox);
  this.movementDatabox.fcstyle = 'bold';
  $addrow_0(this, new Label_1('HTML (tostring):'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.htmlToString]));
  $add_11(this.htmlToString, this.htmlToStringlab);
  $updateUniversalData(this);
}

defineClass(271, 257, $intern_18);
var Log_100;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox', 271, Lcom_darkflame_client_SpiffyDataBox_2_classLit);
function $update_3(this$static){
  var predthennode, propit, sssProp;
  $updateUniversalData(this$static);
  $info_1(Log_100, 'running update..');
  $setText_0(this$static.css, this$static.dat.CSSname);
  $setText_0(this$static.typedTextSetting, '' + this$static.dat.TypedText + ',' + this$static.dat.cursorVisible);
  $info_1(Log_100, 'running update...');
  this$static.dat.clonedFrom?$setText_0(this$static.clonedFroml, '-' + this$static.dat.clonedFrom.getObjectsCurrentState_1().ObjectsName):$setText_0(this$static.clonedFroml, '-(no clone set)');
  $info_1(Log_100, 'running update....');
  $setText_0(this$static.actionslab, '' + $getCode(this$static.sourceObject.objectsActions));
  $getElement(this$static.actionslab).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'pre');
  $info_1(Log_100, 'running update............');
  $setText_0(this$static.url_0, '' + this$static.dat.ObjectsCurrentURL);
  $setText_0(this$static.currentText, this$static.dat.ObjectsCurrentText);
  $setText_4(this$static.editsdata, '' + $serialiseToString(this$static.dat));
  $setText_0(this$static.currentParagraph, this$static.dat.currentparagraphName + ':' + this$static.dat.currentParagraphPage + ' (' + this$static.dat.currentNumberOfParagraphs + ' in total)');
  $setText_0(this$static.currentNextParagraphObject, ':' + this$static.dat.NextParagraphObject);
  $info_1(Log_100, 'variables setting');
  $setText_0(this$static.Variables, $replace_0($serialise_1(this$static.dat.ObjectRuntimeVariables), '&', ','));
  $clear(this$static.PropertyNodes);
  propit = $iterator_4(new AbstractMap$1(this$static.dat.objectsProperties.objectsProperties.map_0));
  while (propit.val$outerIter2.hasNext()) {
    sssProp = dynamicCast($next_7(propit), 81);
    if (sssProp.pred == ($clinit_SSSNode() , SubClassOf)) {
      $add_5(this$static.PropertyNodes, new NodeResultLabel(sssProp.value_0));
    }
     else {
      predthennode = new HorizontalPanel;
      $add_4(predthennode, new Label_1(sssProp.pred.PLabel));
      $add_4(predthennode, new Label_1(':'));
      $add_4(predthennode, new NodeResultLabel(sssProp.value_0));
      $add_5(this$static.PropertyNodes, predthennode);
    }
  }
  this$static.sourceObject.getObjectsCurrentState().objectsPrimaryType == ($clinit_SceneObjectType() , DialogBox)?$setText_0(this$static.TypedLabelToStringlab, $toString_2($getAsDialog(this$static.sourceObject).TextLabel)):this$static.sourceObject.getObjectsCurrentState().objectsPrimaryType == Label_4?$setText_0(this$static.TypedLabelToStringlab, $toString_2($getAsLabel(this$static.sourceObject).TextLabel_0)):$setText_0(this$static.TypedLabelToStringlab, 'does not have typed label');
  $info_1(Log_100, 'data display updated');
}

function SceneDialogObjectDataBox(state, sourceObject){
  $clinit_SpiffyObjectDataBox();
  var editInIJammer, refresh, urlAndIJammerButton;
  SpiffyObjectDataBox.call(this, sourceObject, state);
  this.css = new Label;
  this.typedTextSetting = new Label;
  this.clonedFroml = new Label_1('');
  this.currentParagraph = new Label_1('');
  this.currentNextParagraphObject = new Label_1('');
  this.typedTextStylelabel = new Label_1('TypedText&Cursor:');
  this.cssl = new Label_1('CSSname');
  this.clonedFromlab = new Label_1('ClonedFrom:');
  this.textDetails = new DisclosurePanel_1('(Text Details)');
  this.TypedLabelToString = new DisclosurePanel_1('( TypedLabel html)');
  this.TypedLabelToStringlab = new Label_1('typed label to string');
  this.currentText = new Label;
  this.dat = state;
  $update_3(this);
  $addrow_0(this, this.typedTextStylelabel, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.typedTextSetting]));
  $addrow_0(this, this.cssl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.css]));
  $addrow_0(this, this.clonedFromlab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.clonedFroml]));
  $addrow_1(this, 'Cur Paragraph:', this.currentParagraph);
  $addrow_1(this, 'Next icon object:', this.currentNextParagraphObject);
  urlAndIJammerButton = new HorizontalPanel;
  $add_4(urlAndIJammerButton, this.url_0);
  refresh = new Button('(refresh)');
  editInIJammer = new Button('(EditInIJammer)');
  $addDomHandler(editInIJammer, new SceneDialogObjectDataBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(refresh, new SceneDialogObjectDataBox$2(sourceObject), (null , TYPE_1));
  $add_4(urlAndIJammerButton, refresh);
  $add_4(urlAndIJammerButton, editInIJammer);
  $addrow_0(this, this.Urll, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [urlAndIJammerButton, this.textDetails]));
  $add_11(this.textDetails, this.currentText);
  $addrow_0(this, this.VariablesLab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.Variables]));
  $addrow_0(this, this.propl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.props, this.PropertyNodes, this.addRemovePropertyPanel]));
  $addrow_0(this, this.touchl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.touching, this.addRemovetouchingPanel]));
  $addrow_0(this, new Label_1('Actions:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.actionsDisclosure]));
  $add_11(this.actionsDisclosure, this.actionslab);
  $addrow_0(this, new Label_1('TypedLabel HTML (tostring):'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.TypedLabelToString]));
  $add_11(this.TypedLabelToString, this.TypedLabelToStringlab);
  $setWidth(this.sdatal, '400px');
  $addrow_0(this, this.sdatal, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.sdata]));
}

defineClass(272, 271, {45:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1, 272:1}, SceneDialogObjectDataBox);
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDialogObjectDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDialogObjectDataBox', 272, Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox_2_classLit);
function SceneDialogObjectDataBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(1327, 1, $intern_17, SceneDialogObjectDataBox$1);
_.onClick = function onClick_74(event_0){
  sendFunctionToParent('editDialogue', $getTextOrHtml(this.this$01.url_0.directionalTextHelper, false) + ',' + this.this$01.dat.currentparagraphName);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDialogObjectDataBox$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDialogObjectDataBox/1', 1327, Ljava_lang_Object_2_classLit);
function SceneDialogObjectDataBox$2(val$sourceObject){
  this.val$sourceObject2 = val$sourceObject;
}

defineClass(1328, 1, $intern_17, SceneDialogObjectDataBox$2);
_.onClick = function onClick_75(event_0){
  $reloadTextFromFile(this.val$sourceObject2);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDialogObjectDataBox$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDialogObjectDataBox/2', 1328, Ljava_lang_Object_2_classLit);
function $update_4(this$static){
  var predthennode, propit, sssProp;
  if (!this$static.attached) {
    return;
  }
  $updateUniversalData(this$static);
  $info_1(Log_100, 'running update..');
  $setText_0(this$static.actionslab, '' + $getCode(this$static.sourceObject.objectsActions));
  $getElement(this$static.actionslab).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'pre');
  $info_1(Log_100, 'running update............');
  $setText_4(this$static.editsdata, '' + $serialiseToString(this$static.dat));
  $info_1(Log_100, 'variables setting');
  $setText_0(this$static.Variables, $replace_0($serialise_1(this$static.dat.ObjectRuntimeVariables), '&', ','));
  $clear(this$static.PropertyNodes);
  propit = $iterator_4(new AbstractMap$1(this$static.dat.objectsProperties.objectsProperties.map_0));
  while (propit.val$outerIter2.hasNext()) {
    sssProp = dynamicCast($next_7(propit), 81);
    if (sssProp.pred == ($clinit_SSSNode() , SubClassOf)) {
      $add_5(this$static.PropertyNodes, new NodeResultLabel(sssProp.value_0));
    }
     else {
      predthennode = new HorizontalPanel;
      $add_4(predthennode, new Label_1(sssProp.pred.PLabel));
      $add_4(predthennode, new Label_1(':'));
      $add_4(predthennode, new NodeResultLabel(sssProp.value_0));
      $add_5(this$static.PropertyNodes, predthennode);
    }
  }
  $info_1(Log_100, 'data display updated');
}

function SceneDivObjectDataBox(obj, sourceObject){
  $clinit_SpiffyObjectDataBox();
  SpiffyObjectDataBox.call(this, sourceObject, obj);
  this.dat = obj;
  $update_4(this);
  $addrow_0(this, this.VariablesLab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.Variables]));
  $addrow_0(this, this.propl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.props, this.PropertyNodes, this.addRemovePropertyPanel]));
  $addrow_0(this, this.touchl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.touching, this.addRemovetouchingPanel]));
  $addrow_0(this, new Label_1('Actions:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.actionsDisclosure]));
  $add_11(this.actionsDisclosure, this.actionslab);
  $addrow_0(this, this.sdatal, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.sdata]));
}

defineClass(312, 271, {45:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1, 312:1}, SceneDivObjectDataBox);
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneDivObjectDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneDivObjectDataBox', 312, Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox_2_classLit);
function $update_5(this$static){
  var predthennode, propit, sssProp;
  $updateUniversalData(this$static);
  $info_1(Log_100, 'running update..');
  $setText_0(this$static.actionslab, '' + $getCode(this$static.sourceObject.objectsActions));
  $getElement(this$static.actionslab).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'pre');
  $info_1(Log_100, 'running update............');
  $setText_4(this$static.editsdata, '' + $serialiseToString(this$static.dat));
  $info_1(Log_100, 'variables setting');
  $setText_0(this$static.Variables, $replace_0($serialise_1(this$static.dat.ObjectRuntimeVariables), '&', ','));
  $clear(this$static.PropertyNodes);
  propit = $iterator_4(new AbstractMap$1(this$static.dat.objectsProperties.objectsProperties.map_0));
  while (propit.val$outerIter2.hasNext()) {
    sssProp = dynamicCast($next_7(propit), 81);
    if (sssProp.pred == ($clinit_SSSNode() , SubClassOf)) {
      $add_5(this$static.PropertyNodes, new NodeResultLabel(sssProp.value_0));
    }
     else {
      predthennode = new HorizontalPanel;
      $add_4(predthennode, new Label_1(sssProp.pred.PLabel));
      $add_4(predthennode, new Label_1(':'));
      $add_4(predthennode, new NodeResultLabel(sssProp.value_0));
      $add_5(this$static.PropertyNodes, predthennode);
    }
  }
  $setValue_1(this$static.currentlyReadOnly, ($clinit_Boolean() , this$static.dat.ReadOnly?TRUE_3:FALSE_2));
  $info_1(Log_100, 'data display updated');
}

function SceneInputObjectDataBox(obj, sourceObject){
  $clinit_SpiffyObjectDataBox();
  SpiffyObjectDataBox.call(this, sourceObject, obj);
  this.currentlyReadOnly = new CheckBox;
  this.dat = obj;
  $update_5(this);
  $addDomHandler(this.currentlyReadOnly, new SceneInputObjectDataBox$1(this, sourceObject), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addrow_2(this, 'MaxCharacters', '' + sourceObject.objectsCurrentState.maxcharacters);
  $addrow_1(this, 'Read only', this.currentlyReadOnly);
  $addrow_0(this, this.VariablesLab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.Variables]));
  $addrow_0(this, this.propl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.props, this.PropertyNodes, this.addRemovePropertyPanel]));
  $addrow_0(this, this.touchl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.touching, this.addRemovetouchingPanel]));
  $addrow_0(this, new Label_1('Actions:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.actionsDisclosure]));
  $add_11(this.actionsDisclosure, this.actionslab);
  $addrow_0(this, this.sdatal, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.sdata]));
}

defineClass(311, 271, {45:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1, 311:1}, SceneInputObjectDataBox);
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneInputObjectDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneInputObjectDataBox', 311, Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox_2_classLit);
function SceneInputObjectDataBox$1(this$0, val$sourceObject){
  this.this$01 = this$0;
  this.val$sourceObject2 = val$sourceObject;
}

defineClass(1329, 1, $intern_17, SceneInputObjectDataBox$1);
_.onClick = function onClick_76(event_0){
  $setReadOnly_0(this.val$sourceObject2, $getValue_0(this.this$01.currentlyReadOnly));
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneInputObjectDataBox$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneInputObjectDataBox/1', 1329, Ljava_lang_Object_2_classLit);
function $update_6(this$static){
  var predthennode, propit, sssProp;
  $updateUniversalData(this$static);
  $info_1(Log_100, 'running update..');
  $setText_0(this$static.css, this$static.dat.CSSname);
  $setText_0(this$static.typedTextSetting, '' + this$static.dat.TypedText + ',' + this$static.dat.cursorVisible);
  $info_1(Log_100, 'running update...');
  this$static.dat.clonedFrom?$setText_0(this$static.clonedFroml, '-' + this$static.dat.clonedFrom.getObjectsCurrentState_1().ObjectsName):$setText_0(this$static.clonedFroml, '-(no clone set)');
  $info_1(Log_100, 'running update....');
  $setText_0(this$static.actionslab, '' + $getCode(this$static.sourceObject.objectsActions));
  $getElement(this$static.actionslab).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'pre');
  $info_1(Log_100, 'running update............');
  $setText_0(this$static.currentText, this$static.dat.ObjectsCurrentText);
  $setText_4(this$static.editsdata, '' + $serialiseToString(this$static.dat));
  $info_1(Log_100, 'variables setting');
  $setText_0(this$static.Variables, $replace_0($serialise_1(this$static.dat.ObjectRuntimeVariables), '&', ','));
  $clear(this$static.PropertyNodes);
  propit = $iterator_4(new AbstractMap$1(this$static.dat.objectsProperties.objectsProperties.map_0));
  while (propit.val$outerIter2.hasNext()) {
    sssProp = dynamicCast($next_7(propit), 81);
    if (sssProp.pred == ($clinit_SSSNode() , SubClassOf)) {
      $add_5(this$static.PropertyNodes, new NodeResultLabel(sssProp.value_0));
    }
     else {
      predthennode = new HorizontalPanel;
      $add_4(predthennode, new Label_1(sssProp.pred.PLabel));
      $add_4(predthennode, new Label_1(':'));
      $add_4(predthennode, new NodeResultLabel(sssProp.value_0));
      $add_5(this$static.PropertyNodes, predthennode);
    }
  }
  this$static.sourceObject.getObjectsCurrentState().objectsPrimaryType == ($clinit_SceneObjectType() , DialogBox)?$setText_0(this$static.TypedLabelToStringlab, $toString_2($getAsDialog(this$static.sourceObject).TextLabel)):this$static.sourceObject.getObjectsCurrentState().objectsPrimaryType == Label_4?$setText_0(this$static.TypedLabelToStringlab, $toString_2($getAsLabel(this$static.sourceObject).TextLabel_0)):$setText_0(this$static.TypedLabelToStringlab, 'does not have typed label');
  $info_1(Log_100, 'data display updated');
}

function SceneLabelObjectDataBox(state, sourceObject){
  $clinit_SpiffyObjectDataBox();
  var urlAndIJammerButton;
  SpiffyObjectDataBox.call(this, sourceObject, state);
  this.css = new Label;
  this.typedTextSetting = new Label;
  this.clonedFroml = new Label_1('');
  this.typedTextStylelabel = new Label_1('TypedText&Cursor:');
  this.cssl = new Label_1('CSSname');
  this.clonedFromlab = new Label_1('ClonedFrom:');
  this.textDetails = new DisclosurePanel_1('(Text Details)');
  this.TypedLabelToString = new DisclosurePanel_1('( TypedLabel html)');
  this.TypedLabelToStringlab = new Label_1('typed label to string');
  this.currentText = new Label;
  this.dat = state;
  $update_6(this);
  $addrow_0(this, this.typedTextStylelabel, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.typedTextSetting]));
  $addrow_0(this, this.cssl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.css]));
  $addrow_0(this, this.clonedFromlab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.clonedFroml]));
  urlAndIJammerButton = new HorizontalPanel;
  $add_4(urlAndIJammerButton, this.url_0);
  $addrow_0(this, this.Urll, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [urlAndIJammerButton, this.textDetails]));
  $add_11(this.textDetails, this.currentText);
  $addrow_0(this, this.VariablesLab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.Variables]));
  $addrow_0(this, this.propl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.props, this.PropertyNodes, this.addRemovePropertyPanel]));
  $addrow_0(this, this.touchl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.touching, this.addRemovetouchingPanel]));
  $addrow_0(this, new Label_1('Actions:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.actionsDisclosure]));
  $add_11(this.actionsDisclosure, this.actionslab);
  $addrow_0(this, new Label_1('TypedLabel HTML (tostring):'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.TypedLabelToString]));
  $add_11(this.TypedLabelToString, this.TypedLabelToStringlab);
  $addrow_0(this, this.sdatal, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.sdata]));
}

defineClass(407, 271, $intern_18, SceneLabelObjectDataBox);
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneLabelObjectDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneLabelObjectDataBox', 407, Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox_2_classLit);
function $generateSourceFromData(sourcedata){
  var currentObjectString, e, scenesObjects, so, so$iterator, text_0;
  text_0 = '\n';
  scenesObjects = $allScenesCurrentObjects(sourcedata.scenesData);
  for (so$iterator = new Collections$UnmodifiableCollectionIterator(scenesObjects.coll.iterator()); so$iterator.it.hasNext();) {
    so = dynamicCast(so$iterator.it.next_0(), 24);
    currentObjectString = getSourceFromSceneObject(so);
    text_0 = text_0 + currentObjectString + '\n' + '\n';
  }
  try {
    sendFunctionToParent('sceneData', 'la la la');
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 37)) {
      e = $e0;
      $printStackTrace(e, ($clinit_System() , err));
    }
     else 
      throw unwrap($e0);
  }
  return text_0;
}

function SceneSourceCode(data_0){
  PopupPanel.call(this);
  this.sourceBox = new TextArea_0;
  this.container = new VerticalPanel;
  $setWidth_0(this, '600px');
  $setHeight_0(this, '500px');
  $setSize(this.sourceBox, '600px', '500px');
  $setSpacing(this.container, 2);
  $getElement(this.container).style['borderWidth'] = ($clinit_Style$Unit() , '2.0px');
  $add_5(this.container, new Label_1('Scenes Script Code:'));
  $add_5(this.container, this.sourceBox);
  $add_5(this.container, new Label_1('NOTE: This source wont be the same as the input source'));
  $setPropertyImpl($getElement(this.container).style, 'backgroundColor', '#FFF');
  $add_2(this, this.container);
  this.modal = true;
  $setGlassEnabled(this);
  this.autoHide = true;
  ($clinit_DOM() , this.element).style['zIndex'] = '99999';
  $setText_4(this.sourceBox, $generateSourceFromData(data_0));
}

defineClass(1437, 53, $intern_35, SceneSourceCode);
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneSourceCode_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneSourceCode', 1437, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function $update_7(this$static){
  var predthennode, propit, sssProp;
  $updateUniversalData(this$static);
  this$static.dat.clonedFrom?$setText_0(this$static.clonedFroml, '-' + this$static.dat.clonedFrom.getObjectsCurrentState_1().ObjectsName):$setText_0(this$static.clonedFroml, '-(no clone set)');
  $setText_0(this$static.actionslab, '' + $getCode(this$static.sourceObject.objectsActions));
  $getElement(this$static.actionslab).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'pre');
  $setText_0(this$static.url_0, '' + this$static.dat.ObjectsURL);
  $setUrl_1(this$static.imagePreview, this$static.dat.ObjectsURL);
  $setText_0(this$static.cframe, '' + this$static.dat.currentFrame + ' out of ' + this$static.dat.currentNumberOfFrames);
  this$static.dat.currentlyAnimationState = $serialiseAnimationState(this$static.so.SceneObjectIcon.animation);
  $setText_0(this$static.animation, '|' + this$static.dat.currentlyAnimationState + ' (is ani:' + this$static.so.SceneObjectIcon.animation.currentlyAnimating);
  this$static.so.attachmentPoints?$setText_0(this$static.attachmentListLabel, $serialise_0(this$static.so.attachmentPoints)):$setText_0(this$static.attachmentListLabel, '');
  $setText_0(this$static.props, '' + $toString_16(this$static.dat.objectsProperties));
  $clear(this$static.PropertyNodes);
  propit = $iterator_4(new AbstractMap$1(this$static.dat.objectsProperties.objectsProperties.map_0));
  while (propit.val$outerIter2.hasNext()) {
    sssProp = dynamicCast($next_7(propit), 81);
    if (sssProp.pred == ($clinit_SSSNode() , SubClassOf)) {
      $add_5(this$static.PropertyNodes, new NodeResultLabel(sssProp.value_0));
    }
     else {
      predthennode = new HorizontalPanel;
      $add_4(predthennode, new Label_1(sssProp.pred.PLabel));
      $add_4(predthennode, new Label_1(':'));
      $add_4(predthennode, new NodeResultLabel(sssProp.value_0));
      $add_5(this$static.PropertyNodes, predthennode);
    }
  }
  $setText_0(this$static.Variables, $replace_0($serialise_1(this$static.dat.ObjectRuntimeVariables), '&', ','));
  $info_1(Log_100, 'data display updated');
}

function SceneSpriteObjectDataBox(obj, sourceObject){
  $clinit_SpiffyObjectDataBox();
  var updateObjectToThis;
  SpiffyObjectDataBox.call(this, sourceObject, obj);
  this.clonedFroml = new Label_1('');
  this.cframe = new Label;
  this.animation = new Label_1('');
  this.cfl = new Label_1('Frame:');
  this.Animationlab = new Label_1('Animation:');
  this.clonedFromlab = new Label_1('ClonedFrom:');
  this.attachmentList = new DisclosurePanel_1('(Atachment Point List)');
  this.attachmentListLabel = new Label;
  this.imageDetails = new DisclosurePanel_1('(Image Details)');
  this.imagePreview = new Image_0;
  this.so = sourceObject;
  this.dat = obj;
  sourceObject.SceneObjectIcon.animation.currentlyAnimating?(sourceObject.objectsCurrentState_0.currentlyAnimationState = $serialiseAnimationState(sourceObject.SceneObjectIcon.animation)):(sourceObject.objectsCurrentState_0.currentlyAnimationState = '');
  $addrow_1(this, 'atachmentList:', this.attachmentList);
  $add_11(this.attachmentList, this.attachmentListLabel);
  $getElement(this.attachmentListLabel).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'pre');
  $addrow_0(this, this.clonedFromlab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.clonedFroml]));
  $addrow_0(this, this.cfl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.cframe]));
  $addrow_0(this, this.Animationlab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.animation]));
  $addrow_0(this, this.Urll, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.url_0, this.imageDetails]));
  $add_11(this.imageDetails, this.imagePreview);
  $addrow_0(this, this.VariablesLab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.Variables]));
  $addrow_0(this, new Label_1('Actions:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.actionsDisclosure]));
  $add_11(this.actionsDisclosure, this.actionslab);
  $addrow_0(this, this.propl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.props, this.PropertyNodes, this.addRemovePropertyPanel]));
  $addrow_0(this, this.touchl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.touching, this.addRemovetouchingPanel]));
  $addrow_0(this, this.sdatal, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.sdata]));
  updateObjectToThis = new Button('update');
  $addrow_0(this, this.editsdatal, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.editsdata, updateObjectToThis]));
  $setWidth(this.editsdata, '100%');
  $addDomHandler(updateObjectToThis, new SceneSpriteObjectDataBox$1(this, sourceObject), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $update_7(this);
}

defineClass(310, 271, {45:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1, 310:1}, SceneSpriteObjectDataBox);
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneSpriteObjectDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneSpriteObjectDataBox', 310, Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox_2_classLit);
function SceneSpriteObjectDataBox$1(this$0, val$sourceObject){
  this.this$01 = this$0;
  this.val$sourceObject2 = val$sourceObject;
}

defineClass(1326, 1, $intern_17, SceneSpriteObjectDataBox$1);
_.onClick = function onClick_77(event_0){
  var newstate;
  $info_1(($clinit_SpiffyObjectDataBox() , Log_100), '<____________creating new state from edit data box');
  newstate = new SceneSpriteObjectState_1($getText(this.this$01.editsdata));
  $info_1(Log_100, '<____________updating state');
  $updateState_2(this.val$sourceObject2, newstate, true, true);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneSpriteObjectDataBox$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneSpriteObjectDataBox/1', 1326, Ljava_lang_Object_2_classLit);
function $update_8(this$static){
  var predthennode, propit, sssProp;
  $updateUniversalData(this$static);
  $info_1(Log_100, 'running update..');
  $setText_0(this$static.PathLabel, $getAsVector(this$static.sourceObject).objectsCurrentState.objectsVectorString);
  $setText_0(this$static.actionslab, '' + $getCode(this$static.sourceObject.objectsActions));
  $getElement(this$static.actionslab).style['whiteSpace'] = ($clinit_Style$WhiteSpace() , 'pre');
  $info_1(Log_100, 'running update............');
  $setText_4(this$static.editsdata, '' + $serialiseToString(this$static.dat));
  $info_1(Log_100, 'variables setting');
  $setText_0(this$static.Variables, $replace_0($serialise_1(this$static.dat.ObjectRuntimeVariables), '&', ','));
  $clear(this$static.PropertyNodes);
  propit = $iterator_4(new AbstractMap$1(this$static.dat.objectsProperties.objectsProperties.map_0));
  while (propit.val$outerIter2.hasNext()) {
    sssProp = dynamicCast($next_7(propit), 81);
    if (sssProp.pred == ($clinit_SSSNode() , SubClassOf)) {
      $add_5(this$static.PropertyNodes, new NodeResultLabel(sssProp.value_0));
    }
     else {
      predthennode = new HorizontalPanel;
      $add_4(predthennode, new Label_1(sssProp.pred.PLabel));
      $add_4(predthennode, new Label_1(':'));
      $add_4(predthennode, new NodeResultLabel(sssProp.value_0));
      $add_5(this$static.PropertyNodes, predthennode);
    }
  }
  $info_1(Log_100, 'data display updated');
}

function SceneVectorObjectDataBox(obj, sourceObject){
  $clinit_SpiffyObjectDataBox();
  SpiffyObjectDataBox.call(this, sourceObject, obj);
  this.PathLabel = new Label;
  this.dat = obj;
  $update_8(this);
  $addrow_1(this, 'Path:', this.PathLabel);
  $addrow_0(this, this.VariablesLab, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.Variables]));
  $addrow_0(this, this.propl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.props, this.PropertyNodes, this.addRemovePropertyPanel]));
  $addrow_0(this, this.touchl, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.touching, this.addRemovetouchingPanel]));
  $addrow_0(this, new Label_1('Actions:'), initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.actionsDisclosure]));
  $add_11(this.actionsDisclosure, this.actionslab);
  $addrow_0(this, this.sdatal, initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_Widget_2_classLit, 1), $intern_1, 7, 0, [this.sdata]));
}

defineClass(313, 271, {45:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1, 313:1}, SceneVectorObjectDataBox);
var Lcom_lostagain_JamGwt_JargScene_debugtools_SceneVectorObjectDataBox_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SceneVectorObjectDataBox', 313, Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox_2_classLit);
function $run_22(this$static){
  $setZIndex(this$static.this$01.sourceObject, round_int(dynamicCast($getValue_1(this$static.this$01.zlab.num), 62).value_0));
}

function SpiffyObjectDataBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(1330, 1, {}, SpiffyObjectDataBox$1);
_.run = function run_94(){
  $run_22(this);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$1_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/1', 1330, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$10(this$0){
  this.this$01 = this$0;
}

defineClass(1339, 1, $intern_17, SpiffyObjectDataBox$10);
_.onClick = function onClick_78(event_0){
  $updateTouchingAutomatically(this.this$01.sourceObject);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$10_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/10', 1339, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$11(this$0, val$obj){
  this.this$01 = this$0;
  this.val$obj2 = val$obj;
}

defineClass(1340, 1, $intern_17, SpiffyObjectDataBox$11);
_.onClick = function onClick_79(event_0){
  var relObj, relObj$iterator, runOnLoadBoolean;
  $info_1(($clinit_SpiffyObjectDataBox() , Log_100), 'loading state of ' + this.this$01.sourceObject.getObjectsCurrentState().ObjectsName + ' to box');
  runOnLoadBoolean = $getValue_0(this.this$01.runOnLoad).value_0;
  $loadState(this.this$01.sourceObject, this.val$obj2, runOnLoadBoolean);
  if ($getValue_0(this.this$01.ResetChildren).value_0) {
    for (relObj$iterator = $iterator_4(new AbstractMap$1(this.this$01.sourceObject.relativeObjects.map_0)); relObj$iterator.val$outerIter2.hasNext();) {
      relObj = dynamicCast($next_7(relObj$iterator), 24);
      $info_1(Log_100, 'restting state of ' + relObj.getObjectsCurrentState_1().ObjectsName + ' to initial');
      dynamicCast(relObj, 137).resetObject();
    }
  }
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$11_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/11', 1340, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$12(this$0){
  this.this$01 = this$0;
}

defineClass(1341, 1, $intern_17, SpiffyObjectDataBox$12);
_.onClick = function onClick_80(event_0){
  $info_1(($clinit_SpiffyObjectDataBox() , Log_100), 'saving state of ' + this.this$01.sourceObject.getObjectsCurrentState().ObjectsName + ' to initial');
  this.this$01.sourceObject.saveTempState();
  $CloseDefault_3(this.this$01.sourceObject.oipu);
  this.this$01.sourceObject.oipu = null;
  $openObjectsInspector(this.this$01.sourceObject);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$12_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/12', 1341, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$13(this$0){
  this.this$01 = this$0;
}

defineClass(1342, 1, $intern_114, SpiffyObjectDataBox$13);
_.onValueChange = function onValueChange_7(event_0){
  $info_1(($clinit_SpiffyObjectDataBox() , Log_100), 'setting visibility to ' + event_0.value_0);
  this.this$01.sourceObject.setVisible(dynamicCast(event_0.value_0, 111).value_0);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$13_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/13', 1342, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$14(this$0){
  this.this$01 = this$0;
}

defineClass(1343, 1, $intern_114, SpiffyObjectDataBox$14);
_.onValueChange = function onValueChange_8(event_0){
  $info_1(($clinit_SpiffyObjectDataBox() , Log_100), 'setting boxcss to ' + dynamicCastToString(event_0.value_0));
  $isCompatibleWith(this.this$01.sourceObject.getObjectsCurrentState(), ($clinit_SceneObjectType() , Div)) && $setBoxCSS(this.this$01.sourceObject, dynamicCastToString(event_0.value_0));
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$14_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/14', 1343, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$15(this$0){
  this.this$01 = this$0;
}

defineClass(1344, 1, $intern_17, SpiffyObjectDataBox$15);
_.onClick = function onClick_81(event_0){
  !!this.this$01.sourceState.positionedRelativeToo && this.this$01.sourceState.positionedRelativeToo.openObjectsInspector();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$15_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/15', 1344, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$16(this$0){
  this.this$01 = this$0;
}

defineClass(1345, 1, $intern_17, SpiffyObjectDataBox$16);
_.onClick = function onClick_82(event_0){
  removeFromAllcaches(dynamicCast(this.this$01.sourceObject.cmap.get_1(), 18));
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$16_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/16', 1345, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$17(val$relObj){
  this.val$relObj2 = val$relObj;
}

defineClass(1346, 1, $intern_17, SpiffyObjectDataBox$17);
_.onClick = function onClick_83(event_0){
  this.val$relObj2.openObjectsInspector();
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$17_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/17', 1346, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$2(){
}

defineClass(1331, 1, $intern_29, SpiffyObjectDataBox$2);
_.onFocus = function onFocus_4(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$2_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/2', 1331, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$3(){
}

defineClass(1332, 1, $intern_30, SpiffyObjectDataBox$3);
_.onBlur = function onBlur_4(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$3_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/3', 1332, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$4(this$0){
  this.this$01 = this$0;
}

defineClass(1333, 1, $intern_17, SpiffyObjectDataBox$4);
_.onClick = function onClick_84(event_0){
  $addProperty(this.this$01.sourceObject, $getText(this.this$01.propertyNameBox));
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$4_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/4', 1333, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$5(this$0){
  this.this$01 = this$0;
}

defineClass(1334, 1, $intern_17, SpiffyObjectDataBox$5);
_.onClick = function onClick_85(event_0){
  $removeProperty(this.this$01.sourceObject, $getText(this.this$01.propertyNameBox));
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$5_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/5', 1334, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$6(){
}

defineClass(1335, 1, $intern_29, SpiffyObjectDataBox$6);
_.onFocus = function onFocus_5(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$6_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/6', 1335, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$7(){
}

defineClass(1336, 1, $intern_30, SpiffyObjectDataBox$7);
_.onBlur = function onBlur_5(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$7_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/7', 1336, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$8(this$0){
  this.this$01 = this$0;
}

defineClass(1337, 1, $intern_17, SpiffyObjectDataBox$8);
_.onClick = function onClick_86(event_0){
  var sceneObject;
  sceneObject = getSingleSceneObjectNEW($trim($getText(this.this$01.touchingNameBox)), null, true);
  $addTouchingProperty(this.this$01.sourceObject, sceneObject);
  $updateDebugInfo(this.this$01.sourceObject);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$8_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/8', 1337, Ljava_lang_Object_2_classLit);
function SpiffyObjectDataBox$9(this$0){
  this.this$01 = this$0;
}

defineClass(1338, 1, $intern_17, SpiffyObjectDataBox$9);
_.onClick = function onClick_87(event_0){
  var sceneObject;
  sceneObject = getSingleSceneObjectNEW($trim($getText(this.this$01.touchingNameBox)), null, true);
  $removeTouchingProperty(this.this$01.sourceObject, sceneObject);
  $updateDebugInfo(this.this$01.sourceObject);
}
;
var Lcom_lostagain_JamGwt_JargScene_debugtools_SpiffyObjectDataBox$9_2_classLit = createForClass('com.lostagain.JamGwt.JargScene.debugtools', 'SpiffyObjectDataBox/9', 1338, Ljava_lang_Object_2_classLit);
function $OpenOnServerOptions(this$static){
  $OpenDefault_0(this$static);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
  HasServerSave_0.value_0?$selectTab_0(this$static.loadoptions, 1):$selectTab_0(this$static.loadoptions, 0);
}

function $refreshText_0(this$static){
  $refreshText(SEVER_OPTIONS);
  $setTitlebBarText(this$static, ($clinit_GamesInterfaceTextCore() , MainGame_LoadSavedGame));
  $setTabText(this$static.loadoptions.tabBar, 0, MainGame_FromThisBrowser);
  if (($clinit_JAMcore() , HasServerSave_0).value_0) {
    $setTabText(this$static.loadoptions.tabBar, 1, MainGame_FromServer);
    $setTabText(this$static.loadoptions.tabBar, 2, MainGame_FromText);
  }
   else {
    $setTabText(this$static.loadoptions.tabBar, 1, MainGame_FromText);
  }
  $setText(this$static.loadDataPastedBelow, MainGame_LoadDataPastedBelow);
  $setLoadInstructions(this$static.localStoreManager, MainGame_ClickBelowToLoadYourGame);
}

function LoadSaveGamePopup(){
  $clinit_TitledPopUpWithShadow();
  var LoadFromTextPage;
  TitledPopUpWithShadow_0.call(this, '500px', 'Load Saved Game:', new Label_1('loading...'), true);
  this.contents = new VerticalPanel;
  this.localStoreManager = new SpiffySaveToLocalStorage(1, 400, ($clinit_JAMcore() , GameName));
  this.loadDataPastedBelow = new Button('Load Data Pasted Below:');
  this.loadDataTextbox = new TextArea_0;
  this.expirementalReset = new CheckBox_1('Expiremental Reset');
  this.width_0 = 500;
  this.height_0 = 200;
  this.loadingFeedback = new Label_1('---');
  this.loadoptions = new DecoratedTabPanel;
  $info_1(Log_69, 'setting up load savegame popup contents');
  $setSize(this.loadoptions, '100%', '100%');
  $setStylePrimaryName(this.loadoptions.tabBar, 'Inspector-TabBar');
  $add_10(this.loadoptions, this.localStoreManager, ' (...From this Browser) ');
  SEVER_OPTIONS = new ServerOptions;
  HasServerSave_0.value_0 && $add_9(this.loadoptions, SEVER_OPTIONS.contentsPanel, ' (..From Server) ');
  LoadFromTextPage = new VerticalPanel;
  $setHorizontalAlignment_0(LoadFromTextPage, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_5(LoadFromTextPage, this.loadDataPastedBelow);
  $setSize(this.loadDataTextbox, '100%', '200px');
  $add_5(LoadFromTextPage, this.loadDataTextbox);
  $add_10(this.loadoptions, LoadFromTextPage, ' (..From Text) ');
  $selectTab_0(this.loadoptions, 0);
  $setHorizontalAlignment_0(this.contents, ALIGN_CENTER);
  $add_5(this.contents, this.loadoptions);
  $add_5(this.contents, this.loadingFeedback);
  DebugMode.value_0 && $add_5(this.contents, this.expirementalReset);
  $setHorizontalAlignment_0(this.contents, ALIGN_CENTER);
  $info_1(Log_69, 'adding center widget');
  $setCenterWidget(this, this.contents);
  $setPixelSize(this, this.width_0, this.height_0);
  $setWidth(this.contents, '100%');
  $setHeight(this.contents, '100%');
  $setStylePrimaryName(this.contents, 'loadsavegameboxinner');
  ($clinit_DOM() , this.element).style['zIndex'] = '50000';
  $addDomHandler(this.loadDataPastedBelow, new LoadSaveGamePopup$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $setLoadRequested(this.localStoreManager, new LoadSaveGamePopup$2(this));
}

defineClass(666, 65, $intern_123, LoadSaveGamePopup);
_.CloseDefault = function CloseDefault_22(){
  $CloseDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
_.OpenDefault = function OpenDefault_19(){
  $OpenDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
_.show = function show_1(){
  var ScreenSizeX, InventorySizeX, NumOfSaves, InventorySizeY, RInventorySizeX, RInventorySizeY;
  $show(this);
  $info_1(Log_69, 'popping up load game box');
  $populateCurrentStoredData(this.localStoreManager);
  ScreenSizeX = $getClientWidth($doc);
  $getClientHeight($doc);
  InventorySizeX = 100 * ~~(ScreenSizeX / 150);
  NumOfSaves = this.localStoreManager.SaveIconList.children.size_0 - 1;
  InventorySizeY = 100 + Math.round(~~(NumOfSaves / ~~(InventorySizeX / 100))) * 100;
  RInventorySizeX = round_int((InventorySizeX + 50) / 100) * 100;
  RInventorySizeY = 20 + round_int((InventorySizeY + 50) / 100) * 100;
  $setWidth_0(this, RInventorySizeX + 'px');
  $setHeight_0(this, RInventorySizeY + 'px');
}
;
_.height_0 = 0;
_.width_0 = 0;
var SEVER_OPTIONS;
var Lcom_lostagain_JamGwt_LoadSaveGamePopup_2_classLit = createForClass('com.lostagain.JamGwt', 'LoadSaveGamePopup', 666, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function LoadSaveGamePopup$1(this$0){
  this.this$01 = this$0;
}

defineClass(667, 1, $intern_17, LoadSaveGamePopup$1);
_.onClick = function onClick_88(event_0){
  var dataToLoad;
  dataToLoad = $trim($getPropertyString($getElement(this.this$01.loadDataTextbox), 'value'));
  dataToLoad = __substr(dataToLoad, 13, dataToLoad.length - 13);
  $info_1(($clinit_TitledPopUpWithShadow() , Log_69), 'loading data:' + dataToLoad);
  decompressAndLoad(dataToLoad, true);
}
;
var Lcom_lostagain_JamGwt_LoadSaveGamePopup$1_2_classLit = createForClass('com.lostagain.JamGwt', 'LoadSaveGamePopup/1', 667, Ljava_lang_Object_2_classLit);
function $load(this$static, incommingLoadData){
  $info_1(($clinit_TitledPopUpWithShadow() , Log_69), 'restting game:');
  if ($getValue_0(this$static.this$01.expirementalReset).value_0) {
    $setText_0(this$static.this$01.loadingFeedback, 'expirmental reset running');
    $clinit_GameManagementClass();
    $severe_0(Log_32, 'Expiremental RESET does not yet work fully!!!');
    $severe_0(Log_32, 'clearInventoryAndVariables (test)!!!');
    clearInventorysAndVariables();
  }
   else {
    $setText_0(this$static.this$01.loadingFeedback, 'clearing all game data');
    clearAllGameData();
  }
  $setText_0(this$static.this$01.loadingFeedback, 'loading...');
  $CloseDefault_0(($clinit_JAM() , loadGamePopup));
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
  $info_1(Log_69, 'loading data:' + incommingLoadData);
  decompressAndLoad(incommingLoadData, false);
  $setText_0(this$static.this$01.loadingFeedback, '');
}

function LoadSaveGamePopup$2(this$0){
  this.this$01 = this$0;
}

defineClass(668, 1, {}, LoadSaveGamePopup$2);
var Lcom_lostagain_JamGwt_LoadSaveGamePopup$2_2_classLit = createForClass('com.lostagain.JamGwt', 'LoadSaveGamePopup/2', 668, Ljava_lang_Object_2_classLit);
function $clinit_LoginBox(){
  $clinit_LoginBox = emptyMethod;
  $clinit_TitledPopUpWithShadow();
  Log_101 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.LoginBox'));
}

function $LoginUser(this$static){
  $info_1(Log_101, 'LoginUser processor');
  $clinit_JAMcore();
  loggedIn = true;
  SwapUserSpecificWords();
  $updateStatus(($clinit_SaveGameManager() , SEVER_OPTIONS_0));
  $updateStatus(($clinit_TitledPopUpWithShadow() , SEVER_OPTIONS));
  $CloseDefault_0(this$static);
  !($clinit_JAM() , loadGamePopup).showing && !saveGamePopup.contentPanel.showing && StartFromURL.length < 2 && $OpenOnServerOptions(loadGamePopup);
}

function LoginBox(){
  $clinit_LoginBox();
  var LoginAndClearCookes, UserAccountOptions, h;
  TitledPopUpWithShadow_0.call(this, 'auto', 'Login Box', new Label_1('loading...'), true);
  this.AllowLogin = false;
  new Grid_0(3);
  this.signupbox = new SignUpBox;
  this.forgotpasswordbox = new ForgotPasswordBox;
  this.container = new VerticalPanel;
  this.form_container = new Grid_0(4);
  this.login_form = new FormPanel;
  this.login_button = new Button('Login');
  this.username = new TextBox;
  this.password = new PasswordTextBox;
  this.rememberme = new CheckBox;
  this.lab_name = new Label_1(($clinit_GamesInterfaceTextCore() , Login_Username));
  this.lab_password = new Label_1(Login_Password);
  this.lab_rememberme = new Label_1(Login_Rememberme);
  this.lab_loginplease = new Label_1(Login_PleaseLogin);
  this.err_name = new HTML_1(' ');
  new HTML_1(' ');
  this.err_password = new HTML_1(' ');
  this.errorlist = '';
  this.signup = new Anchor_1(Login_SignUp, '#');
  this.guestlogin = new Anchor_1(Login_GuestLogin, '#');
  this.forgotpassword = new Anchor_1(Login_ForgotPassword, '#');
  this.clearcookies = new Anchor_1(Login_ClearCookies, '#');
  $info_1(Log_101, 'setting up login box');
  $setCenterWidget(this, this.container);
  this.isAnimationEnabled = true;
  $setWidth(this.container, '100%');
  $setStyleName(this.container, 'loginback');
  $setMethod(this.login_form);
  $setEncoding(this.login_form);
  $setName_1(this.username, 'user');
  $setName_1(this.password, 'pass');
  this.rememberme.setName('remember');
  $setWidth_0(this, '380px');
  $setWidget_0(this.form_container, 1, 0, this.lab_password);
  $setWidget_0(this.form_container, 0, 0, this.lab_name);
  $setWidget_0(this.form_container, 2, 0, this.lab_rememberme);
  $setWidget_0(this.form_container, 1, 1, this.password);
  $setWidget_0(this.form_container, 0, 1, this.username);
  $setWidget_0(this.form_container, 1, 2, this.err_password);
  $setWidget_0(this.form_container, 0, 2, this.err_name);
  $setWidget_0(this.form_container, 2, 1, this.rememberme);
  $info_1(Log_101, 'setting up login  box 2');
  h = new Hidden('sublogin');
  $setWidget_0(this.form_container, 3, 0, h);
  $add_2(this.login_form, this.form_container);
  $addDomHandler(this.password, new LoginBox$1(this), ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_6));
  $addDomHandler(this.login_button, new LoginBox$2(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addHandler(this.login_form, new LoginBox$3(this), (!TYPE_29 && (TYPE_29 = new GwtEvent$Type) , TYPE_29));
  $addDomHandler(this.signup, new LoginBox$4(this), (null , TYPE_1));
  $addDomHandler(this.forgotpassword, new LoginBox$5(this), (null , TYPE_1));
  $add_5(this.container, this.login_form);
  UserAccountOptions = new HorizontalPanel;
  ($clinit_DOM() , UserAccountOptions.element).style['width'] = '100%';
  $add_4(UserAccountOptions, this.signup);
  $setCellHorizontalAlignment_0(UserAccountOptions, this.signup, ($clinit_HasHorizontalAlignment() , ALIGN_LEFT));
  $add_4(UserAccountOptions, this.forgotpassword);
  $setCellHorizontalAlignment_0(UserAccountOptions, this.forgotpassword, ALIGN_RIGHT);
  $add_5(this.container, UserAccountOptions);
  LoginAndClearCookes = new HorizontalPanel;
  $add_4(LoginAndClearCookes, this.guestlogin);
  $setCellHorizontalAlignment_0(LoginAndClearCookes, this.guestlogin, ALIGN_LEFT);
  LoginAndClearCookes.element.style['width'] = '100%';
  $add_4(LoginAndClearCookes, this.login_button);
  $setCellHorizontalAlignment_0(LoginAndClearCookes, this.login_button, ALIGN_RIGHT);
  $add_4(LoginAndClearCookes, this.clearcookies);
  $setCellHorizontalAlignment_0(LoginAndClearCookes, this.clearcookies, ALIGN_RIGHT);
  $setCellWidth(LoginAndClearCookes, this.clearcookies, '45%');
  $add_5(this.container, LoginAndClearCookes);
  $addDomHandler(this.guestlogin, new LoginBox$6, (null , TYPE_1));
  $addDomHandler(this.clearcookies, new LoginBox$7, (null , TYPE_1));
  $setSpacing(this.container, 4);
  $setCellHorizontalAlignment_0(this.container, this.login_button, ALIGN_CENTER);
}

defineClass(961, 65, $intern_123, LoginBox);
_.AllowLogin = false;
var Log_101;
var Lcom_lostagain_JamGwt_LoginBox_2_classLit = createForClass('com.lostagain.JamGwt', 'LoginBox', 961, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function LoginBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(962, 1, $intern_40, LoginBox$1);
_.onKeyDown = function onKeyDown_2(event_0){
  var Key;
  Key = $eventGetKeyCode(event_0.nativeEvent);
  if (Key == 13) {
    this.this$01.AllowLogin = true;
    $info_1(($clinit_LoginBox() , Log_101), 'Allow login =' + this.this$01.AllowLogin);
    $setText_4(this.this$01.password, $trim(RemoveCartReturns($getText(this.this$01.password))));
    $setAction_0(this.this$01.login_form, 'Login_System/LoginUser.php');
    $submit(this.this$01.login_form);
  }
}
;
var Lcom_lostagain_JamGwt_LoginBox$1_2_classLit = createForClass('com.lostagain.JamGwt', 'LoginBox/1', 962, Ljava_lang_Object_2_classLit);
function LoginBox$2(this$0){
  this.this$01 = this$0;
}

defineClass(963, 1, $intern_17, LoginBox$2);
_.onClick = function onClick_89(event_0){
  this.this$01.AllowLogin = true;
  $setAction_0(this.this$01.login_form, 'Login_System/LoginUser.php');
  $submit(this.this$01.login_form);
}
;
var Lcom_lostagain_JamGwt_LoginBox$2_2_classLit = createForClass('com.lostagain.JamGwt', 'LoginBox/2', 963, Ljava_lang_Object_2_classLit);
function LoginBox$3(this$0){
  this.this$01 = this$0;
}

defineClass(964, 1, $intern_130, LoginBox$3);
_.onSubmitComplete_0 = function onSubmitComplete_2(event_0){
  $info_1(($clinit_LoginBox() , Log_101), 'Login:' + event_0.resultHtml);
  if (this.this$01.AllowLogin) {
    $setHTML(this.this$01.err_name, '');
    $setHTML(this.this$01.err_password, '');
    if ($startsWith(event_0.resultHtml, 'ERROR_')) {
      $info_1(Log_101, 'Login had error');
      this.this$01.errorlist = $substring(event_0.resultHtml, event_0.resultHtml.indexOf('ERROR') + 5);
      $setHTML(this.this$01.err_name, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_usererror=') + 11, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_usererror=') + 11)));
      $setHTML(this.this$01.err_password, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_passworderror=') + 15, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_passworderror=') + 15)));
    }
     else {
      $info_1(Log_101, 'Login, no error');
      $clinit_JAMcore();
      Username = event_0.resultHtml;
      $LoginUser(this.this$01);
    }
  }
   else {
    alert_0('incorrect login session');
    $logoutUser(($clinit_SaveGameManager() , $clinit_Boolean() , $clinit_Boolean() , FALSE_2));
  }
}
;
var Lcom_lostagain_JamGwt_LoginBox$3_2_classLit = createForClass('com.lostagain.JamGwt', 'LoginBox/3', 964, Ljava_lang_Object_2_classLit);
function LoginBox$4(this$0){
  this.this$01 = this$0;
}

defineClass(965, 1, $intern_17, LoginBox$4);
_.onClick = function onClick_90(event_0){
  $OpenDefault_0(this.this$01.signupbox);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_LoginBox$4_2_classLit = createForClass('com.lostagain.JamGwt', 'LoginBox/4', 965, Ljava_lang_Object_2_classLit);
function LoginBox$5(this$0){
  this.this$01 = this$0;
}

defineClass(966, 1, $intern_17, LoginBox$5);
_.onClick = function onClick_91(event_0){
  $OpenDefault_0(this.this$01.forgotpasswordbox);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_LoginBox$5_2_classLit = createForClass('com.lostagain.JamGwt', 'LoginBox/5', 966, Ljava_lang_Object_2_classLit);
function LoginBox$6(){
}

defineClass(967, 1, $intern_17, LoginBox$6);
_.onClick = function onClick_92(event_0){
  if (!($clinit_JAMcore() , StartOfScriptProcessed)) {
    loadGameData('newuser', true);
    $setHTML(($clinit_JAM() , messagehistory_0).messageslist, 'Welkom gastspeler. Als u uw spelgang wil opslaan, zult u zich moeten registreren.');
    maingameloop();
  }
  resizeStoryBox();
  Username = 'The Player';
  Organisation = 'pc';
  $info_1(($clinit_LoginBox() , Log_101), 'hiding all login boxs');
  $CloseDefault_0(($clinit_ServerOptions() , user_login));
  $CloseDefault_0(($clinit_JAM() , loadGamePopup));
  IgnoreKeyPresses = false;
  $CloseDefault_4(saveGamePopup.contentPanel);
}
;
var Lcom_lostagain_JamGwt_LoginBox$6_2_classLit = createForClass('com.lostagain.JamGwt', 'LoginBox/6', 967, Ljava_lang_Object_2_classLit);
function LoginBox$7(){
}

defineClass(968, 1, $intern_17, LoginBox$7);
_.onClick = function onClick_93(event_0){
  var cookieit, cookin;
  cookieit = $iterator_4(new AbstractMap$1(ensureCookies()));
  cookin = dynamicCast($toArray(new AbstractMap$1(ensureCookies()), initDim(Ljava_lang_String_2_classLit, $intern_11, 2, 0, 4, 1)), 139)[0];
  setCookie(cookin, '', new Date_1(sub_0(fromDouble((new Date_0).jsdate.getTime()), {l:2513920, m:20, h:0})));
  removeCookie(cookin);
  while (cookieit.val$outerIter2.hasNext()) {
    removeCookie(dynamicCastToString($next_7(cookieit)));
  }
}
;
var Lcom_lostagain_JamGwt_LoginBox$7_2_classLit = createForClass('com.lostagain.JamGwt', 'LoginBox/7', 968, Ljava_lang_Object_2_classLit);
function $clinit_ResetGameBox(){
  $clinit_ResetGameBox = emptyMethod;
  $clinit_TitledPopUpWithShadow();
  Log_102 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.ResetGameBox'));
}

function $refreshText_1(this$static){
  $setText(this$static.resetgamebutton, ($clinit_GamesInterfaceTextCore() , GameReset_Button));
  $setText_0(this$static.lab_warning, GameReset_Warning);
}

function ResetGameBox(){
  $clinit_ResetGameBox();
  var h;
  TitledPopUpWithShadow_0.call(this, 'auto', 'Change Password Box:', new Label_1('loading...'), true);
  new Grid_0(3);
  this.container = new VerticalPanel;
  this.form_container = new Grid_0(4);
  this.resetgame_form = new FormPanel;
  this.resetgamebutton = new Button(($clinit_GamesInterfaceTextCore() , GameReset_Button));
  this.username = new TextBox;
  this.curpassword = new PasswordTextBox;
  this.lab_curpassword = new Label_1('Reenter Password:');
  this.lab_warning = new Label_1(GameReset_Warning);
  this.err_curpassword = new HTML_1('-');
  this.errorlist = '';
  this.loginlink = new Anchor_1('<<Back', '#');
  this.thisResetGameBox = this;
  $info_1(Log_102, 'setting up ResetGameBox');
  $setCenterWidget(this, this.container);
  this.isAnimationEnabled = true;
  $setWidth(this.container, '100%');
  $setStyleName(this.container, 'resetgamebox');
  $setMethod(this.resetgame_form);
  $setEncoding(this.resetgame_form);
  $setName_1(this.username, 'user');
  $setName_1(this.curpassword, 'curpass');
  $setWidth_0(this, '400px');
  $setWidget_0(this.form_container, 2, 0, this.lab_curpassword);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 2, 0, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));
  $setWidget_0(this.form_container, 2, 1, this.curpassword);
  $setWidget_0(this.form_container, 2, 2, this.err_curpassword);
  h = new Hidden('subedit');
  $setWidget_0(this.form_container, 3, 0, h);
  $add_2(this.resetgame_form, this.form_container);
  $setWidth(this.form_container, '100%');
  $setHeight(this.form_container, '110px');
  $add_5(this.container, this.resetgame_form);
  $add_5(this.container, this.lab_warning);
  $add_5(this.container, this.resetgamebutton);
  $addDomHandler(this.resetgamebutton, new ResetGameBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addHandler(this.resetgame_form, new ResetGameBox$2(this), (!TYPE_30 && (TYPE_30 = new GwtEvent$Type) , TYPE_30));
  $addHandler(this.resetgame_form, new ResetGameBox$3(this), (!TYPE_29 && (TYPE_29 = new GwtEvent$Type) , TYPE_29));
  $addDomHandler(this.loginlink, new ResetGameBox$4(this), (null , TYPE_1));
  $add_5(this.container, this.loginlink);
  $setCellHorizontalAlignment_0(this.container, this.loginlink, ALIGN_LEFT);
  $setSpacing(this.container, 4);
  $setCellHorizontalAlignment_0(this.container, this.resetgamebutton, ALIGN_CENTER);
}

defineClass(458, 65, $intern_123, ResetGameBox);
_.CloseDefault = function CloseDefault_23(){
  $CloseDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
_.OpenDefault = function OpenDefault_20(){
  $OpenDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Log_102;
var Lcom_lostagain_JamGwt_ResetGameBox_2_classLit = createForClass('com.lostagain.JamGwt', 'ResetGameBox', 458, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function ResetGameBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(923, 1, $intern_17, ResetGameBox$1);
_.onClick = function onClick_94(event_0){
  $setAction_0(this.this$01.resetgame_form, 'Login_System/ResetAccount.php');
  $submit(this.this$01.resetgame_form);
}
;
var Lcom_lostagain_JamGwt_ResetGameBox$1_2_classLit = createForClass('com.lostagain.JamGwt', 'ResetGameBox/1', 923, Ljava_lang_Object_2_classLit);
function ResetGameBox$2(this$0){
  this.this$01 = this$0;
}

defineClass(924, 1, {6:1, 1459:1}, ResetGameBox$2);
_.onSubmit_0 = function onSubmit_2(event_0){
  $setHTML(this.this$01.err_curpassword, '');
}
;
var Lcom_lostagain_JamGwt_ResetGameBox$2_2_classLit = createForClass('com.lostagain.JamGwt', 'ResetGameBox/2', 924, Ljava_lang_Object_2_classLit);
function ResetGameBox$3(this$0){
  this.this$01 = this$0;
}

defineClass(925, 1, $intern_130, ResetGameBox$3);
_.onSubmitComplete_0 = function onSubmitComplete_3(event_0){
  this.this$01.errorlist = '';
  if ($startsWith(event_0.resultHtml, 'ERROR')) {
    this.this$01.errorlist = $substring(event_0.resultHtml, event_0.resultHtml.indexOf('ERROR') + 5);
    $setHTML(this.this$01.err_curpassword, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_curpassworderror=') + 18, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_curpassworderror=') + 18)));
  }
   else {
    $setText_9(($clinit_JAM() , Feedback), event_0.resultHtml, false);
  }
  if ($startsWith(event_0.resultHtml, 'SUCCESS')) {
    $setText_9(($clinit_JAM() , Feedback), 'Game Reset', false);
    $hide_0(($clinit_ServerOptions() , user_login).signupbox);
    $wnd.location.reload();
  }
}
;
var Lcom_lostagain_JamGwt_ResetGameBox$3_2_classLit = createForClass('com.lostagain.JamGwt', 'ResetGameBox/3', 925, Ljava_lang_Object_2_classLit);
function ResetGameBox$4(this$0){
  this.this$01 = this$0;
}

defineClass(926, 1, $intern_17, ResetGameBox$4);
_.onClick = function onClick_95(event_0){
  $hide_0(this.this$01.thisResetGameBox);
}
;
var Lcom_lostagain_JamGwt_ResetGameBox$4_2_classLit = createForClass('com.lostagain.JamGwt', 'ResetGameBox/4', 926, Ljava_lang_Object_2_classLit);
function $clinit_SaveGameManager(){
  $clinit_SaveGameManager = emptyMethod;
  $clinit_JamSaveGameManager();
  Log_103 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.SaveGameManager'));
  SEVER_OPTIONS_0 = new ServerOptions;
  databox = new TextArea_0;
  saveToTextBox = new TextArea_0;
  contents_0 = new VerticalPanel;
  linkAndUpdate = new HorizontalPanel;
  loadAndReset = new HorizontalPanel;
  linkdoesntworkiniewarninglabel = new Label_1('Note; InternetExplorer is unable to load savegames from links due to it lacking support for urls this long. If you wish to save this way, please load your links on browsers that do like Opera,Firefox,Chrome or Safari');
  updateBut = new Button('Update link from box');
  emailLink = new Button('Email link to me');
  compressedlink = new Anchor_0;
  loadData = new Button('Load Box Data Into game');
  resetGameFirst_0 = new CheckBox_1('reset first');
  gsData = new Button('Save Data To Box');
  rdData = new Button('Reset Data');
}

function $CreateSaveString(){
  var GameValues, TempTabSet, currentItem, currentItem$iterator, currentLabel, currentPanel, inventoryName, inventoryName$iterator, it, it0, it1, item_it, itemsPopup, itemsState, lt_currentItem, lt_it, saveString, widgetnum;
  saveString = '';
  SetStoryPageScrollbars?(saveString = saveString + '\n- SetStoryPageScrollbars = on'):(saveString = saveString + '\n- SetStoryPageScrollbars = off');
  $info_1(Log_103, 'saving items...');
  for (inventoryName$iterator = $iterator_4(new AbstractMap$1(($clinit_JAMcore() , allInventorys))); inventoryName$iterator.val$outerIter2.hasNext();) {
    inventoryName = dynamicCastToString($next_7(inventoryName$iterator));
    currentPanel = dynamicCast(allInventorys.get_2(inventoryName), 136);
    currentPanel != ($clinit_InventoryPanelCore() , defaultInventory) && (saveString = saveString + '\n- AddInventory = ' + inventoryName + ',' + $toString_1(currentPanel.CurrentInventoryMode) + ',' + (currentPanel.InventorysButton.animation.lastFrameNum + 1));
    for (item_it = new AbstractList$IteratorImpl(currentPanel.inventorysCurrentItems); item_it.i < item_it.this$01_0.size_1();) {
      currentItem = (checkCriticalElement(item_it.i < item_it.this$01_0.size_1()) , dynamicCast(item_it.this$01_0.get_0(item_it.last = item_it.i++), 178));
      saveString = saveString + '\n- AddItem = ' + currentItem.objectsCurrentState_2.ObjectsName + ',' + inventoryName;
      itemsPopup = currentItem.PopUp;
      $info_1(Log_103, 'saving item of type:' + itemsPopup.___clazz$);
      itemsState = itemsPopup.getState();
      if (itemsState != null && !!itemsState.length) {
        $info_1(Log_103, 'items State:' + itemsState);
        saveString = saveString + '\n- SetItemState = ' + currentItem.objectsCurrentState_2.ObjectsName + ',' + itemsState;
      }
    }
  }
  $info_1(Log_103, 'saving profiles...');
  for (it0 = new AbstractList$IteratorImpl(PlayersNotepad.LoadedPages); it0.i < it0.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it0.i < it0.this$01_0.size_1()) , dynamicCastToString(it0.this$01_0.get_0(it0.last = it0.i++)));
    saveString = saveString + '\n- AddProfile = ' + currentItem;
  }
  $info_1(Log_103, 'saving chapters...');
  for (currentItem$iterator = new WidgetCollection$WidgetIterator(($clinit_JAM() , ChapterList_0).VTabPanel.children); currentItem$iterator.index_0 < currentItem$iterator.this$01.size_0;) {
    currentItem = $next_4(currentItem$iterator);
    $info_1(Log_103, 'number of chaps=' + ChapterList_0.VTabPanel.children.size_0);
    currentLabel = dynamicCast(dynamicCast(currentItem, 238).widget, 5);
    saveString = saveString + '\n- NewChapter = "' + $getTextOrHtml(currentLabel.directionalTextHelper, false) + '"';
    $info_1(Log_103, 'saving chapter...' + $getTextOrHtml(currentLabel.directionalTextHelper, false));
    ($clinit_System() , out_0).print_0(saveString);
    widgetnum = $getWidgetIndex(ChapterList_0.VTabPanel, currentItem);
    $info_1(Log_103, '--' + widgetnum);
    $info_1(Log_103, '--' + ChapterList_0.PanelsToTriggerList[widgetnum]);
    TempTabSet = dynamicCast($get(($clinit_GameManagementClass() , AllSceneAndPageSets), ChapterList_0.PanelsToTriggerList[widgetnum]), 230);
    $info_1(Log_103, '--' + dynamicCast($get(AllSceneAndPageSets, 0), 230).OpenPagesInSet.array.length);
    for (lt_it = new AbstractList$IteratorImpl(TempTabSet.OpenPagesInSet); lt_it.i < lt_it.this$01_0.size_1();) {
      lt_currentItem = (checkCriticalElement(lt_it.i < lt_it.this$01_0.size_1()) , dynamicCastToString(lt_it.this$01_0.get_0(lt_it.last = lt_it.i++)));
      if ($endsWith(lt_currentItem, '__scene')) {
        lt_currentItem = $substring_0(lt_currentItem, 0, lt_currentItem.length - 7);
        saveString = saveString + '\n- LoadSceneSilently = ' + lt_currentItem + ',' + lt_currentItem + ',false';
      }
       else {
        saveString = saveString + '\n- StoryBox = ' + lt_currentItem + '.html';
      }
      out_0.print_0('=' + saveString);
    }
  }
  $info_1(Log_103, 'saving music...');
  for (it1 = new AbstractList$IteratorImpl(($clinit_MusicBoxCore() , musicTracks)); it1.i < it1.this$01_0.size_1();) {
    currentItem = (checkCriticalElement(it1.i < it1.this$01_0.size_1()) , dynamicCastToString(it1.this$01_0.get_0(it1.last = it1.i++)));
    compareTo_5(currentItem, ' -NONE- ') != 0 && (saveString = saveString + '\n- AddMusicTrack = ' + currentItem);
    $info_1(Log_103, saveString);
  }
  $info_1(Log_103, 'saving secrets...');
  for (it = new WidgetCollection$WidgetIterator(SecretPanel.children); it.index_0 < it.this$01.size_0;) {
    currentItem = dynamicCast($next_4(it), 199);
    saveString = saveString + '\n- AddSecret = ' + $getTextOrHtml(currentItem.directionalTextHelper, false) + ',' + $getPropertyString(($clinit_DOM() , currentItem.element), 'title');
    $info_1(Log_103, saveString);
  }
  GameValues = $serialiseForSave(($clinit_GameVariableManagement() , GameVariables));
  saveString = saveString + '\n' + GameValues;
  $info_1(Log_103, 'saving setting; clues...');
  $ClueArrayAsString(playersClues).length > 1 && (saveString = saveString + '\n- SetClueBox = ' + $ClueArrayAsString(playersClues));
  GameLogger.info_0($ClueArrayAsString(playersClues));
  $info_1(Log_103, 'saving setting; score...');
  PlayersScore.CurrentScore != 0 && (saveString = saveString + '\n- SetScore = ' + PlayersScore.CurrentScore);
  saveString = saveString + '\n- PointsAwardedFor = ' + ScoresAwarded;
  $info_1(Log_103, 'saving setting ;background...');
  saveString = saveString + '\n- SetBackgroundImage = ' + $getAttribute(getBodyElement(), 'background');
  saveString = saveString + '\n- PlayMusicTrack = ' + currentTrack;
  $info_1(Log_103, 'saving setting ;icons...');
  StatueHead.originalfilename.length > 3 && (saveString = saveString + '\n- SetClockLadyIcon = ' + StatueHead.originalfilename + '.' + StatueHead.filenameext + ',' + (StatueHead.animation.lastFrameNum + 1));
  solider.originalfilename.length > 3 && (saveString = saveString + '\n- SetSoldierIcon = ' + solider.originalfilename + '.' + solider.filenameext + ',' + (solider.animation.lastFrameNum + 1));
  DefaultInventorysButton.originalfilename.length > 3?(saveString = saveString + '\n- SetInventoryIcon = ' + DefaultInventorysButton.originalfilename + '.' + DefaultInventorysButton.filenameext + ',' + (DefaultInventorysButton.animation.lastFrameNum + 1)):equals_Ljava_lang_Object__Z__devirtual$(BigInventoryImages, ($clinit_JamImages() , BigMarInventoryImages)) && (saveString = saveString + '\n- SetInventoryIcon = magrietbag0.png,6');
  saveString = saveString + '\n';
  GameLogger.info_0(saveString);
  $info_1(Log_103, 'SaveString = ' + saveString);
  return saveString;
}

function $SaveToLocalStorageRequested(this$static, saveNameRequested){
  var SaveGaveData, defaultname, onConfirm;
  $info_1(Log_103, 'SaveToLocalStorageRequested with key:' + saveNameRequested);
  if (saveNameRequested == null || saveNameRequested == '') {
    defaultname = ($clinit_JAMcore() , usersCurrentLocation);
    $askForFileNameToCreateSave(this$static, defaultname);
    return;
  }
  if ($keyExists(this$static.localStoreManager, saveNameRequested)) {
    $info_1(Log_103, 'key already exists');
    onConfirm = new SaveGameManager$15(this$static, saveNameRequested);
    $askForConfirm(onConfirm, 'Do you wish to overwrite ?');
    return;
  }
  SaveGaveData = current_save_string;
  $SaveData(this$static.localStoreManager, saveNameRequested, SaveGaveData, true);
}

function $askForConfirm(onConfirm, message){
  var OkCancel, askForConfirm, cancel, contents, ok;
  askForConfirm = new PopupPanel;
  setStyleName($getParentElement(($clinit_DOM() , $getFirstChildElement(askForConfirm.element))), 'SaveIconBack', true);
  cancel = new Button(($clinit_GamesInterfaceTextCore() , MainGame_GeneralCancel));
  ok = new Button(MainGame_GeneralOk);
  cancel.element.style['height'] = '50px';
  ok.element.style['height'] = '50px';
  $addDomHandler(ok, new SaveGameManager$16(onConfirm, askForConfirm), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(cancel, new SaveGameManager$17(askForConfirm), (null , TYPE_1));
  OkCancel = new HorizontalPanel;
  $setPropertyInt(OkCancel.table, 'cellSpacing', 5);
  $add_4(OkCancel, ok);
  $add_4(OkCancel, cancel);
  contents = new VerticalPanel;
  $setPropertyInt(contents.table, 'cellSpacing', 5);
  $setHorizontalAlignment_0(contents, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_5(contents, new Label_1(message));
  $add_5(contents, OkCancel);
  $setWidth_0(askForConfirm, '300px');
  $setHeight_0(askForConfirm, '200px');
  $add_2(askForConfirm, contents);
  $setGlassEnabled(askForConfirm);
  askForConfirm.modal = true;
  askForConfirm.previewAllNativeEvents = true;
  askForConfirm.element.style['zIndex'] = '999999999';
  $center(askForConfirm);
}

function $askForEmailToSendLink(){
  var Link_0, OkCancel, askForName, askForNameContents, bit, bit$iterator, cancel, data_0, databits, message, nameBox, ok, savecontents, url_0;
  askForName = new PopupPanel;
  askForNameContents = new VerticalPanel;
  nameBox = new TextBox;
  $setPropertyString(($clinit_DOM() , nameBox.element), 'value', '');
  cancel = new Button('Cancel');
  ok = new Button('Send Email');
  cancel.element.style['height'] = '50px';
  ok.element.style['height'] = '50px';
  savecontents = $getAnchorElement(compressedlink).href;
  savecontents = $substring_0(savecontents, 0, savecontents.length - 5);
  url_0 = $substring_0(savecontents, 0, savecontents.indexOf('#') + 1);
  data_0 = $substring(savecontents, savecontents.indexOf('#') + 1);
  data_0 = (throwIfNull('decodedURLComponent', data_0) , encodeQueryStringImpl(data_0));
  databits = splitToBitsOfLength(data_0, 70);
  data_0 = '\n\r';
  for (bit$iterator = new AbstractList$IteratorImpl(databits); bit$iterator.i < bit$iterator.this$01_0.size_1();) {
    bit = (checkCriticalElement(bit$iterator.i < bit$iterator.this$01_0.size_1()) , dynamicCastToString(bit$iterator.this$01_0.get_0(bit$iterator.last = bit$iterator.i++)));
    data_0 = data_0 + bit + '\n\r';
  }
  data_0 = data_0 + '__end';
  $info_1(Log_103, 'sending data:' + data_0);
  savecontents = url_0 + data_0;
  Link_0 = '<a href="' + savecontents + '"> \r\n (Your Save Game Link) \r\n <\/a>';
  message = '<html>\r\n<head>\r\n(note; you may have to tell your email program to view the full message for this link to work)\r\n<title>Your SaveGame:<\/title>\r\n<\/head>\r\n<body>\r\n' + Link_0 + '\r\n<\/body><\/html>\r\n';
  $addDomHandler(nameBox, new SaveGameManager$18(nameBox, message, askForName), ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_6));
  $addDomHandler(ok, new SaveGameManager$19(nameBox, message, askForName), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(cancel, new SaveGameManager$20(askForName), (null , TYPE_1));
  setStyleName(askForNameContents.element, 'SaveIconBack', true);
  askForNameContents.element.style['width'] = '100%';
  askForNameContents.element.style['height'] = '100%';
  $add_5(askForNameContents, new Label_1('Please enter the email :'));
  $add_5(askForNameContents, nameBox);
  OkCancel = new HorizontalPanel;
  $add_4(OkCancel, ok);
  $add_4(OkCancel, cancel);
  $setHorizontalAlignment_0(askForNameContents, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $add_5(askForNameContents, OkCancel);
  $setPropertyInt(askForNameContents.table, 'cellSpacing', 6);
  $add_2(askForName, askForNameContents);
  $setGlassEnabled(askForName);
  askForName.modal = true;
  askForName.previewAllNativeEvents = true;
  askForName.element.style['zIndex'] = '999999999';
  askForName.element.style['backgroundColor'] = 'white';
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
  $center(askForName);
  ($clinit_FocusWidget() , impl_2).focus_0(nameBox.element);
}

function $askForFileNameToCreateSave(this$static, defaultname){
  var OkCancel, askForName, askForNameContents, cancel, nameBox, ok;
  askForName = new PopupPanel;
  setStyleName($getParentElement(($clinit_DOM() , $getFirstChildElement(askForName.element))), 'SaveIconBack', true);
  askForNameContents = new VerticalPanel;
  nameBox = new TextBox;
  nameBox.element['value'] = defaultname != null?defaultname:'';
  cancel = new Button('Cancel');
  ok = new Button('Ok');
  $addDomHandler(nameBox, new SaveGameManager$21(this$static, nameBox, askForName), ($clinit_KeyDownEvent() , $clinit_KeyDownEvent() , TYPE_6));
  $addDomHandler(ok, new SaveGameManager$22(this$static, nameBox, askForName), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(cancel, new SaveGameManager$23(askForName), (null , TYPE_1));
  $add_5(askForNameContents, new Label_1('Please enter name of new savegame;'));
  $add_5(askForNameContents, nameBox);
  OkCancel = new HorizontalPanel;
  $add_4(OkCancel, ok);
  $add_4(OkCancel, cancel);
  $add_5(askForNameContents, OkCancel);
  $setPropertyInt(askForNameContents.table, 'cellSpacing', 6);
  $add_2(askForName, askForNameContents);
  $setGlassEnabled(askForName);
  askForName.modal = true;
  askForName.previewAllNativeEvents = true;
  askForName.element.style['zIndex'] = '999999999';
  askForName.element.style['backgroundColor'] = 'white';
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
  $center(askForName);
  ($clinit_FocusWidget() , impl_2).focus_0(nameBox.element);
}

function $confirmSaveDelete(this$static, SaveGameName){
  var onConfirm;
  onConfirm = new SaveGameManager$14(this$static, SaveGameName);
  $askForConfirm(onConfirm, 'Do you wish to delete ?');
}

function $display(){
  var displayCurrentScene, divIDthatschanged, divIDthatschanged$iterator, divthatschanged, finalData, inlinestyle, sceneSaveString, setScenesPosition, setlocation, standardSaveStuff;
  standardSaveStuff = '\n' + $CreateSaveString() + '\n';
  displayCurrentScene = '- SelectSceneSilently = ' + ($clinit_SceneObjectDatabase() , currentScene_0).scenesData.SceneFolderName + '\n';
  standardSaveStuff = standardSaveStuff + displayCurrentScene;
  $info_1(Log_103, 'saving setting ;location...');
  setlocation = '- SetLocation = ' + ($clinit_JAMcore() , usersCurrentLocation) + '\n';
  standardSaveStuff = standardSaveStuff + setlocation;
  setScenesPosition = '- SetScenePosition = ' + currentScene_0.currentState.PosX + ',' + currentScene_0.currentState.PosY + '\n';
  standardSaveStuff = standardSaveStuff + setScenesPosition;
  sceneSaveString = getAllScenesSaveString();
  for (divIDthatschanged$iterator = $iterator_4(new AbstractMap$1(($clinit_InstructionProcessor() , ChangedHtmlPageElement).map_0)); divIDthatschanged$iterator.val$outerIter2.hasNext();) {
    divIDthatschanged = dynamicCastToString($next_7(divIDthatschanged$iterator));
    divthatschanged = ($clinit_DOM() , $clinit_DOM() , $getElementById($doc, divIDthatschanged));
    standardSaveStuff = standardSaveStuff + '\n- SetClassOnElement = ' + divthatschanged.id + ',' + $getClassName(divthatschanged) + '\n';
    inlinestyle = $getAttribute(divthatschanged, 'style');
    standardSaveStuff = standardSaveStuff + '\n- SetStyleOnElement = ' + divthatschanged.id + ',' + inlinestyle + '\n';
  }
  sceneSaveString = sceneSaveString + '\n- Message = ' + ($clinit_JAM() , Feedback).currentText + '\n';
  finalData = standardSaveStuff + '\n' + sceneSaveString;
  displayData(finalData);
}

function $displayAndLoadDecompressedString(data_0, ClearGameFirst){
  ($clinit_JAMcore() , DebugMode).value_0 && displayData(data_0);
  loadGameData(data_0, ClearGameFirst);
}

function $refreshText_2(this$static){
  $refreshText(SEVER_OPTIONS_0);
  $setText_0(linkdoesntworkiniewarninglabel, ($clinit_GamesInterfaceTextCore() , ControllPanel_IECantDoLongLinks));
  $setTitlebBarText(this$static.contentPanel, MainGame_SaveYourGame);
  $setTabText(this$static.saveoptions.tabBar, 0, MainGame_ToThisBrowser);
  $setTabText(this$static.saveoptions.tabBar, 1, MainGame_AsAWebLink);
  if (($clinit_JAMcore() , HasServerSave_0).value_0) {
    $setTabText(this$static.saveoptions.tabBar, 2, MainGame_OnServer);
    $setTabText(this$static.saveoptions.tabBar, 3, MainGame_AsText);
  }
   else {
    $setTabText(this$static.saveoptions.tabBar, 2, MainGame_AsText);
  }
  $setLoadInstructions(this$static.localStoreManager, MainGame_NoteThisWillSaveYourGameOnThisPCAndBrowserOnly);
  $setText_1(compressedlink, MainGame_SaveStateAsCompressedLink);
  $setText(updateBut, MainGame_UpdateLinkFromBox);
  $setText(emailLink, MainGame_EmailLinkToMe);
  $setText(loadData, MainGame_LoadBoxDataIntoGame);
  $setText_2(resetGameFirst_0, MainGame_ResetFirst);
  $setText(gsData, MainGame_SaveDataToBox);
  $setText(rdData, MainGame_ResetData);
  $setText_0(this$static.saveDataPastedBelow, MainGame_ThisBigStringContainsYourSavegame);
}

function SaveGameManager(){
  $clinit_SaveGameManager();
  var saveToTextPage, serverpanel, weblinkpanel;
  this.localStoreManager = new SpiffySaveToLocalStorage(0, 450, ($clinit_JAMcore() , GameName));
  this.saveoptions = new DecoratedTabPanel;
  this.saveDataPastedBelow = new Label_1('This big string contains your savegame, you can copy and save this whereever you wish');
  this.contentPanel = new SaveGameManager$1(new Label_1('loading...'));
  $setPropertyImpl($getElement(this.contentPanel).style, 'maxWidth', '500px');
  $info_1(Log_103, 'setting up save manager');
  $setText_4(databox, 'loading...');
  $clear(contents_0);
  $setStylePrimaryName(contents_0, 'loadsavegameboxinner');
  $setHorizontalAlignment_0(contents_0, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setVerticalAlignment_0(contents_0, ($clinit_HasVerticalAlignment() , ALIGN_TOP));
  $info_1(Log_103, 'setting up link and update');
  $addDomHandler(updateBut, new SaveGameManager$2, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $setSaveRequested(this.localStoreManager, new SaveGameManager$3(this));
  $setRemoveSaveRequested(this.localStoreManager, new SaveGameManager$4(this));
  $addDomHandler(emailLink, new SaveGameManager$5, (null , TYPE_1));
  $info_1(Log_103, 'adding to contents');
  weblinkpanel = new VerticalPanel;
  $setSpacing(linkAndUpdate, 5);
  $add_4(linkAndUpdate, compressedlink);
  LocalFolderLocation_0.length < 3 && $add_4(linkAndUpdate, emailLink);
  DebugMode.value_0 && $add_4(linkAndUpdate, updateBut);
  ($clinit_DOM() , weblinkpanel.element).style['height'] = '200px';
  weblinkpanel.element.style['width'] = '100%';
  $setHorizontalAlignment_0(weblinkpanel, ALIGN_CENTER);
  $setVerticalAlignment_0(weblinkpanel, ALIGN_MIDDLE);
  $add_5(weblinkpanel, linkAndUpdate);
  $add_5(weblinkpanel, linkdoesntworkiniewarninglabel);
  serverpanel = new VerticalPanel;
  $setHorizontalAlignment_0(serverpanel, ALIGN_CENTER);
  serverpanel.element.style['height'] = '200px';
  serverpanel.element.style['width'] = '100%';
  $setVerticalAlignment_0(serverpanel, ALIGN_MIDDLE);
  $info_1(Log_103, 'creating SEVER_OPTIONS');
  $info_1(Log_103, 'adding SEVER_OPTIONS');
  $add_5(serverpanel, SEVER_OPTIONS_0.contentsPanel);
  saveToTextPage = new VerticalPanel;
  $setHorizontalAlignment_0(saveToTextPage, ALIGN_CENTER);
  saveToTextPage.element.style['height'] = '200px';
  saveToTextPage.element.style['width'] = '100%';
  $add_5(saveToTextPage, this.saveDataPastedBelow);
  $setCellHeight(saveToTextPage, this.saveDataPastedBelow, '40px');
  $setSize(this.saveDataPastedBelow, '100%', '40px');
  $setSize(saveToTextBox, '100%', '100%');
  $addDomHandler(saveToTextBox, new SaveGameManager$6, (null , TYPE_1));
  $addDomHandler(saveToTextBox, new SaveGameManager$7, ($clinit_FocusEvent() , $clinit_FocusEvent() , TYPE_5));
  $addDomHandler(saveToTextBox, new SaveGameManager$8, ($clinit_BlurEvent() , $clinit_BlurEvent() , TYPE));
  $add_5(saveToTextPage, saveToTextBox);
  $info_1(Log_103, 'creating tabs and adding save options');
  $setStylePrimaryName(this.saveoptions.tabBar, 'Inspector-TabBar');
  $add_10(this.saveoptions, this.localStoreManager, ' (...to This Browser) ');
  $add_10(this.saveoptions, weblinkpanel, ' (..as Web Link) ');
  HasServerSave_0.value_0 && $add_10(this.saveoptions, serverpanel, ' (..on Server) ');
  $add_10(this.saveoptions, saveToTextPage, ' (..as Text) ');
  $selectTab_0(this.saveoptions, 0);
  $setHorizontalAlignment_0(contents_0, ALIGN_CENTER);
  $add_5(contents_0, this.saveoptions);
  $info_1(Log_103, 'setting up loadAndReset');
  $add_4(loadAndReset, loadData);
  $info_1(Log_103, 'setting up loadAndReset and other buttons');
  $add_4(loadAndReset, resetGameFirst_0);
  $add_4(loadAndReset, gsData);
  $add_4(loadAndReset, rdData);
  $info_1(Log_103, 'adding loadAndReset because we are on debug mode');
  if (DebugMode.value_0) {
    $add_5(contents_0, databox);
    $add_5(contents_0, loadAndReset);
  }
  $info_1(Log_103, 'style stuff');
  $setHeight(contents_0, '100%');
  $setHeight(databox, '400px');
  $setWidth(databox, '500px');
  $addDomHandler(databox, new SaveGameManager$9, (null , TYPE_5));
  $addDomHandler(databox, new SaveGameManager$10, (null , TYPE));
  $info_1(Log_103, 'adding to widget in centert');
  $setCenterWidget(this.contentPanel, contents_0);
  $setWidth_0(this.contentPanel, '500px');
  $setText_1(compressedlink, '(-- Game Saved As Link --)');
  $setTarget_0(compressedlink);
  $setPropertyImpl($getElement(this.contentPanel).style, 'zIndex', '50000');
  $addDomHandler(gsData, new SaveGameManager$11, (null , TYPE_1));
  $addDomHandler(rdData, new SaveGameManager$12, (null , TYPE_1));
  $addDomHandler(loadData, new SaveGameManager$13, (null , TYPE_1));
}

function compressStringToLinkAndSaveString(compressthis){
  var runwhendone;
  runwhendone = new SaveGameManager$24;
  $info_1(Log_103, 'compressing String');
  CompressString(compressthis, runwhendone, new SaveGameManager$25);
}

function deseraliseAndRestoreStateFromString(state){
  var endpoint, sceneData, status_0;
  $clinit_SaveGameManager();
  var endmarkerpos, sceneeobjectsCurrentState, scenestate;
  if ($endsWith(state, '===ENDOFDATA')) {
    endmarkerpos = state.indexOf('===ENDOFDATA');
    state = state.substr(0, endmarkerpos);
  }
   else {
    $severe_0(Log_103, 'data is missing its end marker, so its probably been cropped off');
    $severe_0(Log_103, 'data is:' + state);
    $severe_0(Log_103, '_____________________________________________________________________');
    $severe_0(Log_103, '_____________________________________________________________________');
    $severe_0(Log_103, '_____________________________________________________________________');
    $severe_0(Log_103, '_____________________________________________________________________');
    return;
  }
  $setEnabled(loadData, false);
  $setText(loadData, 'Loading..');
  $setText_1(compressedlink, 'getting scene data... ');
  scenestate = (endpoint = state.indexOf('<\\scene>') , sceneData = state.substr(7, endpoint - 7) , $info_1(Log_103, 'got scene data=' + sceneData) , status_0 = new SceneStatus_0(sceneData) , $info_1(Log_103, ($ensureNamesAreInitialized(Lcom_lostagain_Jam_Scene_SceneStatus_2_classLit) , 'got scene state=' + (Lcom_lostagain_Jam_Scene_SceneStatus_2_classLit.typeName + '@' + toUnsignedRadixString(getHashCode(status_0), 16)))) , status_0);
  $setText_1(compressedlink, 'getting scene objects... ');
  sceneeobjectsCurrentState = getSceneObjects(state);
  $setText_1(compressedlink, 'loading state... ');
  loadState_12(scenestate, sceneeobjectsCurrentState);
  $setEnabled(loadData, true);
  $setText(loadData, 'Loaded..');
}

function displayData(displaydata){
  $setText_4(databox, displaydata);
  $OpenDefault_0(($clinit_JAM() , saveGamePopup).contentPanel);
  updateLink();
}

function getAllScenesSaveString(){
  var allScenesit, currentScene, data_0, scenesobjectsstate, tempState;
  data_0 = '';
  $info_1(Log_103, 'getting all scenes save strings');
  allScenesit = ($clinit_SceneWidget() , $iterator_5(new AbstractMap$2(all_scenes)));
  while (allScenesit.val$outerIter2.hasNext()) {
    currentScene = dynamicCast($next_8(allScenesit), 239);
    $info_1(Log_103, 'getting save string for:' + currentScene.SceneFileName);
    tempState = new SceneStatus_1(currentScene.currentState.SceneName, currentScene.currentState.PosX, currentScene.currentState.PosY, currentScene.currentState.NumOfTimesPlayerHasBeenHere, currentScene.currentState.currentBackground, currentScene.currentState.DynamicOverlayCSS, currentScene.currentState.StaticOverlayCSS, currentScene.currentState.hasNotBeenCurrentYet);
    currentScene.tempState = tempState;
    $info_1(Log_103, 'not been current:' + currentScene.currentState.hasNotBeenCurrentYet);
    $info_1(Log_103, 'serialised state:' + $seralise(currentScene.currentState));
    $info_1(Log_103, 'serialised temp state:' + $seralise(tempState));
    scenesobjectsstate = $getAllSceneObjectData(currentScene);
    data_0 = data_0 + getSceneSaveString(tempState, scenesobjectsstate);
  }
  return data_0;
}

function getSceneObjects(text_0){
  var array, endpoint, i, objectData, objectdata, startpoint, state;
  objectdata = new ArrayList;
  $info_1(Log_103, 'scene objects text.length() is: ' + text_0.length);
  i = 0;
  while (i < text_0.length) {
    startpoint = text_0.indexOf('<object>', i);
    endpoint = text_0.indexOf('<\\object>', startpoint);
    if (startpoint == -1) {
      break;
    }
    if (endpoint == -1) {
      $info_1(Log_103, 'no matching <\\object> found in object data.');
      $info_1(Log_103, 'startpoint was: ' + startpoint + ' i was:' + i);
      break;
    }
    objectData = $trim(text_0.substr(startpoint + 8, endpoint - (startpoint + 8)));
    state = null;
    $info_1(Log_103, 'Object data=' + objectData);
    if ($startsWith(objectData, $toString_1(($clinit_SceneObjectType() , Sprite)))) {
      $info_1(Log_103, 'loading data for a sprite ');
      state = new SceneSpriteObjectState_1(objectData);
    }
     else if ($startsWith(objectData, $toString_1(DialogBox))) {
      $info_1(Log_103, 'loading data for a DialogBox ');
      state = new SceneDialogObjectState_1(objectData);
    }
     else if ($startsWith(objectData, $toString_1(Label_4))) {
      $info_1(Log_103, 'loading data for a Label ');
      state = new SceneLabelObjectState_1(objectData);
    }
     else if ($startsWith(objectData, $toString_1(Div))) {
      $info_1(Log_103, 'loading data for a Div ');
      state = new SceneDivObjectState_3(objectData);
    }
     else if ($startsWith(objectData, $toString_1(Vector))) {
      $info_1(Log_103, 'loading data for a Vector ');
      state = new SceneVectorObjectState_1(objectData);
    }
     else if ($startsWith(objectData, $toString_1(Input_0))) {
      $info_1(Log_103, 'loading data for a Input ');
      state = new SceneInputObjectState_1(objectData);
    }
     else 
      $startsWith(objectData, $toString_1(InventoryIcon)) && $warning_0(Log_103, 'loading data for a InventoryIcon not yet supported!');
    state?objectdata.add_0(state):$severe_0(Log_103, 'could not load state:' + objectData + ' its likely a upsupported type');
    i = endpoint + 8;
  }
  objectdata.array.length == 0 && $info_1(Log_103, 'object data is size 0 ');
  $info_1(Log_103, 'converting to array:' + objectdata.array.length);
  array = initDim(Lcom_lostagain_Jam_SceneObjects_SceneObjectState_2_classLit, $intern_121, 112, objectdata.array.length, 0, 1);
  array = dynamicCast($toArray_1(objectdata, array), 1450);
  $info_1(Log_103, 'converted array:');
  return array;
}

function getSceneSaveString(tempState, sceneobjectsCurrentState){
  var data_0, sceneObjectData, sceneObjectData$index, sceneObjectData$max;
  data_0 = '\n';
  data_0 = data_0 + '- LoadSceneData=';
  data_0 = data_0 + '<scene>' + $seralise(tempState) + '<\\scene>';
  data_0 = data_0 + '';
  $info_1(Log_103, 'serialising objects');
  for (sceneObjectData$index = 0 , sceneObjectData$max = sceneobjectsCurrentState.length; sceneObjectData$index < sceneObjectData$max; ++sceneObjectData$index) {
    sceneObjectData = sceneobjectsCurrentState[sceneObjectData$index];
    if (!sceneObjectData) {
      continue;
    }
    $info_1(Log_103, 'seralising object' + sceneObjectData.ObjectsName);
    !!sceneObjectData.clonedFrom && $info_1(Log_103, 'cloned from:' + sceneObjectData.clonedFrom.getObjectsCurrentState_1().ObjectsName);
    data_0 = data_0 + '<object>' + $serialiseToString(sceneObjectData) + '' + '<\\object>';
  }
  data_0 = data_0 + '===ENDOFDATA' + '\n';
  return data_0;
}

function loadState_12(sceneState, sceneobjectsCurrentState){
  var sceneToAlter;
  $info_1(Log_103, '_________________________loading scene data ' + sceneState.SceneName);
  $setText_1(compressedlink, 'loading state... ' + sceneState.SceneName);
  sceneToAlter = getSceneByName(sceneState.SceneName);
  if (sceneToAlter) {
    $info_1(Log_103, ' loading scene data ' + sceneToAlter.SceneFolderLocation);
    sceneToAlter.ScenesLog.info_0('..');
    $loadSceneState(sceneToAlter, sceneState, sceneobjectsCurrentState);
  }
   else {
    $severe_0(Log_103, ' cant find scene ' + sceneState.SceneName);
    $severe_0(Log_103, ($clinit_SceneWidget() , ' cant find scene ' + $toString_0(new AbstractMap$2(all_scenes))));
  }
}

function updateLink(){
  $clinit_SaveGameManager();
  $setHref_0(compressedlink, 'needs update');
  $setText_1(compressedlink, ($clinit_GamesInterfaceTextCore() , MainGame_UpdatingPleaseWait));
  $setText(emailLink, MainGame_EmailLinkToMe);
  compressStringToLinkAndSaveString($getPropertyString($getElement(databox), 'value'));
}

defineClass(424, 180, {1451:1, 180:1}, SaveGameManager);
_.getVisualRepresentation = function getVisualRepresentation_23(){
  return this.contentPanel;
}
;
var Log_103, SEVER_OPTIONS_0, compressedlink, contents_0, current_save_string = '', databox, emailLink, gsData, linkAndUpdate, linkdoesntworkiniewarninglabel, loadAndReset, loadData, rdData, resetGameFirst_0, saveToTextBox, updateBut;
var Lcom_lostagain_JamGwt_SaveGameManager_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager', 424, Lcom_lostagain_Jam_SaveMangement_JamSaveGameManager_2_classLit);
function $CloseDefault_4(this$static){
  $CloseDefault_0(this$static);
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}

function SaveGameManager$1($anonymous4){
  $clinit_TitledPopUpWithShadow();
  TitledPopUpWithShadow_0.call(this, 'auto', 'Same Your Game;', $anonymous4, true);
}

defineClass(586, 65, $intern_123, SaveGameManager$1);
_.CloseDefault = function CloseDefault_24(){
  $CloseDefault_4(this);
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$1_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/1', 586, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function SaveGameManager$10(){
}

defineClass(595, 1, $intern_30, SaveGameManager$10);
_.onBlur = function onBlur_6(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$10_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/10', 595, Ljava_lang_Object_2_classLit);
function SaveGameManager$11(){
}

defineClass(596, 1, $intern_17, SaveGameManager$11);
_.onClick = function onClick_96(event_0){
  var SaveString;
  SaveString = $CreateSaveString();
  $setText_4(($clinit_SaveGameManager() , databox), SaveString);
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$11_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/11', 596, Ljava_lang_Object_2_classLit);
function SaveGameManager$12(){
}

defineClass(597, 1, $intern_17, SaveGameManager$12);
_.onClick = function onClick_97(event_0){
  clearAllGameData();
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$12_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/12', 597, Ljava_lang_Object_2_classLit);
function SaveGameManager$13(){
}

defineClass(598, 1, $intern_17, SaveGameManager$13);
_.onClick = function onClick_98(event_0){
  var commands;
  commands = $getPropertyString($getElement(($clinit_SaveGameManager() , databox)), 'value') + '\n';
  $info_1(Log_103, 'loading commands = ' + commands);
  $setText(loadData, 'processing commands:' + commands.length);
  loadGameData(commands, $getValue_0(resetGameFirst_0).value_0);
  $setText(loadData, 'done click to reload box');
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$13_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/13', 598, Ljava_lang_Object_2_classLit);
function SaveGameManager$14(this$0, val$SaveGameName){
  this.this$01 = this$0;
  this.val$SaveGameName2 = val$SaveGameName;
}

defineClass(599, 1, {}, SaveGameManager$14);
_.run = function run_95(){
  $removeSave(this.this$01.localStoreManager, this.val$SaveGameName2);
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$14_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/14', 599, Ljava_lang_Object_2_classLit);
function SaveGameManager$15(this$0, val$SaveGameName){
  this.this$01 = this$0;
  this.val$SaveGameName2 = val$SaveGameName;
}

defineClass(600, 1, {}, SaveGameManager$15);
_.run = function run_96(){
  var SaveGaveData;
  SaveGaveData = ($clinit_SaveGameManager() , current_save_string);
  $SaveData(this.this$01.localStoreManager, this.val$SaveGameName2, SaveGaveData, true);
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$15_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/15', 600, Ljava_lang_Object_2_classLit);
function SaveGameManager$16(val$onConfirm, val$askForConfirm){
  this.val$onConfirm2 = val$onConfirm;
  this.val$askForConfirm3 = val$askForConfirm;
}

defineClass(601, 1, $intern_17, SaveGameManager$16);
_.onClick = function onClick_99(event_0){
  this.val$onConfirm2.run();
  this.val$askForConfirm3.hide();
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$16_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/16', 601, Ljava_lang_Object_2_classLit);
function SaveGameManager$17(val$askForConfirm){
  this.val$askForConfirm2 = val$askForConfirm;
}

defineClass(602, 1, $intern_17, SaveGameManager$17);
_.onClick = function onClick_100(event_0){
  this.val$askForConfirm2.hide();
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$17_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/17', 602, Ljava_lang_Object_2_classLit);
function SaveGameManager$18(val$nameBox, val$message, val$askForName){
  this.val$nameBox2 = val$nameBox;
  this.val$message3 = val$message;
  this.val$askForName4 = val$askForName;
}

defineClass(603, 1, $intern_40, SaveGameManager$18);
_.onKeyDown = function onKeyDown_3(event_0){
  var emailReq;
  if ($eventGetKeyCode(event_0.nativeEvent) == 13) {
    emailReq = $getPropertyString($getElement(this.val$nameBox2), 'value');
    if (emailReq.length > 3 && emailReq.indexOf('@') != -1) {
      sendEmail(emailReq, 'Your Save Game Link', 'TheJamGameEngine', this.val$message3, true);
      $setText(($clinit_SaveGameManager() , emailLink), ($clinit_GamesInterfaceTextCore() , MainGame_EmailSent));
      this.val$askForName4.hide();
      $clinit_JAMcore();
      IgnoreKeyPresses = false;
    }
  }
  if ($eventGetKeyCode(event_0.nativeEvent) == 27) {
    this.val$askForName4.hide();
    $clinit_JAMcore();
    IgnoreKeyPresses = false;
  }
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$18_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/18', 603, Ljava_lang_Object_2_classLit);
function SaveGameManager$19(val$nameBox, val$message, val$askForName){
  this.val$nameBox2 = val$nameBox;
  this.val$message3 = val$message;
  this.val$askForName4 = val$askForName;
}

defineClass(604, 1, $intern_17, SaveGameManager$19);
_.onClick = function onClick_101(event_0){
  var emailReq;
  emailReq = $getPropertyString($getElement(this.val$nameBox2), 'value');
  if (emailReq.length > 3 && emailReq.indexOf('@') != -1) {
    sendEmail(emailReq, 'Your Save Game Link', 'TheJamGameEngine', this.val$message3, true);
    $setText(($clinit_SaveGameManager() , emailLink), ($clinit_GamesInterfaceTextCore() , MainGame_EmailSent));
    this.val$askForName4.hide();
    $clinit_JAMcore();
    IgnoreKeyPresses = false;
  }
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$19_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/19', 604, Ljava_lang_Object_2_classLit);
function SaveGameManager$2(){
}

defineClass(587, 1, $intern_17, SaveGameManager$2);
_.onClick = function onClick_102(event_0){
  updateLink();
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$2_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/2', 587, Ljava_lang_Object_2_classLit);
function SaveGameManager$20(val$askForName){
  this.val$askForName2 = val$askForName;
}

defineClass(605, 1, $intern_17, SaveGameManager$20);
_.onClick = function onClick_103(event_0){
  this.val$askForName2.hide();
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$20_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/20', 605, Ljava_lang_Object_2_classLit);
function SaveGameManager$21(this$0, val$nameBox, val$askForName){
  this.this$01 = this$0;
  this.val$nameBox2 = val$nameBox;
  this.val$askForName3 = val$askForName;
}

defineClass(606, 1, $intern_40, SaveGameManager$21);
_.onKeyDown = function onKeyDown_4(event_0){
  var namerequested;
  if ($eventGetKeyCode(event_0.nativeEvent) == 13) {
    namerequested = $getPropertyString($getElement(this.val$nameBox2), 'value');
    if (namerequested.length > 2) {
      $SaveToLocalStorageRequested(this.this$01, namerequested);
      this.val$askForName3.hide();
      $clinit_JAMcore();
      IgnoreKeyPresses = false;
    }
  }
  if ($eventGetKeyCode(event_0.nativeEvent) == 27) {
    this.val$askForName3.hide();
    $clinit_JAMcore();
    IgnoreKeyPresses = false;
  }
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$21_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/21', 606, Ljava_lang_Object_2_classLit);
function SaveGameManager$22(this$0, val$nameBox, val$askForName){
  this.this$01 = this$0;
  this.val$nameBox2 = val$nameBox;
  this.val$askForName3 = val$askForName;
}

defineClass(607, 1, $intern_17, SaveGameManager$22);
_.onClick = function onClick_104(event_0){
  var namerequested;
  namerequested = $getPropertyString($getElement(this.val$nameBox2), 'value');
  if (namerequested.length > 2) {
    $SaveToLocalStorageRequested(this.this$01, namerequested);
    this.val$askForName3.hide();
    $clinit_JAMcore();
    IgnoreKeyPresses = false;
  }
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$22_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/22', 607, Ljava_lang_Object_2_classLit);
function SaveGameManager$23(val$askForName){
  this.val$askForName2 = val$askForName;
}

defineClass(608, 1, $intern_17, SaveGameManager$23);
_.onClick = function onClick_105(event_0){
  this.val$askForName2.hide();
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$23_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/23', 608, Ljava_lang_Object_2_classLit);
function SaveGameManager$24(){
}

defineClass(609, 1, {}, SaveGameManager$24);
_.run_0 = function run_97(result){
  $clinit_SaveGameManager();
  current_save_string = 'LoadGameData=' + result + '__end';
  $setText_4(saveToTextBox, current_save_string);
  $selectAll(saveToTextBox);
  $setText_1(compressedlink, ($clinit_GamesInterfaceTextCore() , MainGame_SaveStateAsCompressedLink));
  $info_1(Log_103, 'cstring=#LoadGameData=' + result + '\n' + '__end');
  $setHref_0(compressedlink, '#LoadGameData=' + result + '\n' + '__end');
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$24_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/24', 609, Ljava_lang_Object_2_classLit);
function SaveGameManager$25(){
}

defineClass(610, 1, {}, SaveGameManager$25);
var Lcom_lostagain_JamGwt_SaveGameManager$25_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/25', 610, Ljava_lang_Object_2_classLit);
function SaveGameManager$28(){
}

defineClass(611, 1, {}, SaveGameManager$28);
_.run_0 = function run_98(result){
  dynamicCast(($clinit_RequiredImplementations() , saveManager).get_1(), 180);
  $clinit_OptionalImplementations();
  $severe_0(($clinit_JamSaveGameManager() , Log_51), 'No Server Storage Implementation Provided, so cant save via this method');
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$28_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/28', 611, Ljava_lang_Object_2_classLit);
function $run_23(this$static, result){
  $gotResult(this$static.val$resultCallback2, result);
}

function SaveGameManager$29(val$resultCallback){
  this.val$resultCallback2 = val$resultCallback;
}

defineClass(612, 1, {}, SaveGameManager$29);
_.run_0 = function run_99(result){
  $run_23(this, result);
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$29_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/29', 612, Ljava_lang_Object_2_classLit);
function $save_0(this$static, SaveOverThisKeyRequested){
  $SaveToLocalStorageRequested(this$static.this$01, SaveOverThisKeyRequested);
}

function SaveGameManager$3(this$0){
  this.this$01 = this$0;
}

defineClass(588, 1, {}, SaveGameManager$3);
var Lcom_lostagain_JamGwt_SaveGameManager$3_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/3', 588, Ljava_lang_Object_2_classLit);
function $remove_22(this$static, key){
  $info_1(($clinit_SaveGameManager() , Log_103), 'remove savegame:' + key);
  $confirmSaveDelete(this$static.this$01, key);
}

function SaveGameManager$4(this$0){
  this.this$01 = this$0;
}

defineClass(589, 1, {}, SaveGameManager$4);
var Lcom_lostagain_JamGwt_SaveGameManager$4_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/4', 589, Ljava_lang_Object_2_classLit);
function SaveGameManager$5(){
}

defineClass(590, 1, $intern_17, SaveGameManager$5);
_.onClick = function onClick_106(event_0){
  $severe_0(($clinit_SaveGameManager() , Log_103), 'sending email');
  $askForEmailToSendLink();
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$5_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/5', 590, Ljava_lang_Object_2_classLit);
function SaveGameManager$6(){
}

defineClass(591, 1, $intern_17, SaveGameManager$6);
_.onClick = function onClick_107(event_0){
  $selectAll(($clinit_SaveGameManager() , saveToTextBox));
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$6_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/6', 591, Ljava_lang_Object_2_classLit);
function SaveGameManager$7(){
}

defineClass(592, 1, $intern_29, SaveGameManager$7);
_.onFocus = function onFocus_6(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$7_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/7', 592, Ljava_lang_Object_2_classLit);
function SaveGameManager$8(){
}

defineClass(593, 1, $intern_30, SaveGameManager$8);
_.onBlur = function onBlur_7(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$8_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/8', 593, Ljava_lang_Object_2_classLit);
function SaveGameManager$9(){
}

defineClass(594, 1, $intern_29, SaveGameManager$9);
_.onFocus = function onFocus_7(event_0){
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_SaveGameManager$9_2_classLit = createForClass('com.lostagain.JamGwt', 'SaveGameManager/9', 594, Ljava_lang_Object_2_classLit);
function SignUpBox(){
  $clinit_TitledPopUpWithShadow();
  var h;
  TitledPopUpWithShadow_0.call(this, 'auto', 'Sign Up Box', new Label_1('loading...'), true);
  new Grid_0(3);
  this.container = new VerticalPanel;
  this.form_container = new Grid_0(7);
  this.signup_form = new FormPanel;
  this.signup_button = new Button('SignUp');
  this.username = new TextBox;
  this.organisation = new TextBox;
  this.password = new PasswordTextBox;
  this.confirmpassword = new PasswordTextBox;
  this.email = new TextBox;
  this.lab_name = new Label_1('Username:');
  this.lab_organisation = new Label_1('Organisation:');
  this.lab_password = new Label_1('Password:');
  this.lab_cpassword = new Label_1('Confirm Password:');
  this.lab_email = new Label_1('Email:');
  this.err_name = new HTML_1('-');
  this.err_organisation = new HTML_1('-');
  this.err_password = new HTML_1('-');
  this.err_cpassword = new HTML_1('-');
  this.err_email = new HTML_1('-');
  this.errorlist = '';
  this.loginlink = new Anchor_1('<<Login', '#');
  $setCenterWidget(this, this.container);
  this.isAnimationEnabled = true;
  $setWidth(this.container, '100%');
  $setStyleName(this.container, 'loginback');
  $setMethod(this.signup_form);
  $setEncoding(this.signup_form);
  $setName_1(this.username, 'user');
  $setName_1(this.password, 'pass');
  $setName_1(this.email, 'email');
  $setName_1(this.confirmpassword, 'confirmpass');
  $setName_1(this.organisation, 'organ');
  $setWidth_0(this, '400px');
  $setWidget_0(this.form_container, 0, 0, this.lab_name);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 0, 0, ($clinit_HasHorizontalAlignment() , ALIGN_RIGHT));
  $setWidget_0(this.form_container, 1, 0, this.lab_organisation);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 1, 0, ALIGN_RIGHT);
  $setWidget_0(this.form_container, 2, 0, this.lab_password);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 2, 0, ALIGN_RIGHT);
  $setWidget_0(this.form_container, 3, 0, this.lab_cpassword);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 3, 0, ALIGN_RIGHT);
  $setWidget_0(this.form_container, 4, 0, this.lab_email);
  $setHorizontalAlignment_1(this.form_container.cellFormatter, 4, 0, ALIGN_RIGHT);
  $setWidget_0(this.form_container, 0, 1, this.username);
  $setWidget_0(this.form_container, 1, 1, this.organisation);
  $setWidget_0(this.form_container, 2, 1, this.password);
  $setWidget_0(this.form_container, 3, 1, this.confirmpassword);
  $setWidget_0(this.form_container, 4, 1, this.email);
  $setWidget_0(this.form_container, 0, 2, this.err_name);
  $setWidget_0(this.form_container, 1, 2, this.err_organisation);
  $setWidget_0(this.form_container, 2, 2, this.err_password);
  $setWidget_0(this.form_container, 3, 2, this.err_cpassword);
  $setWidget_0(this.form_container, 4, 2, this.err_email);
  h = new Hidden('subjoin');
  $setWidget_0(this.form_container, 5, 0, h);
  $add_2(this.signup_form, this.form_container);
  $setWidth(this.form_container, '100%');
  $add_5(this.container, this.signup_form);
  $add_5(this.container, this.signup_button);
  $addDomHandler(this.signup_button, new SignUpBox$1(this), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  add_24(this.signup_form, new SignUpBox$2(this));
  $addDomHandler(this.loginlink, new SignUpBox$3, (null , TYPE_1));
  $add_5(this.container, this.loginlink);
  $setCellHorizontalAlignment_0(this.container, this.loginlink, ALIGN_LEFT);
  $setSpacing(this.container, 4);
  $setCellHorizontalAlignment_0(this.container, this.signup_button, ALIGN_CENTER);
}

defineClass(1117, 65, $intern_123, SignUpBox);
_.CloseDefault = function CloseDefault_25(){
  $CloseDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = false;
}
;
_.OpenDefault = function OpenDefault_21(){
  $OpenDefault_0(this);
  $clinit_JAMcore();
  IgnoreKeyPresses = true;
}
;
var Lcom_lostagain_JamGwt_SignUpBox_2_classLit = createForClass('com.lostagain.JamGwt', 'SignUpBox', 1117, Lcom_lostagain_JamGwt_TitledPopUpWithShadow_2_classLit);
function SignUpBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(1118, 1, $intern_17, SignUpBox$1);
_.onClick = function onClick_108(event_0){
  $setAction_0(this.this$01.signup_form, 'Login_System/SignUp.php');
  $submit(this.this$01.signup_form);
}
;
var Lcom_lostagain_JamGwt_SignUpBox$1_2_classLit = createForClass('com.lostagain.JamGwt', 'SignUpBox/1', 1118, Ljava_lang_Object_2_classLit);
function SignUpBox$2(this$0){
  this.this$01 = this$0;
}

defineClass(1119, 1, {420:1}, SignUpBox$2);
_.onSubmit = function onSubmit_3(event_0){
  $setHTML(this.this$01.err_name, '');
  $setHTML(this.this$01.err_password, '');
  $setHTML(this.this$01.err_email, '');
}
;
_.onSubmitComplete = function onSubmitComplete_4(event_0){
  this.this$01.errorlist = '';
  if ($startsWith(event_0.resultHtml, 'ERROR')) {
    this.this$01.errorlist = $substring(event_0.resultHtml, event_0.resultHtml.indexOf('ERROR') + 5);
    $setHTML(this.this$01.err_name, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_usererror=') + 11, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_usererror=') + 11)));
    $setHTML(this.this$01.err_password, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_passworderror=') + 15, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_passworderror=') + 15)));
    $setHTML(this.this$01.err_email, $substring_0(this.this$01.errorlist, this.this$01.errorlist.indexOf('_useremail=') + 11, $indexOf_3(this.this$01.errorlist, '_', this.this$01.errorlist.indexOf('_useremail=') + 11)));
  }
   else {
    $setText_9(($clinit_JAM() , Feedback), event_0.resultHtml, false);
  }
  if ($startsWith(event_0.resultHtml, 'SUCCESS')) {
    $setText_9(($clinit_JAM() , Feedback), 'Sign Up success! You can now login', false);
    $hide_0(($clinit_ServerOptions() , user_login).signupbox);
  }
}
;
var Lcom_lostagain_JamGwt_SignUpBox$2_2_classLit = createForClass('com.lostagain.JamGwt', 'SignUpBox/2', 1119, Ljava_lang_Object_2_classLit);
function SignUpBox$3(){
}

defineClass(1120, 1, $intern_17, SignUpBox$3);
_.onClick = function onClick_109(event_0){
  $hide_0(($clinit_ServerOptions() , user_login).signupbox);
}
;
var Lcom_lostagain_JamGwt_SignUpBox$3_2_classLit = createForClass('com.lostagain.JamGwt', 'SignUpBox/3', 1120, Ljava_lang_Object_2_classLit);
function $clinit_SimpleEffectOverlay(){
  $clinit_SimpleEffectOverlay = emptyMethod;
  Log_104 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'Jam.SimpleEffectOverlay'));
  leterarray = new ArrayList;
}

function $Clear(this$static){
  var WaitTillFree;
  WaitTillFree = new SimpleEffectOverlay$5(this$static);
  $scheduleRepeating(WaitTillFree, 500);
}

function $FadeIn(this$static, Over){
  var WaitTillFree;
  WaitTillFree = new SimpleEffectOverlay$6(this$static, Over);
  $info_1(Log_104, 'PagesToLoad:' + ($clinit_JAMcore() , NumberOfHTMLsLeftToLoad));
  if (this$static.inuse || NumberOfHTMLsLeftToLoad != 0) {
    $info_1(Log_104, 'not ready yet so we can wait..');
    $scheduleRepeating(WaitTillFree, 500);
  }
   else {
    this$static.inuse = true;
    this$static.opacity_0 = 100;
    $scheduleRepeating(this$static.faderin, ~~(Over / 10));
  }
}

function $FadeOut(this$static, Over){
  var WaitTillFree2;
  this$static.opacity_0 = 0;
  WaitTillFree2 = new SimpleEffectOverlay$7(this$static, Over);
  $info_1(Log_104, 'PagesToLoad:' + ($clinit_JAMcore() , NumberOfHTMLsLeftToLoad));
  if (this$static.inuse || NumberOfHTMLsLeftToLoad != 0) {
    $info_1(Log_104, 'not ready yet so we can wait..');
    $scheduleRepeating(WaitTillFree2, 500);
  }
   else {
    this$static.inuse = true;
    this$static.opacity_0 = 0;
    $scheduleRepeating(this$static.faderout, ~~(Over / 10));
  }
}

function $Flash(this$static){
  var Half;
  Half = round_int(ceil_0(5));
  Half < 10 && (Half = 10);
  this$static.fade_out_step = 25;
  $setPropertyImpl($getElement(this$static.overlay).style, 'backgroundColor', 'lightBlue');
  $info_1(Log_104, '- Flash colour set one -' + Half);
  $FadeOut(this$static, Half);
  this$static.fade_out_step = 25;
  $info_1(Log_104, 'now we fade in again');
  $FadeIn(this$static, Half);
}

function $Hacked_in(this$static){
  var WaitTillFree3, style;
  WaitTillFree3 = new SimpleEffectOverlay$8(this$static);
  if (this$static.inuse) {
    $scheduleRepeating(WaitTillFree3, 500);
  }
   else {
    this$static.inuse = true;
    this$static.wy = 0;
    this$static.wx = 0;
    this$static.opacity_0 = 100;
    this$static.number_of_letters = 0;
    style = $getElement(this$static.overlay).style;
    style['filter'] = 'alpha(opacity=' + this$static.opacity_0 + ')';
    style['opacity'] = '' + this$static.opacity_0 / 100;
    $setStylePrimaryName(this$static.overlay, 'hackerstyle');
    $scheduleRepeating(this$static.hacked_in, 15);
  }
}

function $Hacked_out(this$static){
  var WaitTillFree4, style;
  WaitTillFree4 = new SimpleEffectOverlay$9(this$static);
  if (this$static.inuse) {
    $scheduleRepeating(WaitTillFree4, 500);
  }
   else {
    this$static.inuse = true;
    this$static.wy = 0;
    this$static.wx = 0;
    this$static.opacity_0 = 100;
    this$static.number_of_letters = 0;
    style = $getElement(this$static.overlay).style;
    style['filter'] = 'alpha(opacity=' + this$static.opacity_0 + ')';
    style['opacity'] = '' + this$static.opacity_0 / 100;
    $setStylePrimaryName(this$static.overlay, 'hackerstyle');
    $scheduleRepeating(this$static.hacked_out, 15);
  }
}

function $ProcessThisAfter(this$static, NewProcessThisAfter){
  this$static.ProcessThisAfter = NewProcessThisAfter;
  this$static.PostProcessList.add_0(this$static.ProcessThisAfter);
}

function $randomword(){
  var rw, word;
  rw = round_int(random() * 18);
  switch (rw) {
    case 1:
      word = '4423';
      break;
    case 2:
      word = '101010';
      break;
    case 3:
      word = '4815162342';
      break;
    case 4:
      word = 'The Matrix Has You';
      break;
    case 5:
      word = 'Would You like To Play a Game?';
      break;
    case 6:
      word = ']SYSTEM CRASH: \n ]Restart Y/N?: \n YES';
      break;
    case 7:
      word = '42';
      break;
    case 8:
      word = 'Good morning Dave.';
      break;
    case 9:
      word = '12:50, press Return.';
      break;
    case 10:
      word = 'THERE IS AS YET INSUFFICIENT DATA FOR A MEANINGFUL ANSWER';
      break;
    case 11:
      word = '"Yes, now there is a God."';
      break;
    case 12:
      word = '"Insufficient data at this point. But whatever it was, he did it at a) each step along life\'s highway and b) not in a shy way.."';
      break;
    case 13:
      word = 'On the other side of the screen, it all looks so easy';
      break;
    case 14:
      word = 'End of line';
      break;
    case 15:
      word = 'By Your Command';
      break;
    case 16:
      word = '++?????++ Out of Cheese Error. Redo From Start.';
      break;
    case 17:
      word = 'Thank you for helping us help you help us all.';
      break;
    case 18:
      word = 'Error. Grasshopper disassembled... Re-assemble!.';
      break;
    default:word = '"Where do you want to go today?"';
  }
  return word;
}

function SimpleEffectOverlay(){
  $clinit_SimpleEffectOverlay();
  var style;
  AbsolutePanel.call(this);
  this.opacity_0 = 0;
  this.overlay = this;
  this.inuse = false;
  this.wx = 0;
  this.wy = 0;
  this.number_of_letters = 0;
  this.fade_out_step = 10;
  this.ProcessThisAfter = '';
  this.PostProcessList = new ArrayList;
  ($clinit_DOM() , this.element).style['width'] = '100%';
  this.element.style['height'] = '100%';
  setStylePrimaryName(this.element, 'overlay');
  style = $getElement(this.overlay).style;
  style['filter'] = 'alpha(opacity=' + this.opacity_0 + ')';
  style['opacity'] = '' + this.opacity_0 / 100;
  $setPropertyImpl(style, 'zIndex', '53000');
  this.faderout = new SimpleEffectOverlay$1(this);
  this.faderin = new SimpleEffectOverlay$2(this);
  this.hacked_in = new SimpleEffectOverlay$3(this);
  this.hacked_out = new SimpleEffectOverlay$4(this);
}

defineClass(687, 76, $intern_52, SimpleEffectOverlay);
_.fade_out_step = 0;
_.inuse = false;
_.number_of_letters = 0;
_.opacity_0 = 0;
_.wx = 0;
_.wy = 0;
var Log_104, leterarray;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay', 687, Lcom_google_gwt_user_client_ui_AbsolutePanel_2_classLit);
function SimpleEffectOverlay$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(688, 61, {}, SimpleEffectOverlay$1);
_.run = function run_100(){
  var style;
  ($clinit_System() , out_0).print_0(this.this$01.opacity_0 / 100 + '\n');
  this.this$01.inuse = true;
  style = $getElement(this.this$01.overlay).style;
  style['filter'] = 'alpha(opacity=' + this.this$01.opacity_0 + ')';
  style['opacity'] = '' + this.this$01.opacity_0 / 100;
  this.this$01.opacity_0 = this.this$01.opacity_0 + this.this$01.fade_out_step;
  if (this.this$01.opacity_0 > 100) {
    this.this$01.inuse = false;
    $cancel(this);
    this.this$01.fade_out_step = 10;
    $info_1(($clinit_SimpleEffectOverlay() , Log_104), 'post fade instructions = ' + dynamicCastToString($get(this.this$01.PostProcessList, 0)));
    if (dynamicCastToString($get(this.this$01.PostProcessList, 0)).length > 2) {
      $info_1(Log_104, 'processing post fade instructions:' + this.this$01.ProcessThisAfter);
      $clinit_JAMcore();
      processInstructions_0(dynamicCastToString($get(this.this$01.PostProcessList, 0)), 'postFadeInstructions', null);
      this.this$01.PostProcessList.remove_0(0);
      $info_1(Log_104, 'cleared fade instructions');
    }
  }
}
;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$1_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/1', 688, Lcom_google_gwt_user_client_Timer_2_classLit);
function SimpleEffectOverlay$2(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(689, 61, {}, SimpleEffectOverlay$2);
_.run = function run_101(){
  var style;
  ($clinit_System() , out_0).print_0(this.this$01.opacity_0 / 100 + '\n');
  this.this$01.inuse = true;
  style = $getElement(this.this$01.overlay).style;
  style['filter'] = 'alpha(opacity=' + this.this$01.opacity_0 + ')';
  style['opacity'] = '' + this.this$01.opacity_0 / 100;
  this.this$01.opacity_0 = this.this$01.opacity_0 - this.this$01.fade_out_step;
  if (this.this$01.opacity_0 < 0) {
    this.this$01.inuse = false;
    $cancel(this);
    this.this$01.fade_out_step = 10;
    $info_1(($clinit_SimpleEffectOverlay() , Log_104), 'post fade instructions = ' + dynamicCastToString($get(this.this$01.PostProcessList, 0)));
    if (dynamicCastToString($get(this.this$01.PostProcessList, 0)).length > 2) {
      $info_1(Log_104, 'processing post fade instructions:' + dynamicCastToString($get(this.this$01.PostProcessList, 0)));
      $clinit_JAMcore();
      processInstructions_0(dynamicCastToString($get(this.this$01.PostProcessList, 0)), 'postFadeInstructions', null);
      this.this$01.PostProcessList.remove_0(0);
      $info_1(Log_104, 'cleared fade instructions');
    }
  }
}
;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$2_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/2', 689, Lcom_google_gwt_user_client_Timer_2_classLit);
function SimpleEffectOverlay$3(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(690, 61, {}, SimpleEffectOverlay$3);
_.run = function run_102(){
  var letters1, letters2;
  this.this$01.wx = toInt(fromDouble(round0(random() * $getOffsetWidth(this.this$01.overlay)))) - 110;
  this.this$01.wy = this.this$01.wy + 2;
  ($clinit_JAMcore() , GameLogger).info_0(' x= ' + this.this$01.wx + ' y= ' + this.this$01.wy + '=');
  letters1 = new Label_1($randomword());
  letters2 = new Label_1($randomword());
  ($clinit_SimpleEffectOverlay() , leterarray).add_0(letters1);
  leterarray.add_0(letters2);
  $add_8(this.this$01.overlay, letters1, this.this$01.wx, this.this$01.wy);
  $add_8(this.this$01.overlay, letters2, this.this$01.wx, this.this$01.wy + 8);
  this.this$01.number_of_letters = this.this$01.number_of_letters + 1;
  if (this.this$01.wy > $getOffsetHeight(this.this$01.overlay)) {
    if (this.this$01.ProcessThisAfter.length > 2) {
      processInstructions_0(this.this$01.ProcessThisAfter, 'hackedin', null);
      this.this$01.ProcessThisAfter = '';
    }
    this.this$01.inuse = false;
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$3_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/3', 690, Lcom_google_gwt_user_client_Timer_2_classLit);
function SimpleEffectOverlay$4(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(691, 61, {}, SimpleEffectOverlay$4);
_.run = function run_103(){
  ($clinit_JAMcore() , GameLogger).info_0(' deleteing= ' + this.this$01.number_of_letters);
  $removeFromParent(dynamicCast($get(($clinit_SimpleEffectOverlay() , leterarray), this.this$01.number_of_letters), 5));
  $setVisible(dynamicCast($get(leterarray, this.this$01.number_of_letters), 5), false);
  dynamicCast($get(leterarray, this.this$01.number_of_letters), 5).attached || (this.this$01.number_of_letters = this.this$01.number_of_letters + 1);
  if (this.this$01.number_of_letters >= leterarray.array.length) {
    this.this$01.inuse = false;
    leterarray.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
    $clear(this.this$01.overlay);
    $removeFromParent(this.this$01.overlay);
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$4_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/4', 691, Lcom_google_gwt_user_client_Timer_2_classLit);
function SimpleEffectOverlay$5(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(692, 61, {}, SimpleEffectOverlay$5);
_.run = function run_104(){
  if (!this.this$01.inuse) {
    this.this$01.inuse = false;
    $removeFromParent(this.this$01.overlay);
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$5_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/5', 692, Lcom_google_gwt_user_client_Timer_2_classLit);
function SimpleEffectOverlay$6(this$0, val$Over){
  this.this$01 = this$0;
  this.val$Over2 = val$Over;
  Timer.call(this);
}

defineClass(693, 61, {}, SimpleEffectOverlay$6);
_.run = function run_105(){
  if (!this.this$01.inuse && ($clinit_JAMcore() , NumberOfHTMLsLeftToLoad) == 0) {
    this.this$01.inuse = true;
    this.this$01.opacity_0 = 100;
    $scheduleRepeating(this.this$01.faderin, ~~(this.val$Over2 / 10));
    $cancel(this);
  }
   else {
    $info_1(($clinit_SimpleEffectOverlay() , Log_104), 'PagesToLoad:' + ($clinit_JAMcore() , NumberOfHTMLsLeftToLoad));
    $info_1(Log_104, 'not ready yet so we can wait..');
  }
}
;
_.val$Over2 = 0;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$6_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/6', 693, Lcom_google_gwt_user_client_Timer_2_classLit);
function SimpleEffectOverlay$7(this$0, val$Over){
  this.this$01 = this$0;
  this.val$Over2 = val$Over;
  Timer.call(this);
}

defineClass(694, 61, {}, SimpleEffectOverlay$7);
_.run = function run_106(){
  if (!this.this$01.inuse && ($clinit_JAMcore() , NumberOfHTMLsLeftToLoad) == 0) {
    this.this$01.inuse = true;
    this.this$01.opacity_0 = 0;
    $scheduleRepeating(this.this$01.faderout, ~~(this.val$Over2 / 10));
    $cancel(this);
  }
   else {
    $info_1(($clinit_SimpleEffectOverlay() , Log_104), 'PagesToLoad:' + ($clinit_JAMcore() , NumberOfHTMLsLeftToLoad));
    $info_1(Log_104, 'not ready yet so we can wait..');
  }
}
;
_.val$Over2 = 0;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$7_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/7', 694, Lcom_google_gwt_user_client_Timer_2_classLit);
function SimpleEffectOverlay$8(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(695, 61, {}, SimpleEffectOverlay$8);
_.run = function run_107(){
  var style;
  if (!this.this$01.inuse) {
    this.this$01.inuse = true;
    this.this$01.wy = 0;
    this.this$01.wx = 0;
    this.this$01.opacity_0 = 100;
    this.this$01.number_of_letters = 0;
    style = $getElement(this.this$01.overlay).style;
    style['filter'] = 'alpha(opacity=' + this.this$01.opacity_0 + ')';
    style['opacity'] = '' + this.this$01.opacity_0 / 100;
    $setStylePrimaryName(this.this$01.overlay, 'hackerstyle');
    $scheduleRepeating(this.this$01.hacked_in, 15);
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$8_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/8', 695, Lcom_google_gwt_user_client_Timer_2_classLit);
function SimpleEffectOverlay$9(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(696, 61, {}, SimpleEffectOverlay$9);
_.run = function run_108(){
  var style;
  if (!this.this$01.inuse) {
    this.this$01.inuse = true;
    this.this$01.wy = 0;
    this.this$01.wx = 0;
    this.this$01.opacity_0 = 100;
    this.this$01.number_of_letters = 0;
    style = $getElement(this.this$01.overlay).style;
    style['filter'] = 'alpha(opacity=' + this.this$01.opacity_0 + ')';
    style['opacity'] = '' + this.this$01.opacity_0 / 100;
    $setStylePrimaryName(this.this$01.overlay, 'hackerstyle');
    $scheduleRepeating(this.this$01.hacked_out, 15);
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_SimpleEffectOverlay$9_2_classLit = createForClass('com.lostagain.JamGwt', 'SimpleEffectOverlay/9', 696, Lcom_google_gwt_user_client_Timer_2_classLit);
function $setOpacity_0(this$static, NewOpacity){
  var style;
  NewOpacity < 100 && NewOpacity > -1?(this$static.opacity_0 = NewOpacity):($clinit_System() , out_0).print_0('Opacity out of range error');
  style = $getElement(this$static.ThisImage).style;
  style['filter'] = 'alpha(opacity=' + this$static.opacity_0 + ')';
  style['opacity'] = '' + this$static.opacity_0 / 100;
}

function SpiffyImage(){
  $clinit_Image();
  Image_0.call(this);
  this.opacity_0 = 100;
  this.ThisImage = this;
}

defineClass(330, 43, $intern_113, SpiffyImage);
_.opacity_0 = 0;
var Lcom_lostagain_JamGwt_SpiffyImage_2_classLit = createForClass('com.lostagain.JamGwt', 'SpiffyImage', 330, Lcom_google_gwt_user_client_ui_Image_2_classLit);
function $UpdateScoreVisuals(this$static){
  if (!this$static.CurrentlyChanging.value_0) {
    this$static.CurrentlyChanging = ($clinit_Boolean() , $clinit_Boolean() , TRUE_3);
    $scheduleRepeating(this$static.ScoreHomer, 50);
  }
}

function SpiffyScoreBoard(){
  this.visualRepresentation = new HorizontalPanel;
  this.ScoreLabel = new Label;
  this.CurrentlyChanging = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  $setSize(this.visualRepresentation, '100%', '100%');
  $setStylePrimaryName(this.ScoreLabel, 'ScoreLabel');
  $add_4(this.visualRepresentation, this.ScoreLabel);
  $setCellHorizontalAlignment_0(this.visualRepresentation, this.ScoreLabel, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setSpacing(this.visualRepresentation, 1);
  this.ScoreHomer = new SpiffyScoreBoard$1(this);
  $UpdateScoreVisuals(this);
}

defineClass(777, 776, $intern_51, SpiffyScoreBoard);
_.asWidget = function asWidget_9(){
  return this.visualRepresentation;
}
;
_.CurrentlyDisplayedScore = 0;
var Lcom_lostagain_JamGwt_SpiffyScoreBoard_2_classLit = createForClass('com.lostagain.JamGwt', 'SpiffyScoreBoard', 777, Lcom_lostagain_Jam_ScoreControll_2_classLit);
function SpiffyScoreBoard$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(778, 61, {}, SpiffyScoreBoard$1);
_.run = function run_109(){
  var Difference;
  Difference = this.this$01.CurrentlyDisplayedScore - this.this$01.CurrentScore;
  Difference < 0?(Difference = ~~(Difference / 35) < -1?~~(Difference / 35):-1):(Difference = ~~(Difference / 35) > 1?~~(Difference / 35):1);
  if (this.this$01.CurrentlyDisplayedScore != this.this$01.CurrentScore) {
    this.this$01.CurrentlyDisplayedScore = this.this$01.CurrentlyDisplayedScore - Difference;
    $setText_0(this.this$01.ScoreLabel, '' + this.this$01.CurrentlyDisplayedScore + '');
  }
   else {
    this.this$01.CurrentlyDisplayedScore = this.this$01.CurrentScore;
    $setText_0(this.this$01.ScoreLabel, '' + this.this$01.CurrentlyDisplayedScore + '');
    this.this$01.CurrentlyChanging = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
    $cancel(this);
  }
}
;
var Lcom_lostagain_JamGwt_SpiffyScoreBoard$1_2_classLit = createForClass('com.lostagain.JamGwt', 'SpiffyScoreBoard/1', 778, Lcom_google_gwt_user_client_Timer_2_classLit);
function $clinit_MeryllInternalAnimations(){
  $clinit_MeryllInternalAnimations = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  CrumbleAnimation = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble0Initializer() , cookieCrumble0)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble1Initializer() , cookieCrumble1)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble2Initializer() , cookieCrumble2)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble3Initializer() , cookieCrumble3)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble4Initializer() , cookieCrumble4)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble5Initializer() , cookieCrumble5)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble6Initializer() , cookieCrumble6)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble7Initializer() , cookieCrumble7)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble8Initializer() , cookieCrumble8)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble9Initializer() , cookieCrumble9)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble10Initializer() , cookieCrumble10)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble11Initializer() , cookieCrumble11)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble12Initializer() , cookieCrumble12)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble13Initializer() , cookieCrumble13)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble14Initializer() , cookieCrumble14))]);
  FireAnimation = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0050Initializer() , fireloop0050)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0054Initializer() , fireloop0054)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0058Initializer() , fireloop0058)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0062Initializer() , fireloop0062)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0066Initializer() , fireloop0066)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0070Initializer() , fireloop0070)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0074Initializer() , fireloop0074)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0078Initializer() , fireloop0078)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0082Initializer() , fireloop0082)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0086Initializer() , fireloop0086)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0090Initializer() , fireloop0090)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0094Initializer() , fireloop0094)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0100Initializer() , fireloop0100))]);
  SparkAnimation = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark00Initializer() , spark00)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark01Initializer() , spark01)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark02Initializer() , spark02))]);
  ImpactAnimation = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$impact00Initializer() , impact00)), create_3(($clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$impact02Initializer() , impact02)), create_3((null , impact02))]);
  allAnimations = new MeryllInternalAnimations$1;
}

var CrumbleAnimation, FireAnimation, ImpactAnimation, SparkAnimation, allAnimations;
function getAnimation(name_0){
  $clinit_MeryllInternalAnimations();
  name_0 = $trim(name_0.toLowerCase());
  return dynamicCast($getStringValue(allAnimations, name_0), 51);
}

function MeryllInternalAnimations$1(){
  HashMap.call(this);
  $putStringValue(this, 'fire', ($clinit_MeryllInternalAnimations() , FireAnimation));
  $putStringValue(this, 'crumble', CrumbleAnimation);
  $putStringValue(this, 'sparks', SparkAnimation);
  $putStringValue(this, 'impact', ImpactAnimation);
}

defineClass(1385, 32, $intern_120, MeryllInternalAnimations$1);
var Lcom_lostagain_JamGwt_Sprites_MeryllInternalAnimations$1_2_classLit = createForClass('com.lostagain.JamGwt.Sprites', 'MeryllInternalAnimations/1', 1385, Ljava_util_HashMap_2_classLit);
function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator = emptyMethod;
  bundledImage_None_3 = $moduleBase + '017DF58BA82A4AC932D1E36B0A09003B.cache.png';
}

var bundledImage_None_3, cookieCrumble0, cookieCrumble1, cookieCrumble10, cookieCrumble11, cookieCrumble12, cookieCrumble13, cookieCrumble14, cookieCrumble2, cookieCrumble3, cookieCrumble4, cookieCrumble5, cookieCrumble6, cookieCrumble7, cookieCrumble8, cookieCrumble9, fireloop0050, fireloop0054, fireloop0058, fireloop0062, fireloop0066, fireloop0070, fireloop0074, fireloop0078, fireloop0082, fireloop0086, fireloop0090, fireloop0094, fireloop0100, impact00, impact02, spark00, spark01, spark02;
function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble0Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble0Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble0 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 8005, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble10Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble10Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble10 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7845, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble11Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble11Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble11 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7765, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble12Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble12Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble12 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7685, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble13Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble13Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble13 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7605, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble14Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble14Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble14 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7525, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble1Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble1Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble1 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7925, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble2Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble2Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble2 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7445, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble3Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble3Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble3 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7365, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble4Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble4Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble4 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7285, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble5Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble5Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble5 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7205, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble6Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble6Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble6 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7125, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble7Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble7Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble7 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 7045, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble8Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble8Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble8 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 6965, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble9Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$cookieCrumble9Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  cookieCrumble9 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 6885, 0, 80, 180);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0050Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0050Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0050 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 6750, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0054Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0054Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0054 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 6210, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0058Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0058Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0058 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 5670, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0062Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0062Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0062 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 5130, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0066Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0066Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0066 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 4590, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0070Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0070Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0070 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 4050, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0074Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0074Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0074 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 3510, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0078Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0078Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0078 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 2970, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0082Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0082Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0082 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 2430, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0086Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0086Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0086 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 1890, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0090Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0090Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0090 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 1350, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0094Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0094Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0094 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 810, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0100Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$fireloop0100Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  fireloop0100 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 0, 0, 135, 225);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$impact00Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$impact00Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  impact00 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 8631, 0, 123, 131);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$impact02Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$impact02Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  impact02 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 8385, 0, 123, 131);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark00Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark00Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  spark00 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 8285, 0, 100, 140);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark01Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark01Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  spark01 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 8185, 0, 100, 140);
}

function $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark02Initializer(){
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator$spark02Initializer = emptyMethod;
  $clinit_MeryllInternalSprites_default_StaticClientBundleGenerator();
  spark02 = new ImageResourcePrototype$Bundle(($clinit_UriUtils() , new SafeUriString(bundledImage_None_3)), 8085, 0, 100, 140);
}

function TitledPopUpWithShadow$1(this$0){
  this.this$01 = this$0;
}

defineClass(614, 1, $intern_15, TitledPopUpWithShadow$1);
_.onMouseOver = function onMouseOver_14(event_0){
  $setPlayForward(this.this$01.closeX.animation);
}
;
var Lcom_lostagain_JamGwt_TitledPopUpWithShadow$1_2_classLit = createForClass('com.lostagain.JamGwt', 'TitledPopUpWithShadow/1', 614, Ljava_lang_Object_2_classLit);
function TitledPopUpWithShadow$2(this$0){
  this.this$01 = this$0;
}

defineClass(615, 1, $intern_16, TitledPopUpWithShadow$2);
_.onMouseOut = function onMouseOut_16(event_0){
  $setPlayBack(this.this$01.closeX.animation);
}
;
var Lcom_lostagain_JamGwt_TitledPopUpWithShadow$2_2_classLit = createForClass('com.lostagain.JamGwt', 'TitledPopUpWithShadow/2', 615, Ljava_lang_Object_2_classLit);
function TitledPopUpWithShadow$3(val$thisone){
  this.val$thisone2 = val$thisone;
}

defineClass(616, 1, $intern_17, TitledPopUpWithShadow$3);
_.onClick = function onClick_110(event_0){
  $info_1(($clinit_TitledPopUpWithShadow() , Log_69), 'closing popup');
  this.val$thisone2.CloseDefault();
  $remove_6(($clinit_RootPanel() , get_14(null)), ($clinit_JAM() , fadeback));
}
;
var Lcom_lostagain_JamGwt_TitledPopUpWithShadow$3_2_classLit = createForClass('com.lostagain.JamGwt', 'TitledPopUpWithShadow/3', 616, Ljava_lang_Object_2_classLit);
function TitledPopUpWithShadow$4(val$callback){
  this.val$callback2 = val$callback;
}

defineClass(617, 1, {}, TitledPopUpWithShadow$4);
_.setPosition = function setPosition_2(offsetWidth, offsetHeight){
  this.val$callback2.setPosition(offsetWidth, offsetHeight);
}
;
var Lcom_lostagain_JamGwt_TitledPopUpWithShadow$4_2_classLit = createForClass('com.lostagain.JamGwt', 'TitledPopUpWithShadow/4', 617, Ljava_lang_Object_2_classLit);
function ToolPopUp(ImageDiscription){
  PopupPanel.call(this);
  this.panel = new VerticalPanel;
  this.Discription = new Label_1('');
  new Image_0;
  $getClientWidth($doc);
  $getClientHeight($doc);
  this.tooltype = 'Concept';
  $setText_0(this.Discription, ImageDiscription);
  $setClassName($getParentElement(($clinit_DOM() , $getFirstChildElement(this.element))), 'DefaultTopBar');
  $add_5(this.panel, this.Discription);
  $setWidth(this.Discription, '250px');
  $setCellHorizontalAlignment_0(this.panel, this.Discription, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setStylePrimaryName(this.panel, 'picturePopUp');
  $add_2(this, this.panel);
}

defineClass(1310, 53, $intern_128, ToolPopUp);
_.CloseDefault = function CloseDefault_26(){
}
;
_.DRAGABLE = function DRAGABLE_18(){
  return false;
}
;
_.MAGNIFYABLE = function MAGNIFYABLE_11(){
  return false;
}
;
_.POPUPTYPE = function POPUPTYPE_18(){
  return this.tooltype;
}
;
_.getSourceURL = function getSourceURL_11(){
  return null;
}
;
_.getState = function getState_11(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_24(){
  return this;
}
;
_.loadState_0 = function loadState_13(state){
}
;
_.sourcesizeX_0 = function sourcesizeX_11(){
  return null;
}
;
_.sourcesizeY_0 = function sourcesizeY_11(){
  return null;
}
;
var Lcom_lostagain_JamGwt_ToolPopUp_2_classLit = createForClass('com.lostagain.JamGwt', 'ToolPopUp', 1310, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function $clinit_TypedLabel(){
  $clinit_TypedLabel = emptyMethod;
  Log_105 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.TypedLabel'));
}

function $isTypedLabel(this$static){
  var associatedObjectAsLabel, typed;
  typed = ($clinit_Boolean() , $clinit_Boolean() , FALSE_2);
  if (this$static.associatedObject) {
    if ($isCompatibleWith(this$static.associatedObject.getObjectsCurrentState_0(), ($clinit_SceneObjectType() , Label_4))) {
      associatedObjectAsLabel = this$static.associatedObject.getObjectsCurrentState_0();
      associatedObjectAsLabel.TypedText == ($clinit_SceneObjectState$TrueFalseOrDefault() , TRUE_2)?(typed = (null , TRUE_3)):(typed = (null , FALSE_2));
    }
  }
   else {
    $warning_0(Log_105, 'associatedObject is currently null. This is probably wrong if this should be a on a sceneobject');
  }
  return typed;
}

function $loadAnyNeededObjects(this$static){
  var currentText, e, elem, elementName, elementName$iterator, isTypedLabel, newobject, newobjectToInsert, removedfromback, test_0;
  if (!this$static.attached) {
    $severe_0(Log_105, ' was arnt attached yet! therefor we cant add objects to ourself_');
    return;
  }
  if (this$static.ObjectsToLoadIntoText.array.length > 0) {
    if (this$static.associatedObject) {
      $info_1(Log_105, 'loading objects into:' + this$static.associatedObject.getObjectsCurrentState_0().ObjectsName);
      $info_1(Log_105, 'div is currently:' + ($clinit_DOM() , this$static.element).innerHTML);
    }
     else {
      $info_1(Log_105, 'loading objects into a text label');
    }
    $info_1(Log_105, 'objects to load into text = ' + this$static.ObjectsToLoadIntoText.toString$());
    !!this$static.associatedObject && $ObjectsLog(this$static.associatedObject, 'objects to load into text = ' + this$static.ObjectsToLoadIntoText.toString$(), 1);
    for (elementName$iterator = new AbstractList$IteratorImpl(this$static.ObjectsToLoadIntoText); elementName$iterator.i < elementName$iterator.this$01_0.size_1();) {
      elementName = (checkCriticalElement(elementName$iterator.i < elementName$iterator.this$01_0.size_1()) , dynamicCastToString(elementName$iterator.this$01_0.get_0(elementName$iterator.last = elementName$iterator.i++)));
      $info_1(Log_105, 'Loading:' + elementName);
      newobjectToInsert = getSingleSceneObjectNEW(elementName, null, true);
      newobject = dynamicCast(newobjectToInsert, 137);
      if (newobjectToInsert) {
        $info_1(Log_105, 'found object:' + newobject.getObjectsCurrentState_1().ObjectsName);
        $info_1(Log_105, 'object type :' + $toString_1(newobject.getObjectsCurrentState_1().objectsPrimaryType));
        try {
          isTypedLabel = $isTypedLabel(this$static);
          if (newobject.getObjectsCurrentState_1().objectsPrimaryType == ($clinit_SceneObjectType() , Label_4)) {
            $info_1(Log_105, 'we are inserting a label. This label is typed:' + isTypedLabel);
            if (isTypedLabel.value_0) {
              currentText = $getAsLabel(newobject).objectsCurrentState_0.ObjectsCurrentText;
              $info_1(Log_105, '________restting text:' + currentText);
              $ObjectsLog(newobject, '________restting text:' + currentText, 1);
              $setCursorMode($getAsLabel(newobject), this$static.cursorStyle);
              $getAsLabel(newobject).TextLabel_0.cursorclass = 'inlinecursor';
              $getAsLabel(newobject).setText_0('', false);
              $info_1(Log_105, '________setting text to:' + currentText + ' typed text state:' + $getAsLabel(newobject).getObjectsCurrentState_0().TypedText);
              $getAsLabel(newobject).getObjectsCurrentState_0().TypedText == ($clinit_SceneObjectState$TrueFalseOrDefault() , FALSE_1)?$getAsLabel(newobject).setText_0(currentText, false):$getAsLabel(newobject).setText_0(currentText, true);
              $ObjectsLog(newobject, '________reset text to : ' + currentText, 1);
              $info_1(Log_105, '________reset text to:' + currentText);
            }
          }
          $info_1(Log_105, 'inserting a object: :' + newobject.getObjectsCurrentState_1().ObjectsName);
          if (!$getElementById($doc, 'Item_' + elementName)) {
            $severe_0(Log_105, 'cant find element with ID :Item_' + elementName + ':');
            $severe_0(Log_105, 'in :' + ($clinit_DOM() , this$static.element).innerHTML);
          }
          if ($getElementById($doc, 'Item_' + elementName)) {
            $info_1(Log_105, 'got element with ID :Item_' + elementName + ':');
            $info_1(Log_105, 'in :' + ($clinit_DOM() , this$static.element).innerHTML);
          }
          newobject.internalFocusPanel.attached || $severe_0(Log_105, 'Element:' + newobject.getObjectsCurrentState_1().ObjectsName + ' is not attached');
          if (!$getParentElement($getElement(newobject.internalFocusPanel))) {
            $severe_0(Log_105, '__________Element:' + newobject.getObjectsCurrentState_1().ObjectsName + ' has no parent element');
          }
           else if (newobject.internalFocusPanel.parent_1.isAttached()) {
            $info_1(Log_105, 'has parent element:' + !!$getParentElement($getElement(newobject.internalFocusPanel)));
          }
           else {
            $info_1(Log_105, 'has parent element:' + !!$getParentElement($getElement(newobject.internalFocusPanel)));
            $severe_0(Log_105, 'Element:' + newobject.getObjectsCurrentState_1().ObjectsName + ' parent is not attached');
          }
          $info_1(Log_105, 'attempting to remove from  parent');
          removedfromback = $removeFromSceneBackground(newobject.objectScene_0, newobject);
          $info_1(Log_105, '|was removed from scene back:' + removedfromback);
          $info_1(Log_105, '...(done):');
          if (newobject.internalFocusPanel.parent_1) {
            if (newobject.internalFocusPanel.parent_1.___clazz$ == Lcom_lostagain_JamGwt_TypedLabel_2_classLit) {
              $info_1(Log_105, 'already on a typed label');
              test_0 = dynamicCast(newobject.internalFocusPanel.parent_1, 211);
              test_0 == this$static?$severe_0(Log_105, '________________already on this widget!'):$severe_0(Log_105, '________________removing from old loading list!' + $remove_0(test_0.ObjectsToLoadIntoText, elementName));
              $info_1(Log_105, 'test html of it is:' + ($clinit_DOM() , test_0.element).innerHTML);
              $info_1(Log_105, 'test getCurrentText:' + test_0.currentText);
              $info_1(Log_105, 'test typing state of it is:' + test_0.currentlyTyping + ',' + test_0.aboutToType);
              $info_1(Log_105, 'ObjectsToLoadIntoText of parent:' + test_0.ObjectsToLoadIntoText.array.length);
              $info_1(Log_105, 'isAttached:' + test_0.attached);
              $info_1(Log_105, 'new detach method starting:');
              $info_1(Log_105, ' ~~~~~~~~~~~~~~~~~~~~~ (objects contents before detach is:' + ($getName(newobject.___clazz$) + '@' + toUnsignedRadixString(getHashCode(newobject), 16)));
              $ObjectsLog(newobject, 'preparing detach content length=' + ($getName(newobject.___clazz$) + '@' + toUnsignedRadixString(getHashCode(newobject), 16)).length, 1);
              try {
                $setParent(newobject.internalFocusPanel, null);
                $info_1(Log_105, 'orphaned');
              }
               finally {
                $info_1(Log_105, 'Physical detach');
                elem = $getElement(newobject.internalFocusPanel);
                if ($getParentElement(elem)) {
                  $info_1(Log_105, 'Physical detach2');
                  $removeChild((null , $getParentElement(elem)), elem);
                }
                $info_1(Log_105, ' Logical detach.');
                $remove_20(this$static.children, newobject.internalFocusPanel);
              }
              $ObjectsLog(newobject, 'detached content length=' + ($getName(newobject.___clazz$) + '@' + toUnsignedRadixString(getHashCode(newobject), 16)).length, 1);
            }
          }
          !!this$static.associatedObject && $ObjectsLog(this$static.associatedObject, 'adding newobject ' + newobject.getObjectsCurrentState_1().ObjectsName + ' into text:' + ($clinit_DOM() , this$static.element).innerHTML, 1);
          $info_1(Log_105, '****************** contents before adding is:' + $toString_2(this$static));
          $info_1(Log_105, '****************** contents we are trying to add is:' + ($getName(newobject.___clazz$) + '@' + toUnsignedRadixString(getHashCode(newobject), 16)));
          $info_1(Log_105, '****************** contents we are trying to add is type:' + newobject.getObjectsCurrentState_1().objectsPrimaryType);
          if (newobject.getObjectsCurrentState_1().objectsPrimaryType == Label_4) {
            $info_1(Log_105, '****************** current textobject is :' + $toString_2($getAsLabel(newobject).TextLabel_0));
            $info_1(Log_105, '****************** current text is typing:' + $getAsLabel(newobject).TextLabel_0.currentlyTyping);
            $info_1(Log_105, '****************** current target text is:' + $getAsLabel(newobject).TextLabel_0.targetText);
          }
          $info_1(Log_105, '****************** contents we are trying to add is attached:' + newobject.internalFocusPanel.attached);
          !$getElementById_0(this$static, 'Item_' + elementName) && $warning_0(Log_105, 'attempting to insert to an ID that doesnt exist');
          newobject.ObjectsLog.log_1('attaching into:' + this$static.associatedObject.getObjectsCurrentState_0().ObjectsName, 'yellow');
          $ObjectsLog(newobject, 'current content length=' + ($getName(newobject.___clazz$) + '@' + toUnsignedRadixString(getHashCode(newobject), 16)).length, 1);
          $add_14(this$static, newobject.internalFocusPanel, 'Item_' + elementName);
          !!this$static.associatedObject && $ObjectsLog(this$static.associatedObject, 'added ' + newobject.getObjectsCurrentState_1().ObjectsName + ' into text:' + ($clinit_DOM() , this$static.element).innerHTML, 1);
          $ObjectsLog(newobject, 'attached into:' + this$static.associatedObject.getObjectsCurrentState_0().ObjectsName, 1);
          $ObjectsLog(newobject, 'current content length=' + ($getName(newobject.___clazz$) + '@' + toUnsignedRadixString(getHashCode(newobject), 16)).length, 1);
          $info_1(Log_105, '****************** added to typed label');
          $info_1(Log_105, '****************** contents added to typelabel was object:' + newobject.getObjectsCurrentState_1().ObjectsName + ' with contents:' + ($getName(newobject.___clazz$) + '@' + toUnsignedRadixString(getHashCode(newobject), 16)) + '|');
          $info_1(Log_105, '****************** contents now is:' + $toString_2(this$static));
          if (newobject.getObjectsCurrentState_1().objectsPrimaryType == Label_4) {
            $info_1(Log_105, '****************** after adding textobject is :' + $toString_2($getAsLabel(newobject).TextLabel_0));
            newobject.internalFocusPanel.widget == $getAsLabel(newobject).TextLabel_0?$info_1(Log_105, '****************** newobjects widget is correct label'):$info_1(Log_105, '****************** newobjects widget is NOT THE correct label');
            !newobject.internalFocusPanel.widget?$info_1(Log_105, '**************** newobject added did not have its TypedLabel widget!'):$info_1(Log_105, '*************** widget within dialog object is a:' + $getName(newobject.internalFocusPanel.widget.___clazz$));
            $info_1(Log_105, '****************** after adding textobject is :' + $toString_2($getAsLabel(newobject).TextLabel_0));
            $info_1(Log_105, '****************** after adding is typing:' + $getAsLabel(newobject).TextLabel_0.currentlyTyping);
            $info_1(Log_105, '****************** after adding text is:' + $getAsLabel(newobject).TextLabel_0.targetText);
          }
          newobject.getObjectsCurrentState_1().attachToHTMLDiv = 'Item_' + elementName;
          if (this$static.associatedObject) {
            $ObjectsLog(newobject, 'moving object to match parent dialogues scene', 1);
            $ObjectsLog(newobject, 'associatedObject.objectScene=' + this$static.associatedObject.objectScene_0.SceneFileName, 1);
            $ObjectsLog(newobject, 'objectsCurrentState.ObjectsSceneName=' + this$static.associatedObject.getObjectsCurrentState_0().ObjectsSceneName, 1);
            $ObjectsLog(this$static.associatedObject, 'moving child objects scene to match this ones (' + this$static.associatedObject.objectScene_0.SceneFileName + ')', 1);
            $setObjectsScene(newobject, this$static.associatedObject.objectScene_0);
          }
        }
         catch ($e0) {
          $e0 = wrap($e0);
          if (instanceOf($e0, 37)) {
            e = $e0;
            $severe_0(Log_105, 'Error; when filling ' + elementName + ' into:');
            $severe_0(Log_105, ($clinit_DOM() , this$static.element).innerHTML);
            $severe_0(Log_105, 'Error was  :' + e.getMessage());
          }
           else 
            throw unwrap($e0);
        }
      }
       else {
        $severe_0(Log_105, 'Error; could not find object to put in text called: ' + elementName + ' in ');
        $severe_0(Log_105, 'If object is still loading, that object should itself go into text once loaded');
        if (this$static.associatedObject) {
          $ObjectsLog(this$static.associatedObject, 'Error; could not find object to put in text called: ' + elementName + ' in ', 1);
          $ObjectsLog(this$static.associatedObject, 'If object is still loading, that object should itself go into text once loaded', 1);
        }
      }
    }
  }
   else {
    $info_1(Log_105, 'no objects to load into typed label.');
  }
}

function $processCommandFromText(this$static, command, currentText){
  var delay, runAfter, runAfterThisTime, runThis;
  if ($startsWith(command.toLowerCase(), 'run:')) {
    $info_1(Log_105, '__________command detected=' + command);
    command = __substr(command, 4, command.length - 4);
    processInstructions_0(command, 'TriggeredFromLab_', this$static.associatedObject);
  }
  if ($startsWith(command.toLowerCase(), 'insert:')) {
    $info_1(Log_105, '__________command detected=' + command);
    command = $trim(__substr(command, 7, command.length - 7));
    currentText = currentText + '<div style="display:inline-block" ID="Item_' + command + '"><\/div>';
    this$static.ObjectsToLoadIntoText.add_0(command);
  }
  if ($startsWith(command.toLowerCase(), 'runafter')) {
    runAfterThisTime = $trim($split_0(__substr(command, 8, command.length - 8), ':', 0)[0]);
    runThis = $trim($split_0(__substr(command, 8, command.length - 8), ':', 0)[1]);
    $info_1(Log_105, '__________command detected=' + runThis + ' after ' + runAfterThisTime + ' ms');
    runAfter = ($clinit_JAMTimerController() , new GWTJAMTimerController$1(new TypedLabel$1(this$static, runThis)));
    delay = __parseAndValidateInt(runAfterThisTime, 10);
    $schedule(runAfter, delay);
  }
  return currentText;
}

function $recheckInternalObjects(this$static){
  $info_1(Log_105, 'rechecking objects in dialogue');
  !!this$static.associatedObject && $ObjectsLog(this$static.associatedObject, 'rechecking objects in dialogue. Dialogue HTML is:' + ($clinit_DOM() , this$static.element).innerHTML, 1);
  $loadAnyNeededObjects(this$static);
}

function $setAssociatedObject(this$static, associatedObject){
  if (this$static.associatedObject) {
    $ObjectsLog(this$static.associatedObject, '(unassociating a textlabel was was associated with this object....ekk?', 1);
    $ObjectsLog(this$static.associatedObject, '(Old association was with this New is with ' + associatedObject.getObjectsCurrentState_0().ObjectsName, 1);
    $ObjectsLog(associatedObject, '(removed prior association with ' + this$static.associatedObject.getObjectsCurrentState_0().ObjectsName + ')', 1);
  }
  $ObjectsLog(associatedObject, '(associating textlabel with this object)', 1);
  this$static.associatedObject = associatedObject;
}

function $setBlink(this$static, state){
  this$static.cursorStyle = state;
  if (state == ($clinit_SceneLabelObjectState$cursorVisibleOptions() , TRUE_1)) {
    this$static.blinkyBit = '<blink>\u2588<\/blink>';
    this$static.nonBlinkyBit = '\u2588';
  }
   else if (state == WHENTYPING) {
    this$static.blinkyBit = '';
    this$static.nonBlinkyBit = '\u2588';
  }
   else {
    this$static.blinkyBit = '';
    this$static.nonBlinkyBit = '';
  }
}

function $setCUSTOM_KEY_BEEP(this$static, keysound){
  $info_1(Log_105, '_______________setting keysound ' + keysound);
  this$static.CUSTOM_KEY_BEEP = keysound;
}

function $setCUSTOM_SPACEKEY_BEEP(this$static, spacesound){
  $info_1(Log_105, '_______________setting spacesound ' + spacesound);
  this$static.CUSTOM_SPACEKEY_BEEP = spacesound;
}

function $setDelay(this$static, newDelay){
  newDelay == 0?(this$static.Delay = 50):(this$static.Delay = newDelay * $intern_10);
}

function $setDirection_1(this$static, ltr){
  $info_1(Log_105, '___setting direction to:' + (ltr.name_0 != null?ltr.name_0:'' + ltr.ordinal));
  $setDir(($clinit_DOM() , this$static.element), ltr.name_0 != null?ltr.name_0:'' + ltr.ordinal);
}

function $setRunAfterTextSet(this$static, runAfterTextSet){
  this$static.runAfterTextSet = runAfterTextSet;
}

function $setSpeed(this$static, newSpeed){
  this$static.Speed = newSpeed;
}

function $setText_9(this$static, text_0, disableSound){
  this$static.SoundCurrentlyDisabled = disableSound;
  if (globallyDisableTypeing_0) {
    $setTextNow(this$static, text_0, false);
    return;
  }
  this$static.ObjectsToLoadIntoText.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  this$static.aboutToType = true;
  this$static.currentlyTyping = false;
  !!this$static.associatedObject && $ObjectsLog_0(this$static.associatedObject, 'typing timer canceled', 'purple');
  removeObjectToUpdateOnFrame(this$static);
  if (this$static.associatedObject) {
    $ObjectsLog(this$static.associatedObject, 'typing text to:' + text_0, 1);
    $ObjectsLog(this$static.associatedObject, 'current widgets on panel:' + this$static.children.size_0, 1);
  }
  $clear(this$static);
  if (text_0.length > 0) {
    this$static.i = 0;
    this$static.currentText = '';
    this$static.targetText = text_0;
    !!this$static.associatedObject && $ObjectsLog_0(this$static.associatedObject, 'typing timer started', 'purple');
    addObjectToUpdateOnFrame(this$static);
  }
}

function $setTextNow(this$static, text_0, disableSound){
  var c, command, newText, nextCommentEnd, nextCommentStart, textTillComment, textTillComment0;
  this$static.attached || $severe_0(Log_105, ' was arnt attached yet! yet setTextNow is triggered...');
  this$static.SoundCurrentlyDisabled = disableSound;
  this$static.ObjectsToLoadIntoText.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  !!this$static.associatedObject && $ObjectsLog_0(this$static.associatedObject, 'typing timer canceled', 'purple');
  removeObjectToUpdateOnFrame(this$static);
  this$static.currentText = text_0;
  this$static.currentlyTyping = false;
  this$static.aboutToType = false;
  $info_1(Log_105, '*************************setting text to:' + text_0);
  if (this$static.associatedObject) {
    $ObjectsLog(this$static.associatedObject, 'currently text is ' + ($clinit_DOM() , this$static.element).innerHTML, 1);
    $ObjectsLog(this$static.associatedObject, 'current widgets on panel:' + this$static.children.size_0, 1);
  }
  $clear(this$static);
  if (text_0.indexOf('<!--') != -1) {
    $info_1(Log_105, '_______________________________________________________________________displaying text quickly (has inserts)');
    c = 0;
    newText = '';
    while (c < text_0.length) {
      nextCommentStart = text_0.indexOf('<!--', c);
      nextCommentEnd = text_0.indexOf('-->', nextCommentStart) + 3;
      if (nextCommentStart == -1) {
        textTillComment0 = $substring_0(text_0, c, text_0.length);
        newText = newText + textTillComment0;
        break;
      }
      textTillComment = text_0.substr(c, nextCommentStart - c);
      newText = newText + textTillComment;
      command = $trim(text_0.substr(nextCommentStart + 4, nextCommentEnd - 3 - (nextCommentStart + 4)));
      $info_1(Log_105, 'Command is:' + command);
      newText = $processCommandFromText(this$static, command, newText);
      $info_1(Log_105, 'new text is:' + newText);
      c = nextCommentEnd;
    }
    !!this$static.associatedObject && $ObjectsLog_0(this$static.associatedObject, 'text html is now:' + newText + '( objects to load:' + this$static.ObjectsToLoadIntoText.array.length + ')', 'orange');
    $info_1(Log_105, 'finnaly text html is:' + newText);
    $setInnerHTML(($clinit_DOM() , this$static.element), newText);
    !!this$static.associatedObject && $ObjectsLog(this$static.associatedObject, 'final text instantly set to:' + this$static.element.innerHTML, 1);
    $loadAnyNeededObjects(this$static);
  }
   else {
    $info_1(Log_105, '_______________________________________________________________________displaying text quickly (no inserts)');
    $setInnerHTML(($clinit_DOM() , this$static.element), text_0);
    !!this$static.associatedObject && $ObjectsLog(this$static.associatedObject, 'text instantly set to:' + text_0, 1);
  }
  !!this$static.runAfterTextSet && this$static.runAfterTextSet.run();
}

function $updateTyping(this$static){
  var command, next4letters, nextletter, skiptoo, tagbit, wordend;
  if (this$static.i >= this$static.targetText.length) {
    $setInnerHTML(($clinit_DOM() , this$static.element), this$static.currentText + this$static.blinkyBit);
    !!this$static.associatedObject && $ObjectsLog_0(this$static.associatedObject, 'text html is finnished typing InnerHTML=' + this$static.element.innerHTML, 'purple');
    this$static.i = 0;
    $loadAnyNeededObjects(this$static);
    this$static.currentlyTyping = false;
    this$static.SoundCurrentlyDisabled = false;
    !!this$static.runAfterTextSet && this$static.runAfterTextSet.run();
    !!this$static.associatedObject && $ObjectsLog_0(this$static.associatedObject, 'typing timer canceled', 'purple');
    removeObjectToUpdateOnFrame(this$static);
  }
   else {
    nextletter = $charAt_0(this$static.targetText, this$static.i);
    this$static.padding.length > 0 && (this$static.padding = $substring(this$static.padding, 1));
    next4letters = $substring_0(this$static.targetText, this$static.i, this$static.i + 4);
    if ($equalsIgnoreCase(next4letters, '<!--')) {
      $info_1(Log_105, '_____________________________________________comment or command detected!!');
      skiptoo = $indexOf_3(this$static.targetText, '-->', this$static.i);
      command = $trim($substring_0(this$static.targetText, this$static.i + 4, skiptoo));
      this$static.i = skiptoo + 3;
      this$static.currentText = $processCommandFromText(this$static, command, this$static.currentText);
      $setInnerHTML(($clinit_DOM() , this$static.element), this$static.currentText + this$static.nonBlinkyBit);
      !!this$static.associatedObject && $ObjectsLog_0(this$static.associatedObject, 'After comment detected InnerHTML=' + this$static.element.innerHTML, 'purple');
      return;
    }
     else if (nextletter == 60) {
      skiptoo = $indexOf_3(this$static.targetText, '>', this$static.i) + 1;
      tagbit = $trim($substring_0(this$static.targetText, this$static.i, skiptoo));
      !!this$static.associatedObject && $ObjectsLog(this$static.associatedObject, '___open tag detected in string being typed < Tag was:' + tagbit, 1);
      this$static.currentText = this$static.currentText + tagbit;
      this$static.i = skiptoo;
      return;
    }
     else if (nextletter == 38) {
      if (next4letters.indexOf(' ') == -1) {
        skiptoo = $indexOf_3(this$static.targetText, ';', this$static.i) + 1;
        tagbit = $trim($substring_0(this$static.targetText, this$static.i, skiptoo));
        $info_1(Log_105, '_ adding:' + tagbit + ':');
        this$static.currentText = this$static.currentText + tagbit;
        !!this$static.associatedObject && $ObjectsLog(this$static.associatedObject, '___open &__; insert detected in string being typed. Tag was:' + tagbit, 1);
        this$static.i = skiptoo;
        return;
      }
    }
    this$static.currentText = this$static.currentText + charToString(nextletter);
    $setInnerHTML(($clinit_DOM() , this$static.element), this$static.currentText + '<div class="' + this$static.cursorclass + '">' + this$static.nonBlinkyBit + '<\/div>' + '<div class="invis">' + this$static.padding + '<div>');
    this$static.i = this$static.i + 1;
    if (nextletter == 32) {
      wordend = $indexOf_3(this$static.targetText, ' ', this$static.i + 1);
      this$static.padding = $substring_0(this$static.targetText, this$static.i + 1, wordend);
    }
    this$static.SoundCurrentlyDisabled || (nextletter == 32?this$static.CUSTOM_SPACEKEY_BEEP != null?playAudioTrack(this$static.CUSTOM_SPACEKEY_BEEP, 100, false, ($clinit_JamAudioController$AudioType() , SoundEffect), -1):playDefaultSound(($clinit_JamAudioController$DefaultSound() , SpaceBeep)):this$static.CUSTOM_KEY_BEEP != null?playAudioTrack(this$static.CUSTOM_KEY_BEEP, 100, false, ($clinit_JamAudioController$AudioType() , SoundEffect), -1):playDefaultSound(($clinit_JamAudioController$DefaultSound() , KeyBeep)));
  }
}

function TypedLabel(){
  $clinit_TypedLabel();
  ComplexPanel.call(this);
  $setElement(this, $doc.createElement('div'));
  $setInnerHTML(($clinit_DOM() , this.element), '');
  this.targetText = '';
  this.currentText = '';
  this.Speed = 35;
  this.i = 0;
  this.Delay = 5;
  this.timeSinceLastUpdate = 0;
  this.associatedObject = null;
  this.ObjectsToLoadIntoText = new ArrayList;
  this.padding = '';
  this.blinkyBit = '<blink>\u2588<\/blink>';
  this.nonBlinkyBit = '\u2588';
  this.cursorclass = 'blinkcur';
  this.currentlyTyping = false;
  this.CUSTOM_KEY_BEEP = null;
  this.CUSTOM_SPACEKEY_BEEP = null;
  this.aboutToType = false;
  this.runAfterTextSet = null;
  this.SoundCurrentlyDisabled = false;
  this.targetText = '';
  this.i = 0;
  this.ObjectsToLoadIntoText.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
}

function setGloballyDisableTypeing(globallyDisableTypeing){
  $clinit_TypedLabel();
  globallyDisableTypeing_0 = globallyDisableTypeing;
}

defineClass(211, 430, {97:1, 20:1, 16:1, 19:1, 17:1, 27:1, 13:1, 15:1, 7:1, 211:1}, TypedLabel);
_.update_0 = function update_8(delta){
  this.timeSinceLastUpdate = this.timeSinceLastUpdate + delta;
  if (this.aboutToType) {
    if (this.timeSinceLastUpdate > this.Delay) {
      this.currentlyTyping = true;
      this.aboutToType = false;
      this.timeSinceLastUpdate = 0;
      return;
    }
     else {
      !!this.associatedObject && $ObjectsLog(this.associatedObject, 'delay before typing finnished, now starting to type:' + this.targetText + ' which is ' + this.targetText.length + ' characters long', 1);
      return;
    }
  }
  if (this.timeSinceLastUpdate > this.Speed && this.currentlyTyping) {
    this.timeSinceLastUpdate = this.timeSinceLastUpdate % this.Speed;
    $updateTyping(this);
  }
}
;
_.Delay = 0;
_.SoundCurrentlyDisabled = false;
_.Speed = 0;
_.aboutToType = false;
_.currentlyTyping = false;
_.i = 0;
_.timeSinceLastUpdate = 0;
var Log_105, globallyDisableTypeing_0 = false;
var Lcom_lostagain_JamGwt_TypedLabel_2_classLit = createForClass('com.lostagain.JamGwt', 'TypedLabel', 211, Lcom_google_gwt_user_client_ui_HTMLPanel_2_classLit);
function TypedLabel$1(this$0, val$runThis){
  this.this$01 = this$0;
  this.val$runThis2 = val$runThis;
}

defineClass(646, 1, {}, TypedLabel$1);
_.run = function run_110(){
  processInstructions_0(this.val$runThis2, 'TriggeredFromLab_', this.this$01.associatedObject);
}
;
var Lcom_lostagain_JamGwt_TypedLabel$1_2_classLit = createForClass('com.lostagain.JamGwt', 'TypedLabel/1', 646, Ljava_lang_Object_2_classLit);
function $addTab(this$static, Title, PanelToTrigger){
  var ChapterList, TempCurrentLocationTabs, decPanel, title_0;
  title_0 = new Label_1(Title);
  decPanel = new DecoratorPanel;
  $setWidget(decPanel, title_0);
  $add_5(this$static.VTabPanel, decPanel);
  this$static.PanelsToTriggerList[$getWidgetIndex(this$static.VTabPanel, decPanel)] = PanelToTrigger;
  ChapterList = new WidgetCollection$WidgetIterator(this$static.VTabPanel.children);
  while (ChapterList.index_0 < ChapterList.this$01.size_0) {
    $removeStyleName(dynamicCast($next_4(ChapterList), 238).widget, 'bold');
  }
  setStyleName(($clinit_DOM() , title_0.element), 'bold', true);
  TempCurrentLocationTabs = ($clinit_JAMcore() , CurrentScenesAndPages);
  $addDomHandler(title_0, new VerticalTabs$1(this$static, PanelToTrigger, TempCurrentLocationTabs), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}

function VerticalTabs(){
  SimplePanel.call(this);
  this.VTabPanel = new VerticalPanel;
  this.PanelsToTriggerList = initDim(I_classLit, $intern_53, 0, 100, 7, 1);
  setStylePrimaryName(($clinit_DOM() , this.element), 'overflowscroll');
  $setHorizontalAlignment_0(this.VTabPanel, ($clinit_HasHorizontalAlignment() , ALIGN_LEFT));
  $setSpacing(this.VTabPanel, 3);
  $setWidth(this.VTabPanel, '100%');
  $add_2(this, this.VTabPanel);
}

defineClass(431, 29, $intern_14, VerticalTabs);
var Lcom_lostagain_JamGwt_VerticalTabs_2_classLit = createForClass('com.lostagain.JamGwt', 'VerticalTabs', 431, Lcom_google_gwt_user_client_ui_SimplePanel_2_classLit);
function VerticalTabs$1(this$0, val$PanelToTrigger, val$TempCurrentLocationTabs){
  this.this$01 = this$0;
  this.val$PanelToTrigger2 = val$PanelToTrigger;
  this.val$TempCurrentLocationTabs3 = val$TempCurrentLocationTabs;
}

defineClass(647, 1, $intern_17, VerticalTabs$1);
_.onClick = function onClick_111(event_0){
  var ChapterList, Sender;
  Sender = dynamicCast(event_0.source, 7);
  $selectTab_1(($clinit_JAMcore() , GamesChaptersPanel), this.val$PanelToTrigger2);
  ChapterList = new WidgetCollection$WidgetIterator(this.this$01.VTabPanel.children);
  while (ChapterList.index_0 < ChapterList.this$01.size_0) {
    $removeStyleName(dynamicCast($next_4(ChapterList), 238).widget, 'bold');
  }
  $addStyleName(dynamicCast(Sender, 5), 'bold');
  this.val$TempCurrentLocationTabs3 == CurrentScenesAndPages?$setEnabled_1(dynamicCast(AnswerBox.get_1(), 74), true):$setEnabled_1(dynamicCast(AnswerBox.get_1(), 74), false);
}
;
_.val$PanelToTrigger2 = 0;
var Lcom_lostagain_JamGwt_VerticalTabs$1_2_classLit = createForClass('com.lostagain.JamGwt', 'VerticalTabs/1', 647, Ljava_lang_Object_2_classLit);
function $clinit_GWTMusicBox(){
  $clinit_GWTMusicBox = emptyMethod;
  $clinit_MusicBoxCore();
  Log_106 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.MusicBox'));
}

function $setSize_4(this$static, width_0){
  $setSize(this$static.visualRepresentation, width_0, '100%');
}

function GWTMusicBox(){
  $clinit_GWTMusicBox();
  var track, track$iterator;
  this.visualRepresentation = new HorizontalPanel;
  this.LeftPic = new Label_1('< ');
  this.RightPic = new Label_1(' >');
  this.CurrentMusicTrackLabel = new SpiffyListBox;
  $setPreferredSoundTypes(($clinit_GwtAudioController() , musicController), initValues(getClassLiteralForArray(Lcom_allen_1sauer_gwt_voices_client_SoundType_2_classLit, 1), $intern_1, 141, 0, [($clinit_SoundType() , HTML5), WEB_AUDIO, FLASH]));
  $add_4(this.visualRepresentation, this.LeftPic);
  $setCellVerticalAlignment_2(this.visualRepresentation, this.LeftPic, ($clinit_HasVerticalAlignment() , ALIGN_BOTTOM));
  $setPropertyImpl($getElement(this.LeftPic).style, 'color', 'FFFFFF');
  $add_4(this.visualRepresentation, this.CurrentMusicTrackLabel);
  $setSize(this.CurrentMusicTrackLabel, '100%', '100%');
  $setHeight(this.CurrentMusicTrackLabel.ScrollContainer, '290px');
  this.CurrentMusicTrackLabel.visibleitems = 1;
  $setStyleName(this.CurrentMusicTrackLabel.CurrentSelectedLab, 'MusicBoxDropDownLabel');
  $removeStyleName(this.CurrentMusicTrackLabel.DropDownContainer, 'SpiffyTextBox');
  $setStyleName(this.CurrentMusicTrackLabel.ListContainer, 'MusicBoxDropDownPanel');
  this.CurrentMusicTrackLabel.hoverStyleName = 'MusicBoxDropDownHover';
  $setCellHorizontalAlignment_0(this.visualRepresentation, this.CurrentMusicTrackLabel, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setCellVerticalAlignment_2(this.visualRepresentation, this.CurrentMusicTrackLabel, ALIGN_BOTTOM);
  $add_4(this.visualRepresentation, this.RightPic);
  $setCellVerticalAlignment_2(this.visualRepresentation, this.RightPic, ALIGN_BOTTOM);
  $setCellHorizontalAlignment_0(this.visualRepresentation, this.RightPic, ALIGN_RIGHT);
  $setPropertyImpl($getElement(this.RightPic).style, 'color', 'FFFFFF');
  $setSize(this.visualRepresentation, '100%', '100%');
  musicTracks.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
  musicTracks.add_0(' -NONE- ');
  $addItem(this.CurrentMusicTrackLabel, ' -NONE- ', ' -NONE- ');
  $addChangeHandler(this.CurrentMusicTrackLabel, new GWTMusicBox$1(this));
  $addDomHandler(this.LeftPic, new GWTMusicBox$2, ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  $addDomHandler(this.RightPic, new GWTMusicBox$3, (null , TYPE_1));
  for (track$iterator = new AbstractList$IteratorImpl(musicTracks); track$iterator.i < track$iterator.this$01_0.size_1();) {
    track = (checkCriticalElement(track$iterator.i < track$iterator.this$01_0.size_1()) , dynamicCastToString(track$iterator.this$01_0.get_0(track$iterator.last = track$iterator.i++)));
    $clinit_OptionalImplementations();
    JamAudioControllerImplementation.isPresent() && $addMusicTrack_implementation((dynamicCast(dynamicCast(JamAudioControllerImplementation.get_1(), 150), 194) , track), false, 100, -1);
  }
  $add_21(allMusicBoxs, this);
}

function addMusicTrackToLabel(label_0){
  $clinit_GWTMusicBox();
  var musicBoxinstance, musicBoxinstance$iterator;
  $info_1(Log_106, 'adding music track label to ' + allMusicBoxs.map_0.size_1() + ' music boxs');
  for (musicBoxinstance$iterator = $iterator_4(new AbstractMap$1(allMusicBoxs.map_0)); musicBoxinstance$iterator.val$outerIter2.hasNext();) {
    musicBoxinstance = dynamicCast($next_7(musicBoxinstance$iterator), 333);
    $addItem(musicBoxinstance.CurrentMusicTrackLabel, label_0, $split_0(dynamicCastToString($get(musicTracks, musicTracks.array.length - 1)), '\\.', 0)[0]);
  }
}

defineClass(439, 333, {13:1, 333:1}, GWTMusicBox);
_.asWidget = function asWidget_10(){
  return this.visualRepresentation;
}
;
var Log_106;
var Lcom_lostagain_JamGwt_audio_GWTMusicBox_2_classLit = createForClass('com.lostagain.JamGwt.audio', 'GWTMusicBox', 439, Lcom_lostagain_Jam_audio_MusicBoxCore_2_classLit);
function GWTMusicBox$1(this$0){
  this.this$01 = this$0;
}

defineClass(684, 1, $intern_116, GWTMusicBox$1);
_.onChange = function onChange_6(event_0){
  $clinit_MusicBoxCore();
  currentTrack = this.this$01.CurrentMusicTrackLabel.CurrentSelectNum;
  ($clinit_JAMcore() , GameLogger).info_0('\n changing track to -' + currentTrack);
  ($clinit_System() , out_0).print_0('\n changing track to -' + currentTrack);
  AnswerBox.isPresent() && $setFocus(dynamicCast(dynamicCast(AnswerBox.get_1(), 74), 135).widgetContents, true);
  playtrack(currentTrack, currentMaxVolume_0, -1);
  hasBeenSetByUser = true;
}
;
var Lcom_lostagain_JamGwt_audio_GWTMusicBox$1_2_classLit = createForClass('com.lostagain.JamGwt.audio', 'GWTMusicBox/1', 684, Ljava_lang_Object_2_classLit);
function GWTMusicBox$2(){
}

defineClass(685, 1, $intern_17, GWTMusicBox$2);
_.onClick = function onClick_112(event_0){
  $prevTrack();
  $clinit_MusicBoxCore();
  hasBeenSetByUser = true;
}
;
var Lcom_lostagain_JamGwt_audio_GWTMusicBox$2_2_classLit = createForClass('com.lostagain.JamGwt.audio', 'GWTMusicBox/2', 685, Ljava_lang_Object_2_classLit);
function GWTMusicBox$3(){
}

defineClass(686, 1, $intern_17, GWTMusicBox$3);
_.onClick = function onClick_113(event_0){
  $nextTrack();
  ($clinit_System() , out_0).print_0('bnl');
  $clinit_MusicBoxCore();
  hasBeenSetByUser = true;
}
;
var Lcom_lostagain_JamGwt_audio_GWTMusicBox$3_2_classLit = createForClass('com.lostagain.JamGwt.audio', 'GWTMusicBox/3', 686, Ljava_lang_Object_2_classLit);
function $clinit_GwtAudioController(){
  $clinit_GwtAudioController = emptyMethod;
  $clinit_JamAudioController();
  Log_107 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.GwtAudioController'));
  MusicAndSoundCache = new HashMap;
  musicController = new SoundController;
  soundController = new SoundController;
}

function $addMusicTrack_implementation(Track, autoPlay, Volume, fadeOver){
  var trackname;
  if ($indexOf_0(($clinit_MusicBoxCore() , musicTracks), Track, 0) != -1) {
    $info_1(Log_107, 'track:' + Track + ' already in music tracklist');
    $playAudioTrack_implementation(Track, Volume, true, ($clinit_JamAudioController$AudioType() , Music), fadeOver);
    return;
  }
  $info_1(Log_107, 'adding track:' + Track);
  musicTracks.add_0(Track);
  trackname = $split_0(dynamicCastToString($get(musicTracks, musicTracks.array.length - 1)), '\\.', 0)[0];
  trackname.indexOf('\\') != -1 && (trackname = $substring(trackname, trackname.indexOf('\\') + 1));
  trackname.indexOf('/') != -1 && (trackname = $substring(trackname, trackname.indexOf('/') + 1));
  dynamicCastToString($get(musicTracks, musicTracks.array.length - 1));
  addMusicTrackToLabel(trackname);
  $info_1(Log_107, 'currentTrack=' + currentTrack + ' : ' + musicHasBeenSelectedOnce() + ':' + autoPlay);
  if ((currentTrack > 0 || !musicHasBeenSelectedOnce()) && autoPlay) {
    currentTrack = musicTracks.array.length - 1;
    ($clinit_JAMcore() , GameLogger).info_0(':' + dynamicCastToString($get(musicTracks, currentTrack)));
    playtrack(currentTrack, Volume, fadeOver);
  }
}

function $cacheAudio(trackname, asMusic){
  var audioType, newMusic, newsound;
  $info_1(Log_107, 'cacheing track:' + trackname);
  newsound = $createSound(musicController, 'audio/ogg; codecs=vorbis', ($clinit_JAM() , audioLocation_url) + trackname);
  $info_1(Log_107, 'cacheing track in cache under this name:' + trackname);
  $clinit_JamAudioController$AudioType();
  asMusic?(audioType = Music):(audioType = SoundEffect);
  newMusic = new Track_0(newsound, trackname, ($clinit_MusicBoxCore() , currentMaxVolume_0), audioType);
  MusicAndSoundCache.put(trackname, newMusic);
}

function $playAudioTrack_implementation(ThisTrackName, targetVolume, fadeInAndOut, audiotype, FadeOver){
  var newMusicSource, trackNumber;
  $clinit_MusicBoxCore();
  currentMaxVolume_0 = targetVolume;
  if (($clinit_JamAudioController$AudioType() , SoundEffect) == audiotype && !($clinit_JAM() , SoundEffectOn)) {
    return;
  }
  if (ThisTrackName == null || !ThisTrackName.length || $equalsIgnoreCase(ThisTrackName, ' -NONE- ')) {
    setAllMusicTrackPlayingLabelTo(0);
    stopAllTracks(fadeInAndOut, null, null, FadeOver);
  }
   else {
    lastTrackPlayed = dynamicCast(MusicAndSoundCache.get_2(ThisTrackName), 241);
    if (lastTrackPlayed)
    ;
    else {
      newMusicSource = $createSound(musicController, 'audio/ogg; codecs=vorbis', ($clinit_JAM() , audioLocation_url) + ThisTrackName);
      lastTrackPlayed = new Track_0(newMusicSource, ThisTrackName, currentMaxVolume_0, audiotype);
      $info_1(Log_107, 'storing track in cache under this name:' + ThisTrackName);
      MusicAndSoundCache.put('' + ThisTrackName, lastTrackPlayed);
    }
    if (audiotype == Music) {
      stopAllTracks(fadeInAndOut, Music, lastTrackPlayed, FadeOver);
      $clinit_GWTMusicBox();
      trackNumber = $indexOf_0(musicTracks, ThisTrackName, 0);
      currentTrack = trackNumber;
      $info_1(Log_106, ThisTrackName + ' is track number = ' + trackNumber + ' tracklist is:' + musicTracks.toString$());
      setAllMusicTrackPlayingLabelTo(trackNumber);
      lastMusicTrackPlayed = lastTrackPlayed;
    }
    $setVolume_2(lastTrackPlayed, currentMaxVolume_0);
    FadeOver != -1 && $setFadeTime(lastTrackPlayed, FadeOver);
    $play_0(lastTrackPlayed, fadeInAndOut);
  }
}

function $setCurrentMusicVolume(Vol){
  $clinit_MusicBoxCore();
  currentMaxVolume_0 = Vol;
  $setVolume_2(lastMusicTrackPlayed, currentMaxVolume_0);
}

function GwtAudioController(){
  $clinit_GwtAudioController();
}

function stopAllTracks(fadeOut, trackTypeToStop, dontStopThisOne, fadeOutOver){
  $clinit_GwtAudioController();
  var ctrack, ctrack$iterator;
  for (ctrack$iterator = $iterator_5(new AbstractMap$2(MusicAndSoundCache)); ctrack$iterator.val$outerIter2.hasNext();) {
    ctrack = dynamicCast($next_8(ctrack$iterator), 241);
    if (ctrack.currentType == trackTypeToStop || !trackTypeToStop) {
      if (ctrack != dontStopThisOne) {
        fadeOutOver != -1 && (ctrack.stepPerMS = 100 / fadeOutOver);
        $stop_0(ctrack, fadeOut);
      }
    }
  }
}

defineClass(194, 150, {150:1, 194:1}, GwtAudioController);
var Log_107, MusicAndSoundCache, lastMusicTrackPlayed, lastTrackPlayed, musicController, soundController;
var Lcom_lostagain_JamGwt_audio_GwtAudioController_2_classLit = createForClass('com.lostagain.JamGwt.audio', 'GwtAudioController', 194, Lcom_lostagain_Jam_audio_JamAudioController_2_classLit);
function $clinit_Track(){
  $clinit_Track = emptyMethod;
  Log_108 = (new LoggerImplRegular , $ensureLogger(getLogManager(), 'JAM.Track'));
  fadeingSounds = new HashSet;
}

function $play_0(this$static, FadeIn){
  var Succeeded;
  if (this$static.currentState == ($clinit_Track$AudioState() , Playing) || this$static.currentState == FadeingIn) {
    return;
  }
  if (FadeIn) {
    this$static.TracksSound.setVolume_0(0);
    this$static.fadeInRequested = true;
  }
   else {
    this$static.TracksSound.setVolume_0(this$static.MaxVolume);
  }
  Succeeded = this$static.TracksSound.play_0();
  if (Succeeded) {
    $setStateTo(this$static, Playing);
    this$static.fadeInRequested && $startFadeIn(this$static);
  }
   else {
    this$static.TracksSound.loadState == ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_NOT_READY) && $setStateTo(this$static, Loading);
  }
}

function $setFadeTime(this$static, fadeDurationMS){
  this$static.stepPerMS = 100 / fadeDurationMS;
}

function $setStateTo(this$static, state){
  updateMusic();
  this$static.currentState = state;
}

function $setVolume_2(this$static, currentMaxVolume){
  this$static.MaxVolume = currentMaxVolume;
  if (this$static.currentState == ($clinit_Track$AudioState() , Playing)) {
    this$static.TracksSound.setVolume_0(this$static.MaxVolume);
    this$static.CurrentVolume = this$static.MaxVolume;
  }
}

function $startFadeIn(this$static){
  this$static.fadeInRequested = false;
  if (this$static.TracksSound.getSoundType() == ($clinit_SoundType() , WEB_AUDIO)) {
    $setStateTo(this$static, ($clinit_Track$AudioState() , Playing));
    this$static.TracksSound.setVolume_0(this$static.MaxVolume);
    this$static.CurrentVolume = this$static.MaxVolume;
    return;
  }
  $setStateTo(this$static, ($clinit_Track$AudioState() , FadeingIn));
  this$static.TracksSound.setVolume_0(0);
  this$static.CurrentVolume = 0;
  $add_21(fadeingSounds, this$static);
  $clinit_DeltaTimerController();
  $add_21(objectsToUpdateOnTick, this$static);
  TimerRunning || (!tickTimer && (tickTimer = new DeltaTimerController$1) , $scheduleRepeating(tickTimer, FRAMEPERIOD) , lastUpdateTime = ($clinit_System() , fromDouble(now_1())) , TimerRunning = true);
}

function $startFadeOut(this$static){
  if (this$static.TracksSound.getSoundType() == ($clinit_SoundType() , WEB_AUDIO)) {
    $setStateTo(this$static, ($clinit_Track$AudioState() , Stopped));
    this$static.TracksSound.setVolume_0(this$static.MaxVolume);
    this$static.CurrentVolume = this$static.MaxVolume;
    return;
  }
  $setStateTo(this$static, ($clinit_Track$AudioState() , FadeingOut));
  $clinit_DeltaTimerController();
  $add_21(objectsToUpdateOnTick, this$static);
  TimerRunning || (!tickTimer && (tickTimer = new DeltaTimerController$1) , $scheduleRepeating(tickTimer, FRAMEPERIOD) , lastUpdateTime = ($clinit_System() , fromDouble(now_1())) , TimerRunning = true);
  $add_21(fadeingSounds, this$static);
}

function $stop_0(this$static, FadeOut){
  if (FadeOut) {
    $startFadeOut(this$static);
  }
   else {
    this$static.TracksSound.stop_0();
    $setStateTo(this$static, ($clinit_Track$AudioState() , Stopped));
  }
}

function $updateFade_0(this$static, delta){
  var fadeChangeAmount;
  fadeChangeAmount = this$static.stepPerMS * delta;
  switch (this$static.currentState.ordinal) {
    case 4:
      this$static.CurrentVolume = this$static.CurrentVolume + fadeChangeAmount;
      if (this$static.CurrentVolume > this$static.MaxVolume) {
        this$static.CurrentVolume = this$static.MaxVolume;
        $setStateTo(this$static, ($clinit_Track$AudioState() , Playing));
      }

      this$static.TracksSound.setVolume_0(round_int(this$static.CurrentVolume));
      break;
    case 6:
      this$static.CurrentVolume = this$static.CurrentVolume - fadeChangeAmount;
      $info_1(Log_108, 'CurrentVolume now::' + this$static.CurrentVolume);
      if (this$static.CurrentVolume < 1) {
        this$static.CurrentVolume = 0;
        $setStateTo(this$static, ($clinit_Track$AudioState() , Stopped));
      }

      this$static.TracksSound.setVolume_0(round_int(this$static.CurrentVolume));
  }
}

function Track_0(tracksSound, name_0, maxVolume, type_0){
  $clinit_Track();
  this.CurrentVolume = this.MaxVolume;
  this.currentState = ($clinit_Track$AudioState() , NoMusic);
  this.currentType = ($clinit_JamAudioController$AudioType() , SoundEffect);
  this.name_0 = name_0;
  this.currentType = type_0;
  this.TracksSound = tracksSound;
  this.MaxVolume = maxVolume;
  $setStateTo(this, Stopped);
  $addEventHandler(this.TracksSound, new Track$1(this));
}

function updateAllTracks(delta){
  var iterator, track;
  iterator = $iterator_4(new AbstractMap$1(fadeingSounds.map_0));
  while (iterator.val$outerIter2.hasNext()) {
    track = dynamicCast($next_7(iterator), 241);
    if (track.currentState != ($clinit_Track$AudioState() , FadeingIn) && track.currentState != FadeingOut) {
      iterator.val$outerIter2.remove_2();
      removeObjectToUpdateOnTick(track);
      return;
    }
    $updateFade_0(track, delta);
  }
}

defineClass(241, 1, {97:1, 241:1}, Track_0);
_.toString$ = function toString_73(){
  return this.name_0 + ',' + $name(this.currentState) + ',Col=' + this.CurrentVolume + '/' + this.MaxVolume;
}
;
_.update_0 = function update_9(delta){
  updateAllTracks(delta);
}
;
_.CurrentVolume = 0;
_.MaxVolume = 100;
_.fadeInRequested = false;
_.stepPerMS = 0.0125;
var Log_108, fadeingSounds;
var Lcom_lostagain_JamGwt_audio_Track_2_classLit = createForClass('com.lostagain.JamGwt.audio', 'Track', 241, Ljava_lang_Object_2_classLit);
function $onSoundLoadStateChange(this$static, event_0){
  if (event_0.loadState == ($clinit_Sound$LoadState() , LOAD_STATE_SUPPORTED_AND_READY)) {
    if (maskUndefined(this$static.this$01.TracksSound) === maskUndefined(event_0.source)) {
      if (this$static.this$01.fadeInRequested) {
        $startFadeIn(this$static.this$01);
      }
       else {
        this$static.this$01.TracksSound.setVolume_0(this$static.this$01.MaxVolume);
        this$static.this$01.TracksSound.play_0();
        $setStateTo(this$static.this$01, ($clinit_Track$AudioState() , Playing));
      }
    }
     else {
      $warning_0(($clinit_Track() , Log_108), 'new music loaded but objects dont match');
    }
  }
   else {
    $warning_0(($clinit_Track() , Log_108), 'music load state is:' + event_0.loadState);
  }
}

function Track$1(this$0){
  this.this$01 = this$0;
}

defineClass(1149, 1, {1464:1}, Track$1);
var Lcom_lostagain_JamGwt_audio_Track$1_2_classLit = createForClass('com.lostagain.JamGwt.audio', 'Track/1', 1149, Ljava_lang_Object_2_classLit);
function $clinit_Track$AudioState(){
  $clinit_Track$AudioState = emptyMethod;
  NoMusic = new Track$AudioState('NoMusic', 0);
  Stopped = new Track$AudioState('Stopped', 1);
  Preparing = new Track$AudioState('Preparing', 2);
  Loading = new Track$AudioState('Loading', 3);
  FadeingIn = new Track$AudioState('FadeingIn', 4);
  Playing = new Track$AudioState('Playing', 5);
  FadeingOut = new Track$AudioState('FadeingOut', 6);
}

function Track$AudioState(enum$name, enum$ordinal){
  Enum.call(this, enum$name, enum$ordinal);
}

function valueOf_43(name_0){
  $clinit_Track$AudioState();
  return valueOf(($clinit_Track$AudioState$Map() , $MAP_41), name_0);
}

function values_49(){
  $clinit_Track$AudioState();
  return initValues(getClassLiteralForArray(Lcom_lostagain_JamGwt_audio_Track$AudioState_2_classLit, 1), $intern_1, 186, 0, [NoMusic, Stopped, Preparing, Loading, FadeingIn, Playing, FadeingOut]);
}

defineClass(186, 9, {186:1, 3:1, 21:1, 9:1}, Track$AudioState);
var FadeingIn, FadeingOut, Loading, NoMusic, Playing, Preparing, Stopped;
var Lcom_lostagain_JamGwt_audio_Track$AudioState_2_classLit = createForEnum('com.lostagain.JamGwt.audio', 'Track/AudioState', 186, Ljava_lang_Enum_2_classLit, values_49, valueOf_43);
function $clinit_Track$AudioState$Map(){
  $clinit_Track$AudioState$Map = emptyMethod;
  $MAP_41 = createValueOfMap(($clinit_Track$AudioState() , initValues(getClassLiteralForArray(Lcom_lostagain_JamGwt_audio_Track$AudioState_2_classLit, 1), $intern_1, 186, 0, [NoMusic, Stopped, Preparing, Loading, FadeingIn, Playing, FadeingOut])));
}

var $MAP_41;
function $clinit_clickVisualiser(){
  $clinit_clickVisualiser = emptyMethod;
  clickFeedbackImage = initValues(getClassLiteralForArray(Lcom_google_gwt_user_client_ui_AbstractImagePrototype_2_classLit, 1), $intern_127, 46, 0, [create_3(($clinit_JAM() , $clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser0Initializer() , $clinit_JamImages_default_StaticClientBundleGenerator() , clickVisualiser0)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser1Initializer() , clickVisualiser1)), create_3(($clinit_JamImages_default_StaticClientBundleGenerator$clickVisualiser2Initializer() , clickVisualiser2))]);
  clickVisualIcon = new GWTAnimatedIcon_2(clickFeedbackImage);
  addClickFeedbackImage = ($clinit_JAMTimerController() , new GWTJAMTimerController$1(new clickVisualiser$1));
}

function clickVisualiser(){
  $clinit_clickVisualiser();
  PopupPanel.call(this);
  this.pthis = this;
  $setFrame_0(clickVisualIcon.animation, 0);
  this.lastFrameTimer = ($clinit_JAMTimerController() , new GWTJAMTimerController$1(new clickVisualiser$2(this)));
  $setWidget_1(this, clickVisualIcon);
  $setClassName($getParentElement(($clinit_DOM() , $getFirstChildElement(this.element))), 'circleThingy');
  setStyleName($getParentElement($getFirstChildElement(this.element)), 'unselectable', true);
  this.element.style['zIndex'] = '999999';
  $setFrameGap(clickVisualIcon, 70);
  $setCommandToRunAfterOpen_0(clickVisualIcon, new clickVisualiser$3(this));
}

function showclicker(x_0, y_0){
  $clinit_clickVisualiser();
  $setPopupPosition(($clinit_JAM() , tinything), x_0 - 25, y_0 - 25);
  $schedule(addClickFeedbackImage, 20);
}

defineClass(642, 53, $intern_35, clickVisualiser);
_.onLoad = function onLoad_14(){
  $setFrame_0(clickVisualIcon.animation, 0);
  $setPlayForward(clickVisualIcon.animation);
}
;
var addClickFeedbackImage, clickFeedbackImage, clickVisualIcon;
var Lcom_lostagain_JamGwt_clickVisualiser_2_classLit = createForClass('com.lostagain.JamGwt', 'clickVisualiser', 642, Lcom_google_gwt_user_client_ui_PopupPanel_2_classLit);
function clickVisualiser$1(){
}

defineClass(643, 1, {}, clickVisualiser$1);
_.run = function run_111(){
  $show(($clinit_JAM() , tinything));
}
;
var Lcom_lostagain_JamGwt_clickVisualiser$1_2_classLit = createForClass('com.lostagain.JamGwt', 'clickVisualiser/1', 643, Ljava_lang_Object_2_classLit);
function clickVisualiser$2(this$0){
  this.this$01 = this$0;
}

defineClass(644, 1, {}, clickVisualiser$2);
_.run = function run_112(){
  $hide(this.this$01.pthis);
}
;
var Lcom_lostagain_JamGwt_clickVisualiser$2_2_classLit = createForClass('com.lostagain.JamGwt', 'clickVisualiser/2', 644, Ljava_lang_Object_2_classLit);
function clickVisualiser$3(this$0){
  this.this$01 = this$0;
}

defineClass(645, 1, {}, clickVisualiser$3);
_.run = function run_113(){
  $schedule(this.this$01.lastFrameTimer, 70);
}
;
var Lcom_lostagain_JamGwt_clickVisualiser$3_2_classLit = createForClass('com.lostagain.JamGwt', 'clickVisualiser/3', 645, Ljava_lang_Object_2_classLit);
function fader(){
  AbsolutePanel.call(this);
  $setClassName(($clinit_DOM() , this.element), 'fader');
  setStyleAttribute(this.element, 'zIndex', '1000');
  setStyleAttribute(this.element, 'width', '100%');
  setStyleAttribute(this.element, 'height', '100%');
}

defineClass(648, 76, $intern_52, fader);
var Lcom_lostagain_JamGwt_fader_2_classLit = createForClass('com.lostagain.JamGwt', 'fader', 648, Lcom_google_gwt_user_client_ui_AbsolutePanel_2_classLit);
function $clinit_secretsPanel(){
  $clinit_secretsPanel = emptyMethod;
  secretitems = new ArrayList;
}

function $addItem_1(this$static, Name, Link_0){
  var newsecret;
  this$static.numofitems = this$static.numofitems + 1;
  newsecret = new Hyperlink_0(Name);
  Link_0 == null || Link_0.length == 0?$removeAttribute(($clinit_DOM() , newsecret.element), 'title'):$setAttribute(($clinit_DOM() , newsecret.element), 'title', Link_0);
  $addHandler(newsecret, new secretsPanel$2(Link_0), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
  setStylePrimaryName(($clinit_DOM() , newsecret.element), 'button1');
  secretitems.add_0(newsecret);
  $add_3(this$static, newsecret, this$static.element);
  this$static.angle_between_each = ~~(360 / this$static.numofitems);
}

function $updatePositions(this$static, from_this_angle){
  var displace, it, item_0, newxpos, newypos;
  this$static.centerx = ~~($getPropertyInt(($clinit_DOM() , this$static.element), 'offsetWidth') / 2) - 15;
  this$static.centery = ~~($getPropertyInt(this$static.element, 'offsetHeight') / 2);
  this$static.radius = ~~($getPropertyInt(this$static.element, 'offsetWidth') / 2) - 35;
  it = new AbstractList$IteratorImpl(secretitems);
  while (it.i < it.this$01_0.size_1()) {
    item_0 = (checkCriticalElement(it.i < it.this$01_0.size_1()) , dynamicCast(it.this$01_0.get_0(it.last = it.i++), 7));
    displace = $indexOf_0(secretitems, item_0, 0) * this$static.angle_between_each;
    newxpos = toInt(fromDouble(round0(this$static.centerx + Math.sin((from_this_angle + displace) * $intern_20) * this$static.radius)));
    newypos = toInt(fromDouble(round0(this$static.centery + Math.cos((from_this_angle + displace) * $intern_20) * this$static.radius)));
    $checkWidgetParent(this$static, item_0);
    $setWidgetPositionImpl(item_0, newxpos, newypos);
  }
}

function secretsPanel(){
  $clinit_secretsPanel();
  AbsolutePanel.call(this);
  this.numofitems = 0;
  this.angle_between_each = 0;
  this.baseangle = 0;
  this.centerx = 100;
  this.centery = 100;
  this.radius = 50;
  ($clinit_DOM() , this.element).style['width'] = '571px';
  this.element.style['height'] = '617px';
  setStylePrimaryName(this.element, 'secretsback');
  this.update = new secretsPanel$1(this);
}

defineClass(671, 76, {20:1, 16:1, 19:1, 76:1, 17:1, 27:1, 67:1, 13:1, 15:1, 7:1, 64:1, 71:1}, secretsPanel);
_.CloseDefault = function CloseDefault_27(){
  $cancel(this.update);
  $setPlayBack(($clinit_JAM() , SecretsPopupPanelButton).animation);
  SecretsPanelOpen = false;
}
;
_.DRAGABLE = function DRAGABLE_19(){
  return true;
}
;
_.OpenDefault = function OpenDefault_22(){
  $scheduleRepeating(this.update, 45);
}
;
_.POPUPTYPE = function POPUPTYPE_19(){
  return null;
}
;
_.getVisualRepresentation = function getVisualRepresentation_25(){
  return this;
}
;
_.angle_between_each = 0;
_.baseangle = 0;
_.centerx = 0;
_.centery = 0;
_.numofitems = 0;
_.radius = 0;
var secretitems;
var Lcom_lostagain_JamGwt_secretsPanel_2_classLit = createForClass('com.lostagain.JamGwt', 'secretsPanel', 671, Lcom_google_gwt_user_client_ui_AbsolutePanel_2_classLit);
function secretsPanel$1(this$0){
  this.this$01 = this$0;
  Timer.call(this);
}

defineClass(672, 61, {}, secretsPanel$1);
_.run = function run_114(){
  this.this$01.baseangle = this.this$01.baseangle + 1;
  this.this$01.baseangle > 360 && (this.this$01.baseangle = 0);
  $updatePositions(this.this$01, this.this$01.baseangle);
}
;
var Lcom_lostagain_JamGwt_secretsPanel$1_2_classLit = createForClass('com.lostagain.JamGwt', 'secretsPanel/1', 672, Lcom_google_gwt_user_client_Timer_2_classLit);
function secretsPanel$2(val$Link){
  this.val$Link2 = val$Link;
}

defineClass(673, 1, $intern_17, secretsPanel$2);
_.onClick = function onClick_114(event_0){
  open_2(this.val$Link2, '_blank', '');
}
;
var Lcom_lostagain_JamGwt_secretsPanel$2_2_classLit = createForClass('com.lostagain.JamGwt', 'secretsPanel/2', 673, Ljava_lang_Object_2_classLit);
function topBar(Name, Container){
  HorizontalPanel.call(this);
  this.Title = new Label_1('Inventory');
  new HorizontalPanel;
  this.closeX = new Image_4('GameIcons/cc2xbutton.png');
  $setText_0(this.Title, Name);
  setStylePrimaryName(($clinit_DOM() , this.element), 'DefaultTopBar');
  this.element.style['width'] = '100%';
  this.element.style['height'] = '20px';
  $add_4(this, this.Title);
  $setCellWidth(this, this.Title, '95%');
  $add_4(this, this.closeX);
  $setCellHorizontalAlignment_0(this, this.Title, ($clinit_HasHorizontalAlignment() , ALIGN_CENTER));
  $setCellHorizontalAlignment_0(this, this.closeX, ALIGN_RIGHT);
  $addHandler(this.closeX, new topBar$1(Container), ($clinit_ClickEvent() , $clinit_ClickEvent() , TYPE_1));
}

defineClass(927, 34, $intern_22, topBar);
var Lcom_lostagain_JamGwt_topBar_2_classLit = createForClass('com.lostagain.JamGwt', 'topBar', 927, Lcom_google_gwt_user_client_ui_HorizontalPanel_2_classLit);
function topBar$1(val$Container){
  this.val$Container2 = val$Container;
}

defineClass(928, 1, $intern_17, topBar$1);
_.onClick = function onClick_115(event_0){
  var Sender, temp;
  Sender = dynamicCast(event_0.source, 7);
  ($clinit_System() , out_0).print_0($getName(Sender.parent_1.parent_1.___clazz$));
  temp = $getName(Sender.parent_1.parent_1.___clazz$);
  out_0.println_0(temp);
  $CloseDefault_2(this.val$Container2);
}
;
var Lcom_lostagain_JamGwt_topBar$1_2_classLit = createForClass('com.lostagain.JamGwt', 'topBar/1', 928, Ljava_lang_Object_2_classLit);
defineClass(1527, 1, {});
var Ljava_io_InputStream_2_classLit = createForClass('java.io', 'InputStream', 1527, Ljava_lang_Object_2_classLit);
function $read(this$static){
  if (this$static.pos >= this$static.count)
    return -1;
  return this$static.buf[this$static.pos++] & 255;
}

function $read_0(this$static, buf, off, len){
  if (this$static.pos >= this$static.count)
    return -1;
  len = min_1(len, this$static.count - this$static.pos);
  arraycopy(this$static.buf, this$static.pos, buf, off, len);
  this$static.pos += len;
  return len;
}

function ByteArrayInputStream(buf){
  ByteArrayInputStream_0.call(this, buf, buf.length);
}

function ByteArrayInputStream_0(buf, len){
  this.buf = buf;
  this.pos = 0;
  this.count = len;
  this.count > buf.length && (this.count = buf.length);
}

defineClass(402, 1527, {}, ByteArrayInputStream);
_.count = 0;
_.pos = 0;
var Ljava_io_ByteArrayInputStream_2_classLit = createForClass('java.io', 'ByteArrayInputStream', 402, Ljava_io_InputStream_2_classLit);
function $ensureCapacity(this$static, len){
  var newbuf;
  if (len <= this$static.buf.length)
    return;
  len = max_1(len, this$static.buf.length * 2);
  newbuf = initDim(B_classLit, $intern_53, 0, len, 7, 1);
  arraycopy(this$static.buf, 0, newbuf, 0, this$static.buf.length);
  this$static.buf = newbuf;
}

function $toByteArray(this$static){
  var data_0;
  data_0 = initDim(B_classLit, $intern_53, 0, this$static.count, 7, 1);
  arraycopy(this$static.buf, 0, data_0, 0, this$static.count);
  return data_0;
}

function $write(this$static, b){
  $ensureCapacity(this$static, this$static.count + 1);
  this$static.buf[this$static.count++] = narrow_byte(b);
}

function $write_0(this$static, buf, off, len){
  $ensureCapacity(this$static, this$static.count + len);
  arraycopy(buf, off, this$static.buf, this$static.count, len);
  this$static.count += len;
}

function ByteArrayOutputStream(){
  this.buf = initDim(B_classLit, $intern_53, 0, 32, 7, 1);
}

defineClass(348, 1508, {}, ByteArrayOutputStream);
_.count = 0;
var Ljava_io_ByteArrayOutputStream_2_classLit = createForClass('java.io', 'ByteArrayOutputStream', 348, Ljava_io_OutputStream_2_classLit);
function IOException(message){
  Exception_0.call(this, message);
}

defineClass(173, 37, {173:1, 3:1, 37:1, 40:1}, IOException);
var Ljava_io_IOException_2_classLit = createForClass('java.io', 'IOException', 173, Ljava_lang_Exception_2_classLit);
function $append0(this$static, x_0, start_0, end){
  x_0 == null && (x_0 = 'null');
  this$static.string += x_0.substr(start_0, end - start_0);
}

function $charAt(this$static, index_0){
  return $charAt_0(this$static.string, index_0);
}

function $replace0(this$static, start_0, end, toInsert){
  this$static.string = $substring_0(this$static.string, 0, start_0) + toInsert + $substring(this$static.string, end);
}

function $setCharAt(this$static, index_0, x_0){
  $replace0(this$static, index_0, index_0 + 1, valueOf_46(x_0));
}

function AbstractStringBuilder(string){
  this.string = string;
}

defineClass(281, 1, {});
_.toString$ = function toString_74(){
  return this.string;
}
;
var Ljava_lang_AbstractStringBuilder_2_classLit = createForClass('java.lang', 'AbstractStringBuilder', 281, Ljava_lang_Object_2_classLit);
function ArithmeticException(explanation){
  RuntimeException_0.call(this, explanation);
}

defineClass(223, 52, $intern_7, ArithmeticException);
var Ljava_lang_ArithmeticException_2_classLit = createForClass('java.lang', 'ArithmeticException', 223, Ljava_lang_RuntimeException_2_classLit);
function IndexOutOfBoundsException(){
  RuntimeException.call(this);
}

function IndexOutOfBoundsException_0(message){
  RuntimeException_0.call(this, message);
}

defineClass(59, 52, $intern_131, IndexOutOfBoundsException, IndexOutOfBoundsException_0);
var Ljava_lang_IndexOutOfBoundsException_2_classLit = createForClass('java.lang', 'IndexOutOfBoundsException', 59, Ljava_lang_RuntimeException_2_classLit);
function ArrayIndexOutOfBoundsException(){
  IndexOutOfBoundsException.call(this);
}

defineClass(1436, 59, $intern_131, ArrayIndexOutOfBoundsException);
var Ljava_lang_ArrayIndexOutOfBoundsException_2_classLit = createForClass('java.lang', 'ArrayIndexOutOfBoundsException', 1436, Ljava_lang_IndexOutOfBoundsException_2_classLit);
function ArrayStoreException(){
  RuntimeException.call(this);
}

function ArrayStoreException_0(message){
  RuntimeException_0.call(this, message);
}

defineClass(280, 52, $intern_7, ArrayStoreException, ArrayStoreException_0);
var Ljava_lang_ArrayStoreException_2_classLit = createForClass('java.lang', 'ArrayStoreException', 280, Ljava_lang_RuntimeException_2_classLit);
function $clinit_Boolean(){
  $clinit_Boolean = emptyMethod;
  FALSE_2 = new Boolean_0(false);
  TRUE_3 = new Boolean_0(true);
}

function $compareTo_1(this$static, b){
  return compare_0(this$static.value_0, b.value_0);
}

function Boolean_0(value_0){
  $clinit_Boolean();
  this.value_0 = value_0;
}

function compare_0(x_0, y_0){
  return x_0 == y_0?0:x_0?1:-1;
}

defineClass(111, 1, {3:1, 111:1, 21:1}, Boolean_0);
_.compareTo = function compareTo_1(b){
  return $compareTo_1(this, dynamicCast(b, 111));
}
;
_.equals$ = function equals_40(o){
  return instanceOf(o, 111) && dynamicCast(o, 111).value_0 == this.value_0;
}
;
_.hashCode$ = function hashCode_37(){
  return this.value_0?1231:1237;
}
;
_.toString$ = function toString_75(){
  return '' + this.value_0;
}
;
_.value_0 = false;
var FALSE_2, TRUE_3;
var Ljava_lang_Boolean_2_classLit = createForClass('java.lang', 'Boolean', 111, Ljava_lang_Object_2_classLit);
function $compareTo_2(this$static, c){
  return this$static.value_0 - c.value_0;
}

function Character(value_0){
  this.value_0 = value_0;
}

function codePointAt(cs, index_0, limit){
  var hiSurrogate, loSurrogate;
  hiSurrogate = $charAt_0(cs, index_0++);
  if (hiSurrogate >= 55296 && hiSurrogate <= 56319 && index_0 < limit && isLowSurrogate(loSurrogate = cs.charCodeAt(index_0))) {
    return $intern_102 + ((hiSurrogate & 1023) << 10) + (loSurrogate & 1023);
  }
  return hiSurrogate;
}

function digit_1(c, radix){
  if (radix < 2 || radix > 36) {
    return -1;
  }
  if (c >= 48 && c < 48 + (radix < 10?radix:10)) {
    return c - 48;
  }
  if (c >= 97 && c < radix + 97 - 10) {
    return c - 97 + 10;
  }
  if (c >= 65 && c < radix + 65 - 10) {
    return c - 65 + 10;
  }
  return -1;
}

function forDigit(digit){
  var overBaseTen;
  if (digit < 0 || digit >= 16) {
    return 0;
  }
  return overBaseTen = digit - 10 , (overBaseTen < 0?48 + digit:97 + overBaseTen) & $intern_31;
}

function isLetter(c){
  return null != String.fromCharCode(c).match(/[A-Z]/i);
}

function isLowSurrogate(ch_0){
  return ch_0 >= 56320 && ch_0 <= 57343;
}

function valueOf_44(c){
  var result;
  if (c < 128) {
    result = ($clinit_Character$BoxedValues() , boxedValues_0)[c];
    !result && (result = boxedValues_0[c] = new Character(c));
    return result;
  }
  return new Character(c);
}

defineClass(193, 1, {3:1, 193:1, 21:1}, Character);
_.compareTo = function compareTo_2(c){
  return $compareTo_2(this, dynamicCast(c, 193));
}
;
_.equals$ = function equals_41(o){
  return instanceOf(o, 193) && dynamicCast(o, 193).value_0 == this.value_0;
}
;
_.hashCode$ = function hashCode_38(){
  return this.value_0;
}
;
_.toString$ = function toString_76(){
  return valueOf_46(this.value_0);
}
;
_.value_0 = 0;
var Ljava_lang_Character_2_classLit = createForClass('java.lang', 'Character', 193, Ljava_lang_Object_2_classLit);
function $clinit_Character$BoxedValues(){
  $clinit_Character$BoxedValues = emptyMethod;
  boxedValues_0 = initDim(Ljava_lang_Character_2_classLit, $intern_1, 193, 128, 0, 1);
}

var boxedValues_0;
function ClassCastException(){
  RuntimeException.call(this);
}

defineClass(134, 52, {3:1, 134:1, 37:1, 40:1}, ClassCastException);
var Ljava_lang_ClassCastException_2_classLit = createForClass('java.lang', 'ClassCastException', 134, Ljava_lang_RuntimeException_2_classLit);
function __parseAndValidateDouble(s){
  var floatRegex;
  if (!(floatRegex = floatRegex_0 , !floatRegex && (floatRegex = floatRegex_0 = /^\s*[+-]?(NaN|Infinity|((\d+\.?\d*)|(\.\d+))([eE][+-]?\d+)?[dDfF]?)\s*$/) , floatRegex.test(s))) {
    throw new NumberFormatException('For input string: "' + s + '"');
  }
  return parseFloat(s);
}

function __parseAndValidateInt(s, radix){
  var i, isTooLow, length_0, startIndex, toReturn;
  if (s == null) {
    throw new NumberFormatException('null');
  }
  if (radix < 2 || radix > 36) {
    throw new NumberFormatException('radix ' + radix + ' out of range');
  }
  length_0 = s.length;
  startIndex = length_0 > 0 && (s.charCodeAt(0) == 45 || s.charCodeAt(0) == 43)?1:0;
  for (i = startIndex; i < length_0; i++) {
    if (digit_1(s.charCodeAt(i), radix) == -1) {
      throw new NumberFormatException('For input string: "' + s + '"');
    }
  }
  toReturn = parseInt(s, radix);
  isTooLow = toReturn < $intern_72;
  if (isNaN(toReturn)) {
    throw new NumberFormatException('For input string: "' + s + '"');
  }
   else if (isTooLow || toReturn > $intern_0) {
    throw new NumberFormatException('For input string: "' + s + '"');
  }
  return toReturn;
}

defineClass(367, 1, {3:1, 367:1});
var floatRegex_0;
var Ljava_lang_Number_2_classLit = createForClass('java.lang', 'Number', 367, Ljava_lang_Object_2_classLit);
function $compareTo_3(this$static, b){
  return compare_1(this$static.value_0, b.value_0);
}

function Double(value_0){
  this.value_0 = value_0;
}

function compare_1(x_0, y_0){
  if (x_0 < y_0) {
    return -1;
  }
  if (x_0 > y_0) {
    return 1;
  }
  if (x_0 == y_0) {
    return 0;
  }
  return isNaN(x_0)?isNaN(y_0)?0:1:-1;
}

defineClass(62, 367, {3:1, 21:1, 62:1, 367:1}, Double);
_.compareTo = function compareTo_3(b){
  return $compareTo_3(this, dynamicCast(b, 62));
}
;
_.equals$ = function equals_42(o){
  return instanceOf(o, 62) && dynamicCast(o, 62).value_0 == this.value_0;
}
;
_.hashCode$ = function hashCode_39(){
  return round_int(this.value_0);
}
;
_.toString$ = function toString_78(){
  return '' + this.value_0;
}
;
_.value_0 = 0;
var Ljava_lang_Double_2_classLit = createForClass('java.lang', 'Double', 62, Ljava_lang_Number_2_classLit);
function parseFloat_0(s){
  var doubleValue;
  doubleValue = __parseAndValidateDouble(s);
  if (doubleValue > 3.4028234663852886E38) {
    return Infinity;
  }
   else if (doubleValue < -3.4028234663852886E38) {
    return -Infinity;
  }
  return doubleValue;
}

function IllegalArgumentException(){
  RuntimeException.call(this);
}

function IllegalArgumentException_0(message){
  RuntimeException_0.call(this, message);
}

defineClass(44, 52, {3:1, 37:1, 44:1, 40:1}, IllegalArgumentException, IllegalArgumentException_0);
var Ljava_lang_IllegalArgumentException_2_classLit = createForClass('java.lang', 'IllegalArgumentException', 44, Ljava_lang_RuntimeException_2_classLit);
function IllegalStateException(){
  RuntimeException.call(this);
}

function IllegalStateException_0(s){
  RuntimeException_0.call(this, s);
}

defineClass(98, 52, $intern_7, IllegalStateException, IllegalStateException_0);
var Ljava_lang_IllegalStateException_2_classLit = createForClass('java.lang', 'IllegalStateException', 98, Ljava_lang_RuntimeException_2_classLit);
function $compareTo_4(this$static, b){
  return compare_2(this$static.value_0, b.value_0);
}

function Integer(value_0){
  this.value_0 = value_0;
}

function compare_2(x_0, y_0){
  return x_0 < y_0?-1:x_0 > y_0?1:0;
}

function numberOfLeadingZeros_0(i){
  var m, n, y_0;
  if (i < 0) {
    return 0;
  }
   else if (i == 0) {
    return 32;
  }
   else {
    y_0 = -(i >> 16);
    m = y_0 >> 16 & 16;
    n = 16 - m;
    i = i >> m;
    y_0 = i - 256;
    m = y_0 >> 16 & 8;
    n += m;
    i <<= m;
    y_0 = i - $intern_100;
    m = y_0 >> 16 & 4;
    n += m;
    i <<= m;
    y_0 = i - 16384;
    m = y_0 >> 16 & 2;
    n += m;
    i <<= m;
    y_0 = i >> 14;
    m = y_0 & ~(y_0 >> 1);
    return n + 2 - m;
  }
}

function numberOfTrailingZeros(i){
  var r, rtn;
  if (i == 0) {
    return 32;
  }
   else {
    rtn = 0;
    for (r = 1; (r & i) == 0; r <<= 1) {
      ++rtn;
    }
    return rtn;
  }
}

function toUnsignedRadixString(value_0, radix){
  return (value_0 >>> 0).toString(radix);
}

function valueOf_45(i){
  var rebase, result;
  if (i > -129 && i < 128) {
    rebase = i + 128;
    result = ($clinit_Integer$BoxedValues() , boxedValues_1)[rebase];
    !result && (result = boxedValues_1[rebase] = new Integer(i));
    return result;
  }
  return new Integer(i);
}

defineClass(160, 367, {3:1, 21:1, 160:1, 367:1}, Integer);
_.compareTo = function compareTo_4(b){
  return $compareTo_4(this, dynamicCast(b, 160));
}
;
_.equals$ = function equals_43(o){
  return instanceOf(o, 160) && dynamicCast(o, 160).value_0 == this.value_0;
}
;
_.hashCode$ = function hashCode_40(){
  return this.value_0;
}
;
_.toString$ = function toString_79(){
  return '' + this.value_0;
}
;
_.value_0 = 0;
var Ljava_lang_Integer_2_classLit = createForClass('java.lang', 'Integer', 160, Ljava_lang_Number_2_classLit);
function $clinit_Integer$BoxedValues(){
  $clinit_Integer$BoxedValues = emptyMethod;
  boxedValues_1 = initDim(Ljava_lang_Integer_2_classLit, $intern_1, 160, 256, 0, 1);
}

var boxedValues_1;
function compare_3(x_0, y_0){
  var signa, signb;
  return lt(x_0, y_0)?-1:(signa = x_0.h >> 19 , signb = y_0.h >> 19 , signa == 0?signb != 0 || x_0.h > y_0.h || x_0.h == y_0.h && x_0.m > y_0.m || x_0.h == y_0.h && x_0.m == y_0.m && x_0.l > y_0.l:!(signb == 0 || x_0.h < y_0.h || x_0.h == y_0.h && x_0.m < y_0.m || x_0.h == y_0.h && x_0.m == y_0.m && x_0.l <= y_0.l))?1:0;
}

function abs_0(x_0){
  return x_0 <= 0?0 - x_0:x_0;
}

function abs_1(x_0){
  return x_0 < 0?-x_0:x_0;
}

function atan2_0(y_0, x_0){
  return Math.atan2(y_0, x_0);
}

function ceil_0(x_0){
  return Math.ceil(x_0);
}

function cos_0(x_0){
  return Math.cos(x_0);
}

function floor_0(x_0){
  return Math.floor(x_0);
}

function hypot(x_0, y_0){
  return Math.sqrt(x_0 * x_0 + y_0 * y_0);
}

function log_5(x_0){
  return Math.log(x_0);
}

function max_0(x_0, y_0){
  return x_0 > y_0?x_0:y_0;
}

function max_1(x_0, y_0){
  return x_0 > y_0?x_0:y_0;
}

function min_0(x_0, y_0){
  return x_0 < y_0?x_0:y_0;
}

function min_1(x_0, y_0){
  return x_0 < y_0?x_0:y_0;
}

function pow_0(x_0, exp_0){
  return Math.pow(x_0, exp_0);
}

function random(){
  return Math.random();
}

function round_0(x_0){
  return Math.round(x_0);
}

function round0(x_0){
  return Math.round(x_0);
}

function signum(f){
  return f > 0?1:f < 0?-1:0;
}

function sin_0(x_0){
  return Math.sin(x_0);
}

function sqrt_0(x_0){
  return Math.sqrt(x_0);
}

function tanh(x_0){
  if (x_0 == Infinity) {
    return 1;
  }
  var e2x = Math.exp(2 * x_0);
  return (e2x - 1) / (e2x + 1);
}

function NullPointerException(){
  RuntimeException.call(this);
}

function NullPointerException_0(message){
  RuntimeException_0.call(this, message);
}

defineClass(82, 52, {3:1, 37:1, 82:1, 40:1}, NullPointerException, NullPointerException_0);
var Ljava_lang_NullPointerException_2_classLit = createForClass('java.lang', 'NullPointerException', 82, Ljava_lang_RuntimeException_2_classLit);
function NumberFormatException(message){
  IllegalArgumentException_0.call(this, message);
}

defineClass(105, 44, {3:1, 37:1, 44:1, 105:1, 40:1}, NumberFormatException);
var Ljava_lang_NumberFormatException_2_classLit = createForClass('java.lang', 'NumberFormatException', 105, Ljava_lang_IllegalArgumentException_2_classLit);
function StackTraceElement(methodName, fileName, lineNumber){
  this.className_0 = 'Unknown';
  this.methodName = methodName;
  this.fileName = fileName;
  this.lineNumber = lineNumber;
}

defineClass(209, 1, {3:1, 209:1}, StackTraceElement);
_.equals$ = function equals_44(other){
  var st;
  if (instanceOf(other, 209)) {
    st = dynamicCast(other, 209);
    return this.lineNumber == st.lineNumber && equals_52(this.methodName, st.methodName) && equals_52(this.className_0, st.className_0) && equals_52(this.fileName, st.fileName);
  }
  return false;
}
;
_.hashCode$ = function hashCode_41(){
  return hashCode_44(initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, [valueOf_45(this.lineNumber), this.className_0, this.methodName, this.fileName]));
}
;
_.toString$ = function toString_80(){
  return this.className_0 + '.' + this.methodName + '(' + (this.fileName != null?this.fileName:'Unknown Source') + (this.lineNumber >= 0?':' + this.lineNumber:'') + ')';
}
;
_.lineNumber = 0;
var Ljava_lang_StackTraceElement_2_classLit = createForClass('java.lang', 'StackTraceElement', 209, Ljava_lang_Object_2_classLit);
function $charAt_0(this$static, index_0){
  return this$static.charCodeAt(index_0);
}

function $endsWith(this$static, suffix){
  var suffixlength;
  suffixlength = suffix.length;
  return $equals_5(__substr(this$static, this$static.length - suffixlength, suffixlength), suffix);
}

function $equals_5(this$static, other){
  return this$static === other;
}

function $equalsIgnoreCase(this$static, other){
  if (other == null) {
    return false;
  }
  if (this$static == other) {
    return true;
  }
  return this$static.length == other.length && this$static.toLowerCase() == other.toLowerCase();
}

function $getChars(this$static, srcEnd, dst, dstBegin){
  var srcIdx;
  for (srcIdx = 0; srcIdx < srcEnd; ++srcIdx) {
    dst[dstBegin++] = this$static.charCodeAt(srcIdx);
  }
}

function $indexOf_2(this$static, str){
  return this$static.indexOf(str);
}

function $indexOf_3(this$static, str, startIndex){
  return this$static.indexOf(str, startIndex);
}

function $lastIndexOf(this$static, str){
  return this$static.lastIndexOf(str);
}

function $lastIndexOf_0(this$static, str, start_0){
  return this$static.lastIndexOf(str, start_0);
}

function $length(this$static){
  return this$static.length;
}

function $matches_2(this$static, regex){
  return (new RegExp('^(' + regex + ')$')).test(this$static);
}

function $replace_0(this$static, from, to){
  var regex, replacement;
  regex = $replaceAll(from, '([/\\\\\\.\\*\\+\\?\\|\\(\\)\\[\\]\\{\\}$^])', '\\\\$1');
  replacement = $replaceAll($replaceAll(to, '\\\\', '\\\\\\\\'), '\\$', '\\\\$');
  return $replaceAll(this$static, regex, replacement);
}

function $replaceAll(this$static, regex, replace){
  replace = __translateReplaceString(replace);
  return this$static.replace(RegExp(regex, 'g'), replace);
}

function $replaceFirst(this$static, regex, replace){
  replace = __translateReplaceString(replace);
  return this$static.replace(RegExp(regex), replace);
}

function $split_0(this$static, regex, maxMatch){
  var compiled = new RegExp(regex, 'g');
  var out = [];
  var count = 0;
  var trail = this$static;
  var lastTrail = null;
  while (true) {
    var matchObj = compiled.exec(trail);
    if (matchObj == null || trail == '' || count == maxMatch - 1 && maxMatch > 0) {
      out[count] = trail;
      break;
    }
     else {
      out[count] = trail.substring(0, matchObj.index);
      trail = trail.substring(matchObj.index + matchObj[0].length, trail.length);
      compiled.lastIndex = 0;
      if (lastTrail == trail) {
        out[count] = trail.substring(0, 1);
        trail = trail.substring(1);
      }
      lastTrail = trail;
      count++;
    }
  }
  if (maxMatch == 0 && this$static.length > 0) {
    var lastNonEmpty = out.length;
    while (lastNonEmpty > 0 && out[lastNonEmpty - 1] == '') {
      --lastNonEmpty;
    }
    lastNonEmpty < out.length && out.splice(lastNonEmpty, out.length - lastNonEmpty);
  }
  var jr = __createArray(out.length);
  for (var i = 0; i < out.length; ++i) {
    jr[i] = out[i];
  }
  return jr;
}

function $startsWith(this$static, prefix){
  return $equals_5(__substr(this$static, 0, prefix.length), prefix);
}

function $startsWith_0(this$static, prefix, toffset){
  return toffset >= 0 && $equals_5(__substr(this$static, toffset, prefix.length), prefix);
}

function $subSequence(this$static, beginIndex, endIndex){
  return this$static.substr(beginIndex, endIndex - beginIndex);
}

function $substring(this$static, beginIndex){
  return __substr(this$static, beginIndex, this$static.length - beginIndex);
}

function $substring_0(this$static, beginIndex, endIndex){
  return this$static.substr(beginIndex, endIndex - beginIndex);
}

function $toCharArray(this$static){
  var charArr, n;
  n = this$static.length;
  charArr = initDim(C_classLit, $intern_53, 0, n, 7, 1);
  $getChars(this$static, n, charArr, 0);
  return charArr;
}

function $trim(this$static){
  if (this$static.length == 0 || this$static[0] > ' ' && this$static[this$static.length - 1] > ' ') {
    return this$static;
  }
  return this$static.replace(/^[\u0000-\u0020]*|[\u0000-\u0020]*$/g, '');
}

function __createArray(numElements){
  return initDim(Ljava_lang_String_2_classLit, $intern_11, 2, numElements, 4, 1);
}

function __substr(str, beginIndex, len){
  return str.substr(beginIndex, len);
}

function __translateReplaceString(replaceStr){
  var pos;
  pos = 0;
  while (0 <= (pos = replaceStr.indexOf('\\', pos))) {
    replaceStr.charCodeAt(pos + 1) == 36?(replaceStr = replaceStr.substr(0, pos) + '$' + $substring(replaceStr, ++pos)):(replaceStr = replaceStr.substr(0, pos) + $substring(replaceStr, ++pos));
  }
  return replaceStr;
}

function __valueOf(x_0, start_0, end){
  var s = '';
  for (var batchStart = start_0; batchStart < end;) {
    var batchEnd = Math.min(batchStart + 10000, end);
    s += String.fromCharCode.apply(null, x_0.slice(batchStart, batchEnd));
    batchStart = batchEnd;
  }
  return s;
}

function compareTo_5(thisStr, otherStr){
  if (thisStr == otherStr) {
    return 0;
  }
  return thisStr < otherStr?-1:1;
}

function compareTo_Ljava_lang_Object__I__devirtual$(this$static, other){
  return isJavaString(this$static)?compareTo_5(this$static, dynamicCastToString(other)):this$static.compareTo(other);
}

function encodeUtf8(bytes, ofs, codePoint){
  if (codePoint < 128) {
    bytes[ofs] = narrow_byte(codePoint & 127);
    return 1;
  }
   else if (codePoint < $intern_34) {
    bytes[ofs++] = narrow_byte(codePoint >> 6 & 31 | 192);
    bytes[ofs] = narrow_byte(codePoint & 63 | 128);
    return 2;
  }
   else if (codePoint < $intern_102) {
    bytes[ofs++] = narrow_byte(codePoint >> 12 & 15 | 224);
    bytes[ofs++] = narrow_byte(codePoint >> 6 & 63 | 128);
    bytes[ofs] = narrow_byte(codePoint & 63 | 128);
    return 3;
  }
   else if (codePoint < $intern_105) {
    bytes[ofs++] = narrow_byte(codePoint >> 18 & 7 | 240);
    bytes[ofs++] = narrow_byte(codePoint >> 12 & 63 | 128);
    bytes[ofs++] = narrow_byte(codePoint >> 6 & 63 | 128);
    bytes[ofs] = narrow_byte(codePoint & 63 | 128);
    return 4;
  }
   else if (codePoint < $intern_108) {
    bytes[ofs++] = narrow_byte(codePoint >> 24 & 3 | 248);
    bytes[ofs++] = narrow_byte(codePoint >> 18 & 63 | 128);
    bytes[ofs++] = narrow_byte(codePoint >> 12 & 63 | 128);
    bytes[ofs++] = narrow_byte(codePoint >> 6 & 63 | 128);
    bytes[ofs] = narrow_byte(codePoint & 63 | 128);
    return 5;
  }
  throw new IllegalArgumentException_0('Character out of range: ' + codePoint);
}

function fromCodePoint(codePoint){
  var hiSurrogate, loSurrogate;
  if (codePoint >= $intern_102) {
    hiSurrogate = 55296 + (codePoint - $intern_102 >> 10 & 1023) & $intern_31;
    loSurrogate = 56320 + (codePoint - $intern_102 & 1023) & $intern_31;
    return valueOf_46(hiSurrogate) + valueOf_46(loSurrogate);
  }
   else {
    return String.fromCharCode(codePoint & $intern_31);
  }
}

function getBytesUtf8(str){
  var byteCount, bytes, ch_0, i, i0, n, out;
  n = str.length;
  byteCount = 0;
  for (i0 = 0; i0 < n;) {
    ch_0 = codePointAt(str, i0, str.length);
    i0 += ch_0 >= $intern_102?2:1;
    ch_0 < 128?++byteCount:ch_0 < $intern_34?(byteCount += 2):ch_0 < $intern_102?(byteCount += 3):ch_0 < $intern_105?(byteCount += 4):ch_0 < $intern_108 && (byteCount += 5);
  }
  bytes = initDim(B_classLit, $intern_53, 0, byteCount, 7, 1);
  out = 0;
  for (i = 0; i < n;) {
    ch_0 = codePointAt(str, i, str.length);
    i += ch_0 >= $intern_102?2:1;
    out += encodeUtf8(bytes, out, ch_0);
  }
  return bytes;
}

function valueOf_46(x_0){
  return String.fromCharCode(x_0);
}

var Ljava_lang_String_2_classLit = createForClass('java.lang', 'String', 2, Ljava_lang_Object_2_classLit);
function $clinit_String$HashCache(){
  $clinit_String$HashCache = emptyMethod;
  back_0 = {};
  front = {};
}

function compute(str){
  var hashCode, i, n, nBatch;
  hashCode = 0;
  n = str.length;
  nBatch = n - 4;
  i = 0;
  while (i < nBatch) {
    hashCode = str.charCodeAt(i + 3) + 31 * (str.charCodeAt(i + 2) + 31 * (str.charCodeAt(i + 1) + 31 * (str.charCodeAt(i) + 31 * hashCode)));
    hashCode = ~~hashCode;
    i += 4;
  }
  while (i < n) {
    hashCode = hashCode * 31 + $charAt_0(str, i++);
  }
  hashCode = ~~hashCode;
  return hashCode;
}

function getHashCode_1(str){
  $clinit_String$HashCache();
  var key = ':' + str;
  var result = front[key];
  if (result != null) {
    return result;
  }
  result = back_0[key];
  result == null && (result = compute(str));
  increment();
  return front[key] = result;
}

function increment(){
  if (count_0 == 256) {
    back_0 = front;
    front = {};
    count_0 = 0;
  }
  ++count_0;
}

var back_0, count_0 = 0, front;
function $append_0(this$static, x_0){
  this$static.string += charToString(x_0);
  return this$static;
}

function $append_1(this$static, x_0){
  this$static.string += x_0;
  return this$static;
}

function $append_2(this$static, x_0){
  this$static.string += x_0;
  return this$static;
}

function StringBuffer(){
  AbstractStringBuilder.call(this, '');
}

function StringBuffer_0(){
  AbstractStringBuilder.call(this, '');
}

defineClass(304, 281, {415:1}, StringBuffer, StringBuffer_0);
var Ljava_lang_StringBuffer_2_classLit = createForClass('java.lang', 'StringBuffer', 304, Ljava_lang_AbstractStringBuilder_2_classLit);
function $append_3(this$static, x_0){
  this$static.string += charToString(x_0);
  return this$static;
}

function $append_4(this$static, x_0){
  return this$static.string += x_0 , this$static;
}

function $append_5(this$static, x_0){
  this$static.string += x_0;
  return this$static;
}

function $append_6(this$static, x_0){
  this$static.string += x_0;
  return this$static;
}

function $delete(this$static, start_0, end){
  this$static.string = $substring_0(this$static.string, 0, start_0) + '' + $substring(this$static.string, end);
  return this$static;
}

function $insert_6(this$static, index_0, x_0){
  this$static.string = $substring_0(this$static.string, 0, index_0) + x_0 + $substring(this$static.string, index_0);
  return this$static;
}

function StringBuilder(){
  AbstractStringBuilder.call(this, '');
}

function StringBuilder_0(){
  AbstractStringBuilder.call(this, '');
}

function StringBuilder_1(s){
  AbstractStringBuilder.call(this, s);
}

defineClass(80, 281, {415:1}, StringBuilder, StringBuilder_0, StringBuilder_1);
var Ljava_lang_StringBuilder_2_classLit = createForClass('java.lang', 'StringBuilder', 80, Ljava_lang_AbstractStringBuilder_2_classLit);
function $clinit_System(){
  $clinit_System = emptyMethod;
  err = new PrintStream;
  out_0 = new PrintStream;
}

function arraycopy(src_0, srcOfs, dest, destOfs, len){
  $clinit_System();
  var destArray, destComp, destEnd, destType, destlen, srcArray, srcComp, srcType, srclen;
  checkNotNull_2(src_0, 'src');
  checkNotNull_2(dest, 'dest');
  srcType = getClass__Ljava_lang_Class___devirtual$(src_0);
  destType = getClass__Ljava_lang_Class___devirtual$(dest);
  checkArrayType((srcType.modifiers & 4) != 0, 'srcType is not an array');
  checkArrayType((destType.modifiers & 4) != 0, 'destType is not an array');
  srcComp = srcType.componentType;
  destComp = destType.componentType;
  checkArrayType((srcComp.modifiers & 1) != 0?srcComp == destComp:(destComp.modifiers & 1) == 0, "Array types don't match");
  srclen = src_0.length;
  destlen = dest.length;
  if (srcOfs < 0 || destOfs < 0 || len < 0 || srcOfs + len > srclen || destOfs + len > destlen) {
    throw new IndexOutOfBoundsException;
  }
  if (((srcComp.modifiers & 1) == 0 || (srcComp.modifiers & 4) != 0) && srcType != destType) {
    srcArray = dynamicCast(src_0, 4);
    destArray = dynamicCast(dest, 4);
    if (maskUndefined(src_0) === maskUndefined(dest) && srcOfs < destOfs) {
      srcOfs += len;
      for (destEnd = destOfs + len; destEnd-- > destOfs;) {
        setCheck(destArray, destEnd, srcArray[--srcOfs]);
      }
    }
     else {
      for (destEnd = destOfs + len; destOfs < destEnd;) {
        setCheck(destArray, destOfs++, srcArray[srcOfs++]);
      }
    }
  }
   else 
    len > 0 && nativeArraySplice(src_0, srcOfs, dest, destOfs, len, true);
}

var err, out_0;
function UnsupportedOperationException(){
  RuntimeException.call(this);
}

function UnsupportedOperationException_0(message){
  RuntimeException_0.call(this, message);
}

defineClass(54, 52, {3:1, 37:1, 40:1, 54:1}, UnsupportedOperationException, UnsupportedOperationException_0);
var Ljava_lang_UnsupportedOperationException_2_classLit = createForClass('java.lang', 'UnsupportedOperationException', 54, Ljava_lang_RuntimeException_2_classLit);
function ParseException(s){
  Exception_0.call(this, s);
}

defineClass(393, 37, {3:1, 37:1, 40:1, 393:1}, ParseException);
var Ljava_text_ParseException_2_classLit = createForClass('java.text', 'ParseException', 393, Ljava_lang_Exception_2_classLit);
function $contains_1(this$static, o){
  if (instanceOf(o, 31)) {
    return $containsEntry_0(this$static.this$01, dynamicCast(o, 31));
  }
  return false;
}

function AbstractHashMap$EntrySet(this$0){
  this.this$01 = this$0;
}

defineClass(578, 1483, $intern_60, AbstractHashMap$EntrySet);
_.clear_1 = function clear_33(){
  this.this$01.clear_1();
}
;
_.contains_0 = function contains_24(o){
  return $contains_1(this, o);
}
;
_.iterator = function iterator_38(){
  return new AbstractHashMap$EntrySetIterator(this.this$01);
}
;
_.remove = function remove_52(entry){
  var key;
  if ($contains_1(this, entry)) {
    key = dynamicCast(entry, 31).getKey();
    this.this$01.remove_3(key);
    return true;
  }
  return false;
}
;
_.size_1 = function size_26(){
  return this.this$01.size_1();
}
;
var Ljava_util_AbstractHashMap$EntrySet_2_classLit = createForClass('java.util', 'AbstractHashMap/EntrySet', 578, Ljava_util_AbstractSet_2_classLit);
function $hasNext_0(this$static){
  if (this$static.current.hasNext()) {
    return true;
  }
  if (this$static.current != this$static.stringMapEntries) {
    return false;
  }
  this$static.current = this$static.this$01.hashCodeMap.entries_0();
  return this$static.current.hasNext();
}

function AbstractHashMap$EntrySetIterator(this$0){
  this.this$01 = this$0;
  this.stringMapEntries = this.this$01.stringMap.entries_0();
  this.current = this.stringMapEntries;
  setModCount(this, this$0._gwt_modCount);
}

defineClass(579, 1, $intern_56, AbstractHashMap$EntrySetIterator);
_.hasNext = function hasNext_17(){
  return $hasNext_0(this);
}
;
_.next_0 = function next_18(){
  return checkStructuralChange(this.this$01, this) , checkCriticalElement($hasNext_0(this)) , this.last = this.current , dynamicCast(this.current.next_0(), 31);
}
;
_.remove_2 = function remove_53(){
  checkState_1(!!this.last);
  checkStructuralChange(this.this$01, this);
  this.last.remove_2();
  this.last = null;
  recordLastKnownStructure(this.this$01, this);
}
;
var Ljava_util_AbstractHashMap$EntrySetIterator_2_classLit = createForClass('java.util', 'AbstractHashMap/EntrySetIterator', 579, Ljava_lang_Object_2_classLit);
function $hasNext_1(this$static){
  return this$static.i < this$static.this$01_0.size_1();
}

function $next_6(this$static){
  checkCriticalElement(this$static.i < this$static.this$01_0.size_1());
  return this$static.this$01_0.get_0(this$static.last = this$static.i++);
}

function $remove_23(this$static){
  checkState_1(this$static.last != -1);
  this$static.this$01_0.remove_0(this$static.last);
  this$static.i = this$static.last;
  this$static.last = -1;
}

function AbstractList$IteratorImpl(this$0){
  this.this$01_0 = this$0;
}

defineClass(11, 1, $intern_56, AbstractList$IteratorImpl);
_.hasNext = function hasNext_18(){
  return $hasNext_1(this);
}
;
_.next_0 = function next_19(){
  return $next_6(this);
}
;
_.remove_2 = function remove_54(){
  $remove_23(this);
}
;
_.i = 0;
_.last = -1;
var Ljava_util_AbstractList$IteratorImpl_2_classLit = createForClass('java.util', 'AbstractList/IteratorImpl', 11, Ljava_lang_Object_2_classLit);
function AbstractList$ListIteratorImpl(this$0, start_0){
  this.this$01 = this$0;
  AbstractList$IteratorImpl.call(this, this$0);
  checkPositionIndex_0(start_0, this$0.size_1());
  this.i = start_0;
}

defineClass(371, 11, $intern_66, AbstractList$ListIteratorImpl);
_.hasPrevious = function hasPrevious_1(){
  return this.i > 0;
}
;
_.previous = function previous_2(){
  checkCriticalElement(this.i > 0);
  return this.this$01.get_0(this.last = --this.i);
}
;
var Ljava_util_AbstractList$ListIteratorImpl_2_classLit = createForClass('java.util', 'AbstractList/ListIteratorImpl', 371, Ljava_util_AbstractList$IteratorImpl_2_classLit);
function $contains_2(this$static, key){
  return this$static.this$01.containsKey(key);
}

function $iterator_4(this$static){
  var outerIter;
  outerIter = this$static.this$01.entrySet_0().iterator();
  return new AbstractMap$1$1(outerIter);
}

function AbstractMap$1(this$0){
  this.this$01 = this$0;
}

defineClass(26, 1483, $intern_60, AbstractMap$1);
_.clear_1 = function clear_34(){
  this.this$01.clear_1();
}
;
_.contains_0 = function contains_25(key){
  return $contains_2(this, key);
}
;
_.iterator = function iterator_39(){
  return $iterator_4(this);
}
;
_.remove = function remove_55(key){
  if (this.this$01.containsKey(key)) {
    this.this$01.remove_3(key);
    return true;
  }
  return false;
}
;
_.size_1 = function size_27(){
  return this.this$01.size_1();
}
;
var Ljava_util_AbstractMap$1_2_classLit = createForClass('java.util', 'AbstractMap/1', 26, Ljava_util_AbstractSet_2_classLit);
function $next_7(this$static){
  var entry;
  entry = dynamicCast(this$static.val$outerIter2.next_0(), 31);
  return entry.getKey();
}

function AbstractMap$1$1(val$outerIter){
  this.val$outerIter2 = val$outerIter;
}

defineClass(581, 1, $intern_56, AbstractMap$1$1);
_.hasNext = function hasNext_19(){
  return this.val$outerIter2.hasNext();
}
;
_.next_0 = function next_20(){
  return $next_7(this);
}
;
_.remove_2 = function remove_56(){
  this.val$outerIter2.remove_2();
}
;
var Ljava_util_AbstractMap$1$1_2_classLit = createForClass('java.util', 'AbstractMap/1/1', 581, Ljava_lang_Object_2_classLit);
function $contains_3(this$static, value_0){
  return this$static.this$01.containsValue(value_0);
}

function $iterator_5(this$static){
  var outerIter;
  outerIter = this$static.this$01.entrySet_0().iterator();
  return new AbstractMap$2$1(outerIter);
}

function AbstractMap$2(this$0){
  this.this$01 = this$0;
}

defineClass(70, $intern_2, $intern_3, AbstractMap$2);
_.clear_1 = function clear_35(){
  this.this$01.clear_1();
}
;
_.contains_0 = function contains_26(value_0){
  return $contains_3(this, value_0);
}
;
_.iterator = function iterator_40(){
  return $iterator_5(this);
}
;
_.size_1 = function size_28(){
  return this.this$01.size_1();
}
;
var Ljava_util_AbstractMap$2_2_classLit = createForClass('java.util', 'AbstractMap/2', 70, Ljava_util_AbstractCollection_2_classLit);
function $next_8(this$static){
  var entry;
  entry = dynamicCast(this$static.val$outerIter2.next_0(), 31);
  return entry.getValue();
}

function AbstractMap$2$1(val$outerIter){
  this.val$outerIter2 = val$outerIter;
}

defineClass(582, 1, $intern_56, AbstractMap$2$1);
_.hasNext = function hasNext_20(){
  return this.val$outerIter2.hasNext();
}
;
_.next_0 = function next_21(){
  return $next_8(this);
}
;
_.remove_2 = function remove_57(){
  this.val$outerIter2.remove_2();
}
;
var Ljava_util_AbstractMap$2$1_2_classLit = createForClass('java.util', 'AbstractMap/2/1', 582, Ljava_lang_Object_2_classLit);
function $setValue_4(this$static, value_0){
  var oldValue;
  oldValue = this$static.value_0;
  this$static.value_0 = value_0;
  return oldValue;
}

defineClass(580, 1, $intern_61);
_.equals$ = function equals_45(other){
  var entry;
  if (!instanceOf(other, 31)) {
    return false;
  }
  entry = dynamicCast(other, 31);
  return equals_52(this.key_0, entry.getKey()) && equals_52(this.value_0, entry.getValue());
}
;
_.getKey = function getKey_2(){
  return this.key_0;
}
;
_.getValue = function getValue_3(){
  return this.value_0;
}
;
_.hashCode$ = function hashCode_42(){
  return hashCode_52(this.key_0) ^ hashCode_52(this.value_0);
}
;
_.setValue = function setValue_4(value_0){
  return $setValue_4(this, value_0);
}
;
_.toString$ = function toString_81(){
  return this.key_0 + '=' + this.value_0;
}
;
var Ljava_util_AbstractMap$AbstractEntry_2_classLit = createForClass('java.util', 'AbstractMap/AbstractEntry', 580, Ljava_lang_Object_2_classLit);
function AbstractMap$SimpleEntry(key, value_0){
  this.key_0 = key;
  this.value_0 = value_0;
}

defineClass(368, 580, $intern_61, AbstractMap$SimpleEntry);
var Ljava_util_AbstractMap$SimpleEntry_2_classLit = createForClass('java.util', 'AbstractMap/SimpleEntry', 368, Ljava_util_AbstractMap$AbstractEntry_2_classLit);
defineClass(1492, 1, $intern_61);
_.equals$ = function equals_46(other){
  var entry;
  if (!instanceOf(other, 31)) {
    return false;
  }
  entry = dynamicCast(other, 31);
  return equals_52(this.getKey(), entry.getKey()) && equals_52(this.getValue(), entry.getValue());
}
;
_.hashCode$ = function hashCode_43(){
  return hashCode_52(this.getKey()) ^ hashCode_52(this.getValue());
}
;
_.toString$ = function toString_82(){
  return this.getKey() + '=' + this.getValue();
}
;
var Ljava_util_AbstractMapEntry_2_classLit = createForClass('java.util', 'AbstractMapEntry', 1492, Ljava_lang_Object_2_classLit);
defineClass(1513, 1488, $intern_4);
_.add_1 = function add_31(index_0, element){
  var iter;
  iter = $listIterator_0(this, index_0);
  $addNode(iter.this$01, element, iter.currentNode.prev, iter.currentNode);
  ++iter.currentIndex;
  iter.lastNode = null;
}
;
_.get_0 = function get_16(index_0){
  var iter;
  iter = $listIterator_0(this, index_0);
  try {
    return checkCriticalElement(iter.currentNode != iter.this$01.tail) , iter.lastNode = iter.currentNode , iter.currentNode = iter.currentNode.next , ++iter.currentIndex , iter.lastNode.value_0;
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 117)) {
      throw new IndexOutOfBoundsException_0("Can't get element " + index_0);
    }
     else 
      throw unwrap($e0);
  }
}
;
_.iterator = function iterator_41(){
  return $listIterator_0(this, 0);
}
;
_.remove_0 = function remove_58(index_0){
  var iter, old;
  iter = $listIterator_0(this, index_0);
  try {
    old = (checkCriticalElement(iter.currentNode != iter.this$01.tail) , iter.lastNode = iter.currentNode , iter.currentNode = iter.currentNode.next , ++iter.currentIndex , iter.lastNode.value_0);
    $remove_29(iter);
    return old;
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 117)) {
      throw new IndexOutOfBoundsException_0("Can't remove element " + index_0);
    }
     else 
      throw unwrap($e0);
  }
}
;
var Ljava_util_AbstractSequentialList_2_classLit = createForClass('java.util', 'AbstractSequentialList', 1513, Ljava_util_AbstractList_2_classLit);
function binarySearch(a, key){
  var high, low, mid, midVal;
  low = 0;
  high = a.length - 1;
  while (low <= high) {
    mid = low + (high - low >> 1);
    midVal = a[mid];
    if (midVal < key) {
      low = mid + 1;
    }
     else if (midVal > key) {
      high = mid - 1;
    }
     else {
      return mid;
    }
  }
  return -low - 1;
}

function fill(a){
  fill_0(a, a.length);
}

function fill_0(a, toIndex){
  var i;
  for (i = 0; i < toIndex; ++i) {
    a[i] = -1;
  }
}

function hashCode_44(a){
  var e, e$index, e$max, hashCode;
  hashCode = 1;
  for (e$index = 0 , e$max = a.length; e$index < e$max; ++e$index) {
    e = a[e$index];
    hashCode = 31 * hashCode + (e != null?hashCode__I__devirtual$(e):0);
    hashCode = ~~hashCode;
  }
  return hashCode;
}

function insertionSort(array, low, high, comp){
  var i, j, t;
  for (i = low + 1; i < high; ++i) {
    for (j = i; j > low && comp.compare(array[j - 1], array[j]) > 0; --j) {
      t = array[j];
      setCheck(array, j, array[j - 1]);
      setCheck(array, j - 1, t);
    }
  }
}

function merge(src_0, srcLow, srcMid, srcHigh, dest, destLow, destHigh, comp){
  var topIdx;
  topIdx = srcMid;
  while (destLow < destHigh) {
    topIdx >= srcHigh || srcLow < srcMid && comp.compare(src_0[srcLow], src_0[topIdx]) <= 0?setCheck(dest, destLow++, src_0[srcLow++]):setCheck(dest, destLow++, src_0[topIdx++]);
  }
}

function mergeSort(x_0, fromIndex, toIndex, comp){
  var temp, newLength, length_0, copy;
  !comp && (comp = ($clinit_Comparators() , $clinit_Comparators() , NATURAL));
  temp = (newLength = (length_0 = toIndex - fromIndex , checkCriticalArgument_1(length_0 >= 0, '%s > %s', initValues(getClassLiteralForArray(Ljava_lang_Object_2_classLit, 1), $intern_1, 1, 3, [valueOf_45(fromIndex), valueOf_45(toIndex)])) , length_0) , copy = createFrom(x_0, newLength) , arraycopy(x_0, fromIndex, copy, 0, min_1(x_0.length - fromIndex, newLength)) , copy);
  mergeSort_0(temp, x_0, fromIndex, toIndex, -fromIndex, comp);
}

function mergeSort_0(temp, array, low, high, ofs, comp){
  var length_0, tempHigh, tempLow, tempMid;
  length_0 = high - low;
  if (length_0 < 7) {
    insertionSort(array, low, high, comp);
    return;
  }
  tempLow = low + ofs;
  tempHigh = high + ofs;
  tempMid = tempLow + (tempHigh - tempLow >> 1);
  mergeSort_0(array, temp, tempLow, tempMid, -ofs, comp);
  mergeSort_0(array, temp, tempMid, tempHigh, -ofs, comp);
  if (comp.compare(temp[tempMid - 1], temp[tempMid]) <= 0) {
    while (low < high) {
      setCheck(array, low++, temp[tempLow++]);
    }
    return;
  }
  merge(temp, tempLow, tempMid, tempHigh, array, low, high, comp);
}

function sort_0(array){
  mergeSort(array, 0, array.length, ($clinit_Comparators() , $clinit_Comparators() , NATURAL));
}

function Arrays$ArrayList(array){
  this.array = array;
}

defineClass(297, 1488, $intern_69, Arrays$ArrayList);
_.contains_0 = function contains_27(o){
  return $indexOf(this, o) != -1;
}
;
_.get_0 = function get_17(index_0){
  return checkElementIndex(index_0, this.array.length) , this.array[index_0];
}
;
_.size_1 = function size_29(){
  return this.array.length;
}
;
_.toArray = function toArray_16(){
  return clone_0(this.array);
}
;
_.toArray_0 = function toArray_17(out){
  var i, size_0;
  size_0 = this.array.length;
  out.length < size_0 && (out = createFrom(out, size_0));
  for (i = 0; i < size_0; ++i) {
    setCheck(out, i, this.array[i]);
  }
  out.length > size_0 && setCheck(out, size_0, null);
  return out;
}
;
var Ljava_util_Arrays$ArrayList_2_classLit = createForClass('java.util', 'Arrays/ArrayList', 297, Ljava_util_AbstractList_2_classLit);
function $clinit_Collections(){
  $clinit_Collections = emptyMethod;
  EMPTY_LIST = new Collections$EmptyList;
  EMPTY_MAP = new Collections$EmptyMap;
  EMPTY_SET = new Collections$EmptySet;
}

function addAll_6(c, a){
  $clinit_Collections();
  var e, e$index, e$max, result;
  result = false;
  for (e$index = 0 , e$max = a.length; e$index < e$max; ++e$index) {
    e = a[e$index];
    result = result | $add_21(c, e);
  }
  return result;
}

function hashCode_45(collection){
  $clinit_Collections();
  var e, e$iterator, hashCode;
  hashCode = 0;
  for (e$iterator = collection.iterator(); e$iterator.hasNext();) {
    e = e$iterator.next_0();
    hashCode = hashCode + (e != null?hashCode__I__devirtual$(e):0);
    hashCode = ~~hashCode;
  }
  return hashCode;
}

function hashCode_46(list){
  $clinit_Collections();
  var e, e$iterator, hashCode;
  hashCode = 1;
  for (e$iterator = list.iterator(); e$iterator.hasNext();) {
    e = e$iterator.next_0();
    hashCode = 31 * hashCode + (e != null?hashCode__I__devirtual$(e):0);
    hashCode = ~~hashCode;
  }
  return hashCode;
}

function replaceContents(target, x_0){
  var i, size_0;
  size_0 = target.array.length;
  for (i = 0; i < size_0; i++) {
    $set(target, i, x_0[i]);
  }
}

function reverse(l){
  var t;
  $clinit_Collections();
  var iBack, iFront;
  for (iFront = 0 , iBack = l.array.length - 1; iFront < iBack; ++iFront , --iBack) {
    t = (checkElementIndex(iFront, l.array.length) , l.array[iFront]);
    $set(l, iFront, (checkElementIndex(iBack, l.array.length) , l.array[iBack]));
    $set(l, iBack, t);
  }
}

function sort_1(target, c){
  $clinit_Collections();
  var x_0;
  x_0 = cloneSubrange(target.array, target.array.length);
  mergeSort(x_0, 0, x_0.length, c);
  replaceContents(target, x_0);
}

function unmodifiableList(list){
  $clinit_Collections();
  return instanceOf(list, 68)?new Collections$UnmodifiableRandomAccessList(list):new Collections$UnmodifiableList(list);
}

var EMPTY_LIST, EMPTY_MAP, EMPTY_SET;
function Collections$EmptyList(){
}

defineClass(828, 1488, $intern_69, Collections$EmptyList);
_.contains_0 = function contains_28(object){
  return false;
}
;
_.get_0 = function get_18(location_0){
  checkElementIndex(location_0, 0);
  return null;
}
;
_.iterator = function iterator_42(){
  return $clinit_Collections() , $clinit_Collections$EmptyListIterator() , INSTANCE_7;
}
;
_.listIterator = function listIterator_7(){
  return $clinit_Collections() , $clinit_Collections$EmptyListIterator() , INSTANCE_7;
}
;
_.size_1 = function size_30(){
  return 0;
}
;
var Ljava_util_Collections$EmptyList_2_classLit = createForClass('java.util', 'Collections/EmptyList', 828, Ljava_util_AbstractList_2_classLit);
function $clinit_Collections$EmptyListIterator(){
  $clinit_Collections$EmptyListIterator = emptyMethod;
  INSTANCE_7 = new Collections$EmptyListIterator;
}

function Collections$EmptyListIterator(){
}

defineClass(829, 1, $intern_66, Collections$EmptyListIterator);
_.hasNext = function hasNext_21(){
  return false;
}
;
_.hasPrevious = function hasPrevious_2(){
  return false;
}
;
_.next_0 = function next_22(){
  throw new NoSuchElementException;
}
;
_.previous = function previous_3(){
  throw new NoSuchElementException;
}
;
_.remove_2 = function remove_59(){
  throw new IllegalStateException;
}
;
var INSTANCE_7;
var Ljava_util_Collections$EmptyListIterator_2_classLit = createForClass('java.util', 'Collections/EmptyListIterator', 829, Ljava_lang_Object_2_classLit);
function Collections$EmptyMap(){
}

defineClass(831, 1481, $intern_59, Collections$EmptyMap);
_.containsKey = function containsKey_7(key){
  return false;
}
;
_.containsValue = function containsValue_5(value_0){
  return false;
}
;
_.entrySet_0 = function entrySet_4(){
  return $clinit_Collections() , EMPTY_SET;
}
;
_.get_2 = function get_19(key){
  return null;
}
;
_.keySet_0 = function keySet_5(){
  return $clinit_Collections() , EMPTY_SET;
}
;
_.size_1 = function size_31(){
  return 0;
}
;
_.values_0 = function values_50(){
  return $clinit_Collections() , EMPTY_LIST;
}
;
var Ljava_util_Collections$EmptyMap_2_classLit = createForClass('java.util', 'Collections/EmptyMap', 831, Ljava_util_AbstractMap_2_classLit);
function Collections$EmptySet(){
}

defineClass(830, 1483, $intern_68, Collections$EmptySet);
_.contains_0 = function contains_29(object){
  return false;
}
;
_.iterator = function iterator_43(){
  return $clinit_Collections() , $clinit_Collections$EmptyListIterator() , INSTANCE_7;
}
;
_.size_1 = function size_32(){
  return 0;
}
;
var Ljava_util_Collections$EmptySet_2_classLit = createForClass('java.util', 'Collections/EmptySet', 830, Ljava_util_AbstractSet_2_classLit);
function Collections$SingletonList(element){
  this.element = element;
}

defineClass(832, 1488, $intern_132, Collections$SingletonList);
_.contains_0 = function contains_30(item_0){
  return equals_52(this.element, item_0);
}
;
_.get_0 = function get_20(index_0){
  checkElementIndex(index_0, 1);
  return this.element;
}
;
_.size_1 = function size_33(){
  return 1;
}
;
var Ljava_util_Collections$SingletonList_2_classLit = createForClass('java.util', 'Collections/SingletonList', 832, Ljava_util_AbstractList_2_classLit);
function Collections$UnmodifiableCollection(coll){
  this.coll = coll;
}

defineClass(379, 1, $intern_3, Collections$UnmodifiableCollection);
_.add_0 = function add_32(o){
  throw new UnsupportedOperationException;
}
;
_.addAll = function addAll_7(c){
  throw new UnsupportedOperationException;
}
;
_.clear_1 = function clear_36(){
  throw new UnsupportedOperationException;
}
;
_.contains_0 = function contains_31(o){
  return this.coll.contains_0(o);
}
;
_.containsAll = function containsAll_7(c){
  return this.coll.containsAll(c);
}
;
_.isEmpty_0 = function isEmpty_15(){
  return this.coll.isEmpty_0();
}
;
_.iterator = function iterator_44(){
  return new Collections$UnmodifiableCollectionIterator(this.coll.iterator());
}
;
_.remove = function remove_60(o){
  throw new UnsupportedOperationException;
}
;
_.retainAll = function retainAll_8(c){
  throw new UnsupportedOperationException;
}
;
_.size_1 = function size_34(){
  return this.coll.size_1();
}
;
_.toArray = function toArray_18(){
  return this.coll.toArray();
}
;
_.toArray_0 = function toArray_19(a){
  return this.coll.toArray_0(a);
}
;
_.toString$ = function toString_83(){
  return this.coll.toString$();
}
;
var Ljava_util_Collections$UnmodifiableCollection_2_classLit = createForClass('java.util', 'Collections/UnmodifiableCollection', 379, Ljava_lang_Object_2_classLit);
function Collections$UnmodifiableCollectionIterator(it){
  this.it = it;
}

defineClass(163, 1, $intern_56, Collections$UnmodifiableCollectionIterator);
_.hasNext = function hasNext_22(){
  return this.it.hasNext();
}
;
_.next_0 = function next_23(){
  return this.it.next_0();
}
;
_.remove_2 = function remove_61(){
  throw new UnsupportedOperationException;
}
;
var Ljava_util_Collections$UnmodifiableCollectionIterator_2_classLit = createForClass('java.util', 'Collections/UnmodifiableCollectionIterator', 163, Ljava_lang_Object_2_classLit);
function Collections$UnmodifiableList(list){
  Collections$UnmodifiableCollection.call(this, list);
  this.list = list;
}

defineClass(380, 379, $intern_4, Collections$UnmodifiableList);
_.equals$ = function equals_47(o){
  return this.list.equals$(o);
}
;
_.get_0 = function get_21(index_0){
  return this.list.get_0(index_0);
}
;
_.hashCode$ = function hashCode_47(){
  return this.list.hashCode$();
}
;
_.isEmpty_0 = function isEmpty_16(){
  return this.list.isEmpty_0();
}
;
_.listIterator = function listIterator_8(){
  return new Collections$UnmodifiableListIterator(this.list.listIterator_0(0));
}
;
_.listIterator_0 = function listIterator_9(from){
  return new Collections$UnmodifiableListIterator(this.list.listIterator_0(from));
}
;
var Ljava_util_Collections$UnmodifiableList_2_classLit = createForClass('java.util', 'Collections/UnmodifiableList', 380, Ljava_util_Collections$UnmodifiableCollection_2_classLit);
function Collections$UnmodifiableListIterator(lit){
  Collections$UnmodifiableCollectionIterator.call(this, lit);
  this.lit = lit;
}

defineClass(445, 163, $intern_66, Collections$UnmodifiableListIterator);
_.hasPrevious = function hasPrevious_3(){
  return this.lit.hasPrevious();
}
;
_.previous = function previous_4(){
  return this.lit.previous();
}
;
var Ljava_util_Collections$UnmodifiableListIterator_2_classLit = createForClass('java.util', 'Collections/UnmodifiableListIterator', 445, Ljava_util_Collections$UnmodifiableCollectionIterator_2_classLit);
function $containsValue_1(this$static, val){
  return this$static.map_0.containsValue(val);
}

function $entrySet_2(this$static){
  !this$static.entrySet && (this$static.entrySet = new Collections$UnmodifiableMap$UnmodifiableEntrySet(this$static.map_0.entrySet_0()));
  return this$static.entrySet;
}

function $equals_6(this$static, o){
  return this$static.map_0.equals$(o);
}

function $keySet_3(this$static){
  !this$static.keySet && (this$static.keySet = new Collections$UnmodifiableSet(this$static.map_0.keySet_0()));
  return this$static.keySet;
}

function $values_1(this$static){
  !this$static.values && (this$static.values = new Collections$UnmodifiableCollection(this$static.map_0.values_0()));
  return this$static.values;
}

function Collections$UnmodifiableMap(map_0){
  this.map_0 = map_0;
}

defineClass(381, 1, $intern_58, Collections$UnmodifiableMap);
_.clear_1 = function clear_37(){
  throw new UnsupportedOperationException;
}
;
_.containsKey = function containsKey_8(key){
  return this.map_0.containsKey(key);
}
;
_.containsValue = function containsValue_6(val){
  return $containsValue_1(this, val);
}
;
_.entrySet_0 = function entrySet_5(){
  return $entrySet_2(this);
}
;
_.equals$ = function equals_48(o){
  return $equals_6(this, o);
}
;
_.get_2 = function get_22(key){
  return this.map_0.get_2(key);
}
;
_.hashCode$ = function hashCode_48(){
  return this.map_0.hashCode$();
}
;
_.isEmpty_0 = function isEmpty_17(){
  return this.map_0.isEmpty_0();
}
;
_.keySet_0 = function keySet_6(){
  return $keySet_3(this);
}
;
_.put = function put_6(key, value_0){
  throw new UnsupportedOperationException;
}
;
_.remove_3 = function remove_62(key){
  throw new UnsupportedOperationException;
}
;
_.size_1 = function size_35(){
  return this.map_0.size_1();
}
;
_.toString$ = function toString_84(){
  return this.map_0.toString$();
}
;
_.values_0 = function values_51(){
  return $values_1(this);
}
;
var Ljava_util_Collections$UnmodifiableMap_2_classLit = createForClass('java.util', 'Collections/UnmodifiableMap', 381, Ljava_lang_Object_2_classLit);
function Collections$UnmodifiableSet(set_0){
  Collections$UnmodifiableCollection.call(this, set_0);
}

defineClass(340, 379, $intern_60, Collections$UnmodifiableSet);
_.equals$ = function equals_49(o){
  return this.coll.equals$(o);
}
;
_.hashCode$ = function hashCode_49(){
  return this.coll.hashCode$();
}
;
var Ljava_util_Collections$UnmodifiableSet_2_classLit = createForClass('java.util', 'Collections/UnmodifiableSet', 340, Ljava_util_Collections$UnmodifiableCollection_2_classLit);
function $contains_4(this$static, o){
  return this$static.coll.contains_0(o);
}

function $toArray_2(this$static, a){
  var result;
  result = this$static.coll.toArray_0(a);
  $wrap(result, this$static.coll.size_1());
  return result;
}

function $wrap(array, size_0){
  var i;
  for (i = 0; i < size_0; ++i) {
    setCheck(array, i, new Collections$UnmodifiableMap$UnmodifiableEntrySet$UnmodifiableEntry(dynamicCast(array[i], 31)));
  }
}

function Collections$UnmodifiableMap$UnmodifiableEntrySet(s){
  Collections$UnmodifiableSet.call(this, s);
}

defineClass(833, 340, $intern_60, Collections$UnmodifiableMap$UnmodifiableEntrySet);
_.contains_0 = function contains_32(o){
  return $contains_4(this, o);
}
;
_.containsAll = function containsAll_8(o){
  return this.coll.containsAll(o);
}
;
_.iterator = function iterator_45(){
  var it;
  it = this.coll.iterator();
  return new Collections$UnmodifiableMap$UnmodifiableEntrySet$1(it);
}
;
_.toArray = function toArray_20(){
  var array;
  array = this.coll.toArray();
  $wrap(array, array.length);
  return array;
}
;
_.toArray_0 = function toArray_21(a){
  return $toArray_2(this, a);
}
;
var Ljava_util_Collections$UnmodifiableMap$UnmodifiableEntrySet_2_classLit = createForClass('java.util', 'Collections/UnmodifiableMap/UnmodifiableEntrySet', 833, Ljava_util_Collections$UnmodifiableSet_2_classLit);
function Collections$UnmodifiableMap$UnmodifiableEntrySet$1(val$it){
  this.val$it2 = val$it;
}

defineClass(834, 1, $intern_56, Collections$UnmodifiableMap$UnmodifiableEntrySet$1);
_.hasNext = function hasNext_23(){
  return this.val$it2.hasNext();
}
;
_.next_0 = function next_24(){
  return new Collections$UnmodifiableMap$UnmodifiableEntrySet$UnmodifiableEntry(dynamicCast(this.val$it2.next_0(), 31));
}
;
_.remove_2 = function remove_63(){
  throw new UnsupportedOperationException;
}
;
var Ljava_util_Collections$UnmodifiableMap$UnmodifiableEntrySet$1_2_classLit = createForClass('java.util', 'Collections/UnmodifiableMap/UnmodifiableEntrySet/1', 834, Ljava_lang_Object_2_classLit);
function Collections$UnmodifiableMap$UnmodifiableEntrySet$UnmodifiableEntry(entry){
  this.entry = entry;
}

defineClass(444, 1, $intern_61, Collections$UnmodifiableMap$UnmodifiableEntrySet$UnmodifiableEntry);
_.equals$ = function equals_50(o){
  return this.entry.equals$(o);
}
;
_.getKey = function getKey_3(){
  return this.entry.getKey();
}
;
_.getValue = function getValue_4(){
  return this.entry.getValue();
}
;
_.hashCode$ = function hashCode_50(){
  return this.entry.hashCode$();
}
;
_.setValue = function setValue_5(value_0){
  throw new UnsupportedOperationException;
}
;
_.toString$ = function toString_85(){
  return this.entry.toString$();
}
;
var Ljava_util_Collections$UnmodifiableMap$UnmodifiableEntrySet$UnmodifiableEntry_2_classLit = createForClass('java.util', 'Collections/UnmodifiableMap/UnmodifiableEntrySet/UnmodifiableEntry', 444, Ljava_lang_Object_2_classLit);
function Collections$UnmodifiableRandomAccessList(list){
  Collections$UnmodifiableList.call(this, list);
}

defineClass(382, 380, $intern_65, Collections$UnmodifiableRandomAccessList);
var Ljava_util_Collections$UnmodifiableRandomAccessList_2_classLit = createForClass('java.util', 'Collections/UnmodifiableRandomAccessList', 382, Ljava_util_Collections$UnmodifiableList_2_classLit);
function $clinit_Comparators(){
  $clinit_Comparators = emptyMethod;
  NATURAL = new Comparators$1;
}

var NATURAL;
function Comparators$1(){
}

defineClass(1419, 1, {}, Comparators$1);
_.compare = function compare_4(o1, o2){
  checkNotNull_1(o1);
  checkNotNull_1(o2);
  return compareTo_Ljava_lang_Object__I__devirtual$(dynamicCast(o1, 21), o2);
}
;
var Ljava_util_Comparators$1_2_classLit = createForClass('java.util', 'Comparators/1', 1419, Ljava_lang_Object_2_classLit);
function checkStructuralChange(host, iterator){
  if (iterator._gwt_modCount != host._gwt_modCount) {
    throw new ConcurrentModificationException;
  }
}

function recordLastKnownStructure(host, iterator){
  setModCount(iterator, host._gwt_modCount);
}

function setModCount(o, modCount){
  o._gwt_modCount = modCount;
}

function structureChanged(map_0){
  var modCount;
  modCount = map_0._gwt_modCount | 0;
  setModCount(map_0, modCount + 1);
}

function ConcurrentModificationException(){
  RuntimeException.call(this);
}

defineClass(480, 52, $intern_7, ConcurrentModificationException);
var Ljava_util_ConcurrentModificationException_2_classLit = createForClass('java.util', 'ConcurrentModificationException', 480, Ljava_lang_RuntimeException_2_classLit);
function $compareTo_5(this$static, other){
  return compare_3(fromDouble(this$static.jsdate.getTime()), fromDouble(other.jsdate.getTime()));
}

function $toString_17(this$static){
  var hourOffset, minuteOffset, offset;
  offset = -this$static.jsdate.getTimezoneOffset();
  hourOffset = (offset >= 0?'+':'') + ~~(offset / 60);
  minuteOffset = (offset < 0?-offset:offset) % 60 < 10?'0' + (offset < 0?-offset:offset) % 60:'' + (offset < 0?-offset:offset) % 60;
  return ($clinit_Date$StringData() , DAYS)[this$static.jsdate.getDay()] + ' ' + MONTHS[this$static.jsdate.getMonth()] + ' ' + padTwo(this$static.jsdate.getDate()) + ' ' + padTwo(this$static.jsdate.getHours()) + ':' + padTwo(this$static.jsdate.getMinutes()) + ':' + padTwo(this$static.jsdate.getSeconds()) + ' GMT' + hourOffset + minuteOffset + ' ' + this$static.jsdate.getFullYear();
}

function Date_0(){
  this.jsdate = new Date;
}

function Date_1(date){
  this.jsdate = create_0(toDouble(date));
}

function padTwo(number){
  return number < 10?'0' + number:'' + number;
}

defineClass(183, 1, {3:1, 21:1, 183:1}, Date_0, Date_1);
_.compareTo = function compareTo_6(other){
  return $compareTo_5(this, dynamicCast(other, 183));
}
;
_.equals$ = function equals_51(obj){
  return instanceOf(obj, 183) && eq(fromDouble(this.jsdate.getTime()), fromDouble(dynamicCast(obj, 183).jsdate.getTime()));
}
;
_.hashCode$ = function hashCode_51(){
  var time;
  time = fromDouble(this.jsdate.getTime());
  return toInt(xor(time, shru(time, 32)));
}
;
_.toString$ = function toString_86(){
  return $toString_17(this);
}
;
var Ljava_util_Date_2_classLit = createForClass('java.util', 'Date', 183, Ljava_lang_Object_2_classLit);
function $clinit_Date$StringData(){
  $clinit_Date$StringData = emptyMethod;
  DAYS = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']);
  MONTHS = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']);
}

var DAYS, MONTHS;
function $ensureChain(this$static, hashCode){
  var map_0 = this$static.backingMap;
  return map_0[hashCode] || (map_0[hashCode] = []);
}

function $getChain(this$static, hashCode){
  return this$static.backingMap[hashCode];
}

function $getChainOrEmpty(this$static, hashCode){
  return this$static.backingMap[hashCode] || [];
}

function $getEntry(this$static, key){
  var entry, entry$array, entry$index, entry$max;
  for (entry$array = $getChainOrEmpty(this$static, key == null?'0':'' + this$static.host.getHashCode(key)) , entry$index = 0 , entry$max = entry$array.length; entry$index < entry$max; ++entry$index) {
    entry = entry$array[entry$index];
    if (this$static.host.equals(key, entry.getKey())) {
      return entry;
    }
  }
  return null;
}

function $keys(this$static){
  return Object.getOwnPropertyNames(this$static.backingMap);
}

function $put_2(this$static, key, value_0){
  var chain, entry, entry$index, entry$max;
  chain = $ensureChain(this$static, key == null?'0':'' + this$static.host.getHashCode(key));
  for (entry$index = 0 , entry$max = chain.length; entry$index < entry$max; ++entry$index) {
    entry = chain[entry$index];
    if (this$static.host.equals(key, entry.getKey())) {
      return entry.setValue(value_0);
    }
  }
  setCheck(chain, chain.length, new AbstractMap$SimpleEntry(key, value_0));
  $elementAdded(this$static.host);
  return null;
}

function $remove_24(this$static, key){
  var chain, entry, hashCode, i;
  hashCode = key == null?'0':'' + this$static.host.getHashCode(key);
  chain = $getChainOrEmpty(this$static, hashCode);
  for (i = 0; i < chain.length; i++) {
    entry = chain[i];
    if (this$static.host.equals(key, entry.getKey())) {
      chain.length == 1?(delete this$static.backingMap[hashCode] , undefined):(chain.splice(i, 1) , undefined);
      $elementRemoved(this$static.host);
      return entry.getValue();
    }
  }
  return null;
}

function InternalJsHashCodeMap(){
  this.backingMap = this.createMap();
}

defineClass(455, 1, {}, InternalJsHashCodeMap);
_.containsValue = function containsValue_7(value_0){
  var entry, entry$array, entry$index, entry$max, hashCode, hashCode$array, hashCode$index, hashCode$max;
  for (hashCode$array = $keys(this) , hashCode$index = 0 , hashCode$max = hashCode$array.length; hashCode$index < hashCode$max; ++hashCode$index) {
    hashCode = hashCode$array[hashCode$index];
    for (entry$array = this.backingMap[hashCode] , entry$index = 0 , entry$max = entry$array.length; entry$index < entry$max; ++entry$index) {
      entry = entry$array[entry$index];
      if (this.host.equals(value_0, entry.getValue())) {
        return true;
      }
    }
  }
  return false;
}
;
_.createMap = function createMap(){
  return Object.create(null);
}
;
_.entries_0 = function entries_0(){
  return new InternalJsHashCodeMap$1(this);
}
;
var Ljava_util_InternalJsHashCodeMap_2_classLit = createForClass('java.util', 'InternalJsHashCodeMap', 455, Ljava_lang_Object_2_classLit);
function $hasNext_2(this$static){
  if (this$static.itemIndex < this$static.chain.length) {
    return true;
  }
  if (this$static.chainIndex < this$static.keys_0.length - 1) {
    this$static.chain = $getChain(this$static.this$01, this$static.keys_0[++this$static.chainIndex]);
    this$static.itemIndex = 0;
    return true;
  }
  return false;
}

function InternalJsHashCodeMap$1(this$0){
  this.this$01 = this$0;
  this.keys_0 = $keys(this.this$01);
  this.chain = initDim(Ljava_util_Map$Entry_2_classLit, $intern_1, 31, 0, 0, 1);
}

defineClass(907, 1, $intern_56, InternalJsHashCodeMap$1);
_.hasNext = function hasNext_24(){
  return $hasNext_2(this);
}
;
_.next_0 = function next_25(){
  return checkCriticalElement($hasNext_2(this)) , this.lastChain = this.chain , this.lastEntry = this.chain[this.itemIndex++] , this.lastEntry;
}
;
_.remove_2 = function remove_64(){
  checkState_1(!!this.lastEntry);
  $remove_24(this.this$01, this.lastEntry.getKey());
  maskUndefined(this.chain) === maskUndefined(this.lastChain) && this.chain.length != 1 && --this.itemIndex;
  this.lastEntry = null;
}
;
_.chainIndex = -1;
_.itemIndex = 0;
_.lastChain = null;
_.lastEntry = null;
var Ljava_util_InternalJsHashCodeMap$1_2_classLit = createForClass('java.util', 'InternalJsHashCodeMap/1', 907, Ljava_lang_Object_2_classLit);
function InternalJsHashCodeMap$InternalJsHashCodeMapLegacy(){
  InternalJsHashCodeMap.call(this);
}

defineClass(905, 455, {}, InternalJsHashCodeMap$InternalJsHashCodeMapLegacy);
_.containsValue = function containsValue_8(value_0){
  var map_0 = this.backingMap;
  for (var hashCode in map_0) {
    if (hashCode == parseInt(hashCode, 10)) {
      var array = map_0[hashCode];
      for (var i = 0, c = array.length; i < c; ++i) {
        var entry = array[i];
        var entryValue = entry.getValue();
        if (this.equalsBridge(value_0, entryValue)) {
          return true;
        }
      }
    }
  }
  return false;
}
;
_.createMap = function createMap_0(){
  return {};
}
;
_.entries_0 = function entries_1(){
  var list = this.newEntryList();
  var map_0 = this.backingMap;
  for (var hashCode in map_0) {
    if (hashCode == parseInt(hashCode, 10)) {
      var array = map_0[hashCode];
      for (var i = 0, c = array.length; i < c; ++i) {
        list.add_0(array[i]);
      }
    }
  }
  return list.iterator();
}
;
_.equalsBridge = function equalsBridge(value1, value2){
  return this.host.equals(value1, value2);
}
;
_.newEntryList = function newEntryList(){
  return new InternalJsHashCodeMap$InternalJsHashCodeMapLegacy$1(this);
}
;
var Ljava_util_InternalJsHashCodeMap$InternalJsHashCodeMapLegacy_2_classLit = createForClass('java.util', 'InternalJsHashCodeMap/InternalJsHashCodeMapLegacy', 905, Ljava_util_InternalJsHashCodeMap_2_classLit);
function InternalJsHashCodeMap$InternalJsHashCodeMapLegacy$1(this$1){
  this.this$11 = this$1;
  ArrayList.call(this);
}

defineClass(906, 18, $intern_5, InternalJsHashCodeMap$InternalJsHashCodeMapLegacy$1);
_.remove_0 = function remove_65(index_0){
  var removed;
  return removed = dynamicCast($remove(this, index_0), 31) , $remove_24(this.this$11, removed.getKey()) , removed;
}
;
var Ljava_util_InternalJsHashCodeMap$InternalJsHashCodeMapLegacy$1_2_classLit = createForClass('java.util', 'InternalJsHashCodeMap/InternalJsHashCodeMapLegacy/1', 906, Ljava_util_ArrayList_2_classLit);
function InternalJsMapFactory(){
}

defineClass(902, 1, {}, InternalJsMapFactory);
_.createJsHashCodeMap = function createJsHashCodeMap(){
  return new InternalJsHashCodeMap;
}
;
_.createJsStringMap = function createJsStringMap(){
  return new InternalJsStringMap;
}
;
var Ljava_util_InternalJsMapFactory_2_classLit = createForClass('java.util', 'InternalJsMapFactory', 902, Ljava_lang_Object_2_classLit);
function $clinit_InternalJsMapFactory$BackwardCompatibleJsMapFactory(){
  $clinit_InternalJsMapFactory$BackwardCompatibleJsMapFactory = emptyMethod;
  delegate_11 = createFactory();
}

function canHandleProto(){
  var protoField = '__proto__';
  var map_0 = Object.create(null);
  if (map_0[protoField] !== undefined) {
    return false;
  }
  var keys_0 = Object.getOwnPropertyNames(map_0);
  if (keys_0.length != 0) {
    return false;
  }
  map_0[protoField] = 42;
  if (map_0[protoField] !== 42) {
    return false;
  }
  return true;
}

function createFactory(){
  var map_0;
  if (Object.create && Object.getOwnPropertyNames && canHandleProto()) {
    return (map_0 = Object.create(null) , map_0['__proto__'] = 42 , Object.getOwnPropertyNames(map_0).length == 0)?new InternalJsMapFactory$KeysWorkaroundJsMapFactory:new InternalJsMapFactory;
  }
  return new InternalJsMapFactory$LegacyInternalJsMapFactory;
}

var delegate_11;
function InternalJsMapFactory$KeysWorkaroundJsMapFactory(){
}

defineClass(904, 902, {}, InternalJsMapFactory$KeysWorkaroundJsMapFactory);
_.createJsStringMap = function createJsStringMap_0(){
  return new InternalJsStringMap$InternalJsStringMapWithKeysWorkaround;
}
;
var Ljava_util_InternalJsMapFactory$KeysWorkaroundJsMapFactory_2_classLit = createForClass('java.util', 'InternalJsMapFactory/KeysWorkaroundJsMapFactory', 904, Ljava_util_InternalJsMapFactory_2_classLit);
function InternalJsMapFactory$LegacyInternalJsMapFactory(){
}

defineClass(903, 902, {}, InternalJsMapFactory$LegacyInternalJsMapFactory);
_.createJsHashCodeMap = function createJsHashCodeMap_0(){
  return new InternalJsHashCodeMap$InternalJsHashCodeMapLegacy;
}
;
_.createJsStringMap = function createJsStringMap_1(){
  return new InternalJsStringMap$InternalJsStringMapLegacy;
}
;
var Ljava_util_InternalJsMapFactory$LegacyInternalJsMapFactory_2_classLit = createForClass('java.util', 'InternalJsMapFactory/LegacyInternalJsMapFactory', 903, Ljava_util_InternalJsMapFactory_2_classLit);
function $containsValue_2(this$static, value_0){
  var map_0 = this$static.backingMap;
  for (var key in map_0) {
    if (this$static.equalsBridge_0(value_0, map_0[key])) {
      return true;
    }
  }
  return false;
}

function $keys_0(this$static){
  return Object.getOwnPropertyNames(this$static.backingMap);
}

function $put_3(this$static, key, value_0){
  var oldValue;
  oldValue = this$static.backingMap[key];
  oldValue === undefined && $elementAdded(this$static.host);
  $set_2(this$static, key, value_0 === undefined?null:value_0);
  return oldValue;
}

function $remove_25(this$static, key){
  var value_0;
  value_0 = this$static.backingMap[key];
  if (!(value_0 === undefined)) {
    delete this$static.backingMap[key];
    $elementRemoved(this$static.host);
  }
  return value_0;
}

function $set_2(this$static, key, value_0){
  this$static.backingMap[key] = value_0;
}

function InternalJsStringMap(){
  this.backingMap = this.createMap_0();
}

defineClass(383, 1, {}, InternalJsStringMap);
_.containsValue = function containsValue_9(value_0){
  return $containsValue_2(this, value_0);
}
;
_.createMap_0 = function createMap_1(){
  return Object.create(null);
}
;
_.entries_0 = function entries_2(){
  var keys_0;
  keys_0 = this.keys_1();
  return new InternalJsStringMap$1(this, keys_0);
}
;
_.equalsBridge_0 = function equalsBridge_0(value1, value2){
  return this.host.equals(value1, value2);
}
;
_.get_3 = function get_23(key){
  return this.backingMap[key];
}
;
_.keys_1 = function keys_1(){
  return $keys_0(this);
}
;
_.newMapEntry = function newMapEntry(key){
  return new InternalJsStringMap$2(this, key);
}
;
_.put_0 = function put_7(key, value_0){
  return $put_3(this, key, value_0);
}
;
_.remove_4 = function remove_66(key){
  return $remove_25(this, key);
}
;
var Ljava_util_InternalJsStringMap_2_classLit = createForClass('java.util', 'InternalJsStringMap', 383, Ljava_lang_Object_2_classLit);
function InternalJsStringMap$1(this$0, val$keys){
  this.this$01 = this$0;
  this.val$keys2 = val$keys;
}

defineClass(838, 1, $intern_56, InternalJsStringMap$1);
_.hasNext = function hasNext_25(){
  return this.i < this.val$keys2.length;
}
;
_.next_0 = function next_26(){
  return checkCriticalElement(this.i < this.val$keys2.length) , new InternalJsStringMap$2(this.this$01, this.val$keys2[this.last = this.i++]);
}
;
_.remove_2 = function remove_67(){
  checkState_1(this.last != -1);
  this.this$01.remove_4(this.val$keys2[this.last]);
  this.last = -1;
}
;
_.i = 0;
_.last = -1;
var Ljava_util_InternalJsStringMap$1_2_classLit = createForClass('java.util', 'InternalJsStringMap/1', 838, Ljava_lang_Object_2_classLit);
function InternalJsStringMap$2(this$0, val$key){
  this.this$01 = this$0;
  this.val$key2 = val$key;
}

defineClass(446, 1492, $intern_61, InternalJsStringMap$2);
_.getKey = function getKey_4(){
  return this.val$key2;
}
;
_.getValue = function getValue_5(){
  return this.this$01.get_3(this.val$key2);
}
;
_.setValue = function setValue_6(object){
  return this.this$01.put_0(this.val$key2, object);
}
;
var Ljava_util_InternalJsStringMap$2_2_classLit = createForClass('java.util', 'InternalJsStringMap/2', 446, Ljava_util_AbstractMapEntry_2_classLit);
function InternalJsStringMap$InternalJsStringMapLegacy(){
  InternalJsStringMap.call(this);
}

defineClass(835, 383, {}, InternalJsStringMap$InternalJsStringMapLegacy);
_.containsValue = function containsValue_10(value_0){
  var map_0 = this.backingMap;
  for (var key in map_0) {
    if (key.charCodeAt(0) == 58) {
      var entryValue = map_0[key];
      if (this.equalsBridge_0(value_0, entryValue)) {
        return true;
      }
    }
  }
  return false;
}
;
_.createMap_0 = function createMap_2(){
  return {};
}
;
_.entries_0 = function entries_3(){
  var list = this.newEntryList_0();
  for (var key in this.backingMap) {
    if (key.charCodeAt(0) == 58) {
      var entry = this.newMapEntry(key.substring(1));
      list.add_0(entry);
    }
  }
  return list.iterator();
}
;
_.get_3 = function get_24(key){
  return this.backingMap[':' + key];
}
;
_.newEntryList_0 = function newEntryList_0(){
  return new InternalJsStringMap$InternalJsStringMapLegacy$1(this);
}
;
_.put_0 = function put_8(key, value_0){
  return $put_3(this, ':' + key, value_0);
}
;
_.remove_4 = function remove_68(key){
  return $remove_25(this, ':' + key);
}
;
var Ljava_util_InternalJsStringMap$InternalJsStringMapLegacy_2_classLit = createForClass('java.util', 'InternalJsStringMap/InternalJsStringMapLegacy', 835, Ljava_util_InternalJsStringMap_2_classLit);
function InternalJsStringMap$InternalJsStringMapLegacy$1(this$1){
  this.this$11 = this$1;
  ArrayList.call(this);
}

defineClass(837, 18, $intern_5, InternalJsStringMap$InternalJsStringMapLegacy$1);
_.remove_0 = function remove_69(index_0){
  var removed;
  return removed = dynamicCast($remove(this, index_0), 31) , $remove_25(this.this$11, ':' + dynamicCastToString(removed.getKey())) , removed;
}
;
var Ljava_util_InternalJsStringMap$InternalJsStringMapLegacy$1_2_classLit = createForClass('java.util', 'InternalJsStringMap/InternalJsStringMapLegacy/1', 837, Ljava_util_ArrayList_2_classLit);
function InternalJsStringMap$InternalJsStringMapWithKeysWorkaround(){
  InternalJsStringMap.call(this);
}

defineClass(836, 383, {}, InternalJsStringMap$InternalJsStringMapWithKeysWorkaround);
_.containsValue = function containsValue_11(value_0){
  var protoValue;
  protoValue = this.backingMap['__proto__'];
  if (!(protoValue === undefined) && this.host.equals(value_0, protoValue)) {
    return true;
  }
  return $containsValue_2(this, value_0);
}
;
_.keys_1 = function keys_2(){
  var keys_0;
  keys_0 = $keys_0(this);
  !(this.backingMap['__proto__'] === undefined) && (keys_0[keys_0.length] = '__proto__');
  return keys_0;
}
;
var Ljava_util_InternalJsStringMap$InternalJsStringMapWithKeysWorkaround_2_classLit = createForClass('java.util', 'InternalJsStringMap/InternalJsStringMapWithKeysWorkaround', 836, Ljava_util_InternalJsStringMap_2_classLit);
function $clear_7(this$static){
  this$static.map_0.clear_1();
  this$static.head.prev = this$static.head;
  this$static.head.next = this$static.head;
}

function $containsKey_0(this$static, key){
  return this$static.map_0.containsKey(key);
}

function $get_13(this$static, key){
  var entry;
  entry = dynamicCast(this$static.map_0.get_2(key), 247);
  if (entry) {
    $recordAccess(this$static, entry);
    return entry.value_0;
  }
  return null;
}

function $put_4(this$static, key, value_0){
  var newEntry, old, oldValue;
  old = dynamicCast(this$static.map_0.get_2(key), 247);
  if (!old) {
    newEntry = new LinkedHashMap$ChainEntry_0(this$static, key, value_0);
    this$static.map_0.put(key, newEntry);
    $addToEnd(newEntry);
    return null;
  }
   else {
    oldValue = $setValue_4(old, value_0);
    $recordAccess(this$static, old);
    return oldValue;
  }
}

function $recordAccess(this$static, entry){
  if (this$static.accessOrder) {
    $remove_27(entry);
    $addToEnd(entry);
  }
}

function $remove_26(this$static, key){
  var entry;
  entry = dynamicCast(this$static.map_0.remove_3(key), 247);
  if (entry) {
    $remove_27(entry);
    return entry.value_0;
  }
  return null;
}

function LinkedHashMap(){
  HashMap.call(this);
  this.head = new LinkedHashMap$ChainEntry(this);
  this.map_0 = new HashMap;
  this.head.prev = this.head;
  this.head.next = this.head;
}

defineClass(353, 32, $intern_120, LinkedHashMap);
_.clear_1 = function clear_38(){
  $clear_7(this);
}
;
_.containsKey = function containsKey_9(key){
  return $containsKey_0(this, key);
}
;
_.containsValue = function containsValue_12(value_0){
  var node;
  node = this.head.next;
  while (node != this.head) {
    if (equals_52(node.value_0, value_0)) {
      return true;
    }
    node = node.next;
  }
  return false;
}
;
_.entrySet_0 = function entrySet_6(){
  return new LinkedHashMap$EntrySet(this);
}
;
_.get_2 = function get_25(key){
  return $get_13(this, key);
}
;
_.put = function put_9(key, value_0){
  return $put_4(this, key, value_0);
}
;
_.remove_3 = function remove_70(key){
  return $remove_26(this, key);
}
;
_.size_1 = function size_36(){
  return this.map_0.size_1();
}
;
_.accessOrder = false;
var Ljava_util_LinkedHashMap_2_classLit = createForClass('java.util', 'LinkedHashMap', 353, Ljava_util_HashMap_2_classLit);
function $addToEnd(this$static){
  var tail;
  tail = this$static.this$01.head.prev;
  this$static.prev = tail;
  this$static.next = this$static.this$01.head;
  tail.next = this$static.this$01.head.prev = this$static;
}

function $remove_27(this$static){
  this$static.next.prev = this$static.prev;
  this$static.prev.next = this$static.next;
  this$static.next = this$static.prev = null;
}

function LinkedHashMap$ChainEntry(this$0){
  LinkedHashMap$ChainEntry_0.call(this, this$0, null, null);
}

function LinkedHashMap$ChainEntry_0(this$0, key, value_0){
  this.this$01 = this$0;
  AbstractMap$SimpleEntry.call(this, key, value_0);
}

defineClass(247, 368, {247:1, 31:1}, LinkedHashMap$ChainEntry, LinkedHashMap$ChainEntry_0);
var Ljava_util_LinkedHashMap$ChainEntry_2_classLit = createForClass('java.util', 'LinkedHashMap/ChainEntry', 247, Ljava_util_AbstractMap$SimpleEntry_2_classLit);
function $contains_5(this$static, o){
  if (instanceOf(o, 31)) {
    return $containsEntry_0(this$static.this$01, dynamicCast(o, 31));
  }
  return false;
}

function LinkedHashMap$EntrySet(this$0){
  this.this$01 = this$0;
}

defineClass(1249, 1483, $intern_60, LinkedHashMap$EntrySet);
_.clear_1 = function clear_39(){
  $clear_7(this.this$01);
}
;
_.contains_0 = function contains_33(o){
  return $contains_5(this, o);
}
;
_.iterator = function iterator_46(){
  return new LinkedHashMap$EntrySet$EntryIterator(this);
}
;
_.remove = function remove_71(entry){
  var key;
  if ($contains_5(this, entry)) {
    key = dynamicCast(entry, 31).getKey();
    $remove_26(this.this$01, key);
    return true;
  }
  return false;
}
;
_.size_1 = function size_37(){
  return this.this$01.map_0.size_1();
}
;
var Ljava_util_LinkedHashMap$EntrySet_2_classLit = createForClass('java.util', 'LinkedHashMap/EntrySet', 1249, Ljava_util_AbstractSet_2_classLit);
function LinkedHashMap$EntrySet$EntryIterator(this$1){
  this.this$11 = this$1;
  this.next = this$1.this$01.head.next;
  recordLastKnownStructure(this$1.this$01.map_0, this);
}

defineClass(1250, 1, $intern_56, LinkedHashMap$EntrySet$EntryIterator);
_.hasNext = function hasNext_26(){
  return this.next != this.this$11.this$01.head;
}
;
_.next_0 = function next_27(){
  return checkStructuralChange(this.this$11.this$01.map_0, this) , checkCriticalElement(this.next != this.this$11.this$01.head) , this.last = this.next , this.next = this.next.next , this.last;
}
;
_.remove_2 = function remove_72(){
  checkState_1(!!this.last);
  checkStructuralChange(this.this$11.this$01.map_0, this);
  $remove_27(this.last);
  this.this$11.this$01.map_0.remove_3(this.last.key_0);
  recordLastKnownStructure(this.this$11.this$01.map_0, this);
  this.last = null;
}
;
var Ljava_util_LinkedHashMap$EntrySet$EntryIterator_2_classLit = createForClass('java.util', 'LinkedHashMap/EntrySet/EntryIterator', 1250, Ljava_lang_Object_2_classLit);
function LinkedHashSet(){
  HashSet_2.call(this, new LinkedHashMap);
}

function LinkedHashSet_0(c){
  HashSet_2.call(this, new LinkedHashMap);
  $addAll(this, c);
}

defineClass(492, 30, $intern_122, LinkedHashSet, LinkedHashSet_0);
_.clone = function clone_2(){
  return new LinkedHashSet_0(this);
}
;
var Ljava_util_LinkedHashSet_2_classLit = createForClass('java.util', 'LinkedHashSet', 492, Ljava_util_HashSet_2_classLit);
function $add_24(this$static, o){
  $addNode(this$static, o, this$static.tail.prev, this$static.tail);
  return true;
}

function $addNode(this$static, o, prev, next){
  var node;
  node = new LinkedList$Node;
  node.value_0 = o;
  node.prev = prev;
  node.next = next;
  next.prev = prev.next = node;
  ++this$static.size_0;
}

function $listIterator_0(this$static, index_0){
  var i, node;
  checkPositionIndex_0(index_0, this$static.size_0);
  if (index_0 >= this$static.size_0 >> 1) {
    node = this$static.tail;
    for (i = this$static.size_0; i > index_0; --i) {
      node = node.prev;
    }
  }
   else {
    node = this$static.header.next;
    for (i = 0; i < index_0; ++i) {
      node = node.next;
    }
  }
  return new LinkedList$ListIteratorImpl(this$static, index_0, node);
}

function $poll(this$static){
  return this$static.size_0 == 0?null:(checkCriticalElement(this$static.size_0 != 0) , $removeNode(this$static, this$static.header.next));
}

function $remove_28(this$static){
  return checkCriticalElement(this$static.size_0 != 0) , $removeNode(this$static, this$static.header.next);
}

function $removeFirst(this$static){
  checkCriticalElement(this$static.size_0 != 0);
  return $removeNode(this$static, this$static.header.next);
}

function $removeNode(this$static, node){
  var oldValue;
  oldValue = node.value_0;
  node.next.prev = node.prev;
  node.prev.next = node.next;
  node.next = node.prev = null;
  node.value_0 = null;
  --this$static.size_0;
  return oldValue;
}

function $reset_0(this$static){
  this$static.header.next = this$static.tail;
  this$static.tail.prev = this$static.header;
  this$static.header.prev = this$static.tail.next = null;
  this$static.size_0 = 0;
}

function LinkedList(){
  this.header = new LinkedList$Node;
  this.tail = new LinkedList$Node;
  $reset_0(this);
}

defineClass(291, 1513, $intern_132, LinkedList);
_.add_0 = function add_33(o){
  return $add_24(this, o);
}
;
_.clear_1 = function clear_40(){
  $reset_0(this);
}
;
_.listIterator_0 = function listIterator_10(index_0){
  return $listIterator_0(this, index_0);
}
;
_.size_1 = function size_38(){
  return this.size_0;
}
;
_.size_0 = 0;
var Ljava_util_LinkedList_2_classLit = createForClass('java.util', 'LinkedList', 291, Ljava_util_AbstractSequentialList_2_classLit);
function $remove_29(this$static){
  var nextNode;
  checkState_1(!!this$static.lastNode);
  nextNode = this$static.lastNode.next;
  $removeNode(this$static.this$01, this$static.lastNode);
  this$static.currentNode == this$static.lastNode?(this$static.currentNode = nextNode):--this$static.currentIndex;
  this$static.lastNode = null;
}

function LinkedList$ListIteratorImpl(this$0, index_0, startNode){
  this.this$01 = this$0;
  this.currentNode = startNode;
  this.currentIndex = index_0;
}

defineClass(917, 1, $intern_66, LinkedList$ListIteratorImpl);
_.hasNext = function hasNext_27(){
  return this.currentNode != this.this$01.tail;
}
;
_.hasPrevious = function hasPrevious_4(){
  return this.currentNode.prev != this.this$01.header;
}
;
_.next_0 = function next_28(){
  return checkCriticalElement(this.currentNode != this.this$01.tail) , this.lastNode = this.currentNode , this.currentNode = this.currentNode.next , ++this.currentIndex , this.lastNode.value_0;
}
;
_.previous = function previous_5(){
  checkCriticalElement(this.currentNode.prev != this.this$01.header);
  this.lastNode = this.currentNode = this.currentNode.prev;
  --this.currentIndex;
  return this.lastNode.value_0;
}
;
_.remove_2 = function remove_73(){
  $remove_29(this);
}
;
_.currentIndex = 0;
_.lastNode = null;
var Ljava_util_LinkedList$ListIteratorImpl_2_classLit = createForClass('java.util', 'LinkedList/ListIteratorImpl', 917, Ljava_lang_Object_2_classLit);
function LinkedList$Node(){
}

defineClass(386, 1, {}, LinkedList$Node);
var Ljava_util_LinkedList$Node_2_classLit = createForClass('java.util', 'LinkedList/Node', 386, Ljava_lang_Object_2_classLit);
var Ljava_util_Map$Entry_2_classLit = createForInterface('java.util', 'Map/Entry');
function MissingResourceException(s){
  RuntimeException_0.call(this, s);
}

defineClass(392, 52, $intern_7, MissingResourceException);
var Ljava_util_MissingResourceException_2_classLit = createForClass('java.util', 'MissingResourceException', 392, Ljava_lang_RuntimeException_2_classLit);
function NoSuchElementException(){
  RuntimeException.call(this);
}

function NoSuchElementException_0(s){
  RuntimeException_0.call(this, s);
}

defineClass(117, 52, {3:1, 37:1, 40:1, 117:1}, NoSuchElementException, NoSuchElementException_0);
var Ljava_util_NoSuchElementException_2_classLit = createForClass('java.util', 'NoSuchElementException', 117, Ljava_lang_RuntimeException_2_classLit);
function equals_52(a, b){
  return maskUndefined(a) === maskUndefined(b) || a != null && equals_Ljava_lang_Object__Z__devirtual$(a, b);
}

function hashCode_52(o){
  return o != null?hashCode__I__devirtual$(o):0;
}

function checkArrayElementIndex(index_0, size_0){
  if (index_0 < 0 || index_0 >= size_0) {
    throw new ArrayIndexOutOfBoundsException;
  }
}

defineClass(1381, 1488, $intern_69);
_.add_1 = function add_34(index_0, o){
  checkArrayElementIndex(index_0, this.arrayList.array.length + 1);
  $add(this.arrayList, index_0, o);
}
;
_.add_0 = function add_35(o){
  return this.arrayList.add_0(o);
}
;
_.addAll = function addAll_8(c){
  return this.arrayList.addAll(c);
}
;
_.clear_1 = function clear_41(){
  this.arrayList.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
}
;
_.contains_0 = function contains_34(elem){
  return $indexOf_0(this.arrayList, elem, 0) != -1;
}
;
_.containsAll = function containsAll_9(c){
  return $containsAll(this.arrayList, c);
}
;
_.get_0 = function get_26(index_0){
  checkArrayElementIndex(index_0, this.arrayList.array.length);
  return $get(this.arrayList, index_0);
}
;
_.isEmpty_0 = function isEmpty_18(){
  return this.arrayList.array.length == 0;
}
;
_.iterator = function iterator_47(){
  return new AbstractList$IteratorImpl(this.arrayList);
}
;
_.remove_0 = function remove_74(index_0){
  checkArrayElementIndex(index_0, this.arrayList.array.length);
  return this.arrayList.remove_0(index_0);
}
;
_.removeRange = function removeRange_1(fromIndex, endIndex){
  $removeRange(this.arrayList, fromIndex, endIndex);
}
;
_.size_1 = function size_39(){
  return this.arrayList.array.length;
}
;
_.toArray = function toArray_22(){
  return $toArray_0(this.arrayList);
}
;
_.toArray_0 = function toArray_23(a){
  return $toArray_1(this.arrayList, a);
}
;
_.toString$ = function toString_87(){
  return this.arrayList.toString$();
}
;
var Ljava_util_Vector_2_classLit = createForClass('java.util', 'Vector', 1381, Ljava_util_AbstractList_2_classLit);
function $clinit_Level(){
  $clinit_Level = emptyMethod;
  ALL = new Level$LevelAll;
  CONFIG = new Level$LevelConfig;
  FINE = new Level$LevelFine;
  FINER = new Level$LevelFiner;
  FINEST = new Level$LevelFinest;
  INFO = new Level$LevelInfo;
  OFF = new Level$LevelOff;
  SEVERE = new Level$LevelSevere;
  WARNING = new Level$LevelWarning;
}

defineClass($intern_133, 1, $intern_53);
_.getName = function getName_0(){
  return 'DUMMY';
}
;
_.intValue = function intValue_0(){
  return -1;
}
;
_.toString$ = function toString_88(){
  return this.getName();
}
;
var ALL, CONFIG, FINE, FINER, FINEST, INFO, OFF, SEVERE, WARNING;
var Ljava_util_logging_Level_2_classLit = createForClass('java.util.logging', 'Level', $intern_133, Ljava_lang_Object_2_classLit);
function Level$LevelAll(){
}

defineClass(859, $intern_133, $intern_53, Level$LevelAll);
_.getName = function getName_1(){
  return 'ALL';
}
;
_.intValue = function intValue_1(){
  return $intern_72;
}
;
var Ljava_util_logging_Level$LevelAll_2_classLit = createForClass('java.util.logging', 'Level/LevelAll', 859, Ljava_util_logging_Level_2_classLit);
function Level$LevelConfig(){
}

defineClass(860, $intern_133, $intern_53, Level$LevelConfig);
_.getName = function getName_2(){
  return 'CONFIG';
}
;
_.intValue = function intValue_2(){
  return 700;
}
;
var Ljava_util_logging_Level$LevelConfig_2_classLit = createForClass('java.util.logging', 'Level/LevelConfig', 860, Ljava_util_logging_Level_2_classLit);
function Level$LevelFine(){
}

defineClass(861, $intern_133, $intern_53, Level$LevelFine);
_.getName = function getName_3(){
  return 'FINE';
}
;
_.intValue = function intValue_3(){
  return 500;
}
;
var Ljava_util_logging_Level$LevelFine_2_classLit = createForClass('java.util.logging', 'Level/LevelFine', 861, Ljava_util_logging_Level_2_classLit);
function Level$LevelFiner(){
}

defineClass(862, $intern_133, $intern_53, Level$LevelFiner);
_.getName = function getName_4(){
  return 'FINER';
}
;
_.intValue = function intValue_4(){
  return 400;
}
;
var Ljava_util_logging_Level$LevelFiner_2_classLit = createForClass('java.util.logging', 'Level/LevelFiner', 862, Ljava_util_logging_Level_2_classLit);
function Level$LevelFinest(){
}

defineClass(863, $intern_133, $intern_53, Level$LevelFinest);
_.getName = function getName_5(){
  return 'FINEST';
}
;
_.intValue = function intValue_5(){
  return 300;
}
;
var Ljava_util_logging_Level$LevelFinest_2_classLit = createForClass('java.util.logging', 'Level/LevelFinest', 863, Ljava_util_logging_Level_2_classLit);
function Level$LevelInfo(){
}

defineClass(864, $intern_133, $intern_53, Level$LevelInfo);
_.getName = function getName_6(){
  return 'INFO';
}
;
_.intValue = function intValue_6(){
  return 800;
}
;
var Ljava_util_logging_Level$LevelInfo_2_classLit = createForClass('java.util.logging', 'Level/LevelInfo', 864, Ljava_util_logging_Level_2_classLit);
function Level$LevelOff(){
}

defineClass(865, $intern_133, $intern_53, Level$LevelOff);
_.getName = function getName_7(){
  return 'OFF';
}
;
_.intValue = function intValue_7(){
  return $intern_0;
}
;
var Ljava_util_logging_Level$LevelOff_2_classLit = createForClass('java.util.logging', 'Level/LevelOff', 865, Ljava_util_logging_Level_2_classLit);
function Level$LevelSevere(){
}

defineClass(866, $intern_133, $intern_53, Level$LevelSevere);
_.getName = function getName_8(){
  return 'SEVERE';
}
;
_.intValue = function intValue_8(){
  return $intern_10;
}
;
var Ljava_util_logging_Level$LevelSevere_2_classLit = createForClass('java.util.logging', 'Level/LevelSevere', 866, Ljava_util_logging_Level_2_classLit);
function Level$LevelWarning(){
}

defineClass(867, $intern_133, $intern_53, Level$LevelWarning);
_.getName = function getName_9(){
  return 'WARNING';
}
;
_.intValue = function intValue_9(){
  return 900;
}
;
var Ljava_util_logging_Level$LevelWarning_2_classLit = createForClass('java.util.logging', 'Level/LevelWarning', 867, Ljava_util_logging_Level_2_classLit);
function $addLoggerImpl(this$static, logger){
  this$static.loggerMap.put(logger.impl.name_0, logger);
}

function $ensureLogger(this$static, name_0){
  var logger, newLogger, name_1, parentName;
  logger = dynamicCast(this$static.loggerMap.get_2(name_0), 326);
  if (!logger) {
    newLogger = new Logger(name_0);
    name_1 = newLogger.impl.name_0;
    parentName = $substring_0(name_1, 0, max_1(0, $lastIndexOf(name_1, fromCodePoint(46))));
    $setParent_1(newLogger, $ensureLogger(this$static, parentName));
    this$static.loggerMap.put(newLogger.impl.name_0, newLogger);
    return newLogger;
  }
  return logger;
}

function LogManager(){
  this.loggerMap = new HashMap;
}

function getLogManager(){
  var rootLogger;
  if (!singleton_0) {
    singleton_0 = new LogManager;
    rootLogger = new Logger('');
    $setLevel_1(rootLogger, ($clinit_Level() , INFO));
    $addLoggerImpl(singleton_0, rootLogger);
  }
  return singleton_0;
}

defineClass(839, 1, {}, LogManager);
var singleton_0;
var Ljava_util_logging_LogManager_2_classLit = createForClass('java.util.logging', 'LogManager', 839, Ljava_lang_Object_2_classLit);
function $setLoggerName(this$static, newName){
  this$static.loggerName = newName;
}

function LogRecord(level, msg){
  this.level = level;
  this.msg = msg;
  this.millis = ($clinit_System() , fromDouble(now_1()));
}

defineClass(1034, 1, $intern_53, LogRecord);
_.loggerName = '';
_.millis = {l:0, m:0, h:0};
_.thrown = null;
var Ljava_util_logging_LogRecord_2_classLit = createForClass('java.util.logging', 'LogRecord', 1034, Ljava_lang_Object_2_classLit);
function $finest_0(this$static, msg){
  $finest(this$static.impl, msg);
}

function $info_1(this$static, msg){
  $info(this$static.impl, msg);
}

function $log_3(this$static, level, msg, thrown){
  $log(this$static.impl, level, msg, thrown);
}

function $setLevel_1(this$static, newLevel){
  $setLevel_0(this$static.impl, newLevel);
}

function $setParent_1(this$static, newParent){
  $setParent_0(this$static.impl, newParent);
}

function $severe_0(this$static, msg){
  $severe(this$static.impl, msg);
}

function $warning_0(this$static, msg){
  $warning(this$static.impl, msg);
}

function Logger(name_0){
  this.impl = new LoggerImplRegular;
  $setName_0(this.impl, name_0);
}

function getLogger(name_0){
  new LoggerImplRegular;
  return $ensureLogger(getLogManager(), name_0);
}

defineClass(326, 1, {326:1}, Logger);
var Ljava_util_logging_Logger_2_classLit = createForClass('java.util.logging', 'Logger', 326, Ljava_lang_Object_2_classLit);
function $addChangeListener(this$static, listener){
  $add_0(this$static.changeListeners, listener);
}

function $getAbsoluteLeft_1(element){
  var scr0fX;
  return $clinit_DOM() , $getAbsoluteLeft_0(element) - (scr0fX = 0 , typeof $wnd.pageXOffset == 'number'?(scr0fX = $wnd.pageXOffset):$doc.body && ($doc.body.scrollLeft || $doc.body.scrollTop)?(scr0fX = $doc.body.scrollLeft):(scr0fX = $doc.documentElement.scrollLeft) , scr0fX);
}

function $getOffsetWidth_1(element){
  return $clinit_DOM() , $getPropertyInt(element, 'offsetWidth');
}

function $onBrowserEvent_1(this$static, event_0){
  $onBrowserEvent(this$static, event_0);
  if (!this$static.enabled)
    return;
  switch ($clinit_DOM() , $eventGetTypeInt(event_0.type)) {
    case 4:
      $eventPreventDefault(event_0);
      setCapture(this$static.element);
      this$static.mouseIsDown = true;
      $updateValue(this$static, event_0);
      addNativePreviewHandler(new DOM$NativePreview(this$static.eventPreviewer));
      break;
    case 64:
      this$static.mouseIsDown && $updateValue(this$static, event_0);
      break;
    case 8:
      releaseCapture(this$static.element);
      this$static.mouseIsDown = false;
      $updateValue(this$static, event_0);
      removeEventPreview(this$static.eventPreviewer);
      break;
    case $intern_101:
      $updateDisplayValue(this$static);
  }
}

function $setValue_5(this$static, value_0){
  value_0 < this$static.minValue && (value_0 = this$static.minValue);
  value_0 > this$static.maxValue && (value_0 = this$static.maxValue);
  if (this$static.value_0 != value_0) {
    this$static.value_0 = $fireChange_0(this$static.valueChangeVerifiers, value_0);
    $fireChange(this$static.changeListeners);
    this$static.attached && $updateDisplayValue(this$static);
  }
}

function $setWidthAttribute(element, width_0){
  $clinit_DOM();
  $setPropertyInt(element, 'width', width_0);
}

function $updateDisplayValue(this$static){
  var centerWidth, leftWidth, rightWidth, totalValueSpan, width_0;
  width_0 = $getOffsetWidth_1(($clinit_DOM() , this$static.element));
  if (width_0 == 0)
    return;
  totalValueSpan = this$static.maxValue - this$static.minValue;
  centerWidth = $getOffsetWidth_1(this$static.center);
  leftWidth = round_int(width_0 / totalValueSpan * (this$static.value_0 - this$static.minValue));
  leftWidth -= ~~(centerWidth / 2);
  leftWidth < 0 && (leftWidth = 0);
  rightWidth = width_0 - leftWidth - centerWidth;
  if (leftWidth <= 0) {
    leftWidth = 1;
    if (this$static.oldLeftDisplay == null) {
      this$static.oldLeftDisplay = getStyleAttribute(this$static.left_0, 'display');
      setStyleAttribute(this$static.left_0, 'display', 'none');
      setStyleAttribute(this$static.leftTop, 'display', 'none');
      setStyleAttribute(this$static.leftBottom, 'display', 'none');
    }
  }
   else {
    if (this$static.oldLeftDisplay != null) {
      setStyleAttribute(this$static.left_0, 'display', this$static.oldLeftDisplay);
      setStyleAttribute(this$static.leftTop, 'display', this$static.oldLeftDisplay);
      setStyleAttribute(this$static.leftBottom, 'display', this$static.oldLeftDisplay);
      this$static.oldLeftDisplay = null;
    }
  }
  if (rightWidth <= 0) {
    rightWidth = 1;
    if (this$static.oldRightDisplay == null) {
      this$static.oldRightDisplay = getStyleAttribute(this$static.left_0, 'display');
      setStyleAttribute(this$static.right, 'display', 'none');
      setStyleAttribute(this$static.rightTop, 'display', 'none');
      setStyleAttribute(this$static.rightBottom, 'display', 'none');
    }
  }
   else {
    if (this$static.oldRightDisplay != null) {
      setStyleAttribute(this$static.right, 'display', this$static.oldRightDisplay);
      setStyleAttribute(this$static.rightTop, 'display', this$static.oldRightDisplay);
      setStyleAttribute(this$static.rightBottom, 'display', this$static.oldRightDisplay);
      this$static.oldRightDisplay = null;
    }
  }
  $setWidthAttribute(this$static.leftTop, leftWidth);
  $setWidthAttribute(this$static.left_0, leftWidth);
  $setWidthAttribute(this$static.leftBottom, leftWidth);
  $setWidthAttribute(this$static.rightTop, rightWidth);
  $setWidthAttribute(this$static.right, rightWidth);
  $setWidthAttribute(this$static.rightBottom, rightWidth);
}

function $updateValue(this$static, event_0){
  var newValue, totalValueSpan, trying, width_0, x_0;
  x_0 = ($clinit_DOM() , ($eventGetSubPixelClientX(event_0) | 0) - $getAbsoluteLeft_1(this$static.element));
  width_0 = $getOffsetWidth_1(this$static.element);
  if (x_0 > width_0)
    newValue = this$static.maxValue;
  else if (x_0 < 0)
    newValue = this$static.minValue;
  else {
    totalValueSpan = this$static.maxValue - this$static.minValue;
    newValue = totalValueSpan / width_0 * x_0 + this$static.minValue;
    newValue < this$static.minValue && (newValue = this$static.minValue);
  }
  trying = (newValue - this$static.minValue) % this$static.interval;
  trying != 0 && (trying < this$static.interval / 2?(newValue -= trying):(newValue += this$static.interval - trying));
  $setValue_5(this$static, newValue);
}

function Slider(){
  $clinit_FocusWidget();
  Slider_0.call(this);
}

function Slider_0(){
  var slider, sliderBottom, sliderTop, tbody;
  FocusWidget.call(this, ($clinit_DOM() , $doc.createElement('table')));
  this.minValue = 0;
  this.maxValue = 100;
  this.interval = 1;
  this.styleName = 'sph-Slider';
  this.oldLeftDisplay = null;
  this.oldRightDisplay = null;
  this.eventPreviewer = new Slider$1(this);
  this.enabled = true;
  this.styleName = 'sph-Slider';
  this.changeListeners = new ChangeListenerCollection;
  this.valueChangeVerifiers = new ValueChangeVerifierCollection;
  this.eventsToSink == -1?sinkEvents_0(this.element, 32844 | (this.element.__eventBits || 0)):(this.eventsToSink |= 32844);
  tbody = $doc.createElement('tbody');
  $appendChild(this.element, resolve(tbody));
  sliderTop = $doc.createElement('tr');
  slider = $doc.createElement('tr');
  sliderBottom = $doc.createElement('tr');
  $appendChild(tbody, resolve(sliderTop));
  $appendChild(tbody, resolve(slider));
  $appendChild(tbody, resolve(sliderBottom));
  $setStyleName(this, this.styleName);
  this.leftTop = $doc.createElement('td');
  this.left_0 = $doc.createElement('td');
  this.leftBottom = $doc.createElement('td');
  this.center = $doc.createElement('td');
  this.rightTop = $doc.createElement('td');
  this.right = $doc.createElement('td');
  this.rightBottom = $doc.createElement('td');
  $appendChild(sliderTop, resolve(this.leftTop));
  $setPropertyInt(this.center, 'rowSpan', 3);
  $appendChild(sliderTop, resolve(this.center));
  $appendChild(sliderTop, resolve(this.rightTop));
  $appendChild(slider, resolve(this.left_0));
  $appendChild(slider, resolve(this.right));
  $appendChild(sliderBottom, resolve(this.leftBottom));
  $appendChild(sliderBottom, resolve(this.rightBottom));
  $setPropertyString(this.leftTop, 'className', this.styleName + '-LeftTop');
  $setPropertyString(this.left_0, 'className', this.styleName + '-Left');
  $setPropertyString(this.leftBottom, 'className', this.styleName + '-LeftBottom');
  $setPropertyString(this.center, 'className', this.styleName + '-Center');
  $setPropertyString(this.rightTop, 'className', this.styleName + '-RightTop');
  $setPropertyString(this.right, 'className', this.styleName + '-Right');
  $setPropertyString(this.rightBottom, 'className', this.styleName + '-RightBottom');
}

defineClass(504, 334, $intern_41, Slider);
_.onAttach = function onAttach_6(){
  $onAttach_0(this);
  $updateDisplayValue(this);
}
;
_.onBrowserEvent = function onBrowserEvent_14(event_0){
  $onBrowserEvent_1(this, event_0);
}
;
_.setVisible = function setVisible_7(visible){
  setVisible(($clinit_DOM() , this.element), visible);
}
;
_.enabled = false;
_.interval = 0;
_.maxValue = 0;
_.minValue = 0;
_.mouseIsDown = false;
_.value_0 = 0;
var Lnet_sphene_gwt_widgets_slider_Slider_2_classLit = createForClass('net.sphene.gwt.widgets.slider', 'Slider', 504, Lcom_google_gwt_user_client_ui_FocusWidget_2_classLit);
function Slider$1(this$0){
  this.this$01 = this$0;
}

defineClass(1357, 1, {95:1}, Slider$1);
_.onEventPreview = function onEventPreview_3(event_0){
  $onBrowserEvent_1(this.this$01, event_0);
  return false;
}
;
var Lnet_sphene_gwt_widgets_slider_Slider$1_2_classLit = createForClass('net.sphene.gwt.widgets.slider', 'Slider/1', 1357, Ljava_lang_Object_2_classLit);
function $fireChange_0(this$static, newValue){
  var it;
  for (it = new AbstractList$IteratorImpl(this$static.arrayList); it.i < it.this$01_0.size_1();) {
    checkCriticalElement(it.i < it.this$01_0.size_1());
    throwClassCastExceptionUnlessNull(it.this$01_0.get_0(it.last = it.i++));
    newValue = null.nullMethod();
  }
  return newValue;
}

function ValueChangeVerifierCollection(){
  this.arrayList = new ArrayList;
}

defineClass(1382, 1381, $intern_69, ValueChangeVerifierCollection);
var Lnet_sphene_gwt_widgets_slider_ValueChangeVerifierCollection_2_classLit = createForClass('net.sphene.gwt.widgets.slider', 'ValueChangeVerifierCollection', 1382, Ljava_util_Vector_2_classLit);
function $clinit_CompressionMode(){
  $clinit_CompressionMode = emptyMethod;
  MODE_1 = new CompressionMode('MODE_1', 0, 16, 64, 0);
  MODE_2 = new CompressionMode('MODE_2', 1, 20, 64, 0);
  MODE_3 = new CompressionMode('MODE_3', 2, 19, 64, 1);
  MODE_4 = new CompressionMode('MODE_4', 3, 20, 64, 1);
  MODE_5 = new CompressionMode('MODE_5', 4, 21, 128, 1);
  MODE_6 = new CompressionMode('MODE_6', 5, 22, 128, 1);
  MODE_7 = new CompressionMode('MODE_7', 6, 23, 128, 1);
  MODE_8 = new CompressionMode('MODE_8', 7, 24, 255, 1);
  MODE_9 = new CompressionMode('MODE_9', 8, 25, 255, 1);
}

function $configure(this$static, encoder){
  if (!$SetDictionarySize_0(encoder, 1 << this$static.dictionarySize))
    throw new RuntimeException_0('unexpected failure');
  if (!$SetNumFastBytes(encoder, this$static.fb))
    throw new RuntimeException_0('unexpected failure');
  if (!$SetMatchFinder(encoder, this$static.matchFinder))
    throw new RuntimeException_0('unexpected failure');
  if (!$SetLcLpPb_0(encoder, this$static.lc, this$static.lp, this$static.pb))
    throw new RuntimeException_0('unexpected failure');
}

function CompressionMode(enum$name, enum$ordinal, dictionarySize, fb, matchFinder){
  Enum.call(this, enum$name, enum$ordinal);
  this.dictionarySize = dictionarySize;
  this.fb = fb;
  this.matchFinder = matchFinder;
  this.lc = 3;
  this.lp = 0;
  this.pb = 2;
}

function valueOf_47(name_0){
  $clinit_CompressionMode();
  return valueOf(($clinit_CompressionMode$Map() , $MAP_42), name_0);
}

function values_52(){
  $clinit_CompressionMode();
  return initValues(getClassLiteralForArray(Lorg_dellroad_lzma_client_CompressionMode_2_classLit, 1), $intern_1, 165, 0, [MODE_1, MODE_2, MODE_3, MODE_4, MODE_5, MODE_6, MODE_7, MODE_8, MODE_9]);
}

defineClass(165, 9, {3:1, 21:1, 9:1, 165:1}, CompressionMode);
_.dictionarySize = 0;
_.fb = 0;
_.lc = 0;
_.lp = 0;
_.matchFinder = 0;
_.pb = 0;
var MODE_1, MODE_2, MODE_3, MODE_4, MODE_5, MODE_6, MODE_7, MODE_8, MODE_9;
var Lorg_dellroad_lzma_client_CompressionMode_2_classLit = createForEnum('org.dellroad.lzma.client', 'CompressionMode', 165, Ljava_lang_Enum_2_classLit, values_52, valueOf_47);
function $clinit_CompressionMode$Map(){
  $clinit_CompressionMode$Map = emptyMethod;
  $MAP_42 = createValueOfMap(($clinit_CompressionMode() , initValues(getClassLiteralForArray(Lorg_dellroad_lzma_client_CompressionMode_2_classLit, 1), $intern_1, 165, 0, [MODE_1, MODE_2, MODE_3, MODE_4, MODE_5, MODE_6, MODE_7, MODE_8, MODE_9])));
}

var $MAP_42;
function $clinit_LZMACompressor(){
  $clinit_LZMACompressor = emptyMethod;
  $clinit_CompressionMode();
}

function $execute_2(this$static){
  try {
    return $processChunk(this$static.chunker);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 173)) {
      return false;
    }
     else 
      throw unwrap($e0);
  }
}

function $getProgress(this$static){
  if (eq(this$static.length_0, {l:$intern_90, m:$intern_90, h:$intern_91}))
    return 0;
  return toDouble(this$static.chunker.inBytesProcessed) / toDouble(this$static.length_0);
}

function $init_1(this$static, input_0, output, length_0, mode){
  var encoder, i;
  if (!mode)
    throw new IllegalArgumentException_0('null mode');
  if (lt(length_0, {l:$intern_90, m:$intern_90, h:$intern_91}))
    throw new IllegalArgumentException_0('invalid length ' + toString_50(length_0));
  this$static.length_0 = length_0;
  encoder = new Encoder;
  $configure(mode, encoder);
  encoder._writeEndMark = true;
  $WriteCoderProperties(encoder, output);
  for (i = 0; i < 64; i += 8)
    $write(output, toInt(shr(length_0, i)) & 255);
  this$static.chunker = (encoder._needReleaseMFStream = false , encoder._inStream = input_0 , encoder._finished = false , $Create_4(encoder) , $SetStream_2(encoder._rangeEncoder, output) , $Init_4(encoder) , $FillDistancesPrices(encoder) , $FillAlignPrices(encoder) , $SetTableSize(encoder._lenEncoder, encoder._numFastBytes + 1 - 2) , $UpdateTables(encoder._lenEncoder, 1 << encoder._posStateBits) , $SetTableSize(encoder._repMatchLenEncoder, encoder._numFastBytes + 1 - 2) , $UpdateTables(encoder._repMatchLenEncoder, 1 << encoder._posStateBits) , encoder.nowPos64 = {l:0, m:0, h:0} , undefined , new Chunker_0(encoder));
}

defineClass(1528, 1, {});
_.execute_0 = function execute_30(){
  return $execute_2(this);
}
;
_.length_0 = {l:0, m:0, h:0};
var Lorg_dellroad_lzma_client_LZMACompressor_2_classLit = createForClass('org.dellroad.lzma.client', 'LZMACompressor', 1528, Ljava_lang_Object_2_classLit);
function LZMAByteArrayCompressor(data_0, mode){
  $clinit_LZMACompressor();
  this.output = new ByteArrayOutputStream;
  try {
    $init_1(this, new ByteArrayInputStream(data_0), this.output, fromInt(data_0.length), mode);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 173)) {
      throw new RuntimeException_0('impossible exception');
    }
     else 
      throw unwrap($e0);
  }
}

defineClass(1262, 1528, {}, LZMAByteArrayCompressor);
var Lorg_dellroad_lzma_client_LZMAByteArrayCompressor_2_classLit = createForClass('org.dellroad.lzma.client', 'LZMAByteArrayCompressor', 1262, Lorg_dellroad_lzma_client_LZMACompressor_2_classLit);
function $execute_3(this$static){
  var e;
  try {
    return $processChunk(this$static.chunker);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 173)) {
      e = $e0;
      this$static.exception = e;
      return false;
    }
     else 
      throw unwrap($e0);
  }
}

function $init_2(this$static, input_0, output){
  var decoder, expectedLength, i, i0, properties, r;
  properties = initDim(B_classLit, $intern_53, 0, 5, 7, 1);
  for (i0 = 0; i0 < properties.length; i0++) {
    r = $read(input_0);
    if (r == -1)
      throw new IOException('truncated input');
    properties[i0] = narrow_byte(r);
  }
  decoder = new Decoder;
  if (!$SetDecoderProperties(decoder, properties))
    throw new IOException('corrupted input');
  expectedLength = {l:$intern_90, m:$intern_90, h:$intern_91};
  for (i = 0; i < 64; i += 8) {
    r = $read(input_0);
    if (r == -1)
      throw new IOException('truncated input');
    expectedLength = or(expectedLength, shl(fromInt(r), i));
  }
  this$static.length_0 = expectedLength;
  this$static.chunker = $CodeInChunks(decoder, input_0, output, this$static.length_0);
}

defineClass(1523, 1, {});
_.execute_0 = function execute_31(){
  return $execute_3(this);
}
;
_.length_0 = {l:0, m:0, h:0};
var Lorg_dellroad_lzma_client_LZMADecompressor_2_classLit = createForClass('org.dellroad.lzma.client', 'LZMADecompressor', 1523, Ljava_lang_Object_2_classLit);
function LZMAByteArrayDecompressor(data_0){
  this.output = new ByteArrayOutputStream;
  $init_2(this, new ByteArrayInputStream(data_0), this.output);
}

defineClass(1192, 1523, {}, LZMAByteArrayDecompressor);
var Lorg_dellroad_lzma_client_LZMAByteArrayDecompressor_2_classLit = createForClass('org.dellroad.lzma.client', 'LZMAByteArrayDecompressor', 1192, Lorg_dellroad_lzma_client_LZMADecompressor_2_classLit);
function $Create(this$static, keepSizeBefore, keepSizeAfter, keepSizeReserv){
  var blockSize;
  this$static._keepSizeBefore = keepSizeBefore;
  this$static._keepSizeAfter = keepSizeAfter;
  blockSize = keepSizeBefore + keepSizeAfter + keepSizeReserv;
  if (this$static._bufferBase == null || this$static._blockSize != blockSize) {
    this$static._bufferBase = null;
    this$static._blockSize = blockSize;
    this$static._bufferBase = initDim(B_classLit, $intern_53, 0, this$static._blockSize, 7, 1);
  }
  this$static._pointerToLastSafePosition = this$static._blockSize - keepSizeAfter;
}

function $GetIndexByte(this$static, index_0){
  return this$static._bufferBase[this$static._bufferOffset + this$static._pos + index_0];
}

function $GetMatchLen(this$static, index_0, distance, limit){
  var i, pby;
  this$static._streamEndWasReached && this$static._pos + index_0 + limit > this$static._streamPos && (limit = this$static._streamPos - (this$static._pos + index_0));
  ++distance;
  pby = this$static._bufferOffset + this$static._pos + index_0;
  for (i = 0; i < limit && this$static._bufferBase[pby + i] == this$static._bufferBase[pby + i - distance]; i++)
  ;
  return i;
}

function $GetNumAvailableBytes(this$static){
  return this$static._streamPos - this$static._pos;
}

function $MoveBlock(this$static){
  var i, numBytes, offset;
  offset = this$static._bufferOffset + this$static._pos - this$static._keepSizeBefore;
  offset > 0 && --offset;
  numBytes = this$static._bufferOffset + this$static._streamPos - offset;
  for (i = 0; i < numBytes; i++)
    this$static._bufferBase[i] = this$static._bufferBase[offset + i];
  this$static._bufferOffset -= offset;
}

function $MovePos(this$static){
  var pointerToPostion;
  ++this$static._pos;
  if (this$static._pos > this$static._posLimit) {
    pointerToPostion = this$static._bufferOffset + this$static._pos;
    pointerToPostion > this$static._pointerToLastSafePosition && $MoveBlock(this$static);
    $ReadBlock(this$static);
  }
}

function $ReadBlock(this$static){
  var numReadBytes, pointerToPostion, size_0;
  if (this$static._streamEndWasReached)
    return;
  while (true) {
    size_0 = -this$static._bufferOffset + this$static._blockSize - this$static._streamPos;
    if (size_0 == 0)
      return;
    numReadBytes = $read_0(this$static._stream, this$static._bufferBase, this$static._bufferOffset + this$static._streamPos, size_0);
    if (numReadBytes == -1) {
      this$static._posLimit = this$static._streamPos;
      pointerToPostion = this$static._bufferOffset + this$static._posLimit;
      pointerToPostion > this$static._pointerToLastSafePosition && (this$static._posLimit = this$static._pointerToLastSafePosition - this$static._bufferOffset);
      this$static._streamEndWasReached = true;
      return;
    }
    this$static._streamPos += numReadBytes;
    this$static._streamPos >= this$static._pos + this$static._keepSizeAfter && (this$static._posLimit = this$static._streamPos - this$static._keepSizeAfter);
  }
}

function $ReduceOffsets(this$static, subValue){
  this$static._bufferOffset += subValue;
  this$static._posLimit -= subValue;
  this$static._pos -= subValue;
  this$static._streamPos -= subValue;
}

function $SetStream(this$static, stream){
  this$static._stream = stream;
}

defineClass(1532, 1, {});
_._blockSize = 0;
_._bufferOffset = 0;
_._keepSizeAfter = 0;
_._keepSizeBefore = 0;
_._pointerToLastSafePosition = 0;
_._pos = 0;
_._posLimit = 0;
_._streamEndWasReached = false;
_._streamPos = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_InWindow_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZ', 'InWindow', 1532, Ljava_lang_Object_2_classLit);
function $clinit_BinTree(){
  $clinit_BinTree = emptyMethod;
  var i, j, r;
  CrcTable = initDim(I_classLit, $intern_53, 0, 256, 7, 1);
  for (i = 0; i < 256; i++) {
    r = i;
    for (j = 0; j < 8; j++)
      (r & 1) != 0?(r = r >>> 1 ^ -306674912):(r >>>= 1);
    CrcTable[i] = r;
  }
}

function $Create_0(this$static, historySize, matchMaxLen){
  var cyclicBufferSize, hs, windowReservSize;
  if (historySize > 1073741567)
    return false;
  this$static._cutValue = 16 + (matchMaxLen >> 1);
  windowReservSize = ~~((historySize + $intern_100 + matchMaxLen + 274) / 2) + 256;
  $Create(this$static, historySize + $intern_100, matchMaxLen + 274, windowReservSize);
  this$static._matchMaxLen = matchMaxLen;
  cyclicBufferSize = historySize + 1;
  this$static._cyclicBufferSize != cyclicBufferSize && (this$static._son = initDim(I_classLit, $intern_53, 0, (this$static._cyclicBufferSize = cyclicBufferSize) * 2, 7, 1));
  hs = $intern_102;
  if (this$static.HASH_ARRAY) {
    hs = historySize - 1;
    hs |= hs >> 1;
    hs |= hs >> 2;
    hs |= hs >> 4;
    hs |= hs >> 8;
    hs >>= 1;
    hs |= $intern_31;
    hs > $intern_106 && (hs >>= 1);
    this$static._hashMask = hs;
    ++hs;
    hs += this$static.kFixHashSize;
  }
  hs != this$static._hashSizeSum && (this$static._hash = initDim(I_classLit, $intern_53, 0, this$static._hashSizeSum = hs, 7, 1));
  return true;
}

function $GetMatches(this$static, distances){
  var count, cur, curMatch, curMatch2, curMatch3, cyclicPos, delta, hash2Value, hash3Value, hashValue, len, len0, len1, lenLimit, matchMinPos, maxLen, offset, pby1, ptr0, ptr1, temp;
  if (this$static._pos + this$static._matchMaxLen <= this$static._streamPos)
    lenLimit = this$static._matchMaxLen;
  else {
    lenLimit = this$static._streamPos - this$static._pos;
    if (lenLimit < this$static.kMinMatchCheck) {
      $MovePos_0(this$static);
      return 0;
    }
  }
  offset = 0;
  matchMinPos = this$static._pos > this$static._cyclicBufferSize?this$static._pos - this$static._cyclicBufferSize:0;
  cur = this$static._bufferOffset + this$static._pos;
  maxLen = 1;
  hash2Value = 0;
  hash3Value = 0;
  if (this$static.HASH_ARRAY) {
    temp = CrcTable[this$static._bufferBase[cur] & 255] ^ this$static._bufferBase[cur + 1] & 255;
    hash2Value = temp & 1023;
    temp ^= (this$static._bufferBase[cur + 2] & 255) << 8;
    hash3Value = temp & $intern_31;
    hashValue = (temp ^ CrcTable[this$static._bufferBase[cur + 3] & 255] << 5) & this$static._hashMask;
  }
   else 
    hashValue = this$static._bufferBase[cur] & 255 ^ (this$static._bufferBase[cur + 1] & 255) << 8;
  curMatch = this$static._hash[this$static.kFixHashSize + hashValue];
  if (this$static.HASH_ARRAY) {
    curMatch2 = this$static._hash[hash2Value];
    curMatch3 = this$static._hash[$intern_87 + hash3Value];
    this$static._hash[hash2Value] = this$static._pos;
    this$static._hash[$intern_87 + hash3Value] = this$static._pos;
    if (curMatch2 > matchMinPos)
      if (this$static._bufferBase[this$static._bufferOffset + curMatch2] == this$static._bufferBase[cur]) {
        distances[offset++] = maxLen = 2;
        distances[offset++] = this$static._pos - curMatch2 - 1;
      }
    if (curMatch3 > matchMinPos)
      if (this$static._bufferBase[this$static._bufferOffset + curMatch3] == this$static._bufferBase[cur]) {
        curMatch3 == curMatch2 && (offset -= 2);
        distances[offset++] = maxLen = 3;
        distances[offset++] = this$static._pos - curMatch3 - 1;
        curMatch2 = curMatch3;
      }
    if (offset != 0 && curMatch2 == curMatch) {
      offset -= 2;
      maxLen = 1;
    }
  }
  this$static._hash[this$static.kFixHashSize + hashValue] = this$static._pos;
  ptr0 = (this$static._cyclicBufferPos << 1) + 1;
  ptr1 = this$static._cyclicBufferPos << 1;
  len0 = len1 = this$static.kNumHashDirectBytes;
  if (this$static.kNumHashDirectBytes != 0) {
    if (curMatch > matchMinPos) {
      if (this$static._bufferBase[this$static._bufferOffset + curMatch + this$static.kNumHashDirectBytes] != this$static._bufferBase[cur + this$static.kNumHashDirectBytes]) {
        distances[offset++] = maxLen = this$static.kNumHashDirectBytes;
        distances[offset++] = this$static._pos - curMatch - 1;
      }
    }
  }
  count = this$static._cutValue;
  while (true) {
    if (curMatch <= matchMinPos || count-- == 0) {
      this$static._son[ptr0] = this$static._son[ptr1] = 0;
      break;
    }
    delta = this$static._pos - curMatch;
    cyclicPos = (delta <= this$static._cyclicBufferPos?this$static._cyclicBufferPos - delta:this$static._cyclicBufferPos - delta + this$static._cyclicBufferSize) << 1;
    pby1 = this$static._bufferOffset + curMatch;
    len = len0 < len1?len0:len1;
    if (this$static._bufferBase[pby1 + len] == this$static._bufferBase[cur + len]) {
      while (++len != lenLimit)
        if (this$static._bufferBase[pby1 + len] != this$static._bufferBase[cur + len])
          break;
      if (maxLen < len) {
        distances[offset++] = maxLen = len;
        distances[offset++] = delta - 1;
        if (len == lenLimit) {
          this$static._son[ptr1] = this$static._son[cyclicPos];
          this$static._son[ptr0] = this$static._son[cyclicPos + 1];
          break;
        }
      }
    }
    if ((this$static._bufferBase[pby1 + len] & 255) < (this$static._bufferBase[cur + len] & 255)) {
      this$static._son[ptr1] = curMatch;
      ptr1 = cyclicPos + 1;
      curMatch = this$static._son[ptr1];
      len1 = len;
    }
     else {
      this$static._son[ptr0] = curMatch;
      ptr0 = cyclicPos;
      curMatch = this$static._son[cyclicPos];
      len0 = len;
    }
  }
  $MovePos_0(this$static);
  return offset;
}

function $Init(this$static){
  var i;
  this$static._bufferOffset = 0;
  this$static._pos = 0;
  this$static._streamPos = 0;
  this$static._streamEndWasReached = false;
  $ReadBlock(this$static);
  for (i = 0; i < this$static._hashSizeSum; i++)
    this$static._hash[i] = 0;
  this$static._cyclicBufferPos = 0;
  $ReduceOffsets(this$static, -1);
}

function $MovePos_0(this$static){
  var subValue;
  ++this$static._cyclicBufferPos >= this$static._cyclicBufferSize && (this$static._cyclicBufferPos = 0);
  $MovePos(this$static);
  this$static._pos == 1073741823 && (subValue = this$static._pos - this$static._cyclicBufferSize , $NormalizeLinks(this$static._son, this$static._cyclicBufferSize * 2, subValue) , $NormalizeLinks(this$static._hash, this$static._hashSizeSum, subValue) , $ReduceOffsets(this$static, subValue) , undefined);
}

function $NormalizeLinks(items, numItems, subValue){
  var i, value_0;
  for (i = 0; i < numItems; i++) {
    value_0 = items[i];
    value_0 <= subValue?(value_0 = 0):(value_0 -= subValue);
    items[i] = value_0;
  }
}

function $SetType(this$static, numHashBytes){
  this$static.HASH_ARRAY = numHashBytes > 2;
  if (this$static.HASH_ARRAY) {
    this$static.kNumHashDirectBytes = 0;
    this$static.kMinMatchCheck = 4;
    this$static.kFixHashSize = 66560;
  }
   else {
    this$static.kNumHashDirectBytes = 2;
    this$static.kMinMatchCheck = 3;
    this$static.kFixHashSize = 0;
  }
}

function $Skip(this$static, num){
  var count, cur, curMatch, cyclicPos, delta, hash2Value, hash3Value, hashValue, len, len0, len1, lenLimit, matchMinPos, pby1, ptr0, ptr1, temp;
  do {
    if (this$static._pos + this$static._matchMaxLen <= this$static._streamPos)
      lenLimit = this$static._matchMaxLen;
    else {
      lenLimit = this$static._streamPos - this$static._pos;
      if (lenLimit < this$static.kMinMatchCheck) {
        $MovePos_0(this$static);
        continue;
      }
    }
    matchMinPos = this$static._pos > this$static._cyclicBufferSize?this$static._pos - this$static._cyclicBufferSize:0;
    cur = this$static._bufferOffset + this$static._pos;
    if (this$static.HASH_ARRAY) {
      temp = CrcTable[this$static._bufferBase[cur] & 255] ^ this$static._bufferBase[cur + 1] & 255;
      hash2Value = temp & 1023;
      this$static._hash[hash2Value] = this$static._pos;
      temp ^= (this$static._bufferBase[cur + 2] & 255) << 8;
      hash3Value = temp & $intern_31;
      this$static._hash[$intern_87 + hash3Value] = this$static._pos;
      hashValue = (temp ^ CrcTable[this$static._bufferBase[cur + 3] & 255] << 5) & this$static._hashMask;
    }
     else 
      hashValue = this$static._bufferBase[cur] & 255 ^ (this$static._bufferBase[cur + 1] & 255) << 8;
    curMatch = this$static._hash[this$static.kFixHashSize + hashValue];
    this$static._hash[this$static.kFixHashSize + hashValue] = this$static._pos;
    ptr0 = (this$static._cyclicBufferPos << 1) + 1;
    ptr1 = this$static._cyclicBufferPos << 1;
    len0 = len1 = this$static.kNumHashDirectBytes;
    count = this$static._cutValue;
    while (true) {
      if (curMatch <= matchMinPos || count-- == 0) {
        this$static._son[ptr0] = this$static._son[ptr1] = 0;
        break;
      }
      delta = this$static._pos - curMatch;
      cyclicPos = (delta <= this$static._cyclicBufferPos?this$static._cyclicBufferPos - delta:this$static._cyclicBufferPos - delta + this$static._cyclicBufferSize) << 1;
      pby1 = this$static._bufferOffset + curMatch;
      len = len0 < len1?len0:len1;
      if (this$static._bufferBase[pby1 + len] == this$static._bufferBase[cur + len]) {
        while (++len != lenLimit)
          if (this$static._bufferBase[pby1 + len] != this$static._bufferBase[cur + len])
            break;
        if (len == lenLimit) {
          this$static._son[ptr1] = this$static._son[cyclicPos];
          this$static._son[ptr0] = this$static._son[cyclicPos + 1];
          break;
        }
      }
      if ((this$static._bufferBase[pby1 + len] & 255) < (this$static._bufferBase[cur + len] & 255)) {
        this$static._son[ptr1] = curMatch;
        ptr1 = cyclicPos + 1;
        curMatch = this$static._son[ptr1];
        len1 = len;
      }
       else {
        this$static._son[ptr0] = curMatch;
        ptr0 = cyclicPos;
        curMatch = this$static._son[cyclicPos];
        len0 = len;
      }
    }
    $MovePos_0(this$static);
  }
   while (--num != 0);
}

function BinTree(){
  $clinit_BinTree();
}

defineClass(1360, 1532, {}, BinTree);
_.HASH_ARRAY = true;
_._cutValue = 255;
_._cyclicBufferPos = 0;
_._cyclicBufferSize = 0;
_._hashMask = 0;
_._hashSizeSum = 0;
_._matchMaxLen = 0;
_.kFixHashSize = 66560;
_.kMinMatchCheck = 4;
_.kNumHashDirectBytes = 0;
var CrcTable;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_BinTree_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZ', 'BinTree', 1360, Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_InWindow_2_classLit);
function $CopyBlock(this$static, distance, len){
  var pos;
  pos = this$static._pos - distance - 1;
  pos < 0 && (pos += this$static._windowSize);
  for (; len != 0; len--) {
    pos >= this$static._windowSize && (pos = 0);
    this$static._buffer[this$static._pos++] = this$static._buffer[pos++];
    this$static._pos >= this$static._windowSize && $Flush(this$static);
  }
}

function $Create_1(this$static, windowSize){
  (this$static._buffer == null || this$static._windowSize != windowSize) && (this$static._buffer = initDim(B_classLit, $intern_53, 0, windowSize, 7, 1));
  this$static._windowSize = windowSize;
  this$static._pos = 0;
  this$static._streamPos = 0;
}

function $Flush(this$static){
  var size_0;
  size_0 = this$static._pos - this$static._streamPos;
  if (size_0 == 0)
    return;
  $write_0(this$static._stream, this$static._buffer, this$static._streamPos, size_0);
  this$static._pos >= this$static._windowSize && (this$static._pos = 0);
  this$static._streamPos = this$static._pos;
}

function $GetByte(this$static, distance){
  var pos;
  pos = this$static._pos - distance - 1;
  pos < 0 && (pos += this$static._windowSize);
  return this$static._buffer[pos];
}

function $Init_0(this$static, solid){
  if (!solid) {
    this$static._streamPos = 0;
    this$static._pos = 0;
  }
}

function $PutByte(this$static, b){
  this$static._buffer[this$static._pos++] = b;
  this$static._pos >= this$static._windowSize && $Flush(this$static);
}

function $ReleaseStream(this$static){
  $Flush(this$static);
  this$static._stream = null;
}

function $SetStream_0(this$static, stream){
  $Flush(this$static);
  this$static._stream = null;
  this$static._stream = stream;
}

function OutWindow(){
}

defineClass(1358, 1, {}, OutWindow);
_._pos = 0;
_._streamPos = 0;
_._windowSize = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZ_OutWindow_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZ', 'OutWindow', 1358, Ljava_lang_Object_2_classLit);
function GetLenToPosState(len){
  len -= 2;
  if (len < 4)
    return len;
  return 3;
}

function StateUpdateChar(index_0){
  if (index_0 < 4)
    return 0;
  if (index_0 < 10)
    return index_0 - 3;
  return index_0 - 6;
}

function $processChunk(this$static){
  var exception;
  if (!this$static.alive)
    throw new IllegalStateException;
  exception = true;
  try {
    this$static.encoder?$processEncoderChunk(this$static):$processDecoderChunk(this$static);
    exception = false;
    return this$static.alive;
  }
   finally {
    exception && (this$static.alive = false);
  }
}

function $processDecoderChunk(this$static){
  var result;
  result = $CodeOneChunk(this$static.decoder);
  if (result == -1)
    throw new IOException('corrupted input');
  this$static.inBytesProcessed = {l:$intern_90, m:$intern_90, h:$intern_91};
  if (result == 1 || gte_0(this$static.decoder.outSize, {l:0, m:0, h:0}) && gte_0(this$static.decoder.nowPos64, this$static.decoder.outSize)) {
    $CodeFinish(this$static.decoder);
    this$static.alive = false;
  }
}

function $processEncoderChunk(this$static){
  $CodeOneBlock(this$static.encoder, this$static.encoder.processedInSize, this$static.encoder.processedOutSize, this$static.encoder.finished);
  this$static.inBytesProcessed = this$static.encoder.processedInSize[0];
  if (this$static.encoder.finished[0]) {
    $ReleaseStreams(this$static.encoder);
    this$static.alive = false;
  }
}

function Chunker(decoder){
  this.decoder = decoder;
  this.encoder = null;
  this.alive = true;
}

function Chunker_0(encoder){
  this.encoder = encoder;
  this.decoder = null;
  this.alive = true;
}

defineClass(496, 1, {}, Chunker, Chunker_0);
_.alive = false;
_.inBytesProcessed = {l:0, m:0, h:0};
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Chunker_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Chunker', 496, Ljava_lang_Object_2_classLit);
function $CodeFinish(this$static){
  $Flush(this$static.m_OutWindow);
  $ReleaseStream(this$static.m_OutWindow);
  this$static.m_RangeDecoder.Stream = null;
}

function $CodeInChunks(this$static, inStream, outStream, outSize){
  $SetStream_1(this$static.m_RangeDecoder, inStream);
  $SetStream_0(this$static.m_OutWindow, outStream);
  $Init_1(this$static);
  this$static.state = 0;
  this$static.rep0 = 0;
  this$static.rep1 = 0;
  this$static.rep2 = 0;
  this$static.rep3 = 0;
  this$static.outSize = outSize;
  this$static.nowPos64 = {l:0, m:0, h:0};
  this$static.prevByte = 0;
  return new Chunker(this$static);
}

function $CodeOneChunk(this$static){
  var decoder2, distance, len, numDirectBits, posSlot, posState;
  posState = toInt(this$static.nowPos64) & this$static.m_PosStateMask;
  if ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsMatchDecoders, (this$static.state << 4) + posState) == 0) {
    decoder2 = $GetDecoder(this$static.m_LiteralDecoder, toInt(this$static.nowPos64), this$static.prevByte);
    this$static.state < 7?(this$static.prevByte = $DecodeNormal(decoder2, this$static.m_RangeDecoder)):(this$static.prevByte = $DecodeWithMatchByte(decoder2, this$static.m_RangeDecoder, $GetByte(this$static.m_OutWindow, this$static.rep0)));
    $PutByte(this$static.m_OutWindow, this$static.prevByte);
    this$static.state = StateUpdateChar(this$static.state);
    this$static.nowPos64 = add_17(this$static.nowPos64, {l:1, m:0, h:0});
  }
   else {
    if ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRepDecoders, this$static.state) == 1) {
      len = 0;
      if ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRepG0Decoders, this$static.state) == 0) {
        if ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRep0LongDecoders, (this$static.state << 4) + posState) == 0) {
          this$static.state = this$static.state < 7?9:11;
          len = 1;
        }
      }
       else {
        if ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRepG1Decoders, this$static.state) == 0)
          distance = this$static.rep1;
        else {
          if ($DecodeBit(this$static.m_RangeDecoder, this$static.m_IsRepG2Decoders, this$static.state) == 0)
            distance = this$static.rep2;
          else {
            distance = this$static.rep3;
            this$static.rep3 = this$static.rep2;
          }
          this$static.rep2 = this$static.rep1;
        }
        this$static.rep1 = this$static.rep0;
        this$static.rep0 = distance;
      }
      if (len == 0) {
        len = $Decode(this$static.m_RepLenDecoder, this$static.m_RangeDecoder, posState) + 2;
        this$static.state = this$static.state < 7?8:11;
      }
    }
     else {
      this$static.rep3 = this$static.rep2;
      this$static.rep2 = this$static.rep1;
      this$static.rep1 = this$static.rep0;
      len = 2 + $Decode(this$static.m_LenDecoder, this$static.m_RangeDecoder, posState);
      this$static.state = this$static.state < 7?7:10;
      posSlot = $Decode_0(this$static.m_PosSlotDecoder[GetLenToPosState(len)], this$static.m_RangeDecoder);
      if (posSlot >= 4) {
        numDirectBits = (posSlot >> 1) - 1;
        this$static.rep0 = (2 | posSlot & 1) << numDirectBits;
        if (posSlot < 14)
          this$static.rep0 += ReverseDecode(this$static.m_PosDecoders, this$static.rep0 - posSlot - 1, this$static.m_RangeDecoder, numDirectBits);
        else {
          this$static.rep0 += $DecodeDirectBits(this$static.m_RangeDecoder, numDirectBits - 4) << 4;
          this$static.rep0 += $ReverseDecode(this$static.m_PosAlignDecoder, this$static.m_RangeDecoder);
          if (this$static.rep0 < 0) {
            if (this$static.rep0 == -1)
              return 1;
            return -1;
          }
        }
      }
       else 
        this$static.rep0 = posSlot;
    }
    if (gte_0(fromInt(this$static.rep0), this$static.nowPos64) || this$static.rep0 >= this$static.m_DictionarySizeCheck) {
      return -1;
    }
    $CopyBlock(this$static.m_OutWindow, this$static.rep0, len);
    this$static.nowPos64 = add_17(this$static.nowPos64, fromInt(len));
    this$static.prevByte = $GetByte(this$static.m_OutWindow, 0);
  }
  return 0;
}

function $Init_1(this$static){
  var i;
  $Init_0(this$static.m_OutWindow, false);
  InitBitModels(this$static.m_IsMatchDecoders);
  InitBitModels(this$static.m_IsRep0LongDecoders);
  InitBitModels(this$static.m_IsRepDecoders);
  InitBitModels(this$static.m_IsRepG0Decoders);
  InitBitModels(this$static.m_IsRepG1Decoders);
  InitBitModels(this$static.m_IsRepG2Decoders);
  InitBitModels(this$static.m_PosDecoders);
  $Init_3(this$static.m_LiteralDecoder);
  for (i = 0; i < 4; i++)
    InitBitModels(this$static.m_PosSlotDecoder[i].Models);
  $Init_2(this$static.m_LenDecoder);
  $Init_2(this$static.m_RepLenDecoder);
  InitBitModels(this$static.m_PosAlignDecoder.Models);
  $Init_7(this$static.m_RangeDecoder);
}

function $SetDecoderProperties(this$static, properties){
  var dictionarySize, i, lc, lp, pb, remainder, val;
  if (properties.length < 5)
    return false;
  val = properties[0] & 255;
  lc = val % 9;
  remainder = ~~(val / 9);
  lp = remainder % 5;
  pb = ~~(remainder / 5);
  dictionarySize = 0;
  for (i = 0; i < 4; i++)
    dictionarySize += (properties[1 + i] & 255) << i * 8;
  if (!$SetLcLpPb(this$static, lc, lp, pb))
    return false;
  return $SetDictionarySize(this$static, dictionarySize);
}

function $SetDictionarySize(this$static, dictionarySize){
  if (dictionarySize < 0)
    return false;
  if (this$static.m_DictionarySize != dictionarySize) {
    this$static.m_DictionarySize = dictionarySize;
    this$static.m_DictionarySizeCheck = max_1(this$static.m_DictionarySize, 1);
    $Create_1(this$static.m_OutWindow, max_1(this$static.m_DictionarySizeCheck, $intern_100));
  }
  return true;
}

function $SetLcLpPb(this$static, lc, lp, pb){
  var numPosStates;
  if (lc > 8 || lp > 4 || pb > 4)
    return false;
  $Create_3(this$static.m_LiteralDecoder, lp, lc);
  numPosStates = 1 << pb;
  $Create_2(this$static.m_LenDecoder, numPosStates);
  $Create_2(this$static.m_RepLenDecoder, numPosStates);
  this$static.m_PosStateMask = numPosStates - 1;
  return true;
}

function Decoder(){
  var i;
  this.m_OutWindow = new OutWindow;
  this.m_RangeDecoder = new Decoder_0;
  this.m_IsMatchDecoders = initDim(S_classLit, $intern_53, 0, 192, 7, 1);
  this.m_IsRepDecoders = initDim(S_classLit, $intern_53, 0, 12, 7, 1);
  this.m_IsRepG0Decoders = initDim(S_classLit, $intern_53, 0, 12, 7, 1);
  this.m_IsRepG1Decoders = initDim(S_classLit, $intern_53, 0, 12, 7, 1);
  this.m_IsRepG2Decoders = initDim(S_classLit, $intern_53, 0, 12, 7, 1);
  this.m_IsRep0LongDecoders = initDim(S_classLit, $intern_53, 0, 192, 7, 1);
  this.m_PosSlotDecoder = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit, $intern_1, 203, 4, 0, 1);
  this.m_PosDecoders = initDim(S_classLit, $intern_53, 0, 114, 7, 1);
  this.m_PosAlignDecoder = new BitTreeDecoder(4);
  this.m_LenDecoder = new Decoder$LenDecoder;
  this.m_RepLenDecoder = new Decoder$LenDecoder;
  this.m_LiteralDecoder = new Decoder$LiteralDecoder;
  for (i = 0; i < 4; i++)
    this.m_PosSlotDecoder[i] = new BitTreeDecoder(6);
}

defineClass(1267, 1, {}, Decoder);
_.m_DictionarySize = -1;
_.m_DictionarySizeCheck = -1;
_.m_PosStateMask = 0;
_.nowPos64 = {l:0, m:0, h:0};
_.outSize = {l:0, m:0, h:0};
_.prevByte = 0;
_.rep0 = 0;
_.rep1 = 0;
_.rep2 = 0;
_.rep3 = 0;
_.state = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Decoder', 1267, Ljava_lang_Object_2_classLit);
function $Create_2(this$static, numPosStates){
  for (; this$static.m_NumPosStates < numPosStates; this$static.m_NumPosStates++) {
    this$static.m_LowCoder[this$static.m_NumPosStates] = new BitTreeDecoder(3);
    this$static.m_MidCoder[this$static.m_NumPosStates] = new BitTreeDecoder(3);
  }
}

function $Decode(this$static, rangeDecoder, posState){
  var symbol;
  if ($DecodeBit(rangeDecoder, this$static.m_Choice, 0) == 0)
    return $Decode_0(this$static.m_LowCoder[posState], rangeDecoder);
  symbol = 8;
  $DecodeBit(rangeDecoder, this$static.m_Choice, 1) == 0?(symbol += $Decode_0(this$static.m_MidCoder[posState], rangeDecoder)):(symbol += 8 + $Decode_0(this$static.m_HighCoder, rangeDecoder));
  return symbol;
}

function $Init_2(this$static){
  var posState;
  InitBitModels(this$static.m_Choice);
  for (posState = 0; posState < this$static.m_NumPosStates; posState++) {
    InitBitModels(this$static.m_LowCoder[posState].Models);
    InitBitModels(this$static.m_MidCoder[posState].Models);
  }
  InitBitModels(this$static.m_HighCoder.Models);
}

function Decoder$LenDecoder(){
  this.m_Choice = initDim(S_classLit, $intern_53, 0, 2, 7, 1);
  this.m_LowCoder = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit, $intern_1, 203, 16, 0, 1);
  this.m_MidCoder = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit, $intern_1, 203, 16, 0, 1);
  this.m_HighCoder = new BitTreeDecoder(8);
}

defineClass(497, 1, {}, Decoder$LenDecoder);
_.m_NumPosStates = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LenDecoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Decoder/LenDecoder', 497, Ljava_lang_Object_2_classLit);
function $Create_3(this$static, numPosBits, numPrevBits){
  var i, numStates;
  if (this$static.m_Coders != null && this$static.m_NumPrevBits == numPrevBits && this$static.m_NumPosBits == numPosBits)
    return;
  this$static.m_NumPosBits = numPosBits;
  this$static.m_PosMask = (1 << numPosBits) - 1;
  this$static.m_NumPrevBits = numPrevBits;
  numStates = 1 << this$static.m_NumPrevBits + this$static.m_NumPosBits;
  this$static.m_Coders = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder$Decoder2_2_classLit, $intern_1, 404, numStates, 0, 1);
  for (i = 0; i < numStates; i++)
    this$static.m_Coders[i] = new Decoder$LiteralDecoder$Decoder2;
}

function $GetDecoder(this$static, pos, prevByte){
  return this$static.m_Coders[((pos & this$static.m_PosMask) << this$static.m_NumPrevBits) + ((prevByte & 255) >>> 8 - this$static.m_NumPrevBits)];
}

function $Init_3(this$static){
  var i, numStates;
  numStates = 1 << this$static.m_NumPrevBits + this$static.m_NumPosBits;
  for (i = 0; i < numStates; i++)
    InitBitModels(this$static.m_Coders[i].m_Decoders);
}

function Decoder$LiteralDecoder(){
}

defineClass(1268, 1, {}, Decoder$LiteralDecoder);
_.m_NumPosBits = 0;
_.m_NumPrevBits = 0;
_.m_PosMask = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Decoder/LiteralDecoder', 1268, Ljava_lang_Object_2_classLit);
function $DecodeNormal(this$static, rangeDecoder){
  var symbol;
  symbol = 1;
  do 
    symbol = symbol << 1 | $DecodeBit(rangeDecoder, this$static.m_Decoders, symbol);
  while (symbol < 256);
  return narrow_byte(symbol);
}

function $DecodeWithMatchByte(this$static, rangeDecoder, matchByte){
  var bit, matchBit, symbol;
  symbol = 1;
  do {
    matchBit = matchByte >> 7 & 1;
    matchByte = narrow_byte(matchByte << 1);
    bit = $DecodeBit(rangeDecoder, this$static.m_Decoders, (1 + matchBit << 8) + symbol);
    symbol = symbol << 1 | bit;
    if (matchBit != bit) {
      while (symbol < 256)
        symbol = symbol << 1 | $DecodeBit(rangeDecoder, this$static.m_Decoders, symbol);
      break;
    }
  }
   while (symbol < 256);
  return narrow_byte(symbol);
}

function Decoder$LiteralDecoder$Decoder2(){
  this.m_Decoders = initDim(S_classLit, $intern_53, 0, 768, 7, 1);
}

defineClass(404, 1, {404:1}, Decoder$LiteralDecoder$Decoder2);
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Decoder$LiteralDecoder$Decoder2_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Decoder/LiteralDecoder/Decoder2', 404, Ljava_lang_Object_2_classLit);
function $clinit_Encoder(){
  $clinit_Encoder = emptyMethod;
  var c, j, k, slotFast;
  g_FastPos = initDim(B_classLit, $intern_53, 0, $intern_34, 7, 1);
  c = 2;
  g_FastPos[0] = 0;
  g_FastPos[1] = 1;
  for (slotFast = 2; slotFast < 22; slotFast++) {
    k = 1 << (slotFast >> 1) - 1;
    for (j = 0; j < k; ++j , c++)
      g_FastPos[c] = narrow_byte(slotFast);
  }
}

function $$init_30(this$static){
  this$static._repDistances = initDim(I_classLit, $intern_53, 0, 4, 7, 1);
  this$static._optimum = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$Optimal_2_classLit, $intern_1, 405, $intern_100, 0, 1);
  this$static._rangeEncoder = new Encoder_0;
  this$static._isMatch = initDim(S_classLit, $intern_53, 0, 192, 7, 1);
  this$static._isRep = initDim(S_classLit, $intern_53, 0, 12, 7, 1);
  this$static._isRepG0 = initDim(S_classLit, $intern_53, 0, 12, 7, 1);
  this$static._isRepG1 = initDim(S_classLit, $intern_53, 0, 12, 7, 1);
  this$static._isRepG2 = initDim(S_classLit, $intern_53, 0, 12, 7, 1);
  this$static._isRep0Long = initDim(S_classLit, $intern_53, 0, 192, 7, 1);
  this$static._posSlotEncoder = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit, $intern_1, 204, 4, 0, 1);
  this$static._posEncoders = initDim(S_classLit, $intern_53, 0, 114, 7, 1);
  this$static._posAlignEncoder = new BitTreeEncoder(4);
  this$static._lenEncoder = new Encoder$LenPriceTableEncoder;
  this$static._repMatchLenEncoder = new Encoder$LenPriceTableEncoder;
  this$static._literalEncoder = new Encoder$LiteralEncoder;
  this$static._matchDistances = initDim(I_classLit, $intern_53, 0, 548, 7, 1);
  this$static._posSlotPrices = initDim(I_classLit, $intern_53, 0, 256, 7, 1);
  this$static._distancesPrices = initDim(I_classLit, $intern_53, 0, 512, 7, 1);
  this$static._alignPrices = initDim(I_classLit, $intern_53, 0, 16, 7, 1);
  this$static.reps = initDim(I_classLit, $intern_53, 0, 4, 7, 1);
  this$static.repLens = initDim(I_classLit, $intern_53, 0, 4, 7, 1);
  this$static.processedInSize = initDim(J_classLit, $intern_53, 0, 1, 6, 1);
  this$static.processedOutSize = initDim(J_classLit, $intern_53, 0, 1, 6, 1);
  this$static.finished = initDim(Z_classLit, $intern_53, 0, 1, 8, 1);
  this$static.properties = initDim(B_classLit, $intern_53, 0, 5, 7, 1);
  this$static.tempPrices = initDim(I_classLit, $intern_53, 0, 128, 7, 1);
}

function $Backward(this$static, cur){
  var backCur, backMem, posMem, posPrev;
  this$static._optimumEndIndex = cur;
  posMem = this$static._optimum[cur].PosPrev;
  backMem = this$static._optimum[cur].BackPrev;
  do {
    if (this$static._optimum[cur].Prev1IsChar) {
      $MakeAsChar(this$static._optimum[posMem]);
      this$static._optimum[posMem].PosPrev = posMem - 1;
      if (this$static._optimum[cur].Prev2) {
        this$static._optimum[posMem - 1].Prev1IsChar = false;
        this$static._optimum[posMem - 1].PosPrev = this$static._optimum[cur].PosPrev2;
        this$static._optimum[posMem - 1].BackPrev = this$static._optimum[cur].BackPrev2;
      }
    }
    posPrev = posMem;
    backCur = backMem;
    backMem = this$static._optimum[posMem].BackPrev;
    posMem = this$static._optimum[posMem].PosPrev;
    this$static._optimum[posPrev].BackPrev = backCur;
    this$static._optimum[posPrev].PosPrev = cur;
    cur = posPrev;
  }
   while (posPrev > 0);
  this$static.backRes = this$static._optimum[0].BackPrev;
  this$static._optimumCurrentIndex = this$static._optimum[0].PosPrev;
  return this$static._optimumCurrentIndex;
}

function $BaseInit(this$static){
  var i;
  this$static._state = 0;
  this$static._previousByte = 0;
  for (i = 0; i < 4; i++)
    this$static._repDistances[i] = 0;
}

function $CodeOneBlock(this$static, inSize, outSize, finished){
  var baseVal, complexState, curByte, distance, footerBits, i, len, lenToPosState, matchByte, pos, posReduced, posSlot, posState, progressPosValuePrev, subCoder;
  inSize[0] = {l:0, m:0, h:0};
  outSize[0] = {l:0, m:0, h:0};
  finished[0] = true;
  if (this$static._inStream) {
    $SetStream(this$static._matchFinder, this$static._inStream);
    $Init(this$static._matchFinder);
    this$static._needReleaseMFStream = true;
    this$static._inStream = null;
  }
  if (this$static._finished)
    return;
  this$static._finished = true;
  progressPosValuePrev = this$static.nowPos64;
  if (eq(this$static.nowPos64, {l:0, m:0, h:0})) {
    if ($GetNumAvailableBytes(this$static._matchFinder) == 0) {
      $Flush_0(this$static, toInt(this$static.nowPos64));
      return;
    }
    $ReadMatchDistances(this$static);
    posState = toInt(this$static.nowPos64) & this$static._posStateMask;
    $Encode_3(this$static._rangeEncoder, this$static._isMatch, (this$static._state << 4) + posState, 0);
    this$static._state = StateUpdateChar(this$static._state);
    curByte = $GetIndexByte(this$static._matchFinder, -this$static._additionalOffset);
    $Encode_1($GetSubCoder(this$static._literalEncoder, toInt(this$static.nowPos64), this$static._previousByte), this$static._rangeEncoder, curByte);
    this$static._previousByte = curByte;
    --this$static._additionalOffset;
    this$static.nowPos64 = add_17(this$static.nowPos64, {l:1, m:0, h:0});
  }
  if ($GetNumAvailableBytes(this$static._matchFinder) == 0) {
    $Flush_0(this$static, toInt(this$static.nowPos64));
    return;
  }
  while (true) {
    len = $GetOptimum(this$static, toInt(this$static.nowPos64));
    pos = this$static.backRes;
    posState = toInt(this$static.nowPos64) & this$static._posStateMask;
    complexState = (this$static._state << 4) + posState;
    if (len == 1 && pos == -1) {
      $Encode_3(this$static._rangeEncoder, this$static._isMatch, complexState, 0);
      curByte = $GetIndexByte(this$static._matchFinder, -this$static._additionalOffset);
      subCoder = $GetSubCoder(this$static._literalEncoder, toInt(this$static.nowPos64), this$static._previousByte);
      if (this$static._state < 7) {
        $Encode_1(subCoder, this$static._rangeEncoder, curByte);
      }
       else {
        matchByte = $GetIndexByte(this$static._matchFinder, -this$static._repDistances[0] - 1 - this$static._additionalOffset);
        $EncodeMatched(subCoder, this$static._rangeEncoder, matchByte, curByte);
      }
      this$static._previousByte = curByte;
      this$static._state = StateUpdateChar(this$static._state);
    }
     else {
      $Encode_3(this$static._rangeEncoder, this$static._isMatch, complexState, 1);
      if (pos < 4) {
        $Encode_3(this$static._rangeEncoder, this$static._isRep, this$static._state, 1);
        if (pos == 0) {
          $Encode_3(this$static._rangeEncoder, this$static._isRepG0, this$static._state, 0);
          len == 1?$Encode_3(this$static._rangeEncoder, this$static._isRep0Long, complexState, 0):$Encode_3(this$static._rangeEncoder, this$static._isRep0Long, complexState, 1);
        }
         else {
          $Encode_3(this$static._rangeEncoder, this$static._isRepG0, this$static._state, 1);
          if (pos == 1)
            $Encode_3(this$static._rangeEncoder, this$static._isRepG1, this$static._state, 0);
          else {
            $Encode_3(this$static._rangeEncoder, this$static._isRepG1, this$static._state, 1);
            $Encode_3(this$static._rangeEncoder, this$static._isRepG2, this$static._state, pos - 2);
          }
        }
        if (len == 1)
          this$static._state = this$static._state < 7?9:11;
        else {
          $Encode_0(this$static._repMatchLenEncoder, this$static._rangeEncoder, len - 2, posState);
          this$static._state = this$static._state < 7?8:11;
        }
        distance = this$static._repDistances[pos];
        if (pos != 0) {
          for (i = pos; i >= 1; i--)
            this$static._repDistances[i] = this$static._repDistances[i - 1];
          this$static._repDistances[0] = distance;
        }
      }
       else {
        $Encode_3(this$static._rangeEncoder, this$static._isRep, this$static._state, 0);
        this$static._state = this$static._state < 7?7:10;
        $Encode_0(this$static._lenEncoder, this$static._rangeEncoder, len - 2, posState);
        pos -= 4;
        posSlot = GetPosSlot(pos);
        lenToPosState = GetLenToPosState(len);
        $Encode_2(this$static._posSlotEncoder[lenToPosState], this$static._rangeEncoder, posSlot);
        if (posSlot >= 4) {
          footerBits = (posSlot >> 1) - 1;
          baseVal = (2 | posSlot & 1) << footerBits;
          posReduced = pos - baseVal;
          if (posSlot < 14)
            ReverseEncode(this$static._posEncoders, baseVal - posSlot - 1, this$static._rangeEncoder, footerBits, posReduced);
          else {
            $EncodeDirectBits(this$static._rangeEncoder, posReduced >> 4, footerBits - 4);
            $ReverseEncode(this$static._posAlignEncoder, this$static._rangeEncoder, posReduced & 15);
            ++this$static._alignPriceCount;
          }
        }
        for (i = 3; i >= 1; i--)
          this$static._repDistances[i] = this$static._repDistances[i - 1];
        this$static._repDistances[0] = pos;
        ++this$static._matchPriceCount;
      }
      this$static._previousByte = $GetIndexByte(this$static._matchFinder, len - 1 - this$static._additionalOffset);
    }
    this$static._additionalOffset -= len;
    this$static.nowPos64 = add_17(this$static.nowPos64, fromInt(len));
    if (this$static._additionalOffset == 0) {
      this$static._matchPriceCount >= 128 && $FillDistancesPrices(this$static);
      this$static._alignPriceCount >= 16 && $FillAlignPrices(this$static);
      inSize[0] = this$static.nowPos64;
      outSize[0] = $GetProcessedSizeAdd(this$static._rangeEncoder);
      if ($GetNumAvailableBytes(this$static._matchFinder) == 0) {
        $Flush_0(this$static, toInt(this$static.nowPos64));
        return;
      }
      if (gte_0(sub_0(this$static.nowPos64, progressPosValuePrev), {l:$intern_100, m:0, h:0})) {
        this$static._finished = false;
        finished[0] = false;
        return;
      }
    }
  }
}

function $Create_4(this$static){
  var bt, numHashBytes;
  if (!this$static._matchFinder) {
    bt = new BinTree;
    numHashBytes = 4;
    this$static._matchFinderType == 0 && (numHashBytes = 2);
    $SetType(bt, numHashBytes);
    this$static._matchFinder = bt;
  }
  $Create_5(this$static._literalEncoder, this$static._numLiteralPosStateBits, this$static._numLiteralContextBits);
  if (this$static._dictionarySize == this$static._dictionarySizePrev && this$static._numFastBytesPrev == this$static._numFastBytes)
    return;
  $Create_0(this$static._matchFinder, this$static._dictionarySize, this$static._numFastBytes);
  this$static._dictionarySizePrev = this$static._dictionarySize;
  this$static._numFastBytesPrev = this$static._numFastBytes;
}

function $FillAlignPrices(this$static){
  var i;
  for (i = 0; i < 16; i++)
    this$static._alignPrices[i] = $ReverseGetPrice(this$static._posAlignEncoder, i);
  this$static._alignPriceCount = 0;
}

function $FillDistancesPrices(this$static){
  var baseVal, encoder, footerBits, i, i0, lenToPosState, posSlot, st, st2;
  for (i0 = 4; i0 < 128; i0++) {
    posSlot = GetPosSlot(i0);
    footerBits = (posSlot >> 1) - 1;
    baseVal = (2 | posSlot & 1) << footerBits;
    this$static.tempPrices[i0] = ReverseGetPrice(this$static._posEncoders, baseVal - posSlot - 1, footerBits, i0 - baseVal);
  }
  for (lenToPosState = 0; lenToPosState < 4; lenToPosState++) {
    encoder = this$static._posSlotEncoder[lenToPosState];
    st = lenToPosState << 6;
    for (posSlot = 0; posSlot < this$static._distTableSize; posSlot++)
      this$static._posSlotPrices[st + posSlot] = $GetPrice_1(encoder, posSlot);
    for (posSlot = 14; posSlot < this$static._distTableSize; posSlot++)
      this$static._posSlotPrices[st + posSlot] += (posSlot >> 1) - 1 - 4 << 6;
    st2 = lenToPosState * 128;
    for (i = 0; i < 4; i++)
      this$static._distancesPrices[st2 + i] = this$static._posSlotPrices[st + i];
    for (; i < 128; i++)
      this$static._distancesPrices[st2 + i] = this$static._posSlotPrices[st + GetPosSlot(i)] + this$static.tempPrices[i];
  }
  this$static._matchPriceCount = 0;
}

function $Flush_0(this$static, nowPos){
  $ReleaseMFStream(this$static);
  $WriteEndMarker(this$static, nowPos & this$static._posStateMask);
  $FlushData(this$static._rangeEncoder);
}

function $GetOptimum(this$static, position){
  var cur, curAnd1Price, curAndLenCharPrice, curAndLenPrice, curBack, curPrice, currentByte, distance, i, len, lenEnd, lenMain, lenRes, lenTest, lenTest2, lenTestTemp, matchByte, matchPrice, newLen, nextIsChar, nextMatchPrice, nextOptimum, nextRepMatchPrice, normalMatchPrice, numAvailableBytes, numAvailableBytesFull, numDistancePairs, offs, offset, opt, optimum, pos, posPrev, posState, posStateNext, price, repIndex, repLen, repMatchPrice, repMaxIndex, shortRepPrice, startLen, state, state2, t;
  if (this$static._optimumEndIndex != this$static._optimumCurrentIndex) {
    lenRes = this$static._optimum[this$static._optimumCurrentIndex].PosPrev - this$static._optimumCurrentIndex;
    this$static.backRes = this$static._optimum[this$static._optimumCurrentIndex].BackPrev;
    this$static._optimumCurrentIndex = this$static._optimum[this$static._optimumCurrentIndex].PosPrev;
    return lenRes;
  }
  this$static._optimumCurrentIndex = this$static._optimumEndIndex = 0;
  if (this$static._longestMatchWasFound) {
    lenMain = this$static._longestMatchLength;
    this$static._longestMatchWasFound = false;
  }
   else {
    lenMain = $ReadMatchDistances(this$static);
  }
  numDistancePairs = this$static._numDistancePairs;
  numAvailableBytes = $GetNumAvailableBytes(this$static._matchFinder) + 1;
  if (numAvailableBytes < 2) {
    this$static.backRes = -1;
    return 1;
  }
  repMaxIndex = 0;
  for (i = 0; i < 4; i++) {
    this$static.reps[i] = this$static._repDistances[i];
    this$static.repLens[i] = $GetMatchLen(this$static._matchFinder, -1, this$static.reps[i], 273);
    this$static.repLens[i] > this$static.repLens[repMaxIndex] && (repMaxIndex = i);
  }
  if (this$static.repLens[repMaxIndex] >= this$static._numFastBytes) {
    this$static.backRes = repMaxIndex;
    lenRes = this$static.repLens[repMaxIndex];
    $MovePos_1(this$static, lenRes - 1);
    return lenRes;
  }
  if (lenMain >= this$static._numFastBytes) {
    this$static.backRes = this$static._matchDistances[numDistancePairs - 1] + 4;
    $MovePos_1(this$static, lenMain - 1);
    return lenMain;
  }
  currentByte = $GetIndexByte(this$static._matchFinder, -1);
  matchByte = $GetIndexByte(this$static._matchFinder, -this$static._repDistances[0] - 1 - 1);
  if (lenMain < 2 && currentByte != matchByte && this$static.repLens[repMaxIndex] < 2) {
    this$static.backRes = -1;
    return 1;
  }
  this$static._optimum[0].State = this$static._state;
  posState = position & this$static._posStateMask;
  this$static._optimum[1].Price = GetPrice0(this$static._isMatch[(this$static._state << 4) + posState]) + $GetPrice_0($GetSubCoder(this$static._literalEncoder, position, this$static._previousByte), this$static._state >= 7, matchByte, currentByte);
  $MakeAsChar(this$static._optimum[1]);
  matchPrice = GetPrice1(this$static._isMatch[(this$static._state << 4) + posState]);
  repMatchPrice = matchPrice + GetPrice1(this$static._isRep[this$static._state]);
  if (matchByte == currentByte) {
    shortRepPrice = repMatchPrice + $GetRepLen1Price(this$static, this$static._state, posState);
    if (shortRepPrice < this$static._optimum[1].Price) {
      this$static._optimum[1].Price = shortRepPrice;
      $MakeAsShortRep(this$static._optimum[1]);
    }
  }
  lenEnd = lenMain >= this$static.repLens[repMaxIndex]?lenMain:this$static.repLens[repMaxIndex];
  if (lenEnd < 2) {
    this$static.backRes = this$static._optimum[1].BackPrev;
    return 1;
  }
  this$static._optimum[1].PosPrev = 0;
  this$static._optimum[0].Backs0 = this$static.reps[0];
  this$static._optimum[0].Backs1 = this$static.reps[1];
  this$static._optimum[0].Backs2 = this$static.reps[2];
  this$static._optimum[0].Backs3 = this$static.reps[3];
  len = lenEnd;
  do 
    this$static._optimum[len--].Price = $intern_134;
  while (len >= 2);
  for (i = 0; i < 4; i++) {
    repLen = this$static.repLens[i];
    if (repLen < 2)
      continue;
    price = repMatchPrice + $GetPureRepPrice(this$static, i, this$static._state, posState);
    do {
      curAndLenPrice = price + $GetPrice(this$static._repMatchLenEncoder, repLen - 2, posState);
      optimum = this$static._optimum[repLen];
      if (curAndLenPrice < optimum.Price) {
        optimum.Price = curAndLenPrice;
        optimum.PosPrev = 0;
        optimum.BackPrev = i;
        optimum.Prev1IsChar = false;
      }
    }
     while (--repLen >= 2);
  }
  normalMatchPrice = matchPrice + GetPrice0(this$static._isRep[this$static._state]);
  len = this$static.repLens[0] >= 2?this$static.repLens[0] + 1:2;
  if (len <= lenMain) {
    offs = 0;
    while (len > this$static._matchDistances[offs])
      offs += 2;
    for (;; len++) {
      distance = this$static._matchDistances[offs + 1];
      curAndLenPrice = normalMatchPrice + $GetPosLenPrice(this$static, distance, len, posState);
      optimum = this$static._optimum[len];
      if (curAndLenPrice < optimum.Price) {
        optimum.Price = curAndLenPrice;
        optimum.PosPrev = 0;
        optimum.BackPrev = distance + 4;
        optimum.Prev1IsChar = false;
      }
      if (len == this$static._matchDistances[offs]) {
        offs += 2;
        if (offs == numDistancePairs)
          break;
      }
    }
  }
  cur = 0;
  while (true) {
    ++cur;
    if (cur == lenEnd)
      return $Backward(this$static, cur);
    newLen = $ReadMatchDistances(this$static);
    numDistancePairs = this$static._numDistancePairs;
    if (newLen >= this$static._numFastBytes) {
      this$static._longestMatchLength = newLen;
      this$static._longestMatchWasFound = true;
      return $Backward(this$static, cur);
    }
    ++position;
    posPrev = this$static._optimum[cur].PosPrev;
    if (this$static._optimum[cur].Prev1IsChar) {
      --posPrev;
      if (this$static._optimum[cur].Prev2) {
        state = this$static._optimum[this$static._optimum[cur].PosPrev2].State;
        this$static._optimum[cur].BackPrev2 < 4?(state = state < 7?8:11):(state = state < 7?7:10);
      }
       else 
        state = this$static._optimum[posPrev].State;
      state = StateUpdateChar(state);
    }
     else 
      state = this$static._optimum[posPrev].State;
    if (posPrev == cur - 1) {
      this$static._optimum[cur].BackPrev == 0?(state = state < 7?9:11):(state = StateUpdateChar(state));
    }
     else {
      if (this$static._optimum[cur].Prev1IsChar && this$static._optimum[cur].Prev2) {
        posPrev = this$static._optimum[cur].PosPrev2;
        pos = this$static._optimum[cur].BackPrev2;
        state = state < 7?8:11;
      }
       else {
        pos = this$static._optimum[cur].BackPrev;
        pos < 4?(state = state < 7?8:11):(state = state < 7?7:10);
      }
      opt = this$static._optimum[posPrev];
      if (pos < 4) {
        if (pos == 0) {
          this$static.reps[0] = opt.Backs0;
          this$static.reps[1] = opt.Backs1;
          this$static.reps[2] = opt.Backs2;
          this$static.reps[3] = opt.Backs3;
        }
         else if (pos == 1) {
          this$static.reps[0] = opt.Backs1;
          this$static.reps[1] = opt.Backs0;
          this$static.reps[2] = opt.Backs2;
          this$static.reps[3] = opt.Backs3;
        }
         else if (pos == 2) {
          this$static.reps[0] = opt.Backs2;
          this$static.reps[1] = opt.Backs0;
          this$static.reps[2] = opt.Backs1;
          this$static.reps[3] = opt.Backs3;
        }
         else {
          this$static.reps[0] = opt.Backs3;
          this$static.reps[1] = opt.Backs0;
          this$static.reps[2] = opt.Backs1;
          this$static.reps[3] = opt.Backs2;
        }
      }
       else {
        this$static.reps[0] = pos - 4;
        this$static.reps[1] = opt.Backs0;
        this$static.reps[2] = opt.Backs1;
        this$static.reps[3] = opt.Backs2;
      }
    }
    this$static._optimum[cur].State = state;
    this$static._optimum[cur].Backs0 = this$static.reps[0];
    this$static._optimum[cur].Backs1 = this$static.reps[1];
    this$static._optimum[cur].Backs2 = this$static.reps[2];
    this$static._optimum[cur].Backs3 = this$static.reps[3];
    curPrice = this$static._optimum[cur].Price;
    currentByte = $GetIndexByte(this$static._matchFinder, -1);
    matchByte = $GetIndexByte(this$static._matchFinder, -this$static.reps[0] - 1 - 1);
    posState = position & this$static._posStateMask;
    curAnd1Price = curPrice + GetPrice0(this$static._isMatch[(state << 4) + posState]) + $GetPrice_0($GetSubCoder(this$static._literalEncoder, position, $GetIndexByte(this$static._matchFinder, -2)), state >= 7, matchByte, currentByte);
    nextOptimum = this$static._optimum[cur + 1];
    nextIsChar = false;
    if (curAnd1Price < nextOptimum.Price) {
      nextOptimum.Price = curAnd1Price;
      nextOptimum.PosPrev = cur;
      nextOptimum.BackPrev = -1;
      nextOptimum.Prev1IsChar = false;
      nextIsChar = true;
    }
    matchPrice = curPrice + GetPrice1(this$static._isMatch[(state << 4) + posState]);
    repMatchPrice = matchPrice + GetPrice1(this$static._isRep[state]);
    if (matchByte == currentByte && !(nextOptimum.PosPrev < cur && nextOptimum.BackPrev == 0)) {
      shortRepPrice = repMatchPrice + (GetPrice0(this$static._isRepG0[state]) + GetPrice0(this$static._isRep0Long[(state << 4) + posState]));
      if (shortRepPrice <= nextOptimum.Price) {
        nextOptimum.Price = shortRepPrice;
        nextOptimum.PosPrev = cur;
        nextOptimum.BackPrev = 0;
        nextOptimum.Prev1IsChar = false;
        nextIsChar = true;
      }
    }
    numAvailableBytesFull = $GetNumAvailableBytes(this$static._matchFinder) + 1;
    numAvailableBytesFull = 4095 - cur < numAvailableBytesFull?4095 - cur:numAvailableBytesFull;
    numAvailableBytes = numAvailableBytesFull;
    if (numAvailableBytesFull < 2)
      continue;
    numAvailableBytesFull > this$static._numFastBytes && (numAvailableBytes = this$static._numFastBytes);
    if (!nextIsChar && matchByte != currentByte) {
      t = min_1(numAvailableBytesFull - 1, this$static._numFastBytes);
      lenTest2 = $GetMatchLen(this$static._matchFinder, 0, this$static.reps[0], t);
      if (lenTest2 >= 2) {
        state2 = StateUpdateChar(state);
        posStateNext = position + 1 & this$static._posStateMask;
        nextRepMatchPrice = curAnd1Price + GetPrice1(this$static._isMatch[(state2 << 4) + posStateNext]) + GetPrice1(this$static._isRep[state2]);
        offset = cur + 1 + lenTest2;
        while (lenEnd < offset)
          this$static._optimum[++lenEnd].Price = $intern_134;
        curAndLenPrice = nextRepMatchPrice + $GetRepPrice(this$static, 0, lenTest2, state2, posStateNext);
        optimum = this$static._optimum[offset];
        if (curAndLenPrice < optimum.Price) {
          optimum.Price = curAndLenPrice;
          optimum.PosPrev = cur + 1;
          optimum.BackPrev = 0;
          optimum.Prev1IsChar = true;
          optimum.Prev2 = false;
        }
      }
    }
    startLen = 2;
    for (repIndex = 0; repIndex < 4; repIndex++) {
      lenTest = $GetMatchLen(this$static._matchFinder, -1, this$static.reps[repIndex], numAvailableBytes);
      if (lenTest < 2)
        continue;
      lenTestTemp = lenTest;
      do {
        while (lenEnd < cur + lenTest)
          this$static._optimum[++lenEnd].Price = $intern_134;
        curAndLenPrice = repMatchPrice + $GetRepPrice(this$static, repIndex, lenTest, state, posState);
        optimum = this$static._optimum[cur + lenTest];
        if (curAndLenPrice < optimum.Price) {
          optimum.Price = curAndLenPrice;
          optimum.PosPrev = cur;
          optimum.BackPrev = repIndex;
          optimum.Prev1IsChar = false;
        }
      }
       while (--lenTest >= 2);
      repIndex == 0 && (startLen = lenTestTemp + 1);
      if (lenTestTemp < numAvailableBytesFull) {
        t = min_1(numAvailableBytesFull - 1 - lenTestTemp, this$static._numFastBytes);
        lenTest2 = $GetMatchLen(this$static._matchFinder, lenTestTemp, this$static.reps[repIndex], t);
        if (lenTest2 >= 2) {
          state2 = state < 7?8:11;
          posStateNext = position + lenTestTemp & this$static._posStateMask;
          curAndLenCharPrice = repMatchPrice + $GetRepPrice(this$static, repIndex, lenTestTemp, state, posState) + GetPrice0(this$static._isMatch[(state2 << 4) + posStateNext]) + $GetPrice_0($GetSubCoder(this$static._literalEncoder, position + lenTestTemp, $GetIndexByte(this$static._matchFinder, lenTestTemp - 1 - 1)), true, $GetIndexByte(this$static._matchFinder, lenTestTemp - 1 - (this$static.reps[repIndex] + 1)), $GetIndexByte(this$static._matchFinder, lenTestTemp - 1));
          state2 = StateUpdateChar(state2);
          posStateNext = position + lenTestTemp + 1 & this$static._posStateMask;
          nextMatchPrice = curAndLenCharPrice + GetPrice1(this$static._isMatch[(state2 << 4) + posStateNext]);
          nextRepMatchPrice = nextMatchPrice + GetPrice1(this$static._isRep[state2]);
          offset = lenTestTemp + 1 + lenTest2;
          while (lenEnd < cur + offset)
            this$static._optimum[++lenEnd].Price = $intern_134;
          curAndLenPrice = nextRepMatchPrice + $GetRepPrice(this$static, 0, lenTest2, state2, posStateNext);
          optimum = this$static._optimum[cur + offset];
          if (curAndLenPrice < optimum.Price) {
            optimum.Price = curAndLenPrice;
            optimum.PosPrev = cur + lenTestTemp + 1;
            optimum.BackPrev = 0;
            optimum.Prev1IsChar = true;
            optimum.Prev2 = true;
            optimum.PosPrev2 = cur;
            optimum.BackPrev2 = repIndex;
          }
        }
      }
    }
    if (newLen > numAvailableBytes) {
      newLen = numAvailableBytes;
      for (numDistancePairs = 0; numAvailableBytes > this$static._matchDistances[numDistancePairs]; numDistancePairs += 2)
      ;
      this$static._matchDistances[numDistancePairs] = numAvailableBytes;
      numDistancePairs += 2;
    }
    if (newLen >= startLen) {
      normalMatchPrice = matchPrice + GetPrice0(this$static._isRep[state]);
      while (lenEnd < cur + newLen)
        this$static._optimum[++lenEnd].Price = $intern_134;
      offs = 0;
      while (startLen > this$static._matchDistances[offs])
        offs += 2;
      for (lenTest = startLen;; lenTest++) {
        curBack = this$static._matchDistances[offs + 1];
        curAndLenPrice = normalMatchPrice + $GetPosLenPrice(this$static, curBack, lenTest, posState);
        optimum = this$static._optimum[cur + lenTest];
        if (curAndLenPrice < optimum.Price) {
          optimum.Price = curAndLenPrice;
          optimum.PosPrev = cur;
          optimum.BackPrev = curBack + 4;
          optimum.Prev1IsChar = false;
        }
        if (lenTest == this$static._matchDistances[offs]) {
          if (lenTest < numAvailableBytesFull) {
            t = min_1(numAvailableBytesFull - 1 - lenTest, this$static._numFastBytes);
            lenTest2 = $GetMatchLen(this$static._matchFinder, lenTest, curBack, t);
            if (lenTest2 >= 2) {
              state2 = state < 7?7:10;
              posStateNext = position + lenTest & this$static._posStateMask;
              curAndLenCharPrice = curAndLenPrice + GetPrice0(this$static._isMatch[(state2 << 4) + posStateNext]) + $GetPrice_0($GetSubCoder(this$static._literalEncoder, position + lenTest, $GetIndexByte(this$static._matchFinder, lenTest - 1 - 1)), true, $GetIndexByte(this$static._matchFinder, lenTest - (curBack + 1) - 1), $GetIndexByte(this$static._matchFinder, lenTest - 1));
              state2 = StateUpdateChar(state2);
              posStateNext = position + lenTest + 1 & this$static._posStateMask;
              nextMatchPrice = curAndLenCharPrice + GetPrice1(this$static._isMatch[(state2 << 4) + posStateNext]);
              nextRepMatchPrice = nextMatchPrice + GetPrice1(this$static._isRep[state2]);
              offset = lenTest + 1 + lenTest2;
              while (lenEnd < cur + offset)
                this$static._optimum[++lenEnd].Price = $intern_134;
              curAndLenPrice = nextRepMatchPrice + $GetRepPrice(this$static, 0, lenTest2, state2, posStateNext);
              optimum = this$static._optimum[cur + offset];
              if (curAndLenPrice < optimum.Price) {
                optimum.Price = curAndLenPrice;
                optimum.PosPrev = cur + lenTest + 1;
                optimum.BackPrev = 0;
                optimum.Prev1IsChar = true;
                optimum.Prev2 = true;
                optimum.PosPrev2 = cur;
                optimum.BackPrev2 = curBack + 4;
              }
            }
          }
          offs += 2;
          if (offs == numDistancePairs)
            break;
        }
      }
    }
  }
}

function $GetPosLenPrice(this$static, pos, len, posState){
  var lenToPosState, price;
  lenToPosState = GetLenToPosState(len);
  pos < 128?(price = this$static._distancesPrices[lenToPosState * 128 + pos]):(price = this$static._posSlotPrices[(lenToPosState << 6) + GetPosSlot2(pos)] + this$static._alignPrices[pos & 15]);
  return price + $GetPrice(this$static._lenEncoder, len - 2, posState);
}

function $GetPureRepPrice(this$static, repIndex, state, posState){
  var price;
  if (repIndex == 0) {
    price = GetPrice0(this$static._isRepG0[state]);
    price += GetPrice1(this$static._isRep0Long[(state << 4) + posState]);
  }
   else {
    price = GetPrice1(this$static._isRepG0[state]);
    if (repIndex == 1)
      price += GetPrice0(this$static._isRepG1[state]);
    else {
      price += GetPrice1(this$static._isRepG1[state]);
      price += GetPrice(this$static._isRepG2[state], repIndex - 2);
    }
  }
  return price;
}

function $GetRepLen1Price(this$static, state, posState){
  return GetPrice0(this$static._isRepG0[state]) + GetPrice0(this$static._isRep0Long[(state << 4) + posState]);
}

function $GetRepPrice(this$static, repIndex, len, state, posState){
  var price;
  price = $GetPrice(this$static._repMatchLenEncoder, len - 2, posState);
  return price + $GetPureRepPrice(this$static, repIndex, state, posState);
}

function $Init_4(this$static){
  var i;
  $BaseInit(this$static);
  $Init_8(this$static._rangeEncoder);
  InitBitModels_0(this$static._isMatch);
  InitBitModels_0(this$static._isRep0Long);
  InitBitModels_0(this$static._isRep);
  InitBitModels_0(this$static._isRepG0);
  InitBitModels_0(this$static._isRepG1);
  InitBitModels_0(this$static._isRepG2);
  InitBitModels_0(this$static._posEncoders);
  $Init_6(this$static._literalEncoder);
  for (i = 0; i < 4; i++)
    InitBitModels(this$static._posSlotEncoder[i].Models);
  $Init_5(this$static._lenEncoder, 1 << this$static._posStateBits);
  $Init_5(this$static._repMatchLenEncoder, 1 << this$static._posStateBits);
  InitBitModels(this$static._posAlignEncoder.Models);
  this$static._longestMatchWasFound = false;
  this$static._optimumEndIndex = 0;
  this$static._optimumCurrentIndex = 0;
  this$static._additionalOffset = 0;
}

function $MovePos_1(this$static, num){
  if (num > 0) {
    $Skip(this$static._matchFinder, num);
    this$static._additionalOffset += num;
  }
}

function $ReadMatchDistances(this$static){
  var lenRes;
  lenRes = 0;
  this$static._numDistancePairs = $GetMatches(this$static._matchFinder, this$static._matchDistances);
  if (this$static._numDistancePairs > 0) {
    lenRes = this$static._matchDistances[this$static._numDistancePairs - 2];
    lenRes == this$static._numFastBytes && (lenRes += $GetMatchLen(this$static._matchFinder, lenRes - 1, this$static._matchDistances[this$static._numDistancePairs - 1], 273 - lenRes));
  }
  ++this$static._additionalOffset;
  return lenRes;
}

function $ReleaseMFStream(this$static){
  if (!!this$static._matchFinder && this$static._needReleaseMFStream) {
    this$static._matchFinder._stream = null;
    this$static._needReleaseMFStream = false;
  }
}

function $ReleaseStreams(this$static){
  $ReleaseMFStream(this$static);
  this$static._rangeEncoder.Stream = null;
}

function $SetDictionarySize_0(this$static, dictionarySize){
  var dicLogSize;
  if (dictionarySize < 1 || dictionarySize > 536870912)
    return false;
  this$static._dictionarySize = dictionarySize;
  for (dicLogSize = 0; dictionarySize > 1 << dicLogSize; dicLogSize++)
  ;
  this$static._distTableSize = dicLogSize * 2;
  return true;
}

function $SetLcLpPb_0(this$static, lc, lp, pb){
  if (lp < 0 || lp > 4 || lc < 0 || lc > 8 || pb < 0 || pb > 4)
    return false;
  this$static._numLiteralPosStateBits = lp;
  this$static._numLiteralContextBits = lc;
  this$static._posStateBits = pb;
  this$static._posStateMask = (1 << this$static._posStateBits) - 1;
  return true;
}

function $SetMatchFinder(this$static, matchFinderIndex){
  var matchFinderIndexPrev;
  if (matchFinderIndex < 0 || matchFinderIndex > 2)
    return false;
  matchFinderIndexPrev = this$static._matchFinderType;
  this$static._matchFinderType = matchFinderIndex;
  if (!!this$static._matchFinder && matchFinderIndexPrev != this$static._matchFinderType) {
    this$static._dictionarySizePrev = -1;
    this$static._matchFinder = null;
  }
  return true;
}

function $SetNumFastBytes(this$static, numFastBytes){
  if (numFastBytes < 5 || numFastBytes > 273)
    return false;
  this$static._numFastBytes = numFastBytes;
  return true;
}

function $WriteCoderProperties(this$static, outStream){
  var i;
  this$static.properties[0] = (this$static._posStateBits * 5 + this$static._numLiteralPosStateBits) * 9 + this$static._numLiteralContextBits << 24 >> 24;
  for (i = 0; i < 4; i++)
    this$static.properties[1 + i] = narrow_byte(this$static._dictionarySize >> 8 * i);
  $write_0(outStream, this$static.properties, 0, 5);
}

function $WriteEndMarker(this$static, posState){
  var lenToPosState;
  if (!this$static._writeEndMark)
    return;
  $Encode_3(this$static._rangeEncoder, this$static._isMatch, (this$static._state << 4) + posState, 1);
  $Encode_3(this$static._rangeEncoder, this$static._isRep, this$static._state, 0);
  this$static._state = this$static._state < 7?7:10;
  $Encode_0(this$static._lenEncoder, this$static._rangeEncoder, 0, posState);
  lenToPosState = GetLenToPosState(2);
  $Encode_2(this$static._posSlotEncoder[lenToPosState], this$static._rangeEncoder, 63);
  $EncodeDirectBits(this$static._rangeEncoder, 67108863, 26);
  $ReverseEncode(this$static._posAlignEncoder, this$static._rangeEncoder, 15);
}

function Encoder(){
  $clinit_Encoder();
  var i, i0;
  $$init_30(this);
  for (i0 = 0; i0 < $intern_100; i0++)
    this._optimum[i0] = new Encoder$Optimal;
  for (i = 0; i < 4; i++)
    this._posSlotEncoder[i] = new BitTreeEncoder(6);
}

function GetPosSlot(pos){
  if (pos < $intern_34)
    return g_FastPos[pos];
  if (pos < $intern_105)
    return g_FastPos[pos >> 10] + 20;
  return g_FastPos[pos >> 20] + 40;
}

function GetPosSlot2(pos){
  if (pos < $intern_103)
    return g_FastPos[pos >> 6] + 12;
  if (pos < 134217728)
    return g_FastPos[pos >> 16] + 32;
  return g_FastPos[pos >> 26] + 52;
}

defineClass(1269, 1, {}, Encoder);
_._additionalOffset = 0;
_._alignPriceCount = 0;
_._dictionarySize = $intern_33;
_._dictionarySizePrev = -1;
_._distTableSize = 44;
_._finished = false;
_._longestMatchLength = 0;
_._longestMatchWasFound = false;
_._matchFinder = null;
_._matchFinderType = 1;
_._matchPriceCount = 0;
_._needReleaseMFStream = false;
_._numDistancePairs = 0;
_._numFastBytes = 32;
_._numFastBytesPrev = -1;
_._numLiteralContextBits = 3;
_._numLiteralPosStateBits = 0;
_._optimumCurrentIndex = 0;
_._optimumEndIndex = 0;
_._posStateBits = 2;
_._posStateMask = 3;
_._previousByte = 0;
_._state = 0;
_._writeEndMark = false;
_.backRes = 0;
_.nowPos64 = {l:0, m:0, h:0};
var g_FastPos;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Encoder', 1269, Ljava_lang_Object_2_classLit);
function $Encode(this$static, rangeEncoder, symbol, posState){
  if (symbol < 8) {
    $Encode_3(rangeEncoder, this$static._choice, 0, 0);
    $Encode_2(this$static._lowCoder[posState], rangeEncoder, symbol);
  }
   else {
    symbol -= 8;
    $Encode_3(rangeEncoder, this$static._choice, 0, 1);
    if (symbol < 8) {
      $Encode_3(rangeEncoder, this$static._choice, 1, 0);
      $Encode_2(this$static._midCoder[posState], rangeEncoder, symbol);
    }
     else {
      $Encode_3(rangeEncoder, this$static._choice, 1, 1);
      $Encode_2(this$static._highCoder, rangeEncoder, symbol - 8);
    }
  }
}

function $Init_5(this$static, numPosStates){
  var posState;
  InitBitModels_0(this$static._choice);
  for (posState = 0; posState < numPosStates; posState++) {
    InitBitModels(this$static._lowCoder[posState].Models);
    InitBitModels(this$static._midCoder[posState].Models);
  }
  InitBitModels(this$static._highCoder.Models);
}

function $SetPrices(this$static, posState, numSymbols, prices, st){
  var a0, a1, b0, b1, i;
  a0 = GetPrice0(this$static._choice[0]);
  a1 = GetPrice1(this$static._choice[0]);
  b0 = a1 + GetPrice0(this$static._choice[1]);
  b1 = a1 + GetPrice1(this$static._choice[1]);
  for (i = 0; i < 8; i++) {
    if (i >= numSymbols)
      return;
    prices[st + i] = a0 + $GetPrice_1(this$static._lowCoder[posState], i);
  }
  for (; i < 16; i++) {
    if (i >= numSymbols)
      return;
    prices[st + i] = b0 + $GetPrice_1(this$static._midCoder[posState], i - 8);
  }
  for (; i < numSymbols; i++)
    prices[st + i] = b1 + $GetPrice_1(this$static._highCoder, i - 8 - 8);
}

function Encoder$LenEncoder(){
  var posState;
  this._choice = initDim(S_classLit, $intern_53, 0, 2, 7, 1);
  this._lowCoder = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit, $intern_1, 204, 16, 0, 1);
  this._midCoder = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit, $intern_1, 204, 16, 0, 1);
  this._highCoder = new BitTreeEncoder(8);
  for (posState = 0; posState < 16; posState++) {
    this._lowCoder[posState] = new BitTreeEncoder(3);
    this._midCoder[posState] = new BitTreeEncoder(3);
  }
}

defineClass(1271, 1, {});
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenEncoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Encoder/LenEncoder', 1271, Ljava_lang_Object_2_classLit);
function $Encode_0(this$static, rangeEncoder, symbol, posState){
  $Encode(this$static, rangeEncoder, symbol, posState);
  --this$static._counters[posState] == 0 && ($SetPrices(this$static, posState, this$static._tableSize, this$static._prices, posState * 272) , this$static._counters[posState] = this$static._tableSize);
}

function $GetPrice(this$static, symbol, posState){
  return this$static._prices[posState * 272 + symbol];
}

function $SetTableSize(this$static, tableSize){
  this$static._tableSize = tableSize;
}

function $UpdateTables(this$static, numPosStates){
  var posState;
  for (posState = 0; posState < numPosStates; posState++) {
    $SetPrices(this$static, posState, this$static._tableSize, this$static._prices, posState * 272);
    this$static._counters[posState] = this$static._tableSize;
  }
}

function Encoder$LenPriceTableEncoder(){
  Encoder$LenEncoder.call(this);
  this._prices = initDim(I_classLit, $intern_53, 0, 4352, 7, 1);
  this._counters = initDim(I_classLit, $intern_53, 0, 16, 7, 1);
}

defineClass(498, 1271, {}, Encoder$LenPriceTableEncoder);
_._tableSize = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenPriceTableEncoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Encoder/LenPriceTableEncoder', 498, Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LenEncoder_2_classLit);
function $Create_5(this$static, numPosBits, numPrevBits){
  var i, numStates;
  if (this$static.m_Coders != null && this$static.m_NumPrevBits == numPrevBits && this$static.m_NumPosBits == numPosBits)
    return;
  this$static.m_NumPosBits = numPosBits;
  this$static.m_PosMask = (1 << numPosBits) - 1;
  this$static.m_NumPrevBits = numPrevBits;
  numStates = 1 << this$static.m_NumPrevBits + this$static.m_NumPosBits;
  this$static.m_Coders = initDim(Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder$Encoder2_2_classLit, $intern_1, 406, numStates, 0, 1);
  for (i = 0; i < numStates; i++)
    this$static.m_Coders[i] = new Encoder$LiteralEncoder$Encoder2;
}

function $GetSubCoder(this$static, pos, prevByte){
  return this$static.m_Coders[((pos & this$static.m_PosMask) << this$static.m_NumPrevBits) + ((prevByte & 255) >>> 8 - this$static.m_NumPrevBits)];
}

function $Init_6(this$static){
  var i, numStates;
  numStates = 1 << this$static.m_NumPrevBits + this$static.m_NumPosBits;
  for (i = 0; i < numStates; i++)
    InitBitModels_0(this$static.m_Coders[i].m_Encoders);
}

function Encoder$LiteralEncoder(){
}

defineClass(1270, 1, {}, Encoder$LiteralEncoder);
_.m_NumPosBits = 0;
_.m_NumPrevBits = 0;
_.m_PosMask = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Encoder/LiteralEncoder', 1270, Ljava_lang_Object_2_classLit);
function $Encode_1(this$static, rangeEncoder, symbol){
  var bit, context, i;
  context = 1;
  for (i = 7; i >= 0; i--) {
    bit = symbol >> i & 1;
    $Encode_3(rangeEncoder, this$static.m_Encoders, context, bit);
    context = context << 1 | bit;
  }
}

function $EncodeMatched(this$static, rangeEncoder, matchByte, symbol){
  var bit, context, i, matchBit, same, state;
  context = 1;
  same = true;
  for (i = 7; i >= 0; i--) {
    bit = symbol >> i & 1;
    state = context;
    if (same) {
      matchBit = matchByte >> i & 1;
      state += 1 + matchBit << 8;
      same = matchBit == bit;
    }
    $Encode_3(rangeEncoder, this$static.m_Encoders, state, bit);
    context = context << 1 | bit;
  }
}

function $GetPrice_0(this$static, matchMode, matchByte, symbol){
  var bit, context, i, matchBit, price;
  price = 0;
  context = 1;
  i = 7;
  if (matchMode) {
    for (; i >= 0; i--) {
      matchBit = matchByte >> i & 1;
      bit = symbol >> i & 1;
      price += GetPrice(this$static.m_Encoders[(1 + matchBit << 8) + context], bit);
      context = context << 1 | bit;
      if (matchBit != bit) {
        --i;
        break;
      }
    }
  }
  for (; i >= 0; i--) {
    bit = symbol >> i & 1;
    price += GetPrice(this$static.m_Encoders[context], bit);
    context = context << 1 | bit;
  }
  return price;
}

function Encoder$LiteralEncoder$Encoder2(){
  this.m_Encoders = initDim(S_classLit, $intern_53, 0, 768, 7, 1);
}

defineClass(406, 1, {406:1}, Encoder$LiteralEncoder$Encoder2);
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$LiteralEncoder$Encoder2_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Encoder/LiteralEncoder/Encoder2', 406, Ljava_lang_Object_2_classLit);
function $MakeAsChar(this$static){
  this$static.BackPrev = -1;
  this$static.Prev1IsChar = false;
}

function $MakeAsShortRep(this$static){
  this$static.BackPrev = 0;
  this$static.Prev1IsChar = false;
}

function Encoder$Optimal(){
}

defineClass(405, 1, {405:1}, Encoder$Optimal);
_.BackPrev = 0;
_.BackPrev2 = 0;
_.Backs0 = 0;
_.Backs1 = 0;
_.Backs2 = 0;
_.Backs3 = 0;
_.PosPrev = 0;
_.PosPrev2 = 0;
_.Prev1IsChar = false;
_.Prev2 = false;
_.Price = 0;
_.State = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_LZMA_Encoder$Optimal_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.LZMA', 'Encoder/Optimal', 405, Ljava_lang_Object_2_classLit);
function $Decode_0(this$static, rangeDecoder){
  var bitIndex, m;
  m = 1;
  for (bitIndex = this$static.NumBitLevels; bitIndex != 0; bitIndex--)
    m = (m << 1) + $DecodeBit(rangeDecoder, this$static.Models, m);
  return m - (1 << this$static.NumBitLevels);
}

function $ReverseDecode(this$static, rangeDecoder){
  var bit, bitIndex, m, symbol;
  m = 1;
  symbol = 0;
  for (bitIndex = 0; bitIndex < this$static.NumBitLevels; bitIndex++) {
    bit = $DecodeBit(rangeDecoder, this$static.Models, m);
    m <<= 1;
    m += bit;
    symbol |= bit << bitIndex;
  }
  return symbol;
}

function BitTreeDecoder(numBitLevels){
  this.NumBitLevels = numBitLevels;
  this.Models = initDim(S_classLit, $intern_53, 0, 1 << numBitLevels, 7, 1);
}

function ReverseDecode(Models, startIndex, rangeDecoder, NumBitLevels){
  var bit, bitIndex, m, symbol;
  m = 1;
  symbol = 0;
  for (bitIndex = 0; bitIndex < NumBitLevels; bitIndex++) {
    bit = $DecodeBit(rangeDecoder, Models, startIndex + m);
    m <<= 1;
    m += bit;
    symbol |= bit << bitIndex;
  }
  return symbol;
}

defineClass(203, 1, {203:1}, BitTreeDecoder);
_.NumBitLevels = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeDecoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.RangeCoder', 'BitTreeDecoder', 203, Ljava_lang_Object_2_classLit);
function $Encode_2(this$static, rangeEncoder, symbol){
  var bit, bitIndex, m;
  m = 1;
  for (bitIndex = this$static.NumBitLevels; bitIndex != 0;) {
    --bitIndex;
    bit = symbol >>> bitIndex & 1;
    $Encode_3(rangeEncoder, this$static.Models, m, bit);
    m = m << 1 | bit;
  }
}

function $GetPrice_1(this$static, symbol){
  var bit, bitIndex, m, price;
  price = 0;
  m = 1;
  for (bitIndex = this$static.NumBitLevels; bitIndex != 0;) {
    --bitIndex;
    bit = symbol >>> bitIndex & 1;
    price += GetPrice(this$static.Models[m], bit);
    m = (m << 1) + bit;
  }
  return price;
}

function $ReverseEncode(this$static, rangeEncoder, symbol){
  var bit, i, m;
  m = 1;
  for (i = 0; i < this$static.NumBitLevels; i++) {
    bit = symbol & 1;
    $Encode_3(rangeEncoder, this$static.Models, m, bit);
    m = m << 1 | bit;
    symbol >>= 1;
  }
}

function $ReverseGetPrice(this$static, symbol){
  var bit, i, m, price;
  price = 0;
  m = 1;
  for (i = this$static.NumBitLevels; i != 0; i--) {
    bit = symbol & 1;
    symbol >>>= 1;
    price += GetPrice(this$static.Models[m], bit);
    m = m << 1 | bit;
  }
  return price;
}

function BitTreeEncoder(numBitLevels){
  this.NumBitLevels = numBitLevels;
  this.Models = initDim(S_classLit, $intern_53, 0, 1 << numBitLevels, 7, 1);
}

function ReverseEncode(Models, startIndex, rangeEncoder, NumBitLevels, symbol){
  var bit, i, m;
  m = 1;
  for (i = 0; i < NumBitLevels; i++) {
    bit = symbol & 1;
    $Encode_3(rangeEncoder, Models, startIndex + m, bit);
    m = m << 1 | bit;
    symbol >>= 1;
  }
}

function ReverseGetPrice(Models, startIndex, NumBitLevels, symbol){
  var bit, i, m, price;
  price = 0;
  m = 1;
  for (i = NumBitLevels; i != 0; i--) {
    bit = symbol & 1;
    symbol >>>= 1;
    price += GetPrice(Models[startIndex + m], bit);
    m = m << 1 | bit;
  }
  return price;
}

defineClass(204, 1, {204:1}, BitTreeEncoder);
_.NumBitLevels = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_BitTreeEncoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.RangeCoder', 'BitTreeEncoder', 204, Ljava_lang_Object_2_classLit);
function $DecodeBit(this$static, probs, index_0){
  var newBound, prob;
  prob = probs[index_0];
  newBound = (this$static.Range_0 >>> 11) * prob;
  if ((this$static.Code ^ $intern_72) < (newBound ^ $intern_72)) {
    this$static.Range_0 = newBound;
    probs[index_0] = narrow_short(prob + ($intern_34 - prob >>> 5));
    if ((this$static.Range_0 & $intern_135) == 0) {
      this$static.Code = this$static.Code << 8 | $read(this$static.Stream);
      this$static.Range_0 <<= 8;
    }
    return 0;
  }
   else {
    this$static.Range_0 -= newBound;
    this$static.Code -= newBound;
    probs[index_0] = narrow_short(prob - (prob >>> 5));
    if ((this$static.Range_0 & $intern_135) == 0) {
      this$static.Code = this$static.Code << 8 | $read(this$static.Stream);
      this$static.Range_0 <<= 8;
    }
    return 1;
  }
}

function $DecodeDirectBits(this$static, numTotalBits){
  var i, result, t;
  result = 0;
  for (i = numTotalBits; i != 0; i--) {
    this$static.Range_0 >>>= 1;
    t = this$static.Code - this$static.Range_0 >>> 31;
    this$static.Code -= this$static.Range_0 & t - 1;
    result = result << 1 | 1 - t;
    if ((this$static.Range_0 & $intern_135) == 0) {
      this$static.Code = this$static.Code << 8 | $read(this$static.Stream);
      this$static.Range_0 <<= 8;
    }
  }
  return result;
}

function $Init_7(this$static){
  var i;
  this$static.Code = 0;
  this$static.Range_0 = -1;
  for (i = 0; i < 5; i++)
    this$static.Code = this$static.Code << 8 | $read(this$static.Stream);
}

function $SetStream_1(this$static, stream){
  this$static.Stream = stream;
}

function Decoder_0(){
}

function InitBitModels(probs){
  var i;
  for (i = 0; i < probs.length; i++)
    probs[i] = $intern_87;
}

defineClass(1359, 1, {}, Decoder_0);
_.Code = 0;
_.Range_0 = 0;
var Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_Decoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.RangeCoder', 'Decoder', 1359, Ljava_lang_Object_2_classLit);
function $clinit_Encoder_0(){
  $clinit_Encoder_0 = emptyMethod;
  var end, i, j, start_0;
  ProbPrices = initDim(I_classLit, $intern_53, 0, 512, 7, 1);
  for (i = 8; i >= 0; i--) {
    start_0 = 1 << 9 - i - 1;
    end = 1 << 9 - i;
    for (j = start_0; j < end; j++)
      ProbPrices[j] = (i << 6) + (end - j << 6 >>> 9 - i - 1);
  }
}

function $Encode_3(this$static, probs, index_0, symbol){
  var newBound, prob;
  prob = probs[index_0];
  newBound = (this$static.Range_0 >>> 11) * prob;
  if (symbol == 0) {
    this$static.Range_0 = newBound;
    probs[index_0] = narrow_short(prob + ($intern_34 - prob >>> 5));
  }
   else {
    this$static.Low = add_17(this$static.Low, and(fromInt(newBound), {l:$intern_90, m:1023, h:0}));
    this$static.Range_0 -= newBound;
    probs[index_0] = narrow_short(prob - (prob >>> 5));
  }
  if ((this$static.Range_0 & $intern_135) == 0) {
    this$static.Range_0 <<= 8;
    $ShiftLow(this$static);
  }
}

function $EncodeDirectBits(this$static, v, numTotalBits){
  var i;
  for (i = numTotalBits - 1; i >= 0; i--) {
    this$static.Range_0 >>>= 1;
    (v >>> i & 1) == 1 && (this$static.Low = add_17(this$static.Low, fromInt(this$static.Range_0)));
    if ((this$static.Range_0 & $intern_135) == 0) {
      this$static.Range_0 <<= 8;
      $ShiftLow(this$static);
    }
  }
}

function $FlushData(this$static){
  var i;
  for (i = 0; i < 5; i++)
    $ShiftLow(this$static);
}

function $GetProcessedSizeAdd(this$static){
  return add_17(add_17(fromInt(this$static._cacheSize), this$static._position), {l:4, m:0, h:0});
}

function $Init_8(this$static){
  this$static._position = {l:0, m:0, h:0};
  this$static.Low = {l:0, m:0, h:0};
  this$static.Range_0 = -1;
  this$static._cacheSize = 1;
  this$static._cache = 0;
}

function $SetStream_2(this$static, stream){
  this$static.Stream = stream;
}

function $ShiftLow(this$static){
  var LowHi, temp;
  LowHi = toInt(shru(this$static.Low, 32));
  if (LowHi != 0 || lt(this$static.Low, {l:0, m:1020, h:0})) {
    this$static._position = add_17(this$static._position, fromInt(this$static._cacheSize));
    temp = this$static._cache;
    do {
      $write(this$static.Stream, temp + LowHi);
      temp = 255;
    }
     while (--this$static._cacheSize != 0);
    this$static._cache = toInt(this$static.Low) >>> 24;
  }
  ++this$static._cacheSize;
  this$static.Low = shl(and(this$static.Low, {l:$intern_90, m:3, h:0}), 8);
}

function Encoder_0(){
  $clinit_Encoder_0();
}

function GetPrice(Prob, symbol){
  $clinit_Encoder_0();
  return ProbPrices[((Prob - symbol ^ -symbol) & 2047) >>> 2];
}

function GetPrice0(Prob){
  $clinit_Encoder_0();
  return ProbPrices[Prob >>> 2];
}

function GetPrice1(Prob){
  $clinit_Encoder_0();
  return ProbPrices[$intern_34 - Prob >>> 2];
}

function InitBitModels_0(probs){
  $clinit_Encoder_0();
  var i;
  for (i = 0; i < probs.length; i++)
    probs[i] = $intern_87;
}

defineClass(1361, 1, {}, Encoder_0);
_.Low = {l:0, m:0, h:0};
_.Range_0 = 0;
_._cache = 0;
_._cacheSize = 0;
_._position = {l:0, m:0, h:0};
var ProbPrices;
var Lorg_dellroad_lzma_client_SevenZip_Compression_RangeCoder_Encoder_2_classLit = createForClass('org.dellroad.lzma.client.SevenZip.Compression.RangeCoder', 'Encoder', 1361, Ljava_lang_Object_2_classLit);
function decode(utf){
  var buf, i, x_0, y_0, z_0;
  buf = new StringBuilder_0;
  for (i = 0; i < utf.length; i++) {
    x_0 = utf[i] & 255;
    if ((x_0 & 128) == 0) {
      if (x_0 == 0)
        throw new IllegalArgumentException_0('invalid UTF-8');
      $append_3(buf, x_0 & $intern_31);
    }
     else if ((x_0 & 224) == 192) {
      if (i + 1 >= utf.length)
        throw new IllegalArgumentException_0('invalid UTF-8');
      y_0 = utf[++i] & 255;
      if ((y_0 & 192) != 128)
        throw new IllegalArgumentException_0('invalid UTF-8');
      $append_3(buf, ((x_0 & 31) << 6 | y_0 & 63) & $intern_31);
    }
     else if ((x_0 & 240) == 224) {
      if (i + 2 >= utf.length)
        throw new IllegalArgumentException_0('invalid UTF-8');
      y_0 = utf[++i] & 255;
      if ((y_0 & 192) != 128)
        throw new IllegalArgumentException_0('invalid UTF-8');
      z_0 = utf[++i] & 255;
      if ((z_0 & 192) != 128)
        throw new IllegalArgumentException_0('invalid UTF-8');
      buf.string += String.fromCharCode(((x_0 & 15) << 12 | (y_0 & 63) << 6 | z_0 & 63) & $intern_31);
    }
     else 
      throw new IllegalArgumentException_0('invalid UTF-8');
  }
  return buf.string;
}

function encode(s){
  var ch_0, chars, data_0, elen, i, i0;
  chars = $toCharArray(s);
  elen = 0;
  for (i0 = 0; i0 < s.length; i0++) {
    ch_0 = chars[i0];
    ch_0 >= 1 && ch_0 <= 127?++elen:ch_0 == 0 || ch_0 >= 128 && ch_0 <= 2047?(elen += 2):(elen += 3);
  }
  data_0 = initDim(B_classLit, $intern_53, 0, elen, 7, 1);
  elen = 0;
  for (i = 0; i < s.length; i++) {
    ch_0 = chars[i];
    if (ch_0 >= 1 && ch_0 <= 127)
      data_0[elen++] = narrow_byte(ch_0);
    else if (ch_0 == 0 || ch_0 >= 128 && ch_0 <= 2047) {
      data_0[elen++] = narrow_byte(192 | ch_0 >> 6 & 31);
      data_0[elen++] = narrow_byte(128 | ch_0 & 63);
    }
     else {
      data_0[elen++] = narrow_byte(224 | ch_0 >> 12 & 15);
      data_0[elen++] = narrow_byte(128 | ch_0 >> 6 & 63);
      data_0[elen++] = narrow_byte(128 | ch_0 & 63);
    }
  }
  return data_0;
}

function $getChar(this$static){
  if (this$static.fInputString.length > this$static.fCurrentPosition) {
    this$static.fCurrentChar = $charAt_0(this$static.fInputString, this$static.fCurrentPosition++);
    return;
  }
  this$static.fCurrentPosition = this$static.fInputString.length + 1;
  this$static.fCurrentChar = 32;
  this$static.fToken = 0;
}

function $getErrorLine(this$static){
  var eol, line;
  this$static.fInputString.length < this$static.fCurrentPosition && --this$static.fCurrentPosition;
  eol = this$static.fCurrentPosition;
  while (this$static.fInputString.length > eol) {
    this$static.fCurrentChar = $charAt_0(this$static.fInputString, eol++);
    if (this$static.fCurrentChar == 10) {
      --eol;
      break;
    }
  }
  line = $substring_0(this$static.fInputString, this$static.fCurrentColumnStartPosition, eol);
  return line;
}

function $getIdentifier(this$static){
  var endPosition, length_0, startPosition;
  startPosition = this$static.fCurrentPosition - 1;
  $getChar(this$static);
  this$static.fCurrentChar == 36 && $getChar(this$static);
  while (this$static.fCurrentChar >= 97 && this$static.fCurrentChar <= 122 || this$static.fCurrentChar >= 65 && this$static.fCurrentChar <= 90 || this$static.fCurrentChar >= 48 && this$static.fCurrentChar <= 57) {
    $getChar(this$static);
  }
  endPosition = this$static.fCurrentPosition--;
  length_0 = --endPosition - startPosition;
  if (length_0 == 1) {
    return $optimizedCurrentTokenSource1(this$static, startPosition, endPosition);
  }
  if (length_0 == 2 && $charAt_0(this$static.fInputString, startPosition) == 36) {
    return $optimizedCurrentTokenSource2(this$static, startPosition, endPosition);
  }
  return $substring_0(this$static.fInputString, startPosition, endPosition);
}

function $getNextToken(this$static){
  var startPosition;
  while (this$static.fInputString.length > this$static.fCurrentPosition) {
    this$static.fCurrentChar = $charAt_0(this$static.fInputString, this$static.fCurrentPosition++);
    this$static.fToken = 0;
    if ($indexOf_2('.-:=<>*+;!^|&/@', fromCodePoint(this$static.fCurrentChar)) >= 0) {
      this$static.fOperList = $getOperator(this$static);
      this$static.fToken = 31;
      return;
    }
    if (this$static.fCurrentChar != 9 && this$static.fCurrentChar != 13 && this$static.fCurrentChar != 32) {
      if (this$static.fCurrentChar == 10) {
        ++this$static.rowCount;
        this$static.fCurrentColumnStartPosition = this$static.fCurrentPosition;
        continue;
      }
      if (this$static.fCurrentChar >= 97 && this$static.fCurrentChar <= 122 || this$static.fCurrentChar >= 65 && this$static.fCurrentChar <= 90 || this$static.fCurrentChar == 36) {
        this$static.fToken = 138;
        return;
      }
      if (this$static.fCurrentChar >= 48 && this$static.fCurrentChar <= 57) {
        this$static.fToken = 139;
        return;
      }
      if (this$static.fCurrentChar == 40) {
        if (this$static.fInputString.length > this$static.fCurrentPosition) {
          if ($charAt_0(this$static.fInputString, this$static.fCurrentPosition) == 42) {
            startPosition = this$static.fCurrentPosition;
            ++this$static.fCurrentPosition;
            try {
              while (true) {
                if ($charAt_0(this$static.fInputString, this$static.fCurrentPosition) == 42 && $charAt_0(this$static.fInputString, this$static.fCurrentPosition + 1) == 41) {
                  ++this$static.fCurrentPosition;
                  ++this$static.fCurrentPosition;
                  break;
                }
                ++this$static.fCurrentPosition;
              }
            }
             catch ($e0) {
              $e0 = wrap($e0);
              if (instanceOf($e0, 59)) {
                this$static.fCurrentPosition = startPosition;
                $throwSyntaxError(this$static, "Comment doesn't end with '*)' (open multiline comment)");
              }
               else 
                throw unwrap($e0);
            }
            continue;
          }
        }
      }
      switch (this$static.fCurrentChar) {
        case 40:
          this$static.fToken = 14;
          break;
        case 41:
          this$static.fToken = 15;
          break;
        case 123:
          this$static.fToken = 16;
          break;
        case 125:
          this$static.fToken = 17;
          break;
        case 91:
          this$static.fToken = 12;
          if (this$static.fInputString.length > this$static.fCurrentPosition) {
            if ($charAt_0(this$static.fInputString, this$static.fCurrentPosition) == 91) {
              ++this$static.fCurrentPosition;
              this$static.fToken = 18;
              break;
            }
          }

          break;
        case 93:
          this$static.fToken = 13;
          break;
        case 44:
          this$static.fToken = 134;
          break;
        case 95:
          this$static.fToken = 137;
          break;
        case 46:
          if (this$static.fInputString.length > this$static.fCurrentPosition) {
            if ($charAt_0(this$static.fInputString, this$static.fCurrentPosition) >= 48 && $charAt_0(this$static.fInputString, this$static.fCurrentPosition) <= 57) {
              this$static.fToken = 139;
              break;
            }
          }

          break;
        case 34:
          this$static.fToken = 136;
          break;
        case 37:
          this$static.fToken = 135;
          break;
        case 35:
          this$static.fToken = 141;
          if (this$static.fInputString.length > this$static.fCurrentPosition) {
            if ($charAt_0(this$static.fInputString, this$static.fCurrentPosition) == 35) {
              ++this$static.fCurrentPosition;
              this$static.fToken = 142;
              break;
            }
          }

          break;
        default:$throwSyntaxError(this$static, "unexpected character: '" + charToString(this$static.fCurrentChar) + "'");
      }
      this$static.fToken == 0 && $throwSyntaxError(this$static, 'token not found');
      return;
    }
  }
  this$static.fCurrentPosition = this$static.fInputString.length + 1;
  this$static.fCurrentChar = 32;
  this$static.fToken = 0;
}

function $getNumberString(this$static){
  var dFlag, endPosition, firstCh, result, startPosition;
  result = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 2, 3, 1);
  this$static.numFormat = 10;
  startPosition = this$static.fCurrentPosition - 1;
  firstCh = this$static.fCurrentChar;
  dFlag = 32;
  this$static.fCurrentChar == 46 && (dFlag = this$static.fCurrentChar);
  $getChar(this$static);
  if (firstCh == 48) {
    switch (this$static.fCurrentChar) {
      case 66:
      case 98:
        this$static.numFormat = 2;
        startPosition = this$static.fCurrentPosition;
        $getChar(this$static);
        break;
      case 79:
      case 111:
        this$static.numFormat = 8;
        startPosition = this$static.fCurrentPosition;
        $getChar(this$static);
        break;
      case 120:
        this$static.numFormat = 16;
        startPosition = this$static.fCurrentPosition;
        $getChar(this$static);
        break;
      case 88:
        this$static.numFormat = 16;
        startPosition = this$static.fCurrentPosition;
        $getChar(this$static);
    }
  }
  if (this$static.numFormat == 2) {
    while (this$static.fCurrentChar >= 48 && this$static.fCurrentChar <= 49) {
      $getChar(this$static);
    }
  }
   else if (this$static.numFormat == 8) {
    while (this$static.fCurrentChar >= 48 && this$static.fCurrentChar <= 55) {
      $getChar(this$static);
    }
  }
   else if (this$static.numFormat == 16) {
    while (this$static.fCurrentChar >= 48 && this$static.fCurrentChar <= 57 || this$static.fCurrentChar >= 97 && this$static.fCurrentChar <= 102 || this$static.fCurrentChar >= 65 && this$static.fCurrentChar <= 70) {
      $getChar(this$static);
    }
  }
   else {
    while (this$static.fCurrentChar >= 48 && this$static.fCurrentChar <= 57 || this$static.fCurrentChar == 46) {
      if (this$static.fCurrentChar == 46) {
        if (this$static.fCurrentChar == 46 && dFlag != 32) {
          break;
        }
        dFlag = this$static.fCurrentChar;
        $getChar(this$static);
      }
       else {
        $getChar(this$static);
      }
    }
    dFlag != 32 && (this$static.numFormat = -1);
  }
  if (this$static.numFormat < 0) {
    if (this$static.fCurrentChar == 69 || this$static.fCurrentChar == 101) {
      $getChar(this$static);
      (this$static.fCurrentChar == 43 || this$static.fCurrentChar == 45) && $getChar(this$static);
      while (this$static.fCurrentChar >= 48 && this$static.fCurrentChar <= 57) {
        $getChar(this$static);
      }
    }
  }
  endPosition = this$static.fCurrentPosition--;
  setCheck(result, 0, $substring_0(this$static.fInputString, startPosition, --endPosition));
  setCheck(result, 1, valueOf_45(this$static.numFormat));
  return result;
}

function $getOperator(this$static){
  var endPosition, lastList, lastOperatorPosition, list, startPosition;
  startPosition = this$static.fCurrentPosition - 1;
  this$static.fOperatorString = $substring_0(this$static.fInputString, startPosition, this$static.fCurrentPosition);
  list = $getOperatorList(this$static.fOperatorString);
  lastList = null;
  lastOperatorPosition = -1;
  if (list) {
    lastList = list;
    lastOperatorPosition = this$static.fCurrentPosition;
  }
  $getChar(this$static);
  while ($indexOf_2('.-:=<>*+;!^|&/@', fromCodePoint(this$static.fCurrentChar)) >= 0) {
    this$static.fOperatorString = $substring_0(this$static.fInputString, startPosition, this$static.fCurrentPosition);
    list = $getOperatorList(this$static.fOperatorString);
    if (list) {
      lastList = list;
      lastOperatorPosition = this$static.fCurrentPosition;
    }
    $getChar(this$static);
  }
  if (lastOperatorPosition > 0) {
    this$static.fCurrentPosition = lastOperatorPosition;
    return lastList;
  }
  endPosition = this$static.fCurrentPosition--;
  this$static.fCurrentPosition = startPosition;
  $throwSyntaxError(this$static, 'Operator token not found: ' + $substring_0(this$static.fInputString, startPosition, endPosition - 1));
  return null;
}

function $getStringBuffer(this$static){
  var ident;
  ident = new StringBuffer;
  $getChar(this$static);
  (this$static.fCurrentChar == 10 || this$static.fToken == 0) && $throwSyntaxError(this$static, 'string -' + ident.string + '- contains no character.');
  while (this$static.fCurrentChar != 34) {
    if (this$static.fCurrentChar == 92) {
      $getChar(this$static);
      switch (this$static.fCurrentChar) {
        case 92:
          $append_0(ident, this$static.fCurrentChar);
          break;
        case 110:
          ident.string += '\n';
          break;
        case 116:
          ident.string += '\t';
          break;
        default:$throwSyntaxError(this$static, 'string - unknown character after back-slash.');
      }
      $getChar(this$static);
    }
     else {
      this$static.fCurrentChar != 34 && (this$static.fCurrentChar == 10 || this$static.fToken == 0) && $throwSyntaxError(this$static, 'string -' + ident.string + '- not closed.');
      $append_0(ident, this$static.fCurrentChar);
      $getChar(this$static);
    }
  }
  return ident;
}

function $initializeNullScanner(this$static){
  this$static.fInputString = null;
  this$static.fToken = 0;
  this$static.fCurrentPosition = 0;
  this$static.rowCount = 0;
  this$static.fCurrentColumnStartPosition = 0;
}

function $optimizedCurrentTokenSource1(this$static, startPosition, endPosition){
  switch ($charAt_0(this$static.fInputString, startPosition)) {
    case 97:
      return 'a';
    case 98:
      return 'b';
    case 99:
      return 'c';
    case 100:
      return 'd';
    case 101:
      return 'e';
    case 102:
      return 'f';
    case 103:
      return 'g';
    case 104:
      return 'h';
    case 105:
      return 'i';
    case 106:
      return 'j';
    case 107:
      return 'k';
    case 108:
      return 'l';
    case 109:
      return 'm';
    case 110:
      return 'n';
    case 111:
      return 'o';
    case 112:
      return 'p';
    case 113:
      return 'q';
    case 114:
      return 'r';
    case 115:
      return 's';
    case 116:
      return 't';
    case 117:
      return 'u';
    case 118:
      return 'v';
    case 119:
      return 'w';
    case 120:
      return 'x';
    case 121:
      return 'y';
    case 122:
      return 'z';
    default:return $substring_0(this$static.fInputString, startPosition, endPosition);
  }
}

function $optimizedCurrentTokenSource2(this$static, startPosition, endPosition){
  switch ($charAt_0(this$static.fInputString, startPosition + 1)) {
    case 97:
      return '$a';
    case 98:
      return '$b';
    case 99:
      return '$c';
    case 100:
      return '$d';
    case 101:
      return '$e';
    case 102:
      return '$f';
    case 103:
      return '$g';
    case 104:
      return '$h';
    case 105:
      return '$i';
    case 106:
      return '$j';
    case 107:
      return '$k';
    case 108:
      return '$l';
    case 109:
      return '$m';
    case 110:
      return '$n';
    case 111:
      return '$o';
    case 112:
      return '$p';
    case 113:
      return '$q';
    case 114:
      return '$r';
    case 115:
      return '$s';
    case 116:
      return '$t';
    case 117:
      return '$u';
    case 118:
      return '$v';
    case 119:
      return '$w';
    case 120:
      return '$x';
    case 121:
      return '$y';
    case 122:
      return '$z';
    default:return $substring_0(this$static.fInputString, startPosition, endPosition);
  }
}

function $throwSyntaxError(this$static, error){
  throw new SyntaxError_0(this$static.rowCount, this$static.fCurrentPosition - this$static.fCurrentColumnStartPosition, $getErrorLine(this$static), error);
}

function $throwSyntaxError_0(this$static, error){
  throw new SyntaxError_0(this$static.rowCount, this$static.fCurrentPosition - this$static.fCurrentColumnStartPosition, $getErrorLine(this$static), error);
}

defineClass(1049, 1, {});
_.fCurrentChar = 0;
_.fCurrentColumnStartPosition = 0;
_.fCurrentPosition = 0;
_.fToken = 0;
_.numFormat = 0;
_.rowCount = 0;
var Lorg_matheclipse_parser_client_Scanner_2_classLit = createForClass('org.matheclipse.parser.client', 'Scanner', 1049, Ljava_lang_Object_2_classLit);
function $determineBinaryOperator(this$static){
  var i, oper;
  for (i = 0; i < this$static.fOperList.size_1(); i++) {
    oper = dynamicCast(this$static.fOperList.get_0(i), 107);
    if (instanceOf(oper, 48)) {
      return dynamicCast(oper, 48);
    }
  }
  return null;
}

function $determinePostfixOperator(this$static){
  var i, oper;
  for (i = 0; i < this$static.fOperList.size_1(); i++) {
    oper = dynamicCast(this$static.fOperList.get_0(i), 107);
    if (instanceOf(oper, 202)) {
      return dynamicCast(oper, 202);
    }
  }
  return null;
}

function $determinePrefixOperator(this$static){
  var i, oper;
  for (i = 0; i < this$static.fOperList.size_1(); i++) {
    oper = dynamicCast(this$static.fOperList.get_0(i), 107);
    if (instanceOf(oper, 187)) {
      return dynamicCast(oper, 187);
    }
  }
  return null;
}

function $getArguments(this$static, function_$){
  do {
    $add_25(function_$, $parseOperators(this$static, $parsePrimary(this$static), 0));
    if (this$static.fToken != 134) {
      break;
    }
    $getNextToken(this$static);
  }
   while (true);
}

function $getFactor(this$static){
  var check, countPercent, out, slot, slotSequencce, symbol, temp, ident;
  if (this$static.fToken == 138) {
    symbol = $getSymbol(this$static);
    if (this$static.fToken == 137) {
      $getNextToken(this$static);
      if (this$static.fToken == 138) {
        check = $getSymbol(this$static);
        return new PatternNode(symbol, check);
      }
       else {
        return new PatternNode(symbol, null);
      }
    }
    return symbol;
  }
  if (this$static.fToken == 137) {
    $getNextToken(this$static);
    if (this$static.fToken == 138) {
      check = $getSymbol(this$static);
      return new PatternNode(null, check);
    }
     else {
      return new PatternNode(null, null);
    }
  }
  if (this$static.fToken == 139) {
    return $getNumber(this$static);
  }
  if (this$static.fToken == 14) {
    $getNextToken(this$static);
    temp = $parseOperators(this$static, $parsePrimary(this$static), 0);
    this$static.fToken != 15 && $throwSyntaxError(this$static, "')' expected.");
    $getNextToken(this$static);
    return temp;
  }
  if (this$static.fToken == 16) {
    return $getList(this$static);
  }
  if (this$static.fToken == 136) {
    return ident = $getStringBuffer(this$static) , $getNextToken(this$static) , new StringNode(ident.string);
  }
  if (this$static.fToken == 135) {
    out = new FunctionNode(new SymbolNode('Out'));
    countPercent = 1;
    $getNextToken(this$static);
    if (this$static.fToken == 139) {
      countPercent = $getIntegerNumber(this$static);
      $add_25(out, new IntegerNode(countPercent));
      return out;
    }
    while (this$static.fToken == 135) {
      ++countPercent;
      $getNextToken(this$static);
    }
    $add_25(out, new IntegerNode(-countPercent));
    return out;
  }
  if (this$static.fToken == 141) {
    $getNextToken(this$static);
    slot = new FunctionNode(new SymbolNode('Slot'));
    this$static.fToken == 139?$add_25(slot, $getNumber(this$static)):$add_25(slot, new IntegerNode(1));
    return slot;
  }
  if (this$static.fToken == 142) {
    $getNextToken(this$static);
    slotSequencce = new FunctionNode(new SymbolNode('SlotSequence'));
    this$static.fToken == 139?$add_25(slotSequencce, $getNumber(this$static)):$add_25(slotSequencce, new IntegerNode(1));
    return slotSequencce;
  }
  switch (this$static.fToken) {
    case 15:
      $throwSyntaxError(this$static, 'Too much open ) in factor.');
      break;
    case 17:
      $throwSyntaxError(this$static, 'Too much open } in factor.');
      break;
    case 13:
      $throwSyntaxError(this$static, 'Too much open ] in factor.');
  }
  $throwSyntaxError(this$static, "Error in factor at character: '" + charToString(this$static.fCurrentChar) + "' (" + this$static.fToken + ')');
  return null;
}

function $getFunction(this$static, head){
  var function_$;
  function_$ = new FunctionNode(head);
  $getNextToken(this$static);
  if (this$static.fRelaxedSyntax) {
    if (this$static.fToken == 15) {
      $getNextToken(this$static);
      if (this$static.fToken == 14) {
        return $getFunction(this$static, function_$);
      }
      return function_$;
    }
  }
   else {
    if (this$static.fToken == 13) {
      $getNextToken(this$static);
      if (this$static.fToken == 12) {
        return $getFunction(this$static, function_$);
      }
      return function_$;
    }
  }
  $getArguments(this$static, function_$);
  if (this$static.fRelaxedSyntax) {
    if (this$static.fToken == 15) {
      $getNextToken(this$static);
      if (this$static.fToken == 14) {
        return $getFunction(this$static, function_$);
      }
      return function_$;
    }
  }
   else {
    if (this$static.fToken == 13) {
      $getNextToken(this$static);
      if (this$static.fToken == 12) {
        return $getFunction(this$static, function_$);
      }
      return function_$;
    }
  }
  $throwSyntaxError(this$static, "']' expected.");
  return null;
}

function $getIntegerNumber(this$static){
  var intValue, numFormat, number, result;
  result = $getNumberString(this$static);
  number = dynamicCastToString(result[0]);
  numFormat = dynamicCast(result[1], 160).value_0;
  intValue = 0;
  try {
    intValue = __parseAndValidateInt(number, numFormat);
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 105)) {
      $throwSyntaxError_0(this$static, 'Number format error (not an int type): ' + number, number.length);
    }
     else 
      throw unwrap($e0);
  }
  $getNextToken(this$static);
  return intValue;
}

function $getList(this$static){
  var function_$;
  function_$ = new FunctionNode(new SymbolNode('List'));
  $getNextToken(this$static);
  if (this$static.fToken == 17) {
    $getNextToken(this$static);
    return function_$;
  }
  $getArguments(this$static, function_$);
  if (this$static.fToken == 17) {
    $getNextToken(this$static);
    return function_$;
  }
  $throwSyntaxError(this$static, "')' expected.");
  return null;
}

function $getNumber(this$static){
  var numFormat, number, result, temp;
  temp = null;
  result = $getNumberString(this$static);
  number = dynamicCastToString(result[0]);
  numFormat = dynamicCast(result[1], 160).value_0;
  try {
    numFormat < 0?(temp = new FloatNode(number)):(temp = new IntegerNode_0(number));
  }
   catch ($e0) {
    $e0 = wrap($e0);
    if (instanceOf($e0, 40)) {
      $throwSyntaxError_0(this$static, 'Number format error: ' + number, number.length);
    }
     else 
      throw unwrap($e0);
  }
  $getNextToken(this$static);
  return temp;
}

function $getPart(this$static){
  var function_$, temp;
  temp = $getFactor(this$static);
  temp = $parseArguments(this$static, temp);
  if (this$static.fRelaxedSyntax) {
    if (this$static.fToken != 12) {
      return temp;
    }
  }
   else {
    if (this$static.fToken != 18) {
      return temp;
    }
  }
  function_$ = null;
  do {
    if (!function_$) {
      function_$ = new FunctionNode(new SymbolNode('Part'));
      function_$.fNodesList.add_0(temp);
    }
     else {
      function_$ = new FunctionNode_0(new SymbolNode('Part'), function_$);
    }
    $getNextToken(this$static);
    this$static.fRelaxedSyntax?this$static.fToken == 13 && $throwSyntaxError(this$static, 'Statement (i.e. index) expected in [ ].'):this$static.fToken == 13 && $throwSyntaxError(this$static, 'Statement (i.e. index) expected in [[ ]].');
    $add_25(function_$, $parseOperators(this$static, $parsePrimary(this$static), 0));
    if (this$static.fRelaxedSyntax)
    ;
    else {
      if (this$static.fToken == 13) {
        if (this$static.fInputString.length > this$static.fCurrentPosition) {
          if ($charAt_0(this$static.fInputString, this$static.fCurrentPosition) == 93) {
            ++this$static.fCurrentPosition;
            this$static.fToken = 19;
          }
        }
      }
    }
    this$static.fRelaxedSyntax?this$static.fToken != 13 && $throwSyntaxError(this$static, "']' expected."):this$static.fToken != 19 && $throwSyntaxError(this$static, "']]' expected.");
    $getNextToken(this$static);
  }
   while (this$static.fToken == 18);
  return function_$;
}

function $getSymbol(this$static){
  var identifier, symbol;
  identifier = $getIdentifier(this$static);
  symbol = new SymbolNode(identifier);
  $getNextToken(this$static);
  return symbol;
}

function $parse_4(this$static, expression){
  var temp;
  $initializeNullScanner(this$static);
  this$static.fInputString = expression;
  expression != null && $getNextToken(this$static);
  temp = $parseOperators(this$static, $parsePrimary(this$static), 0);
  if (this$static.fToken != 0) {
    this$static.fToken == 15 && $throwSyntaxError(this$static, "Too many closing ')'; End-of-file not reached.");
    this$static.fToken == 17 && $throwSyntaxError(this$static, "Too many closing '}'; End-of-file not reached.");
    this$static.fToken == 13 && $throwSyntaxError(this$static, "Too many closing ']'; End-of-file not reached.");
    $throwSyntaxError(this$static, 'End-of-file not reached.');
  }
  return temp;
}

function $parseArguments(this$static, lhs){
  this$static.fRelaxedSyntax?this$static.fToken == 14 && (lhs = $getFunction(this$static, lhs)):this$static.fToken == 12 && (lhs = $getFunction(this$static, lhs));
  return lhs;
}

function $parseLookaheadOperator(this$static, min_precedence){
  var infixOperator, lookahead, postfixOperator, rhs, timesOperator;
  rhs = $parsePrimary(this$static);
  while (true) {
    lookahead = this$static.fToken;
    if (this$static.fToken == 16 || this$static.fToken == 14 || this$static.fToken == 138 || this$static.fToken == 136 || this$static.fToken == 139) {
      timesOperator = dynamicCast(dynamicCast(($clinit_ASTNodeFactory() , fOperatorMap).get_2('Times'), 107), 48);
      if (timesOperator.fPrecedence > min_precedence) {
        rhs = $parseOperators(this$static, rhs, timesOperator.fPrecedence);
        continue;
      }
       else if (timesOperator.fPrecedence == min_precedence && timesOperator.fGrouping == 1) {
        rhs = $parseOperators(this$static, rhs, timesOperator.fPrecedence);
        continue;
      }
    }
     else {
      if (lookahead != 31) {
        break;
      }
      infixOperator = $determineBinaryOperator(this$static);
      if (infixOperator) {
        if (infixOperator.fPrecedence > min_precedence) {
          rhs = $parseOperators(this$static, rhs, infixOperator.fPrecedence);
          continue;
        }
         else if (infixOperator.fPrecedence == min_precedence && infixOperator.fGrouping == 1) {
          rhs = $parseOperators(this$static, rhs, infixOperator.fPrecedence);
          continue;
        }
      }
       else {
        postfixOperator = $determinePostfixOperator(this$static);
        if (postfixOperator) {
          if (postfixOperator.fPrecedence > min_precedence) {
            $getNextToken(this$static);
            rhs = new FunctionNode_0(new SymbolNode(postfixOperator.fFunctionName), rhs);
            continue;
          }
        }
      }
    }
    break;
  }
  return rhs;
}

function $parseOperators(this$static, lhs, min_precedence){
  var infixOperator, oper, postfixOperator, rhs;
  while (true) {
    if (this$static.fToken == 16 || this$static.fToken == 14 || this$static.fToken == 138 || this$static.fToken == 136 || this$static.fToken == 139) {
      oper = dynamicCast(($clinit_ASTNodeFactory() , fOperatorMap).get_2('Times'), 107);
      if (oper.fPrecedence >= min_precedence) {
        rhs = $parseLookaheadOperator(this$static, oper.fPrecedence);
        lhs = new FunctionNode_1(new SymbolNode(oper.fFunctionName), lhs, rhs);
        lhs = $parseArguments(this$static, lhs);
        continue;
      }
    }
     else {
      if (this$static.fToken != 31) {
        break;
      }
      infixOperator = $determineBinaryOperator(this$static);
      if (infixOperator) {
        if (infixOperator.fPrecedence >= min_precedence) {
          $getNextToken(this$static);
          rhs = $parseLookaheadOperator(this$static, infixOperator.fPrecedence);
          lhs = infixOperator.createFunction(this$static.fFactory, lhs, rhs);
          lhs = $parseArguments(this$static, lhs);
          continue;
        }
      }
       else {
        postfixOperator = $determinePostfixOperator(this$static);
        if (postfixOperator) {
          $getNextToken(this$static);
          lhs = new FunctionNode_0(new SymbolNode(postfixOperator.fFunctionName), lhs);
          lhs = $parseArguments(this$static, lhs);
          continue;
        }
        $throwSyntaxError(this$static, 'Operator: ' + this$static.fOperatorString + ' is no infix or postfix operator.');
      }
    }
    break;
  }
  return lhs;
}

function $parsePrimary(this$static){
  var prefixOperator, temp;
  if (this$static.fToken == 31) {
    prefixOperator = $determinePrefixOperator(this$static);
    if (prefixOperator) {
      $getNextToken(this$static);
      temp = $parseLookaheadOperator(this$static, prefixOperator.fPrecedence);
      if ($equals_5(prefixOperator.fFunctionName, 'PreMinus')) {
        if (instanceOf(temp, 127)) {
          $toggleSign(dynamicCast(temp, 127));
          return temp;
        }
      }
      return prefixOperator.createFunction_0(this$static.fFactory, temp);
    }
    $throwSyntaxError(this$static, 'Operator: ' + this$static.fOperatorString + ' is no prefix operator.');
  }
  return $getPart(this$static);
}

function Parser(){
  Parser_0.call(this, ($clinit_ASTNodeFactory() , MMA_STYLE_FACTORY));
}

function Parser_0(factory){
  $initializeNullScanner(this);
  this.fRelaxedSyntax = false;
  this.fFactory = factory;
}

defineClass(468, 1049, {}, Parser);
_.fRelaxedSyntax = false;
var Lorg_matheclipse_parser_client_Parser_2_classLit = createForClass('org.matheclipse.parser.client', 'Parser', 468, Lorg_matheclipse_parser_client_Scanner_2_classLit);
defineClass(1050, 52, $intern_7);
var Lorg_matheclipse_parser_client_math_MathException_2_classLit = createForClass('org.matheclipse.parser.client.math', 'MathException', 1050, Ljava_lang_RuntimeException_2_classLit);
function SyntaxError_0(rowIndx, columnIndx, currentLine, error){
  RuntimeException.call(this);
  this.fRowIndex = rowIndx;
  this.fColumnIndex = columnIndx;
  this.fCurrentLine = currentLine;
  this.fError = error;
}

defineClass(469, 1050, $intern_7, SyntaxError_0);
_.getMessage = function getMessage_1(){
  var buf, i;
  buf = new StringBuffer_0;
  buf.string += 'Syntax error in line: ';
  $append_1(buf, this.fRowIndex + 1);
  $append_2(buf, ' - ' + this.fError + '\n');
  $append_2(buf, this.fCurrentLine + '\n');
  for (i = 0; i < this.fColumnIndex - 1; i++) {
    buf.string += ' ';
  }
  buf.string += '^';
  return buf.string;
}
;
_.fColumnIndex = 0;
_.fRowIndex = 0;
var Lorg_matheclipse_parser_client_SyntaxError_2_classLit = createForClass('org.matheclipse.parser.client', 'SyntaxError', 469, Lorg_matheclipse_parser_client_math_MathException_2_classLit);
function $equals_7(this$static, obj){
  if (instanceOf(obj, 39)) {
    return $equals_5(this$static.fStringValue, dynamicCast(obj, 39).fStringValue);
  }
  return false;
}

function ASTNode(value_0){
  this.fStringValue = value_0;
}

defineClass(39, 1, {39:1});
_.equals$ = function equals_53(obj){
  return $equals_7(this, obj);
}
;
_.hashCode$ = function hashCode_53(){
  return getHashCode_1(this.fStringValue);
}
;
_.toString$ = function toString_89(){
  return this.fStringValue;
}
;
var Lorg_matheclipse_parser_client_ast_ASTNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'ASTNode', 39, Ljava_lang_Object_2_classLit);
function $hashCode(this$static){
  if (this$static.sign) {
    return getHashCode_1(this$static.fStringValue) * 17;
  }
  return getHashCode_1(this$static.fStringValue);
}

function $toggleSign(this$static){
  this$static.sign = !this$static.sign;
}

function NumberNode(value_0){
  ASTNode.call(this, value_0);
  this.sign = false;
}

defineClass(127, 39, {39:1, 127:1});
_.doubleValue = function doubleValue_0(){
  return __parseAndValidateDouble(this.toString$());
}
;
_.hashCode$ = function hashCode_54(){
  return $hashCode(this);
}
;
_.toString$ = function toString_90(){
  if (this.sign) {
    return '-' + this.fStringValue;
  }
  return this.fStringValue;
}
;
_.sign = false;
var Lorg_matheclipse_parser_client_ast_NumberNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'NumberNode', 127, Lorg_matheclipse_parser_client_ast_ASTNode_2_classLit);
function FloatNode(value_0){
  NumberNode.call(this, value_0);
}

defineClass(314, 127, {39:1, 314:1, 127:1}, FloatNode);
_.equals$ = function equals_54(obj){
  if (instanceOf(obj, 314)) {
    return $equals_5(this.fStringValue, dynamicCast(obj, 314).fStringValue) && this.sign == dynamicCast(obj, 314).sign;
  }
  return false;
}
;
var Lorg_matheclipse_parser_client_ast_FloatNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'FloatNode', 314, Lorg_matheclipse_parser_client_ast_NumberNode_2_classLit);
function FractionNode(numerator, denominator){
  NumberNode.call(this, null);
  this.fNumerator = numerator;
  this.fDenominator = denominator;
}

defineClass(248, 127, {39:1, 248:1, 127:1}, FractionNode);
_.doubleValue = function doubleValue_1(){
  var denom, numer;
  numer = __parseAndValidateDouble($toString_19(this.fNumerator));
  denom = __parseAndValidateDouble($toString_19(this.fDenominator));
  if (this.sign) {
    return -numer / denom;
  }
  return numer / denom;
}
;
_.equals$ = function equals_55(obj){
  if (instanceOf(obj, 248)) {
    return $equals_8(this.fNumerator, dynamicCast(obj, 248).fNumerator) && $equals_8(this.fDenominator, dynamicCast(obj, 248).fDenominator) && this.sign == dynamicCast(obj, 248).sign;
  }
  return false;
}
;
_.hashCode$ = function hashCode_55(){
  if (this.sign) {
    return $hashCode_0(this.fNumerator) + $hashCode_0(this.fDenominator) * 17;
  }
  return $hashCode_0(this.fNumerator) + $hashCode_0(this.fDenominator);
}
;
_.toString$ = function toString_91(){
  var buff;
  buff = new StringBuffer;
  this.sign && (buff.string += '-' , buff);
  !!this.fNumerator && $append_2(buff, $toString_19(this.fNumerator));
  buff.string += '/';
  !!this.fDenominator && $append_2(buff, $toString_19(this.fDenominator));
  return buff.string;
}
;
var Lorg_matheclipse_parser_client_ast_FractionNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'FractionNode', 248, Lorg_matheclipse_parser_client_ast_NumberNode_2_classLit);
function $add_25(this$static, e){
  return this$static.fNodesList.add_0(e);
}

function $set_3(this$static, index_0, element){
  return dynamicCast($set(this$static.fNodesList, index_0, element), 39);
}

function $toString_18(this$static){
  var buf, i, temp;
  temp = dynamicCast($get(this$static.fNodesList, 0), 39);
  buf = new StringBuffer;
  !temp?(buf.string += '<null-tag>' , buf):$append_2(buf, temp.toString$());
  buf.string += '[';
  for (i = 1; i < this$static.fNodesList.array.length; i++) {
    temp = dynamicCast($get(this$static.fNodesList, i), 39);
    buf.string += temp == this$static?'(this ListNode)':'' + temp;
    i < this$static.fNodesList.array.length - 1 && (buf.string += ', ' , buf);
  }
  buf.string += ']';
  return buf.string;
}

function FunctionNode(head){
  ASTNode.call(this, null);
  this.fNodesList = new ArrayList_0(5);
  this.fNodesList.add_0(head);
}

function FunctionNode_0(head, arg0){
  ASTNode.call(this, null);
  this.fNodesList = new ArrayList_0(3);
  this.fNodesList.add_0(head);
  this.fNodesList.add_0(arg0);
}

function FunctionNode_1(head, arg0, arg1){
  ASTNode.call(this, null);
  this.fNodesList = new ArrayList_0(3);
  this.fNodesList.add_0(head);
  this.fNodesList.add_0(arg0);
  this.fNodesList.add_0(arg1);
}

defineClass(72, 39, {25:1, 38:1, 39:1, 72:1}, FunctionNode, FunctionNode_0, FunctionNode_1);
_.add_0 = function add_36(e){
  return $add_25(this, dynamicCast(e, 39));
}
;
_.addAll = function addAll_9(c){
  return this.fNodesList.addAll(c);
}
;
_.clear_1 = function clear_42(){
  this.fNodesList.array = initDim(Ljava_lang_Object_2_classLit, $intern_1, 1, 0, 3, 1);
}
;
_.contains_0 = function contains_35(o){
  return $indexOf_0(this.fNodesList, o, 0) != -1;
}
;
_.containsAll = function containsAll_10(c){
  return $containsAll(this.fNodesList, c);
}
;
_.equals$ = function equals_56(o){
  if (instanceOf(o, 72)) {
    return $equals(this.fNodesList, dynamicCast(o, 72).fNodesList);
  }
  return false;
}
;
_.get_0 = function get_27(index_0){
  return dynamicCast($get(this.fNodesList, index_0), 39);
}
;
_.hashCode$ = function hashCode_56(){
  return this.fNodesList.hashCode$();
}
;
_.isEmpty_0 = function isEmpty_19(){
  return this.fNodesList.array.length == 0;
}
;
_.iterator = function iterator_48(){
  return new AbstractList$IteratorImpl(this.fNodesList);
}
;
_.listIterator = function listIterator_11(){
  return new AbstractList$ListIteratorImpl(this.fNodesList, 0);
}
;
_.listIterator_0 = function listIterator_12(index_0){
  return new AbstractList$ListIteratorImpl(this.fNodesList, index_0);
}
;
_.remove = function remove_75(o){
  return $remove_0(this.fNodesList, o);
}
;
_.retainAll = function retainAll_9(c){
  return $retainAll(this.fNodesList, c);
}
;
_.size_1 = function size_40(){
  return this.fNodesList.array.length;
}
;
_.toArray = function toArray_24(){
  return $toArray_0(this.fNodesList);
}
;
_.toArray_0 = function toArray_25(a){
  return $toArray_1(this.fNodesList, a);
}
;
_.toString$ = function toString_92(){
  return $toString_18(this);
}
;
var Lorg_matheclipse_parser_client_ast_FunctionNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'FunctionNode', 72, Lorg_matheclipse_parser_client_ast_ASTNode_2_classLit);
function $clinit_IntegerNode(){
  $clinit_IntegerNode = emptyMethod;
  C1 = new IntegerNode_0('1');
}

function $equals_8(this$static, obj){
  if (instanceOf(obj, 128)) {
    if (this$static.fStringValue == null) {
      return $equals_5($toString_19(this$static), toString__Ljava_lang_String___devirtual$(obj));
    }
    return $equals_5(this$static.fStringValue, dynamicCast(obj, 127).fStringValue) && this$static.sign == dynamicCast(obj, 127).sign;
  }
  return false;
}

function $hashCode_0(this$static){
  if (this$static.fStringValue == null) {
    return getHashCode_1($toString_19(this$static));
  }
  return $hashCode(this$static);
}

function $toString_19(this$static){
  if (this$static.fStringValue == null) {
    if (this$static.sign) {
      return '' + -this$static.fIntValue;
    }
    return '' + this$static.fIntValue;
  }
  if (this$static.sign) {
    return '-' + this$static.fStringValue;
  }
  return this$static.fStringValue;
}

function IntegerNode(intValue){
  $clinit_IntegerNode();
  NumberNode.call(this, null);
  this.fIntValue = intValue;
}

function IntegerNode_0(value_0){
  $clinit_IntegerNode();
  NumberNode.call(this, value_0);
  this.fIntValue = 0;
}

defineClass(128, 127, {39:1, 128:1, 127:1}, IntegerNode, IntegerNode_0);
_.equals$ = function equals_57(obj){
  return $equals_8(this, obj);
}
;
_.hashCode$ = function hashCode_57(){
  return $hashCode_0(this);
}
;
_.toString$ = function toString_93(){
  return $toString_19(this);
}
;
_.fIntValue = 0;
var C1;
var Lorg_matheclipse_parser_client_ast_IntegerNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'IntegerNode', 128, Lorg_matheclipse_parser_client_ast_NumberNode_2_classLit);
function PatternNode(symbol, constraint){
  ASTNode.call(this, null);
  this.fSymbol = symbol;
  this.fConstraint = constraint;
}

defineClass(249, 39, {39:1, 249:1}, PatternNode);
_.equals$ = function equals_58(obj){
  var pn;
  if (instanceOf(obj, 249)) {
    pn = dynamicCast(obj, 249);
    if (this.fSymbol == pn.fSymbol) {
      if (!this.fConstraint || !pn.fConstraint) {
        return this.fConstraint == pn.fConstraint;
      }
      return $equals_7(this.fConstraint, pn.fConstraint);
    }
     else {
      if (!this.fSymbol || !pn.fSymbol) {
        return false;
      }
      if ($equals_7(this.fSymbol, pn.fSymbol)) {
        if (!this.fConstraint || !pn.fConstraint) {
          return this.fConstraint == pn.fConstraint;
        }
        return $equals_7(this.fConstraint, pn.fConstraint);
      }
    }
  }
  return false;
}
;
_.hashCode$ = function hashCode_58(){
  !!this.fSymbol && getHashCode_1(this.fSymbol.fStringValue);
  return 0;
}
;
_.toString$ = function toString_94(){
  var buff;
  buff = new StringBuffer;
  !!this.fSymbol && $append_2(buff, this.fSymbol.fStringValue);
  buff.string += '_';
  !!this.fConstraint && $append_2(buff, this.fConstraint.fStringValue);
  return buff.string;
}
;
var Lorg_matheclipse_parser_client_ast_PatternNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'PatternNode', 249, Lorg_matheclipse_parser_client_ast_ASTNode_2_classLit);
function StringNode(value_0){
  ASTNode.call(this, value_0);
}

defineClass(1280, 39, {39:1}, StringNode);
var Lorg_matheclipse_parser_client_ast_StringNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'StringNode', 1280, Lorg_matheclipse_parser_client_ast_ASTNode_2_classLit);
function SymbolNode(value_0){
  ASTNode.call(this, value_0);
}

defineClass(79, 39, {39:1, 79:1}, SymbolNode);
var Lorg_matheclipse_parser_client_ast_SymbolNode_2_classLit = createForClass('org.matheclipse.parser.client.ast', 'SymbolNode', 79, Lorg_matheclipse_parser_client_ast_ASTNode_2_classLit);
function $clinit_DoubleEvaluator(){
  $clinit_DoubleEvaluator = emptyMethod;
  SYMBOL_DOUBLE_MAP = new HashMap;
  SYMBOL_DOUBLE_MAP.put('Degree', new Double($intern_20));
  SYMBOL_DOUBLE_MAP.put('E', new Double(2.718281828459045));
  SYMBOL_DOUBLE_MAP.put('Pi', new Double($intern_73));
  SYMBOL_BOOLEAN_MAP = new HashMap;
  SYMBOL_BOOLEAN_MAP.put('False', ($clinit_Boolean() , FALSE_2));
  SYMBOL_BOOLEAN_MAP.put('True', TRUE_3);
  FUNCTION_BOOLEAN_MAP = new HashMap;
  FUNCTION_BOOLEAN_MAP.put('And', new DoubleEvaluator$1);
  FUNCTION_BOOLEAN_MAP.put('Not', new DoubleEvaluator$2);
  FUNCTION_BOOLEAN_MAP.put('Or', new DoubleEvaluator$3);
  FUNCTION_BOOLEAN_MAP.put('Equal', new DoubleEvaluator$4);
  FUNCTION_BOOLEAN_MAP.put('Greater', new DoubleEvaluator$5);
  FUNCTION_BOOLEAN_MAP.put('GreaterEqual', new DoubleEvaluator$6);
  FUNCTION_BOOLEAN_MAP.put('Less', new DoubleEvaluator$7);
  FUNCTION_BOOLEAN_MAP.put('LessEqual', new DoubleEvaluator$8);
  FUNCTION_BOOLEAN_MAP.put('Unequal', new DoubleEvaluator$9);
  FUNCTION_DOUBLE_MAP = new HashMap;
  FUNCTION_DOUBLE_MAP.put('ArcTan', new DoubleEvaluator$ArcTanFunction);
  FUNCTION_DOUBLE_MAP.put('CompoundExpression', new DoubleEvaluator$CompoundExpressionFunction);
  FUNCTION_DOUBLE_MAP.put('Set', new DoubleEvaluator$SetFunction);
  FUNCTION_DOUBLE_MAP.put('Log', new DoubleEvaluator$LogFunction);
  FUNCTION_DOUBLE_MAP.put('Max', new DoubleEvaluator$MaxFunction);
  FUNCTION_DOUBLE_MAP.put('Min', new DoubleEvaluator$MinFunction);
  FUNCTION_DOUBLE_MAP.put('Plus', new DoubleEvaluator$PlusFunction);
  FUNCTION_DOUBLE_MAP.put('Times', new DoubleEvaluator$TimesFunction);
  FUNCTION_DOUBLE_MAP.put('Random', new DoubleEvaluator$10);
  FUNCTION_DOUBLE_MAP.put('ArcCos', new DoubleEvaluator$11);
  FUNCTION_DOUBLE_MAP.put('ArcSin', new DoubleEvaluator$12);
  FUNCTION_DOUBLE_MAP.put('Ceil', new DoubleEvaluator$13);
  FUNCTION_DOUBLE_MAP.put('Cos', new DoubleEvaluator$14);
  FUNCTION_DOUBLE_MAP.put('Cosh', new DoubleEvaluator$15);
  FUNCTION_DOUBLE_MAP.put('Exp', new DoubleEvaluator$16);
  FUNCTION_DOUBLE_MAP.put('Floor', new DoubleEvaluator$17);
  FUNCTION_DOUBLE_MAP.put('Round', new DoubleEvaluator$18);
  FUNCTION_DOUBLE_MAP.put('Sign', new DoubleEvaluator$19);
  FUNCTION_DOUBLE_MAP.put('Sin', new DoubleEvaluator$20);
  FUNCTION_DOUBLE_MAP.put('Sinh', new DoubleEvaluator$21);
  FUNCTION_DOUBLE_MAP.put('Sqrt', new DoubleEvaluator$22);
  FUNCTION_DOUBLE_MAP.put('Tan', new DoubleEvaluator$23);
  FUNCTION_DOUBLE_MAP.put('Tanh', new DoubleEvaluator$24);
  FUNCTION_DOUBLE_MAP.put('Power', new DoubleEvaluator$25);
}

function $evaluateFunction(this$static, functionNode){
  var obj, symbol;
  if (functionNode.fNodesList.array.length > 0 && instanceOf(dynamicCast($get(functionNode.fNodesList, 0), 39), 79)) {
    symbol = dynamicCast($get(functionNode.fNodesList, 0), 39).toString$();
    if ($equals_5(symbol, 'If')) {
      if (functionNode.fNodesList.array.length == 3) {
        if ($evaluateNodeLogical(this$static, dynamicCast($get(functionNode.fNodesList, 1), 39))) {
          return $evaluateNode(this$static, dynamicCast($get(functionNode.fNodesList, 2), 39));
        }
      }
       else if (functionNode.fNodesList.array.length == 4) {
        return $evaluateNodeLogical(this$static, dynamicCast($get(functionNode.fNodesList, 1), 39))?$evaluateNode(this$static, dynamicCast($get(functionNode.fNodesList, 2), 39)):$evaluateNode(this$static, dynamicCast($get(functionNode.fNodesList, 3), 39));
      }
    }
     else {
      obj = FUNCTION_DOUBLE_MAP.get_2(symbol);
      if (instanceOf(obj, 276)) {
        return dynamicCast(obj, 276).evaluate_3(this$static, functionNode);
      }
      if (functionNode.fNodesList.array.length == 1) {
        if (instanceOf(obj, 1461)) {
          return dynamicCast(obj, 1461) , random();
        }
      }
       else if (functionNode.fNodesList.array.length == 2) {
        if (instanceOf(obj, 133)) {
          return dynamicCast(obj, 133).evaluate_0($evaluateNode(this$static, dynamicCast($get(functionNode.fNodesList, 1), 39)));
        }
      }
       else if (functionNode.fNodesList.array.length == 3) {
        if (instanceOf(obj, 253)) {
          return dynamicCast(obj, 253).evaluate_1($evaluateNode(this$static, dynamicCast($get(functionNode.fNodesList, 1), 39)), $evaluateNode(this$static, dynamicCast($get(functionNode.fNodesList, 2), 39)));
        }
      }
    }
  }
  throw new ArithmeticException('EvalDouble#evaluateFunction(FunctionNode) not possible for: ' + $toString_18(functionNode));
}

function $evaluateFunctionLogical(this$static, functionNode){
  var obj, symbol;
  if (functionNode.fNodesList.array.length > 0 && instanceOf(dynamicCast($get(functionNode.fNodesList, 0), 39), 79)) {
    symbol = dynamicCast($get(functionNode.fNodesList, 0), 39).toString$();
    if (functionNode.fNodesList.array.length == 2) {
      obj = FUNCTION_BOOLEAN_MAP.get_2(symbol);
      if (instanceOf(obj, 1462)) {
        return dynamicCast(obj, 1462) , !$evaluateNodeLogical(this$static, dynamicCast($get(functionNode.fNodesList, 1), 39));
      }
    }
     else if (functionNode.fNodesList.array.length == 3) {
      obj = FUNCTION_BOOLEAN_MAP.get_2(symbol);
      if (instanceOf(obj, 277)) {
        return dynamicCast(obj, 277).evaluate_2($evaluateNode(this$static, dynamicCast($get(functionNode.fNodesList, 1), 39)), $evaluateNode(this$static, dynamicCast($get(functionNode.fNodesList, 2), 39)));
      }
       else if (instanceOf(obj, 523)) {
        return dynamicCast(obj, 523).evaluate($evaluateNodeLogical(this$static, dynamicCast($get(functionNode.fNodesList, 1), 39)), $evaluateNodeLogical(this$static, dynamicCast($get(functionNode.fNodesList, 2), 39)));
      }
    }
  }
  throw new ArithmeticException('EvalDouble#evaluateFunctionLogical(FunctionNode) not possible for: ' + $toString_18(functionNode));
}

function $evaluateNode(this$static, node){
  var dbl, v;
  if (instanceOf(node, 200)) {
    return dynamicCast(node, 200).value_0;
  }
  if (instanceOf(node, 72)) {
    return $evaluateFunction(this$static, dynamicCast(node, 72));
  }
  if (instanceOf(node, 79)) {
    v = dynamicCast(this$static.fVariableMap.get_2(node.toString$()), 1460);
    if (v) {
      return v.value_0;
    }
    dbl = dynamicCast(SYMBOL_DOUBLE_MAP.get_2(node.toString$()), 62);
    if (dbl) {
      return dbl.value_0;
    }
  }
   else if (instanceOf(node, 127)) {
    return dynamicCast(node, 127).doubleValue();
  }
  throw new ArithmeticException('EvalDouble#evaluate(ASTNode) not possible for: ' + node.toString$());
}

function $evaluateNodeLogical(this$static, node){
  var boole;
  if (instanceOf(node, 72)) {
    return $evaluateFunctionLogical(this$static, dynamicCast(node, 72));
  }
  if (instanceOf(node, 79)) {
    throwClassCastExceptionUnlessNull(this$static.fBooleanVariables.get_2(node.toString$()));
    boole = dynamicCast(SYMBOL_BOOLEAN_MAP.get_2(node.toString$()), 111);
    if (boole) {
      return boole.value_0;
    }
  }
  throw new ArithmeticException('EvalDouble#evaluateNodeLogical(ASTNode) not possible for: ' + node.toString$());
}

function $optimizeFunction(this$static, functionNode){
  var dbl, doubleOnly, i, node, optNode;
  if (functionNode.fNodesList.array.length > 0) {
    doubleOnly = true;
    for (i = 1; i < functionNode.fNodesList.array.length; i++) {
      node = dynamicCast($get(functionNode.fNodesList, i), 39);
      if (instanceOf(node, 127)) {
        $set_3(functionNode, i, new DoubleNode(dynamicCast(dynamicCast($get(functionNode.fNodesList, i), 39), 127).doubleValue()));
      }
       else if (instanceOf(dynamicCast($get(functionNode.fNodesList, i), 39), 72)) {
        optNode = $optimizeFunction(this$static, dynamicCast(dynamicCast($get(functionNode.fNodesList, i), 39), 72));
        instanceOf(optNode, 200) || (doubleOnly = false);
        dynamicCast($set(functionNode.fNodesList, i, optNode), 39);
      }
       else if (instanceOf(node, 79)) {
        dbl = dynamicCast(SYMBOL_DOUBLE_MAP.get_2(node.toString$()), 62);
        dbl?$set_3(functionNode, i, new DoubleNode(dbl.value_0)):(doubleOnly = false);
      }
       else {
        doubleOnly = false;
      }
    }
    if (doubleOnly) {
      try {
        return new DoubleNode($evaluateFunction(this$static, functionNode));
      }
       catch ($e0) {
        $e0 = wrap($e0);
        if (!instanceOf($e0, 37))
          throw unwrap($e0);
      }
    }
  }
  return functionNode;
}

function DoubleEvaluator(){
  $clinit_DoubleEvaluator();
  this.fVariableMap = new HashMap;
  this.fBooleanVariables = new HashMap;
  this.fNode = null;
}

defineClass(462, 1, {}, DoubleEvaluator);
var EPSILON = 1.0E-15, FUNCTION_BOOLEAN_MAP, FUNCTION_DOUBLE_MAP, SYMBOL_BOOLEAN_MAP, SYMBOL_DOUBLE_MAP;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator', 462, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$1(){
}

defineClass(999, 1, {523:1}, DoubleEvaluator$1);
_.evaluate = function evaluate(arg1, arg2){
  return arg1 && arg2;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$1_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/1', 999, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$10(){
}

defineClass(1008, 1, {1461:1}, DoubleEvaluator$10);
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$10_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/10', 1008, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$11(){
}

defineClass(1009, 1, $intern_136, DoubleEvaluator$11);
_.evaluate_0 = function evaluate_0(arg1){
  return Math.acos(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$11_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/11', 1009, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$12(){
}

defineClass(1010, 1, $intern_136, DoubleEvaluator$12);
_.evaluate_0 = function evaluate_1(arg1){
  return Math.asin(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$12_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/12', 1010, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$13(){
}

defineClass(1011, 1, $intern_136, DoubleEvaluator$13);
_.evaluate_0 = function evaluate_2(arg1){
  return ceil_0(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$13_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/13', 1011, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$14(){
}

defineClass(1012, 1, $intern_136, DoubleEvaluator$14);
_.evaluate_0 = function evaluate_3(arg1){
  return cos_0(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$14_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/14', 1012, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$15(){
}

defineClass(1013, 1, $intern_136, DoubleEvaluator$15);
_.evaluate_0 = function evaluate_4(arg1){
  return (Math.exp(arg1) + Math.exp(-arg1)) / 2;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$15_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/15', 1013, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$16(){
}

defineClass(1014, 1, $intern_136, DoubleEvaluator$16);
_.evaluate_0 = function evaluate_5(arg1){
  return Math.exp(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$16_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/16', 1014, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$17(){
}

defineClass(1015, 1, $intern_136, DoubleEvaluator$17);
_.evaluate_0 = function evaluate_6(arg1){
  return floor_0(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$17_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/17', 1015, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$18(){
}

defineClass(1016, 1, $intern_136, DoubleEvaluator$18);
_.evaluate_0 = function evaluate_7(arg1){
  return toDouble(fromDouble(round0(arg1)));
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$18_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/18', 1016, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$19(){
}

defineClass(1017, 1, $intern_136, DoubleEvaluator$19);
_.evaluate_0 = function evaluate_8(arg1){
  return arg1 > 0?1:arg1 < 0?-1:0;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$19_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/19', 1017, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$2(){
}

defineClass($intern_10, 1, {1462:1}, DoubleEvaluator$2);
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$2_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/2', $intern_10, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$20(){
}

defineClass(1018, 1, $intern_136, DoubleEvaluator$20);
_.evaluate_0 = function evaluate_9(arg1){
  return sin_0(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$20_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/20', 1018, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$21(){
}

defineClass(1019, 1, $intern_136, DoubleEvaluator$21);
_.evaluate_0 = function evaluate_10(arg1){
  return (Math.exp(arg1) - Math.exp(-arg1)) / 2;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$21_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/21', 1019, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$22(){
}

defineClass(1020, 1, $intern_136, DoubleEvaluator$22);
_.evaluate_0 = function evaluate_11(arg1){
  return sqrt_0(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$22_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/22', 1020, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$23(){
}

defineClass(1021, 1, $intern_136, DoubleEvaluator$23);
_.evaluate_0 = function evaluate_12(arg1){
  return Math.tan(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$23_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/23', 1021, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$24(){
}

defineClass(1022, 1, $intern_136, DoubleEvaluator$24);
_.evaluate_0 = function evaluate_13(arg1){
  return tanh(arg1);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$24_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/24', 1022, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$25(){
}

defineClass(1023, 1, {253:1}, DoubleEvaluator$25);
_.evaluate_1 = function evaluate_14(arg1, arg2){
  return pow_0(arg1, arg2);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$25_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/25', 1023, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$3(){
}

defineClass(1001, 1, {523:1}, DoubleEvaluator$3);
_.evaluate = function evaluate_15(arg1, arg2){
  return arg1 || arg2;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$3_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/3', 1001, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$4(){
}

defineClass(1002, 1, $intern_137, DoubleEvaluator$4);
_.evaluate_2 = function evaluate_16(arg1, arg2){
  return (arg1 - arg2 <= 0?0 - (arg1 - arg2):arg1 - arg2) < ($clinit_DoubleEvaluator() , EPSILON);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$4_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/4', 1002, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$5(){
}

defineClass(1003, 1, $intern_137, DoubleEvaluator$5);
_.evaluate_2 = function evaluate_17(arg1, arg2){
  return arg1 > arg2;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$5_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/5', 1003, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$6(){
}

defineClass(1004, 1, $intern_137, DoubleEvaluator$6);
_.evaluate_2 = function evaluate_18(arg1, arg2){
  return arg1 >= arg2;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$6_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/6', 1004, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$7(){
}

defineClass(1005, 1, $intern_137, DoubleEvaluator$7);
_.evaluate_2 = function evaluate_19(arg1, arg2){
  return arg1 < arg2;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$7_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/7', 1005, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$8(){
}

defineClass(1006, 1, $intern_137, DoubleEvaluator$8);
_.evaluate_2 = function evaluate_20(arg1, arg2){
  return arg1 <= arg2;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$8_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/8', 1006, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$9(){
}

defineClass(1007, 1, $intern_137, DoubleEvaluator$9);
_.evaluate_2 = function evaluate_21(arg1, arg2){
  return (arg1 - arg2 <= 0?0 - (arg1 - arg2):arg1 - arg2) >= ($clinit_DoubleEvaluator() , EPSILON);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$9_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/9', 1007, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$ArcTanFunction(){
}

defineClass(991, 1, $intern_138, DoubleEvaluator$ArcTanFunction);
_.evaluate_0 = function evaluate_22(arg1){
  return Math.atan(arg1);
}
;
_.evaluate_1 = function evaluate_23(arg1, arg2){
  return atan2_0(arg1, arg2);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$ArcTanFunction_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/ArcTanFunction', 991, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$CompoundExpressionFunction(){
}

defineClass(993, 1, {276:1}, DoubleEvaluator$CompoundExpressionFunction);
_.evaluate_3 = function evaluate_24(engine, function_$){
  var end, i, result;
  result = NaN;
  end = function_$.fNodesList.array.length;
  for (i = 1; i < end; i++) {
    result = $evaluateNode(engine, dynamicCast($get(function_$.fNodesList, i), 39));
  }
  return result;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$CompoundExpressionFunction_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/CompoundExpressionFunction', 993, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$LogFunction(){
}

defineClass(992, 1, $intern_138, DoubleEvaluator$LogFunction);
_.evaluate_0 = function evaluate_25(arg1){
  return log_5(arg1);
}
;
_.evaluate_1 = function evaluate_26(base, z_0){
  return log_5(z_0) / log_5(base);
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$LogFunction_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/LogFunction', 992, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$MaxFunction(){
}

defineClass(995, 1, $intern_139, DoubleEvaluator$MaxFunction);
_.evaluate_1 = function evaluate_27(arg1, arg2){
  return arg1 > arg2?arg1:arg2;
}
;
_.evaluate_3 = function evaluate_28(engine, function_$){
  var end, i, result, temp;
  result = 4.9E-324;
  end = function_$.fNodesList.array.length;
  for (i = 1; i < end; i++) {
    temp = max_0(result, $evaluateNode(engine, dynamicCast($get(function_$.fNodesList, i), 39)));
    temp > result && (result = temp);
  }
  return result;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$MaxFunction_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/MaxFunction', 995, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$MinFunction(){
}

defineClass(996, 1, $intern_139, DoubleEvaluator$MinFunction);
_.evaluate_1 = function evaluate_29(arg1, arg2){
  return arg1 < arg2?arg1:arg2;
}
;
_.evaluate_3 = function evaluate_30(engine, function_$){
  var end, i, result, temp;
  result = 1.7976931348623157E308;
  end = function_$.fNodesList.array.length;
  for (i = 1; i < end; i++) {
    temp = min_0(result, $evaluateNode(engine, dynamicCast($get(function_$.fNodesList, i), 39)));
    temp < result && (result = temp);
  }
  return result;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$MinFunction_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/MinFunction', 996, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$PlusFunction(){
}

defineClass(997, 1, $intern_139, DoubleEvaluator$PlusFunction);
_.evaluate_1 = function evaluate_31(arg1, arg2){
  return arg1 + arg2;
}
;
_.evaluate_3 = function evaluate_32(engine, function_$){
  var i, result;
  result = 0;
  for (i = 1; i < function_$.fNodesList.array.length; i++) {
    result += $evaluateNode(engine, dynamicCast($get(function_$.fNodesList, i), 39));
  }
  return result;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$PlusFunction_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/PlusFunction', 997, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$SetFunction(){
}

defineClass(994, 1, {276:1}, DoubleEvaluator$SetFunction);
_.evaluate_3 = function evaluate_33(engine, function_$){
  var dv, result, variableName;
  if (function_$.fNodesList.array.length != 3) {
    throw new ArithmeticException('SetFunction#evaluate(DoubleEvaluator,FunctionNode) needs 2 arguments: ' + $toString_18(function_$));
  }
  if (!instanceOf(dynamicCast($get(function_$.fNodesList, 1), 39), 79)) {
    throw new ArithmeticException('SetFunction#evaluate(DoubleEvaluator,FunctionNode) symbol required on the left hand side: ' + $toString_18(function_$));
  }
  variableName = dynamicCast(dynamicCast($get(function_$.fNodesList, 1), 39), 79).fStringValue;
  result = $evaluateNode(engine, dynamicCast($get(function_$.fNodesList, 2), 39));
  dv = dynamicCast(engine.fVariableMap.get_2(variableName), 1460);
  !dv?(dv = new DoubleVariable(result)):(dv.value_0 = result);
  engine.fVariableMap.put(variableName, dv);
  return result;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$SetFunction_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/SetFunction', 994, Ljava_lang_Object_2_classLit);
function DoubleEvaluator$TimesFunction(){
}

defineClass(998, 1, $intern_139, DoubleEvaluator$TimesFunction);
_.evaluate_1 = function evaluate_34(arg1, arg2){
  return arg1 * arg2;
}
;
_.evaluate_3 = function evaluate_35(engine, function_$){
  var i, result;
  result = 1;
  for (i = 1; i < function_$.fNodesList.array.length; i++) {
    result *= $evaluateNode(engine, dynamicCast($get(function_$.fNodesList, i), 39));
  }
  return result;
}
;
var Lorg_matheclipse_parser_client_eval_DoubleEvaluator$TimesFunction_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleEvaluator/TimesFunction', 998, Ljava_lang_Object_2_classLit);
function DoubleNode(value_0){
  ASTNode.call(this, 'DoubleNode');
  this.value_0 = value_0;
}

defineClass(200, 39, {39:1, 200:1}, DoubleNode);
_.equals$ = function equals_59(obj){
  if (instanceOf(obj, 200)) {
    return this.value_0 == dynamicCast(obj, 200).value_0;
  }
  return false;
}
;
_.hashCode$ = function hashCode_59(){
  return round_int((new Double(this.value_0)).value_0);
}
;
_.toString$ = function toString_95(){
  return '' + this.value_0;
}
;
_.value_0 = 0;
var Lorg_matheclipse_parser_client_eval_DoubleNode_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleNode', 200, Lorg_matheclipse_parser_client_ast_ASTNode_2_classLit);
function DoubleVariable(v){
  this.value_0 = v;
}

defineClass(1222, 1, {1460:1}, DoubleVariable);
_.value_0 = 0;
var Lorg_matheclipse_parser_client_eval_DoubleVariable_2_classLit = createForClass('org.matheclipse.parser.client.eval', 'DoubleVariable', 1222, Ljava_lang_Object_2_classLit);
function $clinit_ASTNodeFactory(){
  $clinit_ASTNodeFactory = emptyMethod;
  var i;
  HEADER_STRINGS = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, ['MapAll', 'TimesBy', 'Plus', 'UpSet', 'CompoundExpression', 'Map', 'Unset', 'Apply', 'ReplaceRepeated', 'Less', 'And', 'Divide', 'Set', 'Increment', 'Factorial2', 'LessEqual', 'NonCommutativeMultiply', 'Factorial', 'Times', 'Power', 'Dot', 'Not', 'PreMinus', 'SameQ', 'RuleDelayed', 'GreaterEqual', 'Condition', 'Colon', 'DivideBy', 'Or', 'Equal', 'StringJoin', 'Unequal', 'Decrement', 'SubtractFrom', 'PrePlus', 'UnsameQ', 'Rule', 'UpSetDelayed', 'PreIncrement', 'Function', 'Greater', 'PreDecrement', 'Subtract', 'SetDelayed', 'Alternatives', 'AddTo', 'ReplaceAll']);
  OPERATOR_STRINGS = initValues(getClassLiteralForArray(Ljava_lang_String_2_classLit, 1), $intern_11, 2, 4, ['//@', '*=', '+', '^=', ';', '/@', '=.', '@@', '//.', '<', '&&', '/', '=', '++', '!!', '<=', '**', '!', '*', '^', '.', '!', '-', '===', ':>', '>=', '/;', ':', '/=', '||', '==', '<>', '!=', '--', '-=', '+', '=!=', '->', '^;=', '++', '&', '>', '--', '-', ':=', '|', '+=', '/.']);
  OPERATORS = initValues(getClassLiteralForArray(Lorg_matheclipse_parser_client_operator_Operator_2_classLit, 1), $intern_1, 107, 0, [new InfixOperator('//@', 'MapAll', 6100, 1), new InfixOperator('*=', 'TimesBy', 900, 0), new InfixOperator('+', 'Plus', 2900, 0), new InfixOperator('^=', 'UpSet', 300, 0), new InfixOperator(';', 'CompoundExpression', 100, 0), new InfixOperator('/@', 'Map', 6100, 1), new PostfixOperator('=.', 'Unset', 300), new InfixOperator('@@', 'Apply', 6100, 1), new InfixOperator('//.', 'ReplaceRepeated', $intern_10, 2), new InfixOperator('<', 'Less', 2600, 0), new InfixOperator('&&', 'And', 2000, 0), new DivideOperator, new InfixOperator('=', 'Set', 300, 1), new PostfixOperator('++', 'Increment', 6400), new PostfixOperator('!!', 'Factorial2', 6000), new InfixOperator('<=', 'LessEqual', 2600, 0), new InfixOperator('**', 'NonCommutativeMultiply', $intern_36, 0), new PostfixOperator('!', 'Factorial', 6000), new InfixOperator('*', 'Times', 3800, 0), new InfixOperator('^', 'Power', 5700, 1), new InfixOperator('.', 'Dot', 4700, 0), new PrefixOperator('!', 'Not', 2100), new PreMinusOperator, new InfixOperator('===', 'SameQ', 2400, 0), new InfixOperator(':>', 'RuleDelayed', 1100, 1), new InfixOperator('>=', 'GreaterEqual', 2600, 0), new InfixOperator('/;', 'Condition', 1200, 2), new InfixOperator(':', 'Colon', 700, 0), new InfixOperator('/=', 'DivideBy', 900, 0), new InfixOperator('||', 'Or', 1900, 0), new InfixOperator('==', 'Equal', 2600, 0), new InfixOperator('<>', 'StringJoin', 5800, 0), new InfixOperator('!=', 'Unequal', 2600, 0), new PostfixOperator('--', 'Decrement', 6400), new InfixOperator('-=', 'SubtractFrom', 900, 0), new PrePlusOperator, new InfixOperator('=!=', 'UnsameQ', 2400, 0), new InfixOperator('->', 'Rule', 1100, 1), new InfixOperator('^;=', 'UpSetDelayed', 300, 0), new PrefixOperator('++', 'PreIncrement', 6400), new PostfixOperator('&', 'Function', 800), new InfixOperator('>', 'Greater', 2600, 0), new PrefixOperator('--', 'PreDecrement', 6400), new SubtractOperator, new InfixOperator(':=', 'SetDelayed', 300, 0), new InfixOperator('|', 'Alternatives', 1400, 0), new InfixOperator('+=', 'AddTo', 900, 0), new InfixOperator('/.', 'ReplaceAll', $intern_10, 2)]);
  MMA_STYLE_FACTORY = new ASTNodeFactory;
  fOperatorMap = new HashMap;
  fOperatorTokenStartSet = new HashMap;
  for (i = 0; i < HEADER_STRINGS.length; i++) {
    addOperator(fOperatorMap, fOperatorTokenStartSet, OPERATOR_STRINGS[i], HEADER_STRINGS[i], OPERATORS[i]);
  }
}

function $getOperatorList(key){
  return dynamicCast(fOperatorTokenStartSet.get_2(key), 38);
}

function ASTNodeFactory(){
}

function addOperator(operatorMap, operatorTokenStartSet, operatorStr, headStr, oper){
  var list;
  operatorMap.put(headStr, oper);
  list = dynamicCast(operatorTokenStartSet.get_2(operatorStr), 18);
  if (!list) {
    list = new ArrayList_0(2);
    list.add_0(oper);
    operatorTokenStartSet.put(operatorStr, list);
  }
   else {
    list.add_0(oper);
  }
}

defineClass(1137, 1, {}, ASTNodeFactory);
var HEADER_STRINGS, MMA_STYLE_FACTORY, OPERATORS, OPERATOR_STRINGS, fOperatorMap, fOperatorTokenStartSet;
var Lorg_matheclipse_parser_client_operator_ASTNodeFactory_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'ASTNodeFactory', 1137, Ljava_lang_Object_2_classLit);
function Operator(oper, functionName, precedence){
  this.fOperatorString = oper;
  this.fFunctionName = functionName;
  this.fPrecedence = precedence;
}

defineClass(107, 1, {107:1});
_.equals$ = function equals_60(obj){
  if (instanceOf(obj, 107)) {
    return $equals_5(this.fFunctionName, dynamicCast(obj, 107).fFunctionName);
  }
  return false;
}
;
_.hashCode$ = function hashCode_60(){
  return getHashCode_1(this.fFunctionName);
}
;
_.toString$ = function toString_96(){
  return '[' + this.fFunctionName + ',' + this.fOperatorString + ',' + this.fPrecedence + ']';
}
;
_.fPrecedence = 0;
var Lorg_matheclipse_parser_client_operator_Operator_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'Operator', 107, Ljava_lang_Object_2_classLit);
function InfixOperator(oper, functionName, precedence, grouping){
  Operator.call(this, oper, functionName, precedence);
  this.fGrouping = grouping;
}

defineClass(48, 107, $intern_140, InfixOperator);
_.createFunction = function createFunction(factory, lhs, rhs){
  return new FunctionNode_1(new SymbolNode(this.fFunctionName), lhs, rhs);
}
;
_.fGrouping = 0;
var Lorg_matheclipse_parser_client_operator_InfixOperator_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'InfixOperator', 48, Lorg_matheclipse_parser_client_operator_Operator_2_classLit);
function DivideOperator(){
  InfixOperator.call(this, '/', 'Divide', 4500, 2);
}

defineClass(1161, 48, $intern_140, DivideOperator);
_.createFunction = function createFunction_0(factory, lhs, rhs){
  if (instanceOf(rhs, 128)) {
    if (instanceOf(lhs, 128)) {
      return new FractionNode(dynamicCast(lhs, 128), dynamicCast(rhs, 128));
    }
    return new FunctionNode_1(new SymbolNode('Times'), lhs, new FractionNode(($clinit_IntegerNode() , C1), dynamicCast(rhs, 128)));
  }
  return new FunctionNode_1(new SymbolNode('Times'), lhs, new FunctionNode_1(new SymbolNode('Power'), rhs, new IntegerNode(-1)));
}
;
var Lorg_matheclipse_parser_client_operator_DivideOperator_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'DivideOperator', 1161, Lorg_matheclipse_parser_client_operator_InfixOperator_2_classLit);
function PostfixOperator(oper, functionName, precedence){
  Operator.call(this, oper, functionName, precedence);
}

defineClass(202, 107, {107:1, 202:1}, PostfixOperator);
var Lorg_matheclipse_parser_client_operator_PostfixOperator_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'PostfixOperator', 202, Lorg_matheclipse_parser_client_operator_Operator_2_classLit);
function PrefixOperator(oper, functionName, precedence){
  Operator.call(this, oper, functionName, precedence);
}

defineClass(187, 107, $intern_141, PrefixOperator);
_.createFunction_0 = function createFunction_1(factory, argument){
  return new FunctionNode_0(new SymbolNode(this.fFunctionName), argument);
}
;
var Lorg_matheclipse_parser_client_operator_PrefixOperator_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'PrefixOperator', 187, Lorg_matheclipse_parser_client_operator_Operator_2_classLit);
function PreMinusOperator(){
  PrefixOperator.call(this, '-', 'PreMinus', 4600);
}

defineClass(1162, 187, $intern_141, PreMinusOperator);
_.createFunction_0 = function createFunction_2(factory, argument){
  return new FunctionNode_1(new SymbolNode('Times'), new IntegerNode(-1), argument);
}
;
var Lorg_matheclipse_parser_client_operator_PreMinusOperator_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'PreMinusOperator', 1162, Lorg_matheclipse_parser_client_operator_PrefixOperator_2_classLit);
function PrePlusOperator(){
  PrefixOperator.call(this, '+', 'PrePlus', 4600);
}

defineClass(1163, 187, $intern_141, PrePlusOperator);
_.createFunction_0 = function createFunction_3(factory, argument){
  return argument;
}
;
var Lorg_matheclipse_parser_client_operator_PrePlusOperator_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'PrePlusOperator', 1163, Lorg_matheclipse_parser_client_operator_PrefixOperator_2_classLit);
function SubtractOperator(){
  InfixOperator.call(this, '-', 'Subtract', 2900, 2);
}

defineClass(1164, 48, $intern_140, SubtractOperator);
_.createFunction = function createFunction_4(factory, lhs, rhs){
  return new FunctionNode_1(new SymbolNode('Plus'), lhs, new FunctionNode_1(new SymbolNode('Times'), new IntegerNode(-1), rhs));
}
;
var Lorg_matheclipse_parser_client_operator_SubtractOperator_2_classLit = createForClass('org.matheclipse.parser.client.operator', 'SubtractOperator', 1164, Lorg_matheclipse_parser_client_operator_InfixOperator_2_classLit);
var I_classLit = createForPrimitive('int', 'I'), Z_classLit = createForPrimitive('boolean', 'Z'), Lcom_google_gwt_lang_CollapsedPropertyHolder_2_classLit = createForClass('com.google.gwt.lang', 'CollapsedPropertyHolder', 1468, Ljava_lang_Object_2_classLit), Lcom_google_gwt_lang_JavaClassHierarchySetupUtil_2_classLit = createForClass('com.google.gwt.lang', 'JavaClassHierarchySetupUtil', 1470, Ljava_lang_Object_2_classLit), Lcom_google_gwt_lang_LongLibBase$LongEmul_2_classLit = createForClass('com.google.gwt.lang', 'LongLibBase/LongEmul', null, Ljava_lang_Object_2_classLit), Lcom_google_gwt_lang_ModuleUtils_2_classLit = createForClass('com.google.gwt.lang', 'ModuleUtils', 1473, Ljava_lang_Object_2_classLit), B_classLit = createForPrimitive('byte', 'B'), J_classLit = createForPrimitive('long', 'J'), S_classLit = createForPrimitive('short', 'S'), C_classLit = createForPrimitive('char', 'C'), Lcom_lostagain_Jam_SceneObjects_SceneObjectState$sString_2_classLit = createForClass('com.lostagain.Jam.SceneObjects', 'SceneObjectState/sString', null, Ljava_lang_Object_2_classLit), Ljava_util_Map$Entry_2_classLit = createForInterface('java.util', 'Map/Entry'), Lcom_lostagain_JamGwt_JargScene_SceneTextObject_2_classLit = createForClass('com.lostagain.JamGwt.JargScene', 'SceneTextObject', null, Lcom_lostagain_JamGwt_JargScene_SceneDialogObject_2_classLit);
var $entry = registerEntry();
var gwtOnLoad = gwtOnLoad = gwtOnLoad_0;
addInitFunctions(init);
setGwtProperty('permProps', [[['locale', 'default'], ['user.agent', 'safari']]]);
$sendStats('moduleStartup', 'moduleEvalEnd');
gwtOnLoad(__gwtModuleFunction.__errFn, __gwtModuleFunction.__moduleName, __gwtModuleFunction.__moduleBase, __gwtModuleFunction.__softPermutationId,__gwtModuleFunction.__computePropValue);
$sendStats('moduleStartup', 'end');
$gwt && $gwt.permProps && __gwtModuleFunction.__moduleStartupDone($gwt.permProps);
//# sourceURL=GWTJam-0.js

